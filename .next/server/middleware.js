/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["middleware"],{

/***/ "(middleware)/./lib/auth0.js":
/*!**********************!*\
  !*** ./lib/auth0.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   auth0: () => (/* binding */ auth0)\n/* harmony export */ });\n/* harmony import */ var _auth0_nextjs_auth0_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @auth0/nextjs-auth0/server */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/index.js\");\n\n// Initialize the Auth0 client \nconst auth0 = new _auth0_nextjs_auth0_server__WEBPACK_IMPORTED_MODULE_0__.Auth0Client({});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbGliL2F1dGgwLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXlEO0FBRXpELCtCQUErQjtBQUN4QixNQUFNQyxRQUFRLElBQUlELG1FQUFXQSxDQUFDLENBQUMsR0FBRyIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXGxpYlxcYXV0aDAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXV0aDBDbGllbnQgfSBmcm9tIFwiQGF1dGgwL25leHRqcy1hdXRoMC9zZXJ2ZXJcIjtcclxuXHJcbi8vIEluaXRpYWxpemUgdGhlIEF1dGgwIGNsaWVudCBcclxuZXhwb3J0IGNvbnN0IGF1dGgwID0gbmV3IEF1dGgwQ2xpZW50KHt9KTtcclxuIl0sIm5hbWVzIjpbIkF1dGgwQ2xpZW50IiwiYXV0aDAiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./lib/auth0.js\n");

/***/ }),

/***/ "(middleware)/./middleware.ts":
/*!***********************!*\
  !*** ./middleware.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   middleware: () => (/* binding */ middleware)\n/* harmony export */ });\n/* harmony import */ var _lib_auth0__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/auth0 */ \"(middleware)/./lib/auth0.js\");\n\nasync function middleware(request) {\n    return await _lib_auth0__WEBPACK_IMPORTED_MODULE_0__.auth0.middleware(request);\n}\nconst config = {\n    matcher: [\n        /*\r\n     * Match all request paths except for the ones starting with:\r\n     * - _next/static (static files)\r\n     * - _next/image (image optimization files)\r\n     * - favicon.ico, sitemap.xml, robots.txt (metadata files)\r\n     */ \"/((?!_next/static|_next/image|favicon.ico|sitemap.xml|robots.txt).*)\"\n    ]\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbWlkZGxld2FyZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFDb0M7QUFFN0IsZUFBZUMsV0FBV0MsT0FBb0I7SUFDbkQsT0FBTyxNQUFNRiw2Q0FBS0EsQ0FBQ0MsVUFBVSxDQUFDQztBQUNoQztBQUVPLE1BQU1DLFNBQVM7SUFDcEJDLFNBQVM7UUFDUDs7Ozs7S0FLQyxHQUNEO0tBQ0Q7QUFDSCxFQUFFIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbWlkZGxld2FyZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IE5leHRSZXF1ZXN0IH0gZnJvbSBcIm5leHQvc2VydmVyXCI7XHJcbmltcG9ydCB7IGF1dGgwIH0gZnJvbSBcIkAvbGliL2F1dGgwXCI7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbWlkZGxld2FyZShyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gIHJldHVybiBhd2FpdCBhdXRoMC5taWRkbGV3YXJlKHJlcXVlc3QpO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgY29uZmlnID0ge1xyXG4gIG1hdGNoZXI6IFtcclxuICAgIC8qXHJcbiAgICAgKiBNYXRjaCBhbGwgcmVxdWVzdCBwYXRocyBleGNlcHQgZm9yIHRoZSBvbmVzIHN0YXJ0aW5nIHdpdGg6XHJcbiAgICAgKiAtIF9uZXh0L3N0YXRpYyAoc3RhdGljIGZpbGVzKVxyXG4gICAgICogLSBfbmV4dC9pbWFnZSAoaW1hZ2Ugb3B0aW1pemF0aW9uIGZpbGVzKVxyXG4gICAgICogLSBmYXZpY29uLmljbywgc2l0ZW1hcC54bWwsIHJvYm90cy50eHQgKG1ldGFkYXRhIGZpbGVzKVxyXG4gICAgICovXHJcbiAgICBcIi8oKD8hX25leHQvc3RhdGljfF9uZXh0L2ltYWdlfGZhdmljb24uaWNvfHNpdGVtYXAueG1sfHJvYm90cy50eHQpLiopXCIsXHJcbiAgXSxcclxufTsiXSwibmFtZXMiOlsiYXV0aDAiLCJtaWRkbGV3YXJlIiwicmVxdWVzdCIsImNvbmZpZyIsIm1hdGNoZXIiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./middleware.ts\n");

/***/ }),

/***/ "(middleware)/./node_modules/@auth0/nextjs-auth0/dist/errors/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/@auth0/nextjs-auth0/dist/errors/index.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AccessTokenError: () => (/* binding */ AccessTokenError),\n/* harmony export */   AccessTokenErrorCode: () => (/* binding */ AccessTokenErrorCode),\n/* harmony export */   AccessTokenForConnectionError: () => (/* binding */ AccessTokenForConnectionError),\n/* harmony export */   AccessTokenForConnectionErrorCode: () => (/* binding */ AccessTokenForConnectionErrorCode),\n/* harmony export */   AuthorizationCodeGrantError: () => (/* binding */ AuthorizationCodeGrantError),\n/* harmony export */   AuthorizationCodeGrantRequestError: () => (/* binding */ AuthorizationCodeGrantRequestError),\n/* harmony export */   AuthorizationError: () => (/* binding */ AuthorizationError),\n/* harmony export */   BackchannelAuthenticationError: () => (/* binding */ BackchannelAuthenticationError),\n/* harmony export */   BackchannelAuthenticationNotSupportedError: () => (/* binding */ BackchannelAuthenticationNotSupportedError),\n/* harmony export */   BackchannelLogoutError: () => (/* binding */ BackchannelLogoutError),\n/* harmony export */   ConnectAccountError: () => (/* binding */ ConnectAccountError),\n/* harmony export */   ConnectAccountErrorCodes: () => (/* binding */ ConnectAccountErrorCodes),\n/* harmony export */   DPoPError: () => (/* binding */ DPoPError),\n/* harmony export */   DPoPErrorCode: () => (/* binding */ DPoPErrorCode),\n/* harmony export */   DiscoveryError: () => (/* binding */ DiscoveryError),\n/* harmony export */   InvalidConfigurationError: () => (/* binding */ InvalidConfigurationError),\n/* harmony export */   InvalidStateError: () => (/* binding */ InvalidStateError),\n/* harmony export */   MissingStateError: () => (/* binding */ MissingStateError),\n/* harmony export */   MyAccountApiError: () => (/* binding */ MyAccountApiError),\n/* harmony export */   OAuth2Error: () => (/* binding */ OAuth2Error),\n/* harmony export */   SdkError: () => (/* binding */ SdkError)\n/* harmony export */ });\nclass SdkError extends Error {\n}\n/**\n * Errors that come from Auth0 in the `redirect_uri` callback may contain reflected user input via the OpenID Connect `error` and `error_description` query parameter.\n * You should **not** render the error `message`, or `error` and `error_description` properties without properly escaping them first.\n */\nclass OAuth2Error extends SdkError {\n    constructor({ code, message }) {\n        super(message ??\n            \"An error occurred while interacting with the authorization server.\");\n        this.name = \"OAuth2Error\";\n        this.code = code;\n    }\n}\nclass DiscoveryError extends SdkError {\n    constructor(message) {\n        super(message ?? \"Discovery failed for the OpenID Connect configuration.\");\n        this.code = \"discovery_error\";\n        this.name = \"DiscoveryError\";\n    }\n}\nclass MissingStateError extends SdkError {\n    constructor(message) {\n        super(message ?? \"The state parameter is missing.\");\n        this.code = \"missing_state\";\n        this.name = \"MissingStateError\";\n    }\n}\nclass InvalidStateError extends SdkError {\n    constructor(message) {\n        super(message ?? \"The state parameter is invalid.\");\n        this.code = \"invalid_state\";\n        this.name = \"InvalidStateError\";\n    }\n}\nclass InvalidConfigurationError extends SdkError {\n    constructor(message) {\n        super(message ?? \"The configuration is invalid.\");\n        this.code = \"invalid_configuration\";\n        this.name = \"InvalidConfigurationError\";\n    }\n}\nclass AuthorizationError extends SdkError {\n    constructor({ cause, message }) {\n        super(message ?? \"An error occurred during the authorization flow.\");\n        this.code = \"authorization_error\";\n        this.cause = cause;\n        this.name = \"AuthorizationError\";\n    }\n}\nclass AuthorizationCodeGrantRequestError extends SdkError {\n    constructor(message) {\n        super(message ??\n            \"An error occurred while preparing or performing the authorization code grant request.\");\n        this.code = \"authorization_code_grant_request_error\";\n        this.name = \"AuthorizationCodeGrantRequestError\";\n    }\n}\nclass AuthorizationCodeGrantError extends SdkError {\n    constructor({ cause, message }) {\n        super(message ??\n            \"An error occurred while trying to exchange the authorization code.\");\n        this.code = \"authorization_code_grant_error\";\n        this.cause = cause;\n        this.name = \"AuthorizationCodeGrantError\";\n    }\n}\nclass BackchannelLogoutError extends SdkError {\n    constructor(message) {\n        super(message ??\n            \"An error occurred while completing the backchannel logout request.\");\n        this.code = \"backchannel_logout_error\";\n        this.name = \"BackchannelLogoutError\";\n    }\n}\nclass BackchannelAuthenticationNotSupportedError extends SdkError {\n    constructor() {\n        super(\"The authorization server does not support backchannel authentication. Learn how to enable it here: https://auth0.com/docs/get-started/applications/configure-client-initiated-backchannel-authentication\");\n        this.code = \"backchannel_authentication_not_supported_error\";\n        this.name = \"BackchannelAuthenticationNotSupportedError\";\n    }\n}\nclass BackchannelAuthenticationError extends SdkError {\n    constructor({ cause }) {\n        super(\"There was an error when trying to use Client-Initiated Backchannel Authentication.\");\n        this.code = \"backchannel_authentication_error\";\n        this.cause = cause;\n        this.name = \"BackchannelAuthenticationError\";\n    }\n}\nvar AccessTokenErrorCode;\n(function (AccessTokenErrorCode) {\n    AccessTokenErrorCode[\"MISSING_SESSION\"] = \"missing_session\";\n    AccessTokenErrorCode[\"MISSING_REFRESH_TOKEN\"] = \"missing_refresh_token\";\n    AccessTokenErrorCode[\"FAILED_TO_REFRESH_TOKEN\"] = \"failed_to_refresh_token\";\n})(AccessTokenErrorCode || (AccessTokenErrorCode = {}));\nclass AccessTokenError extends SdkError {\n    constructor(code, message, cause) {\n        super(message);\n        this.name = \"AccessTokenError\";\n        this.code = code;\n        this.cause = cause;\n    }\n}\n/**\n * Enum representing error codes related to access tokens for connections.\n */\nvar AccessTokenForConnectionErrorCode;\n(function (AccessTokenForConnectionErrorCode) {\n    /**\n     * The session is missing.\n     */\n    AccessTokenForConnectionErrorCode[\"MISSING_SESSION\"] = \"missing_session\";\n    /**\n     * The refresh token is missing.\n     */\n    AccessTokenForConnectionErrorCode[\"MISSING_REFRESH_TOKEN\"] = \"missing_refresh_token\";\n    /**\n     * Failed to exchange the refresh token.\n     */\n    AccessTokenForConnectionErrorCode[\"FAILED_TO_EXCHANGE\"] = \"failed_to_exchange_refresh_token\";\n})(AccessTokenForConnectionErrorCode || (AccessTokenForConnectionErrorCode = {}));\n/**\n * Error class representing an access token for connection error.\n * Extends the `SdkError` class.\n */\nclass AccessTokenForConnectionError extends SdkError {\n    /**\n     * Constructs a new `AccessTokenForConnectionError` instance.\n     *\n     * @param code - The error code.\n     * @param message - The error message.\n     * @param cause - The OAuth2 cause of the error.\n     */\n    constructor(code, message, cause) {\n        super(message);\n        this.name = \"AccessTokenForConnectionError\";\n        this.code = code;\n        this.cause = cause;\n    }\n}\n/**\n * Error codes for DPoP-related errors.\n *\n * These error codes categorize different types of failures that can occur\n * during DPoP (Demonstrating Proof-of-Possession) operations.\n */\nvar DPoPErrorCode;\n(function (DPoPErrorCode) {\n    /**\n     * Failed to calculate dpop_jkt (JWK thumbprint) parameter.\n     * This occurs when the SDK cannot generate the required thumbprint\n     * from the provided public key for the authorization request.\n     */\n    DPoPErrorCode[\"DPOP_JKT_CALCULATION_FAILED\"] = \"dpop_jkt_calculation_failed\";\n    /**\n     * Failed to export DPoP public key to JWK format.\n     * This occurs when the SDK cannot convert the CryptoKey to the\n     * JSON Web Key format required for DPoP proofs.\n     */\n    DPoPErrorCode[\"DPOP_KEY_EXPORT_FAILED\"] = \"dpop_key_export_failed\";\n    /**\n     * DPoP configuration is invalid or incomplete.\n     * This occurs when the provided DPoP configuration contains\n     * invalid values or missing required components.\n     */\n    DPoPErrorCode[\"DPOP_CONFIGURATION_ERROR\"] = \"dpop_configuration_error\";\n})(DPoPErrorCode || (DPoPErrorCode = {}));\n/**\n * Represents an error that occurred during DPoP (Demonstrating Proof-of-Possession) operations.\n *\n * DPoP is an OAuth 2.0 extension that provides application-level proof-of-possession security\n * by binding access tokens to cryptographic key pairs. This error is thrown when DPoP-related\n * operations fail, such as key pair operations, proof generation, or configuration issues.\n *\n * Common scenarios that trigger DPoPError:\n * - Invalid or incompatible key pairs (wrong algorithm, corrupted keys)\n * - JWK thumbprint calculation failures\n * - Public key export failures to JWK format\n * - Invalid DPoP configuration parameters\n *\n * @example Handling DPoP errors\n * ```typescript\n * try {\n *   const auth0 = new Auth0Client({\n *     useDPoP: true,\n *     dpopKeyPair: invalidKeyPair\n *   });\n * } catch (error) {\n *   if (error instanceof DPoPError) {\n *     console.error(`DPoP Error [${error.code}]:`, error.message);\n *\n *     switch (error.code) {\n *       case DPoPErrorCode.DPOP_KEY_EXPORT_FAILED:\n *         console.error(\"Key export failed. Check key format and algorithm.\");\n *         break;\n *       case DPoPErrorCode.DPOP_JKT_CALCULATION_FAILED:\n *         console.error(\"JWK thumbprint calculation failed. Verify key validity.\");\n *         break;\n *       case DPoPErrorCode.DPOP_CONFIGURATION_ERROR:\n *         console.error(\"Invalid DPoP configuration. Check options and environment variables.\");\n *         break;\n *     }\n *\n *     if (error.cause) {\n *       console.error(\"Underlying cause:\", error.cause);\n *     }\n *   }\n * }\n * ```\n *\n * @example Creating a DPoP error\n * ```typescript\n * throw new DPoPError(\n *   DPoPErrorCode.DPOP_JKT_CALCULATION_FAILED,\n *   \"Failed to calculate dpop_jkt parameter from public key\",\n *   originalError\n * );\n * ```\n *\n * @see {@link https://datatracker.ietf.org/doc/html/rfc9449 | RFC 9449: OAuth 2.0 Demonstrating Proof-of-Possession at the Application Layer (DPoP)}\n */\nclass DPoPError extends SdkError {\n    /**\n     * Constructs a new `DPoPError` instance.\n     *\n     * @param code - The DPoP error code indicating the specific type of failure\n     * @param message - A descriptive error message explaining what went wrong\n     * @param cause - The underlying error that caused this DPoP error (optional)\n     *\n     * @example\n     * ```typescript\n     * const dpopError = new DPoPError(\n     *   DPoPErrorCode.DPOP_KEY_EXPORT_FAILED,\n     *   \"Unable to export public key to JWK format\",\n     *   keyExportError\n     * );\n     * ```\n     */\n    constructor(code, message, cause) {\n        super(message);\n        this.name = \"DPoPError\";\n        this.code = code;\n        this.cause = cause;\n    }\n}\n/**\n * Error class representing a connect account request error.\n */\nclass MyAccountApiError extends SdkError {\n    constructor({ type, title, detail, status, validationErrors }) {\n        super(`${title}: ${detail}`);\n        this.name = \"MyAccountApiError\";\n        this.code = \"my_account_api_error\";\n        this.type = type;\n        this.title = title;\n        this.detail = detail;\n        this.status = status;\n        this.validationErrors = validationErrors;\n    }\n}\n/**\n * Enum representing error codes related to the connect account flow.\n */\nvar ConnectAccountErrorCodes;\n(function (ConnectAccountErrorCodes) {\n    /**\n     * The session is missing.\n     */\n    ConnectAccountErrorCodes[\"MISSING_SESSION\"] = \"missing_session\";\n    /**\n     * Failed to initiate the connect account flow.\n     */\n    ConnectAccountErrorCodes[\"FAILED_TO_INITIATE\"] = \"failed_to_initiate\";\n    /**\n     * Failed to complete the connect account flow.\n     */\n    ConnectAccountErrorCodes[\"FAILED_TO_COMPLETE\"] = \"failed_to_complete\";\n})(ConnectAccountErrorCodes || (ConnectAccountErrorCodes = {}));\n/**\n * Error class representing a connect account error.\n */\nclass ConnectAccountError extends SdkError {\n    constructor({ code, message, cause }) {\n        super(message);\n        this.name = \"ConnectAccountError\";\n        this.code = code;\n        this.cause = cause;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0BhdXRoMC9uZXh0anMtYXV0aDAvZGlzdC9lcnJvcnMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxrQkFBa0IsZUFBZTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1Asa0JBQWtCLGdCQUFnQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxrQkFBa0IsZ0JBQWdCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxrQkFBa0IsT0FBTztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxvREFBb0Q7QUFDOUM7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDhFQUE4RTtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHNDQUFzQztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixLQUFLO0FBQ0w7QUFDQSxvQ0FBb0MsV0FBVztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxrQkFBa0IsK0NBQStDO0FBQ2pFLGlCQUFpQixNQUFNLElBQUksT0FBTztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw0REFBNEQ7QUFDN0Q7QUFDQTtBQUNBO0FBQ087QUFDUCxrQkFBa0Isc0JBQXNCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcQGF1dGgwXFxuZXh0anMtYXV0aDBcXGRpc3RcXGVycm9yc1xcaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIFNka0Vycm9yIGV4dGVuZHMgRXJyb3Ige1xufVxuLyoqXG4gKiBFcnJvcnMgdGhhdCBjb21lIGZyb20gQXV0aDAgaW4gdGhlIGByZWRpcmVjdF91cmlgIGNhbGxiYWNrIG1heSBjb250YWluIHJlZmxlY3RlZCB1c2VyIGlucHV0IHZpYSB0aGUgT3BlbklEIENvbm5lY3QgYGVycm9yYCBhbmQgYGVycm9yX2Rlc2NyaXB0aW9uYCBxdWVyeSBwYXJhbWV0ZXIuXG4gKiBZb3Ugc2hvdWxkICoqbm90KiogcmVuZGVyIHRoZSBlcnJvciBgbWVzc2FnZWAsIG9yIGBlcnJvcmAgYW5kIGBlcnJvcl9kZXNjcmlwdGlvbmAgcHJvcGVydGllcyB3aXRob3V0IHByb3Blcmx5IGVzY2FwaW5nIHRoZW0gZmlyc3QuXG4gKi9cbmV4cG9ydCBjbGFzcyBPQXV0aDJFcnJvciBleHRlbmRzIFNka0Vycm9yIHtcbiAgICBjb25zdHJ1Y3Rvcih7IGNvZGUsIG1lc3NhZ2UgfSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlID8/XG4gICAgICAgICAgICBcIkFuIGVycm9yIG9jY3VycmVkIHdoaWxlIGludGVyYWN0aW5nIHdpdGggdGhlIGF1dGhvcml6YXRpb24gc2VydmVyLlwiKTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJPQXV0aDJFcnJvclwiO1xuICAgICAgICB0aGlzLmNvZGUgPSBjb2RlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBEaXNjb3ZlcnlFcnJvciBleHRlbmRzIFNka0Vycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UgPz8gXCJEaXNjb3ZlcnkgZmFpbGVkIGZvciB0aGUgT3BlbklEIENvbm5lY3QgY29uZmlndXJhdGlvbi5cIik7XG4gICAgICAgIHRoaXMuY29kZSA9IFwiZGlzY292ZXJ5X2Vycm9yXCI7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiRGlzY292ZXJ5RXJyb3JcIjtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgTWlzc2luZ1N0YXRlRXJyb3IgZXh0ZW5kcyBTZGtFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlID8/IFwiVGhlIHN0YXRlIHBhcmFtZXRlciBpcyBtaXNzaW5nLlwiKTtcbiAgICAgICAgdGhpcy5jb2RlID0gXCJtaXNzaW5nX3N0YXRlXCI7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiTWlzc2luZ1N0YXRlRXJyb3JcIjtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZFN0YXRlRXJyb3IgZXh0ZW5kcyBTZGtFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlID8/IFwiVGhlIHN0YXRlIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgICAgICAgdGhpcy5jb2RlID0gXCJpbnZhbGlkX3N0YXRlXCI7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZFN0YXRlRXJyb3JcIjtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZENvbmZpZ3VyYXRpb25FcnJvciBleHRlbmRzIFNka0Vycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UgPz8gXCJUaGUgY29uZmlndXJhdGlvbiBpcyBpbnZhbGlkLlwiKTtcbiAgICAgICAgdGhpcy5jb2RlID0gXCJpbnZhbGlkX2NvbmZpZ3VyYXRpb25cIjtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkQ29uZmlndXJhdGlvbkVycm9yXCI7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEF1dGhvcml6YXRpb25FcnJvciBleHRlbmRzIFNka0Vycm9yIHtcbiAgICBjb25zdHJ1Y3Rvcih7IGNhdXNlLCBtZXNzYWdlIH0pIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSA/PyBcIkFuIGVycm9yIG9jY3VycmVkIGR1cmluZyB0aGUgYXV0aG9yaXphdGlvbiBmbG93LlwiKTtcbiAgICAgICAgdGhpcy5jb2RlID0gXCJhdXRob3JpemF0aW9uX2Vycm9yXCI7XG4gICAgICAgIHRoaXMuY2F1c2UgPSBjYXVzZTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJBdXRob3JpemF0aW9uRXJyb3JcIjtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQXV0aG9yaXphdGlvbkNvZGVHcmFudFJlcXVlc3RFcnJvciBleHRlbmRzIFNka0Vycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UgPz9cbiAgICAgICAgICAgIFwiQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgcHJlcGFyaW5nIG9yIHBlcmZvcm1pbmcgdGhlIGF1dGhvcml6YXRpb24gY29kZSBncmFudCByZXF1ZXN0LlwiKTtcbiAgICAgICAgdGhpcy5jb2RlID0gXCJhdXRob3JpemF0aW9uX2NvZGVfZ3JhbnRfcmVxdWVzdF9lcnJvclwiO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkF1dGhvcml6YXRpb25Db2RlR3JhbnRSZXF1ZXN0RXJyb3JcIjtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQXV0aG9yaXphdGlvbkNvZGVHcmFudEVycm9yIGV4dGVuZHMgU2RrRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHsgY2F1c2UsIG1lc3NhZ2UgfSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlID8/XG4gICAgICAgICAgICBcIkFuIGVycm9yIG9jY3VycmVkIHdoaWxlIHRyeWluZyB0byBleGNoYW5nZSB0aGUgYXV0aG9yaXphdGlvbiBjb2RlLlwiKTtcbiAgICAgICAgdGhpcy5jb2RlID0gXCJhdXRob3JpemF0aW9uX2NvZGVfZ3JhbnRfZXJyb3JcIjtcbiAgICAgICAgdGhpcy5jYXVzZSA9IGNhdXNlO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkF1dGhvcml6YXRpb25Db2RlR3JhbnRFcnJvclwiO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBCYWNrY2hhbm5lbExvZ291dEVycm9yIGV4dGVuZHMgU2RrRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSA/P1xuICAgICAgICAgICAgXCJBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBjb21wbGV0aW5nIHRoZSBiYWNrY2hhbm5lbCBsb2dvdXQgcmVxdWVzdC5cIik7XG4gICAgICAgIHRoaXMuY29kZSA9IFwiYmFja2NoYW5uZWxfbG9nb3V0X2Vycm9yXCI7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQmFja2NoYW5uZWxMb2dvdXRFcnJvclwiO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBCYWNrY2hhbm5lbEF1dGhlbnRpY2F0aW9uTm90U3VwcG9ydGVkRXJyb3IgZXh0ZW5kcyBTZGtFcnJvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKFwiVGhlIGF1dGhvcml6YXRpb24gc2VydmVyIGRvZXMgbm90IHN1cHBvcnQgYmFja2NoYW5uZWwgYXV0aGVudGljYXRpb24uIExlYXJuIGhvdyB0byBlbmFibGUgaXQgaGVyZTogaHR0cHM6Ly9hdXRoMC5jb20vZG9jcy9nZXQtc3RhcnRlZC9hcHBsaWNhdGlvbnMvY29uZmlndXJlLWNsaWVudC1pbml0aWF0ZWQtYmFja2NoYW5uZWwtYXV0aGVudGljYXRpb25cIik7XG4gICAgICAgIHRoaXMuY29kZSA9IFwiYmFja2NoYW5uZWxfYXV0aGVudGljYXRpb25fbm90X3N1cHBvcnRlZF9lcnJvclwiO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkJhY2tjaGFubmVsQXV0aGVudGljYXRpb25Ob3RTdXBwb3J0ZWRFcnJvclwiO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBCYWNrY2hhbm5lbEF1dGhlbnRpY2F0aW9uRXJyb3IgZXh0ZW5kcyBTZGtFcnJvciB7XG4gICAgY29uc3RydWN0b3IoeyBjYXVzZSB9KSB7XG4gICAgICAgIHN1cGVyKFwiVGhlcmUgd2FzIGFuIGVycm9yIHdoZW4gdHJ5aW5nIHRvIHVzZSBDbGllbnQtSW5pdGlhdGVkIEJhY2tjaGFubmVsIEF1dGhlbnRpY2F0aW9uLlwiKTtcbiAgICAgICAgdGhpcy5jb2RlID0gXCJiYWNrY2hhbm5lbF9hdXRoZW50aWNhdGlvbl9lcnJvclwiO1xuICAgICAgICB0aGlzLmNhdXNlID0gY2F1c2U7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQmFja2NoYW5uZWxBdXRoZW50aWNhdGlvbkVycm9yXCI7XG4gICAgfVxufVxuZXhwb3J0IHZhciBBY2Nlc3NUb2tlbkVycm9yQ29kZTtcbihmdW5jdGlvbiAoQWNjZXNzVG9rZW5FcnJvckNvZGUpIHtcbiAgICBBY2Nlc3NUb2tlbkVycm9yQ29kZVtcIk1JU1NJTkdfU0VTU0lPTlwiXSA9IFwibWlzc2luZ19zZXNzaW9uXCI7XG4gICAgQWNjZXNzVG9rZW5FcnJvckNvZGVbXCJNSVNTSU5HX1JFRlJFU0hfVE9LRU5cIl0gPSBcIm1pc3NpbmdfcmVmcmVzaF90b2tlblwiO1xuICAgIEFjY2Vzc1Rva2VuRXJyb3JDb2RlW1wiRkFJTEVEX1RPX1JFRlJFU0hfVE9LRU5cIl0gPSBcImZhaWxlZF90b19yZWZyZXNoX3Rva2VuXCI7XG59KShBY2Nlc3NUb2tlbkVycm9yQ29kZSB8fCAoQWNjZXNzVG9rZW5FcnJvckNvZGUgPSB7fSkpO1xuZXhwb3J0IGNsYXNzIEFjY2Vzc1Rva2VuRXJyb3IgZXh0ZW5kcyBTZGtFcnJvciB7XG4gICAgY29uc3RydWN0b3IoY29kZSwgbWVzc2FnZSwgY2F1c2UpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQWNjZXNzVG9rZW5FcnJvclwiO1xuICAgICAgICB0aGlzLmNvZGUgPSBjb2RlO1xuICAgICAgICB0aGlzLmNhdXNlID0gY2F1c2U7XG4gICAgfVxufVxuLyoqXG4gKiBFbnVtIHJlcHJlc2VudGluZyBlcnJvciBjb2RlcyByZWxhdGVkIHRvIGFjY2VzcyB0b2tlbnMgZm9yIGNvbm5lY3Rpb25zLlxuICovXG5leHBvcnQgdmFyIEFjY2Vzc1Rva2VuRm9yQ29ubmVjdGlvbkVycm9yQ29kZTtcbihmdW5jdGlvbiAoQWNjZXNzVG9rZW5Gb3JDb25uZWN0aW9uRXJyb3JDb2RlKSB7XG4gICAgLyoqXG4gICAgICogVGhlIHNlc3Npb24gaXMgbWlzc2luZy5cbiAgICAgKi9cbiAgICBBY2Nlc3NUb2tlbkZvckNvbm5lY3Rpb25FcnJvckNvZGVbXCJNSVNTSU5HX1NFU1NJT05cIl0gPSBcIm1pc3Npbmdfc2Vzc2lvblwiO1xuICAgIC8qKlxuICAgICAqIFRoZSByZWZyZXNoIHRva2VuIGlzIG1pc3NpbmcuXG4gICAgICovXG4gICAgQWNjZXNzVG9rZW5Gb3JDb25uZWN0aW9uRXJyb3JDb2RlW1wiTUlTU0lOR19SRUZSRVNIX1RPS0VOXCJdID0gXCJtaXNzaW5nX3JlZnJlc2hfdG9rZW5cIjtcbiAgICAvKipcbiAgICAgKiBGYWlsZWQgdG8gZXhjaGFuZ2UgdGhlIHJlZnJlc2ggdG9rZW4uXG4gICAgICovXG4gICAgQWNjZXNzVG9rZW5Gb3JDb25uZWN0aW9uRXJyb3JDb2RlW1wiRkFJTEVEX1RPX0VYQ0hBTkdFXCJdID0gXCJmYWlsZWRfdG9fZXhjaGFuZ2VfcmVmcmVzaF90b2tlblwiO1xufSkoQWNjZXNzVG9rZW5Gb3JDb25uZWN0aW9uRXJyb3JDb2RlIHx8IChBY2Nlc3NUb2tlbkZvckNvbm5lY3Rpb25FcnJvckNvZGUgPSB7fSkpO1xuLyoqXG4gKiBFcnJvciBjbGFzcyByZXByZXNlbnRpbmcgYW4gYWNjZXNzIHRva2VuIGZvciBjb25uZWN0aW9uIGVycm9yLlxuICogRXh0ZW5kcyB0aGUgYFNka0Vycm9yYCBjbGFzcy5cbiAqL1xuZXhwb3J0IGNsYXNzIEFjY2Vzc1Rva2VuRm9yQ29ubmVjdGlvbkVycm9yIGV4dGVuZHMgU2RrRXJyb3Ige1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdHMgYSBuZXcgYEFjY2Vzc1Rva2VuRm9yQ29ubmVjdGlvbkVycm9yYCBpbnN0YW5jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2RlIC0gVGhlIGVycm9yIGNvZGUuXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgLSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICAgKiBAcGFyYW0gY2F1c2UgLSBUaGUgT0F1dGgyIGNhdXNlIG9mIHRoZSBlcnJvci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihjb2RlLCBtZXNzYWdlLCBjYXVzZSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJBY2Nlc3NUb2tlbkZvckNvbm5lY3Rpb25FcnJvclwiO1xuICAgICAgICB0aGlzLmNvZGUgPSBjb2RlO1xuICAgICAgICB0aGlzLmNhdXNlID0gY2F1c2U7XG4gICAgfVxufVxuLyoqXG4gKiBFcnJvciBjb2RlcyBmb3IgRFBvUC1yZWxhdGVkIGVycm9ycy5cbiAqXG4gKiBUaGVzZSBlcnJvciBjb2RlcyBjYXRlZ29yaXplIGRpZmZlcmVudCB0eXBlcyBvZiBmYWlsdXJlcyB0aGF0IGNhbiBvY2N1clxuICogZHVyaW5nIERQb1AgKERlbW9uc3RyYXRpbmcgUHJvb2Ytb2YtUG9zc2Vzc2lvbikgb3BlcmF0aW9ucy5cbiAqL1xuZXhwb3J0IHZhciBEUG9QRXJyb3JDb2RlO1xuKGZ1bmN0aW9uIChEUG9QRXJyb3JDb2RlKSB7XG4gICAgLyoqXG4gICAgICogRmFpbGVkIHRvIGNhbGN1bGF0ZSBkcG9wX2prdCAoSldLIHRodW1icHJpbnQpIHBhcmFtZXRlci5cbiAgICAgKiBUaGlzIG9jY3VycyB3aGVuIHRoZSBTREsgY2Fubm90IGdlbmVyYXRlIHRoZSByZXF1aXJlZCB0aHVtYnByaW50XG4gICAgICogZnJvbSB0aGUgcHJvdmlkZWQgcHVibGljIGtleSBmb3IgdGhlIGF1dGhvcml6YXRpb24gcmVxdWVzdC5cbiAgICAgKi9cbiAgICBEUG9QRXJyb3JDb2RlW1wiRFBPUF9KS1RfQ0FMQ1VMQVRJT05fRkFJTEVEXCJdID0gXCJkcG9wX2prdF9jYWxjdWxhdGlvbl9mYWlsZWRcIjtcbiAgICAvKipcbiAgICAgKiBGYWlsZWQgdG8gZXhwb3J0IERQb1AgcHVibGljIGtleSB0byBKV0sgZm9ybWF0LlxuICAgICAqIFRoaXMgb2NjdXJzIHdoZW4gdGhlIFNESyBjYW5ub3QgY29udmVydCB0aGUgQ3J5cHRvS2V5IHRvIHRoZVxuICAgICAqIEpTT04gV2ViIEtleSBmb3JtYXQgcmVxdWlyZWQgZm9yIERQb1AgcHJvb2ZzLlxuICAgICAqL1xuICAgIERQb1BFcnJvckNvZGVbXCJEUE9QX0tFWV9FWFBPUlRfRkFJTEVEXCJdID0gXCJkcG9wX2tleV9leHBvcnRfZmFpbGVkXCI7XG4gICAgLyoqXG4gICAgICogRFBvUCBjb25maWd1cmF0aW9uIGlzIGludmFsaWQgb3IgaW5jb21wbGV0ZS5cbiAgICAgKiBUaGlzIG9jY3VycyB3aGVuIHRoZSBwcm92aWRlZCBEUG9QIGNvbmZpZ3VyYXRpb24gY29udGFpbnNcbiAgICAgKiBpbnZhbGlkIHZhbHVlcyBvciBtaXNzaW5nIHJlcXVpcmVkIGNvbXBvbmVudHMuXG4gICAgICovXG4gICAgRFBvUEVycm9yQ29kZVtcIkRQT1BfQ09ORklHVVJBVElPTl9FUlJPUlwiXSA9IFwiZHBvcF9jb25maWd1cmF0aW9uX2Vycm9yXCI7XG59KShEUG9QRXJyb3JDb2RlIHx8IChEUG9QRXJyb3JDb2RlID0ge30pKTtcbi8qKlxuICogUmVwcmVzZW50cyBhbiBlcnJvciB0aGF0IG9jY3VycmVkIGR1cmluZyBEUG9QIChEZW1vbnN0cmF0aW5nIFByb29mLW9mLVBvc3Nlc3Npb24pIG9wZXJhdGlvbnMuXG4gKlxuICogRFBvUCBpcyBhbiBPQXV0aCAyLjAgZXh0ZW5zaW9uIHRoYXQgcHJvdmlkZXMgYXBwbGljYXRpb24tbGV2ZWwgcHJvb2Ytb2YtcG9zc2Vzc2lvbiBzZWN1cml0eVxuICogYnkgYmluZGluZyBhY2Nlc3MgdG9rZW5zIHRvIGNyeXB0b2dyYXBoaWMga2V5IHBhaXJzLiBUaGlzIGVycm9yIGlzIHRocm93biB3aGVuIERQb1AtcmVsYXRlZFxuICogb3BlcmF0aW9ucyBmYWlsLCBzdWNoIGFzIGtleSBwYWlyIG9wZXJhdGlvbnMsIHByb29mIGdlbmVyYXRpb24sIG9yIGNvbmZpZ3VyYXRpb24gaXNzdWVzLlxuICpcbiAqIENvbW1vbiBzY2VuYXJpb3MgdGhhdCB0cmlnZ2VyIERQb1BFcnJvcjpcbiAqIC0gSW52YWxpZCBvciBpbmNvbXBhdGlibGUga2V5IHBhaXJzICh3cm9uZyBhbGdvcml0aG0sIGNvcnJ1cHRlZCBrZXlzKVxuICogLSBKV0sgdGh1bWJwcmludCBjYWxjdWxhdGlvbiBmYWlsdXJlc1xuICogLSBQdWJsaWMga2V5IGV4cG9ydCBmYWlsdXJlcyB0byBKV0sgZm9ybWF0XG4gKiAtIEludmFsaWQgRFBvUCBjb25maWd1cmF0aW9uIHBhcmFtZXRlcnNcbiAqXG4gKiBAZXhhbXBsZSBIYW5kbGluZyBEUG9QIGVycm9yc1xuICogYGBgdHlwZXNjcmlwdFxuICogdHJ5IHtcbiAqICAgY29uc3QgYXV0aDAgPSBuZXcgQXV0aDBDbGllbnQoe1xuICogICAgIHVzZURQb1A6IHRydWUsXG4gKiAgICAgZHBvcEtleVBhaXI6IGludmFsaWRLZXlQYWlyXG4gKiAgIH0pO1xuICogfSBjYXRjaCAoZXJyb3IpIHtcbiAqICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRFBvUEVycm9yKSB7XG4gKiAgICAgY29uc29sZS5lcnJvcihgRFBvUCBFcnJvciBbJHtlcnJvci5jb2RlfV06YCwgZXJyb3IubWVzc2FnZSk7XG4gKlxuICogICAgIHN3aXRjaCAoZXJyb3IuY29kZSkge1xuICogICAgICAgY2FzZSBEUG9QRXJyb3JDb2RlLkRQT1BfS0VZX0VYUE9SVF9GQUlMRUQ6XG4gKiAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJLZXkgZXhwb3J0IGZhaWxlZC4gQ2hlY2sga2V5IGZvcm1hdCBhbmQgYWxnb3JpdGhtLlwiKTtcbiAqICAgICAgICAgYnJlYWs7XG4gKiAgICAgICBjYXNlIERQb1BFcnJvckNvZGUuRFBPUF9KS1RfQ0FMQ1VMQVRJT05fRkFJTEVEOlxuICogICAgICAgICBjb25zb2xlLmVycm9yKFwiSldLIHRodW1icHJpbnQgY2FsY3VsYXRpb24gZmFpbGVkLiBWZXJpZnkga2V5IHZhbGlkaXR5LlwiKTtcbiAqICAgICAgICAgYnJlYWs7XG4gKiAgICAgICBjYXNlIERQb1BFcnJvckNvZGUuRFBPUF9DT05GSUdVUkFUSU9OX0VSUk9SOlxuICogICAgICAgICBjb25zb2xlLmVycm9yKFwiSW52YWxpZCBEUG9QIGNvbmZpZ3VyYXRpb24uIENoZWNrIG9wdGlvbnMgYW5kIGVudmlyb25tZW50IHZhcmlhYmxlcy5cIik7XG4gKiAgICAgICAgIGJyZWFrO1xuICogICAgIH1cbiAqXG4gKiAgICAgaWYgKGVycm9yLmNhdXNlKSB7XG4gKiAgICAgICBjb25zb2xlLmVycm9yKFwiVW5kZXJseWluZyBjYXVzZTpcIiwgZXJyb3IuY2F1c2UpO1xuICogICAgIH1cbiAqICAgfVxuICogfVxuICogYGBgXG4gKlxuICogQGV4YW1wbGUgQ3JlYXRpbmcgYSBEUG9QIGVycm9yXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiB0aHJvdyBuZXcgRFBvUEVycm9yKFxuICogICBEUG9QRXJyb3JDb2RlLkRQT1BfSktUX0NBTENVTEFUSU9OX0ZBSUxFRCxcbiAqICAgXCJGYWlsZWQgdG8gY2FsY3VsYXRlIGRwb3Bfamt0IHBhcmFtZXRlciBmcm9tIHB1YmxpYyBrZXlcIixcbiAqICAgb3JpZ2luYWxFcnJvclxuICogKTtcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZGF0YXRyYWNrZXIuaWV0Zi5vcmcvZG9jL2h0bWwvcmZjOTQ0OSB8IFJGQyA5NDQ5OiBPQXV0aCAyLjAgRGVtb25zdHJhdGluZyBQcm9vZi1vZi1Qb3NzZXNzaW9uIGF0IHRoZSBBcHBsaWNhdGlvbiBMYXllciAoRFBvUCl9XG4gKi9cbmV4cG9ydCBjbGFzcyBEUG9QRXJyb3IgZXh0ZW5kcyBTZGtFcnJvciB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0cyBhIG5ldyBgRFBvUEVycm9yYCBpbnN0YW5jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2RlIC0gVGhlIERQb1AgZXJyb3IgY29kZSBpbmRpY2F0aW5nIHRoZSBzcGVjaWZpYyB0eXBlIG9mIGZhaWx1cmVcbiAgICAgKiBAcGFyYW0gbWVzc2FnZSAtIEEgZGVzY3JpcHRpdmUgZXJyb3IgbWVzc2FnZSBleHBsYWluaW5nIHdoYXQgd2VudCB3cm9uZ1xuICAgICAqIEBwYXJhbSBjYXVzZSAtIFRoZSB1bmRlcmx5aW5nIGVycm9yIHRoYXQgY2F1c2VkIHRoaXMgRFBvUCBlcnJvciAob3B0aW9uYWwpXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBjb25zdCBkcG9wRXJyb3IgPSBuZXcgRFBvUEVycm9yKFxuICAgICAqICAgRFBvUEVycm9yQ29kZS5EUE9QX0tFWV9FWFBPUlRfRkFJTEVELFxuICAgICAqICAgXCJVbmFibGUgdG8gZXhwb3J0IHB1YmxpYyBrZXkgdG8gSldLIGZvcm1hdFwiLFxuICAgICAqICAga2V5RXhwb3J0RXJyb3JcbiAgICAgKiApO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNvZGUsIG1lc3NhZ2UsIGNhdXNlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkRQb1BFcnJvclwiO1xuICAgICAgICB0aGlzLmNvZGUgPSBjb2RlO1xuICAgICAgICB0aGlzLmNhdXNlID0gY2F1c2U7XG4gICAgfVxufVxuLyoqXG4gKiBFcnJvciBjbGFzcyByZXByZXNlbnRpbmcgYSBjb25uZWN0IGFjY291bnQgcmVxdWVzdCBlcnJvci5cbiAqL1xuZXhwb3J0IGNsYXNzIE15QWNjb3VudEFwaUVycm9yIGV4dGVuZHMgU2RrRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHsgdHlwZSwgdGl0bGUsIGRldGFpbCwgc3RhdHVzLCB2YWxpZGF0aW9uRXJyb3JzIH0pIHtcbiAgICAgICAgc3VwZXIoYCR7dGl0bGV9OiAke2RldGFpbH1gKTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJNeUFjY291bnRBcGlFcnJvclwiO1xuICAgICAgICB0aGlzLmNvZGUgPSBcIm15X2FjY291bnRfYXBpX2Vycm9yXCI7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICAgICAgdGhpcy5kZXRhaWwgPSBkZXRhaWw7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICAgICAgICB0aGlzLnZhbGlkYXRpb25FcnJvcnMgPSB2YWxpZGF0aW9uRXJyb3JzO1xuICAgIH1cbn1cbi8qKlxuICogRW51bSByZXByZXNlbnRpbmcgZXJyb3IgY29kZXMgcmVsYXRlZCB0byB0aGUgY29ubmVjdCBhY2NvdW50IGZsb3cuXG4gKi9cbmV4cG9ydCB2YXIgQ29ubmVjdEFjY291bnRFcnJvckNvZGVzO1xuKGZ1bmN0aW9uIChDb25uZWN0QWNjb3VudEVycm9yQ29kZXMpIHtcbiAgICAvKipcbiAgICAgKiBUaGUgc2Vzc2lvbiBpcyBtaXNzaW5nLlxuICAgICAqL1xuICAgIENvbm5lY3RBY2NvdW50RXJyb3JDb2Rlc1tcIk1JU1NJTkdfU0VTU0lPTlwiXSA9IFwibWlzc2luZ19zZXNzaW9uXCI7XG4gICAgLyoqXG4gICAgICogRmFpbGVkIHRvIGluaXRpYXRlIHRoZSBjb25uZWN0IGFjY291bnQgZmxvdy5cbiAgICAgKi9cbiAgICBDb25uZWN0QWNjb3VudEVycm9yQ29kZXNbXCJGQUlMRURfVE9fSU5JVElBVEVcIl0gPSBcImZhaWxlZF90b19pbml0aWF0ZVwiO1xuICAgIC8qKlxuICAgICAqIEZhaWxlZCB0byBjb21wbGV0ZSB0aGUgY29ubmVjdCBhY2NvdW50IGZsb3cuXG4gICAgICovXG4gICAgQ29ubmVjdEFjY291bnRFcnJvckNvZGVzW1wiRkFJTEVEX1RPX0NPTVBMRVRFXCJdID0gXCJmYWlsZWRfdG9fY29tcGxldGVcIjtcbn0pKENvbm5lY3RBY2NvdW50RXJyb3JDb2RlcyB8fCAoQ29ubmVjdEFjY291bnRFcnJvckNvZGVzID0ge30pKTtcbi8qKlxuICogRXJyb3IgY2xhc3MgcmVwcmVzZW50aW5nIGEgY29ubmVjdCBhY2NvdW50IGVycm9yLlxuICovXG5leHBvcnQgY2xhc3MgQ29ubmVjdEFjY291bnRFcnJvciBleHRlbmRzIFNka0Vycm9yIHtcbiAgICBjb25zdHJ1Y3Rvcih7IGNvZGUsIG1lc3NhZ2UsIGNhdXNlIH0pIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQ29ubmVjdEFjY291bnRFcnJvclwiO1xuICAgICAgICB0aGlzLmNvZGUgPSBjb2RlO1xuICAgICAgICB0aGlzLmNhdXNlID0gY2F1c2U7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@auth0/nextjs-auth0/dist/errors/index.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/auth-client.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@auth0/nextjs-auth0/dist/server/auth-client.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthClient: () => (/* binding */ AuthClient)\n/* harmony export */ });\n/* harmony import */ var next_server_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server.js */ \"(middleware)/./node_modules/next/dist/esm/api/server.js\");\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! jose */ \"(middleware)/./node_modules/jose/dist/webapi/key/export.js\");\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! jose */ \"(middleware)/./node_modules/jose/dist/webapi/jwk/thumbprint.js\");\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! jose */ \"(middleware)/./node_modules/jose/dist/webapi/jwks/remote.js\");\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! jose */ \"(middleware)/./node_modules/jose/dist/webapi/jwt/verify.js\");\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! jose */ \"(middleware)/./node_modules/jose/dist/webapi/key/import.js\");\n/* harmony import */ var oauth4webapi__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! oauth4webapi */ \"(middleware)/./node_modules/oauth4webapi/build/index.js\");\n/* harmony import */ var openid_client__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! openid-client */ \"(middleware)/./node_modules/openid-client/build/index.js\");\n/* harmony import */ var _package_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../package.json */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/package.json\");\n/* harmony import */ var _errors_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../errors/index.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/errors/index.js\");\n/* harmony import */ var _types_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../types/index.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/types/index.js\");\n/* harmony import */ var _utils_authorization_params_helpers_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/authorization-params-helpers.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/utils/authorization-params-helpers.js\");\n/* harmony import */ var _utils_constants_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/constants.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/utils/constants.js\");\n/* harmony import */ var _utils_dpopUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/dpopUtils.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/utils/dpopUtils.js\");\n/* harmony import */ var _utils_pathUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/pathUtils.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/utils/pathUtils.js\");\n/* harmony import */ var _utils_proxy_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/proxy.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/utils/proxy.js\");\n/* harmony import */ var _utils_scope_helpers_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils/scope-helpers.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/utils/scope-helpers.js\");\n/* harmony import */ var _utils_session_changes_helpers_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../utils/session-changes-helpers.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/utils/session-changes-helpers.js\");\n/* harmony import */ var _utils_token_set_helpers_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../utils/token-set-helpers.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/utils/token-set-helpers.js\");\n/* harmony import */ var _utils_url_helpers_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../utils/url-helpers.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/utils/url-helpers.js\");\n/* harmony import */ var _cookies_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./cookies.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/cookies.js\");\n/* harmony import */ var _fetcher_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./fetcher.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/fetcher.js\");\n/* harmony import */ var _user_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./user.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/user.js\");\nvar __classPrivateFieldGet = (undefined && undefined.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _AuthClient_instances, _AuthClient_getTokenSetFromSession, _AuthClient_handlePreflight, _AuthClient_handleProxy, _AuthClient_updateSessionAfterTokenRetrieval, _AuthClient_refreshTokenSet;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// params passed to the /authorize endpoint that cannot be overwritten\nconst INTERNAL_AUTHORIZE_PARAMS = [\n    \"client_id\",\n    \"redirect_uri\",\n    \"response_type\",\n    \"code_challenge\",\n    \"code_challenge_method\",\n    \"state\",\n    \"nonce\"\n];\n/**\n * A constant representing the grant type for federated connection access token exchange.\n *\n * This grant type is used in OAuth token exchange scenarios where a federated connection\n * access token is required. It is specific to Auth0's implementation and follows the\n * \"urn:auth0:params:oauth:grant-type:token-exchange:federated-connection-access-token\" format.\n */\nconst GRANT_TYPE_FEDERATED_CONNECTION_ACCESS_TOKEN = \"urn:auth0:params:oauth:grant-type:token-exchange:federated-connection-access-token\";\n/**\n * A constant representing the token type for federated connection access tokens.\n * This is used to specify the type of token being requested from Auth0.\n *\n * @constant\n * @type {string}\n */\nconst REQUESTED_TOKEN_TYPE_FEDERATED_CONNECTION_ACCESS_TOKEN = \"http://auth0.com/oauth/token-type/federated-connection-access-token\";\nfunction createRouteUrl(path, baseUrl) {\n    return new URL((0,_utils_pathUtils_js__WEBPACK_IMPORTED_MODULE_7__.ensureNoLeadingSlash)((0,_utils_pathUtils_js__WEBPACK_IMPORTED_MODULE_7__.normalizeWithBasePath)(path)), (0,_utils_pathUtils_js__WEBPACK_IMPORTED_MODULE_7__.ensureTrailingSlash)(baseUrl));\n}\nclass AuthClient {\n    constructor(options) {\n        _AuthClient_instances.add(this);\n        this.proxyFetchers = {};\n        // dependencies\n        this.fetch = options.fetch || fetch;\n        this.jwksCache = options.jwksCache || {};\n        this.allowInsecureRequests = options.allowInsecureRequests ?? false;\n        this.httpTimeout = options.httpTimeout ?? 5000;\n        this.httpOptions = () => {\n            const headers = new Headers();\n            const enableTelemetry = options.enableTelemetry ?? true;\n            if (enableTelemetry) {\n                const name = \"nextjs-auth0\";\n                const version = _package_json__WEBPACK_IMPORTED_MODULE_1__.version;\n                headers.set(\"User-Agent\", `${name}/${version}`);\n                headers.set(\"Auth0-Client\", encodeBase64(JSON.stringify({\n                    name,\n                    version\n                })));\n            }\n            return {\n                signal: AbortSignal.timeout(this.httpTimeout),\n                headers\n            };\n        };\n        if (this.allowInsecureRequests && \"development\" === \"production\") {}\n        // stores\n        this.transactionStore = options.transactionStore;\n        this.sessionStore = options.sessionStore;\n        // authorization server\n        this.domain = options.domain;\n        this.clientMetadata = { client_id: options.clientId };\n        // Apply DPoP timing validation options to client metadata if provided\n        if (options.dpopOptions) {\n            if (typeof options.dpopOptions.clockSkew === \"number\") {\n                this.clientMetadata[oauth4webapi__WEBPACK_IMPORTED_MODULE_16__.clockSkew] = options.dpopOptions.clockSkew;\n            }\n            if (typeof options.dpopOptions.clockTolerance === \"number\") {\n                this.clientMetadata[oauth4webapi__WEBPACK_IMPORTED_MODULE_16__.clockTolerance] =\n                    options.dpopOptions.clockTolerance;\n            }\n        }\n        // Store dpopOptions for use in retry logic\n        this.dpopOptions = options.dpopOptions;\n        this.clientSecret = options.clientSecret;\n        this.authorizationParameters = options.authorizationParameters || {\n            scope: _utils_constants_js__WEBPACK_IMPORTED_MODULE_5__.DEFAULT_SCOPES\n        };\n        this.pushedAuthorizationRequests =\n            options.pushedAuthorizationRequests ?? false;\n        this.clientAssertionSigningKey = options.clientAssertionSigningKey;\n        this.clientAssertionSigningAlg =\n            options.clientAssertionSigningAlg || \"RS256\";\n        this.authorizationParameters.scope = (0,_utils_scope_helpers_js__WEBPACK_IMPORTED_MODULE_9__.ensureDefaultScope)(this.authorizationParameters);\n        const scope = (0,_utils_scope_helpers_js__WEBPACK_IMPORTED_MODULE_9__.getScopeForAudience)(this.authorizationParameters.scope, this.authorizationParameters.audience)\n            ?.split(\" \")\n            .map((s) => s.trim());\n        if (!scope || !scope.includes(\"openid\")) {\n            throw new Error(\"The 'openid' scope must be included in the set of scopes. See https://auth0.com/docs\");\n        }\n        // application\n        this.appBaseUrl = options.appBaseUrl;\n        this.signInReturnToPath = options.signInReturnToPath || \"/\";\n        // validate logout strategy\n        const validStrategies = [\"auto\", \"oidc\", \"v2\"];\n        let logoutStrategy = options.logoutStrategy || \"auto\";\n        if (!validStrategies.includes(logoutStrategy)) {\n            console.error(`Invalid logoutStrategy: ${logoutStrategy}. Must be one of: ${validStrategies.join(\", \")}. Defaulting to \"auto\"`);\n            logoutStrategy = \"auto\";\n        }\n        this.logoutStrategy = logoutStrategy;\n        this.includeIdTokenHintInOIDCLogoutUrl =\n            options.includeIdTokenHintInOIDCLogoutUrl ?? true;\n        // hooks\n        this.beforeSessionSaved = options.beforeSessionSaved;\n        this.onCallback = options.onCallback || this.defaultOnCallback;\n        // routes\n        this.routes = options.routes;\n        this.enableAccessTokenEndpoint = options.enableAccessTokenEndpoint ?? true;\n        this.noContentProfileResponseWhenUnauthenticated =\n            options.noContentProfileResponseWhenUnauthenticated ?? false;\n        this.enableConnectAccountEndpoint =\n            options.enableConnectAccountEndpoint ?? false;\n        this.useDPoP = options.useDPoP ?? false;\n        // Initialize DPoP if enabled. Check useDPoP flag first to avoid timing attacks.\n        if ((options.useDPoP ?? false) && options.dpopKeyPair) {\n            this.dpopKeyPair = options.dpopKeyPair;\n        }\n    }\n    async handler(req) {\n        let { pathname } = req.nextUrl;\n        // Next.js does NOT automatically strip basePath from pathname in middleware.\n        // We must manually strip it to match against our route configurations.\n        // Example: With basePath='/app', a request to '/app/auth/login' will have\n        // pathname='/app/auth/login', but routes are configured as '/auth/login'.\n        const basePath = req.nextUrl.basePath;\n        if (basePath && pathname.startsWith(basePath)) {\n            pathname = pathname.slice(basePath.length) || \"/\";\n        }\n        const sanitizedPathname = (0,_utils_pathUtils_js__WEBPACK_IMPORTED_MODULE_7__.removeTrailingSlash)(pathname);\n        const method = req.method;\n        if (method === \"GET\" && sanitizedPathname === this.routes.login) {\n            return this.handleLogin(req);\n        }\n        else if (method === \"GET\" && sanitizedPathname === this.routes.logout) {\n            return this.handleLogout(req);\n        }\n        else if (method === \"GET\" && sanitizedPathname === this.routes.callback) {\n            return this.handleCallback(req);\n        }\n        else if (method === \"GET\" && sanitizedPathname === this.routes.profile) {\n            return this.handleProfile(req);\n        }\n        else if (method === \"GET\" &&\n            sanitizedPathname === this.routes.accessToken &&\n            this.enableAccessTokenEndpoint) {\n            return this.handleAccessToken(req);\n        }\n        else if (method === \"POST\" &&\n            sanitizedPathname === this.routes.backChannelLogout) {\n            return this.handleBackChannelLogout(req);\n        }\n        else if (method === \"GET\" &&\n            sanitizedPathname === this.routes.connectAccount &&\n            this.enableConnectAccountEndpoint) {\n            return this.handleConnectAccount(req);\n        }\n        else if (sanitizedPathname.startsWith(\"/me/\")) {\n            return this.handleMyAccount(req);\n        }\n        else if (sanitizedPathname.startsWith(\"/my-org/\")) {\n            return this.handleMyOrg(req);\n        }\n        else {\n            // no auth handler found, simply touch the sessions\n            // TODO: this should only happen if rolling sessions are enabled. Also, we should\n            // try to avoid reading from the DB (for stateful sessions) on every request if possible.\n            const res = next_server_js__WEBPACK_IMPORTED_MODULE_0__.NextResponse.next();\n            const session = await this.sessionStore.get(req.cookies);\n            if (session) {\n                // we pass the existing session (containing an `createdAt` timestamp) to the set method\n                // which will update the cookie's `maxAge` property based on the `createdAt` time\n                await this.sessionStore.set(req.cookies, res.cookies, {\n                    ...session\n                });\n                (0,_cookies_js__WEBPACK_IMPORTED_MODULE_13__.addCacheControlHeadersForSession)(res);\n            }\n            return res;\n        }\n    }\n    async startInteractiveLogin(options = {}) {\n        const redirectUri = createRouteUrl(this.routes.callback, this.appBaseUrl); // must be registered with the authorization server\n        let returnTo = this.signInReturnToPath;\n        // Validate returnTo parameter\n        if (options.returnTo) {\n            const safeBaseUrl = new URL(this.authorizationParameters.redirect_uri ||\n                this.appBaseUrl);\n            const sanitizedReturnTo = (0,_utils_url_helpers_js__WEBPACK_IMPORTED_MODULE_12__.toSafeRedirect)(options.returnTo, safeBaseUrl);\n            if (sanitizedReturnTo) {\n                returnTo =\n                    sanitizedReturnTo.pathname +\n                        sanitizedReturnTo.search +\n                        sanitizedReturnTo.hash;\n            }\n        }\n        // Generate PKCE challenges\n        const codeChallengeMethod = \"S256\";\n        const codeVerifier = oauth4webapi__WEBPACK_IMPORTED_MODULE_16__.generateRandomCodeVerifier();\n        const codeChallenge = await oauth4webapi__WEBPACK_IMPORTED_MODULE_16__.calculatePKCECodeChallenge(codeVerifier);\n        const state = oauth4webapi__WEBPACK_IMPORTED_MODULE_16__.generateRandomState();\n        const nonce = oauth4webapi__WEBPACK_IMPORTED_MODULE_16__.generateRandomNonce();\n        // Construct base authorization parameters\n        // If provided on both sides, this does not merge the scope property,\n        // instead, the scope from the right side (options) fully overrides the left side.\n        // This is done to avoid breaking existing behavior.\n        const authorizationParams = (0,_utils_authorization_params_helpers_js__WEBPACK_IMPORTED_MODULE_4__.mergeAuthorizationParamsIntoSearchParams)(this.authorizationParameters, options.authorizationParameters, INTERNAL_AUTHORIZE_PARAMS);\n        authorizationParams.set(\"client_id\", this.clientMetadata.client_id);\n        authorizationParams.set(\"redirect_uri\", redirectUri.toString());\n        authorizationParams.set(\"response_type\", _types_index_js__WEBPACK_IMPORTED_MODULE_3__.RESPONSE_TYPES.CODE);\n        authorizationParams.set(\"code_challenge\", codeChallenge);\n        authorizationParams.set(\"code_challenge_method\", codeChallengeMethod);\n        authorizationParams.set(\"state\", state);\n        authorizationParams.set(\"nonce\", nonce);\n        // Add dpop_jkt parameter if DPoP is enabled\n        if (this.dpopKeyPair) {\n            try {\n                const publicKeyJwk = await jose__WEBPACK_IMPORTED_MODULE_17__.exportJWK(this.dpopKeyPair.publicKey);\n                const dpopJkt = await jose__WEBPACK_IMPORTED_MODULE_18__.calculateJwkThumbprint(publicKeyJwk);\n                authorizationParams.set(\"dpop_jkt\", dpopJkt);\n            }\n            catch (error) {\n                throw new _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.DPoPError(_errors_index_js__WEBPACK_IMPORTED_MODULE_2__.DPoPErrorCode.DPOP_JKT_CALCULATION_FAILED, \"DPoP is enabled but failed to calculate key thumbprint (dpop_jkt). \" +\n                    \"This is required for secure DPoP binding. Please check your key configuration.\", error instanceof Error ? error : undefined);\n            }\n        }\n        // Prepare transaction state\n        const transactionState = {\n            nonce,\n            maxAge: this.authorizationParameters.max_age,\n            codeVerifier,\n            responseType: _types_index_js__WEBPACK_IMPORTED_MODULE_3__.RESPONSE_TYPES.CODE,\n            state,\n            returnTo,\n            scope: authorizationParams.get(\"scope\") || undefined,\n            audience: authorizationParams.get(\"audience\") || undefined\n        };\n        // Generate authorization URL with PAR handling\n        const [error, authorizationUrl] = await this.authorizationUrl(authorizationParams);\n        if (error) {\n            return new next_server_js__WEBPACK_IMPORTED_MODULE_0__.NextResponse(\"An error occurred while trying to initiate the login request.\", {\n                status: 500\n            });\n        }\n        // Set response and save transaction\n        const res = next_server_js__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(authorizationUrl.toString());\n        // Save transaction state\n        await this.transactionStore.save(res.cookies, transactionState);\n        return res;\n    }\n    async handleLogin(req) {\n        const searchParams = Object.fromEntries(req.nextUrl.searchParams.entries());\n        // Always forward all parameters\n        // When PAR is disabled, parameters go to authorization URL as before\n        // When PAR is enabled, all parameters are sent securely in the PAR request body\n        // do not pass returnTo as part of authorizationParameters\n        // returnTo should only be used in txn state\n        const { returnTo, ...authorizationParameters } = searchParams;\n        const options = {\n            authorizationParameters,\n            returnTo: returnTo\n        };\n        return this.startInteractiveLogin(options);\n    }\n    async handleLogout(req) {\n        const session = await this.sessionStore.get(req.cookies);\n        const [discoveryError, authorizationServerMetadata] = await this.discoverAuthorizationServerMetadata();\n        if (discoveryError) {\n            // Clean up session on discovery error\n            const errorResponse = new next_server_js__WEBPACK_IMPORTED_MODULE_0__.NextResponse(\"An error occurred while trying to initiate the logout request.\", {\n                status: 500\n            });\n            await this.sessionStore.delete(req.cookies, errorResponse.cookies);\n            await this.transactionStore.deleteAll(req.cookies, errorResponse.cookies);\n            return errorResponse;\n        }\n        const returnTo = req.nextUrl.searchParams.get(\"returnTo\") || this.appBaseUrl;\n        const federated = req.nextUrl.searchParams.has(\"federated\");\n        const createV2LogoutResponse = () => {\n            const url = new URL(\"/v2/logout\", this.issuer);\n            url.searchParams.set(\"returnTo\", returnTo);\n            url.searchParams.set(\"client_id\", this.clientMetadata.client_id);\n            if (federated) {\n                url.searchParams.set(\"federated\", \"\");\n            }\n            return next_server_js__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(url);\n        };\n        const createOIDCLogoutResponse = () => {\n            const url = new URL(authorizationServerMetadata.end_session_endpoint);\n            url.searchParams.set(\"client_id\", this.clientMetadata.client_id);\n            url.searchParams.set(\"post_logout_redirect_uri\", returnTo);\n            if (session?.internal.sid) {\n                url.searchParams.set(\"logout_hint\", session.internal.sid);\n            }\n            if (this.includeIdTokenHintInOIDCLogoutUrl && session?.tokenSet.idToken) {\n                url.searchParams.set(\"id_token_hint\", session.tokenSet.idToken);\n            }\n            if (federated) {\n                url.searchParams.set(\"federated\", \"\");\n            }\n            return next_server_js__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(url);\n        };\n        // Determine logout strategy and create appropriate response\n        let logoutResponse;\n        if (this.logoutStrategy === \"v2\") {\n            // Always use v2 logout endpoint\n            logoutResponse = createV2LogoutResponse();\n        }\n        else if (this.logoutStrategy === \"oidc\") {\n            // Always use OIDC RP-Initiated Logout\n            if (!authorizationServerMetadata.end_session_endpoint) {\n                // Clean up session on OIDC error\n                const errorResponse = new next_server_js__WEBPACK_IMPORTED_MODULE_0__.NextResponse(\"OIDC RP-Initiated Logout is not supported by the authorization server. Enable it or use a different logout strategy.\", {\n                    status: 500\n                });\n                await this.sessionStore.delete(req.cookies, errorResponse.cookies);\n                await this.transactionStore.deleteAll(req.cookies, errorResponse.cookies);\n                return errorResponse;\n            }\n            logoutResponse = createOIDCLogoutResponse();\n        }\n        else {\n            // Auto strategy (default): Try OIDC first, fallback to v2 if not available\n            if (!authorizationServerMetadata.end_session_endpoint) {\n                console.warn(\"The Auth0 client does not have RP-initiated logout enabled, the user will be redirected to the `/v2/logout` endpoint instead. Learn how to enable it here: https://auth0.com/docs/authenticate/login/logout/log-users-out-of-auth0#enable-endpoint-discovery\");\n                logoutResponse = createV2LogoutResponse();\n            }\n            else {\n                logoutResponse = createOIDCLogoutResponse();\n            }\n        }\n        // Clean up session and transaction cookies\n        await this.sessionStore.delete(req.cookies, logoutResponse.cookies);\n        (0,_cookies_js__WEBPACK_IMPORTED_MODULE_13__.addCacheControlHeadersForSession)(logoutResponse);\n        // Clear any orphaned transaction cookies\n        await this.transactionStore.deleteAll(req.cookies, logoutResponse.cookies);\n        return logoutResponse;\n    }\n    async handleCallback(req) {\n        const state = req.nextUrl.searchParams.get(\"state\");\n        if (!state) {\n            return this.handleCallbackError(new _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.MissingStateError(), {}, req);\n        }\n        const transactionStateCookie = await this.transactionStore.get(req.cookies, state);\n        if (!transactionStateCookie) {\n            return this.onCallback(new _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.InvalidStateError(), {}, null);\n        }\n        const transactionState = transactionStateCookie.payload;\n        const onCallbackCtx = {\n            responseType: transactionState.responseType,\n            returnTo: transactionState.returnTo\n        };\n        if (transactionState.responseType === _types_index_js__WEBPACK_IMPORTED_MODULE_3__.RESPONSE_TYPES.CONNECT_CODE) {\n            const session = await this.sessionStore.get(req.cookies);\n            if (!session) {\n                return this.handleCallbackError(new _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.ConnectAccountError({\n                    code: _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.ConnectAccountErrorCodes.MISSING_SESSION,\n                    message: \"The user does not have an active session.\"\n                }), onCallbackCtx, req, state);\n            }\n            // get an access token for connected accounts\n            const [tokenSetError, tokenSetResponse] = await this.getTokenSet(session, {\n                audience: `${this.issuer}/me/`,\n                scope: \"create:me:connected_accounts\"\n            });\n            if (tokenSetError) {\n                return this.handleCallbackError(tokenSetError, onCallbackCtx, req, state);\n            }\n            const [completeConnectAccountError, connectedAccount] = await this.completeConnectAccount({\n                tokenSet: tokenSetResponse.tokenSet,\n                authSession: transactionState.authSession,\n                connectCode: req.nextUrl.searchParams.get(\"connect_code\"),\n                redirectUri: createRouteUrl(this.routes.callback, this.appBaseUrl).toString(),\n                codeVerifier: transactionState.codeVerifier\n            });\n            if (completeConnectAccountError) {\n                return this.handleCallbackError(completeConnectAccountError, onCallbackCtx, req, state);\n            }\n            const res = await this.onCallback(null, {\n                ...onCallbackCtx,\n                connectedAccount\n            }, session);\n            await this.transactionStore.delete(res.cookies, state);\n            return res;\n        }\n        const [discoveryError, authorizationServerMetadata] = await this.discoverAuthorizationServerMetadata();\n        if (discoveryError) {\n            return this.handleCallbackError(discoveryError, onCallbackCtx, req, state);\n        }\n        let codeGrantParams;\n        try {\n            codeGrantParams = oauth4webapi__WEBPACK_IMPORTED_MODULE_16__.validateAuthResponse(authorizationServerMetadata, this.clientMetadata, req.nextUrl.searchParams, transactionState.state);\n        }\n        catch (e) {\n            return this.handleCallbackError(new _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.AuthorizationError({\n                cause: new _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.OAuth2Error({\n                    code: e.error,\n                    message: e.error_description\n                })\n            }), onCallbackCtx, req, state);\n        }\n        let codeGrantResponse;\n        let redirectUri;\n        let authorizationCodeGrantRequestCall;\n        try {\n            redirectUri = createRouteUrl(this.routes.callback, this.appBaseUrl); // must be registered with the authorization server\n            // Create DPoP handle ONCE outside the closure so it persists across retries.\n            // This is required by RFC 9449: the handle must learn and reuse the nonce from\n            // the DPoP-Nonce header across multiple attempts.\n            const dpopHandle = this.useDPoP && this.dpopKeyPair\n                ? oauth4webapi__WEBPACK_IMPORTED_MODULE_16__.DPoP(this.clientMetadata, this.dpopKeyPair)\n                : undefined;\n            authorizationCodeGrantRequestCall = async () => oauth4webapi__WEBPACK_IMPORTED_MODULE_16__.authorizationCodeGrantRequest(authorizationServerMetadata, this.clientMetadata, await this.getClientAuth(), codeGrantParams, redirectUri.toString(), transactionState.codeVerifier, {\n                ...this.httpOptions(),\n                [oauth4webapi__WEBPACK_IMPORTED_MODULE_16__.customFetch]: this.fetch,\n                [oauth4webapi__WEBPACK_IMPORTED_MODULE_16__.allowInsecureRequests]: this.allowInsecureRequests,\n                ...(dpopHandle && {\n                    DPoP: dpopHandle\n                })\n            });\n            // NOTE: Unlike refresh token and connection token flows, the auth code flow\n            // wraps only the HTTP request (not response processing) in withDPoPNonceRetry().\n            // This is intentional: withDPoPNonceRetry() expects a Response object to inspect\n            // for nonce retries. If response processing is included in the wrapper, it returns\n            // a processed object and retry logic breaks. Response processing happens after\n            // (see line 807) to maintain compatibility with the retry mechanism.\n            codeGrantResponse = await (0,_utils_dpopUtils_js__WEBPACK_IMPORTED_MODULE_6__.withDPoPNonceRetry)(authorizationCodeGrantRequestCall, {\n                isDPoPEnabled: !!dpopHandle,\n                ...this.dpopOptions?.retry\n            });\n        }\n        catch (e) {\n            return this.handleCallbackError(new _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.AuthorizationCodeGrantRequestError(e.message), onCallbackCtx, req, state);\n        }\n        let oidcRes;\n        try {\n            // Process the authorization code response\n            // For authorization code flows, oauth4webapi handles DPoP nonce management internally\n            // No need for manual retry since authorization codes are single-use\n            oidcRes = await oauth4webapi__WEBPACK_IMPORTED_MODULE_16__.processAuthorizationCodeResponse(authorizationServerMetadata, this.clientMetadata, codeGrantResponse, {\n                expectedNonce: transactionState.nonce,\n                maxAge: transactionState.maxAge,\n                requireIdToken: true\n            });\n        }\n        catch (e) {\n            return this.handleCallbackError(new _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.AuthorizationCodeGrantError({\n                cause: new _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.OAuth2Error({\n                    code: e.error,\n                    message: e.error_description\n                })\n            }), onCallbackCtx, req, state);\n        }\n        const idTokenClaims = oauth4webapi__WEBPACK_IMPORTED_MODULE_16__.getValidatedIdTokenClaims(oidcRes);\n        let session = {\n            user: idTokenClaims,\n            tokenSet: {\n                accessToken: oidcRes.access_token,\n                idToken: oidcRes.id_token,\n                scope: oidcRes.scope,\n                requestedScope: transactionState.scope,\n                audience: transactionState.audience,\n                refreshToken: oidcRes.refresh_token,\n                expiresAt: Math.floor(Date.now() / 1000) + Number(oidcRes.expires_in)\n            },\n            internal: {\n                sid: idTokenClaims.sid,\n                createdAt: Math.floor(Date.now() / 1000)\n            }\n        };\n        const res = await this.onCallback(null, onCallbackCtx, session);\n        // call beforeSessionSaved callback if present\n        // if not then filter id_token claims with default rules\n        session = await this.finalizeSession(session, oidcRes.id_token);\n        await this.sessionStore.set(req.cookies, res.cookies, session, true);\n        (0,_cookies_js__WEBPACK_IMPORTED_MODULE_13__.addCacheControlHeadersForSession)(res);\n        // Clean up the current transaction cookie after successful authentication\n        await this.transactionStore.delete(res.cookies, state);\n        return res;\n    }\n    async handleProfile(req) {\n        const session = await this.sessionStore.get(req.cookies);\n        if (!session) {\n            if (this.noContentProfileResponseWhenUnauthenticated) {\n                return new next_server_js__WEBPACK_IMPORTED_MODULE_0__.NextResponse(null, {\n                    status: 204\n                });\n            }\n            return new next_server_js__WEBPACK_IMPORTED_MODULE_0__.NextResponse(null, {\n                status: 401\n            });\n        }\n        const res = next_server_js__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(session?.user);\n        (0,_cookies_js__WEBPACK_IMPORTED_MODULE_13__.addCacheControlHeadersForSession)(res);\n        return res;\n    }\n    async handleAccessToken(req) {\n        const session = await this.sessionStore.get(req.cookies);\n        const audience = req.nextUrl.searchParams.get(\"audience\");\n        const scope = req.nextUrl.searchParams.get(\"scope\");\n        if (!session) {\n            return next_server_js__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: {\n                    message: \"The user does not have an active session.\",\n                    code: _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.AccessTokenErrorCode.MISSING_SESSION\n                }\n            }, {\n                status: 401\n            });\n        }\n        const [error, getTokenSetResponse] = await this.getTokenSet(session, {\n            scope,\n            audience\n        });\n        if (error) {\n            return next_server_js__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: {\n                    message: error.message,\n                    code: error.code\n                }\n            }, {\n                status: 401\n            });\n        }\n        const { tokenSet: updatedTokenSet } = getTokenSetResponse;\n        const res = next_server_js__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            token: updatedTokenSet.accessToken,\n            scope: updatedTokenSet.scope,\n            expires_at: updatedTokenSet.expiresAt,\n            ...(updatedTokenSet.token_type && {\n                token_type: updatedTokenSet.token_type\n            })\n        });\n        await __classPrivateFieldGet(this, _AuthClient_instances, \"m\", _AuthClient_updateSessionAfterTokenRetrieval).call(this, req, res, session, getTokenSetResponse);\n        return res;\n    }\n    async handleBackChannelLogout(req) {\n        if (!this.sessionStore.store) {\n            return new next_server_js__WEBPACK_IMPORTED_MODULE_0__.NextResponse(\"A session data store is not configured.\", {\n                status: 500\n            });\n        }\n        if (!this.sessionStore.store.deleteByLogoutToken) {\n            return new next_server_js__WEBPACK_IMPORTED_MODULE_0__.NextResponse(\"Back-channel logout is not supported by the session data store.\", {\n                status: 500\n            });\n        }\n        const body = new URLSearchParams(await req.text());\n        const logoutToken = body.get(\"logout_token\");\n        if (!logoutToken) {\n            return new next_server_js__WEBPACK_IMPORTED_MODULE_0__.NextResponse(\"Missing `logout_token` in the request body.\", {\n                status: 400\n            });\n        }\n        const [error, logoutTokenClaims] = await this.verifyLogoutToken(logoutToken);\n        if (error) {\n            return new next_server_js__WEBPACK_IMPORTED_MODULE_0__.NextResponse(error.message, {\n                status: 400\n            });\n        }\n        await this.sessionStore.store.deleteByLogoutToken(logoutTokenClaims);\n        return new next_server_js__WEBPACK_IMPORTED_MODULE_0__.NextResponse(null, {\n            status: 204\n        });\n    }\n    async handleConnectAccount(req) {\n        const session = await this.sessionStore.get(req.cookies);\n        // pass all query params except `connection` and `returnTo` as authorization params\n        const connection = req.nextUrl.searchParams.get(\"connection\");\n        const returnTo = req.nextUrl.searchParams.get(\"returnTo\") ?? undefined;\n        const authorizationParams = Object.fromEntries([...req.nextUrl.searchParams.entries()].filter(([key]) => key !== \"connection\" && key !== \"returnTo\"));\n        if (!connection) {\n            return new next_server_js__WEBPACK_IMPORTED_MODULE_0__.NextResponse(\"A connection is required.\", {\n                status: 400\n            });\n        }\n        if (!session) {\n            return new next_server_js__WEBPACK_IMPORTED_MODULE_0__.NextResponse(\"The user does not have an active session.\", {\n                status: 401\n            });\n        }\n        const [getTokenSetError, getTokenSetResponse] = await this.getTokenSet(session, {\n            scope: \"create:me:connected_accounts\",\n            audience: `${this.issuer}/me/`\n        });\n        if (getTokenSetError) {\n            return new next_server_js__WEBPACK_IMPORTED_MODULE_0__.NextResponse(\"Failed to retrieve a connected account access token.\", {\n                status: 401\n            });\n        }\n        const { tokenSet } = getTokenSetResponse;\n        const [connectAccountError, connectAccountResponse] = await this.connectAccount({\n            tokenSet: tokenSet,\n            connection,\n            authorizationParams,\n            returnTo\n        });\n        if (connectAccountError) {\n            return new next_server_js__WEBPACK_IMPORTED_MODULE_0__.NextResponse(connectAccountError.message, {\n                status: connectAccountError.cause?.status ?? 500\n            });\n        }\n        // update the session with the new token set, if necessary\n        await __classPrivateFieldGet(this, _AuthClient_instances, \"m\", _AuthClient_updateSessionAfterTokenRetrieval).call(this, req, connectAccountResponse, session, getTokenSetResponse);\n        return connectAccountResponse;\n    }\n    async handleMyAccount(req) {\n        return __classPrivateFieldGet(this, _AuthClient_instances, \"m\", _AuthClient_handleProxy).call(this, req, {\n            proxyPath: \"/me\",\n            targetBaseUrl: `${this.issuer}/me/v1`,\n            audience: `${this.issuer}/me/`,\n            scope: req.headers.get(\"scope\")\n        });\n    }\n    async handleMyOrg(req) {\n        return __classPrivateFieldGet(this, _AuthClient_instances, \"m\", _AuthClient_handleProxy).call(this, req, {\n            proxyPath: \"/my-org\",\n            targetBaseUrl: `${this.issuer}/my-org`,\n            audience: `${this.issuer}/my-org/`,\n            scope: req.headers.get(\"scope\")\n        });\n    }\n    /**\n     * Retrieves OAuth token sets, handling token refresh when necessary or if forced.\n     *\n     * @returns A tuple containing either:\n     *   - `[SdkError, null]` if an error occurred (missing refresh token, discovery failure, or refresh failure)\n     *   - `[null, {tokenSet, idTokenClaims}]` if a new token was retrieved, containing the new token set ID token claims\n     *   - `[null, {tokenSet, }]` if token refresh was not done and existing token was returned\n     */\n    async getTokenSet(sessionData, options = {}) {\n        // This will merge the scopes from the authorization parameters and the options.\n        // The scope from the options will be added to the scopes from the authorization parameters.\n        // If there are duplicate scopes, they will be removed.\n        const scope = (0,_utils_token_set_helpers_js__WEBPACK_IMPORTED_MODULE_11__.mergeScopes)((0,_utils_scope_helpers_js__WEBPACK_IMPORTED_MODULE_9__.getScopeForAudience)(this.authorizationParameters.scope, options.audience ?? this.authorizationParameters.audience), options.scope);\n        const tokenSet = __classPrivateFieldGet(this, _AuthClient_instances, \"m\", _AuthClient_getTokenSetFromSession).call(this, sessionData, {\n            scope: scope,\n            audience: options.audience ?? this.authorizationParameters.audience\n        });\n        // no access token was found that matches the, optional, provided audience and scope\n        if (!tokenSet.refreshToken && !tokenSet.accessToken) {\n            return [\n                new _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.AccessTokenError(_errors_index_js__WEBPACK_IMPORTED_MODULE_2__.AccessTokenErrorCode.MISSING_REFRESH_TOKEN, \"No access token found and a refresh token was not provided. The user needs to re-authenticate.\"),\n                null\n            ];\n        }\n        // the access token was found, but it has expired and we do not have a refresh token\n        if (!tokenSet.refreshToken &&\n            tokenSet.accessToken &&\n            tokenSet.expiresAt &&\n            tokenSet.expiresAt <= Date.now() / 1000) {\n            return [\n                new _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.AccessTokenError(_errors_index_js__WEBPACK_IMPORTED_MODULE_2__.AccessTokenErrorCode.MISSING_REFRESH_TOKEN, \"The access token has expired and a refresh token was not provided. The user needs to re-authenticate.\"),\n                null\n            ];\n        }\n        if (tokenSet.refreshToken) {\n            // either the access token has expired or we are forcing a refresh\n            if (options.refresh ||\n                !tokenSet.expiresAt ||\n                tokenSet.expiresAt <= Date.now() / 1000) {\n                const [error, response] = await __classPrivateFieldGet(this, _AuthClient_instances, \"m\", _AuthClient_refreshTokenSet).call(this, tokenSet, {\n                    audience: options.audience,\n                    scope: options.scope ? scope : undefined,\n                    requestedScope: scope\n                });\n                if (error) {\n                    return [error, null];\n                }\n                return [\n                    null,\n                    {\n                        tokenSet: response.updatedTokenSet,\n                        idTokenClaims: response.idTokenClaims\n                    }\n                ];\n            }\n        }\n        return [null, { tokenSet: tokenSet, idTokenClaims: undefined }];\n    }\n    async backchannelAuthentication(options) {\n        const [discoveryError, authorizationServerMetadata] = await this.discoverAuthorizationServerMetadata();\n        if (discoveryError) {\n            return [discoveryError, null];\n        }\n        if (!authorizationServerMetadata.backchannel_authentication_endpoint) {\n            return [new _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.BackchannelAuthenticationNotSupportedError(), null];\n        }\n        // If provided on both sides, this does not merge the scope property,\n        // instead, the scope from the right side (options) fully overrides the left side.\n        // This is done to avoid breaking existing behavior.\n        const authorizationParams = (0,_utils_authorization_params_helpers_js__WEBPACK_IMPORTED_MODULE_4__.mergeAuthorizationParamsIntoSearchParams)(this.authorizationParameters, options.authorizationParams, INTERNAL_AUTHORIZE_PARAMS);\n        if (!authorizationParams.get(\"scope\")) {\n            authorizationParams.set(\"scope\", _utils_constants_js__WEBPACK_IMPORTED_MODULE_5__.DEFAULT_SCOPES);\n        }\n        authorizationParams.set(\"client_id\", this.clientMetadata.client_id);\n        authorizationParams.set(\"binding_message\", options.bindingMessage);\n        authorizationParams.set(\"login_hint\", JSON.stringify({\n            format: \"iss_sub\",\n            iss: authorizationServerMetadata.issuer,\n            sub: options.loginHint.sub\n        }));\n        if (options.requestedExpiry) {\n            authorizationParams.append(\"requested_expiry\", options.requestedExpiry.toString());\n        }\n        if (options.authorizationDetails) {\n            authorizationParams.append(\"authorization_details\", JSON.stringify(options.authorizationDetails));\n        }\n        const [openIdClientConfigError, openidClientConfig] = await this.getOpenIdClientConfig();\n        if (openIdClientConfigError) {\n            return [openIdClientConfigError, null];\n        }\n        try {\n            const backchannelAuthenticationResponse = await openid_client__WEBPACK_IMPORTED_MODULE_19__.initiateBackchannelAuthentication(openidClientConfig, authorizationParams);\n            const tokenEndpointResponse = await openid_client__WEBPACK_IMPORTED_MODULE_19__.pollBackchannelAuthenticationGrant(openidClientConfig, backchannelAuthenticationResponse);\n            const accessTokenExpiresAt = Math.floor(Date.now() / 1000) +\n                Number(tokenEndpointResponse.expires_in);\n            return [\n                null,\n                {\n                    tokenSet: {\n                        accessToken: tokenEndpointResponse.access_token,\n                        idToken: tokenEndpointResponse.id_token,\n                        scope: tokenEndpointResponse.scope,\n                        refreshToken: tokenEndpointResponse.refresh_token,\n                        expiresAt: accessTokenExpiresAt\n                    },\n                    idTokenClaims: tokenEndpointResponse.claims(),\n                    authorizationDetails: tokenEndpointResponse.authorization_details\n                }\n            ];\n        }\n        catch (e) {\n            return [\n                new _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.BackchannelAuthenticationError({\n                    cause: new _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.OAuth2Error({\n                        code: e.error,\n                        message: e.error_description\n                    })\n                }),\n                null\n            ];\n        }\n    }\n    async discoverAuthorizationServerMetadata() {\n        if (this.authorizationServerMetadata) {\n            return [null, this.authorizationServerMetadata];\n        }\n        const issuer = new URL(this.issuer);\n        try {\n            const authorizationServerMetadata = await oauth4webapi__WEBPACK_IMPORTED_MODULE_16__.discoveryRequest(issuer, {\n                ...this.httpOptions(),\n                [oauth4webapi__WEBPACK_IMPORTED_MODULE_16__.customFetch]: this.fetch,\n                [oauth4webapi__WEBPACK_IMPORTED_MODULE_16__.allowInsecureRequests]: this.allowInsecureRequests\n            })\n                .then((response) => oauth4webapi__WEBPACK_IMPORTED_MODULE_16__.processDiscoveryResponse(issuer, response));\n            this.authorizationServerMetadata = authorizationServerMetadata;\n            return [null, authorizationServerMetadata];\n        }\n        catch (e) {\n            console.error(`An error occurred while performing the discovery request. issuer=${issuer.toString()}, error:`, e);\n            return [\n                new _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.DiscoveryError(\"Discovery failed for the OpenID Connect configuration.\"),\n                null\n            ];\n        }\n    }\n    async defaultOnCallback(error, ctx) {\n        if (error) {\n            return new next_server_js__WEBPACK_IMPORTED_MODULE_0__.NextResponse(error.message, {\n                status: 500\n            });\n        }\n        const res = next_server_js__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(createRouteUrl(ctx.returnTo || \"/\", this.appBaseUrl));\n        return res;\n    }\n    /**\n     * Handle callback errors with transaction cleanup\n     */\n    async handleCallbackError(error, ctx, req, state) {\n        const response = await this.onCallback(error, ctx, null);\n        // Clean up the transaction cookie on error to prevent accumulation\n        if (state) {\n            await this.transactionStore.delete(response.cookies, state);\n        }\n        return response;\n    }\n    async verifyLogoutToken(logoutToken) {\n        const [discoveryError, authorizationServerMetadata] = await this.discoverAuthorizationServerMetadata();\n        if (discoveryError) {\n            return [discoveryError, null];\n        }\n        // only `RS256` is supported for logout tokens\n        const ID_TOKEN_SIGNING_ALG = \"RS256\";\n        const keyInput = jose__WEBPACK_IMPORTED_MODULE_20__.createRemoteJWKSet(new URL(authorizationServerMetadata.jwks_uri), {\n            [jose__WEBPACK_IMPORTED_MODULE_20__.jwksCache]: this.jwksCache\n        });\n        const { payload } = await jose__WEBPACK_IMPORTED_MODULE_21__.jwtVerify(logoutToken, keyInput, {\n            issuer: authorizationServerMetadata.issuer,\n            audience: this.clientMetadata.client_id,\n            algorithms: [ID_TOKEN_SIGNING_ALG],\n            requiredClaims: [\"iat\"]\n        });\n        if (!(\"sid\" in payload) && !(\"sub\" in payload)) {\n            return [\n                new _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.BackchannelLogoutError('either \"sid\" or \"sub\" (or both) claims must be present'),\n                null\n            ];\n        }\n        if (\"sid\" in payload && typeof payload.sid !== \"string\") {\n            return [new _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.BackchannelLogoutError('\"sid\" claim must be a string'), null];\n        }\n        if (\"sub\" in payload && typeof payload.sub !== \"string\") {\n            return [new _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.BackchannelLogoutError('\"sub\" claim must be a string'), null];\n        }\n        if (\"nonce\" in payload) {\n            return [new _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.BackchannelLogoutError('\"nonce\" claim is prohibited'), null];\n        }\n        if (!(\"events\" in payload)) {\n            return [new _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.BackchannelLogoutError('\"events\" claim is missing'), null];\n        }\n        if (typeof payload.events !== \"object\" || payload.events === null) {\n            return [\n                new _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.BackchannelLogoutError('\"events\" claim must be an object'),\n                null\n            ];\n        }\n        if (!(\"http://schemas.openid.net/event/backchannel-logout\" in payload.events)) {\n            return [\n                new _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.BackchannelLogoutError('\"http://schemas.openid.net/event/backchannel-logout\" member is missing in the \"events\" claim'),\n                null\n            ];\n        }\n        if (typeof payload.events[\"http://schemas.openid.net/event/backchannel-logout\"] !== \"object\") {\n            return [\n                new _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.BackchannelLogoutError('\"http://schemas.openid.net/event/backchannel-logout\" member in the \"events\" claim must be an object'),\n                null\n            ];\n        }\n        return [\n            null,\n            {\n                sid: payload.sid,\n                sub: payload.sub\n            }\n        ];\n    }\n    async authorizationUrl(params) {\n        const [discoveryError, authorizationServerMetadata] = await this.discoverAuthorizationServerMetadata();\n        if (discoveryError) {\n            return [discoveryError, null];\n        }\n        if (this.pushedAuthorizationRequests &&\n            !authorizationServerMetadata.pushed_authorization_request_endpoint) {\n            console.error(\"The Auth0 tenant does not have pushed authorization requests enabled. Learn how to enable it here: https://auth0.com/docs/get-started/applications/configure-par\");\n            return [\n                new Error(\"The authorization server does not support pushed authorization requests.\"),\n                null\n            ];\n        }\n        const authorizationUrl = new URL(authorizationServerMetadata.authorization_endpoint);\n        if (this.pushedAuthorizationRequests) {\n            // push the request params to the authorization server\n            const response = await oauth4webapi__WEBPACK_IMPORTED_MODULE_16__.pushedAuthorizationRequest(authorizationServerMetadata, this.clientMetadata, await this.getClientAuth(), params, {\n                ...this.httpOptions(),\n                [oauth4webapi__WEBPACK_IMPORTED_MODULE_16__.customFetch]: this.fetch,\n                [oauth4webapi__WEBPACK_IMPORTED_MODULE_16__.allowInsecureRequests]: this.allowInsecureRequests\n            });\n            let parRes;\n            try {\n                parRes = await oauth4webapi__WEBPACK_IMPORTED_MODULE_16__.processPushedAuthorizationResponse(authorizationServerMetadata, this.clientMetadata, response);\n            }\n            catch (e) {\n                return [\n                    new _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.AuthorizationError({\n                        cause: new _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.OAuth2Error({\n                            code: e.error,\n                            message: e.error_description\n                        }),\n                        message: \"An error occurred while pushing the authorization request.\"\n                    }),\n                    null\n                ];\n            }\n            authorizationUrl.searchParams.set(\"request_uri\", parRes.request_uri);\n            authorizationUrl.searchParams.set(\"client_id\", this.clientMetadata.client_id);\n            return [null, authorizationUrl];\n        }\n        // append the query parameters to the authorization URL for the normal flow\n        authorizationUrl.search = params.toString();\n        return [null, authorizationUrl];\n    }\n    async getClientAuth() {\n        if (!this.clientSecret && !this.clientAssertionSigningKey) {\n            throw new Error(\"The client secret or client assertion signing key must be provided.\");\n        }\n        let clientPrivateKey = this\n            .clientAssertionSigningKey;\n        if (clientPrivateKey && typeof clientPrivateKey === \"string\") {\n            clientPrivateKey = await jose__WEBPACK_IMPORTED_MODULE_22__.importPKCS8(clientPrivateKey, this.clientAssertionSigningAlg);\n        }\n        return clientPrivateKey\n            ? oauth4webapi__WEBPACK_IMPORTED_MODULE_16__.PrivateKeyJwt(clientPrivateKey)\n            : oauth4webapi__WEBPACK_IMPORTED_MODULE_16__.ClientSecretPost(this.clientSecret);\n    }\n    get issuer() {\n        return this.domain.startsWith(\"http://\") ||\n            this.domain.startsWith(\"https://\")\n            ? this.domain\n            : `https://${this.domain}`;\n    }\n    /**\n     * Exchanges a refresh token for an access token for a connection.\n     *\n     * This method performs a token exchange using the provided refresh token and connection details.\n     * It first checks if the refresh token is present in the `tokenSet`. If not, it returns an error.\n     * Then, it constructs the necessary parameters for the token exchange request and performs\n     * the request to the authorization server's token endpoint.\n     *\n     * @returns {Promise<[AccessTokenForConnectionError, null] | [null, ConnectionTokenSet]>} A promise that resolves to a tuple.\n     *          The first element is either an `AccessTokenForConnectionError` if an error occurred, or `null` if the request was successful.\n     *          The second element is either `null` if an error occurred, or a `ConnectionTokenSet` object\n     *          containing the access token, expiration time, and scope if the request was successful.\n     *\n     * @throws {AccessTokenForConnectionError} If the refresh token is missing or if there is an error during the token exchange process.\n     */\n    async getConnectionTokenSet(tokenSet, connectionTokenSet, options) {\n        // If we do not have a refresh token\n        // and we do not have a connection token set in the cache or the one we have is expired,\n        // there is nothing to retrieve and we return an error.\n        if (!tokenSet.refreshToken &&\n            (!connectionTokenSet || connectionTokenSet.expiresAt <= Date.now() / 1000)) {\n            return [\n                new _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.AccessTokenForConnectionError(_errors_index_js__WEBPACK_IMPORTED_MODULE_2__.AccessTokenForConnectionErrorCode.MISSING_REFRESH_TOKEN, \"A refresh token was not present, Connection Access Token requires a refresh token. The user needs to re-authenticate.\"),\n                null\n            ];\n        }\n        // If we do have a refresh token,\n        // and we do not have a connection token set in the cache or the one we have is expired,\n        // we need to exchange the refresh token for a connection access token.\n        if (tokenSet.refreshToken &&\n            (!connectionTokenSet || connectionTokenSet.expiresAt <= Date.now() / 1000)) {\n            const params = new URLSearchParams();\n            params.append(\"connection\", options.connection);\n            const subjectTokenType = options.subject_token_type ??\n                _types_index_js__WEBPACK_IMPORTED_MODULE_3__.SUBJECT_TOKEN_TYPES.SUBJECT_TYPE_REFRESH_TOKEN;\n            const subjectToken = subjectTokenType === _types_index_js__WEBPACK_IMPORTED_MODULE_3__.SUBJECT_TOKEN_TYPES.SUBJECT_TYPE_ACCESS_TOKEN\n                ? tokenSet.accessToken\n                : tokenSet.refreshToken;\n            params.append(\"subject_token_type\", subjectTokenType);\n            params.append(\"subject_token\", subjectToken);\n            params.append(\"requested_token_type\", REQUESTED_TOKEN_TYPE_FEDERATED_CONNECTION_ACCESS_TOKEN);\n            if (options.login_hint) {\n                params.append(\"login_hint\", options.login_hint);\n            }\n            const [discoveryError, authorizationServerMetadata] = await this.discoverAuthorizationServerMetadata();\n            if (discoveryError) {\n                return [discoveryError, null];\n            }\n            // Create DPoP handle ONCE outside the closure so it persists across retries.\n            // This is required by RFC 9449: the handle must learn and reuse the nonce from\n            // the DPoP-Nonce header across multiple attempts.\n            const dpopHandle = this.useDPoP && this.dpopKeyPair\n                ? oauth4webapi__WEBPACK_IMPORTED_MODULE_16__.DPoP(this.clientMetadata, this.dpopKeyPair)\n                : undefined;\n            const genericTokenEndpointRequestCall = async () => oauth4webapi__WEBPACK_IMPORTED_MODULE_16__.genericTokenEndpointRequest(authorizationServerMetadata, this.clientMetadata, await this.getClientAuth(), GRANT_TYPE_FEDERATED_CONNECTION_ACCESS_TOKEN, params, {\n                [oauth4webapi__WEBPACK_IMPORTED_MODULE_16__.customFetch]: this.fetch,\n                [oauth4webapi__WEBPACK_IMPORTED_MODULE_16__.allowInsecureRequests]: this.allowInsecureRequests,\n                ...(dpopHandle && {\n                    DPoP: dpopHandle\n                })\n            });\n            const processGenericTokenEndpointResponseCall = async () => {\n                const httpResponse = await genericTokenEndpointRequestCall();\n                return oauth4webapi__WEBPACK_IMPORTED_MODULE_16__.processGenericTokenEndpointResponse(authorizationServerMetadata, this.clientMetadata, httpResponse);\n            };\n            let tokenEndpointResponse;\n            try {\n                tokenEndpointResponse = await (0,_utils_dpopUtils_js__WEBPACK_IMPORTED_MODULE_6__.withDPoPNonceRetry)(processGenericTokenEndpointResponseCall, {\n                    isDPoPEnabled: !!(this.useDPoP && this.dpopKeyPair),\n                    ...this.dpopOptions?.retry\n                });\n            }\n            catch (err) {\n                return [\n                    new _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.AccessTokenForConnectionError(_errors_index_js__WEBPACK_IMPORTED_MODULE_2__.AccessTokenForConnectionErrorCode.FAILED_TO_EXCHANGE, \"There was an error trying to exchange the refresh token for a connection access token.\", new _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.OAuth2Error({\n                        code: err.error,\n                        message: err.error_description\n                    })),\n                    null\n                ];\n            }\n            return [\n                null,\n                {\n                    accessToken: tokenEndpointResponse.access_token,\n                    expiresAt: Math.floor(Date.now() / 1000) +\n                        Number(tokenEndpointResponse.expires_in),\n                    scope: tokenEndpointResponse.scope,\n                    connection: options.connection\n                }\n            ];\n        }\n        return [null, connectionTokenSet];\n    }\n    /**\n     * Filters and processes ID token claims for a session.\n     *\n     * If a `beforeSessionSaved` callback is configured, it will be invoked to allow\n     * custom processing of the session and ID token. Otherwise, default filtering\n     * will be applied to remove standard ID token claims from the user object.\n     */\n    async finalizeSession(session, idToken) {\n        if (this.beforeSessionSaved) {\n            const updatedSession = await this.beforeSessionSaved(session, idToken ?? null);\n            session = {\n                ...updatedSession,\n                internal: session.internal\n            };\n        }\n        else {\n            session.user = (0,_user_js__WEBPACK_IMPORTED_MODULE_15__.filterDefaultIdTokenClaims)(session.user);\n        }\n        return session;\n    }\n    /**\n     * Initiates the connect account flow for linking a third-party account to the user's profile.\n     * The user will be redirected to authorize the connection.\n     */\n    async connectAccount(options) {\n        const redirectUri = createRouteUrl(this.routes.callback, this.appBaseUrl);\n        let returnTo = this.signInReturnToPath;\n        // Validate returnTo parameter\n        if (options.returnTo) {\n            const safeBaseUrl = new URL(this.authorizationParameters.redirect_uri ||\n                this.appBaseUrl);\n            const sanitizedReturnTo = (0,_utils_url_helpers_js__WEBPACK_IMPORTED_MODULE_12__.toSafeRedirect)(options.returnTo, safeBaseUrl);\n            if (sanitizedReturnTo) {\n                returnTo =\n                    sanitizedReturnTo.pathname +\n                        sanitizedReturnTo.search +\n                        sanitizedReturnTo.hash;\n            }\n        }\n        // Generate PKCE challenges\n        const codeChallengeMethod = \"S256\";\n        const codeVerifier = oauth4webapi__WEBPACK_IMPORTED_MODULE_16__.generateRandomCodeVerifier();\n        const codeChallenge = await oauth4webapi__WEBPACK_IMPORTED_MODULE_16__.calculatePKCECodeChallenge(codeVerifier);\n        const state = oauth4webapi__WEBPACK_IMPORTED_MODULE_16__.generateRandomState();\n        const [error, connectAccountResponse] = await this.createConnectAccountTicket({\n            tokenSet: options.tokenSet,\n            connection: options.connection,\n            redirectUri: redirectUri.toString(),\n            state,\n            codeChallenge,\n            codeChallengeMethod,\n            authorizationParams: options.authorizationParams\n        });\n        if (error) {\n            return [error, null];\n        }\n        const transactionState = {\n            codeVerifier,\n            responseType: _types_index_js__WEBPACK_IMPORTED_MODULE_3__.RESPONSE_TYPES.CONNECT_CODE,\n            state,\n            returnTo,\n            authSession: connectAccountResponse.authSession\n        };\n        const res = next_server_js__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(`${connectAccountResponse.connectUri}?ticket=${encodeURIComponent(connectAccountResponse.connectParams.ticket)}`);\n        await this.transactionStore.save(res.cookies, transactionState);\n        return [null, res];\n    }\n    async createConnectAccountTicket(options) {\n        try {\n            const connectAccountUrl = new URL(\"/me/v1/connected-accounts/connect\", this.issuer);\n            const fetcher = await this.fetcherFactory({\n                useDPoP: this.useDPoP,\n                getAccessToken: async () => ({\n                    accessToken: options.tokenSet.accessToken,\n                    expiresAt: options.tokenSet.expiresAt || 0,\n                    scope: options.tokenSet.scope,\n                    token_type: options.tokenSet.token_type\n                }),\n                fetch: this.fetch\n            });\n            const httpOptions = this.httpOptions();\n            const headers = new Headers(httpOptions.headers);\n            headers.set(\"Content-Type\", \"application/json\");\n            const requestBody = {\n                connection: options.connection,\n                redirect_uri: options.redirectUri,\n                state: options.state,\n                code_challenge: options.codeChallenge,\n                code_challenge_method: options.codeChallengeMethod,\n                authorization_params: options.authorizationParams\n            };\n            const res = await fetcher.fetchWithAuth(connectAccountUrl.toString(), {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(requestBody)\n            });\n            if (!res.ok) {\n                try {\n                    const errorBody = await res.json();\n                    return [\n                        new _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.ConnectAccountError({\n                            code: _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.ConnectAccountErrorCodes.FAILED_TO_INITIATE,\n                            message: `The request to initiate the connect account flow failed with status ${res.status}.`,\n                            cause: new _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.MyAccountApiError({\n                                type: errorBody.type,\n                                title: errorBody.title,\n                                detail: errorBody.detail,\n                                status: res.status,\n                                validationErrors: errorBody.validation_errors\n                            })\n                        }),\n                        null\n                    ];\n                }\n                catch (e) {\n                    return [\n                        new _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.ConnectAccountError({\n                            code: _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.ConnectAccountErrorCodes.FAILED_TO_INITIATE,\n                            message: `The request to initiate the connect account flow failed with status ${res.status}.`\n                        }),\n                        null\n                    ];\n                }\n            }\n            const { connect_uri, connect_params, auth_session, expires_in } = await res.json();\n            return [\n                null,\n                {\n                    connectUri: connect_uri,\n                    connectParams: connect_params,\n                    authSession: auth_session,\n                    expiresIn: expires_in\n                }\n            ];\n        }\n        catch (e) {\n            let message = \"An unexpected error occurred while trying to initiate the connect account flow.\";\n            if (e instanceof _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.DPoPError) {\n                message = e.message;\n            }\n            return [\n                new _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.ConnectAccountError({\n                    code: _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.ConnectAccountErrorCodes.FAILED_TO_INITIATE,\n                    message: message\n                }),\n                null\n            ];\n        }\n    }\n    async completeConnectAccount(options) {\n        const completeConnectAccountUrl = new URL(\"/me/v1/connected-accounts/complete\", this.issuer);\n        try {\n            const httpOptions = this.httpOptions();\n            const headers = new Headers(httpOptions.headers);\n            headers.set(\"Content-Type\", \"application/json\");\n            const fetcher = await this.fetcherFactory({\n                useDPoP: this.useDPoP,\n                getAccessToken: async () => ({\n                    accessToken: options.tokenSet.accessToken,\n                    expiresAt: options.tokenSet.expiresAt || 0,\n                    scope: options.tokenSet.scope,\n                    token_type: options.tokenSet.token_type\n                }),\n                fetch: this.fetch\n            });\n            const requestBody = {\n                auth_session: options.authSession,\n                connect_code: options.connectCode,\n                redirect_uri: options.redirectUri,\n                code_verifier: options.codeVerifier\n            };\n            const res = await fetcher.fetchWithAuth(completeConnectAccountUrl, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(requestBody)\n            });\n            if (!res.ok) {\n                try {\n                    const errorBody = await res.json();\n                    return [\n                        new _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.ConnectAccountError({\n                            code: _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.ConnectAccountErrorCodes.FAILED_TO_COMPLETE,\n                            message: `The request to complete the connect account flow failed with status ${res.status}.`,\n                            cause: new _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.MyAccountApiError({\n                                type: errorBody.type,\n                                title: errorBody.title,\n                                detail: errorBody.detail,\n                                status: res.status,\n                                validationErrors: errorBody.validation_errors\n                            })\n                        }),\n                        null\n                    ];\n                }\n                catch (e) {\n                    return [\n                        new _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.ConnectAccountError({\n                            code: _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.ConnectAccountErrorCodes.FAILED_TO_COMPLETE,\n                            message: `The request to complete the connect account flow failed with status ${res.status}.`\n                        }),\n                        null\n                    ];\n                }\n            }\n            const { id, connection, access_type, scopes, created_at, expires_at } = await res.json();\n            return [\n                null,\n                {\n                    id,\n                    connection,\n                    accessType: access_type,\n                    scopes,\n                    createdAt: created_at,\n                    expiresAt: expires_at\n                }\n            ];\n        }\n        catch (e) {\n            return [\n                new _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.ConnectAccountError({\n                    code: _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.ConnectAccountErrorCodes.FAILED_TO_COMPLETE,\n                    message: \"An unexpected error occurred while trying to complete the connect account flow.\"\n                }),\n                null\n            ];\n        }\n    }\n    async getOpenIdClientConfig() {\n        const [discoveryError, authorizationServerMetadata] = await this.discoverAuthorizationServerMetadata();\n        if (discoveryError) {\n            return [discoveryError, null];\n        }\n        const openidClientConfig = new openid_client__WEBPACK_IMPORTED_MODULE_19__.Configuration(authorizationServerMetadata, this.clientMetadata.client_id, {}, await this.getClientAuth());\n        const httpOpts = this.httpOptions();\n        const telemetryHeaders = new Headers(httpOpts.headers);\n        openidClientConfig[openid_client__WEBPACK_IMPORTED_MODULE_19__.customFetch] = (...args) => {\n            const headers = new Headers(args[1].headers);\n            return this.fetch(args[0], {\n                ...args[1],\n                body: args[1].body,\n                headers: new Headers([...telemetryHeaders, ...headers])\n            });\n        };\n        openidClientConfig.timeout = this.httpTimeout;\n        if (this.allowInsecureRequests) {\n            openid_client__WEBPACK_IMPORTED_MODULE_19__.allowInsecureRequests(openidClientConfig);\n        }\n        return [null, openidClientConfig];\n    }\n    /**\n     * Creates a new Fetcher instance with DPoP support and authentication capabilities.\n     *\n     * This method creates fetcher-scoped DPoP handles via `oauth.DPoP(this.clientMetadata, this.dpopKeyPair!)`.\n     * Each fetcher instance maintains its own DPoP nonce state for isolation and security.\n     * It is recommended to create fetchers at module level and reuse them across requests\n     *\n     * @example Recommended fetcher reuse pattern\n     * ```typescript\n     * const managementApi = await auth0.fetcherFactory({\n     *   baseUrl: `https://${process.env.AUTH0_DOMAIN}/api/v2/`,\n     *   session: await getSession(req, res)\n     * });\n     *\n     * // Use the same fetcher for multiple requests\n     * const users = await managementApi.get('users');\n     * const roles = await managementApi.get('roles');\n     * ```\n     *\n     * **DPoP Nonce Management:**\n     * - Each fetcher learns and caches nonces from the authorization server\n     * - Failed nonce validation triggers automatic retry with updated nonce\n     * - Nonce state is isolated between fetcher instances for security\n     *\n     * @param options Configuration options for the fetcher\n     * @returns Promise resolving to a configured Fetcher instance\n     * @throws {DPoPError} When DPoP is enabled but no keypair is configured\n     */\n    async fetcherFactory(options) {\n        if (this.useDPoP && !this.dpopKeyPair) {\n            throw new _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.DPoPError(_errors_index_js__WEBPACK_IMPORTED_MODULE_2__.DPoPErrorCode.DPOP_CONFIGURATION_ERROR, \"DPoP is enabled but no keypair is configured.\");\n        }\n        // Ensure authorization server metadata is available for oauth4webapi\n        const [discoveryError, _authorizationServerMetadata] = await this.discoverAuthorizationServerMetadata();\n        if (discoveryError) {\n            throw discoveryError;\n        }\n        const fetcherConfig = {\n            // Fetcher-scoped DPoP handle and nonce management\n            dpopHandle: this.useDPoP && (options.useDPoP ?? true)\n                ? oauth4webapi__WEBPACK_IMPORTED_MODULE_16__.DPoP(this.clientMetadata, this.dpopKeyPair)\n                : undefined,\n            httpOptions: this.httpOptions,\n            allowInsecureRequests: this.allowInsecureRequests,\n            retryConfig: this.dpopOptions?.retry,\n            fetch: options.fetch,\n            getAccessToken: options.getAccessToken,\n            baseUrl: options.baseUrl\n        };\n        const fetcherHooks = {\n            getAccessToken: options.getAccessToken,\n            isDpopEnabled: () => options.useDPoP ?? this.useDPoP ?? false\n        };\n        return new _fetcher_js__WEBPACK_IMPORTED_MODULE_14__.Fetcher(fetcherConfig, fetcherHooks);\n    }\n}\n_AuthClient_instances = new WeakSet(), _AuthClient_getTokenSetFromSession = function _AuthClient_getTokenSetFromSession(session, options) {\n    const tokenSet = session.tokenSet;\n    const audience = options.audience;\n    const scope = options.scope;\n    // When audience and scope are provided, we need to compare them with the original ones provided in either the `SessionData.tokenSet` itself, or the Auth0Client constructor.\n    // When they are identical, we should read from the top-level `SessionData.tokenSet`.\n    // If not, we should look for the corresponding access token in `SessionData.accessTokens`\n    const isAudienceTheGlobalAudience = !audience ||\n        audience === (tokenSet.audience || this.authorizationParameters.audience);\n    const isScopeTheGlobalScope = !scope ||\n        (0,_utils_token_set_helpers_js__WEBPACK_IMPORTED_MODULE_11__.compareScopes)(tokenSet.requestedScope ||\n            (0,_utils_scope_helpers_js__WEBPACK_IMPORTED_MODULE_9__.getScopeForAudience)(this.authorizationParameters.scope, audience), scope);\n    if (isAudienceTheGlobalAudience && isScopeTheGlobalScope) {\n        return tokenSet;\n    }\n    let accessTokenSet;\n    // If there is an audience, we can search for the correct access token in the array\n    // If there is no audience, we cannot find the correct access token in the array\n    if (audience) {\n        accessTokenSet = (0,_utils_token_set_helpers_js__WEBPACK_IMPORTED_MODULE_11__.findAccessTokenSet)(session, { scope, audience });\n    }\n    // Convert the Access Token Set to a Token Set, which mostly ensures the Id Token and RefreshToken are also available,\n    // But the access token, expiresAt, audience and scope are taken from the Access Token Set.\n    // When no audience was found, we will return an empty Token Set with only the Id Token and Refresh Token\n    return (0,_utils_token_set_helpers_js__WEBPACK_IMPORTED_MODULE_11__.tokenSetFromAccessTokenSet)(accessTokenSet, tokenSet);\n}, _AuthClient_handlePreflight = \n/**\n * Handles CORS preflight requests without authentication headers.\n *\n * Special-cases the OPTIONS method to forward preflight requests directly WITHOUT\n * calling `fetcher.fetchWithAuth()`, which would incorrectly inject DPoP/auth headers\n * on the preflight request.\n *\n * The browser never sends auth headers on preflight requests, and we should not either.\n * Authorization checks must not be performed on preflight requests according to RFC 7231.\n * Additionally, DPoP proofs are bound to HTTP requests, not to preflights (RFC 9449).\n *\n * @param req The incoming CORS preflight OPTIONS request.\n * @param options Configuration options for the proxy including target base URL, audience, and scope.\n * @returns A NextResponse containing the preflight response from the target server, or a 500 error if the preflight fails.\n *\n * @see RFC 7231 Section 4.3.1 - Authorization checks must not be performed on preflight requests\n * @see RFC 9449 Section 4.1 - DPoP proofs are bound to HTTP requests, not to preflights\n */\nasync function _AuthClient_handlePreflight(req, options) {\n    const headers = (0,_utils_proxy_js__WEBPACK_IMPORTED_MODULE_8__.buildForwardedRequestHeaders)(req);\n    const targetUrl = (0,_utils_proxy_js__WEBPACK_IMPORTED_MODULE_8__.transformTargetUrl)(req, options);\n    // Set Host header to upstream host\n    headers.set(\"host\", targetUrl.host);\n    try {\n        // Forward preflight directly WITHOUT DPoP/auth headers\n        const preflightResponse = await this.fetch(targetUrl.toString(), {\n            method: \"OPTIONS\",\n            headers\n        });\n        // Forward CORS headers from upstream\n        return new next_server_js__WEBPACK_IMPORTED_MODULE_0__.NextResponse(null, {\n            status: preflightResponse.status,\n            headers: (0,_utils_proxy_js__WEBPACK_IMPORTED_MODULE_8__.buildForwardedResponseHeaders)(preflightResponse)\n        });\n    }\n    catch (error) {\n        // If preflight fails, return 500\n        return new next_server_js__WEBPACK_IMPORTED_MODULE_0__.NextResponse(error.cause || error.message || \"Preflight request failed\", { status: 500 });\n    }\n}, _AuthClient_handleProxy = \n/**\n * Handles proxying requests to a target URL with authentication.\n *\n * This method retrieves the user's session, constructs the target URL,\n * and forwards the request with appropriate authentication headers.\n * It also manages token retrieval and session updates as needed.\n * @param req The incoming Next.js request to be proxied.\n * @param options Configuration options for the proxying behavior.\n * @returns A Next.js response containing the proxied request's response.\n */\nasync function _AuthClient_handleProxy(req, options) {\n    const session = await this.sessionStore.get(req.cookies);\n    if (!session) {\n        return new next_server_js__WEBPACK_IMPORTED_MODULE_0__.NextResponse(\"The user does not have an active session.\", {\n            status: 401\n        });\n    }\n    // handle preflight requests\n    if (req.method === \"OPTIONS\" &&\n        req.headers.has(\"access-control-request-method\")) {\n        return __classPrivateFieldGet(this, _AuthClient_instances, \"m\", _AuthClient_handlePreflight).call(this, req, options);\n    }\n    const headers = (0,_utils_proxy_js__WEBPACK_IMPORTED_MODULE_8__.buildForwardedRequestHeaders)(req);\n    // Clone the request to preserve body for DPoP nonce retry\n    // WHATWG Streams Spec: ReadableStream is single-consume (can only be read once).\n    // When oauth4webapi's protectedResourceRequest encounters a DPoP nonce error,\n    // it triggers a retry. Without cloning, the body stream will be exhausted on the first attempt,\n    // causing the retry to fail with \"stream already disturbed\" or empty body.\n    // To support retry, we buffer the body so it can be reused on retry.\n    // This retry will not happen with bearer auth so no need to clone if DPoP is false.\n    const clonedReq = this.useDPoP ? req.clone() : req;\n    const targetUrl = (0,_utils_proxy_js__WEBPACK_IMPORTED_MODULE_8__.transformTargetUrl)(req, options);\n    // Set Host header to upstream host\n    headers.set(\"host\", targetUrl.host);\n    // Buffer the body to allow retry on DPoP nonce errors\n    // ReadableStreams can only be consumed once, so we need to buffer for retry\n    const bodyBuffer = clonedReq.body\n        ? await clonedReq.arrayBuffer()\n        : undefined;\n    let tokenSetSideEffect;\n    const getAccessToken = async (authParams) => {\n        const [error, tokenSetResponse] = await this.getTokenSet(session, {\n            audience: authParams.audience,\n            scope: authParams.scope\n        });\n        if (error) {\n            throw error;\n        }\n        // Tracking the last used token set response for session updates later as a side effect.\n        // This relies on the fact that `getAccessToken` is called before the actual fetch.\n        // Not ideal, but works because of that order of execution.\n        // We need to do this because the fetcher does not return the token set used, and we need it to update the session if necessary.\n        // Additionally, updating the session requires the request and response objects, which are not available in the fetcher,\n        // so we can not update the session directly from the fetcher.\n        tokenSetSideEffect = tokenSetResponse;\n        return tokenSetResponse.tokenSet;\n    };\n    // get/create fetcher isntance\n    let fetcher = this.proxyFetchers[options.audience];\n    if (!fetcher) {\n        fetcher = await this.fetcherFactory({\n            useDPoP: this.useDPoP,\n            fetch: this.fetch,\n            getAccessToken: getAccessToken\n        });\n        this.proxyFetchers[options.audience] = fetcher;\n    }\n    else {\n        // @ts-expect-error Override fetcher's getAccessToken to capture token set side effects\n        fetcher.getAccessToken = getAccessToken;\n    }\n    try {\n        const response = await fetcher.fetchWithAuth(targetUrl.toString(), {\n            method: clonedReq.method,\n            headers,\n            body: bodyBuffer\n        }, { scope: options.scope, audience: options.audience });\n        const res = new next_server_js__WEBPACK_IMPORTED_MODULE_0__.NextResponse(response.body, {\n            status: response.status,\n            statusText: response.statusText,\n            headers: (0,_utils_proxy_js__WEBPACK_IMPORTED_MODULE_8__.buildForwardedResponseHeaders)(response)\n        });\n        // Using the last used token set response to determine if we need to update the session\n        // This is not ideal, as this kind of relies on the order of execution.\n        // As we know the fetcher's `getAccessToken` is called before the actual fetch,\n        // we know it should always be defined when we reach this point.\n        if (tokenSetSideEffect) {\n            await __classPrivateFieldGet(this, _AuthClient_instances, \"m\", _AuthClient_updateSessionAfterTokenRetrieval).call(this, req, res, session, tokenSetSideEffect);\n        }\n        return res;\n    }\n    catch (e) {\n        // Return 401 for missing refresh token (cannot refresh expired token)\n        if (e instanceof _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.AccessTokenError &&\n            e.code === _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.AccessTokenErrorCode.MISSING_REFRESH_TOKEN) {\n            return new next_server_js__WEBPACK_IMPORTED_MODULE_0__.NextResponse(e.message, { status: 401 });\n        }\n        // Generic error handling for other errors\n        return new next_server_js__WEBPACK_IMPORTED_MODULE_0__.NextResponse(e.cause || e.message || \"An error occurred while proxying the request.\", {\n            status: 500\n        });\n    }\n}, _AuthClient_updateSessionAfterTokenRetrieval = \n/**\n * Updates the session after token retrieval if there are changes.\n *\n * This method:\n * 1. Checks if the session needs to be updated based on token changes\n * 2. Updates the user claims if new ID token claims are provided\n * 3. Finalizes the session through the beforeSessionSaved hook or default filtering\n * 4. Persists the updated session to the session store\n * 5. Adds cache control headers to the response\n *\n * @note This method mutates the `res` parameter by:\n * - Setting session cookies via `res.cookies`\n * - Adding cache control headers to the response\n */\nasync function _AuthClient_updateSessionAfterTokenRetrieval(req, res, session, tokenSetResponse) {\n    const sessionChanges = (0,_utils_session_changes_helpers_js__WEBPACK_IMPORTED_MODULE_10__.getSessionChangesAfterGetAccessToken)(session, tokenSetResponse.tokenSet, {\n        scope: this.authorizationParameters?.scope ?? _utils_constants_js__WEBPACK_IMPORTED_MODULE_5__.DEFAULT_SCOPES,\n        audience: this.authorizationParameters?.audience\n    });\n    if (sessionChanges) {\n        if (tokenSetResponse.idTokenClaims) {\n            session.user = tokenSetResponse.idTokenClaims;\n        }\n        // call beforeSessionSaved callback if present\n        // if not then filter id_token claims with default rules\n        const finalSession = await this.finalizeSession({\n            ...session,\n            ...sessionChanges\n        }, tokenSetResponse.tokenSet.idToken);\n        await this.sessionStore.set(req.cookies, res.cookies, finalSession);\n        (0,_cookies_js__WEBPACK_IMPORTED_MODULE_13__.addCacheControlHeadersForSession)(res);\n    }\n}, _AuthClient_refreshTokenSet = \n/**\n * Refreshes the token set using the provided refresh token.\n * @param tokenSet The current token set containing the refresh token.\n * @param options Options for the refresh operation, including scope and audience.\n * @returns A tuple containing either:\n *   - `[null, { updatedTokenSet: TokenSet; idTokenClaims: oauth.IDToken }]` if the token was successfully refreshed, containing the updated token set and ID token claims.\n *   - `[SdkError, null]` if an error occurred during the refresh process.\n */\nasync function _AuthClient_refreshTokenSet(tokenSet, options) {\n    const [discoveryError, authorizationServerMetadata] = await this.discoverAuthorizationServerMetadata();\n    if (discoveryError) {\n        return [discoveryError, null];\n    }\n    const additionalParameters = new URLSearchParams();\n    if (options.scope) {\n        additionalParameters.append(\"scope\", options.scope);\n    }\n    if (options.audience) {\n        additionalParameters.append(\"audience\", options.audience);\n    }\n    // Create DPoP handle ONCE outside the closure so it persists across retries.\n    // This is required by RFC 9449: the handle must learn and reuse the nonce from\n    // the DPoP-Nonce header across multiple attempts.\n    const dpopHandle = this.useDPoP && this.dpopKeyPair\n        ? oauth4webapi__WEBPACK_IMPORTED_MODULE_16__.DPoP(this.clientMetadata, this.dpopKeyPair)\n        : undefined;\n    const refreshTokenGrantRequestCall = async () => oauth4webapi__WEBPACK_IMPORTED_MODULE_16__.refreshTokenGrantRequest(authorizationServerMetadata, this.clientMetadata, await this.getClientAuth(), tokenSet.refreshToken, {\n        ...this.httpOptions(),\n        [oauth4webapi__WEBPACK_IMPORTED_MODULE_16__.customFetch]: this.fetch,\n        [oauth4webapi__WEBPACK_IMPORTED_MODULE_16__.allowInsecureRequests]: this.allowInsecureRequests,\n        additionalParameters,\n        ...(dpopHandle && {\n            DPoP: dpopHandle\n        })\n    });\n    const processRefreshTokenResponseCall = (response) => oauth4webapi__WEBPACK_IMPORTED_MODULE_16__.processRefreshTokenResponse(authorizationServerMetadata, this.clientMetadata, response);\n    let oauthRes;\n    try {\n        oauthRes = await (0,_utils_dpopUtils_js__WEBPACK_IMPORTED_MODULE_6__.withDPoPNonceRetry)(async () => {\n            const refreshTokenRes = await refreshTokenGrantRequestCall();\n            return await processRefreshTokenResponseCall(refreshTokenRes);\n        }, {\n            isDPoPEnabled: !!(this.useDPoP && this.dpopKeyPair),\n            ...this.dpopOptions?.retry\n        });\n    }\n    catch (e) {\n        return [\n            new _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.AccessTokenError(_errors_index_js__WEBPACK_IMPORTED_MODULE_2__.AccessTokenErrorCode.FAILED_TO_REFRESH_TOKEN, \"The access token has expired and there was an error while trying to refresh it.\", new _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.OAuth2Error({\n                code: e.error,\n                message: e.error_description\n            })),\n            null\n        ];\n    }\n    const idTokenClaims = oauth4webapi__WEBPACK_IMPORTED_MODULE_16__.getValidatedIdTokenClaims(oauthRes);\n    const accessTokenExpiresAt = Math.floor(Date.now() / 1000) + Number(oauthRes.expires_in);\n    const updatedTokenSet = {\n        ...tokenSet, // contains the existing `iat` claim to maintain the session lifetime\n        accessToken: oauthRes.access_token,\n        idToken: oauthRes.id_token,\n        // We store the both requested and granted scopes on the tokenSet, so we know what scopes were requested.\n        // The server may return less scopes than requested.\n        // This ensures we can return the same token again when a token for the same or less scopes is requested by using `requestedScope` during look-up.\n        //\n        // E.g. When requesting a token with scope `a b`, and we return one for scope `a` only,\n        // - If we only store the returned scopes, we cannot return this token when the user requests a token for scope `a b` again.\n        // - If we only store the requested scopes, we lose track of the actual scopes granted.\n        //\n        // Scopes actually granted by the server\n        scope: oauthRes.scope,\n        // Scopes requested by the client\n        requestedScope: options.requestedScope,\n        expiresAt: accessTokenExpiresAt,\n        // Keep the audience if it exists, otherwise use the one from the options.\n        // If not provided, use `undefined`.\n        audience: tokenSet.audience || options.audience || undefined,\n        // Store the token type from the OAuth response (e.g., \"Bearer\", \"DPoP\")\n        ...(oauthRes.token_type && { token_type: oauthRes.token_type })\n    };\n    if (oauthRes.refresh_token) {\n        // refresh token rotation is enabled, persist the new refresh token from the response\n        updatedTokenSet.refreshToken = oauthRes.refresh_token;\n    }\n    else {\n        // we did not get a refresh token back, keep the current long-lived refresh token around\n        updatedTokenSet.refreshToken = tokenSet.refreshToken;\n    }\n    return [\n        null,\n        {\n            updatedTokenSet,\n            idTokenClaims\n        }\n    ];\n};\nconst encodeBase64 = (input) => {\n    const unencoded = new TextEncoder().encode(input);\n    const CHUNK_SIZE = 0x8000;\n    const arr = [];\n    for (let i = 0; i < unencoded.length; i += CHUNK_SIZE) {\n        arr.push(\n        // @ts-expect-error Argument of type 'Uint8Array' is not assignable to parameter of type 'number[]'.\n        String.fromCharCode.apply(null, unencoded.subarray(i, i + CHUNK_SIZE)));\n    }\n    return btoa(arr.join(\"\"));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0BhdXRoMC9uZXh0anMtYXV0aDAvZGlzdC9zZXJ2ZXIvYXV0aC1jbGllbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsOEJBQThCLFNBQUksSUFBSSxTQUFJO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDOEM7QUFDakI7QUFDUztBQUNFO0FBQzJCO0FBQ21hO0FBQzlaO0FBQzRCO0FBQzdDO0FBQ0k7QUFDbUU7QUFDVjtBQUNoQztBQUNPO0FBQ2dDO0FBQ2xFO0FBQ087QUFDekI7QUFDZ0I7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIseUVBQW9CLENBQUMsMEVBQXFCLFNBQVMsd0VBQW1CO0FBQ3pGO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxrREFBbUI7QUFDbkQsNkNBQTZDLEtBQUssR0FBRyxRQUFRO0FBQzdEO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsYUFBb0IsbUJBQW1CLEVBRXhFO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQSxvQ0FBb0Msb0RBQWU7QUFDbkQ7QUFDQTtBQUNBLG9DQUFvQyx5REFBb0I7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsK0RBQWM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLDJFQUFrQjtBQUMvRCxzQkFBc0IsNEVBQW1CO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxlQUFlLG9CQUFvQiwyQkFBMkI7QUFDbkg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFdBQVc7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyx3RUFBbUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isd0RBQVk7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGdCQUFnQiw4RUFBZ0M7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEM7QUFDNUMsbUZBQW1GO0FBQ25GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0Msc0VBQWM7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHFFQUFnQztBQUM3RCxvQ0FBb0MscUVBQWdDO0FBQ3BFLHNCQUFzQiw4REFBeUI7QUFDL0Msc0JBQXNCLDhEQUF5QjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxnSEFBd0M7QUFDNUU7QUFDQTtBQUNBLGlEQUFpRCwyREFBYztBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyw0Q0FBYztBQUN6RCxzQ0FBc0MseURBQTJCO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQix1REFBUyxDQUFDLDJEQUFhO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsMkRBQWM7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix3REFBWTtBQUNuQztBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0Esb0JBQW9CLHdEQUFZO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsdUNBQXVDO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0Msd0RBQVk7QUFDbEQ7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsd0RBQVk7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQix3REFBWTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLHdEQUFZO0FBQ3REO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsOEVBQWdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELCtEQUFpQixNQUFNO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QywrREFBaUIsTUFBTTtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsMkRBQWM7QUFDNUQ7QUFDQTtBQUNBLG9EQUFvRCxpRUFBbUI7QUFDdkUsMEJBQTBCLHNFQUF3QjtBQUNsRDtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsWUFBWTtBQUN6QztBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QiwrREFBMEI7QUFDeEQ7QUFDQTtBQUNBLGdEQUFnRCxnRUFBa0I7QUFDbEUsMkJBQTJCLHlEQUFXO0FBQ3RDO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRkFBaUY7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsK0NBQVU7QUFDNUI7QUFDQSw0REFBNEQsd0VBQW1DO0FBQy9GO0FBQ0EsaUJBQWlCLHNEQUFpQjtBQUNsQyxpQkFBaUIsZ0VBQTJCO0FBQzVDO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyx1RUFBa0I7QUFDeEQ7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsZ0RBQWdELGdGQUFrQztBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsMkVBQXNDO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsZ0RBQWdELHlFQUEyQjtBQUMzRSwyQkFBMkIseURBQVc7QUFDdEM7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQSw4QkFBOEIsb0VBQStCO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSw4RUFBZ0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix3REFBWTtBQUN2QztBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLHVCQUF1Qix3REFBWTtBQUNuQztBQUNBLGFBQWE7QUFDYjtBQUNBLG9CQUFvQix3REFBWTtBQUNoQyxRQUFRLDhFQUFnQztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQix3REFBWTtBQUMvQjtBQUNBO0FBQ0EsMEJBQTBCLGtFQUFvQjtBQUM5QztBQUNBLGFBQWE7QUFDYjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLG1CQUFtQix3REFBWTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGFBQWE7QUFDYjtBQUNBLGdCQUFnQiw0QkFBNEI7QUFDNUMsb0JBQW9CLHdEQUFZO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsd0RBQVk7QUFDbkM7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLHVCQUF1Qix3REFBWTtBQUNuQztBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix3REFBWTtBQUNuQztBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsd0RBQVk7QUFDbkM7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLG1CQUFtQix3REFBWTtBQUMvQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHdEQUFZO0FBQ25DO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSx1QkFBdUIsd0RBQVk7QUFDbkM7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLFlBQVk7QUFDckMsU0FBUztBQUNUO0FBQ0EsdUJBQXVCLHdEQUFZO0FBQ25DO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsZ0JBQWdCLFdBQVc7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLHVCQUF1Qix3REFBWTtBQUNuQztBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLFlBQVk7QUFDMUMseUJBQXlCLFlBQVk7QUFDckM7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsWUFBWTtBQUMxQyx5QkFBeUIsWUFBWTtBQUNyQztBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isd0JBQXdCO0FBQzVDLG9CQUFvQixXQUFXO0FBQy9CO0FBQ0EsK0NBQStDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQix5RUFBVyxDQUFDLDRFQUFtQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDhEQUFnQixDQUFDLGtFQUFvQjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsOERBQWdCLENBQUMsa0VBQW9CO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsOENBQThDO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHdGQUEwQztBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxnSEFBd0M7QUFDNUU7QUFDQSw2Q0FBNkMsK0RBQWM7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCw2RUFBd0M7QUFDcEcsZ0RBQWdELDhFQUF5QztBQUN6RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDRFQUE4QjtBQUNsRCwrQkFBK0IseURBQVc7QUFDMUM7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsMkRBQ3JCO0FBQ2pDO0FBQ0EsaUJBQWlCLHNEQUFpQjtBQUNsQyxpQkFBaUIsZ0VBQTJCO0FBQzVDLGFBQWE7QUFDYixvQ0FBb0MsbUVBQThCO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEZBQThGLGtCQUFrQjtBQUNoSDtBQUNBLG9CQUFvQiw0REFBYztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsd0RBQVk7QUFDbkM7QUFDQSxhQUFhO0FBQ2I7QUFDQSxvQkFBb0Isd0RBQVk7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixxREFBdUI7QUFDaEQsYUFBYSw0Q0FBYztBQUMzQixTQUFTO0FBQ1QsZ0JBQWdCLFVBQVUsUUFBUSw0Q0FBYztBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0Esb0JBQW9CLG9FQUFzQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixvRUFBc0I7QUFDOUM7QUFDQTtBQUNBLHdCQUF3QixvRUFBc0I7QUFDOUM7QUFDQTtBQUNBLHdCQUF3QixvRUFBc0I7QUFDOUM7QUFDQTtBQUNBLHdCQUF3QixvRUFBc0I7QUFDOUM7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLG9FQUFzQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLG9FQUFzQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLG9FQUFzQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMscUVBQWdDO0FBQ25FO0FBQ0EsaUJBQWlCLHNEQUFpQjtBQUNsQyxpQkFBaUIsZ0VBQTJCO0FBQzVDLGFBQWE7QUFDYjtBQUNBO0FBQ0EsK0JBQStCLDZFQUF3QztBQUN2RTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0VBQWtCO0FBQzFDLG1DQUFtQyx5REFBVztBQUM5QztBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyw4Q0FBZ0I7QUFDckQ7QUFDQTtBQUNBLGNBQWMsd0RBQW1CO0FBQ2pDLGNBQWMsMkRBQXNCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsWUFBWTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsNkVBQTZFO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLCtCQUErQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDJFQUE2QixDQUFDLCtFQUFpQztBQUNuRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGdFQUFtQjtBQUNuQyxzREFBc0QsZ0VBQW1CO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLCtDQUFVO0FBQzVCO0FBQ0EsZ0VBQWdFLHNFQUFpQztBQUNqRyxpQkFBaUIsc0RBQWlCO0FBQ2xDLGlCQUFpQixnRUFBMkI7QUFDNUM7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBLHVCQUF1Qiw4RUFBeUM7QUFDaEU7QUFDQTtBQUNBO0FBQ0EsOENBQThDLHVFQUFrQjtBQUNoRTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QiwyRUFBNkIsQ0FBQywrRUFBaUMsbUhBQW1ILHlEQUFXO0FBQ3JOO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixxRUFBMEI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxzRUFBYztBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIscUVBQWdDO0FBQzdELG9DQUFvQyxxRUFBZ0M7QUFDcEUsc0JBQXNCLDhEQUF5QjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsMkRBQWM7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isd0RBQVksYUFBYSxrQ0FBa0MsVUFBVSxnRUFBZ0U7QUFDeko7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGlFQUFtQjtBQUMvQyxrQ0FBa0Msc0VBQXdCO0FBQzFELDRHQUE0RyxXQUFXO0FBQ3ZILHVDQUF1QywrREFBaUI7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3Qix5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixpRUFBbUI7QUFDL0Msa0NBQWtDLHNFQUF3QjtBQUMxRCw0R0FBNEcsV0FBVztBQUN2SCx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isd0RBQXdEO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qix1REFBUztBQUN0QztBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsaUVBQW1CO0FBQ3ZDLDBCQUEwQixzRUFBd0I7QUFDbEQ7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixpRUFBbUI7QUFDL0Msa0NBQWtDLHNFQUF3QjtBQUMxRCw0R0FBNEcsV0FBVztBQUN2SCx1Q0FBdUMsK0RBQWlCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0IseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsaUVBQW1CO0FBQy9DLGtDQUFrQyxzRUFBd0I7QUFDMUQsNEdBQTRHLFdBQVc7QUFDdkgseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDhEQUE4RDtBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGlFQUFtQjtBQUN2QywwQkFBMEIsc0VBQXdCO0FBQ2xEO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qyx5REFBb0IsK0RBQStEO0FBQzFIO0FBQ0E7QUFDQSwyQkFBMkIsdURBQWtCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsWUFBWSxpRUFBNEI7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIseUJBQXlCO0FBQ3REO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFdBQVc7QUFDM0I7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHVEQUFTLENBQUMsMkRBQWE7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLCtDQUFVO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixpREFBTztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLDJFQUFhO0FBQ3JCLFlBQVksNEVBQW1CO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLGdGQUFrQixZQUFZLGlCQUFpQjtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsd0ZBQTBCO0FBQ3JDLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw2RUFBNEI7QUFDaEQsc0JBQXNCLG1FQUFrQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLG1CQUFtQix3REFBWTtBQUMvQjtBQUNBLHFCQUFxQiw4RUFBNkI7QUFDbEQsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQix3REFBWSwrREFBK0QsYUFBYTtBQUMzRztBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQix3REFBWTtBQUMvQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsNkVBQTRCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsbUVBQWtCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxJQUFJLGtEQUFrRDtBQUMvRCx3QkFBd0Isd0RBQVk7QUFDcEM7QUFDQTtBQUNBLHFCQUFxQiw4RUFBNkI7QUFDbEQsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsOERBQWdCO0FBQ3pDLHVCQUF1QixrRUFBb0I7QUFDM0MsdUJBQXVCLHdEQUFZLGNBQWMsYUFBYTtBQUM5RDtBQUNBO0FBQ0EsbUJBQW1CLHdEQUFZO0FBQy9CO0FBQ0EsU0FBUztBQUNUO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix3R0FBb0M7QUFDL0Qsc0RBQXNELCtEQUFjO0FBQ3BFO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFFBQVEsOEVBQWdDO0FBQ3hDO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsMkJBQTJCLDhCQUE4QjtBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLCtDQUFVO0FBQ3BCO0FBQ0EscURBQXFELG1FQUE4QjtBQUNuRjtBQUNBLFNBQVMsc0RBQWlCO0FBQzFCLFNBQVMsZ0VBQTJCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0wsMERBQTBELHNFQUFpQztBQUMzRjtBQUNBO0FBQ0EseUJBQXlCLHVFQUFrQjtBQUMzQztBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDhEQUFnQixDQUFDLGtFQUFvQixpSEFBaUgseURBQVc7QUFDakw7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsb0VBQStCO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLGlDQUFpQztBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isc0JBQXNCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcQGF1dGgwXFxuZXh0anMtYXV0aDBcXGRpc3RcXHNlcnZlclxcYXV0aC1jbGllbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fY2xhc3NQcml2YXRlRmllbGRHZXQgPSAodGhpcyAmJiB0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRHZXQpIHx8IGZ1bmN0aW9uIChyZWNlaXZlciwgc3RhdGUsIGtpbmQsIGYpIHtcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBnZXR0ZXJcIik7XG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gICAgcmV0dXJuIGtpbmQgPT09IFwibVwiID8gZiA6IGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyKSA6IGYgPyBmLnZhbHVlIDogc3RhdGUuZ2V0KHJlY2VpdmVyKTtcbn07XG52YXIgX0F1dGhDbGllbnRfaW5zdGFuY2VzLCBfQXV0aENsaWVudF9nZXRUb2tlblNldEZyb21TZXNzaW9uLCBfQXV0aENsaWVudF9oYW5kbGVQcmVmbGlnaHQsIF9BdXRoQ2xpZW50X2hhbmRsZVByb3h5LCBfQXV0aENsaWVudF91cGRhdGVTZXNzaW9uQWZ0ZXJUb2tlblJldHJpZXZhbCwgX0F1dGhDbGllbnRfcmVmcmVzaFRva2VuU2V0O1xuaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvc2VydmVyLmpzXCI7XG5pbXBvcnQgKiBhcyBqb3NlIGZyb20gXCJqb3NlXCI7XG5pbXBvcnQgKiBhcyBvYXV0aCBmcm9tIFwib2F1dGg0d2ViYXBpXCI7XG5pbXBvcnQgKiBhcyBjbGllbnQgZnJvbSBcIm9wZW5pZC1jbGllbnRcIjtcbmltcG9ydCBwYWNrYWdlSnNvbiBmcm9tIFwiLi4vLi4vcGFja2FnZS5qc29uXCIgd2l0aCB7IHR5cGU6IFwianNvblwiIH07XG5pbXBvcnQgeyBBY2Nlc3NUb2tlbkVycm9yLCBBY2Nlc3NUb2tlbkVycm9yQ29kZSwgQWNjZXNzVG9rZW5Gb3JDb25uZWN0aW9uRXJyb3IsIEFjY2Vzc1Rva2VuRm9yQ29ubmVjdGlvbkVycm9yQ29kZSwgQXV0aG9yaXphdGlvbkNvZGVHcmFudEVycm9yLCBBdXRob3JpemF0aW9uQ29kZUdyYW50UmVxdWVzdEVycm9yLCBBdXRob3JpemF0aW9uRXJyb3IsIEJhY2tjaGFubmVsQXV0aGVudGljYXRpb25FcnJvciwgQmFja2NoYW5uZWxBdXRoZW50aWNhdGlvbk5vdFN1cHBvcnRlZEVycm9yLCBCYWNrY2hhbm5lbExvZ291dEVycm9yLCBDb25uZWN0QWNjb3VudEVycm9yLCBDb25uZWN0QWNjb3VudEVycm9yQ29kZXMsIERpc2NvdmVyeUVycm9yLCBEUG9QRXJyb3IsIERQb1BFcnJvckNvZGUsIEludmFsaWRTdGF0ZUVycm9yLCBNaXNzaW5nU3RhdGVFcnJvciwgTXlBY2NvdW50QXBpRXJyb3IsIE9BdXRoMkVycm9yIH0gZnJvbSBcIi4uL2Vycm9ycy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgUkVTUE9OU0VfVFlQRVMsIFNVQkpFQ1RfVE9LRU5fVFlQRVMgfSBmcm9tIFwiLi4vdHlwZXMvaW5kZXguanNcIjtcbmltcG9ydCB7IG1lcmdlQXV0aG9yaXphdGlvblBhcmFtc0ludG9TZWFyY2hQYXJhbXMgfSBmcm9tIFwiLi4vdXRpbHMvYXV0aG9yaXphdGlvbi1wYXJhbXMtaGVscGVycy5qc1wiO1xuaW1wb3J0IHsgREVGQVVMVF9TQ09QRVMgfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5pbXBvcnQgeyB3aXRoRFBvUE5vbmNlUmV0cnkgfSBmcm9tIFwiLi4vdXRpbHMvZHBvcFV0aWxzLmpzXCI7XG5pbXBvcnQgeyBlbnN1cmVOb0xlYWRpbmdTbGFzaCwgZW5zdXJlVHJhaWxpbmdTbGFzaCwgbm9ybWFsaXplV2l0aEJhc2VQYXRoLCByZW1vdmVUcmFpbGluZ1NsYXNoIH0gZnJvbSBcIi4uL3V0aWxzL3BhdGhVdGlscy5qc1wiO1xuaW1wb3J0IHsgYnVpbGRGb3J3YXJkZWRSZXF1ZXN0SGVhZGVycywgYnVpbGRGb3J3YXJkZWRSZXNwb25zZUhlYWRlcnMsIHRyYW5zZm9ybVRhcmdldFVybCB9IGZyb20gXCIuLi91dGlscy9wcm94eS5qc1wiO1xuaW1wb3J0IHsgZW5zdXJlRGVmYXVsdFNjb3BlLCBnZXRTY29wZUZvckF1ZGllbmNlIH0gZnJvbSBcIi4uL3V0aWxzL3Njb3BlLWhlbHBlcnMuanNcIjtcbmltcG9ydCB7IGdldFNlc3Npb25DaGFuZ2VzQWZ0ZXJHZXRBY2Nlc3NUb2tlbiB9IGZyb20gXCIuLi91dGlscy9zZXNzaW9uLWNoYW5nZXMtaGVscGVycy5qc1wiO1xuaW1wb3J0IHsgY29tcGFyZVNjb3BlcywgZmluZEFjY2Vzc1Rva2VuU2V0LCBtZXJnZVNjb3BlcywgdG9rZW5TZXRGcm9tQWNjZXNzVG9rZW5TZXQgfSBmcm9tIFwiLi4vdXRpbHMvdG9rZW4tc2V0LWhlbHBlcnMuanNcIjtcbmltcG9ydCB7IHRvU2FmZVJlZGlyZWN0IH0gZnJvbSBcIi4uL3V0aWxzL3VybC1oZWxwZXJzLmpzXCI7XG5pbXBvcnQgeyBhZGRDYWNoZUNvbnRyb2xIZWFkZXJzRm9yU2Vzc2lvbiB9IGZyb20gXCIuL2Nvb2tpZXMuanNcIjtcbmltcG9ydCB7IEZldGNoZXIgfSBmcm9tIFwiLi9mZXRjaGVyLmpzXCI7XG5pbXBvcnQgeyBmaWx0ZXJEZWZhdWx0SWRUb2tlbkNsYWltcyB9IGZyb20gXCIuL3VzZXIuanNcIjtcbi8vIHBhcmFtcyBwYXNzZWQgdG8gdGhlIC9hdXRob3JpemUgZW5kcG9pbnQgdGhhdCBjYW5ub3QgYmUgb3ZlcndyaXR0ZW5cbmNvbnN0IElOVEVSTkFMX0FVVEhPUklaRV9QQVJBTVMgPSBbXG4gICAgXCJjbGllbnRfaWRcIixcbiAgICBcInJlZGlyZWN0X3VyaVwiLFxuICAgIFwicmVzcG9uc2VfdHlwZVwiLFxuICAgIFwiY29kZV9jaGFsbGVuZ2VcIixcbiAgICBcImNvZGVfY2hhbGxlbmdlX21ldGhvZFwiLFxuICAgIFwic3RhdGVcIixcbiAgICBcIm5vbmNlXCJcbl07XG4vKipcbiAqIEEgY29uc3RhbnQgcmVwcmVzZW50aW5nIHRoZSBncmFudCB0eXBlIGZvciBmZWRlcmF0ZWQgY29ubmVjdGlvbiBhY2Nlc3MgdG9rZW4gZXhjaGFuZ2UuXG4gKlxuICogVGhpcyBncmFudCB0eXBlIGlzIHVzZWQgaW4gT0F1dGggdG9rZW4gZXhjaGFuZ2Ugc2NlbmFyaW9zIHdoZXJlIGEgZmVkZXJhdGVkIGNvbm5lY3Rpb25cbiAqIGFjY2VzcyB0b2tlbiBpcyByZXF1aXJlZC4gSXQgaXMgc3BlY2lmaWMgdG8gQXV0aDAncyBpbXBsZW1lbnRhdGlvbiBhbmQgZm9sbG93cyB0aGVcbiAqIFwidXJuOmF1dGgwOnBhcmFtczpvYXV0aDpncmFudC10eXBlOnRva2VuLWV4Y2hhbmdlOmZlZGVyYXRlZC1jb25uZWN0aW9uLWFjY2Vzcy10b2tlblwiIGZvcm1hdC5cbiAqL1xuY29uc3QgR1JBTlRfVFlQRV9GRURFUkFURURfQ09OTkVDVElPTl9BQ0NFU1NfVE9LRU4gPSBcInVybjphdXRoMDpwYXJhbXM6b2F1dGg6Z3JhbnQtdHlwZTp0b2tlbi1leGNoYW5nZTpmZWRlcmF0ZWQtY29ubmVjdGlvbi1hY2Nlc3MtdG9rZW5cIjtcbi8qKlxuICogQSBjb25zdGFudCByZXByZXNlbnRpbmcgdGhlIHRva2VuIHR5cGUgZm9yIGZlZGVyYXRlZCBjb25uZWN0aW9uIGFjY2VzcyB0b2tlbnMuXG4gKiBUaGlzIGlzIHVzZWQgdG8gc3BlY2lmeSB0aGUgdHlwZSBvZiB0b2tlbiBiZWluZyByZXF1ZXN0ZWQgZnJvbSBBdXRoMC5cbiAqXG4gKiBAY29uc3RhbnRcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmNvbnN0IFJFUVVFU1RFRF9UT0tFTl9UWVBFX0ZFREVSQVRFRF9DT05ORUNUSU9OX0FDQ0VTU19UT0tFTiA9IFwiaHR0cDovL2F1dGgwLmNvbS9vYXV0aC90b2tlbi10eXBlL2ZlZGVyYXRlZC1jb25uZWN0aW9uLWFjY2Vzcy10b2tlblwiO1xuZnVuY3Rpb24gY3JlYXRlUm91dGVVcmwocGF0aCwgYmFzZVVybCkge1xuICAgIHJldHVybiBuZXcgVVJMKGVuc3VyZU5vTGVhZGluZ1NsYXNoKG5vcm1hbGl6ZVdpdGhCYXNlUGF0aChwYXRoKSksIGVuc3VyZVRyYWlsaW5nU2xhc2goYmFzZVVybCkpO1xufVxuZXhwb3J0IGNsYXNzIEF1dGhDbGllbnQge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgX0F1dGhDbGllbnRfaW5zdGFuY2VzLmFkZCh0aGlzKTtcbiAgICAgICAgdGhpcy5wcm94eUZldGNoZXJzID0ge307XG4gICAgICAgIC8vIGRlcGVuZGVuY2llc1xuICAgICAgICB0aGlzLmZldGNoID0gb3B0aW9ucy5mZXRjaCB8fCBmZXRjaDtcbiAgICAgICAgdGhpcy5qd2tzQ2FjaGUgPSBvcHRpb25zLmp3a3NDYWNoZSB8fCB7fTtcbiAgICAgICAgdGhpcy5hbGxvd0luc2VjdXJlUmVxdWVzdHMgPSBvcHRpb25zLmFsbG93SW5zZWN1cmVSZXF1ZXN0cyA/PyBmYWxzZTtcbiAgICAgICAgdGhpcy5odHRwVGltZW91dCA9IG9wdGlvbnMuaHR0cFRpbWVvdXQgPz8gNTAwMDtcbiAgICAgICAgdGhpcy5odHRwT3B0aW9ucyA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xuICAgICAgICAgICAgY29uc3QgZW5hYmxlVGVsZW1ldHJ5ID0gb3B0aW9ucy5lbmFibGVUZWxlbWV0cnkgPz8gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChlbmFibGVUZWxlbWV0cnkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gXCJuZXh0anMtYXV0aDBcIjtcbiAgICAgICAgICAgICAgICBjb25zdCB2ZXJzaW9uID0gcGFja2FnZUpzb24udmVyc2lvbjtcbiAgICAgICAgICAgICAgICBoZWFkZXJzLnNldChcIlVzZXItQWdlbnRcIiwgYCR7bmFtZX0vJHt2ZXJzaW9ufWApO1xuICAgICAgICAgICAgICAgIGhlYWRlcnMuc2V0KFwiQXV0aDAtQ2xpZW50XCIsIGVuY29kZUJhc2U2NChKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHZlcnNpb25cbiAgICAgICAgICAgICAgICB9KSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzaWduYWw6IEFib3J0U2lnbmFsLnRpbWVvdXQodGhpcy5odHRwVGltZW91dCksXG4gICAgICAgICAgICAgICAgaGVhZGVyc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHRoaXMuYWxsb3dJbnNlY3VyZVJlcXVlc3RzICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiYWxsb3dJbnNlY3VyZVJlcXVlc3RzIGlzIGVuYWJsZWQgaW4gYSBwcm9kdWN0aW9uIGVudmlyb25tZW50LiBUaGlzIGlzIG5vdCByZWNvbW1lbmRlZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc3RvcmVzXG4gICAgICAgIHRoaXMudHJhbnNhY3Rpb25TdG9yZSA9IG9wdGlvbnMudHJhbnNhY3Rpb25TdG9yZTtcbiAgICAgICAgdGhpcy5zZXNzaW9uU3RvcmUgPSBvcHRpb25zLnNlc3Npb25TdG9yZTtcbiAgICAgICAgLy8gYXV0aG9yaXphdGlvbiBzZXJ2ZXJcbiAgICAgICAgdGhpcy5kb21haW4gPSBvcHRpb25zLmRvbWFpbjtcbiAgICAgICAgdGhpcy5jbGllbnRNZXRhZGF0YSA9IHsgY2xpZW50X2lkOiBvcHRpb25zLmNsaWVudElkIH07XG4gICAgICAgIC8vIEFwcGx5IERQb1AgdGltaW5nIHZhbGlkYXRpb24gb3B0aW9ucyB0byBjbGllbnQgbWV0YWRhdGEgaWYgcHJvdmlkZWRcbiAgICAgICAgaWYgKG9wdGlvbnMuZHBvcE9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5kcG9wT3B0aW9ucy5jbG9ja1NrZXcgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsaWVudE1ldGFkYXRhW29hdXRoLmNsb2NrU2tld10gPSBvcHRpb25zLmRwb3BPcHRpb25zLmNsb2NrU2tldztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5kcG9wT3B0aW9ucy5jbG9ja1RvbGVyYW5jZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50TWV0YWRhdGFbb2F1dGguY2xvY2tUb2xlcmFuY2VdID1cbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kcG9wT3B0aW9ucy5jbG9ja1RvbGVyYW5jZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBTdG9yZSBkcG9wT3B0aW9ucyBmb3IgdXNlIGluIHJldHJ5IGxvZ2ljXG4gICAgICAgIHRoaXMuZHBvcE9wdGlvbnMgPSBvcHRpb25zLmRwb3BPcHRpb25zO1xuICAgICAgICB0aGlzLmNsaWVudFNlY3JldCA9IG9wdGlvbnMuY2xpZW50U2VjcmV0O1xuICAgICAgICB0aGlzLmF1dGhvcml6YXRpb25QYXJhbWV0ZXJzID0gb3B0aW9ucy5hdXRob3JpemF0aW9uUGFyYW1ldGVycyB8fCB7XG4gICAgICAgICAgICBzY29wZTogREVGQVVMVF9TQ09QRVNcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5wdXNoZWRBdXRob3JpemF0aW9uUmVxdWVzdHMgPVxuICAgICAgICAgICAgb3B0aW9ucy5wdXNoZWRBdXRob3JpemF0aW9uUmVxdWVzdHMgPz8gZmFsc2U7XG4gICAgICAgIHRoaXMuY2xpZW50QXNzZXJ0aW9uU2lnbmluZ0tleSA9IG9wdGlvbnMuY2xpZW50QXNzZXJ0aW9uU2lnbmluZ0tleTtcbiAgICAgICAgdGhpcy5jbGllbnRBc3NlcnRpb25TaWduaW5nQWxnID1cbiAgICAgICAgICAgIG9wdGlvbnMuY2xpZW50QXNzZXJ0aW9uU2lnbmluZ0FsZyB8fCBcIlJTMjU2XCI7XG4gICAgICAgIHRoaXMuYXV0aG9yaXphdGlvblBhcmFtZXRlcnMuc2NvcGUgPSBlbnN1cmVEZWZhdWx0U2NvcGUodGhpcy5hdXRob3JpemF0aW9uUGFyYW1ldGVycyk7XG4gICAgICAgIGNvbnN0IHNjb3BlID0gZ2V0U2NvcGVGb3JBdWRpZW5jZSh0aGlzLmF1dGhvcml6YXRpb25QYXJhbWV0ZXJzLnNjb3BlLCB0aGlzLmF1dGhvcml6YXRpb25QYXJhbWV0ZXJzLmF1ZGllbmNlKVxuICAgICAgICAgICAgPy5zcGxpdChcIiBcIilcbiAgICAgICAgICAgIC5tYXAoKHMpID0+IHMudHJpbSgpKTtcbiAgICAgICAgaWYgKCFzY29wZSB8fCAhc2NvcGUuaW5jbHVkZXMoXCJvcGVuaWRcIikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSAnb3BlbmlkJyBzY29wZSBtdXN0IGJlIGluY2x1ZGVkIGluIHRoZSBzZXQgb2Ygc2NvcGVzLiBTZWUgaHR0cHM6Ly9hdXRoMC5jb20vZG9jc1wiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhcHBsaWNhdGlvblxuICAgICAgICB0aGlzLmFwcEJhc2VVcmwgPSBvcHRpb25zLmFwcEJhc2VVcmw7XG4gICAgICAgIHRoaXMuc2lnbkluUmV0dXJuVG9QYXRoID0gb3B0aW9ucy5zaWduSW5SZXR1cm5Ub1BhdGggfHwgXCIvXCI7XG4gICAgICAgIC8vIHZhbGlkYXRlIGxvZ291dCBzdHJhdGVneVxuICAgICAgICBjb25zdCB2YWxpZFN0cmF0ZWdpZXMgPSBbXCJhdXRvXCIsIFwib2lkY1wiLCBcInYyXCJdO1xuICAgICAgICBsZXQgbG9nb3V0U3RyYXRlZ3kgPSBvcHRpb25zLmxvZ291dFN0cmF0ZWd5IHx8IFwiYXV0b1wiO1xuICAgICAgICBpZiAoIXZhbGlkU3RyYXRlZ2llcy5pbmNsdWRlcyhsb2dvdXRTdHJhdGVneSkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEludmFsaWQgbG9nb3V0U3RyYXRlZ3k6ICR7bG9nb3V0U3RyYXRlZ3l9LiBNdXN0IGJlIG9uZSBvZjogJHt2YWxpZFN0cmF0ZWdpZXMuam9pbihcIiwgXCIpfS4gRGVmYXVsdGluZyB0byBcImF1dG9cImApO1xuICAgICAgICAgICAgbG9nb3V0U3RyYXRlZ3kgPSBcImF1dG9cIjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvZ291dFN0cmF0ZWd5ID0gbG9nb3V0U3RyYXRlZ3k7XG4gICAgICAgIHRoaXMuaW5jbHVkZUlkVG9rZW5IaW50SW5PSURDTG9nb3V0VXJsID1cbiAgICAgICAgICAgIG9wdGlvbnMuaW5jbHVkZUlkVG9rZW5IaW50SW5PSURDTG9nb3V0VXJsID8/IHRydWU7XG4gICAgICAgIC8vIGhvb2tzXG4gICAgICAgIHRoaXMuYmVmb3JlU2Vzc2lvblNhdmVkID0gb3B0aW9ucy5iZWZvcmVTZXNzaW9uU2F2ZWQ7XG4gICAgICAgIHRoaXMub25DYWxsYmFjayA9IG9wdGlvbnMub25DYWxsYmFjayB8fCB0aGlzLmRlZmF1bHRPbkNhbGxiYWNrO1xuICAgICAgICAvLyByb3V0ZXNcbiAgICAgICAgdGhpcy5yb3V0ZXMgPSBvcHRpb25zLnJvdXRlcztcbiAgICAgICAgdGhpcy5lbmFibGVBY2Nlc3NUb2tlbkVuZHBvaW50ID0gb3B0aW9ucy5lbmFibGVBY2Nlc3NUb2tlbkVuZHBvaW50ID8/IHRydWU7XG4gICAgICAgIHRoaXMubm9Db250ZW50UHJvZmlsZVJlc3BvbnNlV2hlblVuYXV0aGVudGljYXRlZCA9XG4gICAgICAgICAgICBvcHRpb25zLm5vQ29udGVudFByb2ZpbGVSZXNwb25zZVdoZW5VbmF1dGhlbnRpY2F0ZWQgPz8gZmFsc2U7XG4gICAgICAgIHRoaXMuZW5hYmxlQ29ubmVjdEFjY291bnRFbmRwb2ludCA9XG4gICAgICAgICAgICBvcHRpb25zLmVuYWJsZUNvbm5lY3RBY2NvdW50RW5kcG9pbnQgPz8gZmFsc2U7XG4gICAgICAgIHRoaXMudXNlRFBvUCA9IG9wdGlvbnMudXNlRFBvUCA/PyBmYWxzZTtcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBEUG9QIGlmIGVuYWJsZWQuIENoZWNrIHVzZURQb1AgZmxhZyBmaXJzdCB0byBhdm9pZCB0aW1pbmcgYXR0YWNrcy5cbiAgICAgICAgaWYgKChvcHRpb25zLnVzZURQb1AgPz8gZmFsc2UpICYmIG9wdGlvbnMuZHBvcEtleVBhaXIpIHtcbiAgICAgICAgICAgIHRoaXMuZHBvcEtleVBhaXIgPSBvcHRpb25zLmRwb3BLZXlQYWlyO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZXIocmVxKSB7XG4gICAgICAgIGxldCB7IHBhdGhuYW1lIH0gPSByZXEubmV4dFVybDtcbiAgICAgICAgLy8gTmV4dC5qcyBkb2VzIE5PVCBhdXRvbWF0aWNhbGx5IHN0cmlwIGJhc2VQYXRoIGZyb20gcGF0aG5hbWUgaW4gbWlkZGxld2FyZS5cbiAgICAgICAgLy8gV2UgbXVzdCBtYW51YWxseSBzdHJpcCBpdCB0byBtYXRjaCBhZ2FpbnN0IG91ciByb3V0ZSBjb25maWd1cmF0aW9ucy5cbiAgICAgICAgLy8gRXhhbXBsZTogV2l0aCBiYXNlUGF0aD0nL2FwcCcsIGEgcmVxdWVzdCB0byAnL2FwcC9hdXRoL2xvZ2luJyB3aWxsIGhhdmVcbiAgICAgICAgLy8gcGF0aG5hbWU9Jy9hcHAvYXV0aC9sb2dpbicsIGJ1dCByb3V0ZXMgYXJlIGNvbmZpZ3VyZWQgYXMgJy9hdXRoL2xvZ2luJy5cbiAgICAgICAgY29uc3QgYmFzZVBhdGggPSByZXEubmV4dFVybC5iYXNlUGF0aDtcbiAgICAgICAgaWYgKGJhc2VQYXRoICYmIHBhdGhuYW1lLnN0YXJ0c1dpdGgoYmFzZVBhdGgpKSB7XG4gICAgICAgICAgICBwYXRobmFtZSA9IHBhdGhuYW1lLnNsaWNlKGJhc2VQYXRoLmxlbmd0aCkgfHwgXCIvXCI7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2FuaXRpemVkUGF0aG5hbWUgPSByZW1vdmVUcmFpbGluZ1NsYXNoKHBhdGhuYW1lKTtcbiAgICAgICAgY29uc3QgbWV0aG9kID0gcmVxLm1ldGhvZDtcbiAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJHRVRcIiAmJiBzYW5pdGl6ZWRQYXRobmFtZSA9PT0gdGhpcy5yb3V0ZXMubG9naW4pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhhbmRsZUxvZ2luKHJlcSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobWV0aG9kID09PSBcIkdFVFwiICYmIHNhbml0aXplZFBhdGhuYW1lID09PSB0aGlzLnJvdXRlcy5sb2dvdXQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhhbmRsZUxvZ291dChyZXEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG1ldGhvZCA9PT0gXCJHRVRcIiAmJiBzYW5pdGl6ZWRQYXRobmFtZSA9PT0gdGhpcy5yb3V0ZXMuY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhhbmRsZUNhbGxiYWNrKHJlcSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobWV0aG9kID09PSBcIkdFVFwiICYmIHNhbml0aXplZFBhdGhuYW1lID09PSB0aGlzLnJvdXRlcy5wcm9maWxlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVQcm9maWxlKHJlcSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobWV0aG9kID09PSBcIkdFVFwiICYmXG4gICAgICAgICAgICBzYW5pdGl6ZWRQYXRobmFtZSA9PT0gdGhpcy5yb3V0ZXMuYWNjZXNzVG9rZW4gJiZcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlQWNjZXNzVG9rZW5FbmRwb2ludCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlQWNjZXNzVG9rZW4ocmVxKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtZXRob2QgPT09IFwiUE9TVFwiICYmXG4gICAgICAgICAgICBzYW5pdGl6ZWRQYXRobmFtZSA9PT0gdGhpcy5yb3V0ZXMuYmFja0NoYW5uZWxMb2dvdXQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhhbmRsZUJhY2tDaGFubmVsTG9nb3V0KHJlcSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobWV0aG9kID09PSBcIkdFVFwiICYmXG4gICAgICAgICAgICBzYW5pdGl6ZWRQYXRobmFtZSA9PT0gdGhpcy5yb3V0ZXMuY29ubmVjdEFjY291bnQgJiZcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlQ29ubmVjdEFjY291bnRFbmRwb2ludCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlQ29ubmVjdEFjY291bnQocmVxKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzYW5pdGl6ZWRQYXRobmFtZS5zdGFydHNXaXRoKFwiL21lL1wiKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlTXlBY2NvdW50KHJlcSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2FuaXRpemVkUGF0aG5hbWUuc3RhcnRzV2l0aChcIi9teS1vcmcvXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVNeU9yZyhyZXEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gbm8gYXV0aCBoYW5kbGVyIGZvdW5kLCBzaW1wbHkgdG91Y2ggdGhlIHNlc3Npb25zXG4gICAgICAgICAgICAvLyBUT0RPOiB0aGlzIHNob3VsZCBvbmx5IGhhcHBlbiBpZiByb2xsaW5nIHNlc3Npb25zIGFyZSBlbmFibGVkLiBBbHNvLCB3ZSBzaG91bGRcbiAgICAgICAgICAgIC8vIHRyeSB0byBhdm9pZCByZWFkaW5nIGZyb20gdGhlIERCIChmb3Igc3RhdGVmdWwgc2Vzc2lvbnMpIG9uIGV2ZXJ5IHJlcXVlc3QgaWYgcG9zc2libGUuXG4gICAgICAgICAgICBjb25zdCByZXMgPSBOZXh0UmVzcG9uc2UubmV4dCgpO1xuICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IHRoaXMuc2Vzc2lvblN0b3JlLmdldChyZXEuY29va2llcyk7XG4gICAgICAgICAgICBpZiAoc2Vzc2lvbikge1xuICAgICAgICAgICAgICAgIC8vIHdlIHBhc3MgdGhlIGV4aXN0aW5nIHNlc3Npb24gKGNvbnRhaW5pbmcgYW4gYGNyZWF0ZWRBdGAgdGltZXN0YW1wKSB0byB0aGUgc2V0IG1ldGhvZFxuICAgICAgICAgICAgICAgIC8vIHdoaWNoIHdpbGwgdXBkYXRlIHRoZSBjb29raWUncyBgbWF4QWdlYCBwcm9wZXJ0eSBiYXNlZCBvbiB0aGUgYGNyZWF0ZWRBdGAgdGltZVxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2Vzc2lvblN0b3JlLnNldChyZXEuY29va2llcywgcmVzLmNvb2tpZXMsIHtcbiAgICAgICAgICAgICAgICAgICAgLi4uc2Vzc2lvblxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGFkZENhY2hlQ29udHJvbEhlYWRlcnNGb3JTZXNzaW9uKHJlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIHN0YXJ0SW50ZXJhY3RpdmVMb2dpbihvcHRpb25zID0ge30pIHtcbiAgICAgICAgY29uc3QgcmVkaXJlY3RVcmkgPSBjcmVhdGVSb3V0ZVVybCh0aGlzLnJvdXRlcy5jYWxsYmFjaywgdGhpcy5hcHBCYXNlVXJsKTsgLy8gbXVzdCBiZSByZWdpc3RlcmVkIHdpdGggdGhlIGF1dGhvcml6YXRpb24gc2VydmVyXG4gICAgICAgIGxldCByZXR1cm5UbyA9IHRoaXMuc2lnbkluUmV0dXJuVG9QYXRoO1xuICAgICAgICAvLyBWYWxpZGF0ZSByZXR1cm5UbyBwYXJhbWV0ZXJcbiAgICAgICAgaWYgKG9wdGlvbnMucmV0dXJuVG8pIHtcbiAgICAgICAgICAgIGNvbnN0IHNhZmVCYXNlVXJsID0gbmV3IFVSTCh0aGlzLmF1dGhvcml6YXRpb25QYXJhbWV0ZXJzLnJlZGlyZWN0X3VyaSB8fFxuICAgICAgICAgICAgICAgIHRoaXMuYXBwQmFzZVVybCk7XG4gICAgICAgICAgICBjb25zdCBzYW5pdGl6ZWRSZXR1cm5UbyA9IHRvU2FmZVJlZGlyZWN0KG9wdGlvbnMucmV0dXJuVG8sIHNhZmVCYXNlVXJsKTtcbiAgICAgICAgICAgIGlmIChzYW5pdGl6ZWRSZXR1cm5Ubykge1xuICAgICAgICAgICAgICAgIHJldHVyblRvID1cbiAgICAgICAgICAgICAgICAgICAgc2FuaXRpemVkUmV0dXJuVG8ucGF0aG5hbWUgK1xuICAgICAgICAgICAgICAgICAgICAgICAgc2FuaXRpemVkUmV0dXJuVG8uc2VhcmNoICtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhbml0aXplZFJldHVyblRvLmhhc2g7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gR2VuZXJhdGUgUEtDRSBjaGFsbGVuZ2VzXG4gICAgICAgIGNvbnN0IGNvZGVDaGFsbGVuZ2VNZXRob2QgPSBcIlMyNTZcIjtcbiAgICAgICAgY29uc3QgY29kZVZlcmlmaWVyID0gb2F1dGguZ2VuZXJhdGVSYW5kb21Db2RlVmVyaWZpZXIoKTtcbiAgICAgICAgY29uc3QgY29kZUNoYWxsZW5nZSA9IGF3YWl0IG9hdXRoLmNhbGN1bGF0ZVBLQ0VDb2RlQ2hhbGxlbmdlKGNvZGVWZXJpZmllcik7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gb2F1dGguZ2VuZXJhdGVSYW5kb21TdGF0ZSgpO1xuICAgICAgICBjb25zdCBub25jZSA9IG9hdXRoLmdlbmVyYXRlUmFuZG9tTm9uY2UoKTtcbiAgICAgICAgLy8gQ29uc3RydWN0IGJhc2UgYXV0aG9yaXphdGlvbiBwYXJhbWV0ZXJzXG4gICAgICAgIC8vIElmIHByb3ZpZGVkIG9uIGJvdGggc2lkZXMsIHRoaXMgZG9lcyBub3QgbWVyZ2UgdGhlIHNjb3BlIHByb3BlcnR5LFxuICAgICAgICAvLyBpbnN0ZWFkLCB0aGUgc2NvcGUgZnJvbSB0aGUgcmlnaHQgc2lkZSAob3B0aW9ucykgZnVsbHkgb3ZlcnJpZGVzIHRoZSBsZWZ0IHNpZGUuXG4gICAgICAgIC8vIFRoaXMgaXMgZG9uZSB0byBhdm9pZCBicmVha2luZyBleGlzdGluZyBiZWhhdmlvci5cbiAgICAgICAgY29uc3QgYXV0aG9yaXphdGlvblBhcmFtcyA9IG1lcmdlQXV0aG9yaXphdGlvblBhcmFtc0ludG9TZWFyY2hQYXJhbXModGhpcy5hdXRob3JpemF0aW9uUGFyYW1ldGVycywgb3B0aW9ucy5hdXRob3JpemF0aW9uUGFyYW1ldGVycywgSU5URVJOQUxfQVVUSE9SSVpFX1BBUkFNUyk7XG4gICAgICAgIGF1dGhvcml6YXRpb25QYXJhbXMuc2V0KFwiY2xpZW50X2lkXCIsIHRoaXMuY2xpZW50TWV0YWRhdGEuY2xpZW50X2lkKTtcbiAgICAgICAgYXV0aG9yaXphdGlvblBhcmFtcy5zZXQoXCJyZWRpcmVjdF91cmlcIiwgcmVkaXJlY3RVcmkudG9TdHJpbmcoKSk7XG4gICAgICAgIGF1dGhvcml6YXRpb25QYXJhbXMuc2V0KFwicmVzcG9uc2VfdHlwZVwiLCBSRVNQT05TRV9UWVBFUy5DT0RFKTtcbiAgICAgICAgYXV0aG9yaXphdGlvblBhcmFtcy5zZXQoXCJjb2RlX2NoYWxsZW5nZVwiLCBjb2RlQ2hhbGxlbmdlKTtcbiAgICAgICAgYXV0aG9yaXphdGlvblBhcmFtcy5zZXQoXCJjb2RlX2NoYWxsZW5nZV9tZXRob2RcIiwgY29kZUNoYWxsZW5nZU1ldGhvZCk7XG4gICAgICAgIGF1dGhvcml6YXRpb25QYXJhbXMuc2V0KFwic3RhdGVcIiwgc3RhdGUpO1xuICAgICAgICBhdXRob3JpemF0aW9uUGFyYW1zLnNldChcIm5vbmNlXCIsIG5vbmNlKTtcbiAgICAgICAgLy8gQWRkIGRwb3Bfamt0IHBhcmFtZXRlciBpZiBEUG9QIGlzIGVuYWJsZWRcbiAgICAgICAgaWYgKHRoaXMuZHBvcEtleVBhaXIpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHVibGljS2V5SndrID0gYXdhaXQgam9zZS5leHBvcnRKV0sodGhpcy5kcG9wS2V5UGFpci5wdWJsaWNLZXkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRwb3BKa3QgPSBhd2FpdCBqb3NlLmNhbGN1bGF0ZUp3a1RodW1icHJpbnQocHVibGljS2V5SndrKTtcbiAgICAgICAgICAgICAgICBhdXRob3JpemF0aW9uUGFyYW1zLnNldChcImRwb3Bfamt0XCIsIGRwb3BKa3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IERQb1BFcnJvcihEUG9QRXJyb3JDb2RlLkRQT1BfSktUX0NBTENVTEFUSU9OX0ZBSUxFRCwgXCJEUG9QIGlzIGVuYWJsZWQgYnV0IGZhaWxlZCB0byBjYWxjdWxhdGUga2V5IHRodW1icHJpbnQgKGRwb3Bfamt0KS4gXCIgK1xuICAgICAgICAgICAgICAgICAgICBcIlRoaXMgaXMgcmVxdWlyZWQgZm9yIHNlY3VyZSBEUG9QIGJpbmRpbmcuIFBsZWFzZSBjaGVjayB5b3VyIGtleSBjb25maWd1cmF0aW9uLlwiLCBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiB1bmRlZmluZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFByZXBhcmUgdHJhbnNhY3Rpb24gc3RhdGVcbiAgICAgICAgY29uc3QgdHJhbnNhY3Rpb25TdGF0ZSA9IHtcbiAgICAgICAgICAgIG5vbmNlLFxuICAgICAgICAgICAgbWF4QWdlOiB0aGlzLmF1dGhvcml6YXRpb25QYXJhbWV0ZXJzLm1heF9hZ2UsXG4gICAgICAgICAgICBjb2RlVmVyaWZpZXIsXG4gICAgICAgICAgICByZXNwb25zZVR5cGU6IFJFU1BPTlNFX1RZUEVTLkNPREUsXG4gICAgICAgICAgICBzdGF0ZSxcbiAgICAgICAgICAgIHJldHVyblRvLFxuICAgICAgICAgICAgc2NvcGU6IGF1dGhvcml6YXRpb25QYXJhbXMuZ2V0KFwic2NvcGVcIikgfHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgYXVkaWVuY2U6IGF1dGhvcml6YXRpb25QYXJhbXMuZ2V0KFwiYXVkaWVuY2VcIikgfHwgdW5kZWZpbmVkXG4gICAgICAgIH07XG4gICAgICAgIC8vIEdlbmVyYXRlIGF1dGhvcml6YXRpb24gVVJMIHdpdGggUEFSIGhhbmRsaW5nXG4gICAgICAgIGNvbnN0IFtlcnJvciwgYXV0aG9yaXphdGlvblVybF0gPSBhd2FpdCB0aGlzLmF1dGhvcml6YXRpb25VcmwoYXV0aG9yaXphdGlvblBhcmFtcyk7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBOZXh0UmVzcG9uc2UoXCJBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSB0cnlpbmcgdG8gaW5pdGlhdGUgdGhlIGxvZ2luIHJlcXVlc3QuXCIsIHtcbiAgICAgICAgICAgICAgICBzdGF0dXM6IDUwMFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2V0IHJlc3BvbnNlIGFuZCBzYXZlIHRyYW5zYWN0aW9uXG4gICAgICAgIGNvbnN0IHJlcyA9IE5leHRSZXNwb25zZS5yZWRpcmVjdChhdXRob3JpemF0aW9uVXJsLnRvU3RyaW5nKCkpO1xuICAgICAgICAvLyBTYXZlIHRyYW5zYWN0aW9uIHN0YXRlXG4gICAgICAgIGF3YWl0IHRoaXMudHJhbnNhY3Rpb25TdG9yZS5zYXZlKHJlcy5jb29raWVzLCB0cmFuc2FjdGlvblN0YXRlKTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gICAgYXN5bmMgaGFuZGxlTG9naW4ocmVxKSB7XG4gICAgICAgIGNvbnN0IHNlYXJjaFBhcmFtcyA9IE9iamVjdC5mcm9tRW50cmllcyhyZXEubmV4dFVybC5zZWFyY2hQYXJhbXMuZW50cmllcygpKTtcbiAgICAgICAgLy8gQWx3YXlzIGZvcndhcmQgYWxsIHBhcmFtZXRlcnNcbiAgICAgICAgLy8gV2hlbiBQQVIgaXMgZGlzYWJsZWQsIHBhcmFtZXRlcnMgZ28gdG8gYXV0aG9yaXphdGlvbiBVUkwgYXMgYmVmb3JlXG4gICAgICAgIC8vIFdoZW4gUEFSIGlzIGVuYWJsZWQsIGFsbCBwYXJhbWV0ZXJzIGFyZSBzZW50IHNlY3VyZWx5IGluIHRoZSBQQVIgcmVxdWVzdCBib2R5XG4gICAgICAgIC8vIGRvIG5vdCBwYXNzIHJldHVyblRvIGFzIHBhcnQgb2YgYXV0aG9yaXphdGlvblBhcmFtZXRlcnNcbiAgICAgICAgLy8gcmV0dXJuVG8gc2hvdWxkIG9ubHkgYmUgdXNlZCBpbiB0eG4gc3RhdGVcbiAgICAgICAgY29uc3QgeyByZXR1cm5UbywgLi4uYXV0aG9yaXphdGlvblBhcmFtZXRlcnMgfSA9IHNlYXJjaFBhcmFtcztcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGF1dGhvcml6YXRpb25QYXJhbWV0ZXJzLFxuICAgICAgICAgICAgcmV0dXJuVG86IHJldHVyblRvXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXJ0SW50ZXJhY3RpdmVMb2dpbihvcHRpb25zKTtcbiAgICB9XG4gICAgYXN5bmMgaGFuZGxlTG9nb3V0KHJlcSkge1xuICAgICAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgdGhpcy5zZXNzaW9uU3RvcmUuZ2V0KHJlcS5jb29raWVzKTtcbiAgICAgICAgY29uc3QgW2Rpc2NvdmVyeUVycm9yLCBhdXRob3JpemF0aW9uU2VydmVyTWV0YWRhdGFdID0gYXdhaXQgdGhpcy5kaXNjb3ZlckF1dGhvcml6YXRpb25TZXJ2ZXJNZXRhZGF0YSgpO1xuICAgICAgICBpZiAoZGlzY292ZXJ5RXJyb3IpIHtcbiAgICAgICAgICAgIC8vIENsZWFuIHVwIHNlc3Npb24gb24gZGlzY292ZXJ5IGVycm9yXG4gICAgICAgICAgICBjb25zdCBlcnJvclJlc3BvbnNlID0gbmV3IE5leHRSZXNwb25zZShcIkFuIGVycm9yIG9jY3VycmVkIHdoaWxlIHRyeWluZyB0byBpbml0aWF0ZSB0aGUgbG9nb3V0IHJlcXVlc3QuXCIsIHtcbiAgICAgICAgICAgICAgICBzdGF0dXM6IDUwMFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnNlc3Npb25TdG9yZS5kZWxldGUocmVxLmNvb2tpZXMsIGVycm9yUmVzcG9uc2UuY29va2llcyk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnRyYW5zYWN0aW9uU3RvcmUuZGVsZXRlQWxsKHJlcS5jb29raWVzLCBlcnJvclJlc3BvbnNlLmNvb2tpZXMpO1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yUmVzcG9uc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmV0dXJuVG8gPSByZXEubmV4dFVybC5zZWFyY2hQYXJhbXMuZ2V0KFwicmV0dXJuVG9cIikgfHwgdGhpcy5hcHBCYXNlVXJsO1xuICAgICAgICBjb25zdCBmZWRlcmF0ZWQgPSByZXEubmV4dFVybC5zZWFyY2hQYXJhbXMuaGFzKFwiZmVkZXJhdGVkXCIpO1xuICAgICAgICBjb25zdCBjcmVhdGVWMkxvZ291dFJlc3BvbnNlID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChcIi92Mi9sb2dvdXRcIiwgdGhpcy5pc3N1ZXIpO1xuICAgICAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoXCJyZXR1cm5Ub1wiLCByZXR1cm5Ubyk7XG4gICAgICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldChcImNsaWVudF9pZFwiLCB0aGlzLmNsaWVudE1ldGFkYXRhLmNsaWVudF9pZCk7XG4gICAgICAgICAgICBpZiAoZmVkZXJhdGVkKSB7XG4gICAgICAgICAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoXCJmZWRlcmF0ZWRcIiwgXCJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLnJlZGlyZWN0KHVybCk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGNyZWF0ZU9JRENMb2dvdXRSZXNwb25zZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoYXV0aG9yaXphdGlvblNlcnZlck1ldGFkYXRhLmVuZF9zZXNzaW9uX2VuZHBvaW50KTtcbiAgICAgICAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KFwiY2xpZW50X2lkXCIsIHRoaXMuY2xpZW50TWV0YWRhdGEuY2xpZW50X2lkKTtcbiAgICAgICAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KFwicG9zdF9sb2dvdXRfcmVkaXJlY3RfdXJpXCIsIHJldHVyblRvKTtcbiAgICAgICAgICAgIGlmIChzZXNzaW9uPy5pbnRlcm5hbC5zaWQpIHtcbiAgICAgICAgICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldChcImxvZ291dF9oaW50XCIsIHNlc3Npb24uaW50ZXJuYWwuc2lkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmluY2x1ZGVJZFRva2VuSGludEluT0lEQ0xvZ291dFVybCAmJiBzZXNzaW9uPy50b2tlblNldC5pZFRva2VuKSB7XG4gICAgICAgICAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoXCJpZF90b2tlbl9oaW50XCIsIHNlc3Npb24udG9rZW5TZXQuaWRUb2tlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZmVkZXJhdGVkKSB7XG4gICAgICAgICAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoXCJmZWRlcmF0ZWRcIiwgXCJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLnJlZGlyZWN0KHVybCk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIERldGVybWluZSBsb2dvdXQgc3RyYXRlZ3kgYW5kIGNyZWF0ZSBhcHByb3ByaWF0ZSByZXNwb25zZVxuICAgICAgICBsZXQgbG9nb3V0UmVzcG9uc2U7XG4gICAgICAgIGlmICh0aGlzLmxvZ291dFN0cmF0ZWd5ID09PSBcInYyXCIpIHtcbiAgICAgICAgICAgIC8vIEFsd2F5cyB1c2UgdjIgbG9nb3V0IGVuZHBvaW50XG4gICAgICAgICAgICBsb2dvdXRSZXNwb25zZSA9IGNyZWF0ZVYyTG9nb3V0UmVzcG9uc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmxvZ291dFN0cmF0ZWd5ID09PSBcIm9pZGNcIikge1xuICAgICAgICAgICAgLy8gQWx3YXlzIHVzZSBPSURDIFJQLUluaXRpYXRlZCBMb2dvdXRcbiAgICAgICAgICAgIGlmICghYXV0aG9yaXphdGlvblNlcnZlck1ldGFkYXRhLmVuZF9zZXNzaW9uX2VuZHBvaW50KSB7XG4gICAgICAgICAgICAgICAgLy8gQ2xlYW4gdXAgc2Vzc2lvbiBvbiBPSURDIGVycm9yXG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3JSZXNwb25zZSA9IG5ldyBOZXh0UmVzcG9uc2UoXCJPSURDIFJQLUluaXRpYXRlZCBMb2dvdXQgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgYXV0aG9yaXphdGlvbiBzZXJ2ZXIuIEVuYWJsZSBpdCBvciB1c2UgYSBkaWZmZXJlbnQgbG9nb3V0IHN0cmF0ZWd5LlwiLCB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogNTAwXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zZXNzaW9uU3RvcmUuZGVsZXRlKHJlcS5jb29raWVzLCBlcnJvclJlc3BvbnNlLmNvb2tpZXMpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMudHJhbnNhY3Rpb25TdG9yZS5kZWxldGVBbGwocmVxLmNvb2tpZXMsIGVycm9yUmVzcG9uc2UuY29va2llcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yUmVzcG9uc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb2dvdXRSZXNwb25zZSA9IGNyZWF0ZU9JRENMb2dvdXRSZXNwb25zZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gQXV0byBzdHJhdGVneSAoZGVmYXVsdCk6IFRyeSBPSURDIGZpcnN0LCBmYWxsYmFjayB0byB2MiBpZiBub3QgYXZhaWxhYmxlXG4gICAgICAgICAgICBpZiAoIWF1dGhvcml6YXRpb25TZXJ2ZXJNZXRhZGF0YS5lbmRfc2Vzc2lvbl9lbmRwb2ludCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlRoZSBBdXRoMCBjbGllbnQgZG9lcyBub3QgaGF2ZSBSUC1pbml0aWF0ZWQgbG9nb3V0IGVuYWJsZWQsIHRoZSB1c2VyIHdpbGwgYmUgcmVkaXJlY3RlZCB0byB0aGUgYC92Mi9sb2dvdXRgIGVuZHBvaW50IGluc3RlYWQuIExlYXJuIGhvdyB0byBlbmFibGUgaXQgaGVyZTogaHR0cHM6Ly9hdXRoMC5jb20vZG9jcy9hdXRoZW50aWNhdGUvbG9naW4vbG9nb3V0L2xvZy11c2Vycy1vdXQtb2YtYXV0aDAjZW5hYmxlLWVuZHBvaW50LWRpc2NvdmVyeVwiKTtcbiAgICAgICAgICAgICAgICBsb2dvdXRSZXNwb25zZSA9IGNyZWF0ZVYyTG9nb3V0UmVzcG9uc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxvZ291dFJlc3BvbnNlID0gY3JlYXRlT0lEQ0xvZ291dFJlc3BvbnNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2xlYW4gdXAgc2Vzc2lvbiBhbmQgdHJhbnNhY3Rpb24gY29va2llc1xuICAgICAgICBhd2FpdCB0aGlzLnNlc3Npb25TdG9yZS5kZWxldGUocmVxLmNvb2tpZXMsIGxvZ291dFJlc3BvbnNlLmNvb2tpZXMpO1xuICAgICAgICBhZGRDYWNoZUNvbnRyb2xIZWFkZXJzRm9yU2Vzc2lvbihsb2dvdXRSZXNwb25zZSk7XG4gICAgICAgIC8vIENsZWFyIGFueSBvcnBoYW5lZCB0cmFuc2FjdGlvbiBjb29raWVzXG4gICAgICAgIGF3YWl0IHRoaXMudHJhbnNhY3Rpb25TdG9yZS5kZWxldGVBbGwocmVxLmNvb2tpZXMsIGxvZ291dFJlc3BvbnNlLmNvb2tpZXMpO1xuICAgICAgICByZXR1cm4gbG9nb3V0UmVzcG9uc2U7XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZUNhbGxiYWNrKHJlcSkge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHJlcS5uZXh0VXJsLnNlYXJjaFBhcmFtcy5nZXQoXCJzdGF0ZVwiKTtcbiAgICAgICAgaWYgKCFzdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlQ2FsbGJhY2tFcnJvcihuZXcgTWlzc2luZ1N0YXRlRXJyb3IoKSwge30sIHJlcSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdHJhbnNhY3Rpb25TdGF0ZUNvb2tpZSA9IGF3YWl0IHRoaXMudHJhbnNhY3Rpb25TdG9yZS5nZXQocmVxLmNvb2tpZXMsIHN0YXRlKTtcbiAgICAgICAgaWYgKCF0cmFuc2FjdGlvblN0YXRlQ29va2llKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vbkNhbGxiYWNrKG5ldyBJbnZhbGlkU3RhdGVFcnJvcigpLCB7fSwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdHJhbnNhY3Rpb25TdGF0ZSA9IHRyYW5zYWN0aW9uU3RhdGVDb29raWUucGF5bG9hZDtcbiAgICAgICAgY29uc3Qgb25DYWxsYmFja0N0eCA9IHtcbiAgICAgICAgICAgIHJlc3BvbnNlVHlwZTogdHJhbnNhY3Rpb25TdGF0ZS5yZXNwb25zZVR5cGUsXG4gICAgICAgICAgICByZXR1cm5UbzogdHJhbnNhY3Rpb25TdGF0ZS5yZXR1cm5Ub1xuICAgICAgICB9O1xuICAgICAgICBpZiAodHJhbnNhY3Rpb25TdGF0ZS5yZXNwb25zZVR5cGUgPT09IFJFU1BPTlNFX1RZUEVTLkNPTk5FQ1RfQ09ERSkge1xuICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IHRoaXMuc2Vzc2lvblN0b3JlLmdldChyZXEuY29va2llcyk7XG4gICAgICAgICAgICBpZiAoIXNlc3Npb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVDYWxsYmFja0Vycm9yKG5ldyBDb25uZWN0QWNjb3VudEVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogQ29ubmVjdEFjY291bnRFcnJvckNvZGVzLk1JU1NJTkdfU0VTU0lPTixcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJUaGUgdXNlciBkb2VzIG5vdCBoYXZlIGFuIGFjdGl2ZSBzZXNzaW9uLlwiXG4gICAgICAgICAgICAgICAgfSksIG9uQ2FsbGJhY2tDdHgsIHJlcSwgc3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZ2V0IGFuIGFjY2VzcyB0b2tlbiBmb3IgY29ubmVjdGVkIGFjY291bnRzXG4gICAgICAgICAgICBjb25zdCBbdG9rZW5TZXRFcnJvciwgdG9rZW5TZXRSZXNwb25zZV0gPSBhd2FpdCB0aGlzLmdldFRva2VuU2V0KHNlc3Npb24sIHtcbiAgICAgICAgICAgICAgICBhdWRpZW5jZTogYCR7dGhpcy5pc3N1ZXJ9L21lL2AsXG4gICAgICAgICAgICAgICAgc2NvcGU6IFwiY3JlYXRlOm1lOmNvbm5lY3RlZF9hY2NvdW50c1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICh0b2tlblNldEVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlQ2FsbGJhY2tFcnJvcih0b2tlblNldEVycm9yLCBvbkNhbGxiYWNrQ3R4LCByZXEsIHN0YXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IFtjb21wbGV0ZUNvbm5lY3RBY2NvdW50RXJyb3IsIGNvbm5lY3RlZEFjY291bnRdID0gYXdhaXQgdGhpcy5jb21wbGV0ZUNvbm5lY3RBY2NvdW50KHtcbiAgICAgICAgICAgICAgICB0b2tlblNldDogdG9rZW5TZXRSZXNwb25zZS50b2tlblNldCxcbiAgICAgICAgICAgICAgICBhdXRoU2Vzc2lvbjogdHJhbnNhY3Rpb25TdGF0ZS5hdXRoU2Vzc2lvbixcbiAgICAgICAgICAgICAgICBjb25uZWN0Q29kZTogcmVxLm5leHRVcmwuc2VhcmNoUGFyYW1zLmdldChcImNvbm5lY3RfY29kZVwiKSxcbiAgICAgICAgICAgICAgICByZWRpcmVjdFVyaTogY3JlYXRlUm91dGVVcmwodGhpcy5yb3V0ZXMuY2FsbGJhY2ssIHRoaXMuYXBwQmFzZVVybCkudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICBjb2RlVmVyaWZpZXI6IHRyYW5zYWN0aW9uU3RhdGUuY29kZVZlcmlmaWVyXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChjb21wbGV0ZUNvbm5lY3RBY2NvdW50RXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVDYWxsYmFja0Vycm9yKGNvbXBsZXRlQ29ubmVjdEFjY291bnRFcnJvciwgb25DYWxsYmFja0N0eCwgcmVxLCBzdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLm9uQ2FsbGJhY2sobnVsbCwge1xuICAgICAgICAgICAgICAgIC4uLm9uQ2FsbGJhY2tDdHgsXG4gICAgICAgICAgICAgICAgY29ubmVjdGVkQWNjb3VudFxuICAgICAgICAgICAgfSwgc2Vzc2lvbik7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnRyYW5zYWN0aW9uU3RvcmUuZGVsZXRlKHJlcy5jb29raWVzLCBzdGF0ZSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IFtkaXNjb3ZlcnlFcnJvciwgYXV0aG9yaXphdGlvblNlcnZlck1ldGFkYXRhXSA9IGF3YWl0IHRoaXMuZGlzY292ZXJBdXRob3JpemF0aW9uU2VydmVyTWV0YWRhdGEoKTtcbiAgICAgICAgaWYgKGRpc2NvdmVyeUVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVDYWxsYmFja0Vycm9yKGRpc2NvdmVyeUVycm9yLCBvbkNhbGxiYWNrQ3R4LCByZXEsIHN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY29kZUdyYW50UGFyYW1zO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29kZUdyYW50UGFyYW1zID0gb2F1dGgudmFsaWRhdGVBdXRoUmVzcG9uc2UoYXV0aG9yaXphdGlvblNlcnZlck1ldGFkYXRhLCB0aGlzLmNsaWVudE1ldGFkYXRhLCByZXEubmV4dFVybC5zZWFyY2hQYXJhbXMsIHRyYW5zYWN0aW9uU3RhdGUuc3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVDYWxsYmFja0Vycm9yKG5ldyBBdXRob3JpemF0aW9uRXJyb3Ioe1xuICAgICAgICAgICAgICAgIGNhdXNlOiBuZXcgT0F1dGgyRXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBlLmVycm9yLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlLmVycm9yX2Rlc2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pLCBvbkNhbGxiYWNrQ3R4LCByZXEsIHN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY29kZUdyYW50UmVzcG9uc2U7XG4gICAgICAgIGxldCByZWRpcmVjdFVyaTtcbiAgICAgICAgbGV0IGF1dGhvcml6YXRpb25Db2RlR3JhbnRSZXF1ZXN0Q2FsbDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlZGlyZWN0VXJpID0gY3JlYXRlUm91dGVVcmwodGhpcy5yb3V0ZXMuY2FsbGJhY2ssIHRoaXMuYXBwQmFzZVVybCk7IC8vIG11c3QgYmUgcmVnaXN0ZXJlZCB3aXRoIHRoZSBhdXRob3JpemF0aW9uIHNlcnZlclxuICAgICAgICAgICAgLy8gQ3JlYXRlIERQb1AgaGFuZGxlIE9OQ0Ugb3V0c2lkZSB0aGUgY2xvc3VyZSBzbyBpdCBwZXJzaXN0cyBhY3Jvc3MgcmV0cmllcy5cbiAgICAgICAgICAgIC8vIFRoaXMgaXMgcmVxdWlyZWQgYnkgUkZDIDk0NDk6IHRoZSBoYW5kbGUgbXVzdCBsZWFybiBhbmQgcmV1c2UgdGhlIG5vbmNlIGZyb21cbiAgICAgICAgICAgIC8vIHRoZSBEUG9QLU5vbmNlIGhlYWRlciBhY3Jvc3MgbXVsdGlwbGUgYXR0ZW1wdHMuXG4gICAgICAgICAgICBjb25zdCBkcG9wSGFuZGxlID0gdGhpcy51c2VEUG9QICYmIHRoaXMuZHBvcEtleVBhaXJcbiAgICAgICAgICAgICAgICA/IG9hdXRoLkRQb1AodGhpcy5jbGllbnRNZXRhZGF0YSwgdGhpcy5kcG9wS2V5UGFpcilcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGF1dGhvcml6YXRpb25Db2RlR3JhbnRSZXF1ZXN0Q2FsbCA9IGFzeW5jICgpID0+IG9hdXRoLmF1dGhvcml6YXRpb25Db2RlR3JhbnRSZXF1ZXN0KGF1dGhvcml6YXRpb25TZXJ2ZXJNZXRhZGF0YSwgdGhpcy5jbGllbnRNZXRhZGF0YSwgYXdhaXQgdGhpcy5nZXRDbGllbnRBdXRoKCksIGNvZGVHcmFudFBhcmFtcywgcmVkaXJlY3RVcmkudG9TdHJpbmcoKSwgdHJhbnNhY3Rpb25TdGF0ZS5jb2RlVmVyaWZpZXIsIHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLmh0dHBPcHRpb25zKCksXG4gICAgICAgICAgICAgICAgW29hdXRoLmN1c3RvbUZldGNoXTogdGhpcy5mZXRjaCxcbiAgICAgICAgICAgICAgICBbb2F1dGguYWxsb3dJbnNlY3VyZVJlcXVlc3RzXTogdGhpcy5hbGxvd0luc2VjdXJlUmVxdWVzdHMsXG4gICAgICAgICAgICAgICAgLi4uKGRwb3BIYW5kbGUgJiYge1xuICAgICAgICAgICAgICAgICAgICBEUG9QOiBkcG9wSGFuZGxlXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gTk9URTogVW5saWtlIHJlZnJlc2ggdG9rZW4gYW5kIGNvbm5lY3Rpb24gdG9rZW4gZmxvd3MsIHRoZSBhdXRoIGNvZGUgZmxvd1xuICAgICAgICAgICAgLy8gd3JhcHMgb25seSB0aGUgSFRUUCByZXF1ZXN0IChub3QgcmVzcG9uc2UgcHJvY2Vzc2luZykgaW4gd2l0aERQb1BOb25jZVJldHJ5KCkuXG4gICAgICAgICAgICAvLyBUaGlzIGlzIGludGVudGlvbmFsOiB3aXRoRFBvUE5vbmNlUmV0cnkoKSBleHBlY3RzIGEgUmVzcG9uc2Ugb2JqZWN0IHRvIGluc3BlY3RcbiAgICAgICAgICAgIC8vIGZvciBub25jZSByZXRyaWVzLiBJZiByZXNwb25zZSBwcm9jZXNzaW5nIGlzIGluY2x1ZGVkIGluIHRoZSB3cmFwcGVyLCBpdCByZXR1cm5zXG4gICAgICAgICAgICAvLyBhIHByb2Nlc3NlZCBvYmplY3QgYW5kIHJldHJ5IGxvZ2ljIGJyZWFrcy4gUmVzcG9uc2UgcHJvY2Vzc2luZyBoYXBwZW5zIGFmdGVyXG4gICAgICAgICAgICAvLyAoc2VlIGxpbmUgODA3KSB0byBtYWludGFpbiBjb21wYXRpYmlsaXR5IHdpdGggdGhlIHJldHJ5IG1lY2hhbmlzbS5cbiAgICAgICAgICAgIGNvZGVHcmFudFJlc3BvbnNlID0gYXdhaXQgd2l0aERQb1BOb25jZVJldHJ5KGF1dGhvcml6YXRpb25Db2RlR3JhbnRSZXF1ZXN0Q2FsbCwge1xuICAgICAgICAgICAgICAgIGlzRFBvUEVuYWJsZWQ6ICEhZHBvcEhhbmRsZSxcbiAgICAgICAgICAgICAgICAuLi50aGlzLmRwb3BPcHRpb25zPy5yZXRyeVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhhbmRsZUNhbGxiYWNrRXJyb3IobmV3IEF1dGhvcml6YXRpb25Db2RlR3JhbnRSZXF1ZXN0RXJyb3IoZS5tZXNzYWdlKSwgb25DYWxsYmFja0N0eCwgcmVxLCBzdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG9pZGNSZXM7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBQcm9jZXNzIHRoZSBhdXRob3JpemF0aW9uIGNvZGUgcmVzcG9uc2VcbiAgICAgICAgICAgIC8vIEZvciBhdXRob3JpemF0aW9uIGNvZGUgZmxvd3MsIG9hdXRoNHdlYmFwaSBoYW5kbGVzIERQb1Agbm9uY2UgbWFuYWdlbWVudCBpbnRlcm5hbGx5XG4gICAgICAgICAgICAvLyBObyBuZWVkIGZvciBtYW51YWwgcmV0cnkgc2luY2UgYXV0aG9yaXphdGlvbiBjb2RlcyBhcmUgc2luZ2xlLXVzZVxuICAgICAgICAgICAgb2lkY1JlcyA9IGF3YWl0IG9hdXRoLnByb2Nlc3NBdXRob3JpemF0aW9uQ29kZVJlc3BvbnNlKGF1dGhvcml6YXRpb25TZXJ2ZXJNZXRhZGF0YSwgdGhpcy5jbGllbnRNZXRhZGF0YSwgY29kZUdyYW50UmVzcG9uc2UsIHtcbiAgICAgICAgICAgICAgICBleHBlY3RlZE5vbmNlOiB0cmFuc2FjdGlvblN0YXRlLm5vbmNlLFxuICAgICAgICAgICAgICAgIG1heEFnZTogdHJhbnNhY3Rpb25TdGF0ZS5tYXhBZ2UsXG4gICAgICAgICAgICAgICAgcmVxdWlyZUlkVG9rZW46IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVDYWxsYmFja0Vycm9yKG5ldyBBdXRob3JpemF0aW9uQ29kZUdyYW50RXJyb3Ioe1xuICAgICAgICAgICAgICAgIGNhdXNlOiBuZXcgT0F1dGgyRXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBlLmVycm9yLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlLmVycm9yX2Rlc2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pLCBvbkNhbGxiYWNrQ3R4LCByZXEsIHN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpZFRva2VuQ2xhaW1zID0gb2F1dGguZ2V0VmFsaWRhdGVkSWRUb2tlbkNsYWltcyhvaWRjUmVzKTtcbiAgICAgICAgbGV0IHNlc3Npb24gPSB7XG4gICAgICAgICAgICB1c2VyOiBpZFRva2VuQ2xhaW1zLFxuICAgICAgICAgICAgdG9rZW5TZXQ6IHtcbiAgICAgICAgICAgICAgICBhY2Nlc3NUb2tlbjogb2lkY1Jlcy5hY2Nlc3NfdG9rZW4sXG4gICAgICAgICAgICAgICAgaWRUb2tlbjogb2lkY1Jlcy5pZF90b2tlbixcbiAgICAgICAgICAgICAgICBzY29wZTogb2lkY1Jlcy5zY29wZSxcbiAgICAgICAgICAgICAgICByZXF1ZXN0ZWRTY29wZTogdHJhbnNhY3Rpb25TdGF0ZS5zY29wZSxcbiAgICAgICAgICAgICAgICBhdWRpZW5jZTogdHJhbnNhY3Rpb25TdGF0ZS5hdWRpZW5jZSxcbiAgICAgICAgICAgICAgICByZWZyZXNoVG9rZW46IG9pZGNSZXMucmVmcmVzaF90b2tlbixcbiAgICAgICAgICAgICAgICBleHBpcmVzQXQ6IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApICsgTnVtYmVyKG9pZGNSZXMuZXhwaXJlc19pbilcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbnRlcm5hbDoge1xuICAgICAgICAgICAgICAgIHNpZDogaWRUb2tlbkNsYWltcy5zaWQsXG4gICAgICAgICAgICAgICAgY3JlYXRlZEF0OiBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLm9uQ2FsbGJhY2sobnVsbCwgb25DYWxsYmFja0N0eCwgc2Vzc2lvbik7XG4gICAgICAgIC8vIGNhbGwgYmVmb3JlU2Vzc2lvblNhdmVkIGNhbGxiYWNrIGlmIHByZXNlbnRcbiAgICAgICAgLy8gaWYgbm90IHRoZW4gZmlsdGVyIGlkX3Rva2VuIGNsYWltcyB3aXRoIGRlZmF1bHQgcnVsZXNcbiAgICAgICAgc2Vzc2lvbiA9IGF3YWl0IHRoaXMuZmluYWxpemVTZXNzaW9uKHNlc3Npb24sIG9pZGNSZXMuaWRfdG9rZW4pO1xuICAgICAgICBhd2FpdCB0aGlzLnNlc3Npb25TdG9yZS5zZXQocmVxLmNvb2tpZXMsIHJlcy5jb29raWVzLCBzZXNzaW9uLCB0cnVlKTtcbiAgICAgICAgYWRkQ2FjaGVDb250cm9sSGVhZGVyc0ZvclNlc3Npb24ocmVzKTtcbiAgICAgICAgLy8gQ2xlYW4gdXAgdGhlIGN1cnJlbnQgdHJhbnNhY3Rpb24gY29va2llIGFmdGVyIHN1Y2Nlc3NmdWwgYXV0aGVudGljYXRpb25cbiAgICAgICAgYXdhaXQgdGhpcy50cmFuc2FjdGlvblN0b3JlLmRlbGV0ZShyZXMuY29va2llcywgc3RhdGUpO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgICBhc3luYyBoYW5kbGVQcm9maWxlKHJlcSkge1xuICAgICAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgdGhpcy5zZXNzaW9uU3RvcmUuZ2V0KHJlcS5jb29raWVzKTtcbiAgICAgICAgaWYgKCFzZXNzaW9uKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5ub0NvbnRlbnRQcm9maWxlUmVzcG9uc2VXaGVuVW5hdXRoZW50aWNhdGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBOZXh0UmVzcG9uc2UobnVsbCwge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IDIwNFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBOZXh0UmVzcG9uc2UobnVsbCwge1xuICAgICAgICAgICAgICAgIHN0YXR1czogNDAxXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXMgPSBOZXh0UmVzcG9uc2UuanNvbihzZXNzaW9uPy51c2VyKTtcbiAgICAgICAgYWRkQ2FjaGVDb250cm9sSGVhZGVyc0ZvclNlc3Npb24ocmVzKTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gICAgYXN5bmMgaGFuZGxlQWNjZXNzVG9rZW4ocmVxKSB7XG4gICAgICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCB0aGlzLnNlc3Npb25TdG9yZS5nZXQocmVxLmNvb2tpZXMpO1xuICAgICAgICBjb25zdCBhdWRpZW5jZSA9IHJlcS5uZXh0VXJsLnNlYXJjaFBhcmFtcy5nZXQoXCJhdWRpZW5jZVwiKTtcbiAgICAgICAgY29uc3Qgc2NvcGUgPSByZXEubmV4dFVybC5zZWFyY2hQYXJhbXMuZ2V0KFwic2NvcGVcIik7XG4gICAgICAgIGlmICghc2Vzc2lvbikge1xuICAgICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgICAgICAgICBlcnJvcjoge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRoZSB1c2VyIGRvZXMgbm90IGhhdmUgYW4gYWN0aXZlIHNlc3Npb24uXCIsXG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IEFjY2Vzc1Rva2VuRXJyb3JDb2RlLk1JU1NJTkdfU0VTU0lPTlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBzdGF0dXM6IDQwMVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgW2Vycm9yLCBnZXRUb2tlblNldFJlc3BvbnNlXSA9IGF3YWl0IHRoaXMuZ2V0VG9rZW5TZXQoc2Vzc2lvbiwge1xuICAgICAgICAgICAgc2NvcGUsXG4gICAgICAgICAgICBhdWRpZW5jZVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICAgICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IGVycm9yLmNvZGVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiA0MDFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgdG9rZW5TZXQ6IHVwZGF0ZWRUb2tlblNldCB9ID0gZ2V0VG9rZW5TZXRSZXNwb25zZTtcbiAgICAgICAgY29uc3QgcmVzID0gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICAgICAgdG9rZW46IHVwZGF0ZWRUb2tlblNldC5hY2Nlc3NUb2tlbixcbiAgICAgICAgICAgIHNjb3BlOiB1cGRhdGVkVG9rZW5TZXQuc2NvcGUsXG4gICAgICAgICAgICBleHBpcmVzX2F0OiB1cGRhdGVkVG9rZW5TZXQuZXhwaXJlc0F0LFxuICAgICAgICAgICAgLi4uKHVwZGF0ZWRUb2tlblNldC50b2tlbl90eXBlICYmIHtcbiAgICAgICAgICAgICAgICB0b2tlbl90eXBlOiB1cGRhdGVkVG9rZW5TZXQudG9rZW5fdHlwZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSk7XG4gICAgICAgIGF3YWl0IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0F1dGhDbGllbnRfaW5zdGFuY2VzLCBcIm1cIiwgX0F1dGhDbGllbnRfdXBkYXRlU2Vzc2lvbkFmdGVyVG9rZW5SZXRyaWV2YWwpLmNhbGwodGhpcywgcmVxLCByZXMsIHNlc3Npb24sIGdldFRva2VuU2V0UmVzcG9uc2UpO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgICBhc3luYyBoYW5kbGVCYWNrQ2hhbm5lbExvZ291dChyZXEpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNlc3Npb25TdG9yZS5zdG9yZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBOZXh0UmVzcG9uc2UoXCJBIHNlc3Npb24gZGF0YSBzdG9yZSBpcyBub3QgY29uZmlndXJlZC5cIiwge1xuICAgICAgICAgICAgICAgIHN0YXR1czogNTAwXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuc2Vzc2lvblN0b3JlLnN0b3JlLmRlbGV0ZUJ5TG9nb3V0VG9rZW4pIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTmV4dFJlc3BvbnNlKFwiQmFjay1jaGFubmVsIGxvZ291dCBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBzZXNzaW9uIGRhdGEgc3RvcmUuXCIsIHtcbiAgICAgICAgICAgICAgICBzdGF0dXM6IDUwMFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYm9keSA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoYXdhaXQgcmVxLnRleHQoKSk7XG4gICAgICAgIGNvbnN0IGxvZ291dFRva2VuID0gYm9keS5nZXQoXCJsb2dvdXRfdG9rZW5cIik7XG4gICAgICAgIGlmICghbG9nb3V0VG9rZW4pIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTmV4dFJlc3BvbnNlKFwiTWlzc2luZyBgbG9nb3V0X3Rva2VuYCBpbiB0aGUgcmVxdWVzdCBib2R5LlwiLCB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiA0MDBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IFtlcnJvciwgbG9nb3V0VG9rZW5DbGFpbXNdID0gYXdhaXQgdGhpcy52ZXJpZnlMb2dvdXRUb2tlbihsb2dvdXRUb2tlbik7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBOZXh0UmVzcG9uc2UoZXJyb3IubWVzc2FnZSwge1xuICAgICAgICAgICAgICAgIHN0YXR1czogNDAwXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCB0aGlzLnNlc3Npb25TdG9yZS5zdG9yZS5kZWxldGVCeUxvZ291dFRva2VuKGxvZ291dFRva2VuQ2xhaW1zKTtcbiAgICAgICAgcmV0dXJuIG5ldyBOZXh0UmVzcG9uc2UobnVsbCwge1xuICAgICAgICAgICAgc3RhdHVzOiAyMDRcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZUNvbm5lY3RBY2NvdW50KHJlcSkge1xuICAgICAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgdGhpcy5zZXNzaW9uU3RvcmUuZ2V0KHJlcS5jb29raWVzKTtcbiAgICAgICAgLy8gcGFzcyBhbGwgcXVlcnkgcGFyYW1zIGV4Y2VwdCBgY29ubmVjdGlvbmAgYW5kIGByZXR1cm5Ub2AgYXMgYXV0aG9yaXphdGlvbiBwYXJhbXNcbiAgICAgICAgY29uc3QgY29ubmVjdGlvbiA9IHJlcS5uZXh0VXJsLnNlYXJjaFBhcmFtcy5nZXQoXCJjb25uZWN0aW9uXCIpO1xuICAgICAgICBjb25zdCByZXR1cm5UbyA9IHJlcS5uZXh0VXJsLnNlYXJjaFBhcmFtcy5nZXQoXCJyZXR1cm5Ub1wiKSA/PyB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IGF1dGhvcml6YXRpb25QYXJhbXMgPSBPYmplY3QuZnJvbUVudHJpZXMoWy4uLnJlcS5uZXh0VXJsLnNlYXJjaFBhcmFtcy5lbnRyaWVzKCldLmZpbHRlcigoW2tleV0pID0+IGtleSAhPT0gXCJjb25uZWN0aW9uXCIgJiYga2V5ICE9PSBcInJldHVyblRvXCIpKTtcbiAgICAgICAgaWYgKCFjb25uZWN0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE5leHRSZXNwb25zZShcIkEgY29ubmVjdGlvbiBpcyByZXF1aXJlZC5cIiwge1xuICAgICAgICAgICAgICAgIHN0YXR1czogNDAwXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNlc3Npb24pIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTmV4dFJlc3BvbnNlKFwiVGhlIHVzZXIgZG9lcyBub3QgaGF2ZSBhbiBhY3RpdmUgc2Vzc2lvbi5cIiwge1xuICAgICAgICAgICAgICAgIHN0YXR1czogNDAxXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBbZ2V0VG9rZW5TZXRFcnJvciwgZ2V0VG9rZW5TZXRSZXNwb25zZV0gPSBhd2FpdCB0aGlzLmdldFRva2VuU2V0KHNlc3Npb24sIHtcbiAgICAgICAgICAgIHNjb3BlOiBcImNyZWF0ZTptZTpjb25uZWN0ZWRfYWNjb3VudHNcIixcbiAgICAgICAgICAgIGF1ZGllbmNlOiBgJHt0aGlzLmlzc3Vlcn0vbWUvYFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGdldFRva2VuU2V0RXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTmV4dFJlc3BvbnNlKFwiRmFpbGVkIHRvIHJldHJpZXZlIGEgY29ubmVjdGVkIGFjY291bnQgYWNjZXNzIHRva2VuLlwiLCB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiA0MDFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgdG9rZW5TZXQgfSA9IGdldFRva2VuU2V0UmVzcG9uc2U7XG4gICAgICAgIGNvbnN0IFtjb25uZWN0QWNjb3VudEVycm9yLCBjb25uZWN0QWNjb3VudFJlc3BvbnNlXSA9IGF3YWl0IHRoaXMuY29ubmVjdEFjY291bnQoe1xuICAgICAgICAgICAgdG9rZW5TZXQ6IHRva2VuU2V0LFxuICAgICAgICAgICAgY29ubmVjdGlvbixcbiAgICAgICAgICAgIGF1dGhvcml6YXRpb25QYXJhbXMsXG4gICAgICAgICAgICByZXR1cm5Ub1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGNvbm5lY3RBY2NvdW50RXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTmV4dFJlc3BvbnNlKGNvbm5lY3RBY2NvdW50RXJyb3IubWVzc2FnZSwge1xuICAgICAgICAgICAgICAgIHN0YXR1czogY29ubmVjdEFjY291bnRFcnJvci5jYXVzZT8uc3RhdHVzID8/IDUwMFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdXBkYXRlIHRoZSBzZXNzaW9uIHdpdGggdGhlIG5ldyB0b2tlbiBzZXQsIGlmIG5lY2Vzc2FyeVxuICAgICAgICBhd2FpdCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9BdXRoQ2xpZW50X2luc3RhbmNlcywgXCJtXCIsIF9BdXRoQ2xpZW50X3VwZGF0ZVNlc3Npb25BZnRlclRva2VuUmV0cmlldmFsKS5jYWxsKHRoaXMsIHJlcSwgY29ubmVjdEFjY291bnRSZXNwb25zZSwgc2Vzc2lvbiwgZ2V0VG9rZW5TZXRSZXNwb25zZSk7XG4gICAgICAgIHJldHVybiBjb25uZWN0QWNjb3VudFJlc3BvbnNlO1xuICAgIH1cbiAgICBhc3luYyBoYW5kbGVNeUFjY291bnQocmVxKSB7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9BdXRoQ2xpZW50X2luc3RhbmNlcywgXCJtXCIsIF9BdXRoQ2xpZW50X2hhbmRsZVByb3h5KS5jYWxsKHRoaXMsIHJlcSwge1xuICAgICAgICAgICAgcHJveHlQYXRoOiBcIi9tZVwiLFxuICAgICAgICAgICAgdGFyZ2V0QmFzZVVybDogYCR7dGhpcy5pc3N1ZXJ9L21lL3YxYCxcbiAgICAgICAgICAgIGF1ZGllbmNlOiBgJHt0aGlzLmlzc3Vlcn0vbWUvYCxcbiAgICAgICAgICAgIHNjb3BlOiByZXEuaGVhZGVycy5nZXQoXCJzY29wZVwiKVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMgaGFuZGxlTXlPcmcocmVxKSB7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9BdXRoQ2xpZW50X2luc3RhbmNlcywgXCJtXCIsIF9BdXRoQ2xpZW50X2hhbmRsZVByb3h5KS5jYWxsKHRoaXMsIHJlcSwge1xuICAgICAgICAgICAgcHJveHlQYXRoOiBcIi9teS1vcmdcIixcbiAgICAgICAgICAgIHRhcmdldEJhc2VVcmw6IGAke3RoaXMuaXNzdWVyfS9teS1vcmdgLFxuICAgICAgICAgICAgYXVkaWVuY2U6IGAke3RoaXMuaXNzdWVyfS9teS1vcmcvYCxcbiAgICAgICAgICAgIHNjb3BlOiByZXEuaGVhZGVycy5nZXQoXCJzY29wZVwiKVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIE9BdXRoIHRva2VuIHNldHMsIGhhbmRsaW5nIHRva2VuIHJlZnJlc2ggd2hlbiBuZWNlc3Nhcnkgb3IgaWYgZm9yY2VkLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSB0dXBsZSBjb250YWluaW5nIGVpdGhlcjpcbiAgICAgKiAgIC0gYFtTZGtFcnJvciwgbnVsbF1gIGlmIGFuIGVycm9yIG9jY3VycmVkIChtaXNzaW5nIHJlZnJlc2ggdG9rZW4sIGRpc2NvdmVyeSBmYWlsdXJlLCBvciByZWZyZXNoIGZhaWx1cmUpXG4gICAgICogICAtIGBbbnVsbCwge3Rva2VuU2V0LCBpZFRva2VuQ2xhaW1zfV1gIGlmIGEgbmV3IHRva2VuIHdhcyByZXRyaWV2ZWQsIGNvbnRhaW5pbmcgdGhlIG5ldyB0b2tlbiBzZXQgSUQgdG9rZW4gY2xhaW1zXG4gICAgICogICAtIGBbbnVsbCwge3Rva2VuU2V0LCB9XWAgaWYgdG9rZW4gcmVmcmVzaCB3YXMgbm90IGRvbmUgYW5kIGV4aXN0aW5nIHRva2VuIHdhcyByZXR1cm5lZFxuICAgICAqL1xuICAgIGFzeW5jIGdldFRva2VuU2V0KHNlc3Npb25EYXRhLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIG1lcmdlIHRoZSBzY29wZXMgZnJvbSB0aGUgYXV0aG9yaXphdGlvbiBwYXJhbWV0ZXJzIGFuZCB0aGUgb3B0aW9ucy5cbiAgICAgICAgLy8gVGhlIHNjb3BlIGZyb20gdGhlIG9wdGlvbnMgd2lsbCBiZSBhZGRlZCB0byB0aGUgc2NvcGVzIGZyb20gdGhlIGF1dGhvcml6YXRpb24gcGFyYW1ldGVycy5cbiAgICAgICAgLy8gSWYgdGhlcmUgYXJlIGR1cGxpY2F0ZSBzY29wZXMsIHRoZXkgd2lsbCBiZSByZW1vdmVkLlxuICAgICAgICBjb25zdCBzY29wZSA9IG1lcmdlU2NvcGVzKGdldFNjb3BlRm9yQXVkaWVuY2UodGhpcy5hdXRob3JpemF0aW9uUGFyYW1ldGVycy5zY29wZSwgb3B0aW9ucy5hdWRpZW5jZSA/PyB0aGlzLmF1dGhvcml6YXRpb25QYXJhbWV0ZXJzLmF1ZGllbmNlKSwgb3B0aW9ucy5zY29wZSk7XG4gICAgICAgIGNvbnN0IHRva2VuU2V0ID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXV0aENsaWVudF9pbnN0YW5jZXMsIFwibVwiLCBfQXV0aENsaWVudF9nZXRUb2tlblNldEZyb21TZXNzaW9uKS5jYWxsKHRoaXMsIHNlc3Npb25EYXRhLCB7XG4gICAgICAgICAgICBzY29wZTogc2NvcGUsXG4gICAgICAgICAgICBhdWRpZW5jZTogb3B0aW9ucy5hdWRpZW5jZSA/PyB0aGlzLmF1dGhvcml6YXRpb25QYXJhbWV0ZXJzLmF1ZGllbmNlXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBubyBhY2Nlc3MgdG9rZW4gd2FzIGZvdW5kIHRoYXQgbWF0Y2hlcyB0aGUsIG9wdGlvbmFsLCBwcm92aWRlZCBhdWRpZW5jZSBhbmQgc2NvcGVcbiAgICAgICAgaWYgKCF0b2tlblNldC5yZWZyZXNoVG9rZW4gJiYgIXRva2VuU2V0LmFjY2Vzc1Rva2VuKSB7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIG5ldyBBY2Nlc3NUb2tlbkVycm9yKEFjY2Vzc1Rva2VuRXJyb3JDb2RlLk1JU1NJTkdfUkVGUkVTSF9UT0tFTiwgXCJObyBhY2Nlc3MgdG9rZW4gZm91bmQgYW5kIGEgcmVmcmVzaCB0b2tlbiB3YXMgbm90IHByb3ZpZGVkLiBUaGUgdXNlciBuZWVkcyB0byByZS1hdXRoZW50aWNhdGUuXCIpLFxuICAgICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhlIGFjY2VzcyB0b2tlbiB3YXMgZm91bmQsIGJ1dCBpdCBoYXMgZXhwaXJlZCBhbmQgd2UgZG8gbm90IGhhdmUgYSByZWZyZXNoIHRva2VuXG4gICAgICAgIGlmICghdG9rZW5TZXQucmVmcmVzaFRva2VuICYmXG4gICAgICAgICAgICB0b2tlblNldC5hY2Nlc3NUb2tlbiAmJlxuICAgICAgICAgICAgdG9rZW5TZXQuZXhwaXJlc0F0ICYmXG4gICAgICAgICAgICB0b2tlblNldC5leHBpcmVzQXQgPD0gRGF0ZS5ub3coKSAvIDEwMDApIHtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgbmV3IEFjY2Vzc1Rva2VuRXJyb3IoQWNjZXNzVG9rZW5FcnJvckNvZGUuTUlTU0lOR19SRUZSRVNIX1RPS0VOLCBcIlRoZSBhY2Nlc3MgdG9rZW4gaGFzIGV4cGlyZWQgYW5kIGEgcmVmcmVzaCB0b2tlbiB3YXMgbm90IHByb3ZpZGVkLiBUaGUgdXNlciBuZWVkcyB0byByZS1hdXRoZW50aWNhdGUuXCIpLFxuICAgICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRva2VuU2V0LnJlZnJlc2hUb2tlbikge1xuICAgICAgICAgICAgLy8gZWl0aGVyIHRoZSBhY2Nlc3MgdG9rZW4gaGFzIGV4cGlyZWQgb3Igd2UgYXJlIGZvcmNpbmcgYSByZWZyZXNoXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5yZWZyZXNoIHx8XG4gICAgICAgICAgICAgICAgIXRva2VuU2V0LmV4cGlyZXNBdCB8fFxuICAgICAgICAgICAgICAgIHRva2VuU2V0LmV4cGlyZXNBdCA8PSBEYXRlLm5vdygpIC8gMTAwMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IFtlcnJvciwgcmVzcG9uc2VdID0gYXdhaXQgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXV0aENsaWVudF9pbnN0YW5jZXMsIFwibVwiLCBfQXV0aENsaWVudF9yZWZyZXNoVG9rZW5TZXQpLmNhbGwodGhpcywgdG9rZW5TZXQsIHtcbiAgICAgICAgICAgICAgICAgICAgYXVkaWVuY2U6IG9wdGlvbnMuYXVkaWVuY2UsXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlOiBvcHRpb25zLnNjb3BlID8gc2NvcGUgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3RlZFNjb3BlOiBzY29wZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2Vycm9yLCBudWxsXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5TZXQ6IHJlc3BvbnNlLnVwZGF0ZWRUb2tlblNldCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkVG9rZW5DbGFpbXM6IHJlc3BvbnNlLmlkVG9rZW5DbGFpbXNcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtudWxsLCB7IHRva2VuU2V0OiB0b2tlblNldCwgaWRUb2tlbkNsYWltczogdW5kZWZpbmVkIH1dO1xuICAgIH1cbiAgICBhc3luYyBiYWNrY2hhbm5lbEF1dGhlbnRpY2F0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgW2Rpc2NvdmVyeUVycm9yLCBhdXRob3JpemF0aW9uU2VydmVyTWV0YWRhdGFdID0gYXdhaXQgdGhpcy5kaXNjb3ZlckF1dGhvcml6YXRpb25TZXJ2ZXJNZXRhZGF0YSgpO1xuICAgICAgICBpZiAoZGlzY292ZXJ5RXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBbZGlzY292ZXJ5RXJyb3IsIG51bGxdO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYXV0aG9yaXphdGlvblNlcnZlck1ldGFkYXRhLmJhY2tjaGFubmVsX2F1dGhlbnRpY2F0aW9uX2VuZHBvaW50KSB7XG4gICAgICAgICAgICByZXR1cm4gW25ldyBCYWNrY2hhbm5lbEF1dGhlbnRpY2F0aW9uTm90U3VwcG9ydGVkRXJyb3IoKSwgbnVsbF07XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgcHJvdmlkZWQgb24gYm90aCBzaWRlcywgdGhpcyBkb2VzIG5vdCBtZXJnZSB0aGUgc2NvcGUgcHJvcGVydHksXG4gICAgICAgIC8vIGluc3RlYWQsIHRoZSBzY29wZSBmcm9tIHRoZSByaWdodCBzaWRlIChvcHRpb25zKSBmdWxseSBvdmVycmlkZXMgdGhlIGxlZnQgc2lkZS5cbiAgICAgICAgLy8gVGhpcyBpcyBkb25lIHRvIGF2b2lkIGJyZWFraW5nIGV4aXN0aW5nIGJlaGF2aW9yLlxuICAgICAgICBjb25zdCBhdXRob3JpemF0aW9uUGFyYW1zID0gbWVyZ2VBdXRob3JpemF0aW9uUGFyYW1zSW50b1NlYXJjaFBhcmFtcyh0aGlzLmF1dGhvcml6YXRpb25QYXJhbWV0ZXJzLCBvcHRpb25zLmF1dGhvcml6YXRpb25QYXJhbXMsIElOVEVSTkFMX0FVVEhPUklaRV9QQVJBTVMpO1xuICAgICAgICBpZiAoIWF1dGhvcml6YXRpb25QYXJhbXMuZ2V0KFwic2NvcGVcIikpIHtcbiAgICAgICAgICAgIGF1dGhvcml6YXRpb25QYXJhbXMuc2V0KFwic2NvcGVcIiwgREVGQVVMVF9TQ09QRVMpO1xuICAgICAgICB9XG4gICAgICAgIGF1dGhvcml6YXRpb25QYXJhbXMuc2V0KFwiY2xpZW50X2lkXCIsIHRoaXMuY2xpZW50TWV0YWRhdGEuY2xpZW50X2lkKTtcbiAgICAgICAgYXV0aG9yaXphdGlvblBhcmFtcy5zZXQoXCJiaW5kaW5nX21lc3NhZ2VcIiwgb3B0aW9ucy5iaW5kaW5nTWVzc2FnZSk7XG4gICAgICAgIGF1dGhvcml6YXRpb25QYXJhbXMuc2V0KFwibG9naW5faGludFwiLCBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBmb3JtYXQ6IFwiaXNzX3N1YlwiLFxuICAgICAgICAgICAgaXNzOiBhdXRob3JpemF0aW9uU2VydmVyTWV0YWRhdGEuaXNzdWVyLFxuICAgICAgICAgICAgc3ViOiBvcHRpb25zLmxvZ2luSGludC5zdWJcbiAgICAgICAgfSkpO1xuICAgICAgICBpZiAob3B0aW9ucy5yZXF1ZXN0ZWRFeHBpcnkpIHtcbiAgICAgICAgICAgIGF1dGhvcml6YXRpb25QYXJhbXMuYXBwZW5kKFwicmVxdWVzdGVkX2V4cGlyeVwiLCBvcHRpb25zLnJlcXVlc3RlZEV4cGlyeS50b1N0cmluZygpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5hdXRob3JpemF0aW9uRGV0YWlscykge1xuICAgICAgICAgICAgYXV0aG9yaXphdGlvblBhcmFtcy5hcHBlbmQoXCJhdXRob3JpemF0aW9uX2RldGFpbHNcIiwgSlNPTi5zdHJpbmdpZnkob3B0aW9ucy5hdXRob3JpemF0aW9uRGV0YWlscykpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IFtvcGVuSWRDbGllbnRDb25maWdFcnJvciwgb3BlbmlkQ2xpZW50Q29uZmlnXSA9IGF3YWl0IHRoaXMuZ2V0T3BlbklkQ2xpZW50Q29uZmlnKCk7XG4gICAgICAgIGlmIChvcGVuSWRDbGllbnRDb25maWdFcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIFtvcGVuSWRDbGllbnRDb25maWdFcnJvciwgbnVsbF07XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGJhY2tjaGFubmVsQXV0aGVudGljYXRpb25SZXNwb25zZSA9IGF3YWl0IGNsaWVudC5pbml0aWF0ZUJhY2tjaGFubmVsQXV0aGVudGljYXRpb24ob3BlbmlkQ2xpZW50Q29uZmlnLCBhdXRob3JpemF0aW9uUGFyYW1zKTtcbiAgICAgICAgICAgIGNvbnN0IHRva2VuRW5kcG9pbnRSZXNwb25zZSA9IGF3YWl0IGNsaWVudC5wb2xsQmFja2NoYW5uZWxBdXRoZW50aWNhdGlvbkdyYW50KG9wZW5pZENsaWVudENvbmZpZywgYmFja2NoYW5uZWxBdXRoZW50aWNhdGlvblJlc3BvbnNlKTtcbiAgICAgICAgICAgIGNvbnN0IGFjY2Vzc1Rva2VuRXhwaXJlc0F0ID0gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCkgK1xuICAgICAgICAgICAgICAgIE51bWJlcih0b2tlbkVuZHBvaW50UmVzcG9uc2UuZXhwaXJlc19pbik7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0b2tlblNldDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXNzVG9rZW46IHRva2VuRW5kcG9pbnRSZXNwb25zZS5hY2Nlc3NfdG9rZW4sXG4gICAgICAgICAgICAgICAgICAgICAgICBpZFRva2VuOiB0b2tlbkVuZHBvaW50UmVzcG9uc2UuaWRfdG9rZW4sXG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZTogdG9rZW5FbmRwb2ludFJlc3BvbnNlLnNjb3BlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFRva2VuOiB0b2tlbkVuZHBvaW50UmVzcG9uc2UucmVmcmVzaF90b2tlbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyZXNBdDogYWNjZXNzVG9rZW5FeHBpcmVzQXRcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgaWRUb2tlbkNsYWltczogdG9rZW5FbmRwb2ludFJlc3BvbnNlLmNsYWltcygpLFxuICAgICAgICAgICAgICAgICAgICBhdXRob3JpemF0aW9uRGV0YWlsczogdG9rZW5FbmRwb2ludFJlc3BvbnNlLmF1dGhvcml6YXRpb25fZGV0YWlsc1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgbmV3IEJhY2tjaGFubmVsQXV0aGVudGljYXRpb25FcnJvcih7XG4gICAgICAgICAgICAgICAgICAgIGNhdXNlOiBuZXcgT0F1dGgyRXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogZS5lcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGUuZXJyb3JfZGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGRpc2NvdmVyQXV0aG9yaXphdGlvblNlcnZlck1ldGFkYXRhKCkge1xuICAgICAgICBpZiAodGhpcy5hdXRob3JpemF0aW9uU2VydmVyTWV0YWRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiBbbnVsbCwgdGhpcy5hdXRob3JpemF0aW9uU2VydmVyTWV0YWRhdGFdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzc3VlciA9IG5ldyBVUkwodGhpcy5pc3N1ZXIpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgYXV0aG9yaXphdGlvblNlcnZlck1ldGFkYXRhID0gYXdhaXQgb2F1dGhcbiAgICAgICAgICAgICAgICAuZGlzY292ZXJ5UmVxdWVzdChpc3N1ZXIsIHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLmh0dHBPcHRpb25zKCksXG4gICAgICAgICAgICAgICAgW29hdXRoLmN1c3RvbUZldGNoXTogdGhpcy5mZXRjaCxcbiAgICAgICAgICAgICAgICBbb2F1dGguYWxsb3dJbnNlY3VyZVJlcXVlc3RzXTogdGhpcy5hbGxvd0luc2VjdXJlUmVxdWVzdHNcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiBvYXV0aC5wcm9jZXNzRGlzY292ZXJ5UmVzcG9uc2UoaXNzdWVyLCByZXNwb25zZSkpO1xuICAgICAgICAgICAgdGhpcy5hdXRob3JpemF0aW9uU2VydmVyTWV0YWRhdGEgPSBhdXRob3JpemF0aW9uU2VydmVyTWV0YWRhdGE7XG4gICAgICAgICAgICByZXR1cm4gW251bGwsIGF1dGhvcml6YXRpb25TZXJ2ZXJNZXRhZGF0YV07XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEFuIGVycm9yIG9jY3VycmVkIHdoaWxlIHBlcmZvcm1pbmcgdGhlIGRpc2NvdmVyeSByZXF1ZXN0LiBpc3N1ZXI9JHtpc3N1ZXIudG9TdHJpbmcoKX0sIGVycm9yOmAsIGUpO1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICBuZXcgRGlzY292ZXJ5RXJyb3IoXCJEaXNjb3ZlcnkgZmFpbGVkIGZvciB0aGUgT3BlbklEIENvbm5lY3QgY29uZmlndXJhdGlvbi5cIiksXG4gICAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBkZWZhdWx0T25DYWxsYmFjayhlcnJvciwgY3R4KSB7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBOZXh0UmVzcG9uc2UoZXJyb3IubWVzc2FnZSwge1xuICAgICAgICAgICAgICAgIHN0YXR1czogNTAwXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXMgPSBOZXh0UmVzcG9uc2UucmVkaXJlY3QoY3JlYXRlUm91dGVVcmwoY3R4LnJldHVyblRvIHx8IFwiL1wiLCB0aGlzLmFwcEJhc2VVcmwpKTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGNhbGxiYWNrIGVycm9ycyB3aXRoIHRyYW5zYWN0aW9uIGNsZWFudXBcbiAgICAgKi9cbiAgICBhc3luYyBoYW5kbGVDYWxsYmFja0Vycm9yKGVycm9yLCBjdHgsIHJlcSwgc3RhdGUpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLm9uQ2FsbGJhY2soZXJyb3IsIGN0eCwgbnVsbCk7XG4gICAgICAgIC8vIENsZWFuIHVwIHRoZSB0cmFuc2FjdGlvbiBjb29raWUgb24gZXJyb3IgdG8gcHJldmVudCBhY2N1bXVsYXRpb25cbiAgICAgICAgaWYgKHN0YXRlKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnRyYW5zYWN0aW9uU3RvcmUuZGVsZXRlKHJlc3BvbnNlLmNvb2tpZXMsIHN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfVxuICAgIGFzeW5jIHZlcmlmeUxvZ291dFRva2VuKGxvZ291dFRva2VuKSB7XG4gICAgICAgIGNvbnN0IFtkaXNjb3ZlcnlFcnJvciwgYXV0aG9yaXphdGlvblNlcnZlck1ldGFkYXRhXSA9IGF3YWl0IHRoaXMuZGlzY292ZXJBdXRob3JpemF0aW9uU2VydmVyTWV0YWRhdGEoKTtcbiAgICAgICAgaWYgKGRpc2NvdmVyeUVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gW2Rpc2NvdmVyeUVycm9yLCBudWxsXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBvbmx5IGBSUzI1NmAgaXMgc3VwcG9ydGVkIGZvciBsb2dvdXQgdG9rZW5zXG4gICAgICAgIGNvbnN0IElEX1RPS0VOX1NJR05JTkdfQUxHID0gXCJSUzI1NlwiO1xuICAgICAgICBjb25zdCBrZXlJbnB1dCA9IGpvc2UuY3JlYXRlUmVtb3RlSldLU2V0KG5ldyBVUkwoYXV0aG9yaXphdGlvblNlcnZlck1ldGFkYXRhLmp3a3NfdXJpKSwge1xuICAgICAgICAgICAgW2pvc2Uuandrc0NhY2hlXTogdGhpcy5qd2tzQ2FjaGVcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHsgcGF5bG9hZCB9ID0gYXdhaXQgam9zZS5qd3RWZXJpZnkobG9nb3V0VG9rZW4sIGtleUlucHV0LCB7XG4gICAgICAgICAgICBpc3N1ZXI6IGF1dGhvcml6YXRpb25TZXJ2ZXJNZXRhZGF0YS5pc3N1ZXIsXG4gICAgICAgICAgICBhdWRpZW5jZTogdGhpcy5jbGllbnRNZXRhZGF0YS5jbGllbnRfaWQsXG4gICAgICAgICAgICBhbGdvcml0aG1zOiBbSURfVE9LRU5fU0lHTklOR19BTEddLFxuICAgICAgICAgICAgcmVxdWlyZWRDbGFpbXM6IFtcImlhdFwiXVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCEoXCJzaWRcIiBpbiBwYXlsb2FkKSAmJiAhKFwic3ViXCIgaW4gcGF5bG9hZCkpIHtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgbmV3IEJhY2tjaGFubmVsTG9nb3V0RXJyb3IoJ2VpdGhlciBcInNpZFwiIG9yIFwic3ViXCIgKG9yIGJvdGgpIGNsYWltcyBtdXN0IGJlIHByZXNlbnQnKSxcbiAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChcInNpZFwiIGluIHBheWxvYWQgJiYgdHlwZW9mIHBheWxvYWQuc2lkICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gW25ldyBCYWNrY2hhbm5lbExvZ291dEVycm9yKCdcInNpZFwiIGNsYWltIG11c3QgYmUgYSBzdHJpbmcnKSwgbnVsbF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFwic3ViXCIgaW4gcGF5bG9hZCAmJiB0eXBlb2YgcGF5bG9hZC5zdWIgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBbbmV3IEJhY2tjaGFubmVsTG9nb3V0RXJyb3IoJ1wic3ViXCIgY2xhaW0gbXVzdCBiZSBhIHN0cmluZycpLCBudWxsXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXCJub25jZVwiIGluIHBheWxvYWQpIHtcbiAgICAgICAgICAgIHJldHVybiBbbmV3IEJhY2tjaGFubmVsTG9nb3V0RXJyb3IoJ1wibm9uY2VcIiBjbGFpbSBpcyBwcm9oaWJpdGVkJyksIG51bGxdO1xuICAgICAgICB9XG4gICAgICAgIGlmICghKFwiZXZlbnRzXCIgaW4gcGF5bG9hZCkpIHtcbiAgICAgICAgICAgIHJldHVybiBbbmV3IEJhY2tjaGFubmVsTG9nb3V0RXJyb3IoJ1wiZXZlbnRzXCIgY2xhaW0gaXMgbWlzc2luZycpLCBudWxsXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHBheWxvYWQuZXZlbnRzICE9PSBcIm9iamVjdFwiIHx8IHBheWxvYWQuZXZlbnRzID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIG5ldyBCYWNrY2hhbm5lbExvZ291dEVycm9yKCdcImV2ZW50c1wiIGNsYWltIG11c3QgYmUgYW4gb2JqZWN0JyksXG4gICAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIShcImh0dHA6Ly9zY2hlbWFzLm9wZW5pZC5uZXQvZXZlbnQvYmFja2NoYW5uZWwtbG9nb3V0XCIgaW4gcGF5bG9hZC5ldmVudHMpKSB7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIG5ldyBCYWNrY2hhbm5lbExvZ291dEVycm9yKCdcImh0dHA6Ly9zY2hlbWFzLm9wZW5pZC5uZXQvZXZlbnQvYmFja2NoYW5uZWwtbG9nb3V0XCIgbWVtYmVyIGlzIG1pc3NpbmcgaW4gdGhlIFwiZXZlbnRzXCIgY2xhaW0nKSxcbiAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgcGF5bG9hZC5ldmVudHNbXCJodHRwOi8vc2NoZW1hcy5vcGVuaWQubmV0L2V2ZW50L2JhY2tjaGFubmVsLWxvZ291dFwiXSAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICBuZXcgQmFja2NoYW5uZWxMb2dvdXRFcnJvcignXCJodHRwOi8vc2NoZW1hcy5vcGVuaWQubmV0L2V2ZW50L2JhY2tjaGFubmVsLWxvZ291dFwiIG1lbWJlciBpbiB0aGUgXCJldmVudHNcIiBjbGFpbSBtdXN0IGJlIGFuIG9iamVjdCcpLFxuICAgICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2lkOiBwYXlsb2FkLnNpZCxcbiAgICAgICAgICAgICAgICBzdWI6IHBheWxvYWQuc3ViXG4gICAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgfVxuICAgIGFzeW5jIGF1dGhvcml6YXRpb25VcmwocGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IFtkaXNjb3ZlcnlFcnJvciwgYXV0aG9yaXphdGlvblNlcnZlck1ldGFkYXRhXSA9IGF3YWl0IHRoaXMuZGlzY292ZXJBdXRob3JpemF0aW9uU2VydmVyTWV0YWRhdGEoKTtcbiAgICAgICAgaWYgKGRpc2NvdmVyeUVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gW2Rpc2NvdmVyeUVycm9yLCBudWxsXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wdXNoZWRBdXRob3JpemF0aW9uUmVxdWVzdHMgJiZcbiAgICAgICAgICAgICFhdXRob3JpemF0aW9uU2VydmVyTWV0YWRhdGEucHVzaGVkX2F1dGhvcml6YXRpb25fcmVxdWVzdF9lbmRwb2ludCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlRoZSBBdXRoMCB0ZW5hbnQgZG9lcyBub3QgaGF2ZSBwdXNoZWQgYXV0aG9yaXphdGlvbiByZXF1ZXN0cyBlbmFibGVkLiBMZWFybiBob3cgdG8gZW5hYmxlIGl0IGhlcmU6IGh0dHBzOi8vYXV0aDAuY29tL2RvY3MvZ2V0LXN0YXJ0ZWQvYXBwbGljYXRpb25zL2NvbmZpZ3VyZS1wYXJcIik7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIG5ldyBFcnJvcihcIlRoZSBhdXRob3JpemF0aW9uIHNlcnZlciBkb2VzIG5vdCBzdXBwb3J0IHB1c2hlZCBhdXRob3JpemF0aW9uIHJlcXVlc3RzLlwiKSxcbiAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGF1dGhvcml6YXRpb25VcmwgPSBuZXcgVVJMKGF1dGhvcml6YXRpb25TZXJ2ZXJNZXRhZGF0YS5hdXRob3JpemF0aW9uX2VuZHBvaW50KTtcbiAgICAgICAgaWYgKHRoaXMucHVzaGVkQXV0aG9yaXphdGlvblJlcXVlc3RzKSB7XG4gICAgICAgICAgICAvLyBwdXNoIHRoZSByZXF1ZXN0IHBhcmFtcyB0byB0aGUgYXV0aG9yaXphdGlvbiBzZXJ2ZXJcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgb2F1dGgucHVzaGVkQXV0aG9yaXphdGlvblJlcXVlc3QoYXV0aG9yaXphdGlvblNlcnZlck1ldGFkYXRhLCB0aGlzLmNsaWVudE1ldGFkYXRhLCBhd2FpdCB0aGlzLmdldENsaWVudEF1dGgoKSwgcGFyYW1zLCB7XG4gICAgICAgICAgICAgICAgLi4udGhpcy5odHRwT3B0aW9ucygpLFxuICAgICAgICAgICAgICAgIFtvYXV0aC5jdXN0b21GZXRjaF06IHRoaXMuZmV0Y2gsXG4gICAgICAgICAgICAgICAgW29hdXRoLmFsbG93SW5zZWN1cmVSZXF1ZXN0c106IHRoaXMuYWxsb3dJbnNlY3VyZVJlcXVlc3RzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGxldCBwYXJSZXM7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHBhclJlcyA9IGF3YWl0IG9hdXRoLnByb2Nlc3NQdXNoZWRBdXRob3JpemF0aW9uUmVzcG9uc2UoYXV0aG9yaXphdGlvblNlcnZlck1ldGFkYXRhLCB0aGlzLmNsaWVudE1ldGFkYXRhLCByZXNwb25zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBBdXRob3JpemF0aW9uRXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICAgICAgY2F1c2U6IG5ldyBPQXV0aDJFcnJvcih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogZS5lcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlLmVycm9yX2Rlc2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgcHVzaGluZyB0aGUgYXV0aG9yaXphdGlvbiByZXF1ZXN0LlwiXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF1dGhvcml6YXRpb25Vcmwuc2VhcmNoUGFyYW1zLnNldChcInJlcXVlc3RfdXJpXCIsIHBhclJlcy5yZXF1ZXN0X3VyaSk7XG4gICAgICAgICAgICBhdXRob3JpemF0aW9uVXJsLnNlYXJjaFBhcmFtcy5zZXQoXCJjbGllbnRfaWRcIiwgdGhpcy5jbGllbnRNZXRhZGF0YS5jbGllbnRfaWQpO1xuICAgICAgICAgICAgcmV0dXJuIFtudWxsLCBhdXRob3JpemF0aW9uVXJsXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhcHBlbmQgdGhlIHF1ZXJ5IHBhcmFtZXRlcnMgdG8gdGhlIGF1dGhvcml6YXRpb24gVVJMIGZvciB0aGUgbm9ybWFsIGZsb3dcbiAgICAgICAgYXV0aG9yaXphdGlvblVybC5zZWFyY2ggPSBwYXJhbXMudG9TdHJpbmcoKTtcbiAgICAgICAgcmV0dXJuIFtudWxsLCBhdXRob3JpemF0aW9uVXJsXTtcbiAgICB9XG4gICAgYXN5bmMgZ2V0Q2xpZW50QXV0aCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNsaWVudFNlY3JldCAmJiAhdGhpcy5jbGllbnRBc3NlcnRpb25TaWduaW5nS2V5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgY2xpZW50IHNlY3JldCBvciBjbGllbnQgYXNzZXJ0aW9uIHNpZ25pbmcga2V5IG11c3QgYmUgcHJvdmlkZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjbGllbnRQcml2YXRlS2V5ID0gdGhpc1xuICAgICAgICAgICAgLmNsaWVudEFzc2VydGlvblNpZ25pbmdLZXk7XG4gICAgICAgIGlmIChjbGllbnRQcml2YXRlS2V5ICYmIHR5cGVvZiBjbGllbnRQcml2YXRlS2V5ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBjbGllbnRQcml2YXRlS2V5ID0gYXdhaXQgam9zZS5pbXBvcnRQS0NTOChjbGllbnRQcml2YXRlS2V5LCB0aGlzLmNsaWVudEFzc2VydGlvblNpZ25pbmdBbGcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjbGllbnRQcml2YXRlS2V5XG4gICAgICAgICAgICA/IG9hdXRoLlByaXZhdGVLZXlKd3QoY2xpZW50UHJpdmF0ZUtleSlcbiAgICAgICAgICAgIDogb2F1dGguQ2xpZW50U2VjcmV0UG9zdCh0aGlzLmNsaWVudFNlY3JldCk7XG4gICAgfVxuICAgIGdldCBpc3N1ZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRvbWFpbi5zdGFydHNXaXRoKFwiaHR0cDovL1wiKSB8fFxuICAgICAgICAgICAgdGhpcy5kb21haW4uc3RhcnRzV2l0aChcImh0dHBzOi8vXCIpXG4gICAgICAgICAgICA/IHRoaXMuZG9tYWluXG4gICAgICAgICAgICA6IGBodHRwczovLyR7dGhpcy5kb21haW59YDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXhjaGFuZ2VzIGEgcmVmcmVzaCB0b2tlbiBmb3IgYW4gYWNjZXNzIHRva2VuIGZvciBhIGNvbm5lY3Rpb24uXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBwZXJmb3JtcyBhIHRva2VuIGV4Y2hhbmdlIHVzaW5nIHRoZSBwcm92aWRlZCByZWZyZXNoIHRva2VuIGFuZCBjb25uZWN0aW9uIGRldGFpbHMuXG4gICAgICogSXQgZmlyc3QgY2hlY2tzIGlmIHRoZSByZWZyZXNoIHRva2VuIGlzIHByZXNlbnQgaW4gdGhlIGB0b2tlblNldGAuIElmIG5vdCwgaXQgcmV0dXJucyBhbiBlcnJvci5cbiAgICAgKiBUaGVuLCBpdCBjb25zdHJ1Y3RzIHRoZSBuZWNlc3NhcnkgcGFyYW1ldGVycyBmb3IgdGhlIHRva2VuIGV4Y2hhbmdlIHJlcXVlc3QgYW5kIHBlcmZvcm1zXG4gICAgICogdGhlIHJlcXVlc3QgdG8gdGhlIGF1dGhvcml6YXRpb24gc2VydmVyJ3MgdG9rZW4gZW5kcG9pbnQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxbQWNjZXNzVG9rZW5Gb3JDb25uZWN0aW9uRXJyb3IsIG51bGxdIHwgW251bGwsIENvbm5lY3Rpb25Ub2tlblNldF0+fSBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhIHR1cGxlLlxuICAgICAqICAgICAgICAgIFRoZSBmaXJzdCBlbGVtZW50IGlzIGVpdGhlciBhbiBgQWNjZXNzVG9rZW5Gb3JDb25uZWN0aW9uRXJyb3JgIGlmIGFuIGVycm9yIG9jY3VycmVkLCBvciBgbnVsbGAgaWYgdGhlIHJlcXVlc3Qgd2FzIHN1Y2Nlc3NmdWwuXG4gICAgICogICAgICAgICAgVGhlIHNlY29uZCBlbGVtZW50IGlzIGVpdGhlciBgbnVsbGAgaWYgYW4gZXJyb3Igb2NjdXJyZWQsIG9yIGEgYENvbm5lY3Rpb25Ub2tlblNldGAgb2JqZWN0XG4gICAgICogICAgICAgICAgY29udGFpbmluZyB0aGUgYWNjZXNzIHRva2VuLCBleHBpcmF0aW9uIHRpbWUsIGFuZCBzY29wZSBpZiB0aGUgcmVxdWVzdCB3YXMgc3VjY2Vzc2Z1bC5cbiAgICAgKlxuICAgICAqIEB0aHJvd3Mge0FjY2Vzc1Rva2VuRm9yQ29ubmVjdGlvbkVycm9yfSBJZiB0aGUgcmVmcmVzaCB0b2tlbiBpcyBtaXNzaW5nIG9yIGlmIHRoZXJlIGlzIGFuIGVycm9yIGR1cmluZyB0aGUgdG9rZW4gZXhjaGFuZ2UgcHJvY2Vzcy5cbiAgICAgKi9cbiAgICBhc3luYyBnZXRDb25uZWN0aW9uVG9rZW5TZXQodG9rZW5TZXQsIGNvbm5lY3Rpb25Ub2tlblNldCwgb3B0aW9ucykge1xuICAgICAgICAvLyBJZiB3ZSBkbyBub3QgaGF2ZSBhIHJlZnJlc2ggdG9rZW5cbiAgICAgICAgLy8gYW5kIHdlIGRvIG5vdCBoYXZlIGEgY29ubmVjdGlvbiB0b2tlbiBzZXQgaW4gdGhlIGNhY2hlIG9yIHRoZSBvbmUgd2UgaGF2ZSBpcyBleHBpcmVkLFxuICAgICAgICAvLyB0aGVyZSBpcyBub3RoaW5nIHRvIHJldHJpZXZlIGFuZCB3ZSByZXR1cm4gYW4gZXJyb3IuXG4gICAgICAgIGlmICghdG9rZW5TZXQucmVmcmVzaFRva2VuICYmXG4gICAgICAgICAgICAoIWNvbm5lY3Rpb25Ub2tlblNldCB8fCBjb25uZWN0aW9uVG9rZW5TZXQuZXhwaXJlc0F0IDw9IERhdGUubm93KCkgLyAxMDAwKSkge1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICBuZXcgQWNjZXNzVG9rZW5Gb3JDb25uZWN0aW9uRXJyb3IoQWNjZXNzVG9rZW5Gb3JDb25uZWN0aW9uRXJyb3JDb2RlLk1JU1NJTkdfUkVGUkVTSF9UT0tFTiwgXCJBIHJlZnJlc2ggdG9rZW4gd2FzIG5vdCBwcmVzZW50LCBDb25uZWN0aW9uIEFjY2VzcyBUb2tlbiByZXF1aXJlcyBhIHJlZnJlc2ggdG9rZW4uIFRoZSB1c2VyIG5lZWRzIHRvIHJlLWF1dGhlbnRpY2F0ZS5cIiksXG4gICAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB3ZSBkbyBoYXZlIGEgcmVmcmVzaCB0b2tlbixcbiAgICAgICAgLy8gYW5kIHdlIGRvIG5vdCBoYXZlIGEgY29ubmVjdGlvbiB0b2tlbiBzZXQgaW4gdGhlIGNhY2hlIG9yIHRoZSBvbmUgd2UgaGF2ZSBpcyBleHBpcmVkLFxuICAgICAgICAvLyB3ZSBuZWVkIHRvIGV4Y2hhbmdlIHRoZSByZWZyZXNoIHRva2VuIGZvciBhIGNvbm5lY3Rpb24gYWNjZXNzIHRva2VuLlxuICAgICAgICBpZiAodG9rZW5TZXQucmVmcmVzaFRva2VuICYmXG4gICAgICAgICAgICAoIWNvbm5lY3Rpb25Ub2tlblNldCB8fCBjb25uZWN0aW9uVG9rZW5TZXQuZXhwaXJlc0F0IDw9IERhdGUubm93KCkgLyAxMDAwKSkge1xuICAgICAgICAgICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICAgICAgcGFyYW1zLmFwcGVuZChcImNvbm5lY3Rpb25cIiwgb3B0aW9ucy5jb25uZWN0aW9uKTtcbiAgICAgICAgICAgIGNvbnN0IHN1YmplY3RUb2tlblR5cGUgPSBvcHRpb25zLnN1YmplY3RfdG9rZW5fdHlwZSA/P1xuICAgICAgICAgICAgICAgIFNVQkpFQ1RfVE9LRU5fVFlQRVMuU1VCSkVDVF9UWVBFX1JFRlJFU0hfVE9LRU47XG4gICAgICAgICAgICBjb25zdCBzdWJqZWN0VG9rZW4gPSBzdWJqZWN0VG9rZW5UeXBlID09PSBTVUJKRUNUX1RPS0VOX1RZUEVTLlNVQkpFQ1RfVFlQRV9BQ0NFU1NfVE9LRU5cbiAgICAgICAgICAgICAgICA/IHRva2VuU2V0LmFjY2Vzc1Rva2VuXG4gICAgICAgICAgICAgICAgOiB0b2tlblNldC5yZWZyZXNoVG9rZW47XG4gICAgICAgICAgICBwYXJhbXMuYXBwZW5kKFwic3ViamVjdF90b2tlbl90eXBlXCIsIHN1YmplY3RUb2tlblR5cGUpO1xuICAgICAgICAgICAgcGFyYW1zLmFwcGVuZChcInN1YmplY3RfdG9rZW5cIiwgc3ViamVjdFRva2VuKTtcbiAgICAgICAgICAgIHBhcmFtcy5hcHBlbmQoXCJyZXF1ZXN0ZWRfdG9rZW5fdHlwZVwiLCBSRVFVRVNURURfVE9LRU5fVFlQRV9GRURFUkFURURfQ09OTkVDVElPTl9BQ0NFU1NfVE9LRU4pO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMubG9naW5faGludCkge1xuICAgICAgICAgICAgICAgIHBhcmFtcy5hcHBlbmQoXCJsb2dpbl9oaW50XCIsIG9wdGlvbnMubG9naW5faGludCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBbZGlzY292ZXJ5RXJyb3IsIGF1dGhvcml6YXRpb25TZXJ2ZXJNZXRhZGF0YV0gPSBhd2FpdCB0aGlzLmRpc2NvdmVyQXV0aG9yaXphdGlvblNlcnZlck1ldGFkYXRhKCk7XG4gICAgICAgICAgICBpZiAoZGlzY292ZXJ5RXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW2Rpc2NvdmVyeUVycm9yLCBudWxsXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIENyZWF0ZSBEUG9QIGhhbmRsZSBPTkNFIG91dHNpZGUgdGhlIGNsb3N1cmUgc28gaXQgcGVyc2lzdHMgYWNyb3NzIHJldHJpZXMuXG4gICAgICAgICAgICAvLyBUaGlzIGlzIHJlcXVpcmVkIGJ5IFJGQyA5NDQ5OiB0aGUgaGFuZGxlIG11c3QgbGVhcm4gYW5kIHJldXNlIHRoZSBub25jZSBmcm9tXG4gICAgICAgICAgICAvLyB0aGUgRFBvUC1Ob25jZSBoZWFkZXIgYWNyb3NzIG11bHRpcGxlIGF0dGVtcHRzLlxuICAgICAgICAgICAgY29uc3QgZHBvcEhhbmRsZSA9IHRoaXMudXNlRFBvUCAmJiB0aGlzLmRwb3BLZXlQYWlyXG4gICAgICAgICAgICAgICAgPyBvYXV0aC5EUG9QKHRoaXMuY2xpZW50TWV0YWRhdGEsIHRoaXMuZHBvcEtleVBhaXIpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjb25zdCBnZW5lcmljVG9rZW5FbmRwb2ludFJlcXVlc3RDYWxsID0gYXN5bmMgKCkgPT4gb2F1dGguZ2VuZXJpY1Rva2VuRW5kcG9pbnRSZXF1ZXN0KGF1dGhvcml6YXRpb25TZXJ2ZXJNZXRhZGF0YSwgdGhpcy5jbGllbnRNZXRhZGF0YSwgYXdhaXQgdGhpcy5nZXRDbGllbnRBdXRoKCksIEdSQU5UX1RZUEVfRkVERVJBVEVEX0NPTk5FQ1RJT05fQUNDRVNTX1RPS0VOLCBwYXJhbXMsIHtcbiAgICAgICAgICAgICAgICBbb2F1dGguY3VzdG9tRmV0Y2hdOiB0aGlzLmZldGNoLFxuICAgICAgICAgICAgICAgIFtvYXV0aC5hbGxvd0luc2VjdXJlUmVxdWVzdHNdOiB0aGlzLmFsbG93SW5zZWN1cmVSZXF1ZXN0cyxcbiAgICAgICAgICAgICAgICAuLi4oZHBvcEhhbmRsZSAmJiB7XG4gICAgICAgICAgICAgICAgICAgIERQb1A6IGRwb3BIYW5kbGVcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBwcm9jZXNzR2VuZXJpY1Rva2VuRW5kcG9pbnRSZXNwb25zZUNhbGwgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaHR0cFJlc3BvbnNlID0gYXdhaXQgZ2VuZXJpY1Rva2VuRW5kcG9pbnRSZXF1ZXN0Q2FsbCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBvYXV0aC5wcm9jZXNzR2VuZXJpY1Rva2VuRW5kcG9pbnRSZXNwb25zZShhdXRob3JpemF0aW9uU2VydmVyTWV0YWRhdGEsIHRoaXMuY2xpZW50TWV0YWRhdGEsIGh0dHBSZXNwb25zZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgbGV0IHRva2VuRW5kcG9pbnRSZXNwb25zZTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdG9rZW5FbmRwb2ludFJlc3BvbnNlID0gYXdhaXQgd2l0aERQb1BOb25jZVJldHJ5KHByb2Nlc3NHZW5lcmljVG9rZW5FbmRwb2ludFJlc3BvbnNlQ2FsbCwge1xuICAgICAgICAgICAgICAgICAgICBpc0RQb1BFbmFibGVkOiAhISh0aGlzLnVzZURQb1AgJiYgdGhpcy5kcG9wS2V5UGFpciksXG4gICAgICAgICAgICAgICAgICAgIC4uLnRoaXMuZHBvcE9wdGlvbnM/LnJldHJ5XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IEFjY2Vzc1Rva2VuRm9yQ29ubmVjdGlvbkVycm9yKEFjY2Vzc1Rva2VuRm9yQ29ubmVjdGlvbkVycm9yQ29kZS5GQUlMRURfVE9fRVhDSEFOR0UsIFwiVGhlcmUgd2FzIGFuIGVycm9yIHRyeWluZyB0byBleGNoYW5nZSB0aGUgcmVmcmVzaCB0b2tlbiBmb3IgYSBjb25uZWN0aW9uIGFjY2VzcyB0b2tlbi5cIiwgbmV3IE9BdXRoMkVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IGVyci5lcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVyci5lcnJvcl9kZXNjcmlwdGlvblxuICAgICAgICAgICAgICAgICAgICB9KSksXG4gICAgICAgICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYWNjZXNzVG9rZW46IHRva2VuRW5kcG9pbnRSZXNwb25zZS5hY2Nlc3NfdG9rZW4sXG4gICAgICAgICAgICAgICAgICAgIGV4cGlyZXNBdDogTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyKHRva2VuRW5kcG9pbnRSZXNwb25zZS5leHBpcmVzX2luKSxcbiAgICAgICAgICAgICAgICAgICAgc2NvcGU6IHRva2VuRW5kcG9pbnRSZXNwb25zZS5zY29wZSxcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbjogb3B0aW9ucy5jb25uZWN0aW9uXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW251bGwsIGNvbm5lY3Rpb25Ub2tlblNldF07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbHRlcnMgYW5kIHByb2Nlc3NlcyBJRCB0b2tlbiBjbGFpbXMgZm9yIGEgc2Vzc2lvbi5cbiAgICAgKlxuICAgICAqIElmIGEgYGJlZm9yZVNlc3Npb25TYXZlZGAgY2FsbGJhY2sgaXMgY29uZmlndXJlZCwgaXQgd2lsbCBiZSBpbnZva2VkIHRvIGFsbG93XG4gICAgICogY3VzdG9tIHByb2Nlc3Npbmcgb2YgdGhlIHNlc3Npb24gYW5kIElEIHRva2VuLiBPdGhlcndpc2UsIGRlZmF1bHQgZmlsdGVyaW5nXG4gICAgICogd2lsbCBiZSBhcHBsaWVkIHRvIHJlbW92ZSBzdGFuZGFyZCBJRCB0b2tlbiBjbGFpbXMgZnJvbSB0aGUgdXNlciBvYmplY3QuXG4gICAgICovXG4gICAgYXN5bmMgZmluYWxpemVTZXNzaW9uKHNlc3Npb24sIGlkVG9rZW4pIHtcbiAgICAgICAgaWYgKHRoaXMuYmVmb3JlU2Vzc2lvblNhdmVkKSB7XG4gICAgICAgICAgICBjb25zdCB1cGRhdGVkU2Vzc2lvbiA9IGF3YWl0IHRoaXMuYmVmb3JlU2Vzc2lvblNhdmVkKHNlc3Npb24sIGlkVG9rZW4gPz8gbnVsbCk7XG4gICAgICAgICAgICBzZXNzaW9uID0ge1xuICAgICAgICAgICAgICAgIC4uLnVwZGF0ZWRTZXNzaW9uLFxuICAgICAgICAgICAgICAgIGludGVybmFsOiBzZXNzaW9uLmludGVybmFsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2Vzc2lvbi51c2VyID0gZmlsdGVyRGVmYXVsdElkVG9rZW5DbGFpbXMoc2Vzc2lvbi51c2VyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2Vzc2lvbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5pdGlhdGVzIHRoZSBjb25uZWN0IGFjY291bnQgZmxvdyBmb3IgbGlua2luZyBhIHRoaXJkLXBhcnR5IGFjY291bnQgdG8gdGhlIHVzZXIncyBwcm9maWxlLlxuICAgICAqIFRoZSB1c2VyIHdpbGwgYmUgcmVkaXJlY3RlZCB0byBhdXRob3JpemUgdGhlIGNvbm5lY3Rpb24uXG4gICAgICovXG4gICAgYXN5bmMgY29ubmVjdEFjY291bnQob3B0aW9ucykge1xuICAgICAgICBjb25zdCByZWRpcmVjdFVyaSA9IGNyZWF0ZVJvdXRlVXJsKHRoaXMucm91dGVzLmNhbGxiYWNrLCB0aGlzLmFwcEJhc2VVcmwpO1xuICAgICAgICBsZXQgcmV0dXJuVG8gPSB0aGlzLnNpZ25JblJldHVyblRvUGF0aDtcbiAgICAgICAgLy8gVmFsaWRhdGUgcmV0dXJuVG8gcGFyYW1ldGVyXG4gICAgICAgIGlmIChvcHRpb25zLnJldHVyblRvKSB7XG4gICAgICAgICAgICBjb25zdCBzYWZlQmFzZVVybCA9IG5ldyBVUkwodGhpcy5hdXRob3JpemF0aW9uUGFyYW1ldGVycy5yZWRpcmVjdF91cmkgfHxcbiAgICAgICAgICAgICAgICB0aGlzLmFwcEJhc2VVcmwpO1xuICAgICAgICAgICAgY29uc3Qgc2FuaXRpemVkUmV0dXJuVG8gPSB0b1NhZmVSZWRpcmVjdChvcHRpb25zLnJldHVyblRvLCBzYWZlQmFzZVVybCk7XG4gICAgICAgICAgICBpZiAoc2FuaXRpemVkUmV0dXJuVG8pIHtcbiAgICAgICAgICAgICAgICByZXR1cm5UbyA9XG4gICAgICAgICAgICAgICAgICAgIHNhbml0aXplZFJldHVyblRvLnBhdGhuYW1lICtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhbml0aXplZFJldHVyblRvLnNlYXJjaCArXG4gICAgICAgICAgICAgICAgICAgICAgICBzYW5pdGl6ZWRSZXR1cm5Uby5oYXNoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEdlbmVyYXRlIFBLQ0UgY2hhbGxlbmdlc1xuICAgICAgICBjb25zdCBjb2RlQ2hhbGxlbmdlTWV0aG9kID0gXCJTMjU2XCI7XG4gICAgICAgIGNvbnN0IGNvZGVWZXJpZmllciA9IG9hdXRoLmdlbmVyYXRlUmFuZG9tQ29kZVZlcmlmaWVyKCk7XG4gICAgICAgIGNvbnN0IGNvZGVDaGFsbGVuZ2UgPSBhd2FpdCBvYXV0aC5jYWxjdWxhdGVQS0NFQ29kZUNoYWxsZW5nZShjb2RlVmVyaWZpZXIpO1xuICAgICAgICBjb25zdCBzdGF0ZSA9IG9hdXRoLmdlbmVyYXRlUmFuZG9tU3RhdGUoKTtcbiAgICAgICAgY29uc3QgW2Vycm9yLCBjb25uZWN0QWNjb3VudFJlc3BvbnNlXSA9IGF3YWl0IHRoaXMuY3JlYXRlQ29ubmVjdEFjY291bnRUaWNrZXQoe1xuICAgICAgICAgICAgdG9rZW5TZXQ6IG9wdGlvbnMudG9rZW5TZXQsXG4gICAgICAgICAgICBjb25uZWN0aW9uOiBvcHRpb25zLmNvbm5lY3Rpb24sXG4gICAgICAgICAgICByZWRpcmVjdFVyaTogcmVkaXJlY3RVcmkudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgICAgY29kZUNoYWxsZW5nZSxcbiAgICAgICAgICAgIGNvZGVDaGFsbGVuZ2VNZXRob2QsXG4gICAgICAgICAgICBhdXRob3JpemF0aW9uUGFyYW1zOiBvcHRpb25zLmF1dGhvcml6YXRpb25QYXJhbXNcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIFtlcnJvciwgbnVsbF07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdHJhbnNhY3Rpb25TdGF0ZSA9IHtcbiAgICAgICAgICAgIGNvZGVWZXJpZmllcixcbiAgICAgICAgICAgIHJlc3BvbnNlVHlwZTogUkVTUE9OU0VfVFlQRVMuQ09OTkVDVF9DT0RFLFxuICAgICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgICByZXR1cm5UbyxcbiAgICAgICAgICAgIGF1dGhTZXNzaW9uOiBjb25uZWN0QWNjb3VudFJlc3BvbnNlLmF1dGhTZXNzaW9uXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlcyA9IE5leHRSZXNwb25zZS5yZWRpcmVjdChgJHtjb25uZWN0QWNjb3VudFJlc3BvbnNlLmNvbm5lY3RVcml9P3RpY2tldD0ke2VuY29kZVVSSUNvbXBvbmVudChjb25uZWN0QWNjb3VudFJlc3BvbnNlLmNvbm5lY3RQYXJhbXMudGlja2V0KX1gKTtcbiAgICAgICAgYXdhaXQgdGhpcy50cmFuc2FjdGlvblN0b3JlLnNhdmUocmVzLmNvb2tpZXMsIHRyYW5zYWN0aW9uU3RhdGUpO1xuICAgICAgICByZXR1cm4gW251bGwsIHJlc107XG4gICAgfVxuICAgIGFzeW5jIGNyZWF0ZUNvbm5lY3RBY2NvdW50VGlja2V0KG9wdGlvbnMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbm5lY3RBY2NvdW50VXJsID0gbmV3IFVSTChcIi9tZS92MS9jb25uZWN0ZWQtYWNjb3VudHMvY29ubmVjdFwiLCB0aGlzLmlzc3Vlcik7XG4gICAgICAgICAgICBjb25zdCBmZXRjaGVyID0gYXdhaXQgdGhpcy5mZXRjaGVyRmFjdG9yeSh7XG4gICAgICAgICAgICAgICAgdXNlRFBvUDogdGhpcy51c2VEUG9QLFxuICAgICAgICAgICAgICAgIGdldEFjY2Vzc1Rva2VuOiBhc3luYyAoKSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICBhY2Nlc3NUb2tlbjogb3B0aW9ucy50b2tlblNldC5hY2Nlc3NUb2tlbixcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJlc0F0OiBvcHRpb25zLnRva2VuU2V0LmV4cGlyZXNBdCB8fCAwLFxuICAgICAgICAgICAgICAgICAgICBzY29wZTogb3B0aW9ucy50b2tlblNldC5zY29wZSxcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5fdHlwZTogb3B0aW9ucy50b2tlblNldC50b2tlbl90eXBlXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgZmV0Y2g6IHRoaXMuZmV0Y2hcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgaHR0cE9wdGlvbnMgPSB0aGlzLmh0dHBPcHRpb25zKCk7XG4gICAgICAgICAgICBjb25zdCBoZWFkZXJzID0gbmV3IEhlYWRlcnMoaHR0cE9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICBoZWFkZXJzLnNldChcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIik7XG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0Qm9keSA9IHtcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9uOiBvcHRpb25zLmNvbm5lY3Rpb24sXG4gICAgICAgICAgICAgICAgcmVkaXJlY3RfdXJpOiBvcHRpb25zLnJlZGlyZWN0VXJpLFxuICAgICAgICAgICAgICAgIHN0YXRlOiBvcHRpb25zLnN0YXRlLFxuICAgICAgICAgICAgICAgIGNvZGVfY2hhbGxlbmdlOiBvcHRpb25zLmNvZGVDaGFsbGVuZ2UsXG4gICAgICAgICAgICAgICAgY29kZV9jaGFsbGVuZ2VfbWV0aG9kOiBvcHRpb25zLmNvZGVDaGFsbGVuZ2VNZXRob2QsXG4gICAgICAgICAgICAgICAgYXV0aG9yaXphdGlvbl9wYXJhbXM6IG9wdGlvbnMuYXV0aG9yaXphdGlvblBhcmFtc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoZXIuZmV0Y2hXaXRoQXV0aChjb25uZWN0QWNjb3VudFVybC50b1N0cmluZygpLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShyZXF1ZXN0Qm9keSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFyZXMub2spIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvckJvZHkgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IENvbm5lY3RBY2NvdW50RXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IENvbm5lY3RBY2NvdW50RXJyb3JDb2Rlcy5GQUlMRURfVE9fSU5JVElBVEUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYFRoZSByZXF1ZXN0IHRvIGluaXRpYXRlIHRoZSBjb25uZWN0IGFjY291bnQgZmxvdyBmYWlsZWQgd2l0aCBzdGF0dXMgJHtyZXMuc3RhdHVzfS5gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdXNlOiBuZXcgTXlBY2NvdW50QXBpRXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBlcnJvckJvZHkudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGVycm9yQm9keS50aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiBlcnJvckJvZHkuZGV0YWlsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHJlcy5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb25FcnJvcnM6IGVycm9yQm9keS52YWxpZGF0aW9uX2Vycm9yc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBDb25uZWN0QWNjb3VudEVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBDb25uZWN0QWNjb3VudEVycm9yQ29kZXMuRkFJTEVEX1RPX0lOSVRJQVRFLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBUaGUgcmVxdWVzdCB0byBpbml0aWF0ZSB0aGUgY29ubmVjdCBhY2NvdW50IGZsb3cgZmFpbGVkIHdpdGggc3RhdHVzICR7cmVzLnN0YXR1c30uYFxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeyBjb25uZWN0X3VyaSwgY29ubmVjdF9wYXJhbXMsIGF1dGhfc2Vzc2lvbiwgZXhwaXJlc19pbiB9ID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3RVcmk6IGNvbm5lY3RfdXJpLFxuICAgICAgICAgICAgICAgICAgICBjb25uZWN0UGFyYW1zOiBjb25uZWN0X3BhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgYXV0aFNlc3Npb246IGF1dGhfc2Vzc2lvbixcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJlc0luOiBleHBpcmVzX2luXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgbGV0IG1lc3NhZ2UgPSBcIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hpbGUgdHJ5aW5nIHRvIGluaXRpYXRlIHRoZSBjb25uZWN0IGFjY291bnQgZmxvdy5cIjtcbiAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgRFBvUEVycm9yKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGUubWVzc2FnZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgbmV3IENvbm5lY3RBY2NvdW50RXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBDb25uZWN0QWNjb3VudEVycm9yQ29kZXMuRkFJTEVEX1RPX0lOSVRJQVRFLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBjb21wbGV0ZUNvbm5lY3RBY2NvdW50KG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgY29tcGxldGVDb25uZWN0QWNjb3VudFVybCA9IG5ldyBVUkwoXCIvbWUvdjEvY29ubmVjdGVkLWFjY291bnRzL2NvbXBsZXRlXCIsIHRoaXMuaXNzdWVyKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGh0dHBPcHRpb25zID0gdGhpcy5odHRwT3B0aW9ucygpO1xuICAgICAgICAgICAgY29uc3QgaGVhZGVycyA9IG5ldyBIZWFkZXJzKGh0dHBPcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uXCIpO1xuICAgICAgICAgICAgY29uc3QgZmV0Y2hlciA9IGF3YWl0IHRoaXMuZmV0Y2hlckZhY3Rvcnkoe1xuICAgICAgICAgICAgICAgIHVzZURQb1A6IHRoaXMudXNlRFBvUCxcbiAgICAgICAgICAgICAgICBnZXRBY2Nlc3NUb2tlbjogYXN5bmMgKCkgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgYWNjZXNzVG9rZW46IG9wdGlvbnMudG9rZW5TZXQuYWNjZXNzVG9rZW4sXG4gICAgICAgICAgICAgICAgICAgIGV4cGlyZXNBdDogb3B0aW9ucy50b2tlblNldC5leHBpcmVzQXQgfHwgMCxcbiAgICAgICAgICAgICAgICAgICAgc2NvcGU6IG9wdGlvbnMudG9rZW5TZXQuc2NvcGUsXG4gICAgICAgICAgICAgICAgICAgIHRva2VuX3R5cGU6IG9wdGlvbnMudG9rZW5TZXQudG9rZW5fdHlwZVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGZldGNoOiB0aGlzLmZldGNoXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IHJlcXVlc3RCb2R5ID0ge1xuICAgICAgICAgICAgICAgIGF1dGhfc2Vzc2lvbjogb3B0aW9ucy5hdXRoU2Vzc2lvbixcbiAgICAgICAgICAgICAgICBjb25uZWN0X2NvZGU6IG9wdGlvbnMuY29ubmVjdENvZGUsXG4gICAgICAgICAgICAgICAgcmVkaXJlY3RfdXJpOiBvcHRpb25zLnJlZGlyZWN0VXJpLFxuICAgICAgICAgICAgICAgIGNvZGVfdmVyaWZpZXI6IG9wdGlvbnMuY29kZVZlcmlmaWVyXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2hlci5mZXRjaFdpdGhBdXRoKGNvbXBsZXRlQ29ubmVjdEFjY291bnRVcmwsIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHJlcXVlc3RCb2R5KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIXJlcy5vaykge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yQm9keSA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgQ29ubmVjdEFjY291bnRFcnJvcih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogQ29ubmVjdEFjY291bnRFcnJvckNvZGVzLkZBSUxFRF9UT19DT01QTEVURSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgVGhlIHJlcXVlc3QgdG8gY29tcGxldGUgdGhlIGNvbm5lY3QgYWNjb3VudCBmbG93IGZhaWxlZCB3aXRoIHN0YXR1cyAke3Jlcy5zdGF0dXN9LmAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F1c2U6IG5ldyBNeUFjY291bnRBcGlFcnJvcih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGVycm9yQm9keS50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogZXJyb3JCb2R5LnRpdGxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IGVycm9yQm9keS5kZXRhaWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogcmVzLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbkVycm9yczogZXJyb3JCb2R5LnZhbGlkYXRpb25fZXJyb3JzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IENvbm5lY3RBY2NvdW50RXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IENvbm5lY3RBY2NvdW50RXJyb3JDb2Rlcy5GQUlMRURfVE9fQ09NUExFVEUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYFRoZSByZXF1ZXN0IHRvIGNvbXBsZXRlIHRoZSBjb25uZWN0IGFjY291bnQgZmxvdyBmYWlsZWQgd2l0aCBzdGF0dXMgJHtyZXMuc3RhdHVzfS5gXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7IGlkLCBjb25uZWN0aW9uLCBhY2Nlc3NfdHlwZSwgc2NvcGVzLCBjcmVhdGVkX2F0LCBleHBpcmVzX2F0IH0gPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgIGFjY2Vzc1R5cGU6IGFjY2Vzc190eXBlLFxuICAgICAgICAgICAgICAgICAgICBzY29wZXMsXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogY3JlYXRlZF9hdCxcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJlc0F0OiBleHBpcmVzX2F0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICBuZXcgQ29ubmVjdEFjY291bnRFcnJvcih7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IENvbm5lY3RBY2NvdW50RXJyb3JDb2Rlcy5GQUlMRURfVE9fQ09NUExFVEUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGlsZSB0cnlpbmcgdG8gY29tcGxldGUgdGhlIGNvbm5lY3QgYWNjb3VudCBmbG93LlwiXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBnZXRPcGVuSWRDbGllbnRDb25maWcoKSB7XG4gICAgICAgIGNvbnN0IFtkaXNjb3ZlcnlFcnJvciwgYXV0aG9yaXphdGlvblNlcnZlck1ldGFkYXRhXSA9IGF3YWl0IHRoaXMuZGlzY292ZXJBdXRob3JpemF0aW9uU2VydmVyTWV0YWRhdGEoKTtcbiAgICAgICAgaWYgKGRpc2NvdmVyeUVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gW2Rpc2NvdmVyeUVycm9yLCBudWxsXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvcGVuaWRDbGllbnRDb25maWcgPSBuZXcgY2xpZW50LkNvbmZpZ3VyYXRpb24oYXV0aG9yaXphdGlvblNlcnZlck1ldGFkYXRhLCB0aGlzLmNsaWVudE1ldGFkYXRhLmNsaWVudF9pZCwge30sIGF3YWl0IHRoaXMuZ2V0Q2xpZW50QXV0aCgpKTtcbiAgICAgICAgY29uc3QgaHR0cE9wdHMgPSB0aGlzLmh0dHBPcHRpb25zKCk7XG4gICAgICAgIGNvbnN0IHRlbGVtZXRyeUhlYWRlcnMgPSBuZXcgSGVhZGVycyhodHRwT3B0cy5oZWFkZXJzKTtcbiAgICAgICAgb3BlbmlkQ2xpZW50Q29uZmlnW2NsaWVudC5jdXN0b21GZXRjaF0gPSAoLi4uYXJncykgPT4ge1xuICAgICAgICAgICAgY29uc3QgaGVhZGVycyA9IG5ldyBIZWFkZXJzKGFyZ3NbMV0uaGVhZGVycyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mZXRjaChhcmdzWzBdLCB7XG4gICAgICAgICAgICAgICAgLi4uYXJnc1sxXSxcbiAgICAgICAgICAgICAgICBib2R5OiBhcmdzWzFdLmJvZHksXG4gICAgICAgICAgICAgICAgaGVhZGVyczogbmV3IEhlYWRlcnMoWy4uLnRlbGVtZXRyeUhlYWRlcnMsIC4uLmhlYWRlcnNdKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIG9wZW5pZENsaWVudENvbmZpZy50aW1lb3V0ID0gdGhpcy5odHRwVGltZW91dDtcbiAgICAgICAgaWYgKHRoaXMuYWxsb3dJbnNlY3VyZVJlcXVlc3RzKSB7XG4gICAgICAgICAgICBjbGllbnQuYWxsb3dJbnNlY3VyZVJlcXVlc3RzKG9wZW5pZENsaWVudENvbmZpZyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtudWxsLCBvcGVuaWRDbGllbnRDb25maWddO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IEZldGNoZXIgaW5zdGFuY2Ugd2l0aCBEUG9QIHN1cHBvcnQgYW5kIGF1dGhlbnRpY2F0aW9uIGNhcGFiaWxpdGllcy5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGNyZWF0ZXMgZmV0Y2hlci1zY29wZWQgRFBvUCBoYW5kbGVzIHZpYSBgb2F1dGguRFBvUCh0aGlzLmNsaWVudE1ldGFkYXRhLCB0aGlzLmRwb3BLZXlQYWlyISlgLlxuICAgICAqIEVhY2ggZmV0Y2hlciBpbnN0YW5jZSBtYWludGFpbnMgaXRzIG93biBEUG9QIG5vbmNlIHN0YXRlIGZvciBpc29sYXRpb24gYW5kIHNlY3VyaXR5LlxuICAgICAqIEl0IGlzIHJlY29tbWVuZGVkIHRvIGNyZWF0ZSBmZXRjaGVycyBhdCBtb2R1bGUgbGV2ZWwgYW5kIHJldXNlIHRoZW0gYWNyb3NzIHJlcXVlc3RzXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZSBSZWNvbW1lbmRlZCBmZXRjaGVyIHJldXNlIHBhdHRlcm5cbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogY29uc3QgbWFuYWdlbWVudEFwaSA9IGF3YWl0IGF1dGgwLmZldGNoZXJGYWN0b3J5KHtcbiAgICAgKiAgIGJhc2VVcmw6IGBodHRwczovLyR7cHJvY2Vzcy5lbnYuQVVUSDBfRE9NQUlOfS9hcGkvdjIvYCxcbiAgICAgKiAgIHNlc3Npb246IGF3YWl0IGdldFNlc3Npb24ocmVxLCByZXMpXG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIHNhbWUgZmV0Y2hlciBmb3IgbXVsdGlwbGUgcmVxdWVzdHNcbiAgICAgKiBjb25zdCB1c2VycyA9IGF3YWl0IG1hbmFnZW1lbnRBcGkuZ2V0KCd1c2VycycpO1xuICAgICAqIGNvbnN0IHJvbGVzID0gYXdhaXQgbWFuYWdlbWVudEFwaS5nZXQoJ3JvbGVzJyk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiAqKkRQb1AgTm9uY2UgTWFuYWdlbWVudDoqKlxuICAgICAqIC0gRWFjaCBmZXRjaGVyIGxlYXJucyBhbmQgY2FjaGVzIG5vbmNlcyBmcm9tIHRoZSBhdXRob3JpemF0aW9uIHNlcnZlclxuICAgICAqIC0gRmFpbGVkIG5vbmNlIHZhbGlkYXRpb24gdHJpZ2dlcnMgYXV0b21hdGljIHJldHJ5IHdpdGggdXBkYXRlZCBub25jZVxuICAgICAqIC0gTm9uY2Ugc3RhdGUgaXMgaXNvbGF0ZWQgYmV0d2VlbiBmZXRjaGVyIGluc3RhbmNlcyBmb3Igc2VjdXJpdHlcbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdGhlIGZldGNoZXJcbiAgICAgKiBAcmV0dXJucyBQcm9taXNlIHJlc29sdmluZyB0byBhIGNvbmZpZ3VyZWQgRmV0Y2hlciBpbnN0YW5jZVxuICAgICAqIEB0aHJvd3Mge0RQb1BFcnJvcn0gV2hlbiBEUG9QIGlzIGVuYWJsZWQgYnV0IG5vIGtleXBhaXIgaXMgY29uZmlndXJlZFxuICAgICAqL1xuICAgIGFzeW5jIGZldGNoZXJGYWN0b3J5KG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMudXNlRFBvUCAmJiAhdGhpcy5kcG9wS2V5UGFpcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IERQb1BFcnJvcihEUG9QRXJyb3JDb2RlLkRQT1BfQ09ORklHVVJBVElPTl9FUlJPUiwgXCJEUG9QIGlzIGVuYWJsZWQgYnV0IG5vIGtleXBhaXIgaXMgY29uZmlndXJlZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRW5zdXJlIGF1dGhvcml6YXRpb24gc2VydmVyIG1ldGFkYXRhIGlzIGF2YWlsYWJsZSBmb3Igb2F1dGg0d2ViYXBpXG4gICAgICAgIGNvbnN0IFtkaXNjb3ZlcnlFcnJvciwgX2F1dGhvcml6YXRpb25TZXJ2ZXJNZXRhZGF0YV0gPSBhd2FpdCB0aGlzLmRpc2NvdmVyQXV0aG9yaXphdGlvblNlcnZlck1ldGFkYXRhKCk7XG4gICAgICAgIGlmIChkaXNjb3ZlcnlFcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgZGlzY292ZXJ5RXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZmV0Y2hlckNvbmZpZyA9IHtcbiAgICAgICAgICAgIC8vIEZldGNoZXItc2NvcGVkIERQb1AgaGFuZGxlIGFuZCBub25jZSBtYW5hZ2VtZW50XG4gICAgICAgICAgICBkcG9wSGFuZGxlOiB0aGlzLnVzZURQb1AgJiYgKG9wdGlvbnMudXNlRFBvUCA/PyB0cnVlKVxuICAgICAgICAgICAgICAgID8gb2F1dGguRFBvUCh0aGlzLmNsaWVudE1ldGFkYXRhLCB0aGlzLmRwb3BLZXlQYWlyKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgaHR0cE9wdGlvbnM6IHRoaXMuaHR0cE9wdGlvbnMsXG4gICAgICAgICAgICBhbGxvd0luc2VjdXJlUmVxdWVzdHM6IHRoaXMuYWxsb3dJbnNlY3VyZVJlcXVlc3RzLFxuICAgICAgICAgICAgcmV0cnlDb25maWc6IHRoaXMuZHBvcE9wdGlvbnM/LnJldHJ5LFxuICAgICAgICAgICAgZmV0Y2g6IG9wdGlvbnMuZmV0Y2gsXG4gICAgICAgICAgICBnZXRBY2Nlc3NUb2tlbjogb3B0aW9ucy5nZXRBY2Nlc3NUb2tlbixcbiAgICAgICAgICAgIGJhc2VVcmw6IG9wdGlvbnMuYmFzZVVybFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBmZXRjaGVySG9va3MgPSB7XG4gICAgICAgICAgICBnZXRBY2Nlc3NUb2tlbjogb3B0aW9ucy5nZXRBY2Nlc3NUb2tlbixcbiAgICAgICAgICAgIGlzRHBvcEVuYWJsZWQ6ICgpID0+IG9wdGlvbnMudXNlRFBvUCA/PyB0aGlzLnVzZURQb1AgPz8gZmFsc2VcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG5ldyBGZXRjaGVyKGZldGNoZXJDb25maWcsIGZldGNoZXJIb29rcyk7XG4gICAgfVxufVxuX0F1dGhDbGllbnRfaW5zdGFuY2VzID0gbmV3IFdlYWtTZXQoKSwgX0F1dGhDbGllbnRfZ2V0VG9rZW5TZXRGcm9tU2Vzc2lvbiA9IGZ1bmN0aW9uIF9BdXRoQ2xpZW50X2dldFRva2VuU2V0RnJvbVNlc3Npb24oc2Vzc2lvbiwgb3B0aW9ucykge1xuICAgIGNvbnN0IHRva2VuU2V0ID0gc2Vzc2lvbi50b2tlblNldDtcbiAgICBjb25zdCBhdWRpZW5jZSA9IG9wdGlvbnMuYXVkaWVuY2U7XG4gICAgY29uc3Qgc2NvcGUgPSBvcHRpb25zLnNjb3BlO1xuICAgIC8vIFdoZW4gYXVkaWVuY2UgYW5kIHNjb3BlIGFyZSBwcm92aWRlZCwgd2UgbmVlZCB0byBjb21wYXJlIHRoZW0gd2l0aCB0aGUgb3JpZ2luYWwgb25lcyBwcm92aWRlZCBpbiBlaXRoZXIgdGhlIGBTZXNzaW9uRGF0YS50b2tlblNldGAgaXRzZWxmLCBvciB0aGUgQXV0aDBDbGllbnQgY29uc3RydWN0b3IuXG4gICAgLy8gV2hlbiB0aGV5IGFyZSBpZGVudGljYWwsIHdlIHNob3VsZCByZWFkIGZyb20gdGhlIHRvcC1sZXZlbCBgU2Vzc2lvbkRhdGEudG9rZW5TZXRgLlxuICAgIC8vIElmIG5vdCwgd2Ugc2hvdWxkIGxvb2sgZm9yIHRoZSBjb3JyZXNwb25kaW5nIGFjY2VzcyB0b2tlbiBpbiBgU2Vzc2lvbkRhdGEuYWNjZXNzVG9rZW5zYFxuICAgIGNvbnN0IGlzQXVkaWVuY2VUaGVHbG9iYWxBdWRpZW5jZSA9ICFhdWRpZW5jZSB8fFxuICAgICAgICBhdWRpZW5jZSA9PT0gKHRva2VuU2V0LmF1ZGllbmNlIHx8IHRoaXMuYXV0aG9yaXphdGlvblBhcmFtZXRlcnMuYXVkaWVuY2UpO1xuICAgIGNvbnN0IGlzU2NvcGVUaGVHbG9iYWxTY29wZSA9ICFzY29wZSB8fFxuICAgICAgICBjb21wYXJlU2NvcGVzKHRva2VuU2V0LnJlcXVlc3RlZFNjb3BlIHx8XG4gICAgICAgICAgICBnZXRTY29wZUZvckF1ZGllbmNlKHRoaXMuYXV0aG9yaXphdGlvblBhcmFtZXRlcnMuc2NvcGUsIGF1ZGllbmNlKSwgc2NvcGUpO1xuICAgIGlmIChpc0F1ZGllbmNlVGhlR2xvYmFsQXVkaWVuY2UgJiYgaXNTY29wZVRoZUdsb2JhbFNjb3BlKSB7XG4gICAgICAgIHJldHVybiB0b2tlblNldDtcbiAgICB9XG4gICAgbGV0IGFjY2Vzc1Rva2VuU2V0O1xuICAgIC8vIElmIHRoZXJlIGlzIGFuIGF1ZGllbmNlLCB3ZSBjYW4gc2VhcmNoIGZvciB0aGUgY29ycmVjdCBhY2Nlc3MgdG9rZW4gaW4gdGhlIGFycmF5XG4gICAgLy8gSWYgdGhlcmUgaXMgbm8gYXVkaWVuY2UsIHdlIGNhbm5vdCBmaW5kIHRoZSBjb3JyZWN0IGFjY2VzcyB0b2tlbiBpbiB0aGUgYXJyYXlcbiAgICBpZiAoYXVkaWVuY2UpIHtcbiAgICAgICAgYWNjZXNzVG9rZW5TZXQgPSBmaW5kQWNjZXNzVG9rZW5TZXQoc2Vzc2lvbiwgeyBzY29wZSwgYXVkaWVuY2UgfSk7XG4gICAgfVxuICAgIC8vIENvbnZlcnQgdGhlIEFjY2VzcyBUb2tlbiBTZXQgdG8gYSBUb2tlbiBTZXQsIHdoaWNoIG1vc3RseSBlbnN1cmVzIHRoZSBJZCBUb2tlbiBhbmQgUmVmcmVzaFRva2VuIGFyZSBhbHNvIGF2YWlsYWJsZSxcbiAgICAvLyBCdXQgdGhlIGFjY2VzcyB0b2tlbiwgZXhwaXJlc0F0LCBhdWRpZW5jZSBhbmQgc2NvcGUgYXJlIHRha2VuIGZyb20gdGhlIEFjY2VzcyBUb2tlbiBTZXQuXG4gICAgLy8gV2hlbiBubyBhdWRpZW5jZSB3YXMgZm91bmQsIHdlIHdpbGwgcmV0dXJuIGFuIGVtcHR5IFRva2VuIFNldCB3aXRoIG9ubHkgdGhlIElkIFRva2VuIGFuZCBSZWZyZXNoIFRva2VuXG4gICAgcmV0dXJuIHRva2VuU2V0RnJvbUFjY2Vzc1Rva2VuU2V0KGFjY2Vzc1Rva2VuU2V0LCB0b2tlblNldCk7XG59LCBfQXV0aENsaWVudF9oYW5kbGVQcmVmbGlnaHQgPSBcbi8qKlxuICogSGFuZGxlcyBDT1JTIHByZWZsaWdodCByZXF1ZXN0cyB3aXRob3V0IGF1dGhlbnRpY2F0aW9uIGhlYWRlcnMuXG4gKlxuICogU3BlY2lhbC1jYXNlcyB0aGUgT1BUSU9OUyBtZXRob2QgdG8gZm9yd2FyZCBwcmVmbGlnaHQgcmVxdWVzdHMgZGlyZWN0bHkgV0lUSE9VVFxuICogY2FsbGluZyBgZmV0Y2hlci5mZXRjaFdpdGhBdXRoKClgLCB3aGljaCB3b3VsZCBpbmNvcnJlY3RseSBpbmplY3QgRFBvUC9hdXRoIGhlYWRlcnNcbiAqIG9uIHRoZSBwcmVmbGlnaHQgcmVxdWVzdC5cbiAqXG4gKiBUaGUgYnJvd3NlciBuZXZlciBzZW5kcyBhdXRoIGhlYWRlcnMgb24gcHJlZmxpZ2h0IHJlcXVlc3RzLCBhbmQgd2Ugc2hvdWxkIG5vdCBlaXRoZXIuXG4gKiBBdXRob3JpemF0aW9uIGNoZWNrcyBtdXN0IG5vdCBiZSBwZXJmb3JtZWQgb24gcHJlZmxpZ2h0IHJlcXVlc3RzIGFjY29yZGluZyB0byBSRkMgNzIzMS5cbiAqIEFkZGl0aW9uYWxseSwgRFBvUCBwcm9vZnMgYXJlIGJvdW5kIHRvIEhUVFAgcmVxdWVzdHMsIG5vdCB0byBwcmVmbGlnaHRzIChSRkMgOTQ0OSkuXG4gKlxuICogQHBhcmFtIHJlcSBUaGUgaW5jb21pbmcgQ09SUyBwcmVmbGlnaHQgT1BUSU9OUyByZXF1ZXN0LlxuICogQHBhcmFtIG9wdGlvbnMgQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0aGUgcHJveHkgaW5jbHVkaW5nIHRhcmdldCBiYXNlIFVSTCwgYXVkaWVuY2UsIGFuZCBzY29wZS5cbiAqIEByZXR1cm5zIEEgTmV4dFJlc3BvbnNlIGNvbnRhaW5pbmcgdGhlIHByZWZsaWdodCByZXNwb25zZSBmcm9tIHRoZSB0YXJnZXQgc2VydmVyLCBvciBhIDUwMCBlcnJvciBpZiB0aGUgcHJlZmxpZ2h0IGZhaWxzLlxuICpcbiAqIEBzZWUgUkZDIDcyMzEgU2VjdGlvbiA0LjMuMSAtIEF1dGhvcml6YXRpb24gY2hlY2tzIG11c3Qgbm90IGJlIHBlcmZvcm1lZCBvbiBwcmVmbGlnaHQgcmVxdWVzdHNcbiAqIEBzZWUgUkZDIDk0NDkgU2VjdGlvbiA0LjEgLSBEUG9QIHByb29mcyBhcmUgYm91bmQgdG8gSFRUUCByZXF1ZXN0cywgbm90IHRvIHByZWZsaWdodHNcbiAqL1xuYXN5bmMgZnVuY3Rpb24gX0F1dGhDbGllbnRfaGFuZGxlUHJlZmxpZ2h0KHJlcSwgb3B0aW9ucykge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBidWlsZEZvcndhcmRlZFJlcXVlc3RIZWFkZXJzKHJlcSk7XG4gICAgY29uc3QgdGFyZ2V0VXJsID0gdHJhbnNmb3JtVGFyZ2V0VXJsKHJlcSwgb3B0aW9ucyk7XG4gICAgLy8gU2V0IEhvc3QgaGVhZGVyIHRvIHVwc3RyZWFtIGhvc3RcbiAgICBoZWFkZXJzLnNldChcImhvc3RcIiwgdGFyZ2V0VXJsLmhvc3QpO1xuICAgIHRyeSB7XG4gICAgICAgIC8vIEZvcndhcmQgcHJlZmxpZ2h0IGRpcmVjdGx5IFdJVEhPVVQgRFBvUC9hdXRoIGhlYWRlcnNcbiAgICAgICAgY29uc3QgcHJlZmxpZ2h0UmVzcG9uc2UgPSBhd2FpdCB0aGlzLmZldGNoKHRhcmdldFVybC50b1N0cmluZygpLCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiT1BUSU9OU1wiLFxuICAgICAgICAgICAgaGVhZGVyc1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gRm9yd2FyZCBDT1JTIGhlYWRlcnMgZnJvbSB1cHN0cmVhbVxuICAgICAgICByZXR1cm4gbmV3IE5leHRSZXNwb25zZShudWxsLCB7XG4gICAgICAgICAgICBzdGF0dXM6IHByZWZsaWdodFJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgICAgIGhlYWRlcnM6IGJ1aWxkRm9yd2FyZGVkUmVzcG9uc2VIZWFkZXJzKHByZWZsaWdodFJlc3BvbnNlKVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIElmIHByZWZsaWdodCBmYWlscywgcmV0dXJuIDUwMFxuICAgICAgICByZXR1cm4gbmV3IE5leHRSZXNwb25zZShlcnJvci5jYXVzZSB8fCBlcnJvci5tZXNzYWdlIHx8IFwiUHJlZmxpZ2h0IHJlcXVlc3QgZmFpbGVkXCIsIHsgc3RhdHVzOiA1MDAgfSk7XG4gICAgfVxufSwgX0F1dGhDbGllbnRfaGFuZGxlUHJveHkgPSBcbi8qKlxuICogSGFuZGxlcyBwcm94eWluZyByZXF1ZXN0cyB0byBhIHRhcmdldCBVUkwgd2l0aCBhdXRoZW50aWNhdGlvbi5cbiAqXG4gKiBUaGlzIG1ldGhvZCByZXRyaWV2ZXMgdGhlIHVzZXIncyBzZXNzaW9uLCBjb25zdHJ1Y3RzIHRoZSB0YXJnZXQgVVJMLFxuICogYW5kIGZvcndhcmRzIHRoZSByZXF1ZXN0IHdpdGggYXBwcm9wcmlhdGUgYXV0aGVudGljYXRpb24gaGVhZGVycy5cbiAqIEl0IGFsc28gbWFuYWdlcyB0b2tlbiByZXRyaWV2YWwgYW5kIHNlc3Npb24gdXBkYXRlcyBhcyBuZWVkZWQuXG4gKiBAcGFyYW0gcmVxIFRoZSBpbmNvbWluZyBOZXh0LmpzIHJlcXVlc3QgdG8gYmUgcHJveGllZC5cbiAqIEBwYXJhbSBvcHRpb25zIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdGhlIHByb3h5aW5nIGJlaGF2aW9yLlxuICogQHJldHVybnMgQSBOZXh0LmpzIHJlc3BvbnNlIGNvbnRhaW5pbmcgdGhlIHByb3hpZWQgcmVxdWVzdCdzIHJlc3BvbnNlLlxuICovXG5hc3luYyBmdW5jdGlvbiBfQXV0aENsaWVudF9oYW5kbGVQcm94eShyZXEsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgdGhpcy5zZXNzaW9uU3RvcmUuZ2V0KHJlcS5jb29raWVzKTtcbiAgICBpZiAoIXNlc3Npb24pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBOZXh0UmVzcG9uc2UoXCJUaGUgdXNlciBkb2VzIG5vdCBoYXZlIGFuIGFjdGl2ZSBzZXNzaW9uLlwiLCB7XG4gICAgICAgICAgICBzdGF0dXM6IDQwMVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gaGFuZGxlIHByZWZsaWdodCByZXF1ZXN0c1xuICAgIGlmIChyZXEubWV0aG9kID09PSBcIk9QVElPTlNcIiAmJlxuICAgICAgICByZXEuaGVhZGVycy5oYXMoXCJhY2Nlc3MtY29udHJvbC1yZXF1ZXN0LW1ldGhvZFwiKSkge1xuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXV0aENsaWVudF9pbnN0YW5jZXMsIFwibVwiLCBfQXV0aENsaWVudF9oYW5kbGVQcmVmbGlnaHQpLmNhbGwodGhpcywgcmVxLCBvcHRpb25zKTtcbiAgICB9XG4gICAgY29uc3QgaGVhZGVycyA9IGJ1aWxkRm9yd2FyZGVkUmVxdWVzdEhlYWRlcnMocmVxKTtcbiAgICAvLyBDbG9uZSB0aGUgcmVxdWVzdCB0byBwcmVzZXJ2ZSBib2R5IGZvciBEUG9QIG5vbmNlIHJldHJ5XG4gICAgLy8gV0hBVFdHIFN0cmVhbXMgU3BlYzogUmVhZGFibGVTdHJlYW0gaXMgc2luZ2xlLWNvbnN1bWUgKGNhbiBvbmx5IGJlIHJlYWQgb25jZSkuXG4gICAgLy8gV2hlbiBvYXV0aDR3ZWJhcGkncyBwcm90ZWN0ZWRSZXNvdXJjZVJlcXVlc3QgZW5jb3VudGVycyBhIERQb1Agbm9uY2UgZXJyb3IsXG4gICAgLy8gaXQgdHJpZ2dlcnMgYSByZXRyeS4gV2l0aG91dCBjbG9uaW5nLCB0aGUgYm9keSBzdHJlYW0gd2lsbCBiZSBleGhhdXN0ZWQgb24gdGhlIGZpcnN0IGF0dGVtcHQsXG4gICAgLy8gY2F1c2luZyB0aGUgcmV0cnkgdG8gZmFpbCB3aXRoIFwic3RyZWFtIGFscmVhZHkgZGlzdHVyYmVkXCIgb3IgZW1wdHkgYm9keS5cbiAgICAvLyBUbyBzdXBwb3J0IHJldHJ5LCB3ZSBidWZmZXIgdGhlIGJvZHkgc28gaXQgY2FuIGJlIHJldXNlZCBvbiByZXRyeS5cbiAgICAvLyBUaGlzIHJldHJ5IHdpbGwgbm90IGhhcHBlbiB3aXRoIGJlYXJlciBhdXRoIHNvIG5vIG5lZWQgdG8gY2xvbmUgaWYgRFBvUCBpcyBmYWxzZS5cbiAgICBjb25zdCBjbG9uZWRSZXEgPSB0aGlzLnVzZURQb1AgPyByZXEuY2xvbmUoKSA6IHJlcTtcbiAgICBjb25zdCB0YXJnZXRVcmwgPSB0cmFuc2Zvcm1UYXJnZXRVcmwocmVxLCBvcHRpb25zKTtcbiAgICAvLyBTZXQgSG9zdCBoZWFkZXIgdG8gdXBzdHJlYW0gaG9zdFxuICAgIGhlYWRlcnMuc2V0KFwiaG9zdFwiLCB0YXJnZXRVcmwuaG9zdCk7XG4gICAgLy8gQnVmZmVyIHRoZSBib2R5IHRvIGFsbG93IHJldHJ5IG9uIERQb1Agbm9uY2UgZXJyb3JzXG4gICAgLy8gUmVhZGFibGVTdHJlYW1zIGNhbiBvbmx5IGJlIGNvbnN1bWVkIG9uY2UsIHNvIHdlIG5lZWQgdG8gYnVmZmVyIGZvciByZXRyeVxuICAgIGNvbnN0IGJvZHlCdWZmZXIgPSBjbG9uZWRSZXEuYm9keVxuICAgICAgICA/IGF3YWl0IGNsb25lZFJlcS5hcnJheUJ1ZmZlcigpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIGxldCB0b2tlblNldFNpZGVFZmZlY3Q7XG4gICAgY29uc3QgZ2V0QWNjZXNzVG9rZW4gPSBhc3luYyAoYXV0aFBhcmFtcykgPT4ge1xuICAgICAgICBjb25zdCBbZXJyb3IsIHRva2VuU2V0UmVzcG9uc2VdID0gYXdhaXQgdGhpcy5nZXRUb2tlblNldChzZXNzaW9uLCB7XG4gICAgICAgICAgICBhdWRpZW5jZTogYXV0aFBhcmFtcy5hdWRpZW5jZSxcbiAgICAgICAgICAgIHNjb3BlOiBhdXRoUGFyYW1zLnNjb3BlXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRyYWNraW5nIHRoZSBsYXN0IHVzZWQgdG9rZW4gc2V0IHJlc3BvbnNlIGZvciBzZXNzaW9uIHVwZGF0ZXMgbGF0ZXIgYXMgYSBzaWRlIGVmZmVjdC5cbiAgICAgICAgLy8gVGhpcyByZWxpZXMgb24gdGhlIGZhY3QgdGhhdCBgZ2V0QWNjZXNzVG9rZW5gIGlzIGNhbGxlZCBiZWZvcmUgdGhlIGFjdHVhbCBmZXRjaC5cbiAgICAgICAgLy8gTm90IGlkZWFsLCBidXQgd29ya3MgYmVjYXVzZSBvZiB0aGF0IG9yZGVyIG9mIGV4ZWN1dGlvbi5cbiAgICAgICAgLy8gV2UgbmVlZCB0byBkbyB0aGlzIGJlY2F1c2UgdGhlIGZldGNoZXIgZG9lcyBub3QgcmV0dXJuIHRoZSB0b2tlbiBzZXQgdXNlZCwgYW5kIHdlIG5lZWQgaXQgdG8gdXBkYXRlIHRoZSBzZXNzaW9uIGlmIG5lY2Vzc2FyeS5cbiAgICAgICAgLy8gQWRkaXRpb25hbGx5LCB1cGRhdGluZyB0aGUgc2Vzc2lvbiByZXF1aXJlcyB0aGUgcmVxdWVzdCBhbmQgcmVzcG9uc2Ugb2JqZWN0cywgd2hpY2ggYXJlIG5vdCBhdmFpbGFibGUgaW4gdGhlIGZldGNoZXIsXG4gICAgICAgIC8vIHNvIHdlIGNhbiBub3QgdXBkYXRlIHRoZSBzZXNzaW9uIGRpcmVjdGx5IGZyb20gdGhlIGZldGNoZXIuXG4gICAgICAgIHRva2VuU2V0U2lkZUVmZmVjdCA9IHRva2VuU2V0UmVzcG9uc2U7XG4gICAgICAgIHJldHVybiB0b2tlblNldFJlc3BvbnNlLnRva2VuU2V0O1xuICAgIH07XG4gICAgLy8gZ2V0L2NyZWF0ZSBmZXRjaGVyIGlzbnRhbmNlXG4gICAgbGV0IGZldGNoZXIgPSB0aGlzLnByb3h5RmV0Y2hlcnNbb3B0aW9ucy5hdWRpZW5jZV07XG4gICAgaWYgKCFmZXRjaGVyKSB7XG4gICAgICAgIGZldGNoZXIgPSBhd2FpdCB0aGlzLmZldGNoZXJGYWN0b3J5KHtcbiAgICAgICAgICAgIHVzZURQb1A6IHRoaXMudXNlRFBvUCxcbiAgICAgICAgICAgIGZldGNoOiB0aGlzLmZldGNoLFxuICAgICAgICAgICAgZ2V0QWNjZXNzVG9rZW46IGdldEFjY2Vzc1Rva2VuXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnByb3h5RmV0Y2hlcnNbb3B0aW9ucy5hdWRpZW5jZV0gPSBmZXRjaGVyO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBPdmVycmlkZSBmZXRjaGVyJ3MgZ2V0QWNjZXNzVG9rZW4gdG8gY2FwdHVyZSB0b2tlbiBzZXQgc2lkZSBlZmZlY3RzXG4gICAgICAgIGZldGNoZXIuZ2V0QWNjZXNzVG9rZW4gPSBnZXRBY2Nlc3NUb2tlbjtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaGVyLmZldGNoV2l0aEF1dGgodGFyZ2V0VXJsLnRvU3RyaW5nKCksIHtcbiAgICAgICAgICAgIG1ldGhvZDogY2xvbmVkUmVxLm1ldGhvZCxcbiAgICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBib2R5QnVmZmVyXG4gICAgICAgIH0sIHsgc2NvcGU6IG9wdGlvbnMuc2NvcGUsIGF1ZGllbmNlOiBvcHRpb25zLmF1ZGllbmNlIH0pO1xuICAgICAgICBjb25zdCByZXMgPSBuZXcgTmV4dFJlc3BvbnNlKHJlc3BvbnNlLmJvZHksIHtcbiAgICAgICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgICAgc3RhdHVzVGV4dDogcmVzcG9uc2Uuc3RhdHVzVGV4dCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGJ1aWxkRm9yd2FyZGVkUmVzcG9uc2VIZWFkZXJzKHJlc3BvbnNlKVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gVXNpbmcgdGhlIGxhc3QgdXNlZCB0b2tlbiBzZXQgcmVzcG9uc2UgdG8gZGV0ZXJtaW5lIGlmIHdlIG5lZWQgdG8gdXBkYXRlIHRoZSBzZXNzaW9uXG4gICAgICAgIC8vIFRoaXMgaXMgbm90IGlkZWFsLCBhcyB0aGlzIGtpbmQgb2YgcmVsaWVzIG9uIHRoZSBvcmRlciBvZiBleGVjdXRpb24uXG4gICAgICAgIC8vIEFzIHdlIGtub3cgdGhlIGZldGNoZXIncyBgZ2V0QWNjZXNzVG9rZW5gIGlzIGNhbGxlZCBiZWZvcmUgdGhlIGFjdHVhbCBmZXRjaCxcbiAgICAgICAgLy8gd2Uga25vdyBpdCBzaG91bGQgYWx3YXlzIGJlIGRlZmluZWQgd2hlbiB3ZSByZWFjaCB0aGlzIHBvaW50LlxuICAgICAgICBpZiAodG9rZW5TZXRTaWRlRWZmZWN0KSB7XG4gICAgICAgICAgICBhd2FpdCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9BdXRoQ2xpZW50X2luc3RhbmNlcywgXCJtXCIsIF9BdXRoQ2xpZW50X3VwZGF0ZVNlc3Npb25BZnRlclRva2VuUmV0cmlldmFsKS5jYWxsKHRoaXMsIHJlcSwgcmVzLCBzZXNzaW9uLCB0b2tlblNldFNpZGVFZmZlY3QpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIC8vIFJldHVybiA0MDEgZm9yIG1pc3NpbmcgcmVmcmVzaCB0b2tlbiAoY2Fubm90IHJlZnJlc2ggZXhwaXJlZCB0b2tlbilcbiAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBBY2Nlc3NUb2tlbkVycm9yICYmXG4gICAgICAgICAgICBlLmNvZGUgPT09IEFjY2Vzc1Rva2VuRXJyb3JDb2RlLk1JU1NJTkdfUkVGUkVTSF9UT0tFTikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBOZXh0UmVzcG9uc2UoZS5tZXNzYWdlLCB7IHN0YXR1czogNDAxIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIEdlbmVyaWMgZXJyb3IgaGFuZGxpbmcgZm9yIG90aGVyIGVycm9yc1xuICAgICAgICByZXR1cm4gbmV3IE5leHRSZXNwb25zZShlLmNhdXNlIHx8IGUubWVzc2FnZSB8fCBcIkFuIGVycm9yIG9jY3VycmVkIHdoaWxlIHByb3h5aW5nIHRoZSByZXF1ZXN0LlwiLCB7XG4gICAgICAgICAgICBzdGF0dXM6IDUwMFxuICAgICAgICB9KTtcbiAgICB9XG59LCBfQXV0aENsaWVudF91cGRhdGVTZXNzaW9uQWZ0ZXJUb2tlblJldHJpZXZhbCA9IFxuLyoqXG4gKiBVcGRhdGVzIHRoZSBzZXNzaW9uIGFmdGVyIHRva2VuIHJldHJpZXZhbCBpZiB0aGVyZSBhcmUgY2hhbmdlcy5cbiAqXG4gKiBUaGlzIG1ldGhvZDpcbiAqIDEuIENoZWNrcyBpZiB0aGUgc2Vzc2lvbiBuZWVkcyB0byBiZSB1cGRhdGVkIGJhc2VkIG9uIHRva2VuIGNoYW5nZXNcbiAqIDIuIFVwZGF0ZXMgdGhlIHVzZXIgY2xhaW1zIGlmIG5ldyBJRCB0b2tlbiBjbGFpbXMgYXJlIHByb3ZpZGVkXG4gKiAzLiBGaW5hbGl6ZXMgdGhlIHNlc3Npb24gdGhyb3VnaCB0aGUgYmVmb3JlU2Vzc2lvblNhdmVkIGhvb2sgb3IgZGVmYXVsdCBmaWx0ZXJpbmdcbiAqIDQuIFBlcnNpc3RzIHRoZSB1cGRhdGVkIHNlc3Npb24gdG8gdGhlIHNlc3Npb24gc3RvcmVcbiAqIDUuIEFkZHMgY2FjaGUgY29udHJvbCBoZWFkZXJzIHRvIHRoZSByZXNwb25zZVxuICpcbiAqIEBub3RlIFRoaXMgbWV0aG9kIG11dGF0ZXMgdGhlIGByZXNgIHBhcmFtZXRlciBieTpcbiAqIC0gU2V0dGluZyBzZXNzaW9uIGNvb2tpZXMgdmlhIGByZXMuY29va2llc2BcbiAqIC0gQWRkaW5nIGNhY2hlIGNvbnRyb2wgaGVhZGVycyB0byB0aGUgcmVzcG9uc2VcbiAqL1xuYXN5bmMgZnVuY3Rpb24gX0F1dGhDbGllbnRfdXBkYXRlU2Vzc2lvbkFmdGVyVG9rZW5SZXRyaWV2YWwocmVxLCByZXMsIHNlc3Npb24sIHRva2VuU2V0UmVzcG9uc2UpIHtcbiAgICBjb25zdCBzZXNzaW9uQ2hhbmdlcyA9IGdldFNlc3Npb25DaGFuZ2VzQWZ0ZXJHZXRBY2Nlc3NUb2tlbihzZXNzaW9uLCB0b2tlblNldFJlc3BvbnNlLnRva2VuU2V0LCB7XG4gICAgICAgIHNjb3BlOiB0aGlzLmF1dGhvcml6YXRpb25QYXJhbWV0ZXJzPy5zY29wZSA/PyBERUZBVUxUX1NDT1BFUyxcbiAgICAgICAgYXVkaWVuY2U6IHRoaXMuYXV0aG9yaXphdGlvblBhcmFtZXRlcnM/LmF1ZGllbmNlXG4gICAgfSk7XG4gICAgaWYgKHNlc3Npb25DaGFuZ2VzKSB7XG4gICAgICAgIGlmICh0b2tlblNldFJlc3BvbnNlLmlkVG9rZW5DbGFpbXMpIHtcbiAgICAgICAgICAgIHNlc3Npb24udXNlciA9IHRva2VuU2V0UmVzcG9uc2UuaWRUb2tlbkNsYWltcztcbiAgICAgICAgfVxuICAgICAgICAvLyBjYWxsIGJlZm9yZVNlc3Npb25TYXZlZCBjYWxsYmFjayBpZiBwcmVzZW50XG4gICAgICAgIC8vIGlmIG5vdCB0aGVuIGZpbHRlciBpZF90b2tlbiBjbGFpbXMgd2l0aCBkZWZhdWx0IHJ1bGVzXG4gICAgICAgIGNvbnN0IGZpbmFsU2Vzc2lvbiA9IGF3YWl0IHRoaXMuZmluYWxpemVTZXNzaW9uKHtcbiAgICAgICAgICAgIC4uLnNlc3Npb24sXG4gICAgICAgICAgICAuLi5zZXNzaW9uQ2hhbmdlc1xuICAgICAgICB9LCB0b2tlblNldFJlc3BvbnNlLnRva2VuU2V0LmlkVG9rZW4pO1xuICAgICAgICBhd2FpdCB0aGlzLnNlc3Npb25TdG9yZS5zZXQocmVxLmNvb2tpZXMsIHJlcy5jb29raWVzLCBmaW5hbFNlc3Npb24pO1xuICAgICAgICBhZGRDYWNoZUNvbnRyb2xIZWFkZXJzRm9yU2Vzc2lvbihyZXMpO1xuICAgIH1cbn0sIF9BdXRoQ2xpZW50X3JlZnJlc2hUb2tlblNldCA9IFxuLyoqXG4gKiBSZWZyZXNoZXMgdGhlIHRva2VuIHNldCB1c2luZyB0aGUgcHJvdmlkZWQgcmVmcmVzaCB0b2tlbi5cbiAqIEBwYXJhbSB0b2tlblNldCBUaGUgY3VycmVudCB0b2tlbiBzZXQgY29udGFpbmluZyB0aGUgcmVmcmVzaCB0b2tlbi5cbiAqIEBwYXJhbSBvcHRpb25zIE9wdGlvbnMgZm9yIHRoZSByZWZyZXNoIG9wZXJhdGlvbiwgaW5jbHVkaW5nIHNjb3BlIGFuZCBhdWRpZW5jZS5cbiAqIEByZXR1cm5zIEEgdHVwbGUgY29udGFpbmluZyBlaXRoZXI6XG4gKiAgIC0gYFtudWxsLCB7IHVwZGF0ZWRUb2tlblNldDogVG9rZW5TZXQ7IGlkVG9rZW5DbGFpbXM6IG9hdXRoLklEVG9rZW4gfV1gIGlmIHRoZSB0b2tlbiB3YXMgc3VjY2Vzc2Z1bGx5IHJlZnJlc2hlZCwgY29udGFpbmluZyB0aGUgdXBkYXRlZCB0b2tlbiBzZXQgYW5kIElEIHRva2VuIGNsYWltcy5cbiAqICAgLSBgW1Nka0Vycm9yLCBudWxsXWAgaWYgYW4gZXJyb3Igb2NjdXJyZWQgZHVyaW5nIHRoZSByZWZyZXNoIHByb2Nlc3MuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIF9BdXRoQ2xpZW50X3JlZnJlc2hUb2tlblNldCh0b2tlblNldCwgb3B0aW9ucykge1xuICAgIGNvbnN0IFtkaXNjb3ZlcnlFcnJvciwgYXV0aG9yaXphdGlvblNlcnZlck1ldGFkYXRhXSA9IGF3YWl0IHRoaXMuZGlzY292ZXJBdXRob3JpemF0aW9uU2VydmVyTWV0YWRhdGEoKTtcbiAgICBpZiAoZGlzY292ZXJ5RXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIFtkaXNjb3ZlcnlFcnJvciwgbnVsbF07XG4gICAgfVxuICAgIGNvbnN0IGFkZGl0aW9uYWxQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgIGlmIChvcHRpb25zLnNjb3BlKSB7XG4gICAgICAgIGFkZGl0aW9uYWxQYXJhbWV0ZXJzLmFwcGVuZChcInNjb3BlXCIsIG9wdGlvbnMuc2NvcGUpO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5hdWRpZW5jZSkge1xuICAgICAgICBhZGRpdGlvbmFsUGFyYW1ldGVycy5hcHBlbmQoXCJhdWRpZW5jZVwiLCBvcHRpb25zLmF1ZGllbmNlKTtcbiAgICB9XG4gICAgLy8gQ3JlYXRlIERQb1AgaGFuZGxlIE9OQ0Ugb3V0c2lkZSB0aGUgY2xvc3VyZSBzbyBpdCBwZXJzaXN0cyBhY3Jvc3MgcmV0cmllcy5cbiAgICAvLyBUaGlzIGlzIHJlcXVpcmVkIGJ5IFJGQyA5NDQ5OiB0aGUgaGFuZGxlIG11c3QgbGVhcm4gYW5kIHJldXNlIHRoZSBub25jZSBmcm9tXG4gICAgLy8gdGhlIERQb1AtTm9uY2UgaGVhZGVyIGFjcm9zcyBtdWx0aXBsZSBhdHRlbXB0cy5cbiAgICBjb25zdCBkcG9wSGFuZGxlID0gdGhpcy51c2VEUG9QICYmIHRoaXMuZHBvcEtleVBhaXJcbiAgICAgICAgPyBvYXV0aC5EUG9QKHRoaXMuY2xpZW50TWV0YWRhdGEsIHRoaXMuZHBvcEtleVBhaXIpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IHJlZnJlc2hUb2tlbkdyYW50UmVxdWVzdENhbGwgPSBhc3luYyAoKSA9PiBvYXV0aC5yZWZyZXNoVG9rZW5HcmFudFJlcXVlc3QoYXV0aG9yaXphdGlvblNlcnZlck1ldGFkYXRhLCB0aGlzLmNsaWVudE1ldGFkYXRhLCBhd2FpdCB0aGlzLmdldENsaWVudEF1dGgoKSwgdG9rZW5TZXQucmVmcmVzaFRva2VuLCB7XG4gICAgICAgIC4uLnRoaXMuaHR0cE9wdGlvbnMoKSxcbiAgICAgICAgW29hdXRoLmN1c3RvbUZldGNoXTogdGhpcy5mZXRjaCxcbiAgICAgICAgW29hdXRoLmFsbG93SW5zZWN1cmVSZXF1ZXN0c106IHRoaXMuYWxsb3dJbnNlY3VyZVJlcXVlc3RzLFxuICAgICAgICBhZGRpdGlvbmFsUGFyYW1ldGVycyxcbiAgICAgICAgLi4uKGRwb3BIYW5kbGUgJiYge1xuICAgICAgICAgICAgRFBvUDogZHBvcEhhbmRsZVxuICAgICAgICB9KVxuICAgIH0pO1xuICAgIGNvbnN0IHByb2Nlc3NSZWZyZXNoVG9rZW5SZXNwb25zZUNhbGwgPSAocmVzcG9uc2UpID0+IG9hdXRoLnByb2Nlc3NSZWZyZXNoVG9rZW5SZXNwb25zZShhdXRob3JpemF0aW9uU2VydmVyTWV0YWRhdGEsIHRoaXMuY2xpZW50TWV0YWRhdGEsIHJlc3BvbnNlKTtcbiAgICBsZXQgb2F1dGhSZXM7XG4gICAgdHJ5IHtcbiAgICAgICAgb2F1dGhSZXMgPSBhd2FpdCB3aXRoRFBvUE5vbmNlUmV0cnkoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVmcmVzaFRva2VuUmVzID0gYXdhaXQgcmVmcmVzaFRva2VuR3JhbnRSZXF1ZXN0Q2FsbCgpO1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHByb2Nlc3NSZWZyZXNoVG9rZW5SZXNwb25zZUNhbGwocmVmcmVzaFRva2VuUmVzKTtcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgaXNEUG9QRW5hYmxlZDogISEodGhpcy51c2VEUG9QICYmIHRoaXMuZHBvcEtleVBhaXIpLFxuICAgICAgICAgICAgLi4udGhpcy5kcG9wT3B0aW9ucz8ucmV0cnlcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBuZXcgQWNjZXNzVG9rZW5FcnJvcihBY2Nlc3NUb2tlbkVycm9yQ29kZS5GQUlMRURfVE9fUkVGUkVTSF9UT0tFTiwgXCJUaGUgYWNjZXNzIHRva2VuIGhhcyBleHBpcmVkIGFuZCB0aGVyZSB3YXMgYW4gZXJyb3Igd2hpbGUgdHJ5aW5nIHRvIHJlZnJlc2ggaXQuXCIsIG5ldyBPQXV0aDJFcnJvcih7XG4gICAgICAgICAgICAgICAgY29kZTogZS5lcnJvcixcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlLmVycm9yX2Rlc2NyaXB0aW9uXG4gICAgICAgICAgICB9KSksXG4gICAgICAgICAgICBudWxsXG4gICAgICAgIF07XG4gICAgfVxuICAgIGNvbnN0IGlkVG9rZW5DbGFpbXMgPSBvYXV0aC5nZXRWYWxpZGF0ZWRJZFRva2VuQ2xhaW1zKG9hdXRoUmVzKTtcbiAgICBjb25zdCBhY2Nlc3NUb2tlbkV4cGlyZXNBdCA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApICsgTnVtYmVyKG9hdXRoUmVzLmV4cGlyZXNfaW4pO1xuICAgIGNvbnN0IHVwZGF0ZWRUb2tlblNldCA9IHtcbiAgICAgICAgLi4udG9rZW5TZXQsIC8vIGNvbnRhaW5zIHRoZSBleGlzdGluZyBgaWF0YCBjbGFpbSB0byBtYWludGFpbiB0aGUgc2Vzc2lvbiBsaWZldGltZVxuICAgICAgICBhY2Nlc3NUb2tlbjogb2F1dGhSZXMuYWNjZXNzX3Rva2VuLFxuICAgICAgICBpZFRva2VuOiBvYXV0aFJlcy5pZF90b2tlbixcbiAgICAgICAgLy8gV2Ugc3RvcmUgdGhlIGJvdGggcmVxdWVzdGVkIGFuZCBncmFudGVkIHNjb3BlcyBvbiB0aGUgdG9rZW5TZXQsIHNvIHdlIGtub3cgd2hhdCBzY29wZXMgd2VyZSByZXF1ZXN0ZWQuXG4gICAgICAgIC8vIFRoZSBzZXJ2ZXIgbWF5IHJldHVybiBsZXNzIHNjb3BlcyB0aGFuIHJlcXVlc3RlZC5cbiAgICAgICAgLy8gVGhpcyBlbnN1cmVzIHdlIGNhbiByZXR1cm4gdGhlIHNhbWUgdG9rZW4gYWdhaW4gd2hlbiBhIHRva2VuIGZvciB0aGUgc2FtZSBvciBsZXNzIHNjb3BlcyBpcyByZXF1ZXN0ZWQgYnkgdXNpbmcgYHJlcXVlc3RlZFNjb3BlYCBkdXJpbmcgbG9vay11cC5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gRS5nLiBXaGVuIHJlcXVlc3RpbmcgYSB0b2tlbiB3aXRoIHNjb3BlIGBhIGJgLCBhbmQgd2UgcmV0dXJuIG9uZSBmb3Igc2NvcGUgYGFgIG9ubHksXG4gICAgICAgIC8vIC0gSWYgd2Ugb25seSBzdG9yZSB0aGUgcmV0dXJuZWQgc2NvcGVzLCB3ZSBjYW5ub3QgcmV0dXJuIHRoaXMgdG9rZW4gd2hlbiB0aGUgdXNlciByZXF1ZXN0cyBhIHRva2VuIGZvciBzY29wZSBgYSBiYCBhZ2Fpbi5cbiAgICAgICAgLy8gLSBJZiB3ZSBvbmx5IHN0b3JlIHRoZSByZXF1ZXN0ZWQgc2NvcGVzLCB3ZSBsb3NlIHRyYWNrIG9mIHRoZSBhY3R1YWwgc2NvcGVzIGdyYW50ZWQuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFNjb3BlcyBhY3R1YWxseSBncmFudGVkIGJ5IHRoZSBzZXJ2ZXJcbiAgICAgICAgc2NvcGU6IG9hdXRoUmVzLnNjb3BlLFxuICAgICAgICAvLyBTY29wZXMgcmVxdWVzdGVkIGJ5IHRoZSBjbGllbnRcbiAgICAgICAgcmVxdWVzdGVkU2NvcGU6IG9wdGlvbnMucmVxdWVzdGVkU2NvcGUsXG4gICAgICAgIGV4cGlyZXNBdDogYWNjZXNzVG9rZW5FeHBpcmVzQXQsXG4gICAgICAgIC8vIEtlZXAgdGhlIGF1ZGllbmNlIGlmIGl0IGV4aXN0cywgb3RoZXJ3aXNlIHVzZSB0aGUgb25lIGZyb20gdGhlIG9wdGlvbnMuXG4gICAgICAgIC8vIElmIG5vdCBwcm92aWRlZCwgdXNlIGB1bmRlZmluZWRgLlxuICAgICAgICBhdWRpZW5jZTogdG9rZW5TZXQuYXVkaWVuY2UgfHwgb3B0aW9ucy5hdWRpZW5jZSB8fCB1bmRlZmluZWQsXG4gICAgICAgIC8vIFN0b3JlIHRoZSB0b2tlbiB0eXBlIGZyb20gdGhlIE9BdXRoIHJlc3BvbnNlIChlLmcuLCBcIkJlYXJlclwiLCBcIkRQb1BcIilcbiAgICAgICAgLi4uKG9hdXRoUmVzLnRva2VuX3R5cGUgJiYgeyB0b2tlbl90eXBlOiBvYXV0aFJlcy50b2tlbl90eXBlIH0pXG4gICAgfTtcbiAgICBpZiAob2F1dGhSZXMucmVmcmVzaF90b2tlbikge1xuICAgICAgICAvLyByZWZyZXNoIHRva2VuIHJvdGF0aW9uIGlzIGVuYWJsZWQsIHBlcnNpc3QgdGhlIG5ldyByZWZyZXNoIHRva2VuIGZyb20gdGhlIHJlc3BvbnNlXG4gICAgICAgIHVwZGF0ZWRUb2tlblNldC5yZWZyZXNoVG9rZW4gPSBvYXV0aFJlcy5yZWZyZXNoX3Rva2VuO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gd2UgZGlkIG5vdCBnZXQgYSByZWZyZXNoIHRva2VuIGJhY2ssIGtlZXAgdGhlIGN1cnJlbnQgbG9uZy1saXZlZCByZWZyZXNoIHRva2VuIGFyb3VuZFxuICAgICAgICB1cGRhdGVkVG9rZW5TZXQucmVmcmVzaFRva2VuID0gdG9rZW5TZXQucmVmcmVzaFRva2VuO1xuICAgIH1cbiAgICByZXR1cm4gW1xuICAgICAgICBudWxsLFxuICAgICAgICB7XG4gICAgICAgICAgICB1cGRhdGVkVG9rZW5TZXQsXG4gICAgICAgICAgICBpZFRva2VuQ2xhaW1zXG4gICAgICAgIH1cbiAgICBdO1xufTtcbmNvbnN0IGVuY29kZUJhc2U2NCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHVuZW5jb2RlZCA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShpbnB1dCk7XG4gICAgY29uc3QgQ0hVTktfU0laRSA9IDB4ODAwMDtcbiAgICBjb25zdCBhcnIgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHVuZW5jb2RlZC5sZW5ndGg7IGkgKz0gQ0hVTktfU0laRSkge1xuICAgICAgICBhcnIucHVzaChcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBBcmd1bWVudCBvZiB0eXBlICdVaW50OEFycmF5JyBpcyBub3QgYXNzaWduYWJsZSB0byBwYXJhbWV0ZXIgb2YgdHlwZSAnbnVtYmVyW10nLlxuICAgICAgICBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIHVuZW5jb2RlZC5zdWJhcnJheShpLCBpICsgQ0hVTktfU0laRSkpKTtcbiAgICB9XG4gICAgcmV0dXJuIGJ0b2EoYXJyLmpvaW4oXCJcIikpO1xufTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/auth-client.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/client.js":
/*!****************************************************************!*\
  !*** ./node_modules/@auth0/nextjs-auth0/dist/server/client.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Auth0Client: () => (/* binding */ Auth0Client)\n/* harmony export */ });\n/* harmony import */ var next_headers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/headers.js */ \"(middleware)/./node_modules/next/dist/esm/api/headers.js\");\n/* harmony import */ var next_server_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/server.js */ \"(middleware)/./node_modules/next/dist/esm/api/server.js\");\n/* harmony import */ var _errors_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../errors/index.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/errors/index.js\");\n/* harmony import */ var _utils_constants_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/constants.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/utils/constants.js\");\n/* harmony import */ var _utils_dpopUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/dpopUtils.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/utils/dpopUtils.js\");\n/* harmony import */ var _utils_request_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/request.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/utils/request.js\");\n/* harmony import */ var _utils_session_changes_helpers_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/session-changes-helpers.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/utils/session-changes-helpers.js\");\n/* harmony import */ var _auth_client_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./auth-client.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/auth-client.js\");\n/* harmony import */ var _cookies_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./cookies.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/cookies.js\");\n/* harmony import */ var _helpers_with_api_auth_required_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./helpers/with-api-auth-required.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/helpers/with-api-auth-required.js\");\n/* harmony import */ var _helpers_with_page_auth_required_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./helpers/with-page-auth-required.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/helpers/with-page-auth-required.js\");\n/* harmony import */ var _session_stateful_session_store_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./session/stateful-session-store.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/session/stateful-session-store.js\");\n/* harmony import */ var _session_stateless_session_store_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./session/stateless-session-store.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/session/stateless-session-store.js\");\n/* harmony import */ var _token_request_cache_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./token-request-cache.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/token-request-cache.js\");\n/* harmony import */ var _transaction_store_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./transaction-store.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/transaction-store.js\");\nvar __classPrivateFieldSet = (undefined && undefined.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (undefined && undefined.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _Auth0Client_options, _Auth0Client_tokenRequestCache;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass Auth0Client {\n    constructor(options = {}) {\n        _Auth0Client_options.set(this, void 0);\n        // Cache for in-flight token requests to prevent race conditions\n        _Auth0Client_tokenRequestCache.set(this, new _token_request_cache_js__WEBPACK_IMPORTED_MODULE_13__.TokenRequestCache());\n        __classPrivateFieldSet(this, _Auth0Client_options, options, \"f\");\n        // Extract and validate required options\n        const { domain, clientId, clientSecret, appBaseUrl, secret, clientAssertionSigningKey } = this.validateAndExtractRequiredOptions(options);\n        this.domain = domain;\n        const clientAssertionSigningAlg = options.clientAssertionSigningAlg ||\n            process.env.AUTH0_CLIENT_ASSERTION_SIGNING_ALG;\n        // Validate DPoP configuration and resolve from environment variables if needed\n        const { dpopKeyPair: resolvedDpopKeyPair, dpopOptions: resolvedDpopOptions } = (0,_utils_dpopUtils_js__WEBPACK_IMPORTED_MODULE_4__.validateDpopConfiguration)(options);\n        // Auto-detect base path for cookie configuration\n        const basePath = process.env.NEXT_PUBLIC_BASE_PATH;\n        const sessionCookieOptions = {\n            name: options.session?.cookie?.name ?? \"__session\",\n            secure: options.session?.cookie?.secure ??\n                process.env.AUTH0_COOKIE_SECURE === \"true\",\n            sameSite: options.session?.cookie?.sameSite ??\n                process.env.AUTH0_COOKIE_SAME_SITE ??\n                \"lax\",\n            path: options.session?.cookie?.path ??\n                process.env.AUTH0_COOKIE_PATH ??\n                basePath ??\n                \"/\",\n            transient: options.session?.cookie?.transient ??\n                process.env.AUTH0_COOKIE_TRANSIENT === \"true\",\n            domain: options.session?.cookie?.domain ?? process.env.AUTH0_COOKIE_DOMAIN\n        };\n        const transactionCookieOptions = {\n            prefix: options.transactionCookie?.prefix ?? \"__txn_\",\n            secure: options.transactionCookie?.secure ?? false,\n            sameSite: options.transactionCookie?.sameSite ?? \"lax\",\n            path: options.transactionCookie?.path ?? basePath ?? \"/\",\n            maxAge: options.transactionCookie?.maxAge ?? 3600\n        };\n        if (appBaseUrl) {\n            const { protocol } = new URL(appBaseUrl);\n            if (protocol === \"https:\") {\n                sessionCookieOptions.secure = true;\n                transactionCookieOptions.secure = true;\n            }\n        }\n        this.routes = {\n            login: process.env.NEXT_PUBLIC_LOGIN_ROUTE || \"/auth/login\",\n            logout: \"/auth/logout\",\n            callback: \"/auth/callback\",\n            backChannelLogout: \"/auth/backchannel-logout\",\n            profile: process.env.NEXT_PUBLIC_PROFILE_ROUTE || \"/auth/profile\",\n            accessToken: process.env.NEXT_PUBLIC_ACCESS_TOKEN_ROUTE || \"/auth/access-token\",\n            connectAccount: \"/auth/connect\",\n            ...options.routes\n        };\n        this.transactionStore = new _transaction_store_js__WEBPACK_IMPORTED_MODULE_14__.TransactionStore({\n            secret,\n            cookieOptions: transactionCookieOptions,\n            enableParallelTransactions: options.enableParallelTransactions ?? true\n        });\n        this.sessionStore = options.sessionStore\n            ? new _session_stateful_session_store_js__WEBPACK_IMPORTED_MODULE_11__.StatefulSessionStore({\n                ...options.session,\n                secret,\n                store: options.sessionStore,\n                cookieOptions: sessionCookieOptions\n            })\n            : new _session_stateless_session_store_js__WEBPACK_IMPORTED_MODULE_12__.StatelessSessionStore({\n                ...options.session,\n                secret,\n                cookieOptions: sessionCookieOptions\n            });\n        this.authClient = new _auth_client_js__WEBPACK_IMPORTED_MODULE_7__.AuthClient({\n            transactionStore: this.transactionStore,\n            sessionStore: this.sessionStore,\n            domain,\n            clientId,\n            clientSecret,\n            clientAssertionSigningKey,\n            clientAssertionSigningAlg,\n            authorizationParameters: options.authorizationParameters,\n            pushedAuthorizationRequests: options.pushedAuthorizationRequests,\n            appBaseUrl,\n            secret,\n            signInReturnToPath: options.signInReturnToPath,\n            logoutStrategy: options.logoutStrategy,\n            includeIdTokenHintInOIDCLogoutUrl: options.includeIdTokenHintInOIDCLogoutUrl,\n            beforeSessionSaved: options.beforeSessionSaved,\n            onCallback: options.onCallback,\n            routes: this.routes,\n            allowInsecureRequests: options.allowInsecureRequests,\n            httpTimeout: options.httpTimeout,\n            enableTelemetry: options.enableTelemetry,\n            enableAccessTokenEndpoint: options.enableAccessTokenEndpoint,\n            noContentProfileResponseWhenUnauthenticated: options.noContentProfileResponseWhenUnauthenticated,\n            enableConnectAccountEndpoint: options.enableConnectAccountEndpoint,\n            useDPoP: options.useDPoP || false,\n            dpopKeyPair: options.dpopKeyPair || resolvedDpopKeyPair,\n            dpopOptions: options.dpopOptions || resolvedDpopOptions\n        });\n    }\n    /**\n     * middleware mounts the SDK routes to run as a middleware function.\n     */\n    middleware(req) {\n        return this.authClient.handler.bind(this.authClient)(req);\n    }\n    /**\n     * getSession returns the session data for the current request.\n     */\n    async getSession(req) {\n        if (req) {\n            // middleware usage\n            if (req instanceof next_server_js__WEBPACK_IMPORTED_MODULE_1__.NextRequest) {\n                return this.sessionStore.get(req.cookies);\n            }\n            // pages router usage\n            return this.sessionStore.get(this.createRequestCookies(req));\n        }\n        // app router usage: Server Components, Server Actions, Route Handlers\n        return this.sessionStore.get(await (0,next_headers_js__WEBPACK_IMPORTED_MODULE_0__.cookies)());\n    }\n    /**\n     * getAccessToken returns the access token.\n     *\n     * Please note: If you are passing audience, ensure that the used audiences and scopes are\n     * part of the Application's Refresh Token Policies in Auth0 when configuring Multi-Resource Refresh Tokens (MRRT).\n     * {@link https://auth0.com/docs/secure/tokens/refresh-tokens/multi-resource-refresh-token|See Auth0 Documentation on Multi-resource Refresh Tokens}\n     *\n     * NOTE: Server Components cannot set cookies. Calling `getAccessToken()` in a Server Component will cause the access token to be refreshed, if it is expired, and the updated token set will not to be persisted.\n     * It is recommended to call `getAccessToken(req, res)` in the middleware if you need to retrieve the access token in a Server Component to ensure the updated token set is persisted.\n     */\n    async getAccessToken(arg1, arg2, arg3) {\n        const defaultOptions = {\n            refresh: false\n        };\n        let req = undefined;\n        let res = undefined;\n        let options = {};\n        // Determine which overload was called based on arguments\n        if (arg1 &&\n            (arg1 instanceof Request || typeof arg1.headers === \"object\")) {\n            // Case: getAccessToken(req, res, options?)\n            req = arg1;\n            res = arg2; // arg2 must be Response if arg1 is Request\n            // Merge provided options (arg3) with defaults\n            options = { ...defaultOptions, ...(arg3 ?? {}) };\n            if (!res) {\n                throw new TypeError(\"getAccessToken(req, res): The 'res' argument is missing. Both 'req' and 'res' must be provided together for Pages Router or middleware usage.\");\n            }\n        }\n        else {\n            // Case: getAccessToken(options?) or getAccessToken()\n            // arg1 (if present) must be options, arg2 and arg3 must be undefined.\n            if (arg2 !== undefined || arg3 !== undefined) {\n                throw new TypeError(\"getAccessToken: Invalid arguments. Valid signatures are getAccessToken(), getAccessToken(options), or getAccessToken(req, res, options).\");\n            }\n            // Merge provided options (arg1) with defaults\n            options = {\n                ...defaultOptions,\n                ...(arg1 ?? {})\n            };\n        }\n        // Execute the token request with caching to avoid duplicate in-flight requests\n        return __classPrivateFieldGet(this, _Auth0Client_tokenRequestCache, \"f\").execute(() => this.executeGetAccessToken(req, res, options), {\n            options,\n            authorizationParameters: __classPrivateFieldGet(this, _Auth0Client_options, \"f\").authorizationParameters\n        });\n    }\n    /**\n     * Core implementation of getAccessToken that performs the actual token retrieval.\n     * This is separated to enable request coalescing via the cache.\n     */\n    async executeGetAccessToken(req, res, options) {\n        const session = req\n            ? await this.getSession(req)\n            : await this.getSession();\n        if (!session) {\n            throw new _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.AccessTokenError(_errors_index_js__WEBPACK_IMPORTED_MODULE_2__.AccessTokenErrorCode.MISSING_SESSION, \"The user does not have an active session.\");\n        }\n        const [error, getTokenSetResponse] = await this.authClient.getTokenSet(session, options);\n        if (error) {\n            throw error;\n        }\n        const { tokenSet, idTokenClaims } = getTokenSetResponse;\n        // update the session with the new token set, if necessary\n        const sessionChanges = (0,_utils_session_changes_helpers_js__WEBPACK_IMPORTED_MODULE_6__.getSessionChangesAfterGetAccessToken)(session, tokenSet, {\n            scope: __classPrivateFieldGet(this, _Auth0Client_options, \"f\").authorizationParameters?.scope ?? _utils_constants_js__WEBPACK_IMPORTED_MODULE_3__.DEFAULT_SCOPES,\n            audience: __classPrivateFieldGet(this, _Auth0Client_options, \"f\").authorizationParameters?.audience\n        });\n        if (sessionChanges) {\n            if (idTokenClaims) {\n                session.user = idTokenClaims;\n            }\n            // call beforeSessionSaved callback if present\n            // if not then filter id_token claims with default rules\n            const finalSession = await this.authClient.finalizeSession(session, tokenSet.idToken);\n            await this.saveToSession({\n                ...finalSession,\n                ...sessionChanges\n            }, req, res);\n        }\n        return {\n            token: tokenSet.accessToken,\n            scope: tokenSet.scope,\n            expiresAt: tokenSet.expiresAt,\n            token_type: tokenSet.token_type,\n            audience: tokenSet.audience\n        };\n    }\n    /**\n     * Retrieves an access token for a connection.\n     *\n     * This method attempts to obtain an access token for a specified connection.\n     * It first checks if a session exists, either from the provided request or from cookies.\n     * If no session is found, it throws a `AccessTokenForConnectionError` indicating\n     * that the user does not have an active session.\n     *\n     * @param {AccessTokenForConnectionOptions} options - Options for retrieving an access token for a connection.\n     * @param {PagesRouterRequest | NextRequest} [req] - An optional request object from which to extract session information.\n     * @param {PagesRouterResponse | NextResponse} [res] - An optional response object from which to extract session information.\n     *\n     * @throws {AccessTokenForConnectionError} If the user does not have an active session.\n     * @throws {Error} If there is an error during the token exchange process.\n     *\n     * @returns {Promise<{ token: string; expiresAt: number; scope?: string }} An object containing the access token and its expiration time.\n     */\n    async getAccessTokenForConnection(options, req, res) {\n        const session = req\n            ? await this.getSession(req)\n            : await this.getSession();\n        if (!session) {\n            throw new _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.AccessTokenForConnectionError(_errors_index_js__WEBPACK_IMPORTED_MODULE_2__.AccessTokenForConnectionErrorCode.MISSING_SESSION, \"The user does not have an active session.\");\n        }\n        // Find the connection token set in the session\n        const existingTokenSet = session.connectionTokenSets?.find((tokenSet) => tokenSet.connection === options.connection);\n        const [error, retrievedTokenSet] = await this.authClient.getConnectionTokenSet(session.tokenSet, existingTokenSet, options);\n        if (error !== null) {\n            throw error;\n        }\n        // If we didn't have a corresponding connection token set in the session\n        // or if the one we have in the session does not match the one we received\n        // We want to update the store incase we retrieved a token set.\n        if (retrievedTokenSet &&\n            (!existingTokenSet ||\n                retrievedTokenSet.accessToken !== existingTokenSet.accessToken ||\n                retrievedTokenSet.expiresAt !== existingTokenSet.expiresAt ||\n                retrievedTokenSet.scope !== existingTokenSet.scope)) {\n            let tokenSets;\n            // If we already had the connection token set in the session\n            // we need to update the item in the array\n            // If not, we need to add it.\n            if (existingTokenSet) {\n                tokenSets = session.connectionTokenSets?.map((tokenSet) => tokenSet.connection === options.connection\n                    ? retrievedTokenSet\n                    : tokenSet);\n            }\n            else {\n                tokenSets = [...(session.connectionTokenSets || []), retrievedTokenSet];\n            }\n            await this.saveToSession({\n                ...session,\n                connectionTokenSets: tokenSets\n            }, req, res);\n        }\n        return {\n            token: retrievedTokenSet.accessToken,\n            scope: retrievedTokenSet.scope,\n            expiresAt: retrievedTokenSet.expiresAt\n        };\n    }\n    /**\n     * updateSession updates the session of the currently authenticated user. If the user does not have a session, an error is thrown.\n     */\n    async updateSession(reqOrSession, res, sessionData) {\n        if (!res) {\n            // app router: Server Actions, Route Handlers\n            const existingSession = await this.getSession();\n            if (!existingSession) {\n                throw new Error(\"The user is not authenticated.\");\n            }\n            const updatedSession = reqOrSession;\n            if (!updatedSession) {\n                throw new Error(\"The session data is missing.\");\n            }\n            await this.sessionStore.set(await (0,next_headers_js__WEBPACK_IMPORTED_MODULE_0__.cookies)(), await (0,next_headers_js__WEBPACK_IMPORTED_MODULE_0__.cookies)(), {\n                ...updatedSession,\n                internal: {\n                    ...existingSession.internal\n                }\n            });\n        }\n        else {\n            const req = reqOrSession;\n            if (!sessionData) {\n                throw new Error(\"The session data is missing.\");\n            }\n            if (req instanceof next_server_js__WEBPACK_IMPORTED_MODULE_1__.NextRequest && res instanceof next_server_js__WEBPACK_IMPORTED_MODULE_1__.NextResponse) {\n                // middleware usage\n                const existingSession = await this.getSession(req);\n                if (!existingSession) {\n                    throw new Error(\"The user is not authenticated.\");\n                }\n                await this.sessionStore.set(req.cookies, res.cookies, {\n                    ...sessionData,\n                    internal: {\n                        ...existingSession.internal\n                    }\n                });\n            }\n            else {\n                // pages router usage\n                const existingSession = await this.getSession(req);\n                if (!existingSession) {\n                    throw new Error(\"The user is not authenticated.\");\n                }\n                const resHeaders = new Headers();\n                const resCookies = new _cookies_js__WEBPACK_IMPORTED_MODULE_8__.ResponseCookies(resHeaders);\n                const updatedSession = sessionData;\n                const reqCookies = this.createRequestCookies(req);\n                const pagesRouterRes = res;\n                await this.sessionStore.set(reqCookies, resCookies, {\n                    ...updatedSession,\n                    internal: {\n                        ...existingSession.internal\n                    }\n                });\n                // Handle multiple set-cookie headers properly\n                // resHeaders.entries() yields each set-cookie header separately,\n                // but res.setHeader() overwrites previous values. We need to collect\n                // all set-cookie values and set them as an array.\n                // Note: Per the Web API specification, the Headers API normalizes header names\n                // to lowercase, so comparing key.toLowerCase() === \"set-cookie\" is safe.\n                const setCookieValues = [];\n                const otherHeaders = {};\n                for (const [key, value] of resHeaders.entries()) {\n                    if (key.toLowerCase() === \"set-cookie\") {\n                        setCookieValues.push(value);\n                    }\n                    else {\n                        otherHeaders[key] = value;\n                    }\n                }\n                // Set all cookies at once as an array if any exist\n                if (setCookieValues.length > 0) {\n                    pagesRouterRes.setHeader(\"set-cookie\", setCookieValues);\n                }\n                // Set non-cookie headers normally\n                for (const [key, value] of Object.entries(otherHeaders)) {\n                    pagesRouterRes.setHeader(key, value);\n                }\n            }\n        }\n    }\n    createRequestCookies(req) {\n        const headers = new Headers();\n        for (const key in req.headers) {\n            if (Array.isArray(req.headers[key])) {\n                for (const value of req.headers[key]) {\n                    headers.append(key, value);\n                }\n            }\n            else {\n                headers.append(key, req.headers[key] ?? \"\");\n            }\n        }\n        return new _cookies_js__WEBPACK_IMPORTED_MODULE_8__.RequestCookies(headers);\n    }\n    async startInteractiveLogin(options = {}) {\n        return this.authClient.startInteractiveLogin(options);\n    }\n    /**\n     * Authenticates using Client-Initiated Backchannel Authentication and returns the token set and optionally the ID token claims and authorization details.\n     *\n     * This method will initialize the backchannel authentication process with Auth0, and poll the token endpoint until the authentication is complete.\n     *\n     * Using Client-Initiated Backchannel Authentication requires the feature to be enabled in the Auth0 dashboard.\n     * @see https://auth0.com/docs/get-started/authentication-and-authorization-flow/client-initiated-backchannel-authentication-flow\n     */\n    async getTokenByBackchannelAuth(options) {\n        const [error, response] = await this.authClient.backchannelAuthentication(options);\n        if (error) {\n            throw error;\n        }\n        return response;\n    }\n    /**\n     * Initiates the Connect Account flow to connect a third-party account to the user's profile.\n     * If the user does not have an active session, a `ConnectAccountError` is thrown.\n     *\n     * This method first attempts to obtain an access token with the `create:me:connected_accounts` scope\n     * for the My Account API to create a connected account for the user.\n     *\n     * The user will then be redirected to authorize the connection with the third-party provider.\n     */\n    async connectAccount(options) {\n        const session = await this.getSession();\n        if (!session) {\n            throw new _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.ConnectAccountError({\n                code: _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.ConnectAccountErrorCodes.MISSING_SESSION,\n                message: \"The user does not have an active session.\"\n            });\n        }\n        const getMyAccountTokenOpts = {\n            audience: `${this.issuer}/me/`,\n            scope: \"create:me:connected_accounts\"\n        };\n        const accessToken = await this.getAccessToken(getMyAccountTokenOpts);\n        const [error, connectAccountResponse] = await this.authClient.connectAccount({\n            ...options,\n            tokenSet: {\n                accessToken: accessToken.token,\n                expiresAt: accessToken.expiresAt,\n                scope: getMyAccountTokenOpts.scope,\n                audience: accessToken.audience\n            }\n        });\n        if (error) {\n            throw error;\n        }\n        return connectAccountResponse;\n    }\n    withPageAuthRequired(fnOrOpts, opts) {\n        const config = {\n            loginUrl: this.routes.login\n        };\n        const appRouteHandler = (0,_helpers_with_page_auth_required_js__WEBPACK_IMPORTED_MODULE_10__.appRouteHandlerFactory)(this, config);\n        const pageRouteHandler = (0,_helpers_with_page_auth_required_js__WEBPACK_IMPORTED_MODULE_10__.pageRouteHandlerFactory)(this, config);\n        if (typeof fnOrOpts === \"function\") {\n            return appRouteHandler(fnOrOpts, opts);\n        }\n        return pageRouteHandler(fnOrOpts);\n    }\n    withApiAuthRequired(apiRoute) {\n        const pageRouteHandler = _helpers_with_api_auth_required_js__WEBPACK_IMPORTED_MODULE_9__.pageRouteHandlerFactory(this);\n        const appRouteHandler = _helpers_with_api_auth_required_js__WEBPACK_IMPORTED_MODULE_9__.appRouteHandlerFactory(this);\n        return (req, resOrParams) => {\n            if ((0,_utils_request_js__WEBPACK_IMPORTED_MODULE_5__.isRequest)(req)) {\n                return appRouteHandler(apiRoute)(req, resOrParams);\n            }\n            return pageRouteHandler(apiRoute)(req, resOrParams);\n        };\n    }\n    async saveToSession(data, req, res) {\n        if (req && res) {\n            if (req instanceof next_server_js__WEBPACK_IMPORTED_MODULE_1__.NextRequest && res instanceof next_server_js__WEBPACK_IMPORTED_MODULE_1__.NextResponse) {\n                // middleware usage\n                await this.sessionStore.set(req.cookies, res.cookies, data);\n            }\n            else {\n                // pages router usage\n                const resHeaders = new Headers();\n                const resCookies = new _cookies_js__WEBPACK_IMPORTED_MODULE_8__.ResponseCookies(resHeaders);\n                const pagesRouterRes = res;\n                await this.sessionStore.set(this.createRequestCookies(req), resCookies, data);\n                for (const [key, value] of resHeaders.entries()) {\n                    pagesRouterRes.setHeader(key, value);\n                }\n            }\n        }\n        else {\n            // app router usage: Server Components, Server Actions, Route Handlers\n            try {\n                await this.sessionStore.set(await (0,next_headers_js__WEBPACK_IMPORTED_MODULE_0__.cookies)(), await (0,next_headers_js__WEBPACK_IMPORTED_MODULE_0__.cookies)(), data);\n            }\n            catch (e) {\n                if (true) {\n                    console.warn(\"Failed to persist the updated token set. `getAccessToken()` was likely called from a Server Component which cannot set cookies.\");\n                }\n            }\n        }\n    }\n    /**\n     * Validates and extracts required configuration options.\n     * @param options The client options\n     * @returns The validated required options\n     * @throws ConfigurationError if any required option is missing\n     */\n    validateAndExtractRequiredOptions(options) {\n        // Base required options that are always needed\n        const requiredOptions = {\n            domain: options.domain ?? process.env.AUTH0_DOMAIN,\n            clientId: options.clientId ?? process.env.AUTH0_CLIENT_ID,\n            appBaseUrl: options.appBaseUrl ?? process.env.APP_BASE_URL,\n            secret: options.secret ?? process.env.AUTH0_SECRET\n        };\n        // Check client authentication options - either clientSecret OR clientAssertionSigningKey must be provided\n        const clientSecret = options.clientSecret ?? process.env.AUTH0_CLIENT_SECRET;\n        const clientAssertionSigningKey = options.clientAssertionSigningKey ??\n            process.env.AUTH0_CLIENT_ASSERTION_SIGNING_KEY;\n        const hasClientAuthentication = !!(clientSecret || clientAssertionSigningKey);\n        const missing = Object.entries(requiredOptions)\n            .filter(([, value]) => !value)\n            .map(([key]) => key);\n        // Add client authentication error if neither option is provided\n        if (!hasClientAuthentication) {\n            missing.push(\"clientAuthentication\");\n        }\n        if (missing.length) {\n            // Map of option keys to their exact environment variable names\n            const envVarNames = {\n                domain: \"AUTH0_DOMAIN\",\n                clientId: \"AUTH0_CLIENT_ID\",\n                appBaseUrl: \"APP_BASE_URL\",\n                secret: \"AUTH0_SECRET\"\n            };\n            // Standard intro message explaining the issue\n            let errorMessage = \"WARNING: Not all required options were provided when creating an instance of Auth0Client. Ensure to provide all missing options, either by passing it to the Auth0Client constructor, or by setting the corresponding environment variable.\\n\";\n            // Add specific details for each missing option\n            missing.forEach((key) => {\n                if (key === \"clientAuthentication\") {\n                    errorMessage += `Missing: clientAuthentication: Set either AUTH0_CLIENT_SECRET env var or AUTH0_CLIENT_ASSERTION_SIGNING_KEY env var, or pass clientSecret or clientAssertionSigningKey in options\\n`;\n                }\n                else if (envVarNames[key]) {\n                    errorMessage += `Missing: ${key}: Set ${envVarNames[key]} env var or pass ${key} in options\\n`;\n                }\n                else {\n                    errorMessage += `Missing: ${key}\\n`;\n                }\n            });\n            console.error(errorMessage.trim());\n        }\n        // Prepare the result object with all validated options\n        const result = {\n            ...requiredOptions,\n            clientSecret,\n            clientAssertionSigningKey\n        };\n        // Type-safe assignment after validation\n        return result;\n    }\n    /**\n     * Creates a configured Fetcher instance for making authenticated API requests.\n     *\n     * This method creates a specialized HTTP client that handles:\n     * - Automatic access token retrieval and injection\n     * - DPoP (Demonstrating Proof-of-Possession) proof generation when enabled\n     * - Token refresh and session management\n     * - Error handling and retry logic for DPoP nonce errors\n     * - Base URL resolution for relative requests\n     *\n     * The fetcher provides a high-level interface for making requests to protected resources\n     * without manually handling authentication details.\n     *\n     * @template TOutput - Response type that extends the standard Response interface\n     * @param req - Request object for session context (required for Pages Router, optional for App Router)\n     * @param options - Configuration options for the fetcher\n     * @param options.useDPoP - Enable DPoP for this fetcher instance (overrides global setting)\n     * @param options.baseUrl - Base URL for resolving relative requests\n     * @param options.getAccessToken - Custom access token factory function\n     * @param options.fetch - Custom fetch implementation\n     * @returns Promise that resolves to a configured Fetcher instance\n     * @throws AccessTokenError when no active session exists\n     *\n     * @example\n     * ```typescript\n     * import { auth0 } from \"@/lib/auth0\";\n     *\n     * const fetcher = await auth0.createFetcher(undefined, {\n     *   baseUrl: \"https://api.example.com\",\n     *   useDPoP: true\n     * });\n     *\n     * const response = await fetcher.fetchWithAuth(\"/users\");\n     * const users = await response.json();\n     * ```\n     *\n     * @see {@link Fetcher} for details on using the returned fetcher instance\n     * @see {@link FetcherMinimalConfig} for available configuration options\n     */\n    async createFetcher(req, options) {\n        const session = req\n            ? await this.getSession(req)\n            : await this.getSession();\n        if (!session) {\n            throw new _errors_index_js__WEBPACK_IMPORTED_MODULE_2__.AccessTokenError(_errors_index_js__WEBPACK_IMPORTED_MODULE_2__.AccessTokenErrorCode.MISSING_SESSION, \"The user does not have an active session.\");\n        }\n        const getAccessToken = async (getAccessTokenOptions) => {\n            const [error, getTokenSetResponse] = await this.authClient.getTokenSet(session, getAccessTokenOptions || {});\n            if (error) {\n                throw error;\n            }\n            return getTokenSetResponse.tokenSet;\n        };\n        const fetcher = await this.authClient.fetcherFactory({\n            ...options,\n            getAccessToken\n        });\n        return fetcher;\n    }\n    get issuer() {\n        return this.domain.startsWith(\"http://\") ||\n            this.domain.startsWith(\"https://\")\n            ? this.domain\n            : `https://${this.domain}`;\n    }\n}\n_Auth0Client_options = new WeakMap(), _Auth0Client_tokenRequestCache = new WeakMap();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0BhdXRoMC9uZXh0anMtYXV0aDAvZGlzdC9zZXJ2ZXIvY2xpZW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSw4QkFBOEIsU0FBSSxJQUFJLFNBQUk7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixTQUFJLElBQUksU0FBSTtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQzBDO0FBQ2lCO0FBQ2tJO0FBQ3RJO0FBQ1c7QUFDbEI7QUFDMkM7QUFDN0M7QUFDaUI7QUFDWTtBQUM0QjtBQUM1QjtBQUNFO0FBQ2hCO0FBQ0g7QUFDbkQ7QUFDUCw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBLHFEQUFxRCx1RUFBaUI7QUFDdEU7QUFDQTtBQUNBLGdCQUFnQixnRkFBZ0Y7QUFDaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IscUVBQXFFLEVBQUUsOEVBQXlCO0FBQ2hIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFdBQVc7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLG9FQUFnQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxrQkFBa0IscUZBQW9CO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLGtCQUFrQix1RkFBcUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLDhCQUE4Qix1REFBVTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLHVEQUFXO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyx3REFBTztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQSx3QkFBd0IsaUNBQWlDO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw4REFBZ0IsQ0FBQyxrRUFBb0I7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiwwQkFBMEI7QUFDMUM7QUFDQSwrQkFBK0IsdUdBQW9DO0FBQ25FLDZHQUE2RywrREFBYztBQUMzSDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxpQ0FBaUM7QUFDaEQsZUFBZSxrQ0FBa0M7QUFDakQsZUFBZSxvQ0FBb0M7QUFDbkQ7QUFDQSxnQkFBZ0IsK0JBQStCO0FBQy9DLGdCQUFnQixPQUFPO0FBQ3ZCO0FBQ0EsaUJBQWlCLFVBQVUsZUFBZSxtQkFBbUIsa0JBQWtCO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiwyRUFBNkIsQ0FBQywrRUFBaUM7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4Qyx3REFBTyxVQUFVLHdEQUFPO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQix1REFBVyxtQkFBbUIsd0RBQVk7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qyx3REFBZTtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQix1REFBYztBQUNqQztBQUNBLDRDQUE0QztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLGlFQUFtQjtBQUN6QyxzQkFBc0Isc0VBQXdCO0FBQzlDO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSx5QkFBeUIsWUFBWTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyw0RkFBc0I7QUFDdEQsaUNBQWlDLDZGQUF1QjtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsdUZBQTJDO0FBQzVFLGdDQUFnQyxzRkFBMEM7QUFDMUU7QUFDQSxnQkFBZ0IsNERBQVM7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsdURBQVcsbUJBQW1CLHdEQUFZO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qyx3REFBZTtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCx3REFBTyxVQUFVLHdEQUFPO0FBQzFFO0FBQ0E7QUFDQSxvQkFBb0IsSUFBc0M7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxJQUFJLFFBQVEsa0JBQWtCLGtCQUFrQixLQUFLO0FBQ3JHO0FBQ0E7QUFDQSxnREFBZ0QsSUFBSTtBQUNwRDtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxlQUFlO0FBQzVCLGFBQWEsNEJBQTRCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw4REFBZ0IsQ0FBQyxrRUFBb0I7QUFDM0Q7QUFDQTtBQUNBLHVIQUF1SDtBQUN2SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixZQUFZO0FBQ3JDO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcQGF1dGgwXFxuZXh0anMtYXV0aDBcXGRpc3RcXHNlcnZlclxcY2xpZW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0ID0gKHRoaXMgJiYgdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KSB8fCBmdW5jdGlvbiAocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSBcIm1cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgbWV0aG9kIGlzIG5vdCB3cml0YWJsZVwiKTtcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgICByZXR1cm4gKGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyLCB2YWx1ZSkgOiBmID8gZi52YWx1ZSA9IHZhbHVlIDogc3RhdGUuc2V0KHJlY2VpdmVyLCB2YWx1ZSkpLCB2YWx1ZTtcbn07XG52YXIgX19jbGFzc1ByaXZhdGVGaWVsZEdldCA9ICh0aGlzICYmIHRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZEdldCkgfHwgZnVuY3Rpb24gKHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xufTtcbnZhciBfQXV0aDBDbGllbnRfb3B0aW9ucywgX0F1dGgwQ2xpZW50X3Rva2VuUmVxdWVzdENhY2hlO1xuaW1wb3J0IHsgY29va2llcyB9IGZyb20gXCJuZXh0L2hlYWRlcnMuanNcIjtcbmltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXIuanNcIjtcbmltcG9ydCB7IEFjY2Vzc1Rva2VuRXJyb3IsIEFjY2Vzc1Rva2VuRXJyb3JDb2RlLCBBY2Nlc3NUb2tlbkZvckNvbm5lY3Rpb25FcnJvciwgQWNjZXNzVG9rZW5Gb3JDb25uZWN0aW9uRXJyb3JDb2RlLCBDb25uZWN0QWNjb3VudEVycm9yLCBDb25uZWN0QWNjb3VudEVycm9yQ29kZXMgfSBmcm9tIFwiLi4vZXJyb3JzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBERUZBVUxUX1NDT1BFUyB9IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcbmltcG9ydCB7IHZhbGlkYXRlRHBvcENvbmZpZ3VyYXRpb24gfSBmcm9tIFwiLi4vdXRpbHMvZHBvcFV0aWxzLmpzXCI7XG5pbXBvcnQgeyBpc1JlcXVlc3QgfSBmcm9tIFwiLi4vdXRpbHMvcmVxdWVzdC5qc1wiO1xuaW1wb3J0IHsgZ2V0U2Vzc2lvbkNoYW5nZXNBZnRlckdldEFjY2Vzc1Rva2VuIH0gZnJvbSBcIi4uL3V0aWxzL3Nlc3Npb24tY2hhbmdlcy1oZWxwZXJzLmpzXCI7XG5pbXBvcnQgeyBBdXRoQ2xpZW50IH0gZnJvbSBcIi4vYXV0aC1jbGllbnQuanNcIjtcbmltcG9ydCB7IFJlcXVlc3RDb29raWVzLCBSZXNwb25zZUNvb2tpZXMgfSBmcm9tIFwiLi9jb29raWVzLmpzXCI7XG5pbXBvcnQgKiBhcyB3aXRoQXBpQXV0aFJlcXVpcmVkIGZyb20gXCIuL2hlbHBlcnMvd2l0aC1hcGktYXV0aC1yZXF1aXJlZC5qc1wiO1xuaW1wb3J0IHsgYXBwUm91dGVIYW5kbGVyRmFjdG9yeSwgcGFnZVJvdXRlSGFuZGxlckZhY3RvcnkgfSBmcm9tIFwiLi9oZWxwZXJzL3dpdGgtcGFnZS1hdXRoLXJlcXVpcmVkLmpzXCI7XG5pbXBvcnQgeyBTdGF0ZWZ1bFNlc3Npb25TdG9yZSB9IGZyb20gXCIuL3Nlc3Npb24vc3RhdGVmdWwtc2Vzc2lvbi1zdG9yZS5qc1wiO1xuaW1wb3J0IHsgU3RhdGVsZXNzU2Vzc2lvblN0b3JlIH0gZnJvbSBcIi4vc2Vzc2lvbi9zdGF0ZWxlc3Mtc2Vzc2lvbi1zdG9yZS5qc1wiO1xuaW1wb3J0IHsgVG9rZW5SZXF1ZXN0Q2FjaGUgfSBmcm9tIFwiLi90b2tlbi1yZXF1ZXN0LWNhY2hlLmpzXCI7XG5pbXBvcnQgeyBUcmFuc2FjdGlvblN0b3JlIH0gZnJvbSBcIi4vdHJhbnNhY3Rpb24tc3RvcmUuanNcIjtcbmV4cG9ydCBjbGFzcyBBdXRoMENsaWVudCB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIF9BdXRoMENsaWVudF9vcHRpb25zLnNldCh0aGlzLCB2b2lkIDApO1xuICAgICAgICAvLyBDYWNoZSBmb3IgaW4tZmxpZ2h0IHRva2VuIHJlcXVlc3RzIHRvIHByZXZlbnQgcmFjZSBjb25kaXRpb25zXG4gICAgICAgIF9BdXRoMENsaWVudF90b2tlblJlcXVlc3RDYWNoZS5zZXQodGhpcywgbmV3IFRva2VuUmVxdWVzdENhY2hlKCkpO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9BdXRoMENsaWVudF9vcHRpb25zLCBvcHRpb25zLCBcImZcIik7XG4gICAgICAgIC8vIEV4dHJhY3QgYW5kIHZhbGlkYXRlIHJlcXVpcmVkIG9wdGlvbnNcbiAgICAgICAgY29uc3QgeyBkb21haW4sIGNsaWVudElkLCBjbGllbnRTZWNyZXQsIGFwcEJhc2VVcmwsIHNlY3JldCwgY2xpZW50QXNzZXJ0aW9uU2lnbmluZ0tleSB9ID0gdGhpcy52YWxpZGF0ZUFuZEV4dHJhY3RSZXF1aXJlZE9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuZG9tYWluID0gZG9tYWluO1xuICAgICAgICBjb25zdCBjbGllbnRBc3NlcnRpb25TaWduaW5nQWxnID0gb3B0aW9ucy5jbGllbnRBc3NlcnRpb25TaWduaW5nQWxnIHx8XG4gICAgICAgICAgICBwcm9jZXNzLmVudi5BVVRIMF9DTElFTlRfQVNTRVJUSU9OX1NJR05JTkdfQUxHO1xuICAgICAgICAvLyBWYWxpZGF0ZSBEUG9QIGNvbmZpZ3VyYXRpb24gYW5kIHJlc29sdmUgZnJvbSBlbnZpcm9ubWVudCB2YXJpYWJsZXMgaWYgbmVlZGVkXG4gICAgICAgIGNvbnN0IHsgZHBvcEtleVBhaXI6IHJlc29sdmVkRHBvcEtleVBhaXIsIGRwb3BPcHRpb25zOiByZXNvbHZlZERwb3BPcHRpb25zIH0gPSB2YWxpZGF0ZURwb3BDb25maWd1cmF0aW9uKG9wdGlvbnMpO1xuICAgICAgICAvLyBBdXRvLWRldGVjdCBiYXNlIHBhdGggZm9yIGNvb2tpZSBjb25maWd1cmF0aW9uXG4gICAgICAgIGNvbnN0IGJhc2VQYXRoID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFTRV9QQVRIO1xuICAgICAgICBjb25zdCBzZXNzaW9uQ29va2llT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIG5hbWU6IG9wdGlvbnMuc2Vzc2lvbj8uY29va2llPy5uYW1lID8/IFwiX19zZXNzaW9uXCIsXG4gICAgICAgICAgICBzZWN1cmU6IG9wdGlvbnMuc2Vzc2lvbj8uY29va2llPy5zZWN1cmUgPz9cbiAgICAgICAgICAgICAgICBwcm9jZXNzLmVudi5BVVRIMF9DT09LSUVfU0VDVVJFID09PSBcInRydWVcIixcbiAgICAgICAgICAgIHNhbWVTaXRlOiBvcHRpb25zLnNlc3Npb24/LmNvb2tpZT8uc2FtZVNpdGUgPz9cbiAgICAgICAgICAgICAgICBwcm9jZXNzLmVudi5BVVRIMF9DT09LSUVfU0FNRV9TSVRFID8/XG4gICAgICAgICAgICAgICAgXCJsYXhcIixcbiAgICAgICAgICAgIHBhdGg6IG9wdGlvbnMuc2Vzc2lvbj8uY29va2llPy5wYXRoID8/XG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5lbnYuQVVUSDBfQ09PS0lFX1BBVEggPz9cbiAgICAgICAgICAgICAgICBiYXNlUGF0aCA/P1xuICAgICAgICAgICAgICAgIFwiL1wiLFxuICAgICAgICAgICAgdHJhbnNpZW50OiBvcHRpb25zLnNlc3Npb24/LmNvb2tpZT8udHJhbnNpZW50ID8/XG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5lbnYuQVVUSDBfQ09PS0lFX1RSQU5TSUVOVCA9PT0gXCJ0cnVlXCIsXG4gICAgICAgICAgICBkb21haW46IG9wdGlvbnMuc2Vzc2lvbj8uY29va2llPy5kb21haW4gPz8gcHJvY2Vzcy5lbnYuQVVUSDBfQ09PS0lFX0RPTUFJTlxuICAgICAgICB9O1xuICAgICAgICBjb25zdCB0cmFuc2FjdGlvbkNvb2tpZU9wdGlvbnMgPSB7XG4gICAgICAgICAgICBwcmVmaXg6IG9wdGlvbnMudHJhbnNhY3Rpb25Db29raWU/LnByZWZpeCA/PyBcIl9fdHhuX1wiLFxuICAgICAgICAgICAgc2VjdXJlOiBvcHRpb25zLnRyYW5zYWN0aW9uQ29va2llPy5zZWN1cmUgPz8gZmFsc2UsXG4gICAgICAgICAgICBzYW1lU2l0ZTogb3B0aW9ucy50cmFuc2FjdGlvbkNvb2tpZT8uc2FtZVNpdGUgPz8gXCJsYXhcIixcbiAgICAgICAgICAgIHBhdGg6IG9wdGlvbnMudHJhbnNhY3Rpb25Db29raWU/LnBhdGggPz8gYmFzZVBhdGggPz8gXCIvXCIsXG4gICAgICAgICAgICBtYXhBZ2U6IG9wdGlvbnMudHJhbnNhY3Rpb25Db29raWU/Lm1heEFnZSA/PyAzNjAwXG4gICAgICAgIH07XG4gICAgICAgIGlmIChhcHBCYXNlVXJsKSB7XG4gICAgICAgICAgICBjb25zdCB7IHByb3RvY29sIH0gPSBuZXcgVVJMKGFwcEJhc2VVcmwpO1xuICAgICAgICAgICAgaWYgKHByb3RvY29sID09PSBcImh0dHBzOlwiKSB7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbkNvb2tpZU9wdGlvbnMuc2VjdXJlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkNvb2tpZU9wdGlvbnMuc2VjdXJlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJvdXRlcyA9IHtcbiAgICAgICAgICAgIGxvZ2luOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19MT0dJTl9ST1VURSB8fCBcIi9hdXRoL2xvZ2luXCIsXG4gICAgICAgICAgICBsb2dvdXQ6IFwiL2F1dGgvbG9nb3V0XCIsXG4gICAgICAgICAgICBjYWxsYmFjazogXCIvYXV0aC9jYWxsYmFja1wiLFxuICAgICAgICAgICAgYmFja0NoYW5uZWxMb2dvdXQ6IFwiL2F1dGgvYmFja2NoYW5uZWwtbG9nb3V0XCIsXG4gICAgICAgICAgICBwcm9maWxlOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19QUk9GSUxFX1JPVVRFIHx8IFwiL2F1dGgvcHJvZmlsZVwiLFxuICAgICAgICAgICAgYWNjZXNzVG9rZW46IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FDQ0VTU19UT0tFTl9ST1VURSB8fCBcIi9hdXRoL2FjY2Vzcy10b2tlblwiLFxuICAgICAgICAgICAgY29ubmVjdEFjY291bnQ6IFwiL2F1dGgvY29ubmVjdFwiLFxuICAgICAgICAgICAgLi4ub3B0aW9ucy5yb3V0ZXNcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy50cmFuc2FjdGlvblN0b3JlID0gbmV3IFRyYW5zYWN0aW9uU3RvcmUoe1xuICAgICAgICAgICAgc2VjcmV0LFxuICAgICAgICAgICAgY29va2llT3B0aW9uczogdHJhbnNhY3Rpb25Db29raWVPcHRpb25zLFxuICAgICAgICAgICAgZW5hYmxlUGFyYWxsZWxUcmFuc2FjdGlvbnM6IG9wdGlvbnMuZW5hYmxlUGFyYWxsZWxUcmFuc2FjdGlvbnMgPz8gdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZXNzaW9uU3RvcmUgPSBvcHRpb25zLnNlc3Npb25TdG9yZVxuICAgICAgICAgICAgPyBuZXcgU3RhdGVmdWxTZXNzaW9uU3RvcmUoe1xuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMuc2Vzc2lvbixcbiAgICAgICAgICAgICAgICBzZWNyZXQsXG4gICAgICAgICAgICAgICAgc3RvcmU6IG9wdGlvbnMuc2Vzc2lvblN0b3JlLFxuICAgICAgICAgICAgICAgIGNvb2tpZU9wdGlvbnM6IHNlc3Npb25Db29raWVPcHRpb25zXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgOiBuZXcgU3RhdGVsZXNzU2Vzc2lvblN0b3JlKHtcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zLnNlc3Npb24sXG4gICAgICAgICAgICAgICAgc2VjcmV0LFxuICAgICAgICAgICAgICAgIGNvb2tpZU9wdGlvbnM6IHNlc3Npb25Db29raWVPcHRpb25zXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hdXRoQ2xpZW50ID0gbmV3IEF1dGhDbGllbnQoe1xuICAgICAgICAgICAgdHJhbnNhY3Rpb25TdG9yZTogdGhpcy50cmFuc2FjdGlvblN0b3JlLFxuICAgICAgICAgICAgc2Vzc2lvblN0b3JlOiB0aGlzLnNlc3Npb25TdG9yZSxcbiAgICAgICAgICAgIGRvbWFpbixcbiAgICAgICAgICAgIGNsaWVudElkLFxuICAgICAgICAgICAgY2xpZW50U2VjcmV0LFxuICAgICAgICAgICAgY2xpZW50QXNzZXJ0aW9uU2lnbmluZ0tleSxcbiAgICAgICAgICAgIGNsaWVudEFzc2VydGlvblNpZ25pbmdBbGcsXG4gICAgICAgICAgICBhdXRob3JpemF0aW9uUGFyYW1ldGVyczogb3B0aW9ucy5hdXRob3JpemF0aW9uUGFyYW1ldGVycyxcbiAgICAgICAgICAgIHB1c2hlZEF1dGhvcml6YXRpb25SZXF1ZXN0czogb3B0aW9ucy5wdXNoZWRBdXRob3JpemF0aW9uUmVxdWVzdHMsXG4gICAgICAgICAgICBhcHBCYXNlVXJsLFxuICAgICAgICAgICAgc2VjcmV0LFxuICAgICAgICAgICAgc2lnbkluUmV0dXJuVG9QYXRoOiBvcHRpb25zLnNpZ25JblJldHVyblRvUGF0aCxcbiAgICAgICAgICAgIGxvZ291dFN0cmF0ZWd5OiBvcHRpb25zLmxvZ291dFN0cmF0ZWd5LFxuICAgICAgICAgICAgaW5jbHVkZUlkVG9rZW5IaW50SW5PSURDTG9nb3V0VXJsOiBvcHRpb25zLmluY2x1ZGVJZFRva2VuSGludEluT0lEQ0xvZ291dFVybCxcbiAgICAgICAgICAgIGJlZm9yZVNlc3Npb25TYXZlZDogb3B0aW9ucy5iZWZvcmVTZXNzaW9uU2F2ZWQsXG4gICAgICAgICAgICBvbkNhbGxiYWNrOiBvcHRpb25zLm9uQ2FsbGJhY2ssXG4gICAgICAgICAgICByb3V0ZXM6IHRoaXMucm91dGVzLFxuICAgICAgICAgICAgYWxsb3dJbnNlY3VyZVJlcXVlc3RzOiBvcHRpb25zLmFsbG93SW5zZWN1cmVSZXF1ZXN0cyxcbiAgICAgICAgICAgIGh0dHBUaW1lb3V0OiBvcHRpb25zLmh0dHBUaW1lb3V0LFxuICAgICAgICAgICAgZW5hYmxlVGVsZW1ldHJ5OiBvcHRpb25zLmVuYWJsZVRlbGVtZXRyeSxcbiAgICAgICAgICAgIGVuYWJsZUFjY2Vzc1Rva2VuRW5kcG9pbnQ6IG9wdGlvbnMuZW5hYmxlQWNjZXNzVG9rZW5FbmRwb2ludCxcbiAgICAgICAgICAgIG5vQ29udGVudFByb2ZpbGVSZXNwb25zZVdoZW5VbmF1dGhlbnRpY2F0ZWQ6IG9wdGlvbnMubm9Db250ZW50UHJvZmlsZVJlc3BvbnNlV2hlblVuYXV0aGVudGljYXRlZCxcbiAgICAgICAgICAgIGVuYWJsZUNvbm5lY3RBY2NvdW50RW5kcG9pbnQ6IG9wdGlvbnMuZW5hYmxlQ29ubmVjdEFjY291bnRFbmRwb2ludCxcbiAgICAgICAgICAgIHVzZURQb1A6IG9wdGlvbnMudXNlRFBvUCB8fCBmYWxzZSxcbiAgICAgICAgICAgIGRwb3BLZXlQYWlyOiBvcHRpb25zLmRwb3BLZXlQYWlyIHx8IHJlc29sdmVkRHBvcEtleVBhaXIsXG4gICAgICAgICAgICBkcG9wT3B0aW9uczogb3B0aW9ucy5kcG9wT3B0aW9ucyB8fCByZXNvbHZlZERwb3BPcHRpb25zXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBtaWRkbGV3YXJlIG1vdW50cyB0aGUgU0RLIHJvdXRlcyB0byBydW4gYXMgYSBtaWRkbGV3YXJlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIG1pZGRsZXdhcmUocmVxKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF1dGhDbGllbnQuaGFuZGxlci5iaW5kKHRoaXMuYXV0aENsaWVudCkocmVxKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogZ2V0U2Vzc2lvbiByZXR1cm5zIHRoZSBzZXNzaW9uIGRhdGEgZm9yIHRoZSBjdXJyZW50IHJlcXVlc3QuXG4gICAgICovXG4gICAgYXN5bmMgZ2V0U2Vzc2lvbihyZXEpIHtcbiAgICAgICAgaWYgKHJlcSkge1xuICAgICAgICAgICAgLy8gbWlkZGxld2FyZSB1c2FnZVxuICAgICAgICAgICAgaWYgKHJlcSBpbnN0YW5jZW9mIE5leHRSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2Vzc2lvblN0b3JlLmdldChyZXEuY29va2llcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBwYWdlcyByb3V0ZXIgdXNhZ2VcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNlc3Npb25TdG9yZS5nZXQodGhpcy5jcmVhdGVSZXF1ZXN0Q29va2llcyhyZXEpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhcHAgcm91dGVyIHVzYWdlOiBTZXJ2ZXIgQ29tcG9uZW50cywgU2VydmVyIEFjdGlvbnMsIFJvdXRlIEhhbmRsZXJzXG4gICAgICAgIHJldHVybiB0aGlzLnNlc3Npb25TdG9yZS5nZXQoYXdhaXQgY29va2llcygpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogZ2V0QWNjZXNzVG9rZW4gcmV0dXJucyB0aGUgYWNjZXNzIHRva2VuLlxuICAgICAqXG4gICAgICogUGxlYXNlIG5vdGU6IElmIHlvdSBhcmUgcGFzc2luZyBhdWRpZW5jZSwgZW5zdXJlIHRoYXQgdGhlIHVzZWQgYXVkaWVuY2VzIGFuZCBzY29wZXMgYXJlXG4gICAgICogcGFydCBvZiB0aGUgQXBwbGljYXRpb24ncyBSZWZyZXNoIFRva2VuIFBvbGljaWVzIGluIEF1dGgwIHdoZW4gY29uZmlndXJpbmcgTXVsdGktUmVzb3VyY2UgUmVmcmVzaCBUb2tlbnMgKE1SUlQpLlxuICAgICAqIHtAbGluayBodHRwczovL2F1dGgwLmNvbS9kb2NzL3NlY3VyZS90b2tlbnMvcmVmcmVzaC10b2tlbnMvbXVsdGktcmVzb3VyY2UtcmVmcmVzaC10b2tlbnxTZWUgQXV0aDAgRG9jdW1lbnRhdGlvbiBvbiBNdWx0aS1yZXNvdXJjZSBSZWZyZXNoIFRva2Vuc31cbiAgICAgKlxuICAgICAqIE5PVEU6IFNlcnZlciBDb21wb25lbnRzIGNhbm5vdCBzZXQgY29va2llcy4gQ2FsbGluZyBgZ2V0QWNjZXNzVG9rZW4oKWAgaW4gYSBTZXJ2ZXIgQ29tcG9uZW50IHdpbGwgY2F1c2UgdGhlIGFjY2VzcyB0b2tlbiB0byBiZSByZWZyZXNoZWQsIGlmIGl0IGlzIGV4cGlyZWQsIGFuZCB0aGUgdXBkYXRlZCB0b2tlbiBzZXQgd2lsbCBub3QgdG8gYmUgcGVyc2lzdGVkLlxuICAgICAqIEl0IGlzIHJlY29tbWVuZGVkIHRvIGNhbGwgYGdldEFjY2Vzc1Rva2VuKHJlcSwgcmVzKWAgaW4gdGhlIG1pZGRsZXdhcmUgaWYgeW91IG5lZWQgdG8gcmV0cmlldmUgdGhlIGFjY2VzcyB0b2tlbiBpbiBhIFNlcnZlciBDb21wb25lbnQgdG8gZW5zdXJlIHRoZSB1cGRhdGVkIHRva2VuIHNldCBpcyBwZXJzaXN0ZWQuXG4gICAgICovXG4gICAgYXN5bmMgZ2V0QWNjZXNzVG9rZW4oYXJnMSwgYXJnMiwgYXJnMykge1xuICAgICAgICBjb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHJlZnJlc2g6IGZhbHNlXG4gICAgICAgIH07XG4gICAgICAgIGxldCByZXEgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxldCByZXMgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBvcHRpb25zID0ge307XG4gICAgICAgIC8vIERldGVybWluZSB3aGljaCBvdmVybG9hZCB3YXMgY2FsbGVkIGJhc2VkIG9uIGFyZ3VtZW50c1xuICAgICAgICBpZiAoYXJnMSAmJlxuICAgICAgICAgICAgKGFyZzEgaW5zdGFuY2VvZiBSZXF1ZXN0IHx8IHR5cGVvZiBhcmcxLmhlYWRlcnMgPT09IFwib2JqZWN0XCIpKSB7XG4gICAgICAgICAgICAvLyBDYXNlOiBnZXRBY2Nlc3NUb2tlbihyZXEsIHJlcywgb3B0aW9ucz8pXG4gICAgICAgICAgICByZXEgPSBhcmcxO1xuICAgICAgICAgICAgcmVzID0gYXJnMjsgLy8gYXJnMiBtdXN0IGJlIFJlc3BvbnNlIGlmIGFyZzEgaXMgUmVxdWVzdFxuICAgICAgICAgICAgLy8gTWVyZ2UgcHJvdmlkZWQgb3B0aW9ucyAoYXJnMykgd2l0aCBkZWZhdWx0c1xuICAgICAgICAgICAgb3B0aW9ucyA9IHsgLi4uZGVmYXVsdE9wdGlvbnMsIC4uLihhcmczID8/IHt9KSB9O1xuICAgICAgICAgICAgaWYgKCFyZXMpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiZ2V0QWNjZXNzVG9rZW4ocmVxLCByZXMpOiBUaGUgJ3JlcycgYXJndW1lbnQgaXMgbWlzc2luZy4gQm90aCAncmVxJyBhbmQgJ3JlcycgbXVzdCBiZSBwcm92aWRlZCB0b2dldGhlciBmb3IgUGFnZXMgUm91dGVyIG9yIG1pZGRsZXdhcmUgdXNhZ2UuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gQ2FzZTogZ2V0QWNjZXNzVG9rZW4ob3B0aW9ucz8pIG9yIGdldEFjY2Vzc1Rva2VuKClcbiAgICAgICAgICAgIC8vIGFyZzEgKGlmIHByZXNlbnQpIG11c3QgYmUgb3B0aW9ucywgYXJnMiBhbmQgYXJnMyBtdXN0IGJlIHVuZGVmaW5lZC5cbiAgICAgICAgICAgIGlmIChhcmcyICE9PSB1bmRlZmluZWQgfHwgYXJnMyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImdldEFjY2Vzc1Rva2VuOiBJbnZhbGlkIGFyZ3VtZW50cy4gVmFsaWQgc2lnbmF0dXJlcyBhcmUgZ2V0QWNjZXNzVG9rZW4oKSwgZ2V0QWNjZXNzVG9rZW4ob3B0aW9ucyksIG9yIGdldEFjY2Vzc1Rva2VuKHJlcSwgcmVzLCBvcHRpb25zKS5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBNZXJnZSBwcm92aWRlZCBvcHRpb25zIChhcmcxKSB3aXRoIGRlZmF1bHRzXG4gICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIC4uLmRlZmF1bHRPcHRpb25zLFxuICAgICAgICAgICAgICAgIC4uLihhcmcxID8/IHt9KVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICAvLyBFeGVjdXRlIHRoZSB0b2tlbiByZXF1ZXN0IHdpdGggY2FjaGluZyB0byBhdm9pZCBkdXBsaWNhdGUgaW4tZmxpZ2h0IHJlcXVlc3RzXG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9BdXRoMENsaWVudF90b2tlblJlcXVlc3RDYWNoZSwgXCJmXCIpLmV4ZWN1dGUoKCkgPT4gdGhpcy5leGVjdXRlR2V0QWNjZXNzVG9rZW4ocmVxLCByZXMsIG9wdGlvbnMpLCB7XG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgYXV0aG9yaXphdGlvblBhcmFtZXRlcnM6IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0F1dGgwQ2xpZW50X29wdGlvbnMsIFwiZlwiKS5hdXRob3JpemF0aW9uUGFyYW1ldGVyc1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29yZSBpbXBsZW1lbnRhdGlvbiBvZiBnZXRBY2Nlc3NUb2tlbiB0aGF0IHBlcmZvcm1zIHRoZSBhY3R1YWwgdG9rZW4gcmV0cmlldmFsLlxuICAgICAqIFRoaXMgaXMgc2VwYXJhdGVkIHRvIGVuYWJsZSByZXF1ZXN0IGNvYWxlc2NpbmcgdmlhIHRoZSBjYWNoZS5cbiAgICAgKi9cbiAgICBhc3luYyBleGVjdXRlR2V0QWNjZXNzVG9rZW4ocmVxLCByZXMsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgc2Vzc2lvbiA9IHJlcVxuICAgICAgICAgICAgPyBhd2FpdCB0aGlzLmdldFNlc3Npb24ocmVxKVxuICAgICAgICAgICAgOiBhd2FpdCB0aGlzLmdldFNlc3Npb24oKTtcbiAgICAgICAgaWYgKCFzZXNzaW9uKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQWNjZXNzVG9rZW5FcnJvcihBY2Nlc3NUb2tlbkVycm9yQ29kZS5NSVNTSU5HX1NFU1NJT04sIFwiVGhlIHVzZXIgZG9lcyBub3QgaGF2ZSBhbiBhY3RpdmUgc2Vzc2lvbi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgW2Vycm9yLCBnZXRUb2tlblNldFJlc3BvbnNlXSA9IGF3YWl0IHRoaXMuYXV0aENsaWVudC5nZXRUb2tlblNldChzZXNzaW9uLCBvcHRpb25zKTtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IHRva2VuU2V0LCBpZFRva2VuQ2xhaW1zIH0gPSBnZXRUb2tlblNldFJlc3BvbnNlO1xuICAgICAgICAvLyB1cGRhdGUgdGhlIHNlc3Npb24gd2l0aCB0aGUgbmV3IHRva2VuIHNldCwgaWYgbmVjZXNzYXJ5XG4gICAgICAgIGNvbnN0IHNlc3Npb25DaGFuZ2VzID0gZ2V0U2Vzc2lvbkNoYW5nZXNBZnRlckdldEFjY2Vzc1Rva2VuKHNlc3Npb24sIHRva2VuU2V0LCB7XG4gICAgICAgICAgICBzY29wZTogX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXV0aDBDbGllbnRfb3B0aW9ucywgXCJmXCIpLmF1dGhvcml6YXRpb25QYXJhbWV0ZXJzPy5zY29wZSA/PyBERUZBVUxUX1NDT1BFUyxcbiAgICAgICAgICAgIGF1ZGllbmNlOiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9BdXRoMENsaWVudF9vcHRpb25zLCBcImZcIikuYXV0aG9yaXphdGlvblBhcmFtZXRlcnM/LmF1ZGllbmNlXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoc2Vzc2lvbkNoYW5nZXMpIHtcbiAgICAgICAgICAgIGlmIChpZFRva2VuQ2xhaW1zKSB7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbi51c2VyID0gaWRUb2tlbkNsYWltcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGNhbGwgYmVmb3JlU2Vzc2lvblNhdmVkIGNhbGxiYWNrIGlmIHByZXNlbnRcbiAgICAgICAgICAgIC8vIGlmIG5vdCB0aGVuIGZpbHRlciBpZF90b2tlbiBjbGFpbXMgd2l0aCBkZWZhdWx0IHJ1bGVzXG4gICAgICAgICAgICBjb25zdCBmaW5hbFNlc3Npb24gPSBhd2FpdCB0aGlzLmF1dGhDbGllbnQuZmluYWxpemVTZXNzaW9uKHNlc3Npb24sIHRva2VuU2V0LmlkVG9rZW4pO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5zYXZlVG9TZXNzaW9uKHtcbiAgICAgICAgICAgICAgICAuLi5maW5hbFNlc3Npb24sXG4gICAgICAgICAgICAgICAgLi4uc2Vzc2lvbkNoYW5nZXNcbiAgICAgICAgICAgIH0sIHJlcSwgcmVzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdG9rZW46IHRva2VuU2V0LmFjY2Vzc1Rva2VuLFxuICAgICAgICAgICAgc2NvcGU6IHRva2VuU2V0LnNjb3BlLFxuICAgICAgICAgICAgZXhwaXJlc0F0OiB0b2tlblNldC5leHBpcmVzQXQsXG4gICAgICAgICAgICB0b2tlbl90eXBlOiB0b2tlblNldC50b2tlbl90eXBlLFxuICAgICAgICAgICAgYXVkaWVuY2U6IHRva2VuU2V0LmF1ZGllbmNlXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyBhbiBhY2Nlc3MgdG9rZW4gZm9yIGEgY29ubmVjdGlvbi5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGF0dGVtcHRzIHRvIG9idGFpbiBhbiBhY2Nlc3MgdG9rZW4gZm9yIGEgc3BlY2lmaWVkIGNvbm5lY3Rpb24uXG4gICAgICogSXQgZmlyc3QgY2hlY2tzIGlmIGEgc2Vzc2lvbiBleGlzdHMsIGVpdGhlciBmcm9tIHRoZSBwcm92aWRlZCByZXF1ZXN0IG9yIGZyb20gY29va2llcy5cbiAgICAgKiBJZiBubyBzZXNzaW9uIGlzIGZvdW5kLCBpdCB0aHJvd3MgYSBgQWNjZXNzVG9rZW5Gb3JDb25uZWN0aW9uRXJyb3JgIGluZGljYXRpbmdcbiAgICAgKiB0aGF0IHRoZSB1c2VyIGRvZXMgbm90IGhhdmUgYW4gYWN0aXZlIHNlc3Npb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FjY2Vzc1Rva2VuRm9yQ29ubmVjdGlvbk9wdGlvbnN9IG9wdGlvbnMgLSBPcHRpb25zIGZvciByZXRyaWV2aW5nIGFuIGFjY2VzcyB0b2tlbiBmb3IgYSBjb25uZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7UGFnZXNSb3V0ZXJSZXF1ZXN0IHwgTmV4dFJlcXVlc3R9IFtyZXFdIC0gQW4gb3B0aW9uYWwgcmVxdWVzdCBvYmplY3QgZnJvbSB3aGljaCB0byBleHRyYWN0IHNlc3Npb24gaW5mb3JtYXRpb24uXG4gICAgICogQHBhcmFtIHtQYWdlc1JvdXRlclJlc3BvbnNlIHwgTmV4dFJlc3BvbnNlfSBbcmVzXSAtIEFuIG9wdGlvbmFsIHJlc3BvbnNlIG9iamVjdCBmcm9tIHdoaWNoIHRvIGV4dHJhY3Qgc2Vzc2lvbiBpbmZvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIEB0aHJvd3Mge0FjY2Vzc1Rva2VuRm9yQ29ubmVjdGlvbkVycm9yfSBJZiB0aGUgdXNlciBkb2VzIG5vdCBoYXZlIGFuIGFjdGl2ZSBzZXNzaW9uLlxuICAgICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGVyZSBpcyBhbiBlcnJvciBkdXJpbmcgdGhlIHRva2VuIGV4Y2hhbmdlIHByb2Nlc3MuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTx7IHRva2VuOiBzdHJpbmc7IGV4cGlyZXNBdDogbnVtYmVyOyBzY29wZT86IHN0cmluZyB9fSBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgYWNjZXNzIHRva2VuIGFuZCBpdHMgZXhwaXJhdGlvbiB0aW1lLlxuICAgICAqL1xuICAgIGFzeW5jIGdldEFjY2Vzc1Rva2VuRm9yQ29ubmVjdGlvbihvcHRpb25zLCByZXEsIHJlcykge1xuICAgICAgICBjb25zdCBzZXNzaW9uID0gcmVxXG4gICAgICAgICAgICA/IGF3YWl0IHRoaXMuZ2V0U2Vzc2lvbihyZXEpXG4gICAgICAgICAgICA6IGF3YWl0IHRoaXMuZ2V0U2Vzc2lvbigpO1xuICAgICAgICBpZiAoIXNlc3Npb24pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBY2Nlc3NUb2tlbkZvckNvbm5lY3Rpb25FcnJvcihBY2Nlc3NUb2tlbkZvckNvbm5lY3Rpb25FcnJvckNvZGUuTUlTU0lOR19TRVNTSU9OLCBcIlRoZSB1c2VyIGRvZXMgbm90IGhhdmUgYW4gYWN0aXZlIHNlc3Npb24uXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEZpbmQgdGhlIGNvbm5lY3Rpb24gdG9rZW4gc2V0IGluIHRoZSBzZXNzaW9uXG4gICAgICAgIGNvbnN0IGV4aXN0aW5nVG9rZW5TZXQgPSBzZXNzaW9uLmNvbm5lY3Rpb25Ub2tlblNldHM/LmZpbmQoKHRva2VuU2V0KSA9PiB0b2tlblNldC5jb25uZWN0aW9uID09PSBvcHRpb25zLmNvbm5lY3Rpb24pO1xuICAgICAgICBjb25zdCBbZXJyb3IsIHJldHJpZXZlZFRva2VuU2V0XSA9IGF3YWl0IHRoaXMuYXV0aENsaWVudC5nZXRDb25uZWN0aW9uVG9rZW5TZXQoc2Vzc2lvbi50b2tlblNldCwgZXhpc3RpbmdUb2tlblNldCwgb3B0aW9ucyk7XG4gICAgICAgIGlmIChlcnJvciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgd2UgZGlkbid0IGhhdmUgYSBjb3JyZXNwb25kaW5nIGNvbm5lY3Rpb24gdG9rZW4gc2V0IGluIHRoZSBzZXNzaW9uXG4gICAgICAgIC8vIG9yIGlmIHRoZSBvbmUgd2UgaGF2ZSBpbiB0aGUgc2Vzc2lvbiBkb2VzIG5vdCBtYXRjaCB0aGUgb25lIHdlIHJlY2VpdmVkXG4gICAgICAgIC8vIFdlIHdhbnQgdG8gdXBkYXRlIHRoZSBzdG9yZSBpbmNhc2Ugd2UgcmV0cmlldmVkIGEgdG9rZW4gc2V0LlxuICAgICAgICBpZiAocmV0cmlldmVkVG9rZW5TZXQgJiZcbiAgICAgICAgICAgICghZXhpc3RpbmdUb2tlblNldCB8fFxuICAgICAgICAgICAgICAgIHJldHJpZXZlZFRva2VuU2V0LmFjY2Vzc1Rva2VuICE9PSBleGlzdGluZ1Rva2VuU2V0LmFjY2Vzc1Rva2VuIHx8XG4gICAgICAgICAgICAgICAgcmV0cmlldmVkVG9rZW5TZXQuZXhwaXJlc0F0ICE9PSBleGlzdGluZ1Rva2VuU2V0LmV4cGlyZXNBdCB8fFxuICAgICAgICAgICAgICAgIHJldHJpZXZlZFRva2VuU2V0LnNjb3BlICE9PSBleGlzdGluZ1Rva2VuU2V0LnNjb3BlKSkge1xuICAgICAgICAgICAgbGV0IHRva2VuU2V0cztcbiAgICAgICAgICAgIC8vIElmIHdlIGFscmVhZHkgaGFkIHRoZSBjb25uZWN0aW9uIHRva2VuIHNldCBpbiB0aGUgc2Vzc2lvblxuICAgICAgICAgICAgLy8gd2UgbmVlZCB0byB1cGRhdGUgdGhlIGl0ZW0gaW4gdGhlIGFycmF5XG4gICAgICAgICAgICAvLyBJZiBub3QsIHdlIG5lZWQgdG8gYWRkIGl0LlxuICAgICAgICAgICAgaWYgKGV4aXN0aW5nVG9rZW5TZXQpIHtcbiAgICAgICAgICAgICAgICB0b2tlblNldHMgPSBzZXNzaW9uLmNvbm5lY3Rpb25Ub2tlblNldHM/Lm1hcCgodG9rZW5TZXQpID0+IHRva2VuU2V0LmNvbm5lY3Rpb24gPT09IG9wdGlvbnMuY29ubmVjdGlvblxuICAgICAgICAgICAgICAgICAgICA/IHJldHJpZXZlZFRva2VuU2V0XG4gICAgICAgICAgICAgICAgICAgIDogdG9rZW5TZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdG9rZW5TZXRzID0gWy4uLihzZXNzaW9uLmNvbm5lY3Rpb25Ub2tlblNldHMgfHwgW10pLCByZXRyaWV2ZWRUb2tlblNldF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnNhdmVUb1Nlc3Npb24oe1xuICAgICAgICAgICAgICAgIC4uLnNlc3Npb24sXG4gICAgICAgICAgICAgICAgY29ubmVjdGlvblRva2VuU2V0czogdG9rZW5TZXRzXG4gICAgICAgICAgICB9LCByZXEsIHJlcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRva2VuOiByZXRyaWV2ZWRUb2tlblNldC5hY2Nlc3NUb2tlbixcbiAgICAgICAgICAgIHNjb3BlOiByZXRyaWV2ZWRUb2tlblNldC5zY29wZSxcbiAgICAgICAgICAgIGV4cGlyZXNBdDogcmV0cmlldmVkVG9rZW5TZXQuZXhwaXJlc0F0XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHVwZGF0ZVNlc3Npb24gdXBkYXRlcyB0aGUgc2Vzc2lvbiBvZiB0aGUgY3VycmVudGx5IGF1dGhlbnRpY2F0ZWQgdXNlci4gSWYgdGhlIHVzZXIgZG9lcyBub3QgaGF2ZSBhIHNlc3Npb24sIGFuIGVycm9yIGlzIHRocm93bi5cbiAgICAgKi9cbiAgICBhc3luYyB1cGRhdGVTZXNzaW9uKHJlcU9yU2Vzc2lvbiwgcmVzLCBzZXNzaW9uRGF0YSkge1xuICAgICAgICBpZiAoIXJlcykge1xuICAgICAgICAgICAgLy8gYXBwIHJvdXRlcjogU2VydmVyIEFjdGlvbnMsIFJvdXRlIEhhbmRsZXJzXG4gICAgICAgICAgICBjb25zdCBleGlzdGluZ1Nlc3Npb24gPSBhd2FpdCB0aGlzLmdldFNlc3Npb24oKTtcbiAgICAgICAgICAgIGlmICghZXhpc3RpbmdTZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHVzZXIgaXMgbm90IGF1dGhlbnRpY2F0ZWQuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdXBkYXRlZFNlc3Npb24gPSByZXFPclNlc3Npb247XG4gICAgICAgICAgICBpZiAoIXVwZGF0ZWRTZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHNlc3Npb24gZGF0YSBpcyBtaXNzaW5nLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc2Vzc2lvblN0b3JlLnNldChhd2FpdCBjb29raWVzKCksIGF3YWl0IGNvb2tpZXMoKSwge1xuICAgICAgICAgICAgICAgIC4uLnVwZGF0ZWRTZXNzaW9uLFxuICAgICAgICAgICAgICAgIGludGVybmFsOiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmV4aXN0aW5nU2Vzc2lvbi5pbnRlcm5hbFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcmVxID0gcmVxT3JTZXNzaW9uO1xuICAgICAgICAgICAgaWYgKCFzZXNzaW9uRGF0YSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBzZXNzaW9uIGRhdGEgaXMgbWlzc2luZy5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVxIGluc3RhbmNlb2YgTmV4dFJlcXVlc3QgJiYgcmVzIGluc3RhbmNlb2YgTmV4dFJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgLy8gbWlkZGxld2FyZSB1c2FnZVxuICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nU2Vzc2lvbiA9IGF3YWl0IHRoaXMuZ2V0U2Vzc2lvbihyZXEpO1xuICAgICAgICAgICAgICAgIGlmICghZXhpc3RpbmdTZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSB1c2VyIGlzIG5vdCBhdXRoZW50aWNhdGVkLlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zZXNzaW9uU3RvcmUuc2V0KHJlcS5jb29raWVzLCByZXMuY29va2llcywge1xuICAgICAgICAgICAgICAgICAgICAuLi5zZXNzaW9uRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJuYWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmV4aXN0aW5nU2Vzc2lvbi5pbnRlcm5hbFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBwYWdlcyByb3V0ZXIgdXNhZ2VcbiAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZ1Nlc3Npb24gPSBhd2FpdCB0aGlzLmdldFNlc3Npb24ocmVxKTtcbiAgICAgICAgICAgICAgICBpZiAoIWV4aXN0aW5nU2Vzc2lvbikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgdXNlciBpcyBub3QgYXV0aGVudGljYXRlZC5cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc0hlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc0Nvb2tpZXMgPSBuZXcgUmVzcG9uc2VDb29raWVzKHJlc0hlYWRlcnMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRTZXNzaW9uID0gc2Vzc2lvbkRhdGE7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVxQ29va2llcyA9IHRoaXMuY3JlYXRlUmVxdWVzdENvb2tpZXMocmVxKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYWdlc1JvdXRlclJlcyA9IHJlcztcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNlc3Npb25TdG9yZS5zZXQocmVxQ29va2llcywgcmVzQ29va2llcywge1xuICAgICAgICAgICAgICAgICAgICAuLi51cGRhdGVkU2Vzc2lvbixcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJuYWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmV4aXN0aW5nU2Vzc2lvbi5pbnRlcm5hbFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIG11bHRpcGxlIHNldC1jb29raWUgaGVhZGVycyBwcm9wZXJseVxuICAgICAgICAgICAgICAgIC8vIHJlc0hlYWRlcnMuZW50cmllcygpIHlpZWxkcyBlYWNoIHNldC1jb29raWUgaGVhZGVyIHNlcGFyYXRlbHksXG4gICAgICAgICAgICAgICAgLy8gYnV0IHJlcy5zZXRIZWFkZXIoKSBvdmVyd3JpdGVzIHByZXZpb3VzIHZhbHVlcy4gV2UgbmVlZCB0byBjb2xsZWN0XG4gICAgICAgICAgICAgICAgLy8gYWxsIHNldC1jb29raWUgdmFsdWVzIGFuZCBzZXQgdGhlbSBhcyBhbiBhcnJheS5cbiAgICAgICAgICAgICAgICAvLyBOb3RlOiBQZXIgdGhlIFdlYiBBUEkgc3BlY2lmaWNhdGlvbiwgdGhlIEhlYWRlcnMgQVBJIG5vcm1hbGl6ZXMgaGVhZGVyIG5hbWVzXG4gICAgICAgICAgICAgICAgLy8gdG8gbG93ZXJjYXNlLCBzbyBjb21wYXJpbmcga2V5LnRvTG93ZXJDYXNlKCkgPT09IFwic2V0LWNvb2tpZVwiIGlzIHNhZmUuXG4gICAgICAgICAgICAgICAgY29uc3Qgc2V0Q29va2llVmFsdWVzID0gW107XG4gICAgICAgICAgICAgICAgY29uc3Qgb3RoZXJIZWFkZXJzID0ge307XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgcmVzSGVhZGVycy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleS50b0xvd2VyQ2FzZSgpID09PSBcInNldC1jb29raWVcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q29va2llVmFsdWVzLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJIZWFkZXJzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBTZXQgYWxsIGNvb2tpZXMgYXQgb25jZSBhcyBhbiBhcnJheSBpZiBhbnkgZXhpc3RcbiAgICAgICAgICAgICAgICBpZiAoc2V0Q29va2llVmFsdWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcGFnZXNSb3V0ZXJSZXMuc2V0SGVhZGVyKFwic2V0LWNvb2tpZVwiLCBzZXRDb29raWVWYWx1ZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBTZXQgbm9uLWNvb2tpZSBoZWFkZXJzIG5vcm1hbGx5XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMob3RoZXJIZWFkZXJzKSkge1xuICAgICAgICAgICAgICAgICAgICBwYWdlc1JvdXRlclJlcy5zZXRIZWFkZXIoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNyZWF0ZVJlcXVlc3RDb29raWVzKHJlcSkge1xuICAgICAgICBjb25zdCBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcmVxLmhlYWRlcnMpIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHJlcS5oZWFkZXJzW2tleV0pKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiByZXEuaGVhZGVyc1trZXldKSB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnMuYXBwZW5kKGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGhlYWRlcnMuYXBwZW5kKGtleSwgcmVxLmhlYWRlcnNba2V5XSA/PyBcIlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFJlcXVlc3RDb29raWVzKGhlYWRlcnMpO1xuICAgIH1cbiAgICBhc3luYyBzdGFydEludGVyYWN0aXZlTG9naW4ob3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF1dGhDbGllbnQuc3RhcnRJbnRlcmFjdGl2ZUxvZ2luKG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBdXRoZW50aWNhdGVzIHVzaW5nIENsaWVudC1Jbml0aWF0ZWQgQmFja2NoYW5uZWwgQXV0aGVudGljYXRpb24gYW5kIHJldHVybnMgdGhlIHRva2VuIHNldCBhbmQgb3B0aW9uYWxseSB0aGUgSUQgdG9rZW4gY2xhaW1zIGFuZCBhdXRob3JpemF0aW9uIGRldGFpbHMuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIGluaXRpYWxpemUgdGhlIGJhY2tjaGFubmVsIGF1dGhlbnRpY2F0aW9uIHByb2Nlc3Mgd2l0aCBBdXRoMCwgYW5kIHBvbGwgdGhlIHRva2VuIGVuZHBvaW50IHVudGlsIHRoZSBhdXRoZW50aWNhdGlvbiBpcyBjb21wbGV0ZS5cbiAgICAgKlxuICAgICAqIFVzaW5nIENsaWVudC1Jbml0aWF0ZWQgQmFja2NoYW5uZWwgQXV0aGVudGljYXRpb24gcmVxdWlyZXMgdGhlIGZlYXR1cmUgdG8gYmUgZW5hYmxlZCBpbiB0aGUgQXV0aDAgZGFzaGJvYXJkLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9hdXRoMC5jb20vZG9jcy9nZXQtc3RhcnRlZC9hdXRoZW50aWNhdGlvbi1hbmQtYXV0aG9yaXphdGlvbi1mbG93L2NsaWVudC1pbml0aWF0ZWQtYmFja2NoYW5uZWwtYXV0aGVudGljYXRpb24tZmxvd1xuICAgICAqL1xuICAgIGFzeW5jIGdldFRva2VuQnlCYWNrY2hhbm5lbEF1dGgob3B0aW9ucykge1xuICAgICAgICBjb25zdCBbZXJyb3IsIHJlc3BvbnNlXSA9IGF3YWl0IHRoaXMuYXV0aENsaWVudC5iYWNrY2hhbm5lbEF1dGhlbnRpY2F0aW9uKG9wdGlvbnMpO1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5pdGlhdGVzIHRoZSBDb25uZWN0IEFjY291bnQgZmxvdyB0byBjb25uZWN0IGEgdGhpcmQtcGFydHkgYWNjb3VudCB0byB0aGUgdXNlcidzIHByb2ZpbGUuXG4gICAgICogSWYgdGhlIHVzZXIgZG9lcyBub3QgaGF2ZSBhbiBhY3RpdmUgc2Vzc2lvbiwgYSBgQ29ubmVjdEFjY291bnRFcnJvcmAgaXMgdGhyb3duLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgZmlyc3QgYXR0ZW1wdHMgdG8gb2J0YWluIGFuIGFjY2VzcyB0b2tlbiB3aXRoIHRoZSBgY3JlYXRlOm1lOmNvbm5lY3RlZF9hY2NvdW50c2Agc2NvcGVcbiAgICAgKiBmb3IgdGhlIE15IEFjY291bnQgQVBJIHRvIGNyZWF0ZSBhIGNvbm5lY3RlZCBhY2NvdW50IGZvciB0aGUgdXNlci5cbiAgICAgKlxuICAgICAqIFRoZSB1c2VyIHdpbGwgdGhlbiBiZSByZWRpcmVjdGVkIHRvIGF1dGhvcml6ZSB0aGUgY29ubmVjdGlvbiB3aXRoIHRoZSB0aGlyZC1wYXJ0eSBwcm92aWRlci5cbiAgICAgKi9cbiAgICBhc3luYyBjb25uZWN0QWNjb3VudChvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCB0aGlzLmdldFNlc3Npb24oKTtcbiAgICAgICAgaWYgKCFzZXNzaW9uKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQ29ubmVjdEFjY291bnRFcnJvcih7XG4gICAgICAgICAgICAgICAgY29kZTogQ29ubmVjdEFjY291bnRFcnJvckNvZGVzLk1JU1NJTkdfU0VTU0lPTixcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRoZSB1c2VyIGRvZXMgbm90IGhhdmUgYW4gYWN0aXZlIHNlc3Npb24uXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGdldE15QWNjb3VudFRva2VuT3B0cyA9IHtcbiAgICAgICAgICAgIGF1ZGllbmNlOiBgJHt0aGlzLmlzc3Vlcn0vbWUvYCxcbiAgICAgICAgICAgIHNjb3BlOiBcImNyZWF0ZTptZTpjb25uZWN0ZWRfYWNjb3VudHNcIlxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBhY2Nlc3NUb2tlbiA9IGF3YWl0IHRoaXMuZ2V0QWNjZXNzVG9rZW4oZ2V0TXlBY2NvdW50VG9rZW5PcHRzKTtcbiAgICAgICAgY29uc3QgW2Vycm9yLCBjb25uZWN0QWNjb3VudFJlc3BvbnNlXSA9IGF3YWl0IHRoaXMuYXV0aENsaWVudC5jb25uZWN0QWNjb3VudCh7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgdG9rZW5TZXQ6IHtcbiAgICAgICAgICAgICAgICBhY2Nlc3NUb2tlbjogYWNjZXNzVG9rZW4udG9rZW4sXG4gICAgICAgICAgICAgICAgZXhwaXJlc0F0OiBhY2Nlc3NUb2tlbi5leHBpcmVzQXQsXG4gICAgICAgICAgICAgICAgc2NvcGU6IGdldE15QWNjb3VudFRva2VuT3B0cy5zY29wZSxcbiAgICAgICAgICAgICAgICBhdWRpZW5jZTogYWNjZXNzVG9rZW4uYXVkaWVuY2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbm5lY3RBY2NvdW50UmVzcG9uc2U7XG4gICAgfVxuICAgIHdpdGhQYWdlQXV0aFJlcXVpcmVkKGZuT3JPcHRzLCBvcHRzKSB7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHtcbiAgICAgICAgICAgIGxvZ2luVXJsOiB0aGlzLnJvdXRlcy5sb2dpblxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBhcHBSb3V0ZUhhbmRsZXIgPSBhcHBSb3V0ZUhhbmRsZXJGYWN0b3J5KHRoaXMsIGNvbmZpZyk7XG4gICAgICAgIGNvbnN0IHBhZ2VSb3V0ZUhhbmRsZXIgPSBwYWdlUm91dGVIYW5kbGVyRmFjdG9yeSh0aGlzLCBjb25maWcpO1xuICAgICAgICBpZiAodHlwZW9mIGZuT3JPcHRzID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBhcHBSb3V0ZUhhbmRsZXIoZm5Pck9wdHMsIG9wdHMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYWdlUm91dGVIYW5kbGVyKGZuT3JPcHRzKTtcbiAgICB9XG4gICAgd2l0aEFwaUF1dGhSZXF1aXJlZChhcGlSb3V0ZSkge1xuICAgICAgICBjb25zdCBwYWdlUm91dGVIYW5kbGVyID0gd2l0aEFwaUF1dGhSZXF1aXJlZC5wYWdlUm91dGVIYW5kbGVyRmFjdG9yeSh0aGlzKTtcbiAgICAgICAgY29uc3QgYXBwUm91dGVIYW5kbGVyID0gd2l0aEFwaUF1dGhSZXF1aXJlZC5hcHBSb3V0ZUhhbmRsZXJGYWN0b3J5KHRoaXMpO1xuICAgICAgICByZXR1cm4gKHJlcSwgcmVzT3JQYXJhbXMpID0+IHtcbiAgICAgICAgICAgIGlmIChpc1JlcXVlc3QocmVxKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhcHBSb3V0ZUhhbmRsZXIoYXBpUm91dGUpKHJlcSwgcmVzT3JQYXJhbXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHBhZ2VSb3V0ZUhhbmRsZXIoYXBpUm91dGUpKHJlcSwgcmVzT3JQYXJhbXMpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBhc3luYyBzYXZlVG9TZXNzaW9uKGRhdGEsIHJlcSwgcmVzKSB7XG4gICAgICAgIGlmIChyZXEgJiYgcmVzKSB7XG4gICAgICAgICAgICBpZiAocmVxIGluc3RhbmNlb2YgTmV4dFJlcXVlc3QgJiYgcmVzIGluc3RhbmNlb2YgTmV4dFJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgLy8gbWlkZGxld2FyZSB1c2FnZVxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2Vzc2lvblN0b3JlLnNldChyZXEuY29va2llcywgcmVzLmNvb2tpZXMsIGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gcGFnZXMgcm91dGVyIHVzYWdlXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzSGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzQ29va2llcyA9IG5ldyBSZXNwb25zZUNvb2tpZXMocmVzSGVhZGVycyk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFnZXNSb3V0ZXJSZXMgPSByZXM7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zZXNzaW9uU3RvcmUuc2V0KHRoaXMuY3JlYXRlUmVxdWVzdENvb2tpZXMocmVxKSwgcmVzQ29va2llcywgZGF0YSk7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgcmVzSGVhZGVycy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFnZXNSb3V0ZXJSZXMuc2V0SGVhZGVyKGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGFwcCByb3V0ZXIgdXNhZ2U6IFNlcnZlciBDb21wb25lbnRzLCBTZXJ2ZXIgQWN0aW9ucywgUm91dGUgSGFuZGxlcnNcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zZXNzaW9uU3RvcmUuc2V0KGF3YWl0IGNvb2tpZXMoKSwgYXdhaXQgY29va2llcygpLCBkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcImRldmVsb3BtZW50XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiRmFpbGVkIHRvIHBlcnNpc3QgdGhlIHVwZGF0ZWQgdG9rZW4gc2V0LiBgZ2V0QWNjZXNzVG9rZW4oKWAgd2FzIGxpa2VseSBjYWxsZWQgZnJvbSBhIFNlcnZlciBDb21wb25lbnQgd2hpY2ggY2Fubm90IHNldCBjb29raWVzLlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVmFsaWRhdGVzIGFuZCBleHRyYWN0cyByZXF1aXJlZCBjb25maWd1cmF0aW9uIG9wdGlvbnMuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgVGhlIGNsaWVudCBvcHRpb25zXG4gICAgICogQHJldHVybnMgVGhlIHZhbGlkYXRlZCByZXF1aXJlZCBvcHRpb25zXG4gICAgICogQHRocm93cyBDb25maWd1cmF0aW9uRXJyb3IgaWYgYW55IHJlcXVpcmVkIG9wdGlvbiBpcyBtaXNzaW5nXG4gICAgICovXG4gICAgdmFsaWRhdGVBbmRFeHRyYWN0UmVxdWlyZWRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgLy8gQmFzZSByZXF1aXJlZCBvcHRpb25zIHRoYXQgYXJlIGFsd2F5cyBuZWVkZWRcbiAgICAgICAgY29uc3QgcmVxdWlyZWRPcHRpb25zID0ge1xuICAgICAgICAgICAgZG9tYWluOiBvcHRpb25zLmRvbWFpbiA/PyBwcm9jZXNzLmVudi5BVVRIMF9ET01BSU4sXG4gICAgICAgICAgICBjbGllbnRJZDogb3B0aW9ucy5jbGllbnRJZCA/PyBwcm9jZXNzLmVudi5BVVRIMF9DTElFTlRfSUQsXG4gICAgICAgICAgICBhcHBCYXNlVXJsOiBvcHRpb25zLmFwcEJhc2VVcmwgPz8gcHJvY2Vzcy5lbnYuQVBQX0JBU0VfVVJMLFxuICAgICAgICAgICAgc2VjcmV0OiBvcHRpb25zLnNlY3JldCA/PyBwcm9jZXNzLmVudi5BVVRIMF9TRUNSRVRcbiAgICAgICAgfTtcbiAgICAgICAgLy8gQ2hlY2sgY2xpZW50IGF1dGhlbnRpY2F0aW9uIG9wdGlvbnMgLSBlaXRoZXIgY2xpZW50U2VjcmV0IE9SIGNsaWVudEFzc2VydGlvblNpZ25pbmdLZXkgbXVzdCBiZSBwcm92aWRlZFxuICAgICAgICBjb25zdCBjbGllbnRTZWNyZXQgPSBvcHRpb25zLmNsaWVudFNlY3JldCA/PyBwcm9jZXNzLmVudi5BVVRIMF9DTElFTlRfU0VDUkVUO1xuICAgICAgICBjb25zdCBjbGllbnRBc3NlcnRpb25TaWduaW5nS2V5ID0gb3B0aW9ucy5jbGllbnRBc3NlcnRpb25TaWduaW5nS2V5ID8/XG4gICAgICAgICAgICBwcm9jZXNzLmVudi5BVVRIMF9DTElFTlRfQVNTRVJUSU9OX1NJR05JTkdfS0VZO1xuICAgICAgICBjb25zdCBoYXNDbGllbnRBdXRoZW50aWNhdGlvbiA9ICEhKGNsaWVudFNlY3JldCB8fCBjbGllbnRBc3NlcnRpb25TaWduaW5nS2V5KTtcbiAgICAgICAgY29uc3QgbWlzc2luZyA9IE9iamVjdC5lbnRyaWVzKHJlcXVpcmVkT3B0aW9ucylcbiAgICAgICAgICAgIC5maWx0ZXIoKFssIHZhbHVlXSkgPT4gIXZhbHVlKVxuICAgICAgICAgICAgLm1hcCgoW2tleV0pID0+IGtleSk7XG4gICAgICAgIC8vIEFkZCBjbGllbnQgYXV0aGVudGljYXRpb24gZXJyb3IgaWYgbmVpdGhlciBvcHRpb24gaXMgcHJvdmlkZWRcbiAgICAgICAgaWYgKCFoYXNDbGllbnRBdXRoZW50aWNhdGlvbikge1xuICAgICAgICAgICAgbWlzc2luZy5wdXNoKFwiY2xpZW50QXV0aGVudGljYXRpb25cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1pc3NpbmcubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBNYXAgb2Ygb3B0aW9uIGtleXMgdG8gdGhlaXIgZXhhY3QgZW52aXJvbm1lbnQgdmFyaWFibGUgbmFtZXNcbiAgICAgICAgICAgIGNvbnN0IGVudlZhck5hbWVzID0ge1xuICAgICAgICAgICAgICAgIGRvbWFpbjogXCJBVVRIMF9ET01BSU5cIixcbiAgICAgICAgICAgICAgICBjbGllbnRJZDogXCJBVVRIMF9DTElFTlRfSURcIixcbiAgICAgICAgICAgICAgICBhcHBCYXNlVXJsOiBcIkFQUF9CQVNFX1VSTFwiLFxuICAgICAgICAgICAgICAgIHNlY3JldDogXCJBVVRIMF9TRUNSRVRcIlxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIFN0YW5kYXJkIGludHJvIG1lc3NhZ2UgZXhwbGFpbmluZyB0aGUgaXNzdWVcbiAgICAgICAgICAgIGxldCBlcnJvck1lc3NhZ2UgPSBcIldBUk5JTkc6IE5vdCBhbGwgcmVxdWlyZWQgb3B0aW9ucyB3ZXJlIHByb3ZpZGVkIHdoZW4gY3JlYXRpbmcgYW4gaW5zdGFuY2Ugb2YgQXV0aDBDbGllbnQuIEVuc3VyZSB0byBwcm92aWRlIGFsbCBtaXNzaW5nIG9wdGlvbnMsIGVpdGhlciBieSBwYXNzaW5nIGl0IHRvIHRoZSBBdXRoMENsaWVudCBjb25zdHJ1Y3Rvciwgb3IgYnkgc2V0dGluZyB0aGUgY29ycmVzcG9uZGluZyBlbnZpcm9ubWVudCB2YXJpYWJsZS5cXG5cIjtcbiAgICAgICAgICAgIC8vIEFkZCBzcGVjaWZpYyBkZXRhaWxzIGZvciBlYWNoIG1pc3Npbmcgb3B0aW9uXG4gICAgICAgICAgICBtaXNzaW5nLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChrZXkgPT09IFwiY2xpZW50QXV0aGVudGljYXRpb25cIikge1xuICAgICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2UgKz0gYE1pc3Npbmc6IGNsaWVudEF1dGhlbnRpY2F0aW9uOiBTZXQgZWl0aGVyIEFVVEgwX0NMSUVOVF9TRUNSRVQgZW52IHZhciBvciBBVVRIMF9DTElFTlRfQVNTRVJUSU9OX1NJR05JTkdfS0VZIGVudiB2YXIsIG9yIHBhc3MgY2xpZW50U2VjcmV0IG9yIGNsaWVudEFzc2VydGlvblNpZ25pbmdLZXkgaW4gb3B0aW9uc1xcbmA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGVudlZhck5hbWVzW2tleV0pIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlICs9IGBNaXNzaW5nOiAke2tleX06IFNldCAke2VudlZhck5hbWVzW2tleV19IGVudiB2YXIgb3IgcGFzcyAke2tleX0gaW4gb3B0aW9uc1xcbmA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2UgKz0gYE1pc3Npbmc6ICR7a2V5fVxcbmA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yTWVzc2FnZS50cmltKCkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFByZXBhcmUgdGhlIHJlc3VsdCBvYmplY3Qgd2l0aCBhbGwgdmFsaWRhdGVkIG9wdGlvbnNcbiAgICAgICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICAgICAgLi4ucmVxdWlyZWRPcHRpb25zLFxuICAgICAgICAgICAgY2xpZW50U2VjcmV0LFxuICAgICAgICAgICAgY2xpZW50QXNzZXJ0aW9uU2lnbmluZ0tleVxuICAgICAgICB9O1xuICAgICAgICAvLyBUeXBlLXNhZmUgYXNzaWdubWVudCBhZnRlciB2YWxpZGF0aW9uXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjb25maWd1cmVkIEZldGNoZXIgaW5zdGFuY2UgZm9yIG1ha2luZyBhdXRoZW50aWNhdGVkIEFQSSByZXF1ZXN0cy5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGNyZWF0ZXMgYSBzcGVjaWFsaXplZCBIVFRQIGNsaWVudCB0aGF0IGhhbmRsZXM6XG4gICAgICogLSBBdXRvbWF0aWMgYWNjZXNzIHRva2VuIHJldHJpZXZhbCBhbmQgaW5qZWN0aW9uXG4gICAgICogLSBEUG9QIChEZW1vbnN0cmF0aW5nIFByb29mLW9mLVBvc3Nlc3Npb24pIHByb29mIGdlbmVyYXRpb24gd2hlbiBlbmFibGVkXG4gICAgICogLSBUb2tlbiByZWZyZXNoIGFuZCBzZXNzaW9uIG1hbmFnZW1lbnRcbiAgICAgKiAtIEVycm9yIGhhbmRsaW5nIGFuZCByZXRyeSBsb2dpYyBmb3IgRFBvUCBub25jZSBlcnJvcnNcbiAgICAgKiAtIEJhc2UgVVJMIHJlc29sdXRpb24gZm9yIHJlbGF0aXZlIHJlcXVlc3RzXG4gICAgICpcbiAgICAgKiBUaGUgZmV0Y2hlciBwcm92aWRlcyBhIGhpZ2gtbGV2ZWwgaW50ZXJmYWNlIGZvciBtYWtpbmcgcmVxdWVzdHMgdG8gcHJvdGVjdGVkIHJlc291cmNlc1xuICAgICAqIHdpdGhvdXQgbWFudWFsbHkgaGFuZGxpbmcgYXV0aGVudGljYXRpb24gZGV0YWlscy5cbiAgICAgKlxuICAgICAqIEB0ZW1wbGF0ZSBUT3V0cHV0IC0gUmVzcG9uc2UgdHlwZSB0aGF0IGV4dGVuZHMgdGhlIHN0YW5kYXJkIFJlc3BvbnNlIGludGVyZmFjZVxuICAgICAqIEBwYXJhbSByZXEgLSBSZXF1ZXN0IG9iamVjdCBmb3Igc2Vzc2lvbiBjb250ZXh0IChyZXF1aXJlZCBmb3IgUGFnZXMgUm91dGVyLCBvcHRpb25hbCBmb3IgQXBwIFJvdXRlcilcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdGhlIGZldGNoZXJcbiAgICAgKiBAcGFyYW0gb3B0aW9ucy51c2VEUG9QIC0gRW5hYmxlIERQb1AgZm9yIHRoaXMgZmV0Y2hlciBpbnN0YW5jZSAob3ZlcnJpZGVzIGdsb2JhbCBzZXR0aW5nKVxuICAgICAqIEBwYXJhbSBvcHRpb25zLmJhc2VVcmwgLSBCYXNlIFVSTCBmb3IgcmVzb2x2aW5nIHJlbGF0aXZlIHJlcXVlc3RzXG4gICAgICogQHBhcmFtIG9wdGlvbnMuZ2V0QWNjZXNzVG9rZW4gLSBDdXN0b20gYWNjZXNzIHRva2VuIGZhY3RvcnkgZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5mZXRjaCAtIEN1c3RvbSBmZXRjaCBpbXBsZW1lbnRhdGlvblxuICAgICAqIEByZXR1cm5zIFByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhIGNvbmZpZ3VyZWQgRmV0Y2hlciBpbnN0YW5jZVxuICAgICAqIEB0aHJvd3MgQWNjZXNzVG9rZW5FcnJvciB3aGVuIG5vIGFjdGl2ZSBzZXNzaW9uIGV4aXN0c1xuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogaW1wb3J0IHsgYXV0aDAgfSBmcm9tIFwiQC9saWIvYXV0aDBcIjtcbiAgICAgKlxuICAgICAqIGNvbnN0IGZldGNoZXIgPSBhd2FpdCBhdXRoMC5jcmVhdGVGZXRjaGVyKHVuZGVmaW5lZCwge1xuICAgICAqICAgYmFzZVVybDogXCJodHRwczovL2FwaS5leGFtcGxlLmNvbVwiLFxuICAgICAqICAgdXNlRFBvUDogdHJ1ZVxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaGVyLmZldGNoV2l0aEF1dGgoXCIvdXNlcnNcIik7XG4gICAgICogY29uc3QgdXNlcnMgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAc2VlIHtAbGluayBGZXRjaGVyfSBmb3IgZGV0YWlscyBvbiB1c2luZyB0aGUgcmV0dXJuZWQgZmV0Y2hlciBpbnN0YW5jZVxuICAgICAqIEBzZWUge0BsaW5rIEZldGNoZXJNaW5pbWFsQ29uZmlnfSBmb3IgYXZhaWxhYmxlIGNvbmZpZ3VyYXRpb24gb3B0aW9uc1xuICAgICAqL1xuICAgIGFzeW5jIGNyZWF0ZUZldGNoZXIocmVxLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHNlc3Npb24gPSByZXFcbiAgICAgICAgICAgID8gYXdhaXQgdGhpcy5nZXRTZXNzaW9uKHJlcSlcbiAgICAgICAgICAgIDogYXdhaXQgdGhpcy5nZXRTZXNzaW9uKCk7XG4gICAgICAgIGlmICghc2Vzc2lvbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFjY2Vzc1Rva2VuRXJyb3IoQWNjZXNzVG9rZW5FcnJvckNvZGUuTUlTU0lOR19TRVNTSU9OLCBcIlRoZSB1c2VyIGRvZXMgbm90IGhhdmUgYW4gYWN0aXZlIHNlc3Npb24uXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGdldEFjY2Vzc1Rva2VuID0gYXN5bmMgKGdldEFjY2Vzc1Rva2VuT3B0aW9ucykgPT4ge1xuICAgICAgICAgICAgY29uc3QgW2Vycm9yLCBnZXRUb2tlblNldFJlc3BvbnNlXSA9IGF3YWl0IHRoaXMuYXV0aENsaWVudC5nZXRUb2tlblNldChzZXNzaW9uLCBnZXRBY2Nlc3NUb2tlbk9wdGlvbnMgfHwge30pO1xuICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZ2V0VG9rZW5TZXRSZXNwb25zZS50b2tlblNldDtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgZmV0Y2hlciA9IGF3YWl0IHRoaXMuYXV0aENsaWVudC5mZXRjaGVyRmFjdG9yeSh7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgZ2V0QWNjZXNzVG9rZW5cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmZXRjaGVyO1xuICAgIH1cbiAgICBnZXQgaXNzdWVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kb21haW4uc3RhcnRzV2l0aChcImh0dHA6Ly9cIikgfHxcbiAgICAgICAgICAgIHRoaXMuZG9tYWluLnN0YXJ0c1dpdGgoXCJodHRwczovL1wiKVxuICAgICAgICAgICAgPyB0aGlzLmRvbWFpblxuICAgICAgICAgICAgOiBgaHR0cHM6Ly8ke3RoaXMuZG9tYWlufWA7XG4gICAgfVxufVxuX0F1dGgwQ2xpZW50X29wdGlvbnMgPSBuZXcgV2Vha01hcCgpLCBfQXV0aDBDbGllbnRfdG9rZW5SZXF1ZXN0Q2FjaGUgPSBuZXcgV2Vha01hcCgpO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/client.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/cookies.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@auth0/nextjs-auth0/dist/server/cookies.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RequestCookies: () => (/* reexport safe */ _edge_runtime_cookies__WEBPACK_IMPORTED_MODULE_0__.RequestCookies),\n/* harmony export */   ResponseCookies: () => (/* reexport safe */ _edge_runtime_cookies__WEBPACK_IMPORTED_MODULE_0__.ResponseCookies),\n/* harmony export */   addCacheControlHeadersForSession: () => (/* binding */ addCacheControlHeadersForSession),\n/* harmony export */   decrypt: () => (/* binding */ decrypt),\n/* harmony export */   deleteChunkedCookie: () => (/* binding */ deleteChunkedCookie),\n/* harmony export */   deleteCookie: () => (/* binding */ deleteCookie),\n/* harmony export */   encrypt: () => (/* binding */ encrypt),\n/* harmony export */   getChunkedCookie: () => (/* binding */ getChunkedCookie),\n/* harmony export */   setChunkedCookie: () => (/* binding */ setChunkedCookie),\n/* harmony export */   sign: () => (/* binding */ sign),\n/* harmony export */   verifySigned: () => (/* binding */ verifySigned)\n/* harmony export */ });\n/* harmony import */ var _edge_runtime_cookies__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @edge-runtime/cookies */ \"(middleware)/./node_modules/@edge-runtime/cookies/dist/index.mjs\");\n/* harmony import */ var _panva_hkdf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @panva/hkdf */ \"(middleware)/./node_modules/@panva/hkdf/dist/web/index.js\");\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jose */ \"(middleware)/./node_modules/jose/dist/webapi/jwt/encrypt.js\");\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jose */ \"(middleware)/./node_modules/jose/dist/webapi/jwt/decrypt.js\");\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jose */ \"(middleware)/./node_modules/jose/dist/webapi/util/base64url.js\");\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jose */ \"(middleware)/./node_modules/jose/dist/webapi/jws/flattened/verify.js\");\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! jose */ \"(middleware)/./node_modules/jose/dist/webapi/jws/flattened/sign.js\");\n\n\n\nconst ENC = \"A256GCM\";\nconst ALG = \"dir\";\nconst DIGEST = \"sha256\";\nconst BYTE_LENGTH = 32;\nconst ENCRYPTION_INFO = \"JWE CEK\";\nasync function encrypt(payload, secret, expiration, additionalHeaders) {\n    const encryptionSecret = await (0,_panva_hkdf__WEBPACK_IMPORTED_MODULE_1__.hkdf)(DIGEST, secret, \"\", ENCRYPTION_INFO, BYTE_LENGTH);\n    const encryptedCookie = await new jose__WEBPACK_IMPORTED_MODULE_2__.EncryptJWT(payload)\n        .setProtectedHeader({ enc: ENC, alg: ALG, ...additionalHeaders })\n        .setExpirationTime(expiration)\n        .encrypt(encryptionSecret);\n    return encryptedCookie.toString();\n}\nasync function decrypt(cookieValue, secret, options) {\n    try {\n        const encryptionSecret = await (0,_panva_hkdf__WEBPACK_IMPORTED_MODULE_1__.hkdf)(DIGEST, secret, \"\", ENCRYPTION_INFO, BYTE_LENGTH);\n        const cookie = await jose__WEBPACK_IMPORTED_MODULE_3__.jwtDecrypt(cookieValue, encryptionSecret, {\n            ...options,\n            ...{ clockTolerance: 15 }\n        });\n        return cookie;\n    }\n    catch (e) {\n        if (e.code === \"ERR_JWT_EXPIRED\") {\n            return null;\n        }\n        throw e;\n    }\n}\n/**\n * Derive a signing key from a given secret.\n * This method is used solely to migrate signed, legacy cookies to the new encrypted cookie format (v4+).\n */\nconst signingSecret = (secret) => (0,_panva_hkdf__WEBPACK_IMPORTED_MODULE_1__.hkdf)(\"sha256\", secret, \"\", \"JWS Cookie Signing\", BYTE_LENGTH);\n/**\n * Verify a signed cookie. If the cookie is valid, the value is returned. Otherwise, undefined is returned.\n * This method is used solely to migrate signed, legacy cookies to the new encrypted cookie format (v4+).\n */\nasync function verifySigned(k, v, secret) {\n    if (!v) {\n        return undefined;\n    }\n    const [value, signature] = v.split(\".\");\n    const flattenedJWS = {\n        protected: jose__WEBPACK_IMPORTED_MODULE_4__.encode(JSON.stringify({ alg: \"HS256\", b64: false, crit: [\"b64\"] })),\n        payload: `${k}=${value}`,\n        signature\n    };\n    const key = await signingSecret(secret);\n    try {\n        await jose__WEBPACK_IMPORTED_MODULE_5__.flattenedVerify(flattenedJWS, key, {\n            algorithms: [\"HS256\"]\n        });\n        return value;\n    }\n    catch (e) {\n        return undefined;\n    }\n}\n/**\n * Sign a cookie value using a secret.\n * This method is used solely to migrate signed, legacy cookies to the new encrypted cookie format (v4+).\n */\nasync function sign(name, value, secret) {\n    const key = await signingSecret(secret);\n    const { signature } = await new jose__WEBPACK_IMPORTED_MODULE_6__.FlattenedSign(new TextEncoder().encode(`${name}=${value}`))\n        .setProtectedHeader({ alg: \"HS256\", b64: false, crit: [\"b64\"] })\n        .sign(key);\n    return `${value}.${signature}`;\n}\n\n\n// Chunked cookies Configuration\nconst MAX_CHUNK_SIZE = 3500; // Slightly under 4KB\nconst CHUNK_PREFIX = \"__\";\nconst CHUNK_INDEX_REGEX = new RegExp(`${CHUNK_PREFIX}(\\\\d+)$`);\nconst LEGACY_CHUNK_INDEX_REGEX = /\\.(\\d+)$/;\n/**\n * Retrieves the index of a cookie based on its name.\n * Supports current format `{name}__{index}` and legacy format `{name}.{index}`.\n *\n * @param name - The name of the cookie.\n * @returns The index of the cookie. Returns undefined if no index is found.\n */\nconst getChunkedCookieIndex = (name, isLegacyCookie) => {\n    const match = isLegacyCookie\n        ? LEGACY_CHUNK_INDEX_REGEX.exec(name)\n        : CHUNK_INDEX_REGEX.exec(name);\n    if (!match) {\n        return undefined;\n    }\n    return parseInt(match[1], 10);\n};\n/**\n * Retrieves all cookies from the request that have names starting with a specific prefix.\n *\n * @param reqCookies - The cookies from the request.\n * @param name - The base name of the cookies to retrieve.\n * @returns An array of cookies that have names starting with the specified prefix.\n */\nconst getAllChunkedCookies = (reqCookies, name, isLegacyCookie) => {\n    const chunkedCookieRegex = new RegExp(isLegacyCookie\n        ? `^${name}${LEGACY_CHUNK_INDEX_REGEX.source}$`\n        : `^${name}${CHUNK_PREFIX}\\\\d+$`);\n    return reqCookies\n        .getAll()\n        .filter((cookie) => chunkedCookieRegex.test(cookie.name));\n};\n/**\n * Sets a cookie with the given name and value, splitting it into chunks if necessary.\n *\n * If the value exceeds the maximum chunk size, it will be split into multiple cookies\n * with names suffixed by a chunk index.\n *\n * @param name - The name of the cookie.\n * @param value - The value to be stored in the cookie.\n * @param options - Options for setting the cookie.\n * @param reqCookies - The request cookies object, used to enable read-after-write in the same request for middleware.\n * @param resCookies - The response cookies object, used to set the cookies in the response.\n */\nfunction setChunkedCookie(name, value, options, reqCookies, resCookies) {\n    const { transient, ...restOptions } = options;\n    const finalOptions = { ...restOptions };\n    if (transient) {\n        delete finalOptions.maxAge;\n    }\n    const valueBytes = new TextEncoder().encode(value).length;\n    // If value fits in a single cookie, set it directly\n    if (valueBytes <= MAX_CHUNK_SIZE) {\n        resCookies.set(name, value, finalOptions);\n        // to enable read-after-write in the same request for middleware\n        reqCookies.set(name, value);\n        // When we are writing a non-chunked cookie, we should remove the chunked cookies\n        // Remove any previously stored chunks for this cookie name\n        getAllChunkedCookies(reqCookies, name).forEach((cookieChunk) => {\n            deleteCookie(resCookies, cookieChunk.name, {\n                path: finalOptions.path,\n                domain: finalOptions.domain\n            });\n            reqCookies.delete(cookieChunk.name);\n        });\n        return;\n    }\n    // Split value into chunks\n    let position = 0;\n    let chunkIndex = 0;\n    while (position < value.length) {\n        const chunk = value.slice(position, position + MAX_CHUNK_SIZE);\n        const chunkName = `${name}${CHUNK_PREFIX}${chunkIndex}`;\n        resCookies.set(chunkName, chunk, finalOptions);\n        // to enable read-after-write in the same request for middleware\n        reqCookies.set(chunkName, chunk);\n        position += MAX_CHUNK_SIZE;\n        chunkIndex++;\n    }\n    // clear unused chunks\n    const chunks = getAllChunkedCookies(reqCookies, name);\n    const chunksToRemove = chunks.length - chunkIndex;\n    if (chunksToRemove > 0) {\n        for (let i = 0; i < chunksToRemove; i++) {\n            const chunkIndexToRemove = chunkIndex + i;\n            const chunkName = `${name}${CHUNK_PREFIX}${chunkIndexToRemove}`;\n            deleteCookie(resCookies, chunkName, {\n                path: finalOptions.path,\n                domain: finalOptions.domain\n            });\n            reqCookies.delete(chunkName);\n        }\n    }\n    // When we have written chunked cookies, we should remove the non-chunked cookie\n    deleteCookie(resCookies, name, {\n        path: finalOptions.path,\n        domain: finalOptions.domain\n    });\n    reqCookies.delete(name);\n}\n/**\n * Retrieves a chunked cookie by its name from the request cookies.\n * If a regular cookie with the given name exists, it returns its value.\n * Otherwise, it attempts to retrieve and combine all chunks of the cookie.\n *\n * @param name - The name of the cookie to retrieve.\n * @param reqCookies - The request cookies object.\n * @returns The combined value of the chunked cookie, or `undefined` if the cookie does not exist or is incomplete.\n */\nfunction getChunkedCookie(name, reqCookies, isLegacyCookie) {\n    // Check if regular cookie exists\n    const cookie = reqCookies.get(name);\n    if (cookie?.value) {\n        // If the base cookie exists, return its value (handles non-chunked case)\n        return cookie.value;\n    }\n    const chunks = getAllChunkedCookies(reqCookies, name, isLegacyCookie).sort(\n    // Extract index from cookie name and sort numerically\n    (first, second) => {\n        return (getChunkedCookieIndex(first.name, isLegacyCookie) -\n            getChunkedCookieIndex(second.name, isLegacyCookie));\n    });\n    if (chunks.length === 0) {\n        return undefined;\n    }\n    // Validate sequence integrity - check for missing chunks\n    const highestIndex = getChunkedCookieIndex(chunks[chunks.length - 1].name, isLegacyCookie);\n    if (chunks.length !== highestIndex + 1) {\n        console.warn(`Incomplete chunked cookie '${name}': Found ${chunks.length} chunks, expected ${highestIndex + 1}`);\n        return undefined;\n    }\n    // Combine all chunks\n    return chunks.map((c) => c.value).join(\"\");\n}\n/**\n * Deletes a chunked cookie and all its associated chunks from the response cookies.\n *\n * @param name - The name of the main cookie to delete.\n * @param reqCookies - The request cookies object containing all cookies from the request.\n * @param resCookies - The response cookies object to manipulate the cookies in the response.\n * @param isLegacyCookie - Whether to handle legacy cookie format.\n * @param options - Options for cookie deletion including domain and path.\n */\nfunction deleteChunkedCookie(name, reqCookies, resCookies, isLegacyCookie, options) {\n    // Delete main cookie\n    deleteCookie(resCookies, name, options);\n    getAllChunkedCookies(reqCookies, name, isLegacyCookie).forEach((cookie) => {\n        deleteCookie(resCookies, cookie.name, options); // Delete each filtered cookie\n    });\n}\n/**\n * Unconditionally adds strict cache-control headers to the response.\n *\n * This ensures the response is not cached by CDNs or other shared caches.\n * It is now the caller's responsibility to decide when to call this function.\n *\n * Usage:\n * Call this function whenever a `Set-Cookie` header is being written\n * for session management or any other sensitive data that must not be cached.\n */\nfunction addCacheControlHeadersForSession(res) {\n    res.headers.set(\"Cache-Control\", \"private, no-cache, no-store, must-revalidate, max-age=0\");\n    res.headers.set(\"Pragma\", \"no-cache\");\n    res.headers.set(\"Expires\", \"0\");\n}\n/**\n * Deletes a cookie from the response with optional domain and path specifications.\n *\n * @param resCookies - The response cookies object to manipulate.\n * @param name - The name of the cookie to delete.\n * @param options - Optional domain and path settings for cookie deletion.\n */\nfunction deleteCookie(resCookies, name, options) {\n    const deleteOptions = {\n        maxAge: 0 // Ensure the cookie is deleted immediately\n    };\n    if (options?.domain) {\n        deleteOptions.domain = options.domain;\n    }\n    if (options?.path) {\n        deleteOptions.path = options.path;\n    }\n    resCookies.set(name, \"\", deleteOptions);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0BhdXRoMC9uZXh0anMtYXV0aDAvZGlzdC9zZXJ2ZXIvY29va2llcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBd0U7QUFDckM7QUFDTjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxtQ0FBbUMsaURBQUk7QUFDdkMsc0NBQXNDLDRDQUFlO0FBQ3JELDhCQUE4QiwwQ0FBMEM7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsdUNBQXVDLGlEQUFJO0FBQzNDLDZCQUE2Qiw0Q0FBZTtBQUM1QztBQUNBLGlCQUFpQjtBQUNqQixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsaURBQUk7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsd0NBQXFCLGtCQUFrQix5Q0FBeUM7QUFDbkcsb0JBQW9CLEVBQUUsR0FBRyxNQUFNO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxpREFBb0I7QUFDbEM7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsWUFBWSxZQUFZLFlBQVksK0NBQWtCLDZCQUE2QixLQUFLLEdBQUcsTUFBTTtBQUNqRyw4QkFBOEIseUNBQXlDO0FBQ3ZFO0FBQ0EsY0FBYyxNQUFNLEdBQUcsVUFBVTtBQUNqQztBQUMyQjtBQUNEO0FBQzFCO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0Esd0NBQXdDLGFBQWE7QUFDckQ7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLEtBQUssR0FBRyxNQUFNLHNCQUFzQixLQUFLLEVBQUUsTUFBTTtBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsS0FBSyxFQUFFLGdDQUFnQztBQUNyRCxjQUFjLEtBQUssRUFBRSxhQUFhO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxZQUFZLDRCQUE0QjtBQUN4QywyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLEtBQUssRUFBRSxhQUFhLEVBQUUsV0FBVztBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixvQkFBb0I7QUFDNUM7QUFDQSxpQ0FBaUMsS0FBSyxFQUFFLGFBQWEsRUFBRSxtQkFBbUI7QUFDMUU7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELEtBQUssV0FBVyxlQUFlLG1CQUFtQixpQkFBaUI7QUFDdEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0Esd0RBQXdEO0FBQ3hELEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxAYXV0aDBcXG5leHRqcy1hdXRoMFxcZGlzdFxcc2VydmVyXFxjb29raWVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlcXVlc3RDb29raWVzLCBSZXNwb25zZUNvb2tpZXMgfSBmcm9tIFwiQGVkZ2UtcnVudGltZS9jb29raWVzXCI7XG5pbXBvcnQgeyBoa2RmIH0gZnJvbSBcIkBwYW52YS9oa2RmXCI7XG5pbXBvcnQgKiBhcyBqb3NlIGZyb20gXCJqb3NlXCI7XG5jb25zdCBFTkMgPSBcIkEyNTZHQ01cIjtcbmNvbnN0IEFMRyA9IFwiZGlyXCI7XG5jb25zdCBESUdFU1QgPSBcInNoYTI1NlwiO1xuY29uc3QgQllURV9MRU5HVEggPSAzMjtcbmNvbnN0IEVOQ1JZUFRJT05fSU5GTyA9IFwiSldFIENFS1wiO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGVuY3J5cHQocGF5bG9hZCwgc2VjcmV0LCBleHBpcmF0aW9uLCBhZGRpdGlvbmFsSGVhZGVycykge1xuICAgIGNvbnN0IGVuY3J5cHRpb25TZWNyZXQgPSBhd2FpdCBoa2RmKERJR0VTVCwgc2VjcmV0LCBcIlwiLCBFTkNSWVBUSU9OX0lORk8sIEJZVEVfTEVOR1RIKTtcbiAgICBjb25zdCBlbmNyeXB0ZWRDb29raWUgPSBhd2FpdCBuZXcgam9zZS5FbmNyeXB0SldUKHBheWxvYWQpXG4gICAgICAgIC5zZXRQcm90ZWN0ZWRIZWFkZXIoeyBlbmM6IEVOQywgYWxnOiBBTEcsIC4uLmFkZGl0aW9uYWxIZWFkZXJzIH0pXG4gICAgICAgIC5zZXRFeHBpcmF0aW9uVGltZShleHBpcmF0aW9uKVxuICAgICAgICAuZW5jcnlwdChlbmNyeXB0aW9uU2VjcmV0KTtcbiAgICByZXR1cm4gZW5jcnlwdGVkQ29va2llLnRvU3RyaW5nKCk7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVjcnlwdChjb29raWVWYWx1ZSwgc2VjcmV0LCBvcHRpb25zKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZW5jcnlwdGlvblNlY3JldCA9IGF3YWl0IGhrZGYoRElHRVNULCBzZWNyZXQsIFwiXCIsIEVOQ1JZUFRJT05fSU5GTywgQllURV9MRU5HVEgpO1xuICAgICAgICBjb25zdCBjb29raWUgPSBhd2FpdCBqb3NlLmp3dERlY3J5cHQoY29va2llVmFsdWUsIGVuY3J5cHRpb25TZWNyZXQsIHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICAuLi57IGNsb2NrVG9sZXJhbmNlOiAxNSB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY29va2llO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoZS5jb2RlID09PSBcIkVSUl9KV1RfRVhQSVJFRFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBlO1xuICAgIH1cbn1cbi8qKlxuICogRGVyaXZlIGEgc2lnbmluZyBrZXkgZnJvbSBhIGdpdmVuIHNlY3JldC5cbiAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgc29sZWx5IHRvIG1pZ3JhdGUgc2lnbmVkLCBsZWdhY3kgY29va2llcyB0byB0aGUgbmV3IGVuY3J5cHRlZCBjb29raWUgZm9ybWF0ICh2NCspLlxuICovXG5jb25zdCBzaWduaW5nU2VjcmV0ID0gKHNlY3JldCkgPT4gaGtkZihcInNoYTI1NlwiLCBzZWNyZXQsIFwiXCIsIFwiSldTIENvb2tpZSBTaWduaW5nXCIsIEJZVEVfTEVOR1RIKTtcbi8qKlxuICogVmVyaWZ5IGEgc2lnbmVkIGNvb2tpZS4gSWYgdGhlIGNvb2tpZSBpcyB2YWxpZCwgdGhlIHZhbHVlIGlzIHJldHVybmVkLiBPdGhlcndpc2UsIHVuZGVmaW5lZCBpcyByZXR1cm5lZC5cbiAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgc29sZWx5IHRvIG1pZ3JhdGUgc2lnbmVkLCBsZWdhY3kgY29va2llcyB0byB0aGUgbmV3IGVuY3J5cHRlZCBjb29raWUgZm9ybWF0ICh2NCspLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdmVyaWZ5U2lnbmVkKGssIHYsIHNlY3JldCkge1xuICAgIGlmICghdikge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25zdCBbdmFsdWUsIHNpZ25hdHVyZV0gPSB2LnNwbGl0KFwiLlwiKTtcbiAgICBjb25zdCBmbGF0dGVuZWRKV1MgPSB7XG4gICAgICAgIHByb3RlY3RlZDogam9zZS5iYXNlNjR1cmwuZW5jb2RlKEpTT04uc3RyaW5naWZ5KHsgYWxnOiBcIkhTMjU2XCIsIGI2NDogZmFsc2UsIGNyaXQ6IFtcImI2NFwiXSB9KSksXG4gICAgICAgIHBheWxvYWQ6IGAke2t9PSR7dmFsdWV9YCxcbiAgICAgICAgc2lnbmF0dXJlXG4gICAgfTtcbiAgICBjb25zdCBrZXkgPSBhd2FpdCBzaWduaW5nU2VjcmV0KHNlY3JldCk7XG4gICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgam9zZS5mbGF0dGVuZWRWZXJpZnkoZmxhdHRlbmVkSldTLCBrZXksIHtcbiAgICAgICAgICAgIGFsZ29yaXRobXM6IFtcIkhTMjU2XCJdXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxufVxuLyoqXG4gKiBTaWduIGEgY29va2llIHZhbHVlIHVzaW5nIGEgc2VjcmV0LlxuICogVGhpcyBtZXRob2QgaXMgdXNlZCBzb2xlbHkgdG8gbWlncmF0ZSBzaWduZWQsIGxlZ2FjeSBjb29raWVzIHRvIHRoZSBuZXcgZW5jcnlwdGVkIGNvb2tpZSBmb3JtYXQgKHY0KykuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaWduKG5hbWUsIHZhbHVlLCBzZWNyZXQpIHtcbiAgICBjb25zdCBrZXkgPSBhd2FpdCBzaWduaW5nU2VjcmV0KHNlY3JldCk7XG4gICAgY29uc3QgeyBzaWduYXR1cmUgfSA9IGF3YWl0IG5ldyBqb3NlLkZsYXR0ZW5lZFNpZ24obmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKGAke25hbWV9PSR7dmFsdWV9YCkpXG4gICAgICAgIC5zZXRQcm90ZWN0ZWRIZWFkZXIoeyBhbGc6IFwiSFMyNTZcIiwgYjY0OiBmYWxzZSwgY3JpdDogW1wiYjY0XCJdIH0pXG4gICAgICAgIC5zaWduKGtleSk7XG4gICAgcmV0dXJuIGAke3ZhbHVlfS4ke3NpZ25hdHVyZX1gO1xufVxuZXhwb3J0IHsgUmVzcG9uc2VDb29raWVzIH07XG5leHBvcnQgeyBSZXF1ZXN0Q29va2llcyB9O1xuLy8gQ2h1bmtlZCBjb29raWVzIENvbmZpZ3VyYXRpb25cbmNvbnN0IE1BWF9DSFVOS19TSVpFID0gMzUwMDsgLy8gU2xpZ2h0bHkgdW5kZXIgNEtCXG5jb25zdCBDSFVOS19QUkVGSVggPSBcIl9fXCI7XG5jb25zdCBDSFVOS19JTkRFWF9SRUdFWCA9IG5ldyBSZWdFeHAoYCR7Q0hVTktfUFJFRklYfShcXFxcZCspJGApO1xuY29uc3QgTEVHQUNZX0NIVU5LX0lOREVYX1JFR0VYID0gL1xcLihcXGQrKSQvO1xuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIGluZGV4IG9mIGEgY29va2llIGJhc2VkIG9uIGl0cyBuYW1lLlxuICogU3VwcG9ydHMgY3VycmVudCBmb3JtYXQgYHtuYW1lfV9fe2luZGV4fWAgYW5kIGxlZ2FjeSBmb3JtYXQgYHtuYW1lfS57aW5kZXh9YC5cbiAqXG4gKiBAcGFyYW0gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBjb29raWUuXG4gKiBAcmV0dXJucyBUaGUgaW5kZXggb2YgdGhlIGNvb2tpZS4gUmV0dXJucyB1bmRlZmluZWQgaWYgbm8gaW5kZXggaXMgZm91bmQuXG4gKi9cbmNvbnN0IGdldENodW5rZWRDb29raWVJbmRleCA9IChuYW1lLCBpc0xlZ2FjeUNvb2tpZSkgPT4ge1xuICAgIGNvbnN0IG1hdGNoID0gaXNMZWdhY3lDb29raWVcbiAgICAgICAgPyBMRUdBQ1lfQ0hVTktfSU5ERVhfUkVHRVguZXhlYyhuYW1lKVxuICAgICAgICA6IENIVU5LX0lOREVYX1JFR0VYLmV4ZWMobmFtZSk7XG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gcGFyc2VJbnQobWF0Y2hbMV0sIDEwKTtcbn07XG4vKipcbiAqIFJldHJpZXZlcyBhbGwgY29va2llcyBmcm9tIHRoZSByZXF1ZXN0IHRoYXQgaGF2ZSBuYW1lcyBzdGFydGluZyB3aXRoIGEgc3BlY2lmaWMgcHJlZml4LlxuICpcbiAqIEBwYXJhbSByZXFDb29raWVzIC0gVGhlIGNvb2tpZXMgZnJvbSB0aGUgcmVxdWVzdC5cbiAqIEBwYXJhbSBuYW1lIC0gVGhlIGJhc2UgbmFtZSBvZiB0aGUgY29va2llcyB0byByZXRyaWV2ZS5cbiAqIEByZXR1cm5zIEFuIGFycmF5IG9mIGNvb2tpZXMgdGhhdCBoYXZlIG5hbWVzIHN0YXJ0aW5nIHdpdGggdGhlIHNwZWNpZmllZCBwcmVmaXguXG4gKi9cbmNvbnN0IGdldEFsbENodW5rZWRDb29raWVzID0gKHJlcUNvb2tpZXMsIG5hbWUsIGlzTGVnYWN5Q29va2llKSA9PiB7XG4gICAgY29uc3QgY2h1bmtlZENvb2tpZVJlZ2V4ID0gbmV3IFJlZ0V4cChpc0xlZ2FjeUNvb2tpZVxuICAgICAgICA/IGBeJHtuYW1lfSR7TEVHQUNZX0NIVU5LX0lOREVYX1JFR0VYLnNvdXJjZX0kYFxuICAgICAgICA6IGBeJHtuYW1lfSR7Q0hVTktfUFJFRklYfVxcXFxkKyRgKTtcbiAgICByZXR1cm4gcmVxQ29va2llc1xuICAgICAgICAuZ2V0QWxsKClcbiAgICAgICAgLmZpbHRlcigoY29va2llKSA9PiBjaHVua2VkQ29va2llUmVnZXgudGVzdChjb29raWUubmFtZSkpO1xufTtcbi8qKlxuICogU2V0cyBhIGNvb2tpZSB3aXRoIHRoZSBnaXZlbiBuYW1lIGFuZCB2YWx1ZSwgc3BsaXR0aW5nIGl0IGludG8gY2h1bmtzIGlmIG5lY2Vzc2FyeS5cbiAqXG4gKiBJZiB0aGUgdmFsdWUgZXhjZWVkcyB0aGUgbWF4aW11bSBjaHVuayBzaXplLCBpdCB3aWxsIGJlIHNwbGl0IGludG8gbXVsdGlwbGUgY29va2llc1xuICogd2l0aCBuYW1lcyBzdWZmaXhlZCBieSBhIGNodW5rIGluZGV4LlxuICpcbiAqIEBwYXJhbSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGNvb2tpZS5cbiAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBiZSBzdG9yZWQgaW4gdGhlIGNvb2tpZS5cbiAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucyBmb3Igc2V0dGluZyB0aGUgY29va2llLlxuICogQHBhcmFtIHJlcUNvb2tpZXMgLSBUaGUgcmVxdWVzdCBjb29raWVzIG9iamVjdCwgdXNlZCB0byBlbmFibGUgcmVhZC1hZnRlci13cml0ZSBpbiB0aGUgc2FtZSByZXF1ZXN0IGZvciBtaWRkbGV3YXJlLlxuICogQHBhcmFtIHJlc0Nvb2tpZXMgLSBUaGUgcmVzcG9uc2UgY29va2llcyBvYmplY3QsIHVzZWQgdG8gc2V0IHRoZSBjb29raWVzIGluIHRoZSByZXNwb25zZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldENodW5rZWRDb29raWUobmFtZSwgdmFsdWUsIG9wdGlvbnMsIHJlcUNvb2tpZXMsIHJlc0Nvb2tpZXMpIHtcbiAgICBjb25zdCB7IHRyYW5zaWVudCwgLi4ucmVzdE9wdGlvbnMgfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgZmluYWxPcHRpb25zID0geyAuLi5yZXN0T3B0aW9ucyB9O1xuICAgIGlmICh0cmFuc2llbnQpIHtcbiAgICAgICAgZGVsZXRlIGZpbmFsT3B0aW9ucy5tYXhBZ2U7XG4gICAgfVxuICAgIGNvbnN0IHZhbHVlQnl0ZXMgPSBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUodmFsdWUpLmxlbmd0aDtcbiAgICAvLyBJZiB2YWx1ZSBmaXRzIGluIGEgc2luZ2xlIGNvb2tpZSwgc2V0IGl0IGRpcmVjdGx5XG4gICAgaWYgKHZhbHVlQnl0ZXMgPD0gTUFYX0NIVU5LX1NJWkUpIHtcbiAgICAgICAgcmVzQ29va2llcy5zZXQobmFtZSwgdmFsdWUsIGZpbmFsT3B0aW9ucyk7XG4gICAgICAgIC8vIHRvIGVuYWJsZSByZWFkLWFmdGVyLXdyaXRlIGluIHRoZSBzYW1lIHJlcXVlc3QgZm9yIG1pZGRsZXdhcmVcbiAgICAgICAgcmVxQ29va2llcy5zZXQobmFtZSwgdmFsdWUpO1xuICAgICAgICAvLyBXaGVuIHdlIGFyZSB3cml0aW5nIGEgbm9uLWNodW5rZWQgY29va2llLCB3ZSBzaG91bGQgcmVtb3ZlIHRoZSBjaHVua2VkIGNvb2tpZXNcbiAgICAgICAgLy8gUmVtb3ZlIGFueSBwcmV2aW91c2x5IHN0b3JlZCBjaHVua3MgZm9yIHRoaXMgY29va2llIG5hbWVcbiAgICAgICAgZ2V0QWxsQ2h1bmtlZENvb2tpZXMocmVxQ29va2llcywgbmFtZSkuZm9yRWFjaCgoY29va2llQ2h1bmspID0+IHtcbiAgICAgICAgICAgIGRlbGV0ZUNvb2tpZShyZXNDb29raWVzLCBjb29raWVDaHVuay5uYW1lLCB7XG4gICAgICAgICAgICAgICAgcGF0aDogZmluYWxPcHRpb25zLnBhdGgsXG4gICAgICAgICAgICAgICAgZG9tYWluOiBmaW5hbE9wdGlvbnMuZG9tYWluXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJlcUNvb2tpZXMuZGVsZXRlKGNvb2tpZUNodW5rLm5hbWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBTcGxpdCB2YWx1ZSBpbnRvIGNodW5rc1xuICAgIGxldCBwb3NpdGlvbiA9IDA7XG4gICAgbGV0IGNodW5rSW5kZXggPSAwO1xuICAgIHdoaWxlIChwb3NpdGlvbiA8IHZhbHVlLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBjaHVuayA9IHZhbHVlLnNsaWNlKHBvc2l0aW9uLCBwb3NpdGlvbiArIE1BWF9DSFVOS19TSVpFKTtcbiAgICAgICAgY29uc3QgY2h1bmtOYW1lID0gYCR7bmFtZX0ke0NIVU5LX1BSRUZJWH0ke2NodW5rSW5kZXh9YDtcbiAgICAgICAgcmVzQ29va2llcy5zZXQoY2h1bmtOYW1lLCBjaHVuaywgZmluYWxPcHRpb25zKTtcbiAgICAgICAgLy8gdG8gZW5hYmxlIHJlYWQtYWZ0ZXItd3JpdGUgaW4gdGhlIHNhbWUgcmVxdWVzdCBmb3IgbWlkZGxld2FyZVxuICAgICAgICByZXFDb29raWVzLnNldChjaHVua05hbWUsIGNodW5rKTtcbiAgICAgICAgcG9zaXRpb24gKz0gTUFYX0NIVU5LX1NJWkU7XG4gICAgICAgIGNodW5rSW5kZXgrKztcbiAgICB9XG4gICAgLy8gY2xlYXIgdW51c2VkIGNodW5rc1xuICAgIGNvbnN0IGNodW5rcyA9IGdldEFsbENodW5rZWRDb29raWVzKHJlcUNvb2tpZXMsIG5hbWUpO1xuICAgIGNvbnN0IGNodW5rc1RvUmVtb3ZlID0gY2h1bmtzLmxlbmd0aCAtIGNodW5rSW5kZXg7XG4gICAgaWYgKGNodW5rc1RvUmVtb3ZlID4gMCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNodW5rc1RvUmVtb3ZlOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGNodW5rSW5kZXhUb1JlbW92ZSA9IGNodW5rSW5kZXggKyBpO1xuICAgICAgICAgICAgY29uc3QgY2h1bmtOYW1lID0gYCR7bmFtZX0ke0NIVU5LX1BSRUZJWH0ke2NodW5rSW5kZXhUb1JlbW92ZX1gO1xuICAgICAgICAgICAgZGVsZXRlQ29va2llKHJlc0Nvb2tpZXMsIGNodW5rTmFtZSwge1xuICAgICAgICAgICAgICAgIHBhdGg6IGZpbmFsT3B0aW9ucy5wYXRoLFxuICAgICAgICAgICAgICAgIGRvbWFpbjogZmluYWxPcHRpb25zLmRvbWFpblxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXFDb29raWVzLmRlbGV0ZShjaHVua05hbWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFdoZW4gd2UgaGF2ZSB3cml0dGVuIGNodW5rZWQgY29va2llcywgd2Ugc2hvdWxkIHJlbW92ZSB0aGUgbm9uLWNodW5rZWQgY29va2llXG4gICAgZGVsZXRlQ29va2llKHJlc0Nvb2tpZXMsIG5hbWUsIHtcbiAgICAgICAgcGF0aDogZmluYWxPcHRpb25zLnBhdGgsXG4gICAgICAgIGRvbWFpbjogZmluYWxPcHRpb25zLmRvbWFpblxuICAgIH0pO1xuICAgIHJlcUNvb2tpZXMuZGVsZXRlKG5hbWUpO1xufVxuLyoqXG4gKiBSZXRyaWV2ZXMgYSBjaHVua2VkIGNvb2tpZSBieSBpdHMgbmFtZSBmcm9tIHRoZSByZXF1ZXN0IGNvb2tpZXMuXG4gKiBJZiBhIHJlZ3VsYXIgY29va2llIHdpdGggdGhlIGdpdmVuIG5hbWUgZXhpc3RzLCBpdCByZXR1cm5zIGl0cyB2YWx1ZS5cbiAqIE90aGVyd2lzZSwgaXQgYXR0ZW1wdHMgdG8gcmV0cmlldmUgYW5kIGNvbWJpbmUgYWxsIGNodW5rcyBvZiB0aGUgY29va2llLlxuICpcbiAqIEBwYXJhbSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGNvb2tpZSB0byByZXRyaWV2ZS5cbiAqIEBwYXJhbSByZXFDb29raWVzIC0gVGhlIHJlcXVlc3QgY29va2llcyBvYmplY3QuXG4gKiBAcmV0dXJucyBUaGUgY29tYmluZWQgdmFsdWUgb2YgdGhlIGNodW5rZWQgY29va2llLCBvciBgdW5kZWZpbmVkYCBpZiB0aGUgY29va2llIGRvZXMgbm90IGV4aXN0IG9yIGlzIGluY29tcGxldGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDaHVua2VkQ29va2llKG5hbWUsIHJlcUNvb2tpZXMsIGlzTGVnYWN5Q29va2llKSB7XG4gICAgLy8gQ2hlY2sgaWYgcmVndWxhciBjb29raWUgZXhpc3RzXG4gICAgY29uc3QgY29va2llID0gcmVxQ29va2llcy5nZXQobmFtZSk7XG4gICAgaWYgKGNvb2tpZT8udmFsdWUpIHtcbiAgICAgICAgLy8gSWYgdGhlIGJhc2UgY29va2llIGV4aXN0cywgcmV0dXJuIGl0cyB2YWx1ZSAoaGFuZGxlcyBub24tY2h1bmtlZCBjYXNlKVxuICAgICAgICByZXR1cm4gY29va2llLnZhbHVlO1xuICAgIH1cbiAgICBjb25zdCBjaHVua3MgPSBnZXRBbGxDaHVua2VkQ29va2llcyhyZXFDb29raWVzLCBuYW1lLCBpc0xlZ2FjeUNvb2tpZSkuc29ydChcbiAgICAvLyBFeHRyYWN0IGluZGV4IGZyb20gY29va2llIG5hbWUgYW5kIHNvcnQgbnVtZXJpY2FsbHlcbiAgICAoZmlyc3QsIHNlY29uZCkgPT4ge1xuICAgICAgICByZXR1cm4gKGdldENodW5rZWRDb29raWVJbmRleChmaXJzdC5uYW1lLCBpc0xlZ2FjeUNvb2tpZSkgLVxuICAgICAgICAgICAgZ2V0Q2h1bmtlZENvb2tpZUluZGV4KHNlY29uZC5uYW1lLCBpc0xlZ2FjeUNvb2tpZSkpO1xuICAgIH0pO1xuICAgIGlmIChjaHVua3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8vIFZhbGlkYXRlIHNlcXVlbmNlIGludGVncml0eSAtIGNoZWNrIGZvciBtaXNzaW5nIGNodW5rc1xuICAgIGNvbnN0IGhpZ2hlc3RJbmRleCA9IGdldENodW5rZWRDb29raWVJbmRleChjaHVua3NbY2h1bmtzLmxlbmd0aCAtIDFdLm5hbWUsIGlzTGVnYWN5Q29va2llKTtcbiAgICBpZiAoY2h1bmtzLmxlbmd0aCAhPT0gaGlnaGVzdEluZGV4ICsgMSkge1xuICAgICAgICBjb25zb2xlLndhcm4oYEluY29tcGxldGUgY2h1bmtlZCBjb29raWUgJyR7bmFtZX0nOiBGb3VuZCAke2NodW5rcy5sZW5ndGh9IGNodW5rcywgZXhwZWN0ZWQgJHtoaWdoZXN0SW5kZXggKyAxfWApO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvLyBDb21iaW5lIGFsbCBjaHVua3NcbiAgICByZXR1cm4gY2h1bmtzLm1hcCgoYykgPT4gYy52YWx1ZSkuam9pbihcIlwiKTtcbn1cbi8qKlxuICogRGVsZXRlcyBhIGNodW5rZWQgY29va2llIGFuZCBhbGwgaXRzIGFzc29jaWF0ZWQgY2h1bmtzIGZyb20gdGhlIHJlc3BvbnNlIGNvb2tpZXMuXG4gKlxuICogQHBhcmFtIG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgbWFpbiBjb29raWUgdG8gZGVsZXRlLlxuICogQHBhcmFtIHJlcUNvb2tpZXMgLSBUaGUgcmVxdWVzdCBjb29raWVzIG9iamVjdCBjb250YWluaW5nIGFsbCBjb29raWVzIGZyb20gdGhlIHJlcXVlc3QuXG4gKiBAcGFyYW0gcmVzQ29va2llcyAtIFRoZSByZXNwb25zZSBjb29raWVzIG9iamVjdCB0byBtYW5pcHVsYXRlIHRoZSBjb29raWVzIGluIHRoZSByZXNwb25zZS5cbiAqIEBwYXJhbSBpc0xlZ2FjeUNvb2tpZSAtIFdoZXRoZXIgdG8gaGFuZGxlIGxlZ2FjeSBjb29raWUgZm9ybWF0LlxuICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25zIGZvciBjb29raWUgZGVsZXRpb24gaW5jbHVkaW5nIGRvbWFpbiBhbmQgcGF0aC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZUNodW5rZWRDb29raWUobmFtZSwgcmVxQ29va2llcywgcmVzQ29va2llcywgaXNMZWdhY3lDb29raWUsIG9wdGlvbnMpIHtcbiAgICAvLyBEZWxldGUgbWFpbiBjb29raWVcbiAgICBkZWxldGVDb29raWUocmVzQ29va2llcywgbmFtZSwgb3B0aW9ucyk7XG4gICAgZ2V0QWxsQ2h1bmtlZENvb2tpZXMocmVxQ29va2llcywgbmFtZSwgaXNMZWdhY3lDb29raWUpLmZvckVhY2goKGNvb2tpZSkgPT4ge1xuICAgICAgICBkZWxldGVDb29raWUocmVzQ29va2llcywgY29va2llLm5hbWUsIG9wdGlvbnMpOyAvLyBEZWxldGUgZWFjaCBmaWx0ZXJlZCBjb29raWVcbiAgICB9KTtcbn1cbi8qKlxuICogVW5jb25kaXRpb25hbGx5IGFkZHMgc3RyaWN0IGNhY2hlLWNvbnRyb2wgaGVhZGVycyB0byB0aGUgcmVzcG9uc2UuXG4gKlxuICogVGhpcyBlbnN1cmVzIHRoZSByZXNwb25zZSBpcyBub3QgY2FjaGVkIGJ5IENETnMgb3Igb3RoZXIgc2hhcmVkIGNhY2hlcy5cbiAqIEl0IGlzIG5vdyB0aGUgY2FsbGVyJ3MgcmVzcG9uc2liaWxpdHkgdG8gZGVjaWRlIHdoZW4gdG8gY2FsbCB0aGlzIGZ1bmN0aW9uLlxuICpcbiAqIFVzYWdlOlxuICogQ2FsbCB0aGlzIGZ1bmN0aW9uIHdoZW5ldmVyIGEgYFNldC1Db29raWVgIGhlYWRlciBpcyBiZWluZyB3cml0dGVuXG4gKiBmb3Igc2Vzc2lvbiBtYW5hZ2VtZW50IG9yIGFueSBvdGhlciBzZW5zaXRpdmUgZGF0YSB0aGF0IG11c3Qgbm90IGJlIGNhY2hlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZENhY2hlQ29udHJvbEhlYWRlcnNGb3JTZXNzaW9uKHJlcykge1xuICAgIHJlcy5oZWFkZXJzLnNldChcIkNhY2hlLUNvbnRyb2xcIiwgXCJwcml2YXRlLCBuby1jYWNoZSwgbm8tc3RvcmUsIG11c3QtcmV2YWxpZGF0ZSwgbWF4LWFnZT0wXCIpO1xuICAgIHJlcy5oZWFkZXJzLnNldChcIlByYWdtYVwiLCBcIm5vLWNhY2hlXCIpO1xuICAgIHJlcy5oZWFkZXJzLnNldChcIkV4cGlyZXNcIiwgXCIwXCIpO1xufVxuLyoqXG4gKiBEZWxldGVzIGEgY29va2llIGZyb20gdGhlIHJlc3BvbnNlIHdpdGggb3B0aW9uYWwgZG9tYWluIGFuZCBwYXRoIHNwZWNpZmljYXRpb25zLlxuICpcbiAqIEBwYXJhbSByZXNDb29raWVzIC0gVGhlIHJlc3BvbnNlIGNvb2tpZXMgb2JqZWN0IHRvIG1hbmlwdWxhdGUuXG4gKiBAcGFyYW0gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBjb29raWUgdG8gZGVsZXRlLlxuICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25hbCBkb21haW4gYW5kIHBhdGggc2V0dGluZ3MgZm9yIGNvb2tpZSBkZWxldGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZUNvb2tpZShyZXNDb29raWVzLCBuYW1lLCBvcHRpb25zKSB7XG4gICAgY29uc3QgZGVsZXRlT3B0aW9ucyA9IHtcbiAgICAgICAgbWF4QWdlOiAwIC8vIEVuc3VyZSB0aGUgY29va2llIGlzIGRlbGV0ZWQgaW1tZWRpYXRlbHlcbiAgICB9O1xuICAgIGlmIChvcHRpb25zPy5kb21haW4pIHtcbiAgICAgICAgZGVsZXRlT3B0aW9ucy5kb21haW4gPSBvcHRpb25zLmRvbWFpbjtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnM/LnBhdGgpIHtcbiAgICAgICAgZGVsZXRlT3B0aW9ucy5wYXRoID0gb3B0aW9ucy5wYXRoO1xuICAgIH1cbiAgICByZXNDb29raWVzLnNldChuYW1lLCBcIlwiLCBkZWxldGVPcHRpb25zKTtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/cookies.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/fetcher.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@auth0/nextjs-auth0/dist/server/fetcher.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Fetcher: () => (/* binding */ Fetcher)\n/* harmony export */ });\n/* harmony import */ var oauth4webapi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! oauth4webapi */ \"(middleware)/./node_modules/oauth4webapi/build/index.js\");\n\n/**\n * Fetcher class for making authenticated HTTP requests with optional DPoP support.\n *\n * This class provides a high-level interface for making HTTP requests to protected resources\n * using OAuth 2.0 access tokens. It supports both standard Bearer token authentication and\n * DPoP (Demonstrating Proof-of-Possession) for enhanced security.\n *\n * Key Features:\n * - Automatic access token injection\n * - DPoP proof generation and nonce error retry\n * - Flexible URL handling (absolute and relative)\n * - Type-safe response handling\n * - Custom fetch implementation support\n *\n * @template TOutput - Response type that extends the standard Response interface\n *\n * @example\n * ```typescript\n * const fetcher = await auth0.createFetcher(req, {\n *   baseUrl: 'https://api.example.com',\n *   useDPoP: true\n * });\n *\n * const response = await fetcher.fetchWithAuth('/protected-resource', {\n *   method: 'POST',\n *   body: JSON.stringify({ data: 'example' })\n * });\n * ```\n */\nclass Fetcher {\n    constructor(config, hooks) {\n        this.hooks = hooks;\n        this.config = {\n            ...config,\n            fetch: config.fetch ||\n                // For easier testing and constructor compatibility with SSR.\n                (typeof window === \"undefined\"\n                    ? fetch\n                    : window.fetch.bind(window))\n        };\n    }\n    /**\n     * Checks if a URL is absolute (includes protocol and domain).\n     *\n     * @param url - The URL string to test\n     * @returns True if the URL is absolute, false otherwise\n     *\n     * @example\n     * ```typescript\n     * fetcher.isAbsoluteUrl('https://api.example.com/data') // true\n     * fetcher.isAbsoluteUrl('/api/data') // false\n     * fetcher.isAbsoluteUrl('//example.com/api') // true\n     * ```\n     */\n    isAbsoluteUrl(url) {\n        try {\n            new URL(url);\n            return true;\n        }\n        catch {\n            return false;\n        }\n    }\n    /**\n     * Builds a complete URL from base URL and relative path.\n     *\n     * @param baseUrl - The base URL to resolve against (optional)\n     * @param url - The URL or path to resolve\n     * @returns The complete resolved URL\n     * @throws TypeError if url is relative but baseUrl is not provided\n     *\n     * @example\n     * ```typescript\n     * fetcher.buildUrl('https://api.example.com', '/users')\n     * // Returns: 'https://api.example.com/users'\n     * ```\n     */\n    buildUrl(baseUrl, url) {\n        if (url) {\n            if (this.isAbsoluteUrl(url)) {\n                return url;\n            }\n            if (baseUrl) {\n                return `${baseUrl.replace(/\\/?\\/$/, \"\")}/${url.replace(/^\\/+/, \"\")}`;\n            }\n        }\n        throw new TypeError(\"`url` must be absolute or `baseUrl` non-empty.\");\n    }\n    /**\n     * Retrieves an access token for the current request.\n     * Uses the configured access token factory or falls back to the hooks implementation.\n     *\n     * @param getAccessTokenOptions - Options for token retrieval (scope, audience, etc.)\n     * @returns Promise that resolves to the access token string\n     *\n     * @example\n     * ```typescript\n     * const token = await fetcher.getAccessToken({\n     *   scope: 'read:data',\n     *   audience: 'https://api.example.com'\n     * });\n     * ```\n     */\n    getAccessToken(getAccessTokenOptions) {\n        return this.config.getAccessToken\n            ? this.config.getAccessToken(getAccessTokenOptions ?? {})\n            : this.hooks.getAccessToken(getAccessTokenOptions ?? {});\n    }\n    buildBaseRequest(info, init) {\n        // Handle URL resolution before creating Request object\n        let resolvedUrl;\n        if (info instanceof Request) {\n            // If info is already a Request object, use its URL\n            resolvedUrl = info.url;\n        }\n        else if (info instanceof URL) {\n            // If info is a URL object, convert to string\n            resolvedUrl = info.toString();\n        }\n        else {\n            // info is a string - check if we need to resolve it with baseUrl\n            if (this.config.baseUrl && !this.isAbsoluteUrl(info)) {\n                // Resolve relative URL with baseUrl\n                resolvedUrl = this.buildUrl(this.config.baseUrl, info);\n            }\n            else {\n                // Use as-is (either absolute URL or no baseUrl configured)\n                resolvedUrl = info;\n            }\n        }\n        // Create Request object with resolved URL\n        return new Request(resolvedUrl, init);\n    }\n    getHeader(headers, name) {\n        if (Array.isArray(headers)) {\n            return new Headers(headers).get(name) || \"\";\n        }\n        if (typeof headers.get === \"function\") {\n            return headers.get(name) || \"\";\n        }\n        return headers[name] || \"\";\n    }\n    async internalFetchWithAuth(info, init, callbacks, getAccessTokenOptions) {\n        const request = this.buildBaseRequest(info, init);\n        const accessTokenResponse = await this.getAccessToken(getAccessTokenOptions);\n        let useDpop;\n        let accessToken;\n        if (typeof accessTokenResponse === \"string\") {\n            useDpop = this.config.dpopHandle ? true : false;\n            accessToken = accessTokenResponse;\n        }\n        else {\n            useDpop = this.config.dpopHandle\n                ? accessTokenResponse.token_type?.toLowerCase() === \"dpop\"\n                : false;\n            accessToken = accessTokenResponse.accessToken;\n        }\n        try {\n            // Make (DPoP)-authenticated request using oauth4webapi\n            const response = await (0,oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.protectedResourceRequest)(accessToken, request.method, new URL(request.url), request.headers, request.body, {\n                ...this.config.httpOptions(),\n                [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.customFetch]: (url, options) => {\n                    return this.config.fetch(url, options);\n                },\n                [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.allowInsecureRequests]: this.config.allowInsecureRequests || false,\n                ...(useDpop && { DPoP: this.config.dpopHandle })\n            });\n            return response;\n        }\n        catch (error) {\n            // Use oauth4webapi's isDPoPNonceError to detect nonce errors\n            if ((0,oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.isDPoPNonceError)(error) && callbacks.onUseDpopNonceError) {\n                // Retry once with the callback\n                return callbacks.onUseDpopNonceError();\n            }\n            // Re-throw non-DPoP nonce errors or if no callback available\n            throw error;\n        }\n    }\n    isRequestInit(obj) {\n        if (!obj || typeof obj !== \"object\")\n            return false;\n        // Check for GetAccessTokenOptions-specific properties\n        // Since RequestInit and GetAccessTokenOptions have no common properties,\n        // if any GetAccessTokenOptions property is present, it's GetAccessTokenOptions\n        const getAccessTokenOptionsProps = [\"refresh\", \"scope\", \"audience\"];\n        const hasGetAccessTokenOptionsProp = getAccessTokenOptionsProps.some((prop) => Object.prototype.hasOwnProperty.call(obj, prop));\n        // If it has GetAccessTokenOptions props, it's NOT RequestInit\n        // Otherwise, default to RequestInit (backwards compatibility)\n        return !hasGetAccessTokenOptionsProp;\n    }\n    // Implementation\n    fetchWithAuth(info, initOrOptions, getAccessTokenOptions) {\n        // Parameter disambiguation for 2-argument case\n        let init;\n        let accessTokenOptions;\n        if (arguments.length === 2 && initOrOptions !== undefined) {\n            // Determine if second argument is RequestInit or GetAccessTokenOptions\n            if (this.isRequestInit(initOrOptions)) {\n                init = initOrOptions;\n                accessTokenOptions = undefined;\n            }\n            else {\n                init = undefined;\n                accessTokenOptions = initOrOptions;\n            }\n        }\n        else {\n            // 3-argument case or 1-argument case\n            init = initOrOptions;\n            accessTokenOptions = getAccessTokenOptions;\n        }\n        const callbacks = {\n            onUseDpopNonceError: async () => {\n                // Use configured retry values or defaults\n                const retryConfig = this.config.retryConfig ?? {\n                    delay: 100,\n                    jitter: true\n                };\n                let delay = retryConfig.delay ?? 100;\n                // Apply jitter if enabled\n                if (retryConfig.jitter) {\n                    delay = delay * (0.5 + Math.random() * 0.5); // 50-100% of original delay\n                }\n                await new Promise((resolve) => setTimeout(resolve, delay));\n                try {\n                    return await this.internalFetchWithAuth(info, init, {\n                        ...callbacks,\n                        // Retry on a `use_dpop_nonce` error, but just once.\n                        onUseDpopNonceError: undefined\n                    }, accessTokenOptions);\n                }\n                catch (retryError) {\n                    // If the retry also fails, enhance the error with context\n                    if ((0,oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.isDPoPNonceError)(retryError)) {\n                        const enhancedError = new Error(`DPoP nonce error persisted after retry: ${retryError.message}`);\n                        enhancedError.code =\n                            retryError.code || \"dpop_nonce_retry_failed\";\n                        throw enhancedError;\n                    }\n                    // For non-DPoP errors, just re-throw\n                    throw retryError;\n                }\n            }\n        };\n        return this.internalFetchWithAuth(info, init, callbacks, accessTokenOptions);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0BhdXRoMC9uZXh0anMtYXV0aDAvZGlzdC9zZXJ2ZXIvZmV0Y2hlci5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUE4RztBQUM5RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGlCQUFpQjtBQUM3QyxJQUFJO0FBQ0o7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiw4QkFBOEIsR0FBRyx3QkFBd0I7QUFDbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRUFBb0U7QUFDcEUsbUVBQW1FO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLHNFQUF3QjtBQUMzRDtBQUNBLGlCQUFpQixxREFBVztBQUM1QjtBQUNBLGlCQUFpQjtBQUNqQixpQkFBaUIsK0RBQXFCO0FBQ3RDLGlDQUFpQyw4QkFBOEI7QUFDL0QsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDhEQUFnQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWlFO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qiw4REFBZ0I7QUFDeEMsbUdBQW1HLG1CQUFtQjtBQUN0SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXEBhdXRoMFxcbmV4dGpzLWF1dGgwXFxkaXN0XFxzZXJ2ZXJcXGZldGNoZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYWxsb3dJbnNlY3VyZVJlcXVlc3RzLCBjdXN0b21GZXRjaCwgaXNEUG9QTm9uY2VFcnJvciwgcHJvdGVjdGVkUmVzb3VyY2VSZXF1ZXN0IH0gZnJvbSBcIm9hdXRoNHdlYmFwaVwiO1xuLyoqXG4gKiBGZXRjaGVyIGNsYXNzIGZvciBtYWtpbmcgYXV0aGVudGljYXRlZCBIVFRQIHJlcXVlc3RzIHdpdGggb3B0aW9uYWwgRFBvUCBzdXBwb3J0LlxuICpcbiAqIFRoaXMgY2xhc3MgcHJvdmlkZXMgYSBoaWdoLWxldmVsIGludGVyZmFjZSBmb3IgbWFraW5nIEhUVFAgcmVxdWVzdHMgdG8gcHJvdGVjdGVkIHJlc291cmNlc1xuICogdXNpbmcgT0F1dGggMi4wIGFjY2VzcyB0b2tlbnMuIEl0IHN1cHBvcnRzIGJvdGggc3RhbmRhcmQgQmVhcmVyIHRva2VuIGF1dGhlbnRpY2F0aW9uIGFuZFxuICogRFBvUCAoRGVtb25zdHJhdGluZyBQcm9vZi1vZi1Qb3NzZXNzaW9uKSBmb3IgZW5oYW5jZWQgc2VjdXJpdHkuXG4gKlxuICogS2V5IEZlYXR1cmVzOlxuICogLSBBdXRvbWF0aWMgYWNjZXNzIHRva2VuIGluamVjdGlvblxuICogLSBEUG9QIHByb29mIGdlbmVyYXRpb24gYW5kIG5vbmNlIGVycm9yIHJldHJ5XG4gKiAtIEZsZXhpYmxlIFVSTCBoYW5kbGluZyAoYWJzb2x1dGUgYW5kIHJlbGF0aXZlKVxuICogLSBUeXBlLXNhZmUgcmVzcG9uc2UgaGFuZGxpbmdcbiAqIC0gQ3VzdG9tIGZldGNoIGltcGxlbWVudGF0aW9uIHN1cHBvcnRcbiAqXG4gKiBAdGVtcGxhdGUgVE91dHB1dCAtIFJlc3BvbnNlIHR5cGUgdGhhdCBleHRlbmRzIHRoZSBzdGFuZGFyZCBSZXNwb25zZSBpbnRlcmZhY2VcbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHlwZXNjcmlwdFxuICogY29uc3QgZmV0Y2hlciA9IGF3YWl0IGF1dGgwLmNyZWF0ZUZldGNoZXIocmVxLCB7XG4gKiAgIGJhc2VVcmw6ICdodHRwczovL2FwaS5leGFtcGxlLmNvbScsXG4gKiAgIHVzZURQb1A6IHRydWVcbiAqIH0pO1xuICpcbiAqIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2hlci5mZXRjaFdpdGhBdXRoKCcvcHJvdGVjdGVkLXJlc291cmNlJywge1xuICogICBtZXRob2Q6ICdQT1NUJyxcbiAqICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBkYXRhOiAnZXhhbXBsZScgfSlcbiAqIH0pO1xuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBGZXRjaGVyIHtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcsIGhvb2tzKSB7XG4gICAgICAgIHRoaXMuaG9va3MgPSBob29rcztcbiAgICAgICAgdGhpcy5jb25maWcgPSB7XG4gICAgICAgICAgICAuLi5jb25maWcsXG4gICAgICAgICAgICBmZXRjaDogY29uZmlnLmZldGNoIHx8XG4gICAgICAgICAgICAgICAgLy8gRm9yIGVhc2llciB0ZXN0aW5nIGFuZCBjb25zdHJ1Y3RvciBjb21wYXRpYmlsaXR5IHdpdGggU1NSLlxuICAgICAgICAgICAgICAgICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICAgICAgICAgID8gZmV0Y2hcbiAgICAgICAgICAgICAgICAgICAgOiB3aW5kb3cuZmV0Y2guYmluZCh3aW5kb3cpKVxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBVUkwgaXMgYWJzb2x1dGUgKGluY2x1ZGVzIHByb3RvY29sIGFuZCBkb21haW4pLlxuICAgICAqXG4gICAgICogQHBhcmFtIHVybCAtIFRoZSBVUkwgc3RyaW5nIHRvIHRlc3RcbiAgICAgKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBVUkwgaXMgYWJzb2x1dGUsIGZhbHNlIG90aGVyd2lzZVxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogZmV0Y2hlci5pc0Fic29sdXRlVXJsKCdodHRwczovL2FwaS5leGFtcGxlLmNvbS9kYXRhJykgLy8gdHJ1ZVxuICAgICAqIGZldGNoZXIuaXNBYnNvbHV0ZVVybCgnL2FwaS9kYXRhJykgLy8gZmFsc2VcbiAgICAgKiBmZXRjaGVyLmlzQWJzb2x1dGVVcmwoJy8vZXhhbXBsZS5jb20vYXBpJykgLy8gdHJ1ZVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIGlzQWJzb2x1dGVVcmwodXJsKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBuZXcgVVJMKHVybCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQnVpbGRzIGEgY29tcGxldGUgVVJMIGZyb20gYmFzZSBVUkwgYW5kIHJlbGF0aXZlIHBhdGguXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYmFzZVVybCAtIFRoZSBiYXNlIFVSTCB0byByZXNvbHZlIGFnYWluc3QgKG9wdGlvbmFsKVxuICAgICAqIEBwYXJhbSB1cmwgLSBUaGUgVVJMIG9yIHBhdGggdG8gcmVzb2x2ZVxuICAgICAqIEByZXR1cm5zIFRoZSBjb21wbGV0ZSByZXNvbHZlZCBVUkxcbiAgICAgKiBAdGhyb3dzIFR5cGVFcnJvciBpZiB1cmwgaXMgcmVsYXRpdmUgYnV0IGJhc2VVcmwgaXMgbm90IHByb3ZpZGVkXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBmZXRjaGVyLmJ1aWxkVXJsKCdodHRwczovL2FwaS5leGFtcGxlLmNvbScsICcvdXNlcnMnKVxuICAgICAqIC8vIFJldHVybnM6ICdodHRwczovL2FwaS5leGFtcGxlLmNvbS91c2VycydcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBidWlsZFVybChiYXNlVXJsLCB1cmwpIHtcbiAgICAgICAgaWYgKHVybCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNBYnNvbHV0ZVVybCh1cmwpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVybDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChiYXNlVXJsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2Jhc2VVcmwucmVwbGFjZSgvXFwvP1xcLyQvLCBcIlwiKX0vJHt1cmwucmVwbGFjZSgvXlxcLysvLCBcIlwiKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJgdXJsYCBtdXN0IGJlIGFic29sdXRlIG9yIGBiYXNlVXJsYCBub24tZW1wdHkuXCIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgYW4gYWNjZXNzIHRva2VuIGZvciB0aGUgY3VycmVudCByZXF1ZXN0LlxuICAgICAqIFVzZXMgdGhlIGNvbmZpZ3VyZWQgYWNjZXNzIHRva2VuIGZhY3Rvcnkgb3IgZmFsbHMgYmFjayB0byB0aGUgaG9va3MgaW1wbGVtZW50YXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZ2V0QWNjZXNzVG9rZW5PcHRpb25zIC0gT3B0aW9ucyBmb3IgdG9rZW4gcmV0cmlldmFsIChzY29wZSwgYXVkaWVuY2UsIGV0Yy4pXG4gICAgICogQHJldHVybnMgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSBhY2Nlc3MgdG9rZW4gc3RyaW5nXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBjb25zdCB0b2tlbiA9IGF3YWl0IGZldGNoZXIuZ2V0QWNjZXNzVG9rZW4oe1xuICAgICAqICAgc2NvcGU6ICdyZWFkOmRhdGEnLFxuICAgICAqICAgYXVkaWVuY2U6ICdodHRwczovL2FwaS5leGFtcGxlLmNvbSdcbiAgICAgKiB9KTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBnZXRBY2Nlc3NUb2tlbihnZXRBY2Nlc3NUb2tlbk9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLmdldEFjY2Vzc1Rva2VuXG4gICAgICAgICAgICA/IHRoaXMuY29uZmlnLmdldEFjY2Vzc1Rva2VuKGdldEFjY2Vzc1Rva2VuT3B0aW9ucyA/PyB7fSlcbiAgICAgICAgICAgIDogdGhpcy5ob29rcy5nZXRBY2Nlc3NUb2tlbihnZXRBY2Nlc3NUb2tlbk9wdGlvbnMgPz8ge30pO1xuICAgIH1cbiAgICBidWlsZEJhc2VSZXF1ZXN0KGluZm8sIGluaXQpIHtcbiAgICAgICAgLy8gSGFuZGxlIFVSTCByZXNvbHV0aW9uIGJlZm9yZSBjcmVhdGluZyBSZXF1ZXN0IG9iamVjdFxuICAgICAgICBsZXQgcmVzb2x2ZWRVcmw7XG4gICAgICAgIGlmIChpbmZvIGluc3RhbmNlb2YgUmVxdWVzdCkge1xuICAgICAgICAgICAgLy8gSWYgaW5mbyBpcyBhbHJlYWR5IGEgUmVxdWVzdCBvYmplY3QsIHVzZSBpdHMgVVJMXG4gICAgICAgICAgICByZXNvbHZlZFVybCA9IGluZm8udXJsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGluZm8gaW5zdGFuY2VvZiBVUkwpIHtcbiAgICAgICAgICAgIC8vIElmIGluZm8gaXMgYSBVUkwgb2JqZWN0LCBjb252ZXJ0IHRvIHN0cmluZ1xuICAgICAgICAgICAgcmVzb2x2ZWRVcmwgPSBpbmZvLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBpbmZvIGlzIGEgc3RyaW5nIC0gY2hlY2sgaWYgd2UgbmVlZCB0byByZXNvbHZlIGl0IHdpdGggYmFzZVVybFxuICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLmJhc2VVcmwgJiYgIXRoaXMuaXNBYnNvbHV0ZVVybChpbmZvKSkge1xuICAgICAgICAgICAgICAgIC8vIFJlc29sdmUgcmVsYXRpdmUgVVJMIHdpdGggYmFzZVVybFxuICAgICAgICAgICAgICAgIHJlc29sdmVkVXJsID0gdGhpcy5idWlsZFVybCh0aGlzLmNvbmZpZy5iYXNlVXJsLCBpbmZvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFVzZSBhcy1pcyAoZWl0aGVyIGFic29sdXRlIFVSTCBvciBubyBiYXNlVXJsIGNvbmZpZ3VyZWQpXG4gICAgICAgICAgICAgICAgcmVzb2x2ZWRVcmwgPSBpbmZvO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIENyZWF0ZSBSZXF1ZXN0IG9iamVjdCB3aXRoIHJlc29sdmVkIFVSTFxuICAgICAgICByZXR1cm4gbmV3IFJlcXVlc3QocmVzb2x2ZWRVcmwsIGluaXQpO1xuICAgIH1cbiAgICBnZXRIZWFkZXIoaGVhZGVycywgbmFtZSkge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShoZWFkZXJzKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBIZWFkZXJzKGhlYWRlcnMpLmdldChuYW1lKSB8fCBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgaGVhZGVycy5nZXQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgcmV0dXJuIGhlYWRlcnMuZ2V0KG5hbWUpIHx8IFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhlYWRlcnNbbmFtZV0gfHwgXCJcIjtcbiAgICB9XG4gICAgYXN5bmMgaW50ZXJuYWxGZXRjaFdpdGhBdXRoKGluZm8sIGluaXQsIGNhbGxiYWNrcywgZ2V0QWNjZXNzVG9rZW5PcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSB0aGlzLmJ1aWxkQmFzZVJlcXVlc3QoaW5mbywgaW5pdCk7XG4gICAgICAgIGNvbnN0IGFjY2Vzc1Rva2VuUmVzcG9uc2UgPSBhd2FpdCB0aGlzLmdldEFjY2Vzc1Rva2VuKGdldEFjY2Vzc1Rva2VuT3B0aW9ucyk7XG4gICAgICAgIGxldCB1c2VEcG9wO1xuICAgICAgICBsZXQgYWNjZXNzVG9rZW47XG4gICAgICAgIGlmICh0eXBlb2YgYWNjZXNzVG9rZW5SZXNwb25zZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgdXNlRHBvcCA9IHRoaXMuY29uZmlnLmRwb3BIYW5kbGUgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgICAgICBhY2Nlc3NUb2tlbiA9IGFjY2Vzc1Rva2VuUmVzcG9uc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB1c2VEcG9wID0gdGhpcy5jb25maWcuZHBvcEhhbmRsZVxuICAgICAgICAgICAgICAgID8gYWNjZXNzVG9rZW5SZXNwb25zZS50b2tlbl90eXBlPy50b0xvd2VyQ2FzZSgpID09PSBcImRwb3BcIlxuICAgICAgICAgICAgICAgIDogZmFsc2U7XG4gICAgICAgICAgICBhY2Nlc3NUb2tlbiA9IGFjY2Vzc1Rva2VuUmVzcG9uc2UuYWNjZXNzVG9rZW47XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIE1ha2UgKERQb1ApLWF1dGhlbnRpY2F0ZWQgcmVxdWVzdCB1c2luZyBvYXV0aDR3ZWJhcGlcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcHJvdGVjdGVkUmVzb3VyY2VSZXF1ZXN0KGFjY2Vzc1Rva2VuLCByZXF1ZXN0Lm1ldGhvZCwgbmV3IFVSTChyZXF1ZXN0LnVybCksIHJlcXVlc3QuaGVhZGVycywgcmVxdWVzdC5ib2R5LCB7XG4gICAgICAgICAgICAgICAgLi4udGhpcy5jb25maWcuaHR0cE9wdGlvbnMoKSxcbiAgICAgICAgICAgICAgICBbY3VzdG9tRmV0Y2hdOiAodXJsLCBvcHRpb25zKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbmZpZy5mZXRjaCh1cmwsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgW2FsbG93SW5zZWN1cmVSZXF1ZXN0c106IHRoaXMuY29uZmlnLmFsbG93SW5zZWN1cmVSZXF1ZXN0cyB8fCBmYWxzZSxcbiAgICAgICAgICAgICAgICAuLi4odXNlRHBvcCAmJiB7IERQb1A6IHRoaXMuY29uZmlnLmRwb3BIYW5kbGUgfSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgLy8gVXNlIG9hdXRoNHdlYmFwaSdzIGlzRFBvUE5vbmNlRXJyb3IgdG8gZGV0ZWN0IG5vbmNlIGVycm9yc1xuICAgICAgICAgICAgaWYgKGlzRFBvUE5vbmNlRXJyb3IoZXJyb3IpICYmIGNhbGxiYWNrcy5vblVzZURwb3BOb25jZUVycm9yKSB7XG4gICAgICAgICAgICAgICAgLy8gUmV0cnkgb25jZSB3aXRoIHRoZSBjYWxsYmFja1xuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFja3Mub25Vc2VEcG9wTm9uY2VFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUmUtdGhyb3cgbm9uLURQb1Agbm9uY2UgZXJyb3JzIG9yIGlmIG5vIGNhbGxiYWNrIGF2YWlsYWJsZVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaXNSZXF1ZXN0SW5pdChvYmopIHtcbiAgICAgICAgaWYgKCFvYmogfHwgdHlwZW9mIG9iaiAhPT0gXCJvYmplY3RcIilcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgLy8gQ2hlY2sgZm9yIEdldEFjY2Vzc1Rva2VuT3B0aW9ucy1zcGVjaWZpYyBwcm9wZXJ0aWVzXG4gICAgICAgIC8vIFNpbmNlIFJlcXVlc3RJbml0IGFuZCBHZXRBY2Nlc3NUb2tlbk9wdGlvbnMgaGF2ZSBubyBjb21tb24gcHJvcGVydGllcyxcbiAgICAgICAgLy8gaWYgYW55IEdldEFjY2Vzc1Rva2VuT3B0aW9ucyBwcm9wZXJ0eSBpcyBwcmVzZW50LCBpdCdzIEdldEFjY2Vzc1Rva2VuT3B0aW9uc1xuICAgICAgICBjb25zdCBnZXRBY2Nlc3NUb2tlbk9wdGlvbnNQcm9wcyA9IFtcInJlZnJlc2hcIiwgXCJzY29wZVwiLCBcImF1ZGllbmNlXCJdO1xuICAgICAgICBjb25zdCBoYXNHZXRBY2Nlc3NUb2tlbk9wdGlvbnNQcm9wID0gZ2V0QWNjZXNzVG9rZW5PcHRpb25zUHJvcHMuc29tZSgocHJvcCkgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpO1xuICAgICAgICAvLyBJZiBpdCBoYXMgR2V0QWNjZXNzVG9rZW5PcHRpb25zIHByb3BzLCBpdCdzIE5PVCBSZXF1ZXN0SW5pdFxuICAgICAgICAvLyBPdGhlcndpc2UsIGRlZmF1bHQgdG8gUmVxdWVzdEluaXQgKGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5KVxuICAgICAgICByZXR1cm4gIWhhc0dldEFjY2Vzc1Rva2VuT3B0aW9uc1Byb3A7XG4gICAgfVxuICAgIC8vIEltcGxlbWVudGF0aW9uXG4gICAgZmV0Y2hXaXRoQXV0aChpbmZvLCBpbml0T3JPcHRpb25zLCBnZXRBY2Nlc3NUb2tlbk9wdGlvbnMpIHtcbiAgICAgICAgLy8gUGFyYW1ldGVyIGRpc2FtYmlndWF0aW9uIGZvciAyLWFyZ3VtZW50IGNhc2VcbiAgICAgICAgbGV0IGluaXQ7XG4gICAgICAgIGxldCBhY2Nlc3NUb2tlbk9wdGlvbnM7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyICYmIGluaXRPck9wdGlvbnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIGlmIHNlY29uZCBhcmd1bWVudCBpcyBSZXF1ZXN0SW5pdCBvciBHZXRBY2Nlc3NUb2tlbk9wdGlvbnNcbiAgICAgICAgICAgIGlmICh0aGlzLmlzUmVxdWVzdEluaXQoaW5pdE9yT3B0aW9ucykpIHtcbiAgICAgICAgICAgICAgICBpbml0ID0gaW5pdE9yT3B0aW9ucztcbiAgICAgICAgICAgICAgICBhY2Nlc3NUb2tlbk9wdGlvbnMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbml0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGFjY2Vzc1Rva2VuT3B0aW9ucyA9IGluaXRPck9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyAzLWFyZ3VtZW50IGNhc2Ugb3IgMS1hcmd1bWVudCBjYXNlXG4gICAgICAgICAgICBpbml0ID0gaW5pdE9yT3B0aW9ucztcbiAgICAgICAgICAgIGFjY2Vzc1Rva2VuT3B0aW9ucyA9IGdldEFjY2Vzc1Rva2VuT3B0aW9ucztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjYWxsYmFja3MgPSB7XG4gICAgICAgICAgICBvblVzZURwb3BOb25jZUVycm9yOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gVXNlIGNvbmZpZ3VyZWQgcmV0cnkgdmFsdWVzIG9yIGRlZmF1bHRzXG4gICAgICAgICAgICAgICAgY29uc3QgcmV0cnlDb25maWcgPSB0aGlzLmNvbmZpZy5yZXRyeUNvbmZpZyA/PyB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGF5OiAxMDAsXG4gICAgICAgICAgICAgICAgICAgIGppdHRlcjogdHJ1ZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgbGV0IGRlbGF5ID0gcmV0cnlDb25maWcuZGVsYXkgPz8gMTAwO1xuICAgICAgICAgICAgICAgIC8vIEFwcGx5IGppdHRlciBpZiBlbmFibGVkXG4gICAgICAgICAgICAgICAgaWYgKHJldHJ5Q29uZmlnLmppdHRlcikge1xuICAgICAgICAgICAgICAgICAgICBkZWxheSA9IGRlbGF5ICogKDAuNSArIE1hdGgucmFuZG9tKCkgKiAwLjUpOyAvLyA1MC0xMDAlIG9mIG9yaWdpbmFsIGRlbGF5XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIGRlbGF5KSk7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuaW50ZXJuYWxGZXRjaFdpdGhBdXRoKGluZm8sIGluaXQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmNhbGxiYWNrcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJldHJ5IG9uIGEgYHVzZV9kcG9wX25vbmNlYCBlcnJvciwgYnV0IGp1c3Qgb25jZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uVXNlRHBvcE5vbmNlRXJyb3I6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICB9LCBhY2Nlc3NUb2tlbk9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAocmV0cnlFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgcmV0cnkgYWxzbyBmYWlscywgZW5oYW5jZSB0aGUgZXJyb3Igd2l0aCBjb250ZXh0XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0RQb1BOb25jZUVycm9yKHJldHJ5RXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmhhbmNlZEVycm9yID0gbmV3IEVycm9yKGBEUG9QIG5vbmNlIGVycm9yIHBlcnNpc3RlZCBhZnRlciByZXRyeTogJHtyZXRyeUVycm9yLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmhhbmNlZEVycm9yLmNvZGUgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHJ5RXJyb3IuY29kZSB8fCBcImRwb3Bfbm9uY2VfcmV0cnlfZmFpbGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlbmhhbmNlZEVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIEZvciBub24tRFBvUCBlcnJvcnMsIGp1c3QgcmUtdGhyb3dcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgcmV0cnlFcnJvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLmludGVybmFsRmV0Y2hXaXRoQXV0aChpbmZvLCBpbml0LCBjYWxsYmFja3MsIGFjY2Vzc1Rva2VuT3B0aW9ucyk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/fetcher.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/helpers/with-api-auth-required.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@auth0/nextjs-auth0/dist/server/helpers/with-api-auth-required.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   appRouteHandlerFactory: () => (/* binding */ appRouteHandlerFactory),\n/* harmony export */   pageRouteHandlerFactory: () => (/* binding */ pageRouteHandlerFactory)\n/* harmony export */ });\n/* harmony import */ var next_server_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server.js */ \"(middleware)/./node_modules/next/dist/esm/api/server.js\");\n\nconst appRouteHandlerFactory = (client) => (apiRoute) => async (req, params) => {\n    const session = await client.getSession();\n    if (!session || !session.user) {\n        return next_server_js__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"not_authenticated\",\n            description: \"The user does not have an active session or is not authenticated\"\n        }, { status: 401 });\n    }\n    const apiRes = await apiRoute(req, params);\n    const nextApiRes = apiRes instanceof next_server_js__WEBPACK_IMPORTED_MODULE_0__.NextResponse\n        ? apiRes\n        : new next_server_js__WEBPACK_IMPORTED_MODULE_0__.NextResponse(apiRes.body, apiRes);\n    return nextApiRes;\n};\nconst pageRouteHandlerFactory = (client) => (apiRoute) => async (req, res) => {\n    const session = await client.getSession(req);\n    if (!session || !session.user) {\n        // If the user is not authenticated, return\n        res.status(401).json({\n            error: \"not_authenticated\",\n            description: \"The user does not have an active session or is not authenticated\"\n        });\n        return;\n    }\n    await apiRoute(req, res);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0BhdXRoMC9uZXh0anMtYXV0aDAvZGlzdC9zZXJ2ZXIvaGVscGVycy93aXRoLWFwaS1hdXRoLXJlcXVpcmVkLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE4QztBQUN2QztBQUNQO0FBQ0E7QUFDQSxlQUFlLHdEQUFZO0FBQzNCO0FBQ0E7QUFDQSxTQUFTLElBQUksYUFBYTtBQUMxQjtBQUNBO0FBQ0EseUNBQXlDLHdEQUFZO0FBQ3JEO0FBQ0EsY0FBYyx3REFBWTtBQUMxQjtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXEBhdXRoMFxcbmV4dGpzLWF1dGgwXFxkaXN0XFxzZXJ2ZXJcXGhlbHBlcnNcXHdpdGgtYXBpLWF1dGgtcmVxdWlyZWQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvc2VydmVyLmpzXCI7XG5leHBvcnQgY29uc3QgYXBwUm91dGVIYW5kbGVyRmFjdG9yeSA9IChjbGllbnQpID0+IChhcGlSb3V0ZSkgPT4gYXN5bmMgKHJlcSwgcGFyYW1zKSA9PiB7XG4gICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGNsaWVudC5nZXRTZXNzaW9uKCk7XG4gICAgaWYgKCFzZXNzaW9uIHx8ICFzZXNzaW9uLnVzZXIpIHtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgICAgIGVycm9yOiBcIm5vdF9hdXRoZW50aWNhdGVkXCIsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJUaGUgdXNlciBkb2VzIG5vdCBoYXZlIGFuIGFjdGl2ZSBzZXNzaW9uIG9yIGlzIG5vdCBhdXRoZW50aWNhdGVkXCJcbiAgICAgICAgfSwgeyBzdGF0dXM6IDQwMSB9KTtcbiAgICB9XG4gICAgY29uc3QgYXBpUmVzID0gYXdhaXQgYXBpUm91dGUocmVxLCBwYXJhbXMpO1xuICAgIGNvbnN0IG5leHRBcGlSZXMgPSBhcGlSZXMgaW5zdGFuY2VvZiBOZXh0UmVzcG9uc2VcbiAgICAgICAgPyBhcGlSZXNcbiAgICAgICAgOiBuZXcgTmV4dFJlc3BvbnNlKGFwaVJlcy5ib2R5LCBhcGlSZXMpO1xuICAgIHJldHVybiBuZXh0QXBpUmVzO1xufTtcbmV4cG9ydCBjb25zdCBwYWdlUm91dGVIYW5kbGVyRmFjdG9yeSA9IChjbGllbnQpID0+IChhcGlSb3V0ZSkgPT4gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGNsaWVudC5nZXRTZXNzaW9uKHJlcSk7XG4gICAgaWYgKCFzZXNzaW9uIHx8ICFzZXNzaW9uLnVzZXIpIHtcbiAgICAgICAgLy8gSWYgdGhlIHVzZXIgaXMgbm90IGF1dGhlbnRpY2F0ZWQsIHJldHVyblxuICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7XG4gICAgICAgICAgICBlcnJvcjogXCJub3RfYXV0aGVudGljYXRlZFwiLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiVGhlIHVzZXIgZG9lcyBub3QgaGF2ZSBhbiBhY3RpdmUgc2Vzc2lvbiBvciBpcyBub3QgYXV0aGVudGljYXRlZFwiXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGF3YWl0IGFwaVJvdXRlKHJlcSwgcmVzKTtcbn07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/helpers/with-api-auth-required.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/helpers/with-page-auth-required.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@auth0/nextjs-auth0/dist/server/helpers/with-page-auth-required.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   appRouteHandlerFactory: () => (/* binding */ appRouteHandlerFactory),\n/* harmony export */   pageRouteHandlerFactory: () => (/* binding */ pageRouteHandlerFactory)\n/* harmony export */ });\nconst appRouteHandlerFactory = (client, config) => (handler, opts = {}) => async (params) => {\n    const session = await client.getSession();\n    if (!session?.user) {\n        const returnTo = typeof opts.returnTo === \"function\"\n            ? await opts.returnTo(params)\n            : opts.returnTo;\n        const { redirect } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! next/navigation.js */ \"(middleware)/./node_modules/next/dist/esm/api/navigation.react-server.js\"));\n        redirect(`${config.loginUrl}${opts.returnTo ? `?returnTo=${returnTo}` : \"\"}`);\n    }\n    return handler(params);\n};\nconst pageRouteHandlerFactory = (client, config) => ({ getServerSideProps, returnTo } = {}) => async (ctx) => {\n    const session = await client.getSession(ctx.req);\n    if (!session?.user) {\n        return {\n            redirect: {\n                destination: `${config.loginUrl}?returnTo=${encodeURIComponent(returnTo || ctx.resolvedUrl)}`,\n                permanent: false\n            }\n        };\n    }\n    let ret = { props: {} };\n    if (getServerSideProps) {\n        ret = await getServerSideProps(ctx);\n    }\n    if (ret.props instanceof Promise) {\n        const props = await ret.props;\n        return {\n            ...ret,\n            props: {\n                user: session.user,\n                ...props\n            }\n        };\n    }\n    return { ...ret, props: { user: session.user, ...ret.props } };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0BhdXRoMC9uZXh0anMtYXV0aDAvZGlzdC9zZXJ2ZXIvaGVscGVycy93aXRoLXBhZ2UtYXV0aC1yZXF1aXJlZC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFPLHNFQUFzRTtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFdBQVcsUUFBUSwwTEFBNEI7QUFDL0Qsb0JBQW9CLGdCQUFnQixFQUFFLDZCQUE2QixTQUFTLE9BQU87QUFDbkY7QUFDQTtBQUNBO0FBQ08sdURBQXVELCtCQUErQixJQUFJO0FBQ2pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGdCQUFnQixZQUFZLGdEQUFnRDtBQUM1RztBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsaUJBQWlCO0FBQzlCIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxAYXV0aDBcXG5leHRqcy1hdXRoMFxcZGlzdFxcc2VydmVyXFxoZWxwZXJzXFx3aXRoLXBhZ2UtYXV0aC1yZXF1aXJlZC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgYXBwUm91dGVIYW5kbGVyRmFjdG9yeSA9IChjbGllbnQsIGNvbmZpZykgPT4gKGhhbmRsZXIsIG9wdHMgPSB7fSkgPT4gYXN5bmMgKHBhcmFtcykgPT4ge1xuICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBjbGllbnQuZ2V0U2Vzc2lvbigpO1xuICAgIGlmICghc2Vzc2lvbj8udXNlcikge1xuICAgICAgICBjb25zdCByZXR1cm5UbyA9IHR5cGVvZiBvcHRzLnJldHVyblRvID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICAgID8gYXdhaXQgb3B0cy5yZXR1cm5UbyhwYXJhbXMpXG4gICAgICAgICAgICA6IG9wdHMucmV0dXJuVG87XG4gICAgICAgIGNvbnN0IHsgcmVkaXJlY3QgfSA9IGF3YWl0IGltcG9ydChcIm5leHQvbmF2aWdhdGlvbi5qc1wiKTtcbiAgICAgICAgcmVkaXJlY3QoYCR7Y29uZmlnLmxvZ2luVXJsfSR7b3B0cy5yZXR1cm5UbyA/IGA/cmV0dXJuVG89JHtyZXR1cm5Ub31gIDogXCJcIn1gKTtcbiAgICB9XG4gICAgcmV0dXJuIGhhbmRsZXIocGFyYW1zKTtcbn07XG5leHBvcnQgY29uc3QgcGFnZVJvdXRlSGFuZGxlckZhY3RvcnkgPSAoY2xpZW50LCBjb25maWcpID0+ICh7IGdldFNlcnZlclNpZGVQcm9wcywgcmV0dXJuVG8gfSA9IHt9KSA9PiBhc3luYyAoY3R4KSA9PiB7XG4gICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGNsaWVudC5nZXRTZXNzaW9uKGN0eC5yZXEpO1xuICAgIGlmICghc2Vzc2lvbj8udXNlcikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVkaXJlY3Q6IHtcbiAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbjogYCR7Y29uZmlnLmxvZ2luVXJsfT9yZXR1cm5Ubz0ke2VuY29kZVVSSUNvbXBvbmVudChyZXR1cm5UbyB8fCBjdHgucmVzb2x2ZWRVcmwpfWAsXG4gICAgICAgICAgICAgICAgcGVybWFuZW50OiBmYWxzZVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBsZXQgcmV0ID0geyBwcm9wczoge30gfTtcbiAgICBpZiAoZ2V0U2VydmVyU2lkZVByb3BzKSB7XG4gICAgICAgIHJldCA9IGF3YWl0IGdldFNlcnZlclNpZGVQcm9wcyhjdHgpO1xuICAgIH1cbiAgICBpZiAocmV0LnByb3BzIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICBjb25zdCBwcm9wcyA9IGF3YWl0IHJldC5wcm9wcztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnJldCxcbiAgICAgICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgICAgICAgdXNlcjogc2Vzc2lvbi51c2VyLFxuICAgICAgICAgICAgICAgIC4uLnByb3BzXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7IC4uLnJldCwgcHJvcHM6IHsgdXNlcjogc2Vzc2lvbi51c2VyLCAuLi5yZXQucHJvcHMgfSB9O1xufTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/helpers/with-page-auth-required.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/@auth0/nextjs-auth0/dist/server/index.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbstractSessionStore: () => (/* reexport safe */ _session_abstract_session_store_js__WEBPACK_IMPORTED_MODULE_3__.AbstractSessionStore),\n/* harmony export */   Auth0Client: () => (/* reexport safe */ _client_js__WEBPACK_IMPORTED_MODULE_0__.Auth0Client),\n/* harmony export */   AuthClient: () => (/* reexport safe */ _auth_client_js__WEBPACK_IMPORTED_MODULE_1__.AuthClient),\n/* harmony export */   DEFAULT_ID_TOKEN_CLAIMS: () => (/* reexport safe */ _user_js__WEBPACK_IMPORTED_MODULE_4__.DEFAULT_ID_TOKEN_CLAIMS),\n/* harmony export */   TransactionStore: () => (/* reexport safe */ _transaction_store_js__WEBPACK_IMPORTED_MODULE_2__.TransactionStore),\n/* harmony export */   filterDefaultIdTokenClaims: () => (/* reexport safe */ _user_js__WEBPACK_IMPORTED_MODULE_4__.filterDefaultIdTokenClaims)\n/* harmony export */ });\n/* harmony import */ var _client_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./client.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/client.js\");\n/* harmony import */ var _auth_client_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./auth-client.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/auth-client.js\");\n/* harmony import */ var _transaction_store_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./transaction-store.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/transaction-store.js\");\n/* harmony import */ var _session_abstract_session_store_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./session/abstract-session-store.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/session/abstract-session-store.js\");\n/* harmony import */ var _user_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./user.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/user.js\");\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0BhdXRoMC9uZXh0anMtYXV0aDAvZGlzdC9zZXJ2ZXIvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBMEM7QUFDSTtBQUNZO0FBQ2lCO0FBQ0siLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXEBhdXRoMFxcbmV4dGpzLWF1dGgwXFxkaXN0XFxzZXJ2ZXJcXGluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IEF1dGgwQ2xpZW50IH0gZnJvbSBcIi4vY2xpZW50LmpzXCI7XG5leHBvcnQgeyBBdXRoQ2xpZW50IH0gZnJvbSBcIi4vYXV0aC1jbGllbnQuanNcIjtcbmV4cG9ydCB7IFRyYW5zYWN0aW9uU3RvcmUgfSBmcm9tIFwiLi90cmFuc2FjdGlvbi1zdG9yZS5qc1wiO1xuZXhwb3J0IHsgQWJzdHJhY3RTZXNzaW9uU3RvcmUgfSBmcm9tIFwiLi9zZXNzaW9uL2Fic3RyYWN0LXNlc3Npb24tc3RvcmUuanNcIjtcbmV4cG9ydCB7IGZpbHRlckRlZmF1bHRJZFRva2VuQ2xhaW1zLCBERUZBVUxUX0lEX1RPS0VOX0NMQUlNUyB9IGZyb20gXCIuL3VzZXIuanNcIjtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/index.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/session/abstract-session-store.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@auth0/nextjs-auth0/dist/server/session/abstract-session-store.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbstractSessionStore: () => (/* binding */ AbstractSessionStore)\n/* harmony export */ });\nconst SESSION_COOKIE_NAME = \"__session\";\nclass AbstractSessionStore {\n    constructor({ secret, rolling = true, absoluteDuration = 60 * 60 * 24 * 3, // 3 days in seconds\n    inactivityDuration = 60 * 60 * 24 * 1, // 1 day in seconds\n    store, cookieOptions }) {\n        this.secret = secret;\n        this.rolling = rolling;\n        this.absoluteDuration = absoluteDuration;\n        this.inactivityDuration = inactivityDuration;\n        this.store = store;\n        this.sessionCookieName = cookieOptions?.name ?? SESSION_COOKIE_NAME;\n        this.cookieConfig = {\n            httpOnly: true,\n            sameSite: cookieOptions?.sameSite ?? \"lax\",\n            secure: cookieOptions?.secure ?? false,\n            path: cookieOptions?.path ?? \"/\",\n            domain: cookieOptions?.domain,\n            transient: cookieOptions?.transient\n        };\n    }\n    /**\n     * epoch returns the time since unix epoch in seconds.\n     */\n    epoch() {\n        return (Date.now() / 1000) | 0;\n    }\n    /**\n     * calculateMaxAge calculates the max age of the session based on createdAt and the rolling and absolute durations.\n     */\n    calculateMaxAge(createdAt) {\n        if (!this.rolling) {\n            return this.absoluteDuration;\n        }\n        const updatedAt = this.epoch();\n        const expiresAt = Math.min(updatedAt + this.inactivityDuration, createdAt + this.absoluteDuration);\n        // Fix race condition: use the same updatedAt timestamp for consistency\n        const maxAge = expiresAt - updatedAt;\n        return maxAge > 0 ? maxAge : 0;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0BhdXRoMC9uZXh0anMtYXV0aDAvZGlzdC9zZXJ2ZXIvc2Vzc2lvbi9hYnN0cmFjdC1zZXNzaW9uLXN0b3JlLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNPO0FBQ1Asa0JBQWtCO0FBQ2xCO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXEBhdXRoMFxcbmV4dGpzLWF1dGgwXFxkaXN0XFxzZXJ2ZXJcXHNlc3Npb25cXGFic3RyYWN0LXNlc3Npb24tc3RvcmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgU0VTU0lPTl9DT09LSUVfTkFNRSA9IFwiX19zZXNzaW9uXCI7XG5leHBvcnQgY2xhc3MgQWJzdHJhY3RTZXNzaW9uU3RvcmUge1xuICAgIGNvbnN0cnVjdG9yKHsgc2VjcmV0LCByb2xsaW5nID0gdHJ1ZSwgYWJzb2x1dGVEdXJhdGlvbiA9IDYwICogNjAgKiAyNCAqIDMsIC8vIDMgZGF5cyBpbiBzZWNvbmRzXG4gICAgaW5hY3Rpdml0eUR1cmF0aW9uID0gNjAgKiA2MCAqIDI0ICogMSwgLy8gMSBkYXkgaW4gc2Vjb25kc1xuICAgIHN0b3JlLCBjb29raWVPcHRpb25zIH0pIHtcbiAgICAgICAgdGhpcy5zZWNyZXQgPSBzZWNyZXQ7XG4gICAgICAgIHRoaXMucm9sbGluZyA9IHJvbGxpbmc7XG4gICAgICAgIHRoaXMuYWJzb2x1dGVEdXJhdGlvbiA9IGFic29sdXRlRHVyYXRpb247XG4gICAgICAgIHRoaXMuaW5hY3Rpdml0eUR1cmF0aW9uID0gaW5hY3Rpdml0eUR1cmF0aW9uO1xuICAgICAgICB0aGlzLnN0b3JlID0gc3RvcmU7XG4gICAgICAgIHRoaXMuc2Vzc2lvbkNvb2tpZU5hbWUgPSBjb29raWVPcHRpb25zPy5uYW1lID8/IFNFU1NJT05fQ09PS0lFX05BTUU7XG4gICAgICAgIHRoaXMuY29va2llQ29uZmlnID0ge1xuICAgICAgICAgICAgaHR0cE9ubHk6IHRydWUsXG4gICAgICAgICAgICBzYW1lU2l0ZTogY29va2llT3B0aW9ucz8uc2FtZVNpdGUgPz8gXCJsYXhcIixcbiAgICAgICAgICAgIHNlY3VyZTogY29va2llT3B0aW9ucz8uc2VjdXJlID8/IGZhbHNlLFxuICAgICAgICAgICAgcGF0aDogY29va2llT3B0aW9ucz8ucGF0aCA/PyBcIi9cIixcbiAgICAgICAgICAgIGRvbWFpbjogY29va2llT3B0aW9ucz8uZG9tYWluLFxuICAgICAgICAgICAgdHJhbnNpZW50OiBjb29raWVPcHRpb25zPy50cmFuc2llbnRcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogZXBvY2ggcmV0dXJucyB0aGUgdGltZSBzaW5jZSB1bml4IGVwb2NoIGluIHNlY29uZHMuXG4gICAgICovXG4gICAgZXBvY2goKSB7XG4gICAgICAgIHJldHVybiAoRGF0ZS5ub3coKSAvIDEwMDApIHwgMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogY2FsY3VsYXRlTWF4QWdlIGNhbGN1bGF0ZXMgdGhlIG1heCBhZ2Ugb2YgdGhlIHNlc3Npb24gYmFzZWQgb24gY3JlYXRlZEF0IGFuZCB0aGUgcm9sbGluZyBhbmQgYWJzb2x1dGUgZHVyYXRpb25zLlxuICAgICAqL1xuICAgIGNhbGN1bGF0ZU1heEFnZShjcmVhdGVkQXQpIHtcbiAgICAgICAgaWYgKCF0aGlzLnJvbGxpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFic29sdXRlRHVyYXRpb247XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXBkYXRlZEF0ID0gdGhpcy5lcG9jaCgpO1xuICAgICAgICBjb25zdCBleHBpcmVzQXQgPSBNYXRoLm1pbih1cGRhdGVkQXQgKyB0aGlzLmluYWN0aXZpdHlEdXJhdGlvbiwgY3JlYXRlZEF0ICsgdGhpcy5hYnNvbHV0ZUR1cmF0aW9uKTtcbiAgICAgICAgLy8gRml4IHJhY2UgY29uZGl0aW9uOiB1c2UgdGhlIHNhbWUgdXBkYXRlZEF0IHRpbWVzdGFtcCBmb3IgY29uc2lzdGVuY3lcbiAgICAgICAgY29uc3QgbWF4QWdlID0gZXhwaXJlc0F0IC0gdXBkYXRlZEF0O1xuICAgICAgICByZXR1cm4gbWF4QWdlID4gMCA/IG1heEFnZSA6IDA7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/session/abstract-session-store.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/session/normalize-session.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@auth0/nextjs-auth0/dist/server/session/normalize-session.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LEGACY_COOKIE_NAME: () => (/* binding */ LEGACY_COOKIE_NAME),\n/* harmony export */   LegacySession: () => (/* binding */ LegacySession),\n/* harmony export */   normalizeStatefulSession: () => (/* binding */ normalizeStatefulSession),\n/* harmony export */   normalizeStatelessSession: () => (/* binding */ normalizeStatelessSession)\n/* harmony export */ });\nconst LEGACY_COOKIE_NAME = \"appSession\";\n/**\n * The user's session.\n */\nclass LegacySession {\n    constructor(user) {\n        this.user = user;\n    }\n}\nfunction normalizeStatelessSession(sessionCookie) {\n    // if the session cookie has an `iat` claim in the protected header, it's a legacy cookie\n    // otherwise, it's the new session cookie format and no transformation is needed\n    if (sessionCookie.protectedHeader.iat) {\n        const legacySession = sessionCookie;\n        return convertFromLegacy(legacySession.protectedHeader, legacySession.payload);\n    }\n    return sessionCookie.payload;\n}\nfunction normalizeStatefulSession(sessionData) {\n    if (sessionData.header?.iat) {\n        const legacySession = sessionData;\n        return convertFromLegacy(legacySession.header, legacySession.data);\n    }\n    return sessionData;\n}\nfunction convertFromLegacy(header, session) {\n    const userClaims = session.user;\n    return {\n        user: userClaims,\n        tokenSet: {\n            idToken: session.idToken ?? undefined,\n            accessToken: session.accessToken ?? undefined,\n            scope: session.accessTokenScope,\n            refreshToken: session.refreshToken,\n            expiresAt: session.accessTokenExpiresAt\n        },\n        internal: {\n            sid: userClaims.sid,\n            createdAt: header.iat\n        }\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0BhdXRoMC9uZXh0anMtYXV0aDAvZGlzdC9zZXJ2ZXIvc2Vzc2lvbi9ub3JtYWxpemUtc2Vzc2lvbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXEBhdXRoMFxcbmV4dGpzLWF1dGgwXFxkaXN0XFxzZXJ2ZXJcXHNlc3Npb25cXG5vcm1hbGl6ZS1zZXNzaW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBMRUdBQ1lfQ09PS0lFX05BTUUgPSBcImFwcFNlc3Npb25cIjtcbi8qKlxuICogVGhlIHVzZXIncyBzZXNzaW9uLlxuICovXG5leHBvcnQgY2xhc3MgTGVnYWN5U2Vzc2lvbiB7XG4gICAgY29uc3RydWN0b3IodXNlcikge1xuICAgICAgICB0aGlzLnVzZXIgPSB1c2VyO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVTdGF0ZWxlc3NTZXNzaW9uKHNlc3Npb25Db29raWUpIHtcbiAgICAvLyBpZiB0aGUgc2Vzc2lvbiBjb29raWUgaGFzIGFuIGBpYXRgIGNsYWltIGluIHRoZSBwcm90ZWN0ZWQgaGVhZGVyLCBpdCdzIGEgbGVnYWN5IGNvb2tpZVxuICAgIC8vIG90aGVyd2lzZSwgaXQncyB0aGUgbmV3IHNlc3Npb24gY29va2llIGZvcm1hdCBhbmQgbm8gdHJhbnNmb3JtYXRpb24gaXMgbmVlZGVkXG4gICAgaWYgKHNlc3Npb25Db29raWUucHJvdGVjdGVkSGVhZGVyLmlhdCkge1xuICAgICAgICBjb25zdCBsZWdhY3lTZXNzaW9uID0gc2Vzc2lvbkNvb2tpZTtcbiAgICAgICAgcmV0dXJuIGNvbnZlcnRGcm9tTGVnYWN5KGxlZ2FjeVNlc3Npb24ucHJvdGVjdGVkSGVhZGVyLCBsZWdhY3lTZXNzaW9uLnBheWxvYWQpO1xuICAgIH1cbiAgICByZXR1cm4gc2Vzc2lvbkNvb2tpZS5wYXlsb2FkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZVN0YXRlZnVsU2Vzc2lvbihzZXNzaW9uRGF0YSkge1xuICAgIGlmIChzZXNzaW9uRGF0YS5oZWFkZXI/LmlhdCkge1xuICAgICAgICBjb25zdCBsZWdhY3lTZXNzaW9uID0gc2Vzc2lvbkRhdGE7XG4gICAgICAgIHJldHVybiBjb252ZXJ0RnJvbUxlZ2FjeShsZWdhY3lTZXNzaW9uLmhlYWRlciwgbGVnYWN5U2Vzc2lvbi5kYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIHNlc3Npb25EYXRhO1xufVxuZnVuY3Rpb24gY29udmVydEZyb21MZWdhY3koaGVhZGVyLCBzZXNzaW9uKSB7XG4gICAgY29uc3QgdXNlckNsYWltcyA9IHNlc3Npb24udXNlcjtcbiAgICByZXR1cm4ge1xuICAgICAgICB1c2VyOiB1c2VyQ2xhaW1zLFxuICAgICAgICB0b2tlblNldDoge1xuICAgICAgICAgICAgaWRUb2tlbjogc2Vzc2lvbi5pZFRva2VuID8/IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGFjY2Vzc1Rva2VuOiBzZXNzaW9uLmFjY2Vzc1Rva2VuID8/IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHNjb3BlOiBzZXNzaW9uLmFjY2Vzc1Rva2VuU2NvcGUsXG4gICAgICAgICAgICByZWZyZXNoVG9rZW46IHNlc3Npb24ucmVmcmVzaFRva2VuLFxuICAgICAgICAgICAgZXhwaXJlc0F0OiBzZXNzaW9uLmFjY2Vzc1Rva2VuRXhwaXJlc0F0XG4gICAgICAgIH0sXG4gICAgICAgIGludGVybmFsOiB7XG4gICAgICAgICAgICBzaWQ6IHVzZXJDbGFpbXMuc2lkLFxuICAgICAgICAgICAgY3JlYXRlZEF0OiBoZWFkZXIuaWF0XG4gICAgICAgIH1cbiAgICB9O1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/session/normalize-session.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/session/stateful-session-store.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@auth0/nextjs-auth0/dist/server/session/stateful-session-store.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StatefulSessionStore: () => (/* binding */ StatefulSessionStore)\n/* harmony export */ });\n/* harmony import */ var _cookies_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../cookies.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/cookies.js\");\n/* harmony import */ var _abstract_session_store_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./abstract-session-store.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/session/abstract-session-store.js\");\n/* harmony import */ var _normalize_session_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./normalize-session.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/session/normalize-session.js\");\n\n\n\nconst generateId = () => {\n    const bytes = new Uint8Array(16);\n    crypto.getRandomValues(bytes);\n    return Array.from(bytes)\n        .map((b) => b.toString(16).padStart(2, \"0\"))\n        .join(\"\");\n};\nclass StatefulSessionStore extends _abstract_session_store_js__WEBPACK_IMPORTED_MODULE_1__.AbstractSessionStore {\n    constructor({ secret, store, rolling, absoluteDuration, inactivityDuration, cookieOptions }) {\n        super({\n            secret,\n            rolling,\n            absoluteDuration,\n            inactivityDuration,\n            cookieOptions\n        });\n        this.store = store;\n    }\n    async get(reqCookies) {\n        const cookie = reqCookies.get(this.sessionCookieName) ||\n            reqCookies.get(_normalize_session_js__WEBPACK_IMPORTED_MODULE_2__.LEGACY_COOKIE_NAME);\n        if (!cookie || !cookie.value) {\n            return null;\n        }\n        // we attempt to extract the session ID by decrypting the cookie value (assuming it's a JWE, v4+) first\n        // if that fails, we attempt to verify the cookie value as a signed cookie (legacy, v3-)\n        // if both fail, we return null\n        // this ensures that v3 sessions are respected and can be transparently rolled over to v4+ sessions\n        let sessionId = null;\n        try {\n            const sessionCookie = await _cookies_js__WEBPACK_IMPORTED_MODULE_0__.decrypt(cookie.value, this.secret);\n            if (sessionCookie === null) {\n                return null;\n            }\n            sessionId = sessionCookie.payload.id;\n        }\n        catch (e) {\n            // the session cookie could not be decrypted, try to verify if it's a legacy session\n            if (e.code === \"ERR_JWE_INVALID\") {\n                const legacySessionId = await _cookies_js__WEBPACK_IMPORTED_MODULE_0__.verifySigned(cookie.name, cookie.value, this.secret);\n                if (!legacySessionId) {\n                    return null;\n                }\n                sessionId = legacySessionId;\n            }\n        }\n        if (!sessionId) {\n            return null;\n        }\n        const session = await this.store.get(sessionId);\n        if (!session) {\n            return null;\n        }\n        return (0,_normalize_session_js__WEBPACK_IMPORTED_MODULE_2__.normalizeStatefulSession)(session);\n    }\n    async set(reqCookies, resCookies, session, isNew = false) {\n        // check if a session already exists. If so, maintain the existing session ID\n        let sessionId = null;\n        const cookieValue = reqCookies.get(this.sessionCookieName)?.value;\n        if (cookieValue) {\n            const sessionCookie = await _cookies_js__WEBPACK_IMPORTED_MODULE_0__.decrypt(cookieValue, this.secret);\n            if (sessionCookie) {\n                sessionId = sessionCookie.payload.id;\n            }\n        }\n        // if this is a new session created by a new login we need to remove the old session\n        // from the store and regenerate the session ID to prevent session fixation.\n        if (sessionId && isNew) {\n            await this.store.delete(sessionId);\n            sessionId = generateId();\n        }\n        if (!sessionId) {\n            sessionId = generateId();\n        }\n        const maxAge = this.calculateMaxAge(session.internal.createdAt);\n        // Use consistent timestamp to avoid race condition - align with calculateMaxAge logic\n        const now = this.epoch();\n        const expiration = now + maxAge;\n        const jwe = await _cookies_js__WEBPACK_IMPORTED_MODULE_0__.encrypt({\n            id: sessionId\n        }, this.secret, expiration);\n        resCookies.set(this.sessionCookieName, jwe.toString(), {\n            ...this.cookieConfig,\n            maxAge\n        });\n        await this.store.set(sessionId, session);\n        // to enable read-after-write in the same request for middleware\n        reqCookies.set(this.sessionCookieName, jwe.toString());\n        // Any existing v3 cookie can also be deleted once we have set a v4 cookie.\n        // In stateful sessions, we do not have to worry about chunking.\n        if (this.sessionCookieName !== _normalize_session_js__WEBPACK_IMPORTED_MODULE_2__.LEGACY_COOKIE_NAME &&\n            reqCookies.has(_normalize_session_js__WEBPACK_IMPORTED_MODULE_2__.LEGACY_COOKIE_NAME)) {\n            _cookies_js__WEBPACK_IMPORTED_MODULE_0__.deleteCookie(resCookies, _normalize_session_js__WEBPACK_IMPORTED_MODULE_2__.LEGACY_COOKIE_NAME, {\n                domain: this.cookieConfig.domain,\n                path: this.cookieConfig.path\n            });\n        }\n    }\n    async delete(reqCookies, resCookies) {\n        const cookieValue = reqCookies.get(this.sessionCookieName)?.value;\n        _cookies_js__WEBPACK_IMPORTED_MODULE_0__.deleteCookie(resCookies, this.sessionCookieName, {\n            domain: this.cookieConfig.domain,\n            path: this.cookieConfig.path\n        });\n        if (!cookieValue) {\n            return;\n        }\n        const session = await _cookies_js__WEBPACK_IMPORTED_MODULE_0__.decrypt(cookieValue, this.secret);\n        if (session) {\n            await this.store.delete(session.payload.id);\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0BhdXRoMC9uZXh0anMtYXV0aDAvZGlzdC9zZXJ2ZXIvc2Vzc2lvbi9zdGF0ZWZ1bC1zZXNzaW9uLXN0b3JlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBeUM7QUFDMEI7QUFDbUI7QUFDdEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxtQ0FBbUMsNEVBQW9CO0FBQzlELGtCQUFrQiw2RUFBNkU7QUFDL0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHFFQUFrQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsZ0RBQWU7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxxREFBb0I7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLCtFQUF3QjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsZ0RBQWU7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixnREFBZTtBQUN6QztBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxxRUFBa0I7QUFDekQsMkJBQTJCLHFFQUFrQjtBQUM3QyxZQUFZLHFEQUFvQixhQUFhLHFFQUFrQjtBQUMvRDtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxxREFBb0I7QUFDNUI7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsZ0RBQWU7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcQGF1dGgwXFxuZXh0anMtYXV0aDBcXGRpc3RcXHNlcnZlclxcc2Vzc2lvblxcc3RhdGVmdWwtc2Vzc2lvbi1zdG9yZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBjb29raWVzIGZyb20gXCIuLi9jb29raWVzLmpzXCI7XG5pbXBvcnQgeyBBYnN0cmFjdFNlc3Npb25TdG9yZSB9IGZyb20gXCIuL2Fic3RyYWN0LXNlc3Npb24tc3RvcmUuanNcIjtcbmltcG9ydCB7IExFR0FDWV9DT09LSUVfTkFNRSwgbm9ybWFsaXplU3RhdGVmdWxTZXNzaW9uIH0gZnJvbSBcIi4vbm9ybWFsaXplLXNlc3Npb24uanNcIjtcbmNvbnN0IGdlbmVyYXRlSWQgPSAoKSA9PiB7XG4gICAgY29uc3QgYnl0ZXMgPSBuZXcgVWludDhBcnJheSgxNik7XG4gICAgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhieXRlcyk7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oYnl0ZXMpXG4gICAgICAgIC5tYXAoKGIpID0+IGIudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsIFwiMFwiKSlcbiAgICAgICAgLmpvaW4oXCJcIik7XG59O1xuZXhwb3J0IGNsYXNzIFN0YXRlZnVsU2Vzc2lvblN0b3JlIGV4dGVuZHMgQWJzdHJhY3RTZXNzaW9uU3RvcmUge1xuICAgIGNvbnN0cnVjdG9yKHsgc2VjcmV0LCBzdG9yZSwgcm9sbGluZywgYWJzb2x1dGVEdXJhdGlvbiwgaW5hY3Rpdml0eUR1cmF0aW9uLCBjb29raWVPcHRpb25zIH0pIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgc2VjcmV0LFxuICAgICAgICAgICAgcm9sbGluZyxcbiAgICAgICAgICAgIGFic29sdXRlRHVyYXRpb24sXG4gICAgICAgICAgICBpbmFjdGl2aXR5RHVyYXRpb24sXG4gICAgICAgICAgICBjb29raWVPcHRpb25zXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnN0b3JlID0gc3RvcmU7XG4gICAgfVxuICAgIGFzeW5jIGdldChyZXFDb29raWVzKSB7XG4gICAgICAgIGNvbnN0IGNvb2tpZSA9IHJlcUNvb2tpZXMuZ2V0KHRoaXMuc2Vzc2lvbkNvb2tpZU5hbWUpIHx8XG4gICAgICAgICAgICByZXFDb29raWVzLmdldChMRUdBQ1lfQ09PS0lFX05BTUUpO1xuICAgICAgICBpZiAoIWNvb2tpZSB8fCAhY29va2llLnZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyB3ZSBhdHRlbXB0IHRvIGV4dHJhY3QgdGhlIHNlc3Npb24gSUQgYnkgZGVjcnlwdGluZyB0aGUgY29va2llIHZhbHVlIChhc3N1bWluZyBpdCdzIGEgSldFLCB2NCspIGZpcnN0XG4gICAgICAgIC8vIGlmIHRoYXQgZmFpbHMsIHdlIGF0dGVtcHQgdG8gdmVyaWZ5IHRoZSBjb29raWUgdmFsdWUgYXMgYSBzaWduZWQgY29va2llIChsZWdhY3ksIHYzLSlcbiAgICAgICAgLy8gaWYgYm90aCBmYWlsLCB3ZSByZXR1cm4gbnVsbFxuICAgICAgICAvLyB0aGlzIGVuc3VyZXMgdGhhdCB2MyBzZXNzaW9ucyBhcmUgcmVzcGVjdGVkIGFuZCBjYW4gYmUgdHJhbnNwYXJlbnRseSByb2xsZWQgb3ZlciB0byB2NCsgc2Vzc2lvbnNcbiAgICAgICAgbGV0IHNlc3Npb25JZCA9IG51bGw7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzZXNzaW9uQ29va2llID0gYXdhaXQgY29va2llcy5kZWNyeXB0KGNvb2tpZS52YWx1ZSwgdGhpcy5zZWNyZXQpO1xuICAgICAgICAgICAgaWYgKHNlc3Npb25Db29raWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlc3Npb25JZCA9IHNlc3Npb25Db29raWUucGF5bG9hZC5pZDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gdGhlIHNlc3Npb24gY29va2llIGNvdWxkIG5vdCBiZSBkZWNyeXB0ZWQsIHRyeSB0byB2ZXJpZnkgaWYgaXQncyBhIGxlZ2FjeSBzZXNzaW9uXG4gICAgICAgICAgICBpZiAoZS5jb2RlID09PSBcIkVSUl9KV0VfSU5WQUxJRFwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGVnYWN5U2Vzc2lvbklkID0gYXdhaXQgY29va2llcy52ZXJpZnlTaWduZWQoY29va2llLm5hbWUsIGNvb2tpZS52YWx1ZSwgdGhpcy5zZWNyZXQpO1xuICAgICAgICAgICAgICAgIGlmICghbGVnYWN5U2Vzc2lvbklkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZXNzaW9uSWQgPSBsZWdhY3lTZXNzaW9uSWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzZXNzaW9uSWQpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCB0aGlzLnN0b3JlLmdldChzZXNzaW9uSWQpO1xuICAgICAgICBpZiAoIXNlc3Npb24pIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub3JtYWxpemVTdGF0ZWZ1bFNlc3Npb24oc2Vzc2lvbik7XG4gICAgfVxuICAgIGFzeW5jIHNldChyZXFDb29raWVzLCByZXNDb29raWVzLCBzZXNzaW9uLCBpc05ldyA9IGZhbHNlKSB7XG4gICAgICAgIC8vIGNoZWNrIGlmIGEgc2Vzc2lvbiBhbHJlYWR5IGV4aXN0cy4gSWYgc28sIG1haW50YWluIHRoZSBleGlzdGluZyBzZXNzaW9uIElEXG4gICAgICAgIGxldCBzZXNzaW9uSWQgPSBudWxsO1xuICAgICAgICBjb25zdCBjb29raWVWYWx1ZSA9IHJlcUNvb2tpZXMuZ2V0KHRoaXMuc2Vzc2lvbkNvb2tpZU5hbWUpPy52YWx1ZTtcbiAgICAgICAgaWYgKGNvb2tpZVZhbHVlKSB7XG4gICAgICAgICAgICBjb25zdCBzZXNzaW9uQ29va2llID0gYXdhaXQgY29va2llcy5kZWNyeXB0KGNvb2tpZVZhbHVlLCB0aGlzLnNlY3JldCk7XG4gICAgICAgICAgICBpZiAoc2Vzc2lvbkNvb2tpZSkge1xuICAgICAgICAgICAgICAgIHNlc3Npb25JZCA9IHNlc3Npb25Db29raWUucGF5bG9hZC5pZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB0aGlzIGlzIGEgbmV3IHNlc3Npb24gY3JlYXRlZCBieSBhIG5ldyBsb2dpbiB3ZSBuZWVkIHRvIHJlbW92ZSB0aGUgb2xkIHNlc3Npb25cbiAgICAgICAgLy8gZnJvbSB0aGUgc3RvcmUgYW5kIHJlZ2VuZXJhdGUgdGhlIHNlc3Npb24gSUQgdG8gcHJldmVudCBzZXNzaW9uIGZpeGF0aW9uLlxuICAgICAgICBpZiAoc2Vzc2lvbklkICYmIGlzTmV3KSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnN0b3JlLmRlbGV0ZShzZXNzaW9uSWQpO1xuICAgICAgICAgICAgc2Vzc2lvbklkID0gZ2VuZXJhdGVJZCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc2Vzc2lvbklkKSB7XG4gICAgICAgICAgICBzZXNzaW9uSWQgPSBnZW5lcmF0ZUlkKCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWF4QWdlID0gdGhpcy5jYWxjdWxhdGVNYXhBZ2Uoc2Vzc2lvbi5pbnRlcm5hbC5jcmVhdGVkQXQpO1xuICAgICAgICAvLyBVc2UgY29uc2lzdGVudCB0aW1lc3RhbXAgdG8gYXZvaWQgcmFjZSBjb25kaXRpb24gLSBhbGlnbiB3aXRoIGNhbGN1bGF0ZU1heEFnZSBsb2dpY1xuICAgICAgICBjb25zdCBub3cgPSB0aGlzLmVwb2NoKCk7XG4gICAgICAgIGNvbnN0IGV4cGlyYXRpb24gPSBub3cgKyBtYXhBZ2U7XG4gICAgICAgIGNvbnN0IGp3ZSA9IGF3YWl0IGNvb2tpZXMuZW5jcnlwdCh7XG4gICAgICAgICAgICBpZDogc2Vzc2lvbklkXG4gICAgICAgIH0sIHRoaXMuc2VjcmV0LCBleHBpcmF0aW9uKTtcbiAgICAgICAgcmVzQ29va2llcy5zZXQodGhpcy5zZXNzaW9uQ29va2llTmFtZSwgandlLnRvU3RyaW5nKCksIHtcbiAgICAgICAgICAgIC4uLnRoaXMuY29va2llQ29uZmlnLFxuICAgICAgICAgICAgbWF4QWdlXG4gICAgICAgIH0pO1xuICAgICAgICBhd2FpdCB0aGlzLnN0b3JlLnNldChzZXNzaW9uSWQsIHNlc3Npb24pO1xuICAgICAgICAvLyB0byBlbmFibGUgcmVhZC1hZnRlci13cml0ZSBpbiB0aGUgc2FtZSByZXF1ZXN0IGZvciBtaWRkbGV3YXJlXG4gICAgICAgIHJlcUNvb2tpZXMuc2V0KHRoaXMuc2Vzc2lvbkNvb2tpZU5hbWUsIGp3ZS50b1N0cmluZygpKTtcbiAgICAgICAgLy8gQW55IGV4aXN0aW5nIHYzIGNvb2tpZSBjYW4gYWxzbyBiZSBkZWxldGVkIG9uY2Ugd2UgaGF2ZSBzZXQgYSB2NCBjb29raWUuXG4gICAgICAgIC8vIEluIHN0YXRlZnVsIHNlc3Npb25zLCB3ZSBkbyBub3QgaGF2ZSB0byB3b3JyeSBhYm91dCBjaHVua2luZy5cbiAgICAgICAgaWYgKHRoaXMuc2Vzc2lvbkNvb2tpZU5hbWUgIT09IExFR0FDWV9DT09LSUVfTkFNRSAmJlxuICAgICAgICAgICAgcmVxQ29va2llcy5oYXMoTEVHQUNZX0NPT0tJRV9OQU1FKSkge1xuICAgICAgICAgICAgY29va2llcy5kZWxldGVDb29raWUocmVzQ29va2llcywgTEVHQUNZX0NPT0tJRV9OQU1FLCB7XG4gICAgICAgICAgICAgICAgZG9tYWluOiB0aGlzLmNvb2tpZUNvbmZpZy5kb21haW4sXG4gICAgICAgICAgICAgICAgcGF0aDogdGhpcy5jb29raWVDb25maWcucGF0aFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgZGVsZXRlKHJlcUNvb2tpZXMsIHJlc0Nvb2tpZXMpIHtcbiAgICAgICAgY29uc3QgY29va2llVmFsdWUgPSByZXFDb29raWVzLmdldCh0aGlzLnNlc3Npb25Db29raWVOYW1lKT8udmFsdWU7XG4gICAgICAgIGNvb2tpZXMuZGVsZXRlQ29va2llKHJlc0Nvb2tpZXMsIHRoaXMuc2Vzc2lvbkNvb2tpZU5hbWUsIHtcbiAgICAgICAgICAgIGRvbWFpbjogdGhpcy5jb29raWVDb25maWcuZG9tYWluLFxuICAgICAgICAgICAgcGF0aDogdGhpcy5jb29raWVDb25maWcucGF0aFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFjb29raWVWYWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBjb29raWVzLmRlY3J5cHQoY29va2llVmFsdWUsIHRoaXMuc2VjcmV0KTtcbiAgICAgICAgaWYgKHNlc3Npb24pIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc3RvcmUuZGVsZXRlKHNlc3Npb24ucGF5bG9hZC5pZCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/session/stateful-session-store.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/session/stateless-session-store.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@auth0/nextjs-auth0/dist/server/session/stateless-session-store.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StatelessSessionStore: () => (/* binding */ StatelessSessionStore)\n/* harmony export */ });\n/* harmony import */ var _cookies_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../cookies.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/cookies.js\");\n/* harmony import */ var _abstract_session_store_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./abstract-session-store.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/session/abstract-session-store.js\");\n/* harmony import */ var _normalize_session_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./normalize-session.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/session/normalize-session.js\");\n\n\n\nclass StatelessSessionStore extends _abstract_session_store_js__WEBPACK_IMPORTED_MODULE_1__.AbstractSessionStore {\n    constructor({ secret, rolling, absoluteDuration, inactivityDuration, cookieOptions }) {\n        super({\n            secret,\n            rolling,\n            absoluteDuration,\n            inactivityDuration,\n            cookieOptions\n        });\n        this.connectionTokenSetsCookieName = \"__FC\";\n    }\n    async get(reqCookies) {\n        const cookieValue = _cookies_js__WEBPACK_IMPORTED_MODULE_0__.getChunkedCookie(this.sessionCookieName, reqCookies) ??\n            _cookies_js__WEBPACK_IMPORTED_MODULE_0__.getChunkedCookie(_normalize_session_js__WEBPACK_IMPORTED_MODULE_2__.LEGACY_COOKIE_NAME, reqCookies, true);\n        if (!cookieValue) {\n            return null;\n        }\n        const originalSession = await _cookies_js__WEBPACK_IMPORTED_MODULE_0__.decrypt(cookieValue, this.secret);\n        if (!originalSession) {\n            return null;\n        }\n        const normalizedStatelessSession = (0,_normalize_session_js__WEBPACK_IMPORTED_MODULE_2__.normalizeStatelessSession)(originalSession);\n        // As connection access tokens are stored in separate cookies,\n        // we need to get all cookies and only use those that are prefixed with `this.connectionTokenSetsCookieName`\n        const connectionTokenSetsCookies = this.getConnectionTokenSetsCookies(reqCookies);\n        const connectionTokenSets = [];\n        for (const cookie of connectionTokenSetsCookies) {\n            const decryptedCookie = await _cookies_js__WEBPACK_IMPORTED_MODULE_0__.decrypt(cookie.value, this.secret);\n            if (decryptedCookie) {\n                connectionTokenSets.push(decryptedCookie.payload);\n            }\n        }\n        return {\n            ...normalizedStatelessSession,\n            // Ensure that when there are no connection token sets, we omit the property.\n            ...(connectionTokenSets.length\n                ? {\n                    connectionTokenSets\n                }\n                : {})\n        };\n    }\n    /**\n     * save adds the encrypted session cookie as a `Set-Cookie` header.\n     */\n    async set(reqCookies, resCookies, session) {\n        const { connectionTokenSets, ...originalSession } = session;\n        const maxAge = this.calculateMaxAge(session.internal.createdAt);\n        // Use consistent timestamp to avoid race condition - align with calculateMaxAge logic\n        const now = this.epoch();\n        const expiration = now + maxAge;\n        const jwe = await _cookies_js__WEBPACK_IMPORTED_MODULE_0__.encrypt(originalSession, this.secret, expiration);\n        const cookieValue = jwe.toString();\n        const options = {\n            ...this.cookieConfig,\n            maxAge\n        };\n        _cookies_js__WEBPACK_IMPORTED_MODULE_0__.setChunkedCookie(this.sessionCookieName, cookieValue, options, reqCookies, resCookies);\n        // Store connection access tokens, each in its own cookie\n        if (connectionTokenSets?.length) {\n            await Promise.all(connectionTokenSets.map((connectionTokenSet, index) => this.storeInCookie(reqCookies, resCookies, connectionTokenSet, `${this.connectionTokenSetsCookieName}_${index}`, maxAge)));\n        }\n        // Any existing v3 cookie can be deleted as soon as we have set a v4 cookie.\n        // In stateless sessions, we do have to ensure we delete all chunks.\n        // Only delete legacy cookies if they actually exist in the request.\n        if (_cookies_js__WEBPACK_IMPORTED_MODULE_0__.getChunkedCookie(_normalize_session_js__WEBPACK_IMPORTED_MODULE_2__.LEGACY_COOKIE_NAME, reqCookies, true)) {\n            _cookies_js__WEBPACK_IMPORTED_MODULE_0__.deleteChunkedCookie(_normalize_session_js__WEBPACK_IMPORTED_MODULE_2__.LEGACY_COOKIE_NAME, reqCookies, resCookies, true, {\n                domain: this.cookieConfig.domain,\n                path: this.cookieConfig.path\n            });\n        }\n    }\n    async delete(reqCookies, resCookies) {\n        const deleteOptions = {\n            domain: this.cookieConfig.domain,\n            path: this.cookieConfig.path\n        };\n        _cookies_js__WEBPACK_IMPORTED_MODULE_0__.deleteChunkedCookie(this.sessionCookieName, reqCookies, resCookies, false, deleteOptions);\n        this.getConnectionTokenSetsCookies(reqCookies).forEach((cookie) => _cookies_js__WEBPACK_IMPORTED_MODULE_0__.deleteCookie(resCookies, cookie.name, deleteOptions));\n    }\n    async storeInCookie(reqCookies, resCookies, session, cookieName, maxAge) {\n        const expiration = Math.floor(Date.now() / 1000 + maxAge);\n        const jwe = await _cookies_js__WEBPACK_IMPORTED_MODULE_0__.encrypt(session, this.secret, expiration);\n        const cookieValue = jwe.toString();\n        resCookies.set(cookieName, jwe.toString(), {\n            ...this.cookieConfig,\n            maxAge\n        });\n        // to enable read-after-write in the same request for middleware\n        reqCookies.set(cookieName, cookieValue);\n        // check if the session cookie size exceeds 4096 bytes, and if so, log a warning\n        const cookieJarSizeTest = new _cookies_js__WEBPACK_IMPORTED_MODULE_0__.ResponseCookies(new Headers());\n        cookieJarSizeTest.set(cookieName, cookieValue, {\n            ...this.cookieConfig,\n            maxAge\n        });\n        if (new TextEncoder().encode(cookieJarSizeTest.toString()).length >= 4096) {\n            // if the cookie is the session cookie, log a warning with additional information about the claims and user profile.\n            if (cookieName === this.sessionCookieName) {\n                console.warn(`The ${cookieName} cookie size exceeds 4096 bytes, which may cause issues in some browsers. ` +\n                    \"Consider removing any unnecessary custom claims from the access token or the user profile. \" +\n                    \"Alternatively, you can use a stateful session implementation to store the session data in a data store.\");\n            }\n            else {\n                console.warn(`The ${cookieName} cookie size exceeds 4096 bytes, which may cause issues in some browsers. ` +\n                    \"You can use a stateful session implementation to store the session data in a data store.\");\n            }\n        }\n    }\n    getConnectionTokenSetsCookies(cookies) {\n        return cookies\n            .getAll()\n            .filter((cookie) => cookie.name.startsWith(this.connectionTokenSetsCookieName));\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0BhdXRoMC9uZXh0anMtYXV0aDAvZGlzdC9zZXJ2ZXIvc2Vzc2lvbi9zdGF0ZWxlc3Mtc2Vzc2lvbi1zdG9yZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXlDO0FBQzBCO0FBQ29CO0FBQ2hGLG9DQUFvQyw0RUFBb0I7QUFDL0Qsa0JBQWtCLHNFQUFzRTtBQUN4RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHlEQUF3QjtBQUNwRCxZQUFZLHlEQUF3QixDQUFDLHFFQUFrQjtBQUN2RDtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsZ0RBQWU7QUFDckQ7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLGdGQUF5QjtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLGdEQUFlO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDBDQUEwQztBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixnREFBZTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx5REFBd0I7QUFDaEM7QUFDQTtBQUNBLHVKQUF1SixtQ0FBbUMsR0FBRyxNQUFNO0FBQ25NO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSx5REFBd0IsQ0FBQyxxRUFBa0I7QUFDdkQsWUFBWSw0REFBMkIsQ0FBQyxxRUFBa0I7QUFDMUQ7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsNERBQTJCO0FBQ25DLDJFQUEyRSxxREFBb0I7QUFDL0Y7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGdEQUFlO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyx3REFBdUI7QUFDN0Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxZQUFZO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLFlBQVk7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXEBhdXRoMFxcbmV4dGpzLWF1dGgwXFxkaXN0XFxzZXJ2ZXJcXHNlc3Npb25cXHN0YXRlbGVzcy1zZXNzaW9uLXN0b3JlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGNvb2tpZXMgZnJvbSBcIi4uL2Nvb2tpZXMuanNcIjtcbmltcG9ydCB7IEFic3RyYWN0U2Vzc2lvblN0b3JlIH0gZnJvbSBcIi4vYWJzdHJhY3Qtc2Vzc2lvbi1zdG9yZS5qc1wiO1xuaW1wb3J0IHsgTEVHQUNZX0NPT0tJRV9OQU1FLCBub3JtYWxpemVTdGF0ZWxlc3NTZXNzaW9uIH0gZnJvbSBcIi4vbm9ybWFsaXplLXNlc3Npb24uanNcIjtcbmV4cG9ydCBjbGFzcyBTdGF0ZWxlc3NTZXNzaW9uU3RvcmUgZXh0ZW5kcyBBYnN0cmFjdFNlc3Npb25TdG9yZSB7XG4gICAgY29uc3RydWN0b3IoeyBzZWNyZXQsIHJvbGxpbmcsIGFic29sdXRlRHVyYXRpb24sIGluYWN0aXZpdHlEdXJhdGlvbiwgY29va2llT3B0aW9ucyB9KSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIHNlY3JldCxcbiAgICAgICAgICAgIHJvbGxpbmcsXG4gICAgICAgICAgICBhYnNvbHV0ZUR1cmF0aW9uLFxuICAgICAgICAgICAgaW5hY3Rpdml0eUR1cmF0aW9uLFxuICAgICAgICAgICAgY29va2llT3B0aW9uc1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uVG9rZW5TZXRzQ29va2llTmFtZSA9IFwiX19GQ1wiO1xuICAgIH1cbiAgICBhc3luYyBnZXQocmVxQ29va2llcykge1xuICAgICAgICBjb25zdCBjb29raWVWYWx1ZSA9IGNvb2tpZXMuZ2V0Q2h1bmtlZENvb2tpZSh0aGlzLnNlc3Npb25Db29raWVOYW1lLCByZXFDb29raWVzKSA/P1xuICAgICAgICAgICAgY29va2llcy5nZXRDaHVua2VkQ29va2llKExFR0FDWV9DT09LSUVfTkFNRSwgcmVxQ29va2llcywgdHJ1ZSk7XG4gICAgICAgIGlmICghY29va2llVmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsU2Vzc2lvbiA9IGF3YWl0IGNvb2tpZXMuZGVjcnlwdChjb29raWVWYWx1ZSwgdGhpcy5zZWNyZXQpO1xuICAgICAgICBpZiAoIW9yaWdpbmFsU2Vzc2lvbikge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZFN0YXRlbGVzc1Nlc3Npb24gPSBub3JtYWxpemVTdGF0ZWxlc3NTZXNzaW9uKG9yaWdpbmFsU2Vzc2lvbik7XG4gICAgICAgIC8vIEFzIGNvbm5lY3Rpb24gYWNjZXNzIHRva2VucyBhcmUgc3RvcmVkIGluIHNlcGFyYXRlIGNvb2tpZXMsXG4gICAgICAgIC8vIHdlIG5lZWQgdG8gZ2V0IGFsbCBjb29raWVzIGFuZCBvbmx5IHVzZSB0aG9zZSB0aGF0IGFyZSBwcmVmaXhlZCB3aXRoIGB0aGlzLmNvbm5lY3Rpb25Ub2tlblNldHNDb29raWVOYW1lYFxuICAgICAgICBjb25zdCBjb25uZWN0aW9uVG9rZW5TZXRzQ29va2llcyA9IHRoaXMuZ2V0Q29ubmVjdGlvblRva2VuU2V0c0Nvb2tpZXMocmVxQ29va2llcyk7XG4gICAgICAgIGNvbnN0IGNvbm5lY3Rpb25Ub2tlblNldHMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBjb29raWUgb2YgY29ubmVjdGlvblRva2VuU2V0c0Nvb2tpZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlY3J5cHRlZENvb2tpZSA9IGF3YWl0IGNvb2tpZXMuZGVjcnlwdChjb29raWUudmFsdWUsIHRoaXMuc2VjcmV0KTtcbiAgICAgICAgICAgIGlmIChkZWNyeXB0ZWRDb29raWUpIHtcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9uVG9rZW5TZXRzLnB1c2goZGVjcnlwdGVkQ29va2llLnBheWxvYWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5ub3JtYWxpemVkU3RhdGVsZXNzU2Vzc2lvbixcbiAgICAgICAgICAgIC8vIEVuc3VyZSB0aGF0IHdoZW4gdGhlcmUgYXJlIG5vIGNvbm5lY3Rpb24gdG9rZW4gc2V0cywgd2Ugb21pdCB0aGUgcHJvcGVydHkuXG4gICAgICAgICAgICAuLi4oY29ubmVjdGlvblRva2VuU2V0cy5sZW5ndGhcbiAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvblRva2VuU2V0c1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IHt9KVxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBzYXZlIGFkZHMgdGhlIGVuY3J5cHRlZCBzZXNzaW9uIGNvb2tpZSBhcyBhIGBTZXQtQ29va2llYCBoZWFkZXIuXG4gICAgICovXG4gICAgYXN5bmMgc2V0KHJlcUNvb2tpZXMsIHJlc0Nvb2tpZXMsIHNlc3Npb24pIHtcbiAgICAgICAgY29uc3QgeyBjb25uZWN0aW9uVG9rZW5TZXRzLCAuLi5vcmlnaW5hbFNlc3Npb24gfSA9IHNlc3Npb247XG4gICAgICAgIGNvbnN0IG1heEFnZSA9IHRoaXMuY2FsY3VsYXRlTWF4QWdlKHNlc3Npb24uaW50ZXJuYWwuY3JlYXRlZEF0KTtcbiAgICAgICAgLy8gVXNlIGNvbnNpc3RlbnQgdGltZXN0YW1wIHRvIGF2b2lkIHJhY2UgY29uZGl0aW9uIC0gYWxpZ24gd2l0aCBjYWxjdWxhdGVNYXhBZ2UgbG9naWNcbiAgICAgICAgY29uc3Qgbm93ID0gdGhpcy5lcG9jaCgpO1xuICAgICAgICBjb25zdCBleHBpcmF0aW9uID0gbm93ICsgbWF4QWdlO1xuICAgICAgICBjb25zdCBqd2UgPSBhd2FpdCBjb29raWVzLmVuY3J5cHQob3JpZ2luYWxTZXNzaW9uLCB0aGlzLnNlY3JldCwgZXhwaXJhdGlvbik7XG4gICAgICAgIGNvbnN0IGNvb2tpZVZhbHVlID0gandlLnRvU3RyaW5nKCk7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAuLi50aGlzLmNvb2tpZUNvbmZpZyxcbiAgICAgICAgICAgIG1heEFnZVxuICAgICAgICB9O1xuICAgICAgICBjb29raWVzLnNldENodW5rZWRDb29raWUodGhpcy5zZXNzaW9uQ29va2llTmFtZSwgY29va2llVmFsdWUsIG9wdGlvbnMsIHJlcUNvb2tpZXMsIHJlc0Nvb2tpZXMpO1xuICAgICAgICAvLyBTdG9yZSBjb25uZWN0aW9uIGFjY2VzcyB0b2tlbnMsIGVhY2ggaW4gaXRzIG93biBjb29raWVcbiAgICAgICAgaWYgKGNvbm5lY3Rpb25Ub2tlblNldHM/Lmxlbmd0aCkge1xuICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoY29ubmVjdGlvblRva2VuU2V0cy5tYXAoKGNvbm5lY3Rpb25Ub2tlblNldCwgaW5kZXgpID0+IHRoaXMuc3RvcmVJbkNvb2tpZShyZXFDb29raWVzLCByZXNDb29raWVzLCBjb25uZWN0aW9uVG9rZW5TZXQsIGAke3RoaXMuY29ubmVjdGlvblRva2VuU2V0c0Nvb2tpZU5hbWV9XyR7aW5kZXh9YCwgbWF4QWdlKSkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFueSBleGlzdGluZyB2MyBjb29raWUgY2FuIGJlIGRlbGV0ZWQgYXMgc29vbiBhcyB3ZSBoYXZlIHNldCBhIHY0IGNvb2tpZS5cbiAgICAgICAgLy8gSW4gc3RhdGVsZXNzIHNlc3Npb25zLCB3ZSBkbyBoYXZlIHRvIGVuc3VyZSB3ZSBkZWxldGUgYWxsIGNodW5rcy5cbiAgICAgICAgLy8gT25seSBkZWxldGUgbGVnYWN5IGNvb2tpZXMgaWYgdGhleSBhY3R1YWxseSBleGlzdCBpbiB0aGUgcmVxdWVzdC5cbiAgICAgICAgaWYgKGNvb2tpZXMuZ2V0Q2h1bmtlZENvb2tpZShMRUdBQ1lfQ09PS0lFX05BTUUsIHJlcUNvb2tpZXMsIHRydWUpKSB7XG4gICAgICAgICAgICBjb29raWVzLmRlbGV0ZUNodW5rZWRDb29raWUoTEVHQUNZX0NPT0tJRV9OQU1FLCByZXFDb29raWVzLCByZXNDb29raWVzLCB0cnVlLCB7XG4gICAgICAgICAgICAgICAgZG9tYWluOiB0aGlzLmNvb2tpZUNvbmZpZy5kb21haW4sXG4gICAgICAgICAgICAgICAgcGF0aDogdGhpcy5jb29raWVDb25maWcucGF0aFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgZGVsZXRlKHJlcUNvb2tpZXMsIHJlc0Nvb2tpZXMpIHtcbiAgICAgICAgY29uc3QgZGVsZXRlT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGRvbWFpbjogdGhpcy5jb29raWVDb25maWcuZG9tYWluLFxuICAgICAgICAgICAgcGF0aDogdGhpcy5jb29raWVDb25maWcucGF0aFxuICAgICAgICB9O1xuICAgICAgICBjb29raWVzLmRlbGV0ZUNodW5rZWRDb29raWUodGhpcy5zZXNzaW9uQ29va2llTmFtZSwgcmVxQ29va2llcywgcmVzQ29va2llcywgZmFsc2UsIGRlbGV0ZU9wdGlvbnMpO1xuICAgICAgICB0aGlzLmdldENvbm5lY3Rpb25Ub2tlblNldHNDb29raWVzKHJlcUNvb2tpZXMpLmZvckVhY2goKGNvb2tpZSkgPT4gY29va2llcy5kZWxldGVDb29raWUocmVzQ29va2llcywgY29va2llLm5hbWUsIGRlbGV0ZU9wdGlvbnMpKTtcbiAgICB9XG4gICAgYXN5bmMgc3RvcmVJbkNvb2tpZShyZXFDb29raWVzLCByZXNDb29raWVzLCBzZXNzaW9uLCBjb29raWVOYW1lLCBtYXhBZ2UpIHtcbiAgICAgICAgY29uc3QgZXhwaXJhdGlvbiA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDAgKyBtYXhBZ2UpO1xuICAgICAgICBjb25zdCBqd2UgPSBhd2FpdCBjb29raWVzLmVuY3J5cHQoc2Vzc2lvbiwgdGhpcy5zZWNyZXQsIGV4cGlyYXRpb24pO1xuICAgICAgICBjb25zdCBjb29raWVWYWx1ZSA9IGp3ZS50b1N0cmluZygpO1xuICAgICAgICByZXNDb29raWVzLnNldChjb29raWVOYW1lLCBqd2UudG9TdHJpbmcoKSwge1xuICAgICAgICAgICAgLi4udGhpcy5jb29raWVDb25maWcsXG4gICAgICAgICAgICBtYXhBZ2VcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIHRvIGVuYWJsZSByZWFkLWFmdGVyLXdyaXRlIGluIHRoZSBzYW1lIHJlcXVlc3QgZm9yIG1pZGRsZXdhcmVcbiAgICAgICAgcmVxQ29va2llcy5zZXQoY29va2llTmFtZSwgY29va2llVmFsdWUpO1xuICAgICAgICAvLyBjaGVjayBpZiB0aGUgc2Vzc2lvbiBjb29raWUgc2l6ZSBleGNlZWRzIDQwOTYgYnl0ZXMsIGFuZCBpZiBzbywgbG9nIGEgd2FybmluZ1xuICAgICAgICBjb25zdCBjb29raWVKYXJTaXplVGVzdCA9IG5ldyBjb29raWVzLlJlc3BvbnNlQ29va2llcyhuZXcgSGVhZGVycygpKTtcbiAgICAgICAgY29va2llSmFyU2l6ZVRlc3Quc2V0KGNvb2tpZU5hbWUsIGNvb2tpZVZhbHVlLCB7XG4gICAgICAgICAgICAuLi50aGlzLmNvb2tpZUNvbmZpZyxcbiAgICAgICAgICAgIG1heEFnZVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShjb29raWVKYXJTaXplVGVzdC50b1N0cmluZygpKS5sZW5ndGggPj0gNDA5Nikge1xuICAgICAgICAgICAgLy8gaWYgdGhlIGNvb2tpZSBpcyB0aGUgc2Vzc2lvbiBjb29raWUsIGxvZyBhIHdhcm5pbmcgd2l0aCBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBjbGFpbXMgYW5kIHVzZXIgcHJvZmlsZS5cbiAgICAgICAgICAgIGlmIChjb29raWVOYW1lID09PSB0aGlzLnNlc3Npb25Db29raWVOYW1lKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBUaGUgJHtjb29raWVOYW1lfSBjb29raWUgc2l6ZSBleGNlZWRzIDQwOTYgYnl0ZXMsIHdoaWNoIG1heSBjYXVzZSBpc3N1ZXMgaW4gc29tZSBicm93c2Vycy4gYCArXG4gICAgICAgICAgICAgICAgICAgIFwiQ29uc2lkZXIgcmVtb3ZpbmcgYW55IHVubmVjZXNzYXJ5IGN1c3RvbSBjbGFpbXMgZnJvbSB0aGUgYWNjZXNzIHRva2VuIG9yIHRoZSB1c2VyIHByb2ZpbGUuIFwiICtcbiAgICAgICAgICAgICAgICAgICAgXCJBbHRlcm5hdGl2ZWx5LCB5b3UgY2FuIHVzZSBhIHN0YXRlZnVsIHNlc3Npb24gaW1wbGVtZW50YXRpb24gdG8gc3RvcmUgdGhlIHNlc3Npb24gZGF0YSBpbiBhIGRhdGEgc3RvcmUuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBUaGUgJHtjb29raWVOYW1lfSBjb29raWUgc2l6ZSBleGNlZWRzIDQwOTYgYnl0ZXMsIHdoaWNoIG1heSBjYXVzZSBpc3N1ZXMgaW4gc29tZSBicm93c2Vycy4gYCArXG4gICAgICAgICAgICAgICAgICAgIFwiWW91IGNhbiB1c2UgYSBzdGF0ZWZ1bCBzZXNzaW9uIGltcGxlbWVudGF0aW9uIHRvIHN0b3JlIHRoZSBzZXNzaW9uIGRhdGEgaW4gYSBkYXRhIHN0b3JlLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRDb25uZWN0aW9uVG9rZW5TZXRzQ29va2llcyhjb29raWVzKSB7XG4gICAgICAgIHJldHVybiBjb29raWVzXG4gICAgICAgICAgICAuZ2V0QWxsKClcbiAgICAgICAgICAgIC5maWx0ZXIoKGNvb2tpZSkgPT4gY29va2llLm5hbWUuc3RhcnRzV2l0aCh0aGlzLmNvbm5lY3Rpb25Ub2tlblNldHNDb29raWVOYW1lKSk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/session/stateless-session-store.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/token-request-cache.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@auth0/nextjs-auth0/dist/server/token-request-cache.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GenericRequestCache: () => (/* binding */ GenericRequestCache),\n/* harmony export */   TokenRequestCache: () => (/* binding */ TokenRequestCache)\n/* harmony export */ });\n/* harmony import */ var _utils_scope_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/scope-helpers.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/utils/scope-helpers.js\");\nvar __classPrivateFieldGet = (undefined && undefined.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _GenericRequestCache_cache;\n\n/**\n * A generic cache to manage in-flight requests to prevent duplicate requests.\n * This ensures that multiple simultaneous requests for the same resource\n * (based on a generated cache key) will share the same promise and result.\n */\nclass GenericRequestCache {\n    constructor() {\n        _GenericRequestCache_cache.set(this, new Map());\n    }\n    /**\n     * Executes a request, caching the promise to prevent duplicate requests.\n     * @param requestHandler Function that performs the request and returns a promise.\n     * @param options Options used to generate the cache key.\n     * @returns A promise that resolves to the token response.\n     */\n    async execute(requestHandler, options) {\n        // Generate a cache key based on audience and scope\n        const cacheKey = this.getTokenCacheKey(options);\n        // See if we have an in-flight request for this key\n        const inFlightRequest = __classPrivateFieldGet(this, _GenericRequestCache_cache, \"f\").get(cacheKey);\n        // If we have an in-flight request for this key,\n        // return the existing promise to prevent duplicate requests.\n        if (inFlightRequest) {\n            return inFlightRequest;\n        }\n        // Create and cache the promise for this request\n        const requestPromise = requestHandler().finally(() => {\n            // Clean up the cache when the request completes (success or failure)\n            __classPrivateFieldGet(this, _GenericRequestCache_cache, \"f\").delete(cacheKey);\n        });\n        // Store the in-flight request in the cache\n        __classPrivateFieldGet(this, _GenericRequestCache_cache, \"f\").set(cacheKey, requestPromise);\n        return requestPromise;\n    }\n}\n_GenericRequestCache_cache = new WeakMap();\n/**\n * A cache to manage in-flight token requests to prevent race conditions.\n * This ensures that multiple simultaneous requests for the same token\n * (based on audience and scope) will share the same promise and result.\n */\nclass TokenRequestCache extends GenericRequestCache {\n    /**\n     * Generates a cache key for token requests based on audience and scope.\n     * @param options The options containing audience and scope\n     * @returns A unique cache key string\n     */\n    getTokenCacheKey({ options, authorizationParameters }) {\n        const audience = options.audience ?? authorizationParameters?.audience ?? \"\";\n        const scope = options.scope ??\n            (authorizationParameters?.scope &&\n                (0,_utils_scope_helpers_js__WEBPACK_IMPORTED_MODULE_0__.getScopeForAudience)(authorizationParameters?.scope, audience)) ??\n            \"\";\n        return `${audience}:${scope}`;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0BhdXRoMC9uZXh0anMtYXV0aDAvZGlzdC9zZXJ2ZXIvdG9rZW4tcmVxdWVzdC1jYWNoZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSw4QkFBOEIsU0FBSSxJQUFJLFNBQUk7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNnRTtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsa0NBQWtDO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw0RUFBbUI7QUFDbkM7QUFDQSxrQkFBa0IsU0FBUyxHQUFHLE1BQU07QUFDcEM7QUFDQSIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcQGF1dGgwXFxuZXh0anMtYXV0aDBcXGRpc3RcXHNlcnZlclxcdG9rZW4tcmVxdWVzdC1jYWNoZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19jbGFzc1ByaXZhdGVGaWVsZEdldCA9ICh0aGlzICYmIHRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZEdldCkgfHwgZnVuY3Rpb24gKHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xufTtcbnZhciBfR2VuZXJpY1JlcXVlc3RDYWNoZV9jYWNoZTtcbmltcG9ydCB7IGdldFNjb3BlRm9yQXVkaWVuY2UgfSBmcm9tIFwiLi4vdXRpbHMvc2NvcGUtaGVscGVycy5qc1wiO1xuLyoqXG4gKiBBIGdlbmVyaWMgY2FjaGUgdG8gbWFuYWdlIGluLWZsaWdodCByZXF1ZXN0cyB0byBwcmV2ZW50IGR1cGxpY2F0ZSByZXF1ZXN0cy5cbiAqIFRoaXMgZW5zdXJlcyB0aGF0IG11bHRpcGxlIHNpbXVsdGFuZW91cyByZXF1ZXN0cyBmb3IgdGhlIHNhbWUgcmVzb3VyY2VcbiAqIChiYXNlZCBvbiBhIGdlbmVyYXRlZCBjYWNoZSBrZXkpIHdpbGwgc2hhcmUgdGhlIHNhbWUgcHJvbWlzZSBhbmQgcmVzdWx0LlxuICovXG5leHBvcnQgY2xhc3MgR2VuZXJpY1JlcXVlc3RDYWNoZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIF9HZW5lcmljUmVxdWVzdENhY2hlX2NhY2hlLnNldCh0aGlzLCBuZXcgTWFwKCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyBhIHJlcXVlc3QsIGNhY2hpbmcgdGhlIHByb21pc2UgdG8gcHJldmVudCBkdXBsaWNhdGUgcmVxdWVzdHMuXG4gICAgICogQHBhcmFtIHJlcXVlc3RIYW5kbGVyIEZ1bmN0aW9uIHRoYXQgcGVyZm9ybXMgdGhlIHJlcXVlc3QgYW5kIHJldHVybnMgYSBwcm9taXNlLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIE9wdGlvbnMgdXNlZCB0byBnZW5lcmF0ZSB0aGUgY2FjaGUga2V5LlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSB0b2tlbiByZXNwb25zZS5cbiAgICAgKi9cbiAgICBhc3luYyBleGVjdXRlKHJlcXVlc3RIYW5kbGVyLCBvcHRpb25zKSB7XG4gICAgICAgIC8vIEdlbmVyYXRlIGEgY2FjaGUga2V5IGJhc2VkIG9uIGF1ZGllbmNlIGFuZCBzY29wZVxuICAgICAgICBjb25zdCBjYWNoZUtleSA9IHRoaXMuZ2V0VG9rZW5DYWNoZUtleShvcHRpb25zKTtcbiAgICAgICAgLy8gU2VlIGlmIHdlIGhhdmUgYW4gaW4tZmxpZ2h0IHJlcXVlc3QgZm9yIHRoaXMga2V5XG4gICAgICAgIGNvbnN0IGluRmxpZ2h0UmVxdWVzdCA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0dlbmVyaWNSZXF1ZXN0Q2FjaGVfY2FjaGUsIFwiZlwiKS5nZXQoY2FjaGVLZXkpO1xuICAgICAgICAvLyBJZiB3ZSBoYXZlIGFuIGluLWZsaWdodCByZXF1ZXN0IGZvciB0aGlzIGtleSxcbiAgICAgICAgLy8gcmV0dXJuIHRoZSBleGlzdGluZyBwcm9taXNlIHRvIHByZXZlbnQgZHVwbGljYXRlIHJlcXVlc3RzLlxuICAgICAgICBpZiAoaW5GbGlnaHRSZXF1ZXN0KSB7XG4gICAgICAgICAgICByZXR1cm4gaW5GbGlnaHRSZXF1ZXN0O1xuICAgICAgICB9XG4gICAgICAgIC8vIENyZWF0ZSBhbmQgY2FjaGUgdGhlIHByb21pc2UgZm9yIHRoaXMgcmVxdWVzdFxuICAgICAgICBjb25zdCByZXF1ZXN0UHJvbWlzZSA9IHJlcXVlc3RIYW5kbGVyKCkuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgICAvLyBDbGVhbiB1cCB0aGUgY2FjaGUgd2hlbiB0aGUgcmVxdWVzdCBjb21wbGV0ZXMgKHN1Y2Nlc3Mgb3IgZmFpbHVyZSlcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0dlbmVyaWNSZXF1ZXN0Q2FjaGVfY2FjaGUsIFwiZlwiKS5kZWxldGUoY2FjaGVLZXkpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gU3RvcmUgdGhlIGluLWZsaWdodCByZXF1ZXN0IGluIHRoZSBjYWNoZVxuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9HZW5lcmljUmVxdWVzdENhY2hlX2NhY2hlLCBcImZcIikuc2V0KGNhY2hlS2V5LCByZXF1ZXN0UHJvbWlzZSk7XG4gICAgICAgIHJldHVybiByZXF1ZXN0UHJvbWlzZTtcbiAgICB9XG59XG5fR2VuZXJpY1JlcXVlc3RDYWNoZV9jYWNoZSA9IG5ldyBXZWFrTWFwKCk7XG4vKipcbiAqIEEgY2FjaGUgdG8gbWFuYWdlIGluLWZsaWdodCB0b2tlbiByZXF1ZXN0cyB0byBwcmV2ZW50IHJhY2UgY29uZGl0aW9ucy5cbiAqIFRoaXMgZW5zdXJlcyB0aGF0IG11bHRpcGxlIHNpbXVsdGFuZW91cyByZXF1ZXN0cyBmb3IgdGhlIHNhbWUgdG9rZW5cbiAqIChiYXNlZCBvbiBhdWRpZW5jZSBhbmQgc2NvcGUpIHdpbGwgc2hhcmUgdGhlIHNhbWUgcHJvbWlzZSBhbmQgcmVzdWx0LlxuICovXG5leHBvcnQgY2xhc3MgVG9rZW5SZXF1ZXN0Q2FjaGUgZXh0ZW5kcyBHZW5lcmljUmVxdWVzdENhY2hlIHtcbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSBjYWNoZSBrZXkgZm9yIHRva2VuIHJlcXVlc3RzIGJhc2VkIG9uIGF1ZGllbmNlIGFuZCBzY29wZS5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBUaGUgb3B0aW9ucyBjb250YWluaW5nIGF1ZGllbmNlIGFuZCBzY29wZVxuICAgICAqIEByZXR1cm5zIEEgdW5pcXVlIGNhY2hlIGtleSBzdHJpbmdcbiAgICAgKi9cbiAgICBnZXRUb2tlbkNhY2hlS2V5KHsgb3B0aW9ucywgYXV0aG9yaXphdGlvblBhcmFtZXRlcnMgfSkge1xuICAgICAgICBjb25zdCBhdWRpZW5jZSA9IG9wdGlvbnMuYXVkaWVuY2UgPz8gYXV0aG9yaXphdGlvblBhcmFtZXRlcnM/LmF1ZGllbmNlID8/IFwiXCI7XG4gICAgICAgIGNvbnN0IHNjb3BlID0gb3B0aW9ucy5zY29wZSA/P1xuICAgICAgICAgICAgKGF1dGhvcml6YXRpb25QYXJhbWV0ZXJzPy5zY29wZSAmJlxuICAgICAgICAgICAgICAgIGdldFNjb3BlRm9yQXVkaWVuY2UoYXV0aG9yaXphdGlvblBhcmFtZXRlcnM/LnNjb3BlLCBhdWRpZW5jZSkpID8/XG4gICAgICAgICAgICBcIlwiO1xuICAgICAgICByZXR1cm4gYCR7YXVkaWVuY2V9OiR7c2NvcGV9YDtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/token-request-cache.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/transaction-store.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@auth0/nextjs-auth0/dist/server/transaction-store.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TransactionStore: () => (/* binding */ TransactionStore)\n/* harmony export */ });\n/* harmony import */ var _cookies_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./cookies.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/cookies.js\");\n\nconst TRANSACTION_COOKIE_PREFIX = \"__txn_\";\n/**\n * TransactionStore is responsible for storing the state required to successfully complete\n * an authentication transaction. The store relies on encrypted, stateless cookies to store\n * the transaction state.\n */\nclass TransactionStore {\n    constructor({ secret, cookieOptions, enableParallelTransactions }) {\n        this.secret = secret;\n        this.transactionCookiePrefix =\n            cookieOptions?.prefix ?? TRANSACTION_COOKIE_PREFIX;\n        this.cookieOptions = {\n            httpOnly: true,\n            sameSite: cookieOptions?.sameSite ?? \"lax\", // required to allow the cookie to be sent on the callback request\n            secure: cookieOptions?.secure ?? false,\n            path: cookieOptions?.path ?? \"/\",\n            domain: cookieOptions?.domain,\n            maxAge: cookieOptions?.maxAge || 60 * 60 // 1 hour in seconds\n        };\n        this.enableParallelTransactions = enableParallelTransactions ?? true;\n    }\n    /**\n     * Returns the name of the cookie used to store the transaction state.\n     * The cookie name is derived from the state parameter to prevent collisions\n     * between different transactions.\n     */\n    getTransactionCookieName(state) {\n        return this.enableParallelTransactions\n            ? `${this.transactionCookiePrefix}${state}`\n            : `${this.transactionCookiePrefix}`;\n    }\n    /**\n     * Returns the configured prefix for transaction cookies.\n     */\n    getCookiePrefix() {\n        return this.transactionCookiePrefix;\n    }\n    /**\n     * Saves the transaction state to an encrypted cookie.\n     *\n     * @param resCookies - The response cookies object to set the transaction cookie on\n     * @param transactionState - The transaction state to save\n     * @param reqCookies - Optional request cookies to check for existing transactions.\n     *                     When provided and `enableParallelTransactions` is false,\n     *                     will check for existing transaction cookies. When omitted,\n     *                     the existence check is skipped for performance optimization.\n     * @throws {Error} When transaction state is missing required state parameter\n     */\n    async save(resCookies, transactionState, reqCookies) {\n        if (!transactionState.state) {\n            throw new Error(\"Transaction state is required\");\n        }\n        // When parallel transactions are disabled, check if a transaction already exists\n        if (reqCookies && !this.enableParallelTransactions) {\n            const cookieName = this.getTransactionCookieName(transactionState.state);\n            const existingCookie = reqCookies.get(cookieName);\n            if (existingCookie) {\n                console.warn(\"A transaction is already in progress. Only one transaction is allowed when parallel transactions are disabled.\");\n                return;\n            }\n        }\n        const expirationSeconds = this.cookieOptions.maxAge;\n        const expiration = Math.floor(Date.now() / 1000 + expirationSeconds);\n        const jwe = await _cookies_js__WEBPACK_IMPORTED_MODULE_0__.encrypt(transactionState, this.secret, expiration);\n        resCookies.set(this.getTransactionCookieName(transactionState.state), jwe.toString(), this.cookieOptions);\n    }\n    async get(reqCookies, state) {\n        const cookieName = this.getTransactionCookieName(state);\n        const cookieValue = reqCookies.get(cookieName)?.value;\n        if (!cookieValue) {\n            return null;\n        }\n        return _cookies_js__WEBPACK_IMPORTED_MODULE_0__.decrypt(cookieValue, this.secret);\n    }\n    async delete(resCookies, state) {\n        _cookies_js__WEBPACK_IMPORTED_MODULE_0__.deleteCookie(resCookies, this.getTransactionCookieName(state), {\n            domain: this.cookieOptions.domain,\n            path: this.cookieOptions.path\n        });\n    }\n    /**\n     * Deletes all transaction cookies based on the configured prefix.\n     */\n    async deleteAll(reqCookies, resCookies) {\n        const txnPrefix = this.getCookiePrefix();\n        const deleteOptions = {\n            domain: this.cookieOptions.domain,\n            path: this.cookieOptions.path\n        };\n        reqCookies.getAll().forEach((cookie) => {\n            if (cookie.name.startsWith(txnPrefix)) {\n                _cookies_js__WEBPACK_IMPORTED_MODULE_0__.deleteCookie(resCookies, cookie.name, deleteOptions);\n            }\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0BhdXRoMC9uZXh0anMtYXV0aDAvZGlzdC9zZXJ2ZXIvdHJhbnNhY3Rpb24tc3RvcmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBd0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxrQkFBa0IsbURBQW1EO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsNkJBQTZCLEVBQUUsTUFBTTtBQUN0RCxpQkFBaUIsNkJBQTZCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLE9BQU87QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsZ0RBQWU7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0RBQWU7QUFDOUI7QUFDQTtBQUNBLFFBQVEscURBQW9CO0FBQzVCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHFEQUFvQjtBQUNwQztBQUNBLFNBQVM7QUFDVDtBQUNBIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxAYXV0aDBcXG5leHRqcy1hdXRoMFxcZGlzdFxcc2VydmVyXFx0cmFuc2FjdGlvbi1zdG9yZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBjb29raWVzIGZyb20gXCIuL2Nvb2tpZXMuanNcIjtcbmNvbnN0IFRSQU5TQUNUSU9OX0NPT0tJRV9QUkVGSVggPSBcIl9fdHhuX1wiO1xuLyoqXG4gKiBUcmFuc2FjdGlvblN0b3JlIGlzIHJlc3BvbnNpYmxlIGZvciBzdG9yaW5nIHRoZSBzdGF0ZSByZXF1aXJlZCB0byBzdWNjZXNzZnVsbHkgY29tcGxldGVcbiAqIGFuIGF1dGhlbnRpY2F0aW9uIHRyYW5zYWN0aW9uLiBUaGUgc3RvcmUgcmVsaWVzIG9uIGVuY3J5cHRlZCwgc3RhdGVsZXNzIGNvb2tpZXMgdG8gc3RvcmVcbiAqIHRoZSB0cmFuc2FjdGlvbiBzdGF0ZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFRyYW5zYWN0aW9uU3RvcmUge1xuICAgIGNvbnN0cnVjdG9yKHsgc2VjcmV0LCBjb29raWVPcHRpb25zLCBlbmFibGVQYXJhbGxlbFRyYW5zYWN0aW9ucyB9KSB7XG4gICAgICAgIHRoaXMuc2VjcmV0ID0gc2VjcmV0O1xuICAgICAgICB0aGlzLnRyYW5zYWN0aW9uQ29va2llUHJlZml4ID1cbiAgICAgICAgICAgIGNvb2tpZU9wdGlvbnM/LnByZWZpeCA/PyBUUkFOU0FDVElPTl9DT09LSUVfUFJFRklYO1xuICAgICAgICB0aGlzLmNvb2tpZU9wdGlvbnMgPSB7XG4gICAgICAgICAgICBodHRwT25seTogdHJ1ZSxcbiAgICAgICAgICAgIHNhbWVTaXRlOiBjb29raWVPcHRpb25zPy5zYW1lU2l0ZSA/PyBcImxheFwiLCAvLyByZXF1aXJlZCB0byBhbGxvdyB0aGUgY29va2llIHRvIGJlIHNlbnQgb24gdGhlIGNhbGxiYWNrIHJlcXVlc3RcbiAgICAgICAgICAgIHNlY3VyZTogY29va2llT3B0aW9ucz8uc2VjdXJlID8/IGZhbHNlLFxuICAgICAgICAgICAgcGF0aDogY29va2llT3B0aW9ucz8ucGF0aCA/PyBcIi9cIixcbiAgICAgICAgICAgIGRvbWFpbjogY29va2llT3B0aW9ucz8uZG9tYWluLFxuICAgICAgICAgICAgbWF4QWdlOiBjb29raWVPcHRpb25zPy5tYXhBZ2UgfHwgNjAgKiA2MCAvLyAxIGhvdXIgaW4gc2Vjb25kc1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmVuYWJsZVBhcmFsbGVsVHJhbnNhY3Rpb25zID0gZW5hYmxlUGFyYWxsZWxUcmFuc2FjdGlvbnMgPz8gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbmFtZSBvZiB0aGUgY29va2llIHVzZWQgdG8gc3RvcmUgdGhlIHRyYW5zYWN0aW9uIHN0YXRlLlxuICAgICAqIFRoZSBjb29raWUgbmFtZSBpcyBkZXJpdmVkIGZyb20gdGhlIHN0YXRlIHBhcmFtZXRlciB0byBwcmV2ZW50IGNvbGxpc2lvbnNcbiAgICAgKiBiZXR3ZWVuIGRpZmZlcmVudCB0cmFuc2FjdGlvbnMuXG4gICAgICovXG4gICAgZ2V0VHJhbnNhY3Rpb25Db29raWVOYW1lKHN0YXRlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVuYWJsZVBhcmFsbGVsVHJhbnNhY3Rpb25zXG4gICAgICAgICAgICA/IGAke3RoaXMudHJhbnNhY3Rpb25Db29raWVQcmVmaXh9JHtzdGF0ZX1gXG4gICAgICAgICAgICA6IGAke3RoaXMudHJhbnNhY3Rpb25Db29raWVQcmVmaXh9YDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY29uZmlndXJlZCBwcmVmaXggZm9yIHRyYW5zYWN0aW9uIGNvb2tpZXMuXG4gICAgICovXG4gICAgZ2V0Q29va2llUHJlZml4KCkge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2FjdGlvbkNvb2tpZVByZWZpeDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2F2ZXMgdGhlIHRyYW5zYWN0aW9uIHN0YXRlIHRvIGFuIGVuY3J5cHRlZCBjb29raWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcmVzQ29va2llcyAtIFRoZSByZXNwb25zZSBjb29raWVzIG9iamVjdCB0byBzZXQgdGhlIHRyYW5zYWN0aW9uIGNvb2tpZSBvblxuICAgICAqIEBwYXJhbSB0cmFuc2FjdGlvblN0YXRlIC0gVGhlIHRyYW5zYWN0aW9uIHN0YXRlIHRvIHNhdmVcbiAgICAgKiBAcGFyYW0gcmVxQ29va2llcyAtIE9wdGlvbmFsIHJlcXVlc3QgY29va2llcyB0byBjaGVjayBmb3IgZXhpc3RpbmcgdHJhbnNhY3Rpb25zLlxuICAgICAqICAgICAgICAgICAgICAgICAgICAgV2hlbiBwcm92aWRlZCBhbmQgYGVuYWJsZVBhcmFsbGVsVHJhbnNhY3Rpb25zYCBpcyBmYWxzZSxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgIHdpbGwgY2hlY2sgZm9yIGV4aXN0aW5nIHRyYW5zYWN0aW9uIGNvb2tpZXMuIFdoZW4gb21pdHRlZCxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgIHRoZSBleGlzdGVuY2UgY2hlY2sgaXMgc2tpcHBlZCBmb3IgcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uLlxuICAgICAqIEB0aHJvd3Mge0Vycm9yfSBXaGVuIHRyYW5zYWN0aW9uIHN0YXRlIGlzIG1pc3NpbmcgcmVxdWlyZWQgc3RhdGUgcGFyYW1ldGVyXG4gICAgICovXG4gICAgYXN5bmMgc2F2ZShyZXNDb29raWVzLCB0cmFuc2FjdGlvblN0YXRlLCByZXFDb29raWVzKSB7XG4gICAgICAgIGlmICghdHJhbnNhY3Rpb25TdGF0ZS5zdGF0ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVHJhbnNhY3Rpb24gc3RhdGUgaXMgcmVxdWlyZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2hlbiBwYXJhbGxlbCB0cmFuc2FjdGlvbnMgYXJlIGRpc2FibGVkLCBjaGVjayBpZiBhIHRyYW5zYWN0aW9uIGFscmVhZHkgZXhpc3RzXG4gICAgICAgIGlmIChyZXFDb29raWVzICYmICF0aGlzLmVuYWJsZVBhcmFsbGVsVHJhbnNhY3Rpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBjb29raWVOYW1lID0gdGhpcy5nZXRUcmFuc2FjdGlvbkNvb2tpZU5hbWUodHJhbnNhY3Rpb25TdGF0ZS5zdGF0ZSk7XG4gICAgICAgICAgICBjb25zdCBleGlzdGluZ0Nvb2tpZSA9IHJlcUNvb2tpZXMuZ2V0KGNvb2tpZU5hbWUpO1xuICAgICAgICAgICAgaWYgKGV4aXN0aW5nQ29va2llKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiQSB0cmFuc2FjdGlvbiBpcyBhbHJlYWR5IGluIHByb2dyZXNzLiBPbmx5IG9uZSB0cmFuc2FjdGlvbiBpcyBhbGxvd2VkIHdoZW4gcGFyYWxsZWwgdHJhbnNhY3Rpb25zIGFyZSBkaXNhYmxlZC5cIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGV4cGlyYXRpb25TZWNvbmRzID0gdGhpcy5jb29raWVPcHRpb25zLm1heEFnZTtcbiAgICAgICAgY29uc3QgZXhwaXJhdGlvbiA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDAgKyBleHBpcmF0aW9uU2Vjb25kcyk7XG4gICAgICAgIGNvbnN0IGp3ZSA9IGF3YWl0IGNvb2tpZXMuZW5jcnlwdCh0cmFuc2FjdGlvblN0YXRlLCB0aGlzLnNlY3JldCwgZXhwaXJhdGlvbik7XG4gICAgICAgIHJlc0Nvb2tpZXMuc2V0KHRoaXMuZ2V0VHJhbnNhY3Rpb25Db29raWVOYW1lKHRyYW5zYWN0aW9uU3RhdGUuc3RhdGUpLCBqd2UudG9TdHJpbmcoKSwgdGhpcy5jb29raWVPcHRpb25zKTtcbiAgICB9XG4gICAgYXN5bmMgZ2V0KHJlcUNvb2tpZXMsIHN0YXRlKSB7XG4gICAgICAgIGNvbnN0IGNvb2tpZU5hbWUgPSB0aGlzLmdldFRyYW5zYWN0aW9uQ29va2llTmFtZShzdGF0ZSk7XG4gICAgICAgIGNvbnN0IGNvb2tpZVZhbHVlID0gcmVxQ29va2llcy5nZXQoY29va2llTmFtZSk/LnZhbHVlO1xuICAgICAgICBpZiAoIWNvb2tpZVZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29va2llcy5kZWNyeXB0KGNvb2tpZVZhbHVlLCB0aGlzLnNlY3JldCk7XG4gICAgfVxuICAgIGFzeW5jIGRlbGV0ZShyZXNDb29raWVzLCBzdGF0ZSkge1xuICAgICAgICBjb29raWVzLmRlbGV0ZUNvb2tpZShyZXNDb29raWVzLCB0aGlzLmdldFRyYW5zYWN0aW9uQ29va2llTmFtZShzdGF0ZSksIHtcbiAgICAgICAgICAgIGRvbWFpbjogdGhpcy5jb29raWVPcHRpb25zLmRvbWFpbixcbiAgICAgICAgICAgIHBhdGg6IHRoaXMuY29va2llT3B0aW9ucy5wYXRoXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWxldGVzIGFsbCB0cmFuc2FjdGlvbiBjb29raWVzIGJhc2VkIG9uIHRoZSBjb25maWd1cmVkIHByZWZpeC5cbiAgICAgKi9cbiAgICBhc3luYyBkZWxldGVBbGwocmVxQ29va2llcywgcmVzQ29va2llcykge1xuICAgICAgICBjb25zdCB0eG5QcmVmaXggPSB0aGlzLmdldENvb2tpZVByZWZpeCgpO1xuICAgICAgICBjb25zdCBkZWxldGVPcHRpb25zID0ge1xuICAgICAgICAgICAgZG9tYWluOiB0aGlzLmNvb2tpZU9wdGlvbnMuZG9tYWluLFxuICAgICAgICAgICAgcGF0aDogdGhpcy5jb29raWVPcHRpb25zLnBhdGhcbiAgICAgICAgfTtcbiAgICAgICAgcmVxQ29va2llcy5nZXRBbGwoKS5mb3JFYWNoKChjb29raWUpID0+IHtcbiAgICAgICAgICAgIGlmIChjb29raWUubmFtZS5zdGFydHNXaXRoKHR4blByZWZpeCkpIHtcbiAgICAgICAgICAgICAgICBjb29raWVzLmRlbGV0ZUNvb2tpZShyZXNDb29raWVzLCBjb29raWUubmFtZSwgZGVsZXRlT3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/transaction-store.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/user.js":
/*!**************************************************************!*\
  !*** ./node_modules/@auth0/nextjs-auth0/dist/server/user.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_ID_TOKEN_CLAIMS: () => (/* binding */ DEFAULT_ID_TOKEN_CLAIMS),\n/* harmony export */   filterDefaultIdTokenClaims: () => (/* binding */ filterDefaultIdTokenClaims)\n/* harmony export */ });\n/**\n * Default claims for the ID token.\n */\nconst DEFAULT_ID_TOKEN_CLAIMS = [\n    \"sub\",\n    \"name\",\n    \"nickname\",\n    \"given_name\",\n    \"family_name\",\n    \"picture\",\n    \"email\",\n    \"email_verified\",\n    \"org_id\"\n];\n/**\n * Filters the claims to only include those that are considered default.\n * @param claims The claims to filter.\n * @returns The filtered claims containing only default ID token claims.\n */\nfunction filterDefaultIdTokenClaims(claims) {\n    return Object.keys(claims).reduce((acc, key) => {\n        if (DEFAULT_ID_TOKEN_CLAIMS.includes(key)) {\n            acc[key] = claims[key];\n        }\n        return acc;\n    }, {});\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0BhdXRoMC9uZXh0anMtYXV0aDAvZGlzdC9zZXJ2ZXIvdXNlci5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxJQUFJO0FBQ1QiLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXEBhdXRoMFxcbmV4dGpzLWF1dGgwXFxkaXN0XFxzZXJ2ZXJcXHVzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBEZWZhdWx0IGNsYWltcyBmb3IgdGhlIElEIHRva2VuLlxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9JRF9UT0tFTl9DTEFJTVMgPSBbXG4gICAgXCJzdWJcIixcbiAgICBcIm5hbWVcIixcbiAgICBcIm5pY2tuYW1lXCIsXG4gICAgXCJnaXZlbl9uYW1lXCIsXG4gICAgXCJmYW1pbHlfbmFtZVwiLFxuICAgIFwicGljdHVyZVwiLFxuICAgIFwiZW1haWxcIixcbiAgICBcImVtYWlsX3ZlcmlmaWVkXCIsXG4gICAgXCJvcmdfaWRcIlxuXTtcbi8qKlxuICogRmlsdGVycyB0aGUgY2xhaW1zIHRvIG9ubHkgaW5jbHVkZSB0aG9zZSB0aGF0IGFyZSBjb25zaWRlcmVkIGRlZmF1bHQuXG4gKiBAcGFyYW0gY2xhaW1zIFRoZSBjbGFpbXMgdG8gZmlsdGVyLlxuICogQHJldHVybnMgVGhlIGZpbHRlcmVkIGNsYWltcyBjb250YWluaW5nIG9ubHkgZGVmYXVsdCBJRCB0b2tlbiBjbGFpbXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJEZWZhdWx0SWRUb2tlbkNsYWltcyhjbGFpbXMpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMoY2xhaW1zKS5yZWR1Y2UoKGFjYywga2V5KSA9PiB7XG4gICAgICAgIGlmIChERUZBVUxUX0lEX1RPS0VOX0NMQUlNUy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgICAgICBhY2Nba2V5XSA9IGNsYWltc1trZXldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@auth0/nextjs-auth0/dist/server/user.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@auth0/nextjs-auth0/dist/types/connected-accounts.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@auth0/nextjs-auth0/dist/types/connected-accounts.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RESPONSE_TYPES: () => (/* binding */ RESPONSE_TYPES)\n/* harmony export */ });\nvar RESPONSE_TYPES;\n(function (RESPONSE_TYPES) {\n    /**\n     * Authorization Code flow.\n     */\n    RESPONSE_TYPES[\"CODE\"] = \"code\";\n    /**\n     * Connect Account flow.\n     */\n    RESPONSE_TYPES[\"CONNECT_CODE\"] = \"connect_code\";\n})(RESPONSE_TYPES || (RESPONSE_TYPES = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0BhdXRoMC9uZXh0anMtYXV0aDAvZGlzdC90eXBlcy9jb25uZWN0ZWQtYWNjb3VudHMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyx3Q0FBd0MiLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXEBhdXRoMFxcbmV4dGpzLWF1dGgwXFxkaXN0XFx0eXBlc1xcY29ubmVjdGVkLWFjY291bnRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB2YXIgUkVTUE9OU0VfVFlQRVM7XG4oZnVuY3Rpb24gKFJFU1BPTlNFX1RZUEVTKSB7XG4gICAgLyoqXG4gICAgICogQXV0aG9yaXphdGlvbiBDb2RlIGZsb3cuXG4gICAgICovXG4gICAgUkVTUE9OU0VfVFlQRVNbXCJDT0RFXCJdID0gXCJjb2RlXCI7XG4gICAgLyoqXG4gICAgICogQ29ubmVjdCBBY2NvdW50IGZsb3cuXG4gICAgICovXG4gICAgUkVTUE9OU0VfVFlQRVNbXCJDT05ORUNUX0NPREVcIl0gPSBcImNvbm5lY3RfY29kZVwiO1xufSkoUkVTUE9OU0VfVFlQRVMgfHwgKFJFU1BPTlNFX1RZUEVTID0ge30pKTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@auth0/nextjs-auth0/dist/types/connected-accounts.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@auth0/nextjs-auth0/dist/types/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/@auth0/nextjs-auth0/dist/types/index.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RESPONSE_TYPES: () => (/* reexport safe */ _connected_accounts_js__WEBPACK_IMPORTED_MODULE_1__.RESPONSE_TYPES),\n/* harmony export */   SUBJECT_TOKEN_TYPES: () => (/* reexport safe */ _token_vault_js__WEBPACK_IMPORTED_MODULE_0__.SUBJECT_TOKEN_TYPES)\n/* harmony export */ });\n/* harmony import */ var _token_vault_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./token-vault.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/types/token-vault.js\");\n/* harmony import */ var _connected_accounts_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./connected-accounts.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/types/connected-accounts.js\");\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0BhdXRoMC9uZXh0anMtYXV0aDAvZGlzdC90eXBlcy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXVEO0FBQ0UiLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXEBhdXRoMFxcbmV4dGpzLWF1dGgwXFxkaXN0XFx0eXBlc1xcaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHsgU1VCSkVDVF9UT0tFTl9UWVBFUyB9IGZyb20gXCIuL3Rva2VuLXZhdWx0LmpzXCI7XG5leHBvcnQgeyBSRVNQT05TRV9UWVBFUyB9IGZyb20gXCIuL2Nvbm5lY3RlZC1hY2NvdW50cy5qc1wiO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@auth0/nextjs-auth0/dist/types/index.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@auth0/nextjs-auth0/dist/types/token-vault.js":
/*!********************************************************************!*\
  !*** ./node_modules/@auth0/nextjs-auth0/dist/types/token-vault.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SUBJECT_TOKEN_TYPES: () => (/* binding */ SUBJECT_TOKEN_TYPES)\n/* harmony export */ });\nvar SUBJECT_TOKEN_TYPES;\n(function (SUBJECT_TOKEN_TYPES) {\n    /**\n     * Indicates that the token is an OAuth 2.0 refresh token issued by the given authorization server.\n     *\n     * @see {@link https://datatracker.ietf.org/doc/html/rfc8693#section-3-3.4 RFC 8693 Section 3-3.4}\n     */\n    SUBJECT_TOKEN_TYPES[\"SUBJECT_TYPE_REFRESH_TOKEN\"] = \"urn:ietf:params:oauth:token-type:refresh_token\";\n    /**\n     * Indicates that the token is an OAuth 2.0 access token issued by the given authorization server.\n     *\n     * @see {@link https://datatracker.ietf.org/doc/html/rfc8693#section-3-3.2 RFC 8693 Section 3-3.2}\n     */\n    SUBJECT_TOKEN_TYPES[\"SUBJECT_TYPE_ACCESS_TOKEN\"] = \"urn:ietf:params:oauth:token-type:access_token\";\n})(SUBJECT_TOKEN_TYPES || (SUBJECT_TOKEN_TYPES = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0BhdXRoMC9uZXh0anMtYXV0aDAvZGlzdC90eXBlcy90b2tlbi12YXVsdC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxDQUFDLGtEQUFrRCIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcQGF1dGgwXFxuZXh0anMtYXV0aDBcXGRpc3RcXHR5cGVzXFx0b2tlbi12YXVsdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgdmFyIFNVQkpFQ1RfVE9LRU5fVFlQRVM7XG4oZnVuY3Rpb24gKFNVQkpFQ1RfVE9LRU5fVFlQRVMpIHtcbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgdGhhdCB0aGUgdG9rZW4gaXMgYW4gT0F1dGggMi4wIHJlZnJlc2ggdG9rZW4gaXNzdWVkIGJ5IHRoZSBnaXZlbiBhdXRob3JpemF0aW9uIHNlcnZlci5cbiAgICAgKlxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZGF0YXRyYWNrZXIuaWV0Zi5vcmcvZG9jL2h0bWwvcmZjODY5MyNzZWN0aW9uLTMtMy40IFJGQyA4NjkzIFNlY3Rpb24gMy0zLjR9XG4gICAgICovXG4gICAgU1VCSkVDVF9UT0tFTl9UWVBFU1tcIlNVQkpFQ1RfVFlQRV9SRUZSRVNIX1RPS0VOXCJdID0gXCJ1cm46aWV0ZjpwYXJhbXM6b2F1dGg6dG9rZW4tdHlwZTpyZWZyZXNoX3Rva2VuXCI7XG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHRoYXQgdGhlIHRva2VuIGlzIGFuIE9BdXRoIDIuMCBhY2Nlc3MgdG9rZW4gaXNzdWVkIGJ5IHRoZSBnaXZlbiBhdXRob3JpemF0aW9uIHNlcnZlci5cbiAgICAgKlxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZGF0YXRyYWNrZXIuaWV0Zi5vcmcvZG9jL2h0bWwvcmZjODY5MyNzZWN0aW9uLTMtMy4yIFJGQyA4NjkzIFNlY3Rpb24gMy0zLjJ9XG4gICAgICovXG4gICAgU1VCSkVDVF9UT0tFTl9UWVBFU1tcIlNVQkpFQ1RfVFlQRV9BQ0NFU1NfVE9LRU5cIl0gPSBcInVybjppZXRmOnBhcmFtczpvYXV0aDp0b2tlbi10eXBlOmFjY2Vzc190b2tlblwiO1xufSkoU1VCSkVDVF9UT0tFTl9UWVBFUyB8fCAoU1VCSkVDVF9UT0tFTl9UWVBFUyA9IHt9KSk7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@auth0/nextjs-auth0/dist/types/token-vault.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@auth0/nextjs-auth0/dist/utils/authorization-params-helpers.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@auth0/nextjs-auth0/dist/utils/authorization-params-helpers.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   mergeAuthorizationParamsIntoSearchParams: () => (/* binding */ mergeAuthorizationParamsIntoSearchParams)\n/* harmony export */ });\n/* harmony import */ var _scope_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./scope-helpers.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/utils/scope-helpers.js\");\n\n/**\n * Merges two instances of authorization parameters into a URLSearchParams object,\n * excluding any parameters specified in the excludedParams array.\n * If the scope is provided as a map of audience to scopes, it selects the appropriate scope\n * based on the audience parameter.\n * @param leftParams The base authorization parameters\n * @param rightParams The authorization parameters to merge, overriding leftParams\n * @param excludedParams Array of parameter names to exclude from the resulting URLSearchParams\n * @returns URLSearchParams containing the merged authorization parameters\n *\n * @remarks The scope properties override each other, no merging is done.\n * @throws {InvalidConfigurationError} If scope is defined as a map but no audience is provided.\n */\nfunction mergeAuthorizationParamsIntoSearchParams(leftParams, rightParams, excludedParams = []) {\n    const authorizationParams = new URLSearchParams();\n    // First we merge the two sets of authorization parameters,\n    // with the rightParams taking precedence over leftParams.\n    // We then iterate over the merged object and add each key/value pair to the URLSearchParams,\n    // excluding any keys specified in excludedParams.\n    // We also skip any keys with null or undefined values.\n    // Additionally, when the scope is provided as a map of audience to scopes, we need to pick the correct\n    // scope for the current audience.\n    const mergedAuthorizationParams = {\n        ...leftParams,\n        ...rightParams\n    };\n    Object.entries(mergedAuthorizationParams).forEach(([key, val]) => {\n        if (!excludedParams || (!excludedParams.includes(key) && val != null)) {\n            // When the scope is provided as a map of audience to scopes, we need to pick the correct\n            // scope for the current audience.\n            if (key === \"scope\" && typeof val === \"object\") {\n                val = (0,_scope_helpers_js__WEBPACK_IMPORTED_MODULE_0__.getScopeForAudience)(val, mergedAuthorizationParams.audience);\n            }\n            // Only when there is a defined value, we set it.\n            if (val) {\n                authorizationParams.set(key, String(val));\n            }\n        }\n    });\n    return authorizationParams;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0BhdXRoMC9uZXh0anMtYXV0aDAvZGlzdC91dGlscy9hdXRob3JpemF0aW9uLXBhcmFtcy1oZWxwZXJzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXlEO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDJCQUEyQjtBQUN2QztBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixzRUFBbUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EiLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXEBhdXRoMFxcbmV4dGpzLWF1dGgwXFxkaXN0XFx1dGlsc1xcYXV0aG9yaXphdGlvbi1wYXJhbXMtaGVscGVycy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRTY29wZUZvckF1ZGllbmNlIH0gZnJvbSBcIi4vc2NvcGUtaGVscGVycy5qc1wiO1xuLyoqXG4gKiBNZXJnZXMgdHdvIGluc3RhbmNlcyBvZiBhdXRob3JpemF0aW9uIHBhcmFtZXRlcnMgaW50byBhIFVSTFNlYXJjaFBhcmFtcyBvYmplY3QsXG4gKiBleGNsdWRpbmcgYW55IHBhcmFtZXRlcnMgc3BlY2lmaWVkIGluIHRoZSBleGNsdWRlZFBhcmFtcyBhcnJheS5cbiAqIElmIHRoZSBzY29wZSBpcyBwcm92aWRlZCBhcyBhIG1hcCBvZiBhdWRpZW5jZSB0byBzY29wZXMsIGl0IHNlbGVjdHMgdGhlIGFwcHJvcHJpYXRlIHNjb3BlXG4gKiBiYXNlZCBvbiB0aGUgYXVkaWVuY2UgcGFyYW1ldGVyLlxuICogQHBhcmFtIGxlZnRQYXJhbXMgVGhlIGJhc2UgYXV0aG9yaXphdGlvbiBwYXJhbWV0ZXJzXG4gKiBAcGFyYW0gcmlnaHRQYXJhbXMgVGhlIGF1dGhvcml6YXRpb24gcGFyYW1ldGVycyB0byBtZXJnZSwgb3ZlcnJpZGluZyBsZWZ0UGFyYW1zXG4gKiBAcGFyYW0gZXhjbHVkZWRQYXJhbXMgQXJyYXkgb2YgcGFyYW1ldGVyIG5hbWVzIHRvIGV4Y2x1ZGUgZnJvbSB0aGUgcmVzdWx0aW5nIFVSTFNlYXJjaFBhcmFtc1xuICogQHJldHVybnMgVVJMU2VhcmNoUGFyYW1zIGNvbnRhaW5pbmcgdGhlIG1lcmdlZCBhdXRob3JpemF0aW9uIHBhcmFtZXRlcnNcbiAqXG4gKiBAcmVtYXJrcyBUaGUgc2NvcGUgcHJvcGVydGllcyBvdmVycmlkZSBlYWNoIG90aGVyLCBubyBtZXJnaW5nIGlzIGRvbmUuXG4gKiBAdGhyb3dzIHtJbnZhbGlkQ29uZmlndXJhdGlvbkVycm9yfSBJZiBzY29wZSBpcyBkZWZpbmVkIGFzIGEgbWFwIGJ1dCBubyBhdWRpZW5jZSBpcyBwcm92aWRlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlQXV0aG9yaXphdGlvblBhcmFtc0ludG9TZWFyY2hQYXJhbXMobGVmdFBhcmFtcywgcmlnaHRQYXJhbXMsIGV4Y2x1ZGVkUGFyYW1zID0gW10pIHtcbiAgICBjb25zdCBhdXRob3JpemF0aW9uUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgIC8vIEZpcnN0IHdlIG1lcmdlIHRoZSB0d28gc2V0cyBvZiBhdXRob3JpemF0aW9uIHBhcmFtZXRlcnMsXG4gICAgLy8gd2l0aCB0aGUgcmlnaHRQYXJhbXMgdGFraW5nIHByZWNlZGVuY2Ugb3ZlciBsZWZ0UGFyYW1zLlxuICAgIC8vIFdlIHRoZW4gaXRlcmF0ZSBvdmVyIHRoZSBtZXJnZWQgb2JqZWN0IGFuZCBhZGQgZWFjaCBrZXkvdmFsdWUgcGFpciB0byB0aGUgVVJMU2VhcmNoUGFyYW1zLFxuICAgIC8vIGV4Y2x1ZGluZyBhbnkga2V5cyBzcGVjaWZpZWQgaW4gZXhjbHVkZWRQYXJhbXMuXG4gICAgLy8gV2UgYWxzbyBza2lwIGFueSBrZXlzIHdpdGggbnVsbCBvciB1bmRlZmluZWQgdmFsdWVzLlxuICAgIC8vIEFkZGl0aW9uYWxseSwgd2hlbiB0aGUgc2NvcGUgaXMgcHJvdmlkZWQgYXMgYSBtYXAgb2YgYXVkaWVuY2UgdG8gc2NvcGVzLCB3ZSBuZWVkIHRvIHBpY2sgdGhlIGNvcnJlY3RcbiAgICAvLyBzY29wZSBmb3IgdGhlIGN1cnJlbnQgYXVkaWVuY2UuXG4gICAgY29uc3QgbWVyZ2VkQXV0aG9yaXphdGlvblBhcmFtcyA9IHtcbiAgICAgICAgLi4ubGVmdFBhcmFtcyxcbiAgICAgICAgLi4ucmlnaHRQYXJhbXNcbiAgICB9O1xuICAgIE9iamVjdC5lbnRyaWVzKG1lcmdlZEF1dGhvcml6YXRpb25QYXJhbXMpLmZvckVhY2goKFtrZXksIHZhbF0pID0+IHtcbiAgICAgICAgaWYgKCFleGNsdWRlZFBhcmFtcyB8fCAoIWV4Y2x1ZGVkUGFyYW1zLmluY2x1ZGVzKGtleSkgJiYgdmFsICE9IG51bGwpKSB7XG4gICAgICAgICAgICAvLyBXaGVuIHRoZSBzY29wZSBpcyBwcm92aWRlZCBhcyBhIG1hcCBvZiBhdWRpZW5jZSB0byBzY29wZXMsIHdlIG5lZWQgdG8gcGljayB0aGUgY29ycmVjdFxuICAgICAgICAgICAgLy8gc2NvcGUgZm9yIHRoZSBjdXJyZW50IGF1ZGllbmNlLlxuICAgICAgICAgICAgaWYgKGtleSA9PT0gXCJzY29wZVwiICYmIHR5cGVvZiB2YWwgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICB2YWwgPSBnZXRTY29wZUZvckF1ZGllbmNlKHZhbCwgbWVyZ2VkQXV0aG9yaXphdGlvblBhcmFtcy5hdWRpZW5jZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBPbmx5IHdoZW4gdGhlcmUgaXMgYSBkZWZpbmVkIHZhbHVlLCB3ZSBzZXQgaXQuXG4gICAgICAgICAgICBpZiAodmFsKSB7XG4gICAgICAgICAgICAgICAgYXV0aG9yaXphdGlvblBhcmFtcy5zZXQoa2V5LCBTdHJpbmcodmFsKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gYXV0aG9yaXphdGlvblBhcmFtcztcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@auth0/nextjs-auth0/dist/utils/authorization-params-helpers.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@auth0/nextjs-auth0/dist/utils/constants.js":
/*!******************************************************************!*\
  !*** ./node_modules/@auth0/nextjs-auth0/dist/utils/constants.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_DPOP_CLOCK_SKEW: () => (/* binding */ DEFAULT_DPOP_CLOCK_SKEW),\n/* harmony export */   DEFAULT_DPOP_CLOCK_TOLERANCE: () => (/* binding */ DEFAULT_DPOP_CLOCK_TOLERANCE),\n/* harmony export */   DEFAULT_RETRY_DELAY: () => (/* binding */ DEFAULT_RETRY_DELAY),\n/* harmony export */   DEFAULT_RETRY_JITTER: () => (/* binding */ DEFAULT_RETRY_JITTER),\n/* harmony export */   DEFAULT_SCOPES: () => (/* binding */ DEFAULT_SCOPES),\n/* harmony export */   MAX_RECOMMENDED_DPOP_CLOCK_TOLERANCE: () => (/* binding */ MAX_RECOMMENDED_DPOP_CLOCK_TOLERANCE)\n/* harmony export */ });\n/**\n * The default scopes to request when none are provided.\n * These scopes provide basic user information and authentication capabilities.\n */\nconst DEFAULT_SCOPES = [\n    \"openid\",\n    \"profile\",\n    \"email\",\n    \"offline_access\"\n].join(\" \");\n/**\n * Default clock skew in seconds for DPoP proof validation.\n *\n * Clock skew adjusts the assumed current time when validating DPoP proofs.\n * Use positive values when the local clock is behind the server,\n * negative values when the local clock is ahead.\n *\n * @default 0 - No clock adjustment needed\n */\nconst DEFAULT_DPOP_CLOCK_SKEW = 0;\n/**\n * Default clock tolerance in seconds for DPoP proof validation.\n *\n * Allows for reasonable clock differences between client and server during\n * DPoP proof validation. Higher values are more permissive but may weaken\n * security by allowing replay attacks within a wider time window.\n *\n * @default 30 - Allows 30 seconds clock difference\n */\nconst DEFAULT_DPOP_CLOCK_TOLERANCE = 30;\n/**\n * Maximum recommended clock tolerance in seconds for DPoP proof validation.\n *\n * Values exceeding this threshold may significantly weaken DPoP security\n * by allowing replay attacks within a wider time window. Production\n * applications should use NTP for clock synchronization instead of\n * increasing tolerance beyond this limit.\n *\n * @default 300 - 5 minutes maximum recommended tolerance\n */\nconst MAX_RECOMMENDED_DPOP_CLOCK_TOLERANCE = 300;\n/**\n * Default retry delay in milliseconds for DPoP nonce errors.\n *\n * When a DPoP nonce error occurs, the SDK waits this duration before\n * retrying the request with the new nonce provided by the server.\n * This helps prevent overwhelming the server with rapid retry attempts.\n *\n * @default 100 - 100 milliseconds delay\n */\nconst DEFAULT_RETRY_DELAY = 100;\n/**\n * Default jitter setting for retry delay.\n *\n * When enabled, adds randomness to the retry delay (50-100% of configured delay)\n * to prevent thundering herd effects when multiple clients encounter\n * nonce errors simultaneously.\n *\n * @default true - Jitter enabled for better load distribution\n */\nconst DEFAULT_RETRY_JITTER = true;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0BhdXRoMC9uZXh0anMtYXV0aDAvZGlzdC91dGlscy9jb25zdGFudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08iLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXEBhdXRoMFxcbmV4dGpzLWF1dGgwXFxkaXN0XFx1dGlsc1xcY29uc3RhbnRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhlIGRlZmF1bHQgc2NvcGVzIHRvIHJlcXVlc3Qgd2hlbiBub25lIGFyZSBwcm92aWRlZC5cbiAqIFRoZXNlIHNjb3BlcyBwcm92aWRlIGJhc2ljIHVzZXIgaW5mb3JtYXRpb24gYW5kIGF1dGhlbnRpY2F0aW9uIGNhcGFiaWxpdGllcy5cbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0NPUEVTID0gW1xuICAgIFwib3BlbmlkXCIsXG4gICAgXCJwcm9maWxlXCIsXG4gICAgXCJlbWFpbFwiLFxuICAgIFwib2ZmbGluZV9hY2Nlc3NcIlxuXS5qb2luKFwiIFwiKTtcbi8qKlxuICogRGVmYXVsdCBjbG9jayBza2V3IGluIHNlY29uZHMgZm9yIERQb1AgcHJvb2YgdmFsaWRhdGlvbi5cbiAqXG4gKiBDbG9jayBza2V3IGFkanVzdHMgdGhlIGFzc3VtZWQgY3VycmVudCB0aW1lIHdoZW4gdmFsaWRhdGluZyBEUG9QIHByb29mcy5cbiAqIFVzZSBwb3NpdGl2ZSB2YWx1ZXMgd2hlbiB0aGUgbG9jYWwgY2xvY2sgaXMgYmVoaW5kIHRoZSBzZXJ2ZXIsXG4gKiBuZWdhdGl2ZSB2YWx1ZXMgd2hlbiB0aGUgbG9jYWwgY2xvY2sgaXMgYWhlYWQuXG4gKlxuICogQGRlZmF1bHQgMCAtIE5vIGNsb2NrIGFkanVzdG1lbnQgbmVlZGVkXG4gKi9cbmV4cG9ydCBjb25zdCBERUZBVUxUX0RQT1BfQ0xPQ0tfU0tFVyA9IDA7XG4vKipcbiAqIERlZmF1bHQgY2xvY2sgdG9sZXJhbmNlIGluIHNlY29uZHMgZm9yIERQb1AgcHJvb2YgdmFsaWRhdGlvbi5cbiAqXG4gKiBBbGxvd3MgZm9yIHJlYXNvbmFibGUgY2xvY2sgZGlmZmVyZW5jZXMgYmV0d2VlbiBjbGllbnQgYW5kIHNlcnZlciBkdXJpbmdcbiAqIERQb1AgcHJvb2YgdmFsaWRhdGlvbi4gSGlnaGVyIHZhbHVlcyBhcmUgbW9yZSBwZXJtaXNzaXZlIGJ1dCBtYXkgd2Vha2VuXG4gKiBzZWN1cml0eSBieSBhbGxvd2luZyByZXBsYXkgYXR0YWNrcyB3aXRoaW4gYSB3aWRlciB0aW1lIHdpbmRvdy5cbiAqXG4gKiBAZGVmYXVsdCAzMCAtIEFsbG93cyAzMCBzZWNvbmRzIGNsb2NrIGRpZmZlcmVuY2VcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfRFBPUF9DTE9DS19UT0xFUkFOQ0UgPSAzMDtcbi8qKlxuICogTWF4aW11bSByZWNvbW1lbmRlZCBjbG9jayB0b2xlcmFuY2UgaW4gc2Vjb25kcyBmb3IgRFBvUCBwcm9vZiB2YWxpZGF0aW9uLlxuICpcbiAqIFZhbHVlcyBleGNlZWRpbmcgdGhpcyB0aHJlc2hvbGQgbWF5IHNpZ25pZmljYW50bHkgd2Vha2VuIERQb1Agc2VjdXJpdHlcbiAqIGJ5IGFsbG93aW5nIHJlcGxheSBhdHRhY2tzIHdpdGhpbiBhIHdpZGVyIHRpbWUgd2luZG93LiBQcm9kdWN0aW9uXG4gKiBhcHBsaWNhdGlvbnMgc2hvdWxkIHVzZSBOVFAgZm9yIGNsb2NrIHN5bmNocm9uaXphdGlvbiBpbnN0ZWFkIG9mXG4gKiBpbmNyZWFzaW5nIHRvbGVyYW5jZSBiZXlvbmQgdGhpcyBsaW1pdC5cbiAqXG4gKiBAZGVmYXVsdCAzMDAgLSA1IG1pbnV0ZXMgbWF4aW11bSByZWNvbW1lbmRlZCB0b2xlcmFuY2VcbiAqL1xuZXhwb3J0IGNvbnN0IE1BWF9SRUNPTU1FTkRFRF9EUE9QX0NMT0NLX1RPTEVSQU5DRSA9IDMwMDtcbi8qKlxuICogRGVmYXVsdCByZXRyeSBkZWxheSBpbiBtaWxsaXNlY29uZHMgZm9yIERQb1Agbm9uY2UgZXJyb3JzLlxuICpcbiAqIFdoZW4gYSBEUG9QIG5vbmNlIGVycm9yIG9jY3VycywgdGhlIFNESyB3YWl0cyB0aGlzIGR1cmF0aW9uIGJlZm9yZVxuICogcmV0cnlpbmcgdGhlIHJlcXVlc3Qgd2l0aCB0aGUgbmV3IG5vbmNlIHByb3ZpZGVkIGJ5IHRoZSBzZXJ2ZXIuXG4gKiBUaGlzIGhlbHBzIHByZXZlbnQgb3ZlcndoZWxtaW5nIHRoZSBzZXJ2ZXIgd2l0aCByYXBpZCByZXRyeSBhdHRlbXB0cy5cbiAqXG4gKiBAZGVmYXVsdCAxMDAgLSAxMDAgbWlsbGlzZWNvbmRzIGRlbGF5XG4gKi9cbmV4cG9ydCBjb25zdCBERUZBVUxUX1JFVFJZX0RFTEFZID0gMTAwO1xuLyoqXG4gKiBEZWZhdWx0IGppdHRlciBzZXR0aW5nIGZvciByZXRyeSBkZWxheS5cbiAqXG4gKiBXaGVuIGVuYWJsZWQsIGFkZHMgcmFuZG9tbmVzcyB0byB0aGUgcmV0cnkgZGVsYXkgKDUwLTEwMCUgb2YgY29uZmlndXJlZCBkZWxheSlcbiAqIHRvIHByZXZlbnQgdGh1bmRlcmluZyBoZXJkIGVmZmVjdHMgd2hlbiBtdWx0aXBsZSBjbGllbnRzIGVuY291bnRlclxuICogbm9uY2UgZXJyb3JzIHNpbXVsdGFuZW91c2x5LlxuICpcbiAqIEBkZWZhdWx0IHRydWUgLSBKaXR0ZXIgZW5hYmxlZCBmb3IgYmV0dGVyIGxvYWQgZGlzdHJpYnV0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBERUZBVUxUX1JFVFJZX0pJVFRFUiA9IHRydWU7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@auth0/nextjs-auth0/dist/utils/constants.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@auth0/nextjs-auth0/dist/utils/dpopUtils.js":
/*!******************************************************************!*\
  !*** ./node_modules/@auth0/nextjs-auth0/dist/utils/dpopUtils.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateDpopKeyPair: () => (/* binding */ generateDpopKeyPair),\n/* harmony export */   validateDpopConfiguration: () => (/* binding */ validateDpopConfiguration),\n/* harmony export */   validateKeyPairCompatibility: () => (/* binding */ validateKeyPairCompatibility),\n/* harmony export */   withDPoPNonceRetry: () => (/* binding */ withDPoPNonceRetry)\n/* harmony export */ });\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var oauth4webapi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! oauth4webapi */ \"(middleware)/./node_modules/oauth4webapi/build/index.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./constants.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/utils/constants.js\");\n\n\n\n/**\n * Detects if the current environment is Edge Runtime.\n * Edge Runtime environments have limited Node.js API support.\n */\nfunction isEdgeRuntime() {\n    return typeof globalThis.EdgeRuntime === \"string\";\n}\n/**\n * Generates a new ES256 key pair for DPoP (Demonstrating Proof-of-Possession) operations.\n *\n * This function creates a cryptographically secure ES256 key pair suitable for DPoP proof\n * generation. The generated keys use the P-256 elliptic curve with SHA-256 hashing,\n * which is the required algorithm for DPoP as specified in RFC 9449.\n *\n * @returns Promise that resolves to a DpopKeyPair containing the private and public keys\n *\n * @example\n * ```typescript\n * import { generateDpopKeyPair } from \"@auth0/nextjs-auth0/server\";\n *\n * const keyPair = await generateDpopKeyPair();\n *\n * const auth0 = new Auth0Client({\n *   useDPoP: true,\n *   dpopKeyPair: keyPair\n * });\n * ```\n *\n * @see {@link https://datatracker.ietf.org/doc/html/rfc9449 | RFC 9449: OAuth 2.0 Demonstrating Proof-of-Possession at the Application Layer (DPoP)}\n */\nasync function generateDpopKeyPair() {\n    return await (0,oauth4webapi__WEBPACK_IMPORTED_MODULE_2__.generateKeyPair)(\"ES256\");\n}\nconst applyRetryDelay = async (config) => {\n    const delay = config?.delay ?? 100;\n    const jitter = config?.jitter ?? true;\n    let actualDelay = delay;\n    // Apply jitter if enabled (50-100% of original delay to prevent thundering herd)\n    if (jitter) {\n        actualDelay = delay * (0.5 + Math.random() * 0.5);\n    }\n    // Delay before retry to avoid rapid successive requests\n    await new Promise((resolve) => setTimeout(resolve, actualDelay));\n};\n/**\n * Executes a function with retry logic for DPoP nonce errors.\n *\n * DPoP nonce errors occur when the authorization server requires a fresh nonce\n * for replay attack prevention. This function implements a single retry pattern\n * with configurable delay and jitter to handle these errors gracefully.\n *\n * The retry mechanism:\n * 1. If DPoP is not enabled, executes the function once without retry logic\n * 2. If DPoP is enabled:\n *    - Executes the provided function\n *    - If a DPoP nonce error occurs (400 with use_dpop_nonce error), waits with jitter\n *    - Retries the function once\n *    - The DPoP handle automatically learns and applies the new nonce on retry\n * 3. If the retry fails or any other error occurs, re-throws the error\n *\n * Note: The DPoP handle (oauth4webapi) is stateful and automatically learns nonces\n * from the DPoP-Nonce response header. No manual nonce injection is required.\n *\n * * ## Dual-Path Retry Logic\n *\n * The wrapper supports TWO different error paths, depending on how the caller\n * structures their token request:\n *\n * ### Path 1: HTTP Request Only (Recommended for Auth Code Flow)\n * **When to use:** Wrapping ONLY the HTTP request, not response processing*\n * **Error handling:**\n * - Nonce errors are detected via `response.status === 400` check (line 135)\n * - Non-nonce 400 errors pass through unchanged\n * - No exception is thrown; Response is returned for caller to process\n *\n * ### Path 2: HTTP Request + Response Processing (Used for Refresh/Connection Flows)\n * **When to use:** Wrapping both HTTP request AND response processing\n *\n *  * **Error handling:**\n * - Nonce errors are detected via `isDPoPNonceError(error)` check (line 150)\n * - Non-nonce errors are re-thrown unchanged\n * - Caller receives either a successful response or an exception\n *\n * @template T - The return type of the function being executed\n * @param fn - The async function to execute with retry logic\n * @param config - Configuration object with retry behavior and DPoP enablement flag\n * @param config.isDPoPEnabled - Whether DPoP nonce retry logic should be applied (default: false)\n * @param config.delay - Retry delay in milliseconds (default: 100)\n * @param config.jitter - Whether to apply jitter to retry delay (default: true)\n * @returns The result of the function execution\n * @throws The original error if it's not a DPoP nonce error or if retry fails\n *\n * @example\n * ```typescript\n * import { withDPoPNonceRetry } from \"@auth0/nextjs-auth0/server\";\n * import * as oauth from \"oauth4webapi\";\n *\n * const dpopHandle = oauth.DPoP(client, keyPair);\n *\n * const result = await withDPoPNonceRetry(\n *   async () => {\n *     return await authorizationCodeGrantRequest(\n *       metadata,\n *       client,\n *       clientAuth,\n *       params,\n *       redirectUri,\n *       codeVerifier,\n *       { DPoP: dpopHandle }\n *     );\n *   },\n *   { isDPoPEnabled: true, delay: 100, jitter: true }\n * );\n *\n * // The DPoP handle automatically learned the nonce from error response\n * // and injected it on retry\n * ```\n *\n * @see {@link https://datatracker.ietf.org/doc/html/rfc9449#section-7.1 | RFC 9449 Section 7.1: DPoP Nonce}\n */\nasync function withDPoPNonceRetry(fn, config) {\n    // If DPoP is not enabled, execute without retry logic\n    if (!config?.isDPoPEnabled) {\n        return await fn();\n    }\n    /**\n     * PATH 1: Response Object Inspection (Auth Code Flow)\n     *\n     * When fn() returns a Response object (not thrown), we check its status.\n     * If 400 with use_dpop_nonce error, extract nonce from error body and retry.\n     * This path is used when response processing happens OUTSIDE the wrapper.\n     *\n     * PATH 2: Exception Handling (Refresh/Connection Flows)\n     * When fn() includes response processing that throws, we catch exceptions above.\n     * Both paths support automatic nonce retry per RFC 9449 Section 8.\n     *\n     * @see withDPoPNonceRetry JSDoc for detailed explanation of dual-path retry logic\n     */\n    try {\n        const response = await fn();\n        // Check if this is a 400 error response with use_dpop_nonce\n        if (response instanceof Response && response.status === 400) {\n            try {\n                const errorBody = await response.clone().json();\n                if (errorBody.error === \"use_dpop_nonce\") {\n                    // This is a DPoP nonce error, retry with delay and jitter\n                    await applyRetryDelay(config);\n                    // Retry the request - the DPoP handle automatically learned the nonce\n                    return await fn();\n                }\n            }\n            catch {\n                // If JSON parsing fails, it's not a DPoP nonce error - return original response\n            }\n        }\n        return response;\n    }\n    catch (error) {\n        if ((0,oauth4webapi__WEBPACK_IMPORTED_MODULE_2__.isDPoPNonceError)(error)) {\n            // This is a DPoP nonce error, retry with delay and jitter\n            await applyRetryDelay(config);\n            // Retry the request - the DPoP handle automatically learned the nonce\n            return await fn();\n        }\n        else {\n            throw error;\n        }\n    }\n}\n/**\n * Validates that a private and public key form a compatible key pair\n * by attempting to sign and verify a test message.\n *\n * This function ensures that the provided private and public keys are mathematically\n * compatible by performing a sign-and-verify operation with test data. This validation\n * helps catch mismatched key pairs, corrupted keys, or incorrect key formats early.\n *\n * @param privateKey - The private key as a Node.js KeyObject\n * @param publicKey - The public key as a Node.js KeyObject\n * @returns true if keys are compatible, false otherwise\n *\n * @example\n * ```typescript\n * import { createPrivateKey, createPublicKey } from \"crypto\";\n * import { validateKeyPairCompatibility } from \"@auth0/nextjs-auth0/server\";\n *\n * const privateKey = createPrivateKey(privateKeyPem);\n * const publicKey = createPublicKey(publicKeyPem);\n *\n * if (validateKeyPairCompatibility(privateKey, publicKey)) {\n *   console.log(\"Keys are compatible\");\n * } else {\n *   console.log(\"Keys are not compatible\");\n * }\n * ```\n */\nfunction validateKeyPairCompatibility(privateKey, publicKey) {\n    // Skip key pair validation in Edge Runtime environments\n    // Edge Runtime doesn't have access to Node.js crypto APIs needed for validation\n    if (isEdgeRuntime()) {\n        return true;\n    }\n    try {\n        // Create test data\n        const testData = \"test-data-for-key-pair-validation\";\n        // Sign with private key\n        const sign = (0,crypto__WEBPACK_IMPORTED_MODULE_0__.createSign)(\"sha256\");\n        sign.update(testData);\n        const signature = sign.sign(privateKey);\n        // Verify with public key\n        const verify = (0,crypto__WEBPACK_IMPORTED_MODULE_0__.createVerify)(\"sha256\");\n        verify.update(testData);\n        const isValid = verify.verify(publicKey, signature);\n        if (!isValid) {\n            console.warn(\"WARNING: Private and public keys do not form a valid key pair - signature verification failed. \" +\n                \"Please ensure the keys are properly paired and in the correct format. \" +\n                \"DPoP will be disabled and bearer authentication will be used instead.\");\n            return false;\n        }\n        return true;\n    }\n    catch (error) {\n        console.warn(\"WARNING: Failed to validate key pair compatibility. \" +\n            \"This may indicate invalid key format, mismatched algorithms, or corrupted key data. \" +\n            \"DPoP will be disabled and bearer authentication will be used instead. \" +\n            `Error: ${error instanceof Error ? error.message : String(error)}`);\n        return false;\n    }\n}\n/**\n * Validates DPoP configuration and returns keypair and options if available.\n * Attempts to load from environment variables if not provided in options.\n *\n * **Validation Behavior:**\n * - **Success**: Returns both `dpopKeyPair` and `dpopOptions`\n * - **Validation Failure**: Returns `{ dpopKeyPair: undefined, dpopOptions: undefined }`\n *\n * When DPoP cannot be properly configured, the system falls back to bearer authentication.\n *\n * **Performance Characteristics - Synchronous Key Loading:**\n *\n * Key loading and validation are performed synchronously during Auth0Client constructor execution.\n *\n * **Optimization Strategies:**\n * - **Recommended**: Pre-generate keys and pass via `dpopKeyPair` option to avoid env var parsing\n * - **Module-Level**: Instantiate Auth0Client at module level (lib/auth0.ts) for one-time cost\n * - **High-Throughput**: Consider pre-loading keys outside constructor for serverless environments\n *\n * @example Performance-optimized initialization\n * ```typescript\n * // Optimal: Pre-generated keys (no env var parsing)\n * import { generateKeyPair } from \"oauth4webapi\";\n * const dpopKeyPair = await generateKeyPair(\"ES256\");\n * export const auth0 = new Auth0Client({ useDPoP: true, dpopKeyPair });\n * ```\n *\n * **Security-sensitive configuration:**\n * - `clockSkew`: Difference between client and server clocks (default: {@link DEFAULT_DPOP_CLOCK_SKEW})\n * - `clockTolerance`: Acceptable time drift for DPoP proof validation (default: {@link DEFAULT_DPOP_CLOCK_TOLERANCE}, max recommended: {@link MAX_RECOMMENDED_DPOP_CLOCK_TOLERANCE})\n *\n * Values exceeding {@link MAX_RECOMMENDED_DPOP_CLOCK_TOLERANCE} will trigger a warning but are not enforced.\n * Excessively large clock tolerance values may weaken DPoP security by allowing replay attacks within a\n * wider time window. Prefer synchronizing server clocks using NTP instead of increasing tolerance.\n *\n * @param options The configuration options containing DPoP settings\n * @returns Object containing DpopKeyPair and DpopOptions if validation succeeds, or both undefined if validation fails\n */\nfunction validateDpopConfiguration(options) {\n    const useDPoP = options.useDPoP || false;\n    // If DPoP is not enabled, return early with undefined values\n    if (!useDPoP) {\n        return { dpopKeyPair: undefined, dpopOptions: undefined };\n    }\n    // Build DPoP options with defaults from environment variables or provided options\n    const clockTolerance = options.dpopOptions?.clockTolerance ??\n        (process.env.AUTH0_DPOP_CLOCK_TOLERANCE\n            ? parseInt(process.env.AUTH0_DPOP_CLOCK_TOLERANCE, 10)\n            : _constants_js__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_DPOP_CLOCK_TOLERANCE);\n    // Warn if clock tolerance exceeds recommended maximum (but don't enforce)\n    if (clockTolerance > _constants_js__WEBPACK_IMPORTED_MODULE_1__.MAX_RECOMMENDED_DPOP_CLOCK_TOLERANCE) {\n        const productionMaxTolerance = process.env\n            .AUTH0_DPOP_CLOCK_TOLERANCE_MAX_PROD\n            ? parseInt(process.env.AUTH0_DPOP_CLOCK_TOLERANCE_MAX_PROD, 10)\n            : _constants_js__WEBPACK_IMPORTED_MODULE_1__.MAX_RECOMMENDED_DPOP_CLOCK_TOLERANCE;\n        if (false) {}\n        console.warn(`WARNING: clockTolerance of ${clockTolerance}s exceeds recommended maximum of ${_constants_js__WEBPACK_IMPORTED_MODULE_1__.MAX_RECOMMENDED_DPOP_CLOCK_TOLERANCE}s. ` +\n            \"This may weaken DPoP security by allowing replay attacks within a wider time window. \" +\n            \"Consider synchronizing server clocks using NTP instead of increasing tolerance.\");\n    }\n    const dpopOptions = {\n        clockSkew: options.dpopOptions?.clockSkew ??\n            (process.env.AUTH0_DPOP_CLOCK_SKEW\n                ? parseInt(process.env.AUTH0_DPOP_CLOCK_SKEW, 10)\n                : _constants_js__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_DPOP_CLOCK_SKEW),\n        clockTolerance,\n        retry: {\n            delay: options.dpopOptions?.retry?.delay ??\n                (process.env.AUTH0_RETRY_DELAY\n                    ? parseInt(process.env.AUTH0_RETRY_DELAY, 10)\n                    : _constants_js__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_RETRY_DELAY),\n            jitter: options.dpopOptions?.retry?.jitter ??\n                (process.env.AUTH0_RETRY_JITTER\n                    ? process.env.AUTH0_RETRY_JITTER === \"true\"\n                    : _constants_js__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_RETRY_JITTER)\n        }\n    };\n    // Validate retry configuration\n    if (dpopOptions.retry &&\n        typeof dpopOptions.retry.delay === \"number\" &&\n        dpopOptions.retry.delay < 0) {\n        throw new Error(\"Retry delay must be non-negative\");\n    }\n    // If we already have a keypair, return it with options\n    if (options.dpopKeyPair) {\n        return {\n            dpopKeyPair: options.dpopKeyPair,\n            dpopOptions\n        };\n    }\n    // If DPoP is enabled but no keypair provided, check if environment variables exist\n    if (useDPoP) {\n        const privateKeyPem = process.env.AUTH0_DPOP_PRIVATE_KEY;\n        const publicKeyPem = process.env.AUTH0_DPOP_PUBLIC_KEY;\n        // In Edge Runtime, we can't use Node.js crypto APIs to load keys from environment variables\n        if (isEdgeRuntime() && (privateKeyPem || publicKeyPem)) {\n            console.warn(\"WARNING: Running in Edge Runtime environment. DPoP keypair loading from environment variables \" +\n                \"is not supported due to limited Node.js crypto API access. DPoP has been disabled. \" +\n                \"To use DPoP in Edge Runtime, provide a pre-generated keypair via the dpopKeyPair option.\");\n            return { dpopKeyPair: undefined, dpopOptions: undefined };\n        }\n        if (privateKeyPem && publicKeyPem) {\n            try {\n                // Note: Key loading is performed synchronously during initialization.\n                // Ensure keys are pre-loaded or cached to avoid blocking the event loop.\n                const privateKeyNodeJS = (0,crypto__WEBPACK_IMPORTED_MODULE_0__.createPrivateKey)(privateKeyPem);\n                const publicKeyNodeJS = (0,crypto__WEBPACK_IMPORTED_MODULE_0__.createPublicKey)(publicKeyPem);\n                // Validate algorithm - DPoP requires ES256 (ECDSA using P-256 and SHA-256)\n                if (privateKeyNodeJS.asymmetricKeyType !== \"ec\") {\n                    throw new Error(`DPoP private key must be an Elliptic Curve key for ES256 algorithm, got: ${privateKeyNodeJS.asymmetricKeyType}`);\n                }\n                if (publicKeyNodeJS.asymmetricKeyType !== \"ec\") {\n                    throw new Error(`DPoP public key must be an Elliptic Curve key for ES256 algorithm, got: ${publicKeyNodeJS.asymmetricKeyType}`);\n                }\n                const privateKeyDetails = privateKeyNodeJS.asymmetricKeyDetails;\n                const publicKeyDetails = publicKeyNodeJS.asymmetricKeyDetails;\n                // Validate P-256 curve requirement for ES256 algorithm\n                if (privateKeyDetails?.namedCurve !== \"prime256v1\") {\n                    throw new Error(`DPoP private key must use P-256 curve (prime256v1) for ES256 algorithm, got: ${privateKeyDetails?.namedCurve}`);\n                }\n                if (publicKeyDetails?.namedCurve !== \"prime256v1\") {\n                    throw new Error(`DPoP public key must use P-256 curve (prime256v1) for ES256 algorithm, got: ${publicKeyDetails?.namedCurve}`);\n                }\n                // Validate key pair compatibility\n                const isKeyPairValid = validateKeyPairCompatibility(privateKeyNodeJS, publicKeyNodeJS);\n                if (!isKeyPairValid) {\n                    // Key pair validation failed, completely disable DPoP to ensure consistent state\n                    // When validation fails, we should not use DPoP at all and fallback to bearer auth\n                    console.warn(\"WARNING: DPoP key pair validation failed. DPoP has been completely disabled. \" +\n                        \"Falling back to bearer authentication. Please verify your key pair configuration.\");\n                    return { dpopKeyPair: undefined, dpopOptions: undefined };\n                }\n                // Convert NodeJS KeyObjects to CryptoKeys synchronously\n                const privateKey = privateKeyNodeJS.toCryptoKey(\"ES256\", false, [\n                    \"sign\"\n                ]);\n                const publicKey = publicKeyNodeJS.toCryptoKey(\"ES256\", false, [\n                    \"verify\"\n                ]);\n                return {\n                    dpopKeyPair: { privateKey, publicKey },\n                    dpopOptions\n                };\n            }\n            catch (error) {\n                console.warn(\"WARNING: Failed to load DPoP keypair from environment variables. \" +\n                    \"Please ensure AUTH0_DPOP_PUBLIC_KEY and AUTH0_DPOP_PRIVATE_KEY contain valid ES256 keys in PEM format. \" +\n                    `Error: ${error instanceof Error ? error.message : String(error)}`);\n            }\n        }\n        if (!privateKeyPem || !publicKeyPem) {\n            // Issue warning if no keypair is available\n            console.warn(\"WARNING: useDPoP is set to true but dpopKeyPair is not provided. \" +\n                \"DPoP will not be used and protected requests will use bearer authentication instead. \" +\n                \"To enable DPoP, provide a dpopKeyPair in the Auth0Client options or set \" +\n                \"AUTH0_DPOP_PUBLIC_KEY and AUTH0_DPOP_PRIVATE_KEY environment variables.\");\n        }\n    }\n    // No DPoP keypair available, but DPoP is enabled, return options without keypair\n    return { dpopKeyPair: undefined, dpopOptions };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0BhdXRoMC9uZXh0anMtYXV0aDAvZGlzdC91dGlscy9kcG9wVXRpbHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFxRjtBQUNwQjtBQUN1RztBQUN4SztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHNCQUFzQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNPO0FBQ1AsaUJBQWlCLDZEQUFlO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVkscUJBQXFCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsTUFBTTtBQUNOLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw4REFBZ0I7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxvQ0FBb0M7QUFDaEQsWUFBWSwrQkFBK0I7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsa0RBQVU7QUFDL0I7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLG9EQUFZO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsdURBQXVEO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxnREFBZ0Q7QUFDeEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrQkFBa0I7QUFDOUI7QUFDQSwwQ0FBMEMsNEJBQTRCO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBLHlFQUF5RSw4QkFBOEI7QUFDdkcsa0ZBQWtGLG1DQUFtQyxvQkFBb0IsMkNBQTJDO0FBQ3BMO0FBQ0EscUJBQXFCLDRDQUE0QztBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyx1RUFBNEI7QUFDMUM7QUFDQSx5QkFBeUIsK0VBQW9DO0FBQzdEO0FBQ0E7QUFDQTtBQUNBLGNBQWMsK0VBQW9DO0FBQ2xELFlBQVksS0FDdUMsRUFBRSxFQUk1QztBQUNULG1EQUFtRCxlQUFlLG1DQUFtQywrRUFBb0MsQ0FBQztBQUMxSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixrRUFBdUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw4REFBbUI7QUFDekM7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLCtEQUFvQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5Qyx3REFBZ0I7QUFDekQsd0NBQXdDLHVEQUFlO0FBQ3ZEO0FBQ0E7QUFDQSxnSEFBZ0gsbUNBQW1DO0FBQ25KO0FBQ0E7QUFDQSwrR0FBK0csa0NBQWtDO0FBQ2pKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvSEFBb0gsOEJBQThCO0FBQ2xKO0FBQ0E7QUFDQSxtSEFBbUgsNkJBQTZCO0FBQ2hKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLHVCQUF1QjtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsdURBQXVEO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IiLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXEBhdXRoMFxcbmV4dGpzLWF1dGgwXFxkaXN0XFx1dGlsc1xcZHBvcFV0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZVByaXZhdGVLZXksIGNyZWF0ZVB1YmxpY0tleSwgY3JlYXRlU2lnbiwgY3JlYXRlVmVyaWZ5IH0gZnJvbSBcImNyeXB0b1wiO1xuaW1wb3J0IHsgZ2VuZXJhdGVLZXlQYWlyLCBpc0RQb1BOb25jZUVycm9yIH0gZnJvbSBcIm9hdXRoNHdlYmFwaVwiO1xuaW1wb3J0IHsgREVGQVVMVF9EUE9QX0NMT0NLX1NLRVcsIERFRkFVTFRfRFBPUF9DTE9DS19UT0xFUkFOQ0UsIERFRkFVTFRfUkVUUllfREVMQVksIERFRkFVTFRfUkVUUllfSklUVEVSLCBNQVhfUkVDT01NRU5ERURfRFBPUF9DTE9DS19UT0xFUkFOQ0UgfSBmcm9tIFwiLi9jb25zdGFudHMuanNcIjtcbi8qKlxuICogRGV0ZWN0cyBpZiB0aGUgY3VycmVudCBlbnZpcm9ubWVudCBpcyBFZGdlIFJ1bnRpbWUuXG4gKiBFZGdlIFJ1bnRpbWUgZW52aXJvbm1lbnRzIGhhdmUgbGltaXRlZCBOb2RlLmpzIEFQSSBzdXBwb3J0LlxuICovXG5mdW5jdGlvbiBpc0VkZ2VSdW50aW1lKCkge1xuICAgIHJldHVybiB0eXBlb2YgZ2xvYmFsVGhpcy5FZGdlUnVudGltZSA9PT0gXCJzdHJpbmdcIjtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgbmV3IEVTMjU2IGtleSBwYWlyIGZvciBEUG9QIChEZW1vbnN0cmF0aW5nIFByb29mLW9mLVBvc3Nlc3Npb24pIG9wZXJhdGlvbnMuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBjcmVhdGVzIGEgY3J5cHRvZ3JhcGhpY2FsbHkgc2VjdXJlIEVTMjU2IGtleSBwYWlyIHN1aXRhYmxlIGZvciBEUG9QIHByb29mXG4gKiBnZW5lcmF0aW9uLiBUaGUgZ2VuZXJhdGVkIGtleXMgdXNlIHRoZSBQLTI1NiBlbGxpcHRpYyBjdXJ2ZSB3aXRoIFNIQS0yNTYgaGFzaGluZyxcbiAqIHdoaWNoIGlzIHRoZSByZXF1aXJlZCBhbGdvcml0aG0gZm9yIERQb1AgYXMgc3BlY2lmaWVkIGluIFJGQyA5NDQ5LlxuICpcbiAqIEByZXR1cm5zIFByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhIERwb3BLZXlQYWlyIGNvbnRhaW5pbmcgdGhlIHByaXZhdGUgYW5kIHB1YmxpYyBrZXlzXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7IGdlbmVyYXRlRHBvcEtleVBhaXIgfSBmcm9tIFwiQGF1dGgwL25leHRqcy1hdXRoMC9zZXJ2ZXJcIjtcbiAqXG4gKiBjb25zdCBrZXlQYWlyID0gYXdhaXQgZ2VuZXJhdGVEcG9wS2V5UGFpcigpO1xuICpcbiAqIGNvbnN0IGF1dGgwID0gbmV3IEF1dGgwQ2xpZW50KHtcbiAqICAgdXNlRFBvUDogdHJ1ZSxcbiAqICAgZHBvcEtleVBhaXI6IGtleVBhaXJcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9kYXRhdHJhY2tlci5pZXRmLm9yZy9kb2MvaHRtbC9yZmM5NDQ5IHwgUkZDIDk0NDk6IE9BdXRoIDIuMCBEZW1vbnN0cmF0aW5nIFByb29mLW9mLVBvc3Nlc3Npb24gYXQgdGhlIEFwcGxpY2F0aW9uIExheWVyIChEUG9QKX1cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlRHBvcEtleVBhaXIoKSB7XG4gICAgcmV0dXJuIGF3YWl0IGdlbmVyYXRlS2V5UGFpcihcIkVTMjU2XCIpO1xufVxuY29uc3QgYXBwbHlSZXRyeURlbGF5ID0gYXN5bmMgKGNvbmZpZykgPT4ge1xuICAgIGNvbnN0IGRlbGF5ID0gY29uZmlnPy5kZWxheSA/PyAxMDA7XG4gICAgY29uc3Qgaml0dGVyID0gY29uZmlnPy5qaXR0ZXIgPz8gdHJ1ZTtcbiAgICBsZXQgYWN0dWFsRGVsYXkgPSBkZWxheTtcbiAgICAvLyBBcHBseSBqaXR0ZXIgaWYgZW5hYmxlZCAoNTAtMTAwJSBvZiBvcmlnaW5hbCBkZWxheSB0byBwcmV2ZW50IHRodW5kZXJpbmcgaGVyZClcbiAgICBpZiAoaml0dGVyKSB7XG4gICAgICAgIGFjdHVhbERlbGF5ID0gZGVsYXkgKiAoMC41ICsgTWF0aC5yYW5kb20oKSAqIDAuNSk7XG4gICAgfVxuICAgIC8vIERlbGF5IGJlZm9yZSByZXRyeSB0byBhdm9pZCByYXBpZCBzdWNjZXNzaXZlIHJlcXVlc3RzXG4gICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgYWN0dWFsRGVsYXkpKTtcbn07XG4vKipcbiAqIEV4ZWN1dGVzIGEgZnVuY3Rpb24gd2l0aCByZXRyeSBsb2dpYyBmb3IgRFBvUCBub25jZSBlcnJvcnMuXG4gKlxuICogRFBvUCBub25jZSBlcnJvcnMgb2NjdXIgd2hlbiB0aGUgYXV0aG9yaXphdGlvbiBzZXJ2ZXIgcmVxdWlyZXMgYSBmcmVzaCBub25jZVxuICogZm9yIHJlcGxheSBhdHRhY2sgcHJldmVudGlvbi4gVGhpcyBmdW5jdGlvbiBpbXBsZW1lbnRzIGEgc2luZ2xlIHJldHJ5IHBhdHRlcm5cbiAqIHdpdGggY29uZmlndXJhYmxlIGRlbGF5IGFuZCBqaXR0ZXIgdG8gaGFuZGxlIHRoZXNlIGVycm9ycyBncmFjZWZ1bGx5LlxuICpcbiAqIFRoZSByZXRyeSBtZWNoYW5pc206XG4gKiAxLiBJZiBEUG9QIGlzIG5vdCBlbmFibGVkLCBleGVjdXRlcyB0aGUgZnVuY3Rpb24gb25jZSB3aXRob3V0IHJldHJ5IGxvZ2ljXG4gKiAyLiBJZiBEUG9QIGlzIGVuYWJsZWQ6XG4gKiAgICAtIEV4ZWN1dGVzIHRoZSBwcm92aWRlZCBmdW5jdGlvblxuICogICAgLSBJZiBhIERQb1Agbm9uY2UgZXJyb3Igb2NjdXJzICg0MDAgd2l0aCB1c2VfZHBvcF9ub25jZSBlcnJvciksIHdhaXRzIHdpdGggaml0dGVyXG4gKiAgICAtIFJldHJpZXMgdGhlIGZ1bmN0aW9uIG9uY2VcbiAqICAgIC0gVGhlIERQb1AgaGFuZGxlIGF1dG9tYXRpY2FsbHkgbGVhcm5zIGFuZCBhcHBsaWVzIHRoZSBuZXcgbm9uY2Ugb24gcmV0cnlcbiAqIDMuIElmIHRoZSByZXRyeSBmYWlscyBvciBhbnkgb3RoZXIgZXJyb3Igb2NjdXJzLCByZS10aHJvd3MgdGhlIGVycm9yXG4gKlxuICogTm90ZTogVGhlIERQb1AgaGFuZGxlIChvYXV0aDR3ZWJhcGkpIGlzIHN0YXRlZnVsIGFuZCBhdXRvbWF0aWNhbGx5IGxlYXJucyBub25jZXNcbiAqIGZyb20gdGhlIERQb1AtTm9uY2UgcmVzcG9uc2UgaGVhZGVyLiBObyBtYW51YWwgbm9uY2UgaW5qZWN0aW9uIGlzIHJlcXVpcmVkLlxuICpcbiAqICogIyMgRHVhbC1QYXRoIFJldHJ5IExvZ2ljXG4gKlxuICogVGhlIHdyYXBwZXIgc3VwcG9ydHMgVFdPIGRpZmZlcmVudCBlcnJvciBwYXRocywgZGVwZW5kaW5nIG9uIGhvdyB0aGUgY2FsbGVyXG4gKiBzdHJ1Y3R1cmVzIHRoZWlyIHRva2VuIHJlcXVlc3Q6XG4gKlxuICogIyMjIFBhdGggMTogSFRUUCBSZXF1ZXN0IE9ubHkgKFJlY29tbWVuZGVkIGZvciBBdXRoIENvZGUgRmxvdylcbiAqICoqV2hlbiB0byB1c2U6KiogV3JhcHBpbmcgT05MWSB0aGUgSFRUUCByZXF1ZXN0LCBub3QgcmVzcG9uc2UgcHJvY2Vzc2luZypcbiAqICoqRXJyb3IgaGFuZGxpbmc6KipcbiAqIC0gTm9uY2UgZXJyb3JzIGFyZSBkZXRlY3RlZCB2aWEgYHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAwYCBjaGVjayAobGluZSAxMzUpXG4gKiAtIE5vbi1ub25jZSA0MDAgZXJyb3JzIHBhc3MgdGhyb3VnaCB1bmNoYW5nZWRcbiAqIC0gTm8gZXhjZXB0aW9uIGlzIHRocm93bjsgUmVzcG9uc2UgaXMgcmV0dXJuZWQgZm9yIGNhbGxlciB0byBwcm9jZXNzXG4gKlxuICogIyMjIFBhdGggMjogSFRUUCBSZXF1ZXN0ICsgUmVzcG9uc2UgUHJvY2Vzc2luZyAoVXNlZCBmb3IgUmVmcmVzaC9Db25uZWN0aW9uIEZsb3dzKVxuICogKipXaGVuIHRvIHVzZToqKiBXcmFwcGluZyBib3RoIEhUVFAgcmVxdWVzdCBBTkQgcmVzcG9uc2UgcHJvY2Vzc2luZ1xuICpcbiAqICAqICoqRXJyb3IgaGFuZGxpbmc6KipcbiAqIC0gTm9uY2UgZXJyb3JzIGFyZSBkZXRlY3RlZCB2aWEgYGlzRFBvUE5vbmNlRXJyb3IoZXJyb3IpYCBjaGVjayAobGluZSAxNTApXG4gKiAtIE5vbi1ub25jZSBlcnJvcnMgYXJlIHJlLXRocm93biB1bmNoYW5nZWRcbiAqIC0gQ2FsbGVyIHJlY2VpdmVzIGVpdGhlciBhIHN1Y2Nlc3NmdWwgcmVzcG9uc2Ugb3IgYW4gZXhjZXB0aW9uXG4gKlxuICogQHRlbXBsYXRlIFQgLSBUaGUgcmV0dXJuIHR5cGUgb2YgdGhlIGZ1bmN0aW9uIGJlaW5nIGV4ZWN1dGVkXG4gKiBAcGFyYW0gZm4gLSBUaGUgYXN5bmMgZnVuY3Rpb24gdG8gZXhlY3V0ZSB3aXRoIHJldHJ5IGxvZ2ljXG4gKiBAcGFyYW0gY29uZmlnIC0gQ29uZmlndXJhdGlvbiBvYmplY3Qgd2l0aCByZXRyeSBiZWhhdmlvciBhbmQgRFBvUCBlbmFibGVtZW50IGZsYWdcbiAqIEBwYXJhbSBjb25maWcuaXNEUG9QRW5hYmxlZCAtIFdoZXRoZXIgRFBvUCBub25jZSByZXRyeSBsb2dpYyBzaG91bGQgYmUgYXBwbGllZCAoZGVmYXVsdDogZmFsc2UpXG4gKiBAcGFyYW0gY29uZmlnLmRlbGF5IC0gUmV0cnkgZGVsYXkgaW4gbWlsbGlzZWNvbmRzIChkZWZhdWx0OiAxMDApXG4gKiBAcGFyYW0gY29uZmlnLmppdHRlciAtIFdoZXRoZXIgdG8gYXBwbHkgaml0dGVyIHRvIHJldHJ5IGRlbGF5IChkZWZhdWx0OiB0cnVlKVxuICogQHJldHVybnMgVGhlIHJlc3VsdCBvZiB0aGUgZnVuY3Rpb24gZXhlY3V0aW9uXG4gKiBAdGhyb3dzIFRoZSBvcmlnaW5hbCBlcnJvciBpZiBpdCdzIG5vdCBhIERQb1Agbm9uY2UgZXJyb3Igb3IgaWYgcmV0cnkgZmFpbHNcbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHlwZXNjcmlwdFxuICogaW1wb3J0IHsgd2l0aERQb1BOb25jZVJldHJ5IH0gZnJvbSBcIkBhdXRoMC9uZXh0anMtYXV0aDAvc2VydmVyXCI7XG4gKiBpbXBvcnQgKiBhcyBvYXV0aCBmcm9tIFwib2F1dGg0d2ViYXBpXCI7XG4gKlxuICogY29uc3QgZHBvcEhhbmRsZSA9IG9hdXRoLkRQb1AoY2xpZW50LCBrZXlQYWlyKTtcbiAqXG4gKiBjb25zdCByZXN1bHQgPSBhd2FpdCB3aXRoRFBvUE5vbmNlUmV0cnkoXG4gKiAgIGFzeW5jICgpID0+IHtcbiAqICAgICByZXR1cm4gYXdhaXQgYXV0aG9yaXphdGlvbkNvZGVHcmFudFJlcXVlc3QoXG4gKiAgICAgICBtZXRhZGF0YSxcbiAqICAgICAgIGNsaWVudCxcbiAqICAgICAgIGNsaWVudEF1dGgsXG4gKiAgICAgICBwYXJhbXMsXG4gKiAgICAgICByZWRpcmVjdFVyaSxcbiAqICAgICAgIGNvZGVWZXJpZmllcixcbiAqICAgICAgIHsgRFBvUDogZHBvcEhhbmRsZSB9XG4gKiAgICAgKTtcbiAqICAgfSxcbiAqICAgeyBpc0RQb1BFbmFibGVkOiB0cnVlLCBkZWxheTogMTAwLCBqaXR0ZXI6IHRydWUgfVxuICogKTtcbiAqXG4gKiAvLyBUaGUgRFBvUCBoYW5kbGUgYXV0b21hdGljYWxseSBsZWFybmVkIHRoZSBub25jZSBmcm9tIGVycm9yIHJlc3BvbnNlXG4gKiAvLyBhbmQgaW5qZWN0ZWQgaXQgb24gcmV0cnlcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZGF0YXRyYWNrZXIuaWV0Zi5vcmcvZG9jL2h0bWwvcmZjOTQ0OSNzZWN0aW9uLTcuMSB8IFJGQyA5NDQ5IFNlY3Rpb24gNy4xOiBEUG9QIE5vbmNlfVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gd2l0aERQb1BOb25jZVJldHJ5KGZuLCBjb25maWcpIHtcbiAgICAvLyBJZiBEUG9QIGlzIG5vdCBlbmFibGVkLCBleGVjdXRlIHdpdGhvdXQgcmV0cnkgbG9naWNcbiAgICBpZiAoIWNvbmZpZz8uaXNEUG9QRW5hYmxlZCkge1xuICAgICAgICByZXR1cm4gYXdhaXQgZm4oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUEFUSCAxOiBSZXNwb25zZSBPYmplY3QgSW5zcGVjdGlvbiAoQXV0aCBDb2RlIEZsb3cpXG4gICAgICpcbiAgICAgKiBXaGVuIGZuKCkgcmV0dXJucyBhIFJlc3BvbnNlIG9iamVjdCAobm90IHRocm93biksIHdlIGNoZWNrIGl0cyBzdGF0dXMuXG4gICAgICogSWYgNDAwIHdpdGggdXNlX2Rwb3Bfbm9uY2UgZXJyb3IsIGV4dHJhY3Qgbm9uY2UgZnJvbSBlcnJvciBib2R5IGFuZCByZXRyeS5cbiAgICAgKiBUaGlzIHBhdGggaXMgdXNlZCB3aGVuIHJlc3BvbnNlIHByb2Nlc3NpbmcgaGFwcGVucyBPVVRTSURFIHRoZSB3cmFwcGVyLlxuICAgICAqXG4gICAgICogUEFUSCAyOiBFeGNlcHRpb24gSGFuZGxpbmcgKFJlZnJlc2gvQ29ubmVjdGlvbiBGbG93cylcbiAgICAgKiBXaGVuIGZuKCkgaW5jbHVkZXMgcmVzcG9uc2UgcHJvY2Vzc2luZyB0aGF0IHRocm93cywgd2UgY2F0Y2ggZXhjZXB0aW9ucyBhYm92ZS5cbiAgICAgKiBCb3RoIHBhdGhzIHN1cHBvcnQgYXV0b21hdGljIG5vbmNlIHJldHJ5IHBlciBSRkMgOTQ0OSBTZWN0aW9uIDguXG4gICAgICpcbiAgICAgKiBAc2VlIHdpdGhEUG9QTm9uY2VSZXRyeSBKU0RvYyBmb3IgZGV0YWlsZWQgZXhwbGFuYXRpb24gb2YgZHVhbC1wYXRoIHJldHJ5IGxvZ2ljXG4gICAgICovXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmbigpO1xuICAgICAgICAvLyBDaGVjayBpZiB0aGlzIGlzIGEgNDAwIGVycm9yIHJlc3BvbnNlIHdpdGggdXNlX2Rwb3Bfbm9uY2VcbiAgICAgICAgaWYgKHJlc3BvbnNlIGluc3RhbmNlb2YgUmVzcG9uc2UgJiYgcmVzcG9uc2Uuc3RhdHVzID09PSA0MDApIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3JCb2R5ID0gYXdhaXQgcmVzcG9uc2UuY2xvbmUoKS5qc29uKCk7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yQm9keS5lcnJvciA9PT0gXCJ1c2VfZHBvcF9ub25jZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBEUG9QIG5vbmNlIGVycm9yLCByZXRyeSB3aXRoIGRlbGF5IGFuZCBqaXR0ZXJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgYXBwbHlSZXRyeURlbGF5KGNvbmZpZyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJldHJ5IHRoZSByZXF1ZXN0IC0gdGhlIERQb1AgaGFuZGxlIGF1dG9tYXRpY2FsbHkgbGVhcm5lZCB0aGUgbm9uY2VcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGZuKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgICAgIC8vIElmIEpTT04gcGFyc2luZyBmYWlscywgaXQncyBub3QgYSBEUG9QIG5vbmNlIGVycm9yIC0gcmV0dXJuIG9yaWdpbmFsIHJlc3BvbnNlXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaWYgKGlzRFBvUE5vbmNlRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAvLyBUaGlzIGlzIGEgRFBvUCBub25jZSBlcnJvciwgcmV0cnkgd2l0aCBkZWxheSBhbmQgaml0dGVyXG4gICAgICAgICAgICBhd2FpdCBhcHBseVJldHJ5RGVsYXkoY29uZmlnKTtcbiAgICAgICAgICAgIC8vIFJldHJ5IHRoZSByZXF1ZXN0IC0gdGhlIERQb1AgaGFuZGxlIGF1dG9tYXRpY2FsbHkgbGVhcm5lZCB0aGUgbm9uY2VcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBmbigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFZhbGlkYXRlcyB0aGF0IGEgcHJpdmF0ZSBhbmQgcHVibGljIGtleSBmb3JtIGEgY29tcGF0aWJsZSBrZXkgcGFpclxuICogYnkgYXR0ZW1wdGluZyB0byBzaWduIGFuZCB2ZXJpZnkgYSB0ZXN0IG1lc3NhZ2UuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBlbnN1cmVzIHRoYXQgdGhlIHByb3ZpZGVkIHByaXZhdGUgYW5kIHB1YmxpYyBrZXlzIGFyZSBtYXRoZW1hdGljYWxseVxuICogY29tcGF0aWJsZSBieSBwZXJmb3JtaW5nIGEgc2lnbi1hbmQtdmVyaWZ5IG9wZXJhdGlvbiB3aXRoIHRlc3QgZGF0YS4gVGhpcyB2YWxpZGF0aW9uXG4gKiBoZWxwcyBjYXRjaCBtaXNtYXRjaGVkIGtleSBwYWlycywgY29ycnVwdGVkIGtleXMsIG9yIGluY29ycmVjdCBrZXkgZm9ybWF0cyBlYXJseS5cbiAqXG4gKiBAcGFyYW0gcHJpdmF0ZUtleSAtIFRoZSBwcml2YXRlIGtleSBhcyBhIE5vZGUuanMgS2V5T2JqZWN0XG4gKiBAcGFyYW0gcHVibGljS2V5IC0gVGhlIHB1YmxpYyBrZXkgYXMgYSBOb2RlLmpzIEtleU9iamVjdFxuICogQHJldHVybnMgdHJ1ZSBpZiBrZXlzIGFyZSBjb21wYXRpYmxlLCBmYWxzZSBvdGhlcndpc2VcbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHlwZXNjcmlwdFxuICogaW1wb3J0IHsgY3JlYXRlUHJpdmF0ZUtleSwgY3JlYXRlUHVibGljS2V5IH0gZnJvbSBcImNyeXB0b1wiO1xuICogaW1wb3J0IHsgdmFsaWRhdGVLZXlQYWlyQ29tcGF0aWJpbGl0eSB9IGZyb20gXCJAYXV0aDAvbmV4dGpzLWF1dGgwL3NlcnZlclwiO1xuICpcbiAqIGNvbnN0IHByaXZhdGVLZXkgPSBjcmVhdGVQcml2YXRlS2V5KHByaXZhdGVLZXlQZW0pO1xuICogY29uc3QgcHVibGljS2V5ID0gY3JlYXRlUHVibGljS2V5KHB1YmxpY0tleVBlbSk7XG4gKlxuICogaWYgKHZhbGlkYXRlS2V5UGFpckNvbXBhdGliaWxpdHkocHJpdmF0ZUtleSwgcHVibGljS2V5KSkge1xuICogICBjb25zb2xlLmxvZyhcIktleXMgYXJlIGNvbXBhdGlibGVcIik7XG4gKiB9IGVsc2Uge1xuICogICBjb25zb2xlLmxvZyhcIktleXMgYXJlIG5vdCBjb21wYXRpYmxlXCIpO1xuICogfVxuICogYGBgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUtleVBhaXJDb21wYXRpYmlsaXR5KHByaXZhdGVLZXksIHB1YmxpY0tleSkge1xuICAgIC8vIFNraXAga2V5IHBhaXIgdmFsaWRhdGlvbiBpbiBFZGdlIFJ1bnRpbWUgZW52aXJvbm1lbnRzXG4gICAgLy8gRWRnZSBSdW50aW1lIGRvZXNuJ3QgaGF2ZSBhY2Nlc3MgdG8gTm9kZS5qcyBjcnlwdG8gQVBJcyBuZWVkZWQgZm9yIHZhbGlkYXRpb25cbiAgICBpZiAoaXNFZGdlUnVudGltZSgpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyBDcmVhdGUgdGVzdCBkYXRhXG4gICAgICAgIGNvbnN0IHRlc3REYXRhID0gXCJ0ZXN0LWRhdGEtZm9yLWtleS1wYWlyLXZhbGlkYXRpb25cIjtcbiAgICAgICAgLy8gU2lnbiB3aXRoIHByaXZhdGUga2V5XG4gICAgICAgIGNvbnN0IHNpZ24gPSBjcmVhdGVTaWduKFwic2hhMjU2XCIpO1xuICAgICAgICBzaWduLnVwZGF0ZSh0ZXN0RGF0YSk7XG4gICAgICAgIGNvbnN0IHNpZ25hdHVyZSA9IHNpZ24uc2lnbihwcml2YXRlS2V5KTtcbiAgICAgICAgLy8gVmVyaWZ5IHdpdGggcHVibGljIGtleVxuICAgICAgICBjb25zdCB2ZXJpZnkgPSBjcmVhdGVWZXJpZnkoXCJzaGEyNTZcIik7XG4gICAgICAgIHZlcmlmeS51cGRhdGUodGVzdERhdGEpO1xuICAgICAgICBjb25zdCBpc1ZhbGlkID0gdmVyaWZ5LnZlcmlmeShwdWJsaWNLZXksIHNpZ25hdHVyZSk7XG4gICAgICAgIGlmICghaXNWYWxpZCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiV0FSTklORzogUHJpdmF0ZSBhbmQgcHVibGljIGtleXMgZG8gbm90IGZvcm0gYSB2YWxpZCBrZXkgcGFpciAtIHNpZ25hdHVyZSB2ZXJpZmljYXRpb24gZmFpbGVkLiBcIiArXG4gICAgICAgICAgICAgICAgXCJQbGVhc2UgZW5zdXJlIHRoZSBrZXlzIGFyZSBwcm9wZXJseSBwYWlyZWQgYW5kIGluIHRoZSBjb3JyZWN0IGZvcm1hdC4gXCIgK1xuICAgICAgICAgICAgICAgIFwiRFBvUCB3aWxsIGJlIGRpc2FibGVkIGFuZCBiZWFyZXIgYXV0aGVudGljYXRpb24gd2lsbCBiZSB1c2VkIGluc3RlYWQuXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiV0FSTklORzogRmFpbGVkIHRvIHZhbGlkYXRlIGtleSBwYWlyIGNvbXBhdGliaWxpdHkuIFwiICtcbiAgICAgICAgICAgIFwiVGhpcyBtYXkgaW5kaWNhdGUgaW52YWxpZCBrZXkgZm9ybWF0LCBtaXNtYXRjaGVkIGFsZ29yaXRobXMsIG9yIGNvcnJ1cHRlZCBrZXkgZGF0YS4gXCIgK1xuICAgICAgICAgICAgXCJEUG9QIHdpbGwgYmUgZGlzYWJsZWQgYW5kIGJlYXJlciBhdXRoZW50aWNhdGlvbiB3aWxsIGJlIHVzZWQgaW5zdGVhZC4gXCIgK1xuICAgICAgICAgICAgYEVycm9yOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbi8qKlxuICogVmFsaWRhdGVzIERQb1AgY29uZmlndXJhdGlvbiBhbmQgcmV0dXJucyBrZXlwYWlyIGFuZCBvcHRpb25zIGlmIGF2YWlsYWJsZS5cbiAqIEF0dGVtcHRzIHRvIGxvYWQgZnJvbSBlbnZpcm9ubWVudCB2YXJpYWJsZXMgaWYgbm90IHByb3ZpZGVkIGluIG9wdGlvbnMuXG4gKlxuICogKipWYWxpZGF0aW9uIEJlaGF2aW9yOioqXG4gKiAtICoqU3VjY2VzcyoqOiBSZXR1cm5zIGJvdGggYGRwb3BLZXlQYWlyYCBhbmQgYGRwb3BPcHRpb25zYFxuICogLSAqKlZhbGlkYXRpb24gRmFpbHVyZSoqOiBSZXR1cm5zIGB7IGRwb3BLZXlQYWlyOiB1bmRlZmluZWQsIGRwb3BPcHRpb25zOiB1bmRlZmluZWQgfWBcbiAqXG4gKiBXaGVuIERQb1AgY2Fubm90IGJlIHByb3Blcmx5IGNvbmZpZ3VyZWQsIHRoZSBzeXN0ZW0gZmFsbHMgYmFjayB0byBiZWFyZXIgYXV0aGVudGljYXRpb24uXG4gKlxuICogKipQZXJmb3JtYW5jZSBDaGFyYWN0ZXJpc3RpY3MgLSBTeW5jaHJvbm91cyBLZXkgTG9hZGluZzoqKlxuICpcbiAqIEtleSBsb2FkaW5nIGFuZCB2YWxpZGF0aW9uIGFyZSBwZXJmb3JtZWQgc3luY2hyb25vdXNseSBkdXJpbmcgQXV0aDBDbGllbnQgY29uc3RydWN0b3IgZXhlY3V0aW9uLlxuICpcbiAqICoqT3B0aW1pemF0aW9uIFN0cmF0ZWdpZXM6KipcbiAqIC0gKipSZWNvbW1lbmRlZCoqOiBQcmUtZ2VuZXJhdGUga2V5cyBhbmQgcGFzcyB2aWEgYGRwb3BLZXlQYWlyYCBvcHRpb24gdG8gYXZvaWQgZW52IHZhciBwYXJzaW5nXG4gKiAtICoqTW9kdWxlLUxldmVsKio6IEluc3RhbnRpYXRlIEF1dGgwQ2xpZW50IGF0IG1vZHVsZSBsZXZlbCAobGliL2F1dGgwLnRzKSBmb3Igb25lLXRpbWUgY29zdFxuICogLSAqKkhpZ2gtVGhyb3VnaHB1dCoqOiBDb25zaWRlciBwcmUtbG9hZGluZyBrZXlzIG91dHNpZGUgY29uc3RydWN0b3IgZm9yIHNlcnZlcmxlc3MgZW52aXJvbm1lbnRzXG4gKlxuICogQGV4YW1wbGUgUGVyZm9ybWFuY2Utb3B0aW1pemVkIGluaXRpYWxpemF0aW9uXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiAvLyBPcHRpbWFsOiBQcmUtZ2VuZXJhdGVkIGtleXMgKG5vIGVudiB2YXIgcGFyc2luZylcbiAqIGltcG9ydCB7IGdlbmVyYXRlS2V5UGFpciB9IGZyb20gXCJvYXV0aDR3ZWJhcGlcIjtcbiAqIGNvbnN0IGRwb3BLZXlQYWlyID0gYXdhaXQgZ2VuZXJhdGVLZXlQYWlyKFwiRVMyNTZcIik7XG4gKiBleHBvcnQgY29uc3QgYXV0aDAgPSBuZXcgQXV0aDBDbGllbnQoeyB1c2VEUG9QOiB0cnVlLCBkcG9wS2V5UGFpciB9KTtcbiAqIGBgYFxuICpcbiAqICoqU2VjdXJpdHktc2Vuc2l0aXZlIGNvbmZpZ3VyYXRpb246KipcbiAqIC0gYGNsb2NrU2tld2A6IERpZmZlcmVuY2UgYmV0d2VlbiBjbGllbnQgYW5kIHNlcnZlciBjbG9ja3MgKGRlZmF1bHQ6IHtAbGluayBERUZBVUxUX0RQT1BfQ0xPQ0tfU0tFV30pXG4gKiAtIGBjbG9ja1RvbGVyYW5jZWA6IEFjY2VwdGFibGUgdGltZSBkcmlmdCBmb3IgRFBvUCBwcm9vZiB2YWxpZGF0aW9uIChkZWZhdWx0OiB7QGxpbmsgREVGQVVMVF9EUE9QX0NMT0NLX1RPTEVSQU5DRX0sIG1heCByZWNvbW1lbmRlZDoge0BsaW5rIE1BWF9SRUNPTU1FTkRFRF9EUE9QX0NMT0NLX1RPTEVSQU5DRX0pXG4gKlxuICogVmFsdWVzIGV4Y2VlZGluZyB7QGxpbmsgTUFYX1JFQ09NTUVOREVEX0RQT1BfQ0xPQ0tfVE9MRVJBTkNFfSB3aWxsIHRyaWdnZXIgYSB3YXJuaW5nIGJ1dCBhcmUgbm90IGVuZm9yY2VkLlxuICogRXhjZXNzaXZlbHkgbGFyZ2UgY2xvY2sgdG9sZXJhbmNlIHZhbHVlcyBtYXkgd2Vha2VuIERQb1Agc2VjdXJpdHkgYnkgYWxsb3dpbmcgcmVwbGF5IGF0dGFja3Mgd2l0aGluIGFcbiAqIHdpZGVyIHRpbWUgd2luZG93LiBQcmVmZXIgc3luY2hyb25pemluZyBzZXJ2ZXIgY2xvY2tzIHVzaW5nIE5UUCBpbnN0ZWFkIG9mIGluY3JlYXNpbmcgdG9sZXJhbmNlLlxuICpcbiAqIEBwYXJhbSBvcHRpb25zIFRoZSBjb25maWd1cmF0aW9uIG9wdGlvbnMgY29udGFpbmluZyBEUG9QIHNldHRpbmdzXG4gKiBAcmV0dXJucyBPYmplY3QgY29udGFpbmluZyBEcG9wS2V5UGFpciBhbmQgRHBvcE9wdGlvbnMgaWYgdmFsaWRhdGlvbiBzdWNjZWVkcywgb3IgYm90aCB1bmRlZmluZWQgaWYgdmFsaWRhdGlvbiBmYWlsc1xuICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVEcG9wQ29uZmlndXJhdGlvbihvcHRpb25zKSB7XG4gICAgY29uc3QgdXNlRFBvUCA9IG9wdGlvbnMudXNlRFBvUCB8fCBmYWxzZTtcbiAgICAvLyBJZiBEUG9QIGlzIG5vdCBlbmFibGVkLCByZXR1cm4gZWFybHkgd2l0aCB1bmRlZmluZWQgdmFsdWVzXG4gICAgaWYgKCF1c2VEUG9QKSB7XG4gICAgICAgIHJldHVybiB7IGRwb3BLZXlQYWlyOiB1bmRlZmluZWQsIGRwb3BPcHRpb25zOiB1bmRlZmluZWQgfTtcbiAgICB9XG4gICAgLy8gQnVpbGQgRFBvUCBvcHRpb25zIHdpdGggZGVmYXVsdHMgZnJvbSBlbnZpcm9ubWVudCB2YXJpYWJsZXMgb3IgcHJvdmlkZWQgb3B0aW9uc1xuICAgIGNvbnN0IGNsb2NrVG9sZXJhbmNlID0gb3B0aW9ucy5kcG9wT3B0aW9ucz8uY2xvY2tUb2xlcmFuY2UgPz9cbiAgICAgICAgKHByb2Nlc3MuZW52LkFVVEgwX0RQT1BfQ0xPQ0tfVE9MRVJBTkNFXG4gICAgICAgICAgICA/IHBhcnNlSW50KHByb2Nlc3MuZW52LkFVVEgwX0RQT1BfQ0xPQ0tfVE9MRVJBTkNFLCAxMClcbiAgICAgICAgICAgIDogREVGQVVMVF9EUE9QX0NMT0NLX1RPTEVSQU5DRSk7XG4gICAgLy8gV2FybiBpZiBjbG9jayB0b2xlcmFuY2UgZXhjZWVkcyByZWNvbW1lbmRlZCBtYXhpbXVtIChidXQgZG9uJ3QgZW5mb3JjZSlcbiAgICBpZiAoY2xvY2tUb2xlcmFuY2UgPiBNQVhfUkVDT01NRU5ERURfRFBPUF9DTE9DS19UT0xFUkFOQ0UpIHtcbiAgICAgICAgY29uc3QgcHJvZHVjdGlvbk1heFRvbGVyYW5jZSA9IHByb2Nlc3MuZW52XG4gICAgICAgICAgICAuQVVUSDBfRFBPUF9DTE9DS19UT0xFUkFOQ0VfTUFYX1BST0RcbiAgICAgICAgICAgID8gcGFyc2VJbnQocHJvY2Vzcy5lbnYuQVVUSDBfRFBPUF9DTE9DS19UT0xFUkFOQ0VfTUFYX1BST0QsIDEwKVxuICAgICAgICAgICAgOiBNQVhfUkVDT01NRU5ERURfRFBPUF9DTE9DS19UT0xFUkFOQ0U7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgJiZcbiAgICAgICAgICAgIGNsb2NrVG9sZXJhbmNlID4gcHJvZHVjdGlvbk1heFRvbGVyYW5jZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjbG9ja1RvbGVyYW5jZSBvZiAke2Nsb2NrVG9sZXJhbmNlfXMgZXhjZWVkcyBtYXhpbXVtIGFsbG93ZWQgJHtwcm9kdWN0aW9uTWF4VG9sZXJhbmNlfXMgaW4gcHJvZHVjdGlvbi4gYCArXG4gICAgICAgICAgICAgICAgXCJUaGlzIGNvdWxkIHNpZ25pZmljYW50bHkgd2Vha2VuIERQb1AgcmVwbGF5IGF0dGFjayBwcm90ZWN0aW9uLiBcIiArXG4gICAgICAgICAgICAgICAgXCJTZXQgQVVUSDBfRFBPUF9DTE9DS19UT0xFUkFOQ0VfTUFYX1BST0QgZW52aXJvbm1lbnQgdmFyaWFibGUgdG8gb3ZlcnJpZGUgdGhpcyBsaW1pdCBpbiBwcm9kdWN0aW9uLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLndhcm4oYFdBUk5JTkc6IGNsb2NrVG9sZXJhbmNlIG9mICR7Y2xvY2tUb2xlcmFuY2V9cyBleGNlZWRzIHJlY29tbWVuZGVkIG1heGltdW0gb2YgJHtNQVhfUkVDT01NRU5ERURfRFBPUF9DTE9DS19UT0xFUkFOQ0V9cy4gYCArXG4gICAgICAgICAgICBcIlRoaXMgbWF5IHdlYWtlbiBEUG9QIHNlY3VyaXR5IGJ5IGFsbG93aW5nIHJlcGxheSBhdHRhY2tzIHdpdGhpbiBhIHdpZGVyIHRpbWUgd2luZG93LiBcIiArXG4gICAgICAgICAgICBcIkNvbnNpZGVyIHN5bmNocm9uaXppbmcgc2VydmVyIGNsb2NrcyB1c2luZyBOVFAgaW5zdGVhZCBvZiBpbmNyZWFzaW5nIHRvbGVyYW5jZS5cIik7XG4gICAgfVxuICAgIGNvbnN0IGRwb3BPcHRpb25zID0ge1xuICAgICAgICBjbG9ja1NrZXc6IG9wdGlvbnMuZHBvcE9wdGlvbnM/LmNsb2NrU2tldyA/P1xuICAgICAgICAgICAgKHByb2Nlc3MuZW52LkFVVEgwX0RQT1BfQ0xPQ0tfU0tFV1xuICAgICAgICAgICAgICAgID8gcGFyc2VJbnQocHJvY2Vzcy5lbnYuQVVUSDBfRFBPUF9DTE9DS19TS0VXLCAxMClcbiAgICAgICAgICAgICAgICA6IERFRkFVTFRfRFBPUF9DTE9DS19TS0VXKSxcbiAgICAgICAgY2xvY2tUb2xlcmFuY2UsXG4gICAgICAgIHJldHJ5OiB7XG4gICAgICAgICAgICBkZWxheTogb3B0aW9ucy5kcG9wT3B0aW9ucz8ucmV0cnk/LmRlbGF5ID8/XG4gICAgICAgICAgICAgICAgKHByb2Nlc3MuZW52LkFVVEgwX1JFVFJZX0RFTEFZXG4gICAgICAgICAgICAgICAgICAgID8gcGFyc2VJbnQocHJvY2Vzcy5lbnYuQVVUSDBfUkVUUllfREVMQVksIDEwKVxuICAgICAgICAgICAgICAgICAgICA6IERFRkFVTFRfUkVUUllfREVMQVkpLFxuICAgICAgICAgICAgaml0dGVyOiBvcHRpb25zLmRwb3BPcHRpb25zPy5yZXRyeT8uaml0dGVyID8/XG4gICAgICAgICAgICAgICAgKHByb2Nlc3MuZW52LkFVVEgwX1JFVFJZX0pJVFRFUlxuICAgICAgICAgICAgICAgICAgICA/IHByb2Nlc3MuZW52LkFVVEgwX1JFVFJZX0pJVFRFUiA9PT0gXCJ0cnVlXCJcbiAgICAgICAgICAgICAgICAgICAgOiBERUZBVUxUX1JFVFJZX0pJVFRFUilcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gVmFsaWRhdGUgcmV0cnkgY29uZmlndXJhdGlvblxuICAgIGlmIChkcG9wT3B0aW9ucy5yZXRyeSAmJlxuICAgICAgICB0eXBlb2YgZHBvcE9wdGlvbnMucmV0cnkuZGVsYXkgPT09IFwibnVtYmVyXCIgJiZcbiAgICAgICAgZHBvcE9wdGlvbnMucmV0cnkuZGVsYXkgPCAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlJldHJ5IGRlbGF5IG11c3QgYmUgbm9uLW5lZ2F0aXZlXCIpO1xuICAgIH1cbiAgICAvLyBJZiB3ZSBhbHJlYWR5IGhhdmUgYSBrZXlwYWlyLCByZXR1cm4gaXQgd2l0aCBvcHRpb25zXG4gICAgaWYgKG9wdGlvbnMuZHBvcEtleVBhaXIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRwb3BLZXlQYWlyOiBvcHRpb25zLmRwb3BLZXlQYWlyLFxuICAgICAgICAgICAgZHBvcE9wdGlvbnNcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLy8gSWYgRFBvUCBpcyBlbmFibGVkIGJ1dCBubyBrZXlwYWlyIHByb3ZpZGVkLCBjaGVjayBpZiBlbnZpcm9ubWVudCB2YXJpYWJsZXMgZXhpc3RcbiAgICBpZiAodXNlRFBvUCkge1xuICAgICAgICBjb25zdCBwcml2YXRlS2V5UGVtID0gcHJvY2Vzcy5lbnYuQVVUSDBfRFBPUF9QUklWQVRFX0tFWTtcbiAgICAgICAgY29uc3QgcHVibGljS2V5UGVtID0gcHJvY2Vzcy5lbnYuQVVUSDBfRFBPUF9QVUJMSUNfS0VZO1xuICAgICAgICAvLyBJbiBFZGdlIFJ1bnRpbWUsIHdlIGNhbid0IHVzZSBOb2RlLmpzIGNyeXB0byBBUElzIHRvIGxvYWQga2V5cyBmcm9tIGVudmlyb25tZW50IHZhcmlhYmxlc1xuICAgICAgICBpZiAoaXNFZGdlUnVudGltZSgpICYmIChwcml2YXRlS2V5UGVtIHx8IHB1YmxpY0tleVBlbSkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIldBUk5JTkc6IFJ1bm5pbmcgaW4gRWRnZSBSdW50aW1lIGVudmlyb25tZW50LiBEUG9QIGtleXBhaXIgbG9hZGluZyBmcm9tIGVudmlyb25tZW50IHZhcmlhYmxlcyBcIiArXG4gICAgICAgICAgICAgICAgXCJpcyBub3Qgc3VwcG9ydGVkIGR1ZSB0byBsaW1pdGVkIE5vZGUuanMgY3J5cHRvIEFQSSBhY2Nlc3MuIERQb1AgaGFzIGJlZW4gZGlzYWJsZWQuIFwiICtcbiAgICAgICAgICAgICAgICBcIlRvIHVzZSBEUG9QIGluIEVkZ2UgUnVudGltZSwgcHJvdmlkZSBhIHByZS1nZW5lcmF0ZWQga2V5cGFpciB2aWEgdGhlIGRwb3BLZXlQYWlyIG9wdGlvbi5cIik7XG4gICAgICAgICAgICByZXR1cm4geyBkcG9wS2V5UGFpcjogdW5kZWZpbmVkLCBkcG9wT3B0aW9uczogdW5kZWZpbmVkIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByaXZhdGVLZXlQZW0gJiYgcHVibGljS2V5UGVtKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIC8vIE5vdGU6IEtleSBsb2FkaW5nIGlzIHBlcmZvcm1lZCBzeW5jaHJvbm91c2x5IGR1cmluZyBpbml0aWFsaXphdGlvbi5cbiAgICAgICAgICAgICAgICAvLyBFbnN1cmUga2V5cyBhcmUgcHJlLWxvYWRlZCBvciBjYWNoZWQgdG8gYXZvaWQgYmxvY2tpbmcgdGhlIGV2ZW50IGxvb3AuXG4gICAgICAgICAgICAgICAgY29uc3QgcHJpdmF0ZUtleU5vZGVKUyA9IGNyZWF0ZVByaXZhdGVLZXkocHJpdmF0ZUtleVBlbSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcHVibGljS2V5Tm9kZUpTID0gY3JlYXRlUHVibGljS2V5KHB1YmxpY0tleVBlbSk7XG4gICAgICAgICAgICAgICAgLy8gVmFsaWRhdGUgYWxnb3JpdGhtIC0gRFBvUCByZXF1aXJlcyBFUzI1NiAoRUNEU0EgdXNpbmcgUC0yNTYgYW5kIFNIQS0yNTYpXG4gICAgICAgICAgICAgICAgaWYgKHByaXZhdGVLZXlOb2RlSlMuYXN5bW1ldHJpY0tleVR5cGUgIT09IFwiZWNcIikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYERQb1AgcHJpdmF0ZSBrZXkgbXVzdCBiZSBhbiBFbGxpcHRpYyBDdXJ2ZSBrZXkgZm9yIEVTMjU2IGFsZ29yaXRobSwgZ290OiAke3ByaXZhdGVLZXlOb2RlSlMuYXN5bW1ldHJpY0tleVR5cGV9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwdWJsaWNLZXlOb2RlSlMuYXN5bW1ldHJpY0tleVR5cGUgIT09IFwiZWNcIikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYERQb1AgcHVibGljIGtleSBtdXN0IGJlIGFuIEVsbGlwdGljIEN1cnZlIGtleSBmb3IgRVMyNTYgYWxnb3JpdGhtLCBnb3Q6ICR7cHVibGljS2V5Tm9kZUpTLmFzeW1tZXRyaWNLZXlUeXBlfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBwcml2YXRlS2V5RGV0YWlscyA9IHByaXZhdGVLZXlOb2RlSlMuYXN5bW1ldHJpY0tleURldGFpbHM7XG4gICAgICAgICAgICAgICAgY29uc3QgcHVibGljS2V5RGV0YWlscyA9IHB1YmxpY0tleU5vZGVKUy5hc3ltbWV0cmljS2V5RGV0YWlscztcbiAgICAgICAgICAgICAgICAvLyBWYWxpZGF0ZSBQLTI1NiBjdXJ2ZSByZXF1aXJlbWVudCBmb3IgRVMyNTYgYWxnb3JpdGhtXG4gICAgICAgICAgICAgICAgaWYgKHByaXZhdGVLZXlEZXRhaWxzPy5uYW1lZEN1cnZlICE9PSBcInByaW1lMjU2djFcIikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYERQb1AgcHJpdmF0ZSBrZXkgbXVzdCB1c2UgUC0yNTYgY3VydmUgKHByaW1lMjU2djEpIGZvciBFUzI1NiBhbGdvcml0aG0sIGdvdDogJHtwcml2YXRlS2V5RGV0YWlscz8ubmFtZWRDdXJ2ZX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHB1YmxpY0tleURldGFpbHM/Lm5hbWVkQ3VydmUgIT09IFwicHJpbWUyNTZ2MVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRFBvUCBwdWJsaWMga2V5IG11c3QgdXNlIFAtMjU2IGN1cnZlIChwcmltZTI1NnYxKSBmb3IgRVMyNTYgYWxnb3JpdGhtLCBnb3Q6ICR7cHVibGljS2V5RGV0YWlscz8ubmFtZWRDdXJ2ZX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVmFsaWRhdGUga2V5IHBhaXIgY29tcGF0aWJpbGl0eVxuICAgICAgICAgICAgICAgIGNvbnN0IGlzS2V5UGFpclZhbGlkID0gdmFsaWRhdGVLZXlQYWlyQ29tcGF0aWJpbGl0eShwcml2YXRlS2V5Tm9kZUpTLCBwdWJsaWNLZXlOb2RlSlMpO1xuICAgICAgICAgICAgICAgIGlmICghaXNLZXlQYWlyVmFsaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gS2V5IHBhaXIgdmFsaWRhdGlvbiBmYWlsZWQsIGNvbXBsZXRlbHkgZGlzYWJsZSBEUG9QIHRvIGVuc3VyZSBjb25zaXN0ZW50IHN0YXRlXG4gICAgICAgICAgICAgICAgICAgIC8vIFdoZW4gdmFsaWRhdGlvbiBmYWlscywgd2Ugc2hvdWxkIG5vdCB1c2UgRFBvUCBhdCBhbGwgYW5kIGZhbGxiYWNrIHRvIGJlYXJlciBhdXRoXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIldBUk5JTkc6IERQb1Aga2V5IHBhaXIgdmFsaWRhdGlvbiBmYWlsZWQuIERQb1AgaGFzIGJlZW4gY29tcGxldGVseSBkaXNhYmxlZC4gXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJGYWxsaW5nIGJhY2sgdG8gYmVhcmVyIGF1dGhlbnRpY2F0aW9uLiBQbGVhc2UgdmVyaWZ5IHlvdXIga2V5IHBhaXIgY29uZmlndXJhdGlvbi5cIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGRwb3BLZXlQYWlyOiB1bmRlZmluZWQsIGRwb3BPcHRpb25zOiB1bmRlZmluZWQgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQ29udmVydCBOb2RlSlMgS2V5T2JqZWN0cyB0byBDcnlwdG9LZXlzIHN5bmNocm9ub3VzbHlcbiAgICAgICAgICAgICAgICBjb25zdCBwcml2YXRlS2V5ID0gcHJpdmF0ZUtleU5vZGVKUy50b0NyeXB0b0tleShcIkVTMjU2XCIsIGZhbHNlLCBbXG4gICAgICAgICAgICAgICAgICAgIFwic2lnblwiXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcHVibGljS2V5ID0gcHVibGljS2V5Tm9kZUpTLnRvQ3J5cHRvS2V5KFwiRVMyNTZcIiwgZmFsc2UsIFtcbiAgICAgICAgICAgICAgICAgICAgXCJ2ZXJpZnlcIlxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGRwb3BLZXlQYWlyOiB7IHByaXZhdGVLZXksIHB1YmxpY0tleSB9LFxuICAgICAgICAgICAgICAgICAgICBkcG9wT3B0aW9uc1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJXQVJOSU5HOiBGYWlsZWQgdG8gbG9hZCBEUG9QIGtleXBhaXIgZnJvbSBlbnZpcm9ubWVudCB2YXJpYWJsZXMuIFwiICtcbiAgICAgICAgICAgICAgICAgICAgXCJQbGVhc2UgZW5zdXJlIEFVVEgwX0RQT1BfUFVCTElDX0tFWSBhbmQgQVVUSDBfRFBPUF9QUklWQVRFX0tFWSBjb250YWluIHZhbGlkIEVTMjU2IGtleXMgaW4gUEVNIGZvcm1hdC4gXCIgK1xuICAgICAgICAgICAgICAgICAgICBgRXJyb3I6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghcHJpdmF0ZUtleVBlbSB8fCAhcHVibGljS2V5UGVtKSB7XG4gICAgICAgICAgICAvLyBJc3N1ZSB3YXJuaW5nIGlmIG5vIGtleXBhaXIgaXMgYXZhaWxhYmxlXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJXQVJOSU5HOiB1c2VEUG9QIGlzIHNldCB0byB0cnVlIGJ1dCBkcG9wS2V5UGFpciBpcyBub3QgcHJvdmlkZWQuIFwiICtcbiAgICAgICAgICAgICAgICBcIkRQb1Agd2lsbCBub3QgYmUgdXNlZCBhbmQgcHJvdGVjdGVkIHJlcXVlc3RzIHdpbGwgdXNlIGJlYXJlciBhdXRoZW50aWNhdGlvbiBpbnN0ZWFkLiBcIiArXG4gICAgICAgICAgICAgICAgXCJUbyBlbmFibGUgRFBvUCwgcHJvdmlkZSBhIGRwb3BLZXlQYWlyIGluIHRoZSBBdXRoMENsaWVudCBvcHRpb25zIG9yIHNldCBcIiArXG4gICAgICAgICAgICAgICAgXCJBVVRIMF9EUE9QX1BVQkxJQ19LRVkgYW5kIEFVVEgwX0RQT1BfUFJJVkFURV9LRVkgZW52aXJvbm1lbnQgdmFyaWFibGVzLlwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBObyBEUG9QIGtleXBhaXIgYXZhaWxhYmxlLCBidXQgRFBvUCBpcyBlbmFibGVkLCByZXR1cm4gb3B0aW9ucyB3aXRob3V0IGtleXBhaXJcbiAgICByZXR1cm4geyBkcG9wS2V5UGFpcjogdW5kZWZpbmVkLCBkcG9wT3B0aW9ucyB9O1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@auth0/nextjs-auth0/dist/utils/dpopUtils.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@auth0/nextjs-auth0/dist/utils/pathUtils.js":
/*!******************************************************************!*\
  !*** ./node_modules/@auth0/nextjs-auth0/dist/utils/pathUtils.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ensureLeadingSlash: () => (/* binding */ ensureLeadingSlash),\n/* harmony export */   ensureNoLeadingSlash: () => (/* binding */ ensureNoLeadingSlash),\n/* harmony export */   ensureTrailingSlash: () => (/* binding */ ensureTrailingSlash),\n/* harmony export */   normalizeWithBasePath: () => (/* binding */ normalizeWithBasePath),\n/* harmony export */   removeTrailingSlash: () => (/* binding */ removeTrailingSlash)\n/* harmony export */ });\nfunction ensureLeadingSlash(value) {\n    return value && !value.startsWith(\"/\") ? `/${value}` : value;\n}\nfunction ensureTrailingSlash(value) {\n    return value && !value.endsWith(\"/\") ? `${value}/` : value;\n}\nfunction ensureNoLeadingSlash(value) {\n    return value && value.startsWith(\"/\")\n        ? value.substring(1, value.length)\n        : value;\n}\nconst removeTrailingSlash = (path) => path.endsWith(\"/\") ? path.slice(0, -1) : path;\nconst normalizeWithBasePath = (path) => {\n    const basePath = process.env.NEXT_PUBLIC_BASE_PATH;\n    if (!basePath) {\n        return path;\n    }\n    // basePath can be `docs` or `/docs`\n    const sanitizedBasePath = ensureLeadingSlash(basePath);\n    return ensureTrailingSlash(sanitizedBasePath) + ensureNoLeadingSlash(path);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0BhdXRoMC9uZXh0anMtYXV0aDAvZGlzdC91dGlscy9wYXRoVXRpbHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBTztBQUNQLGlEQUFpRCxNQUFNO0FBQ3ZEO0FBQ087QUFDUCw4Q0FBOEMsTUFBTTtBQUNwRDtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNBO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcQGF1dGgwXFxuZXh0anMtYXV0aDBcXGRpc3RcXHV0aWxzXFxwYXRoVXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGVuc3VyZUxlYWRpbmdTbGFzaCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAmJiAhdmFsdWUuc3RhcnRzV2l0aChcIi9cIikgPyBgLyR7dmFsdWV9YCA6IHZhbHVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGVuc3VyZVRyYWlsaW5nU2xhc2godmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgJiYgIXZhbHVlLmVuZHNXaXRoKFwiL1wiKSA/IGAke3ZhbHVlfS9gIDogdmFsdWU7XG59XG5leHBvcnQgZnVuY3Rpb24gZW5zdXJlTm9MZWFkaW5nU2xhc2godmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgJiYgdmFsdWUuc3RhcnRzV2l0aChcIi9cIilcbiAgICAgICAgPyB2YWx1ZS5zdWJzdHJpbmcoMSwgdmFsdWUubGVuZ3RoKVxuICAgICAgICA6IHZhbHVlO1xufVxuZXhwb3J0IGNvbnN0IHJlbW92ZVRyYWlsaW5nU2xhc2ggPSAocGF0aCkgPT4gcGF0aC5lbmRzV2l0aChcIi9cIikgPyBwYXRoLnNsaWNlKDAsIC0xKSA6IHBhdGg7XG5leHBvcnQgY29uc3Qgbm9ybWFsaXplV2l0aEJhc2VQYXRoID0gKHBhdGgpID0+IHtcbiAgICBjb25zdCBiYXNlUGF0aCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBU0VfUEFUSDtcbiAgICBpZiAoIWJhc2VQYXRoKSB7XG4gICAgICAgIHJldHVybiBwYXRoO1xuICAgIH1cbiAgICAvLyBiYXNlUGF0aCBjYW4gYmUgYGRvY3NgIG9yIGAvZG9jc2BcbiAgICBjb25zdCBzYW5pdGl6ZWRCYXNlUGF0aCA9IGVuc3VyZUxlYWRpbmdTbGFzaChiYXNlUGF0aCk7XG4gICAgcmV0dXJuIGVuc3VyZVRyYWlsaW5nU2xhc2goc2FuaXRpemVkQmFzZVBhdGgpICsgZW5zdXJlTm9MZWFkaW5nU2xhc2gocGF0aCk7XG59O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@auth0/nextjs-auth0/dist/utils/pathUtils.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@auth0/nextjs-auth0/dist/utils/proxy.js":
/*!**************************************************************!*\
  !*** ./node_modules/@auth0/nextjs-auth0/dist/utils/proxy.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buildForwardedRequestHeaders: () => (/* binding */ buildForwardedRequestHeaders),\n/* harmony export */   buildForwardedResponseHeaders: () => (/* binding */ buildForwardedResponseHeaders),\n/* harmony export */   transformTargetUrl: () => (/* binding */ transformTargetUrl)\n/* harmony export */ });\n/**\n * A default allow-list of headers to forward.\n */\nconst DEFAULT_HEADER_ALLOW_LIST = new Set([\n    // Common End-to-End Headers\n    \"accept\",\n    \"accept-language\",\n    \"content-language\",\n    \"content-type\",\n    \"user-agent\",\n    // Caching & Conditional Requests\n    \"cache-control\",\n    \"if-match\",\n    \"if-none-match\",\n    \"if-modified-since\",\n    \"if-unmodified-since\",\n    \"etag\",\n    // Tracing & Observability\n    \"x-request-id\",\n    \"x-correlation-id\",\n    \"traceparent\",\n    \"tracestate\",\n    // PROXY HEADERS (for IP & Rate Limiting)\n    \"x-forwarded-for\",\n    \"x-forwarded-host\",\n    \"x-forwarded-proto\",\n    \"x-real-ip\",\n    // CORS REQUEST HEADERS\n    // Without these headers, Preflight fails, browser blocks all cross-origin requests\n    // See: RFC 7231 4.3.1 (preflight semantics), RFC 6454 (origin), WHATWG Fetch Spec\n    \"origin\",\n    \"access-control-request-method\",\n    \"access-control-request-headers\"\n]);\n/**\n * Hop-by-hop headers that MUST be removed.\n * These are relevant only for a single transport link (client <-> proxy).\n * @see https://datatracker.ietf.org/doc/html/rfc2616#section-13.5.1\n */\nconst HOP_BY_HOP_HEADERS = new Set([\n    \"connection\",\n    \"keep-alive\",\n    \"proxy-authenticate\",\n    \"proxy-authorization\",\n    \"te\",\n    \"trailer\",\n    \"transfer-encoding\",\n    \"upgrade\"\n]);\n/**\n * Securely builds a Headers object for forwarding a NextRequest via fetch.\n *\n * This function:\n * 1. Uses a strict **allow-list** (DEFAULT_HEADER_ALLOW_LIST).\n * 2. Strips all hop-by-hop headers as defined by https://datatracker.ietf.org/doc/html/rfc2616#section-13.5.1.\n *\n * @param request The incoming NextRequest object.\n * @returns A WHATWG Headers object suitable for `fetch`.\n */\nfunction buildForwardedRequestHeaders(request) {\n    const forwardedHeaders = new Headers();\n    request.headers.forEach((value, key) => {\n        const lowerKey = key.toLowerCase();\n        // Forward if:\n        // 1. It's in the allow-list, AND\n        // 2. It's not a hop-by-hop header\n        const shouldForward = DEFAULT_HEADER_ALLOW_LIST.has(lowerKey) &&\n            !HOP_BY_HOP_HEADERS.has(lowerKey);\n        if (shouldForward) {\n            forwardedHeaders.set(key, value);\n        }\n    });\n    return forwardedHeaders;\n}\n/**\n * Securely builds a Headers object for forwarding a fetch response.\n *\n * This function:\n * 1. Strips all hop-by-hop headers as defined by https://datatracker.ietf.org/doc/html/rfc2616#section-13.5.1.\n *\n * @param request The incoming Response object.\n * @returns A WHATWG Headers object suitable for `fetch`.\n */\nfunction buildForwardedResponseHeaders(response) {\n    const forwardedHeaders = new Headers();\n    response.headers.forEach((value, key) => {\n        const lowerKey = key.toLowerCase();\n        // Only forward if it's not a hop-by-hop header\n        if (!HOP_BY_HOP_HEADERS.has(lowerKey)) {\n            forwardedHeaders.set(key, value);\n        }\n    });\n    return forwardedHeaders;\n}\n/**\n * Builds a URL representing the upstream target for a proxied request.\n *\n * This function correctly handles the path transformation by:\n * 1. Extracting the path segment that comes AFTER the proxyPath\n * 2. Intelligently combining it with targetBaseUrl to avoid path segment duplication\n *\n * Example:\n *   - proxyPath: \"/me\"\n *   - targetBaseUrl: \"https://issuer/me/v1\"\n *   - incoming: \"/me/v1/some-endpoint\"\n *   - remaining path: \"/v1/some-endpoint\" (after removing \"/me\")\n *   - result: \"https://issuer/me/v1/some-endpoint\" (no /v1 duplication)\n *\n * @param req - The incoming request to mirror when constructing the target URL.\n * @param options - Proxy configuration containing the base URL and proxy path.\n * @returns A URL object pointing to the resolved target endpoint with forwarded query parameters.\n */\nfunction transformTargetUrl(req, options) {\n    const targetBaseUrl = options.targetBaseUrl;\n    // Extract the path segment that comes AFTER the proxyPath\n    // If proxyPath is \"/me\" and pathname is \"/me/v1/some-endpoint\",\n    // the remaining path is \"/v1/some-endpoint\"\n    let remainingPath = req.nextUrl.pathname.startsWith(options.proxyPath)\n        ? req.nextUrl.pathname.slice(options.proxyPath.length)\n        : req.nextUrl.pathname;\n    // Ensure proper path joining by handling the slash\n    // If remainingPath is empty or doesn't start with /, handle accordingly\n    if (remainingPath && !remainingPath.startsWith(\"/\")) {\n        remainingPath = \"/\" + remainingPath;\n    }\n    // Remove trailing slash from targetBaseUrl for consistent joining\n    const baseUrlTrimmed = targetBaseUrl.replace(/\\/$/, \"\");\n    // Parse the targetBaseUrl to extract its path\n    const baseUrl = new URL(baseUrlTrimmed);\n    const basePath = baseUrl.pathname;\n    // Check if remainingPath starts with a segment that's already at the end of basePath\n    // to avoid duplication (e.g., basePath=\"/me/v1\" + remainingPath=\"/v1/x\"  \"/me/v1/x\")\n    let finalPath = basePath;\n    if (remainingPath && remainingPath !== \"/\") {\n        // Split paths into segments for comparison\n        const baseSegments = basePath.split(\"/\").filter(Boolean);\n        const remainingSegments = remainingPath.split(\"/\").filter(Boolean);\n        // Find the longest overlap by checking from longest to shortest\n        // Break on first match\n        let overlapLength = 0;\n        const maxOverlap = Math.min(baseSegments.length, remainingSegments.length);\n        for (let i = maxOverlap; i >= 1; i--) {\n            const baseEnd = baseSegments.slice(-i);\n            const remainingStart = remainingSegments.slice(0, i);\n            if (baseEnd.every((seg, idx) => seg === remainingStart[idx])) {\n                overlapLength = i;\n                break; // Found longest match, stop searching\n            }\n        }\n        // Build final path by appending non-overlapping segments\n        const nonOverlappingSegments = remainingSegments.slice(overlapLength);\n        if (nonOverlappingSegments.length > 0) {\n            const separator = basePath === \"/\" || basePath.endsWith(\"/\") ? \"\" : \"/\";\n            finalPath = basePath + separator + nonOverlappingSegments.join(\"/\");\n        }\n    }\n    // Build the final URL with the de-duplicated path\n    const targetUrl = new URL(baseUrl.origin + finalPath);\n    req.nextUrl.searchParams.forEach((value, key) => {\n        targetUrl.searchParams.set(key, value);\n    });\n    return targetUrl;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0BhdXRoMC9uZXh0anMtYXV0aDAvZGlzdC91dGlscy9wcm94eS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLFFBQVE7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcQGF1dGgwXFxuZXh0anMtYXV0aDBcXGRpc3RcXHV0aWxzXFxwcm94eS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEEgZGVmYXVsdCBhbGxvdy1saXN0IG9mIGhlYWRlcnMgdG8gZm9yd2FyZC5cbiAqL1xuY29uc3QgREVGQVVMVF9IRUFERVJfQUxMT1dfTElTVCA9IG5ldyBTZXQoW1xuICAgIC8vIENvbW1vbiBFbmQtdG8tRW5kIEhlYWRlcnNcbiAgICBcImFjY2VwdFwiLFxuICAgIFwiYWNjZXB0LWxhbmd1YWdlXCIsXG4gICAgXCJjb250ZW50LWxhbmd1YWdlXCIsXG4gICAgXCJjb250ZW50LXR5cGVcIixcbiAgICBcInVzZXItYWdlbnRcIixcbiAgICAvLyBDYWNoaW5nICYgQ29uZGl0aW9uYWwgUmVxdWVzdHNcbiAgICBcImNhY2hlLWNvbnRyb2xcIixcbiAgICBcImlmLW1hdGNoXCIsXG4gICAgXCJpZi1ub25lLW1hdGNoXCIsXG4gICAgXCJpZi1tb2RpZmllZC1zaW5jZVwiLFxuICAgIFwiaWYtdW5tb2RpZmllZC1zaW5jZVwiLFxuICAgIFwiZXRhZ1wiLFxuICAgIC8vIFRyYWNpbmcgJiBPYnNlcnZhYmlsaXR5XG4gICAgXCJ4LXJlcXVlc3QtaWRcIixcbiAgICBcIngtY29ycmVsYXRpb24taWRcIixcbiAgICBcInRyYWNlcGFyZW50XCIsXG4gICAgXCJ0cmFjZXN0YXRlXCIsXG4gICAgLy8gUFJPWFkgSEVBREVSUyAoZm9yIElQICYgUmF0ZSBMaW1pdGluZylcbiAgICBcIngtZm9yd2FyZGVkLWZvclwiLFxuICAgIFwieC1mb3J3YXJkZWQtaG9zdFwiLFxuICAgIFwieC1mb3J3YXJkZWQtcHJvdG9cIixcbiAgICBcIngtcmVhbC1pcFwiLFxuICAgIC8vIENPUlMgUkVRVUVTVCBIRUFERVJTXG4gICAgLy8gV2l0aG91dCB0aGVzZSBoZWFkZXJzLCBQcmVmbGlnaHQgZmFpbHMsIGJyb3dzZXIgYmxvY2tzIGFsbCBjcm9zcy1vcmlnaW4gcmVxdWVzdHNcbiAgICAvLyBTZWU6IFJGQyA3MjMxIMKnNC4zLjEgKHByZWZsaWdodCBzZW1hbnRpY3MpLCBSRkMgNjQ1NCAob3JpZ2luKSwgV0hBVFdHIEZldGNoIFNwZWNcbiAgICBcIm9yaWdpblwiLFxuICAgIFwiYWNjZXNzLWNvbnRyb2wtcmVxdWVzdC1tZXRob2RcIixcbiAgICBcImFjY2Vzcy1jb250cm9sLXJlcXVlc3QtaGVhZGVyc1wiXG5dKTtcbi8qKlxuICogSG9wLWJ5LWhvcCBoZWFkZXJzIHRoYXQgTVVTVCBiZSByZW1vdmVkLlxuICogVGhlc2UgYXJlIHJlbGV2YW50IG9ubHkgZm9yIGEgc2luZ2xlIHRyYW5zcG9ydCBsaW5rIChjbGllbnQgPC0+IHByb3h5KS5cbiAqIEBzZWUgaHR0cHM6Ly9kYXRhdHJhY2tlci5pZXRmLm9yZy9kb2MvaHRtbC9yZmMyNjE2I3NlY3Rpb24tMTMuNS4xXG4gKi9cbmNvbnN0IEhPUF9CWV9IT1BfSEVBREVSUyA9IG5ldyBTZXQoW1xuICAgIFwiY29ubmVjdGlvblwiLFxuICAgIFwia2VlcC1hbGl2ZVwiLFxuICAgIFwicHJveHktYXV0aGVudGljYXRlXCIsXG4gICAgXCJwcm94eS1hdXRob3JpemF0aW9uXCIsXG4gICAgXCJ0ZVwiLFxuICAgIFwidHJhaWxlclwiLFxuICAgIFwidHJhbnNmZXItZW5jb2RpbmdcIixcbiAgICBcInVwZ3JhZGVcIlxuXSk7XG4vKipcbiAqIFNlY3VyZWx5IGJ1aWxkcyBhIEhlYWRlcnMgb2JqZWN0IGZvciBmb3J3YXJkaW5nIGEgTmV4dFJlcXVlc3QgdmlhIGZldGNoLlxuICpcbiAqIFRoaXMgZnVuY3Rpb246XG4gKiAxLiBVc2VzIGEgc3RyaWN0ICoqYWxsb3ctbGlzdCoqIChERUZBVUxUX0hFQURFUl9BTExPV19MSVNUKS5cbiAqIDIuIFN0cmlwcyBhbGwgaG9wLWJ5LWhvcCBoZWFkZXJzIGFzIGRlZmluZWQgYnkgaHR0cHM6Ly9kYXRhdHJhY2tlci5pZXRmLm9yZy9kb2MvaHRtbC9yZmMyNjE2I3NlY3Rpb24tMTMuNS4xLlxuICpcbiAqIEBwYXJhbSByZXF1ZXN0IFRoZSBpbmNvbWluZyBOZXh0UmVxdWVzdCBvYmplY3QuXG4gKiBAcmV0dXJucyBBIFdIQVRXRyBIZWFkZXJzIG9iamVjdCBzdWl0YWJsZSBmb3IgYGZldGNoYC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkRm9yd2FyZGVkUmVxdWVzdEhlYWRlcnMocmVxdWVzdCkge1xuICAgIGNvbnN0IGZvcndhcmRlZEhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xuICAgIHJlcXVlc3QuaGVhZGVycy5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IGxvd2VyS2V5ID0ga2V5LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIC8vIEZvcndhcmQgaWY6XG4gICAgICAgIC8vIDEuIEl0J3MgaW4gdGhlIGFsbG93LWxpc3QsIEFORFxuICAgICAgICAvLyAyLiBJdCdzIG5vdCBhIGhvcC1ieS1ob3AgaGVhZGVyXG4gICAgICAgIGNvbnN0IHNob3VsZEZvcndhcmQgPSBERUZBVUxUX0hFQURFUl9BTExPV19MSVNULmhhcyhsb3dlcktleSkgJiZcbiAgICAgICAgICAgICFIT1BfQllfSE9QX0hFQURFUlMuaGFzKGxvd2VyS2V5KTtcbiAgICAgICAgaWYgKHNob3VsZEZvcndhcmQpIHtcbiAgICAgICAgICAgIGZvcndhcmRlZEhlYWRlcnMuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGZvcndhcmRlZEhlYWRlcnM7XG59XG4vKipcbiAqIFNlY3VyZWx5IGJ1aWxkcyBhIEhlYWRlcnMgb2JqZWN0IGZvciBmb3J3YXJkaW5nIGEgZmV0Y2ggcmVzcG9uc2UuXG4gKlxuICogVGhpcyBmdW5jdGlvbjpcbiAqIDEuIFN0cmlwcyBhbGwgaG9wLWJ5LWhvcCBoZWFkZXJzIGFzIGRlZmluZWQgYnkgaHR0cHM6Ly9kYXRhdHJhY2tlci5pZXRmLm9yZy9kb2MvaHRtbC9yZmMyNjE2I3NlY3Rpb24tMTMuNS4xLlxuICpcbiAqIEBwYXJhbSByZXF1ZXN0IFRoZSBpbmNvbWluZyBSZXNwb25zZSBvYmplY3QuXG4gKiBAcmV0dXJucyBBIFdIQVRXRyBIZWFkZXJzIG9iamVjdCBzdWl0YWJsZSBmb3IgYGZldGNoYC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkRm9yd2FyZGVkUmVzcG9uc2VIZWFkZXJzKHJlc3BvbnNlKSB7XG4gICAgY29uc3QgZm9yd2FyZGVkSGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG4gICAgcmVzcG9uc2UuaGVhZGVycy5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IGxvd2VyS2V5ID0ga2V5LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIC8vIE9ubHkgZm9yd2FyZCBpZiBpdCdzIG5vdCBhIGhvcC1ieS1ob3AgaGVhZGVyXG4gICAgICAgIGlmICghSE9QX0JZX0hPUF9IRUFERVJTLmhhcyhsb3dlcktleSkpIHtcbiAgICAgICAgICAgIGZvcndhcmRlZEhlYWRlcnMuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGZvcndhcmRlZEhlYWRlcnM7XG59XG4vKipcbiAqIEJ1aWxkcyBhIFVSTCByZXByZXNlbnRpbmcgdGhlIHVwc3RyZWFtIHRhcmdldCBmb3IgYSBwcm94aWVkIHJlcXVlc3QuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBjb3JyZWN0bHkgaGFuZGxlcyB0aGUgcGF0aCB0cmFuc2Zvcm1hdGlvbiBieTpcbiAqIDEuIEV4dHJhY3RpbmcgdGhlIHBhdGggc2VnbWVudCB0aGF0IGNvbWVzIEFGVEVSIHRoZSBwcm94eVBhdGhcbiAqIDIuIEludGVsbGlnZW50bHkgY29tYmluaW5nIGl0IHdpdGggdGFyZ2V0QmFzZVVybCB0byBhdm9pZCBwYXRoIHNlZ21lbnQgZHVwbGljYXRpb25cbiAqXG4gKiBFeGFtcGxlOlxuICogICAtIHByb3h5UGF0aDogXCIvbWVcIlxuICogICAtIHRhcmdldEJhc2VVcmw6IFwiaHR0cHM6Ly9pc3N1ZXIvbWUvdjFcIlxuICogICAtIGluY29taW5nOiBcIi9tZS92MS9zb21lLWVuZHBvaW50XCJcbiAqICAgLSByZW1haW5pbmcgcGF0aDogXCIvdjEvc29tZS1lbmRwb2ludFwiIChhZnRlciByZW1vdmluZyBcIi9tZVwiKVxuICogICAtIHJlc3VsdDogXCJodHRwczovL2lzc3Vlci9tZS92MS9zb21lLWVuZHBvaW50XCIgKG5vIC92MSBkdXBsaWNhdGlvbilcbiAqXG4gKiBAcGFyYW0gcmVxIC0gVGhlIGluY29taW5nIHJlcXVlc3QgdG8gbWlycm9yIHdoZW4gY29uc3RydWN0aW5nIHRoZSB0YXJnZXQgVVJMLlxuICogQHBhcmFtIG9wdGlvbnMgLSBQcm94eSBjb25maWd1cmF0aW9uIGNvbnRhaW5pbmcgdGhlIGJhc2UgVVJMIGFuZCBwcm94eSBwYXRoLlxuICogQHJldHVybnMgQSBVUkwgb2JqZWN0IHBvaW50aW5nIHRvIHRoZSByZXNvbHZlZCB0YXJnZXQgZW5kcG9pbnQgd2l0aCBmb3J3YXJkZWQgcXVlcnkgcGFyYW1ldGVycy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybVRhcmdldFVybChyZXEsIG9wdGlvbnMpIHtcbiAgICBjb25zdCB0YXJnZXRCYXNlVXJsID0gb3B0aW9ucy50YXJnZXRCYXNlVXJsO1xuICAgIC8vIEV4dHJhY3QgdGhlIHBhdGggc2VnbWVudCB0aGF0IGNvbWVzIEFGVEVSIHRoZSBwcm94eVBhdGhcbiAgICAvLyBJZiBwcm94eVBhdGggaXMgXCIvbWVcIiBhbmQgcGF0aG5hbWUgaXMgXCIvbWUvdjEvc29tZS1lbmRwb2ludFwiLFxuICAgIC8vIHRoZSByZW1haW5pbmcgcGF0aCBpcyBcIi92MS9zb21lLWVuZHBvaW50XCJcbiAgICBsZXQgcmVtYWluaW5nUGF0aCA9IHJlcS5uZXh0VXJsLnBhdGhuYW1lLnN0YXJ0c1dpdGgob3B0aW9ucy5wcm94eVBhdGgpXG4gICAgICAgID8gcmVxLm5leHRVcmwucGF0aG5hbWUuc2xpY2Uob3B0aW9ucy5wcm94eVBhdGgubGVuZ3RoKVxuICAgICAgICA6IHJlcS5uZXh0VXJsLnBhdGhuYW1lO1xuICAgIC8vIEVuc3VyZSBwcm9wZXIgcGF0aCBqb2luaW5nIGJ5IGhhbmRsaW5nIHRoZSBzbGFzaFxuICAgIC8vIElmIHJlbWFpbmluZ1BhdGggaXMgZW1wdHkgb3IgZG9lc24ndCBzdGFydCB3aXRoIC8sIGhhbmRsZSBhY2NvcmRpbmdseVxuICAgIGlmIChyZW1haW5pbmdQYXRoICYmICFyZW1haW5pbmdQYXRoLnN0YXJ0c1dpdGgoXCIvXCIpKSB7XG4gICAgICAgIHJlbWFpbmluZ1BhdGggPSBcIi9cIiArIHJlbWFpbmluZ1BhdGg7XG4gICAgfVxuICAgIC8vIFJlbW92ZSB0cmFpbGluZyBzbGFzaCBmcm9tIHRhcmdldEJhc2VVcmwgZm9yIGNvbnNpc3RlbnQgam9pbmluZ1xuICAgIGNvbnN0IGJhc2VVcmxUcmltbWVkID0gdGFyZ2V0QmFzZVVybC5yZXBsYWNlKC9cXC8kLywgXCJcIik7XG4gICAgLy8gUGFyc2UgdGhlIHRhcmdldEJhc2VVcmwgdG8gZXh0cmFjdCBpdHMgcGF0aFxuICAgIGNvbnN0IGJhc2VVcmwgPSBuZXcgVVJMKGJhc2VVcmxUcmltbWVkKTtcbiAgICBjb25zdCBiYXNlUGF0aCA9IGJhc2VVcmwucGF0aG5hbWU7XG4gICAgLy8gQ2hlY2sgaWYgcmVtYWluaW5nUGF0aCBzdGFydHMgd2l0aCBhIHNlZ21lbnQgdGhhdCdzIGFscmVhZHkgYXQgdGhlIGVuZCBvZiBiYXNlUGF0aFxuICAgIC8vIHRvIGF2b2lkIGR1cGxpY2F0aW9uIChlLmcuLCBiYXNlUGF0aD1cIi9tZS92MVwiICsgcmVtYWluaW5nUGF0aD1cIi92MS94XCIg4oaSIFwiL21lL3YxL3hcIilcbiAgICBsZXQgZmluYWxQYXRoID0gYmFzZVBhdGg7XG4gICAgaWYgKHJlbWFpbmluZ1BhdGggJiYgcmVtYWluaW5nUGF0aCAhPT0gXCIvXCIpIHtcbiAgICAgICAgLy8gU3BsaXQgcGF0aHMgaW50byBzZWdtZW50cyBmb3IgY29tcGFyaXNvblxuICAgICAgICBjb25zdCBiYXNlU2VnbWVudHMgPSBiYXNlUGF0aC5zcGxpdChcIi9cIikuZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgICBjb25zdCByZW1haW5pbmdTZWdtZW50cyA9IHJlbWFpbmluZ1BhdGguc3BsaXQoXCIvXCIpLmZpbHRlcihCb29sZWFuKTtcbiAgICAgICAgLy8gRmluZCB0aGUgbG9uZ2VzdCBvdmVybGFwIGJ5IGNoZWNraW5nIGZyb20gbG9uZ2VzdCB0byBzaG9ydGVzdFxuICAgICAgICAvLyBCcmVhayBvbiBmaXJzdCBtYXRjaFxuICAgICAgICBsZXQgb3ZlcmxhcExlbmd0aCA9IDA7XG4gICAgICAgIGNvbnN0IG1heE92ZXJsYXAgPSBNYXRoLm1pbihiYXNlU2VnbWVudHMubGVuZ3RoLCByZW1haW5pbmdTZWdtZW50cy5sZW5ndGgpO1xuICAgICAgICBmb3IgKGxldCBpID0gbWF4T3ZlcmxhcDsgaSA+PSAxOyBpLS0pIHtcbiAgICAgICAgICAgIGNvbnN0IGJhc2VFbmQgPSBiYXNlU2VnbWVudHMuc2xpY2UoLWkpO1xuICAgICAgICAgICAgY29uc3QgcmVtYWluaW5nU3RhcnQgPSByZW1haW5pbmdTZWdtZW50cy5zbGljZSgwLCBpKTtcbiAgICAgICAgICAgIGlmIChiYXNlRW5kLmV2ZXJ5KChzZWcsIGlkeCkgPT4gc2VnID09PSByZW1haW5pbmdTdGFydFtpZHhdKSkge1xuICAgICAgICAgICAgICAgIG92ZXJsYXBMZW5ndGggPSBpO1xuICAgICAgICAgICAgICAgIGJyZWFrOyAvLyBGb3VuZCBsb25nZXN0IG1hdGNoLCBzdG9wIHNlYXJjaGluZ1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEJ1aWxkIGZpbmFsIHBhdGggYnkgYXBwZW5kaW5nIG5vbi1vdmVybGFwcGluZyBzZWdtZW50c1xuICAgICAgICBjb25zdCBub25PdmVybGFwcGluZ1NlZ21lbnRzID0gcmVtYWluaW5nU2VnbWVudHMuc2xpY2Uob3ZlcmxhcExlbmd0aCk7XG4gICAgICAgIGlmIChub25PdmVybGFwcGluZ1NlZ21lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHNlcGFyYXRvciA9IGJhc2VQYXRoID09PSBcIi9cIiB8fCBiYXNlUGF0aC5lbmRzV2l0aChcIi9cIikgPyBcIlwiIDogXCIvXCI7XG4gICAgICAgICAgICBmaW5hbFBhdGggPSBiYXNlUGF0aCArIHNlcGFyYXRvciArIG5vbk92ZXJsYXBwaW5nU2VnbWVudHMuam9pbihcIi9cIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQnVpbGQgdGhlIGZpbmFsIFVSTCB3aXRoIHRoZSBkZS1kdXBsaWNhdGVkIHBhdGhcbiAgICBjb25zdCB0YXJnZXRVcmwgPSBuZXcgVVJMKGJhc2VVcmwub3JpZ2luICsgZmluYWxQYXRoKTtcbiAgICByZXEubmV4dFVybC5zZWFyY2hQYXJhbXMuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICB0YXJnZXRVcmwuc2VhcmNoUGFyYW1zLnNldChrZXksIHZhbHVlKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGFyZ2V0VXJsO1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@auth0/nextjs-auth0/dist/utils/proxy.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@auth0/nextjs-auth0/dist/utils/request.js":
/*!****************************************************************!*\
  !*** ./node_modules/@auth0/nextjs-auth0/dist/utils/request.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isRequest: () => (/* binding */ isRequest)\n/* harmony export */ });\nconst isRequest = (req) => {\n    return (req instanceof Request ||\n        req.headers instanceof Headers ||\n        typeof req.bodyUsed === \"boolean\");\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0BhdXRoMC9uZXh0anMtYXV0aDAvZGlzdC91dGlscy9yZXF1ZXN0LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxAYXV0aDBcXG5leHRqcy1hdXRoMFxcZGlzdFxcdXRpbHNcXHJlcXVlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGlzUmVxdWVzdCA9IChyZXEpID0+IHtcbiAgICByZXR1cm4gKHJlcSBpbnN0YW5jZW9mIFJlcXVlc3QgfHxcbiAgICAgICAgcmVxLmhlYWRlcnMgaW5zdGFuY2VvZiBIZWFkZXJzIHx8XG4gICAgICAgIHR5cGVvZiByZXEuYm9keVVzZWQgPT09IFwiYm9vbGVhblwiKTtcbn07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@auth0/nextjs-auth0/dist/utils/request.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@auth0/nextjs-auth0/dist/utils/scope-helpers.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@auth0/nextjs-auth0/dist/utils/scope-helpers.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ensureDefaultScope: () => (/* binding */ ensureDefaultScope),\n/* harmony export */   getScopeForAudience: () => (/* binding */ getScopeForAudience)\n/* harmony export */ });\n/* harmony import */ var _errors_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errors/index.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/errors/index.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./constants.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/utils/constants.js\");\n\n\n/**\n * Determines the default scope based on the provided authorization parameters.\n * If no scope is defined, it defaults to a predefined set of scopes.\n * If the scope is defined as an object (map) and does not include a scope for the default audience,\n * it adds the default scopes for that audience.\n * @param authorizationParameters The authorization parameters to evaluate.\n * @returns The determined scope, either as a string or an updated map of scopes.\n */\nfunction ensureDefaultScope(authorizationParameters) {\n    // When no scope is defined in the constructor, we default to a string set to DEFAULT_SCOPES.\n    // We do not introduce a Map here as that would be a breaking change.\n    if (!authorizationParameters.scope) {\n        return _constants_js__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_SCOPES;\n    }\n    // When the user defined scope as a Map, but did not define a scope for the default audience,\n    // we need to default it to the DEFAULT_SCOPES\n    if (typeof authorizationParameters.scope === \"object\" &&\n        !getScopeForAudience(authorizationParameters.scope, authorizationParameters.audience)) {\n        const audience = authorizationParameters.audience;\n        return {\n            ...authorizationParameters.scope,\n            [audience]: _constants_js__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_SCOPES\n        };\n    }\n    return authorizationParameters.scope;\n}\n/**\n * Retrieves the appropriate scope for a given audience from a scope map.\n * Only considers the audience when the scope is of type Map<string, string>.\n * If the scope is a string, it is returned as-is.\n * If the scope is null or undefined, undefined is returned.\n * @param scope The scope, either as a string, null/undefined, or a Map of audience to scope.\n * @param audience The audience to look up in the scope map\n * @returns The scope string for the given audience, or undefined if not found or if scope is null/undefined.\n * @throws {InvalidConfigurationError} If scope is defined as a map but no audience is provided.\n */\nfunction getScopeForAudience(scope, audience) {\n    // When the scope is null or undefined, we return undefined\n    if (!scope) {\n        return undefined;\n    }\n    // When the scope is a string, we return it as-is\n    if (typeof scope === \"string\") {\n        return scope;\n    }\n    // When no audience is provided, we cannot look up the scope in the Map\n    // We throw an error to inform the user that an audience is required\n    // Which is required to use MRRT altogether.\n    if (!audience) {\n        throw new _errors_index_js__WEBPACK_IMPORTED_MODULE_0__.InvalidConfigurationError(\"When defining scope as a Map, an audience is required to look up the correct scope.\");\n    }\n    // When the scope is a Map, we return the scope for the provided audience\n    // When no audience is provided, we default to the 'default' audience.\n    return scope[audience];\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0BhdXRoMC9uZXh0anMtYXV0aDAvZGlzdC91dGlscy9zY29wZS1oZWxwZXJzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBK0Q7QUFDZjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxlQUFlLHlEQUFjO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseURBQWM7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwyQkFBMkI7QUFDdkM7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQix1RUFBeUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcQGF1dGgwXFxuZXh0anMtYXV0aDBcXGRpc3RcXHV0aWxzXFxzY29wZS1oZWxwZXJzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEludmFsaWRDb25maWd1cmF0aW9uRXJyb3IgfSBmcm9tIFwiLi4vZXJyb3JzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBERUZBVUxUX1NDT1BFUyB9IGZyb20gXCIuL2NvbnN0YW50cy5qc1wiO1xuLyoqXG4gKiBEZXRlcm1pbmVzIHRoZSBkZWZhdWx0IHNjb3BlIGJhc2VkIG9uIHRoZSBwcm92aWRlZCBhdXRob3JpemF0aW9uIHBhcmFtZXRlcnMuXG4gKiBJZiBubyBzY29wZSBpcyBkZWZpbmVkLCBpdCBkZWZhdWx0cyB0byBhIHByZWRlZmluZWQgc2V0IG9mIHNjb3Blcy5cbiAqIElmIHRoZSBzY29wZSBpcyBkZWZpbmVkIGFzIGFuIG9iamVjdCAobWFwKSBhbmQgZG9lcyBub3QgaW5jbHVkZSBhIHNjb3BlIGZvciB0aGUgZGVmYXVsdCBhdWRpZW5jZSxcbiAqIGl0IGFkZHMgdGhlIGRlZmF1bHQgc2NvcGVzIGZvciB0aGF0IGF1ZGllbmNlLlxuICogQHBhcmFtIGF1dGhvcml6YXRpb25QYXJhbWV0ZXJzIFRoZSBhdXRob3JpemF0aW9uIHBhcmFtZXRlcnMgdG8gZXZhbHVhdGUuXG4gKiBAcmV0dXJucyBUaGUgZGV0ZXJtaW5lZCBzY29wZSwgZWl0aGVyIGFzIGEgc3RyaW5nIG9yIGFuIHVwZGF0ZWQgbWFwIG9mIHNjb3Blcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVuc3VyZURlZmF1bHRTY29wZShhdXRob3JpemF0aW9uUGFyYW1ldGVycykge1xuICAgIC8vIFdoZW4gbm8gc2NvcGUgaXMgZGVmaW5lZCBpbiB0aGUgY29uc3RydWN0b3IsIHdlIGRlZmF1bHQgdG8gYSBzdHJpbmcgc2V0IHRvIERFRkFVTFRfU0NPUEVTLlxuICAgIC8vIFdlIGRvIG5vdCBpbnRyb2R1Y2UgYSBNYXAgaGVyZSBhcyB0aGF0IHdvdWxkIGJlIGEgYnJlYWtpbmcgY2hhbmdlLlxuICAgIGlmICghYXV0aG9yaXphdGlvblBhcmFtZXRlcnMuc2NvcGUpIHtcbiAgICAgICAgcmV0dXJuIERFRkFVTFRfU0NPUEVTO1xuICAgIH1cbiAgICAvLyBXaGVuIHRoZSB1c2VyIGRlZmluZWQgc2NvcGUgYXMgYSBNYXAsIGJ1dCBkaWQgbm90IGRlZmluZSBhIHNjb3BlIGZvciB0aGUgZGVmYXVsdCBhdWRpZW5jZSxcbiAgICAvLyB3ZSBuZWVkIHRvIGRlZmF1bHQgaXQgdG8gdGhlIERFRkFVTFRfU0NPUEVTXG4gICAgaWYgKHR5cGVvZiBhdXRob3JpemF0aW9uUGFyYW1ldGVycy5zY29wZSA9PT0gXCJvYmplY3RcIiAmJlxuICAgICAgICAhZ2V0U2NvcGVGb3JBdWRpZW5jZShhdXRob3JpemF0aW9uUGFyYW1ldGVycy5zY29wZSwgYXV0aG9yaXphdGlvblBhcmFtZXRlcnMuYXVkaWVuY2UpKSB7XG4gICAgICAgIGNvbnN0IGF1ZGllbmNlID0gYXV0aG9yaXphdGlvblBhcmFtZXRlcnMuYXVkaWVuY2U7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5hdXRob3JpemF0aW9uUGFyYW1ldGVycy5zY29wZSxcbiAgICAgICAgICAgIFthdWRpZW5jZV06IERFRkFVTFRfU0NPUEVTXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBhdXRob3JpemF0aW9uUGFyYW1ldGVycy5zY29wZTtcbn1cbi8qKlxuICogUmV0cmlldmVzIHRoZSBhcHByb3ByaWF0ZSBzY29wZSBmb3IgYSBnaXZlbiBhdWRpZW5jZSBmcm9tIGEgc2NvcGUgbWFwLlxuICogT25seSBjb25zaWRlcnMgdGhlIGF1ZGllbmNlIHdoZW4gdGhlIHNjb3BlIGlzIG9mIHR5cGUgTWFwPHN0cmluZywgc3RyaW5nPi5cbiAqIElmIHRoZSBzY29wZSBpcyBhIHN0cmluZywgaXQgaXMgcmV0dXJuZWQgYXMtaXMuXG4gKiBJZiB0aGUgc2NvcGUgaXMgbnVsbCBvciB1bmRlZmluZWQsIHVuZGVmaW5lZCBpcyByZXR1cm5lZC5cbiAqIEBwYXJhbSBzY29wZSBUaGUgc2NvcGUsIGVpdGhlciBhcyBhIHN0cmluZywgbnVsbC91bmRlZmluZWQsIG9yIGEgTWFwIG9mIGF1ZGllbmNlIHRvIHNjb3BlLlxuICogQHBhcmFtIGF1ZGllbmNlIFRoZSBhdWRpZW5jZSB0byBsb29rIHVwIGluIHRoZSBzY29wZSBtYXBcbiAqIEByZXR1cm5zIFRoZSBzY29wZSBzdHJpbmcgZm9yIHRoZSBnaXZlbiBhdWRpZW5jZSwgb3IgdW5kZWZpbmVkIGlmIG5vdCBmb3VuZCBvciBpZiBzY29wZSBpcyBudWxsL3VuZGVmaW5lZC5cbiAqIEB0aHJvd3Mge0ludmFsaWRDb25maWd1cmF0aW9uRXJyb3J9IElmIHNjb3BlIGlzIGRlZmluZWQgYXMgYSBtYXAgYnV0IG5vIGF1ZGllbmNlIGlzIHByb3ZpZGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2NvcGVGb3JBdWRpZW5jZShzY29wZSwgYXVkaWVuY2UpIHtcbiAgICAvLyBXaGVuIHRoZSBzY29wZSBpcyBudWxsIG9yIHVuZGVmaW5lZCwgd2UgcmV0dXJuIHVuZGVmaW5lZFxuICAgIGlmICghc2NvcGUpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLy8gV2hlbiB0aGUgc2NvcGUgaXMgYSBzdHJpbmcsIHdlIHJldHVybiBpdCBhcy1pc1xuICAgIGlmICh0eXBlb2Ygc2NvcGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIHNjb3BlO1xuICAgIH1cbiAgICAvLyBXaGVuIG5vIGF1ZGllbmNlIGlzIHByb3ZpZGVkLCB3ZSBjYW5ub3QgbG9vayB1cCB0aGUgc2NvcGUgaW4gdGhlIE1hcFxuICAgIC8vIFdlIHRocm93IGFuIGVycm9yIHRvIGluZm9ybSB0aGUgdXNlciB0aGF0IGFuIGF1ZGllbmNlIGlzIHJlcXVpcmVkXG4gICAgLy8gV2hpY2ggaXMgcmVxdWlyZWQgdG8gdXNlIE1SUlQgYWx0b2dldGhlci5cbiAgICBpZiAoIWF1ZGllbmNlKSB7XG4gICAgICAgIHRocm93IG5ldyBJbnZhbGlkQ29uZmlndXJhdGlvbkVycm9yKFwiV2hlbiBkZWZpbmluZyBzY29wZSBhcyBhIE1hcCwgYW4gYXVkaWVuY2UgaXMgcmVxdWlyZWQgdG8gbG9vayB1cCB0aGUgY29ycmVjdCBzY29wZS5cIik7XG4gICAgfVxuICAgIC8vIFdoZW4gdGhlIHNjb3BlIGlzIGEgTWFwLCB3ZSByZXR1cm4gdGhlIHNjb3BlIGZvciB0aGUgcHJvdmlkZWQgYXVkaWVuY2VcbiAgICAvLyBXaGVuIG5vIGF1ZGllbmNlIGlzIHByb3ZpZGVkLCB3ZSBkZWZhdWx0IHRvIHRoZSAnZGVmYXVsdCcgYXVkaWVuY2UuXG4gICAgcmV0dXJuIHNjb3BlW2F1ZGllbmNlXTtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@auth0/nextjs-auth0/dist/utils/scope-helpers.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@auth0/nextjs-auth0/dist/utils/session-changes-helpers.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@auth0/nextjs-auth0/dist/utils/session-changes-helpers.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getSessionChangesAfterGetAccessToken: () => (/* binding */ getSessionChangesAfterGetAccessToken)\n/* harmony export */ });\n/* harmony import */ var _scope_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./scope-helpers.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/utils/scope-helpers.js\");\n/* harmony import */ var _token_set_helpers_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./token-set-helpers.js */ \"(middleware)/./node_modules/@auth0/nextjs-auth0/dist/utils/token-set-helpers.js\");\n\n\n/**\n * Checks if a tokenSet represents global audience and scope configuration.\n * @param tokenSet The token set to check\n * @param session The current session data\n * @param globalScope The global scope configuration\n * @param globalOptions The global options containing audience configuration\n * @returns True if the tokenSet uses global audience and scope, false otherwise\n */\nfunction isGlobalAudienceAndScope(tokenSet, session, globalScope, globalOptions) {\n    const isAudienceTheGlobalAudience = !tokenSet.audience ||\n        tokenSet.audience === (session.tokenSet.audience ?? globalOptions.audience);\n    const isScopeTheGlobalScope = !tokenSet.requestedScope ||\n        // Compare against either the initially requested scope, or the global scope if no requested scope is set.\n        // Typically, the requestedScope should always be set, but in case of legacy sessions it might not be so we need to fall-back\n        // to the global scope if that is the case.\n        (0,_token_set_helpers_js__WEBPACK_IMPORTED_MODULE_1__.compareScopes)(session.tokenSet.requestedScope ?? globalScope, tokenSet.requestedScope);\n    return isAudienceTheGlobalAudience && isScopeTheGlobalScope;\n}\n/**\n * Handles updates to the global tokenSet when the new token uses global audience and scope.\n * @param tokenSet The new token set to potentially update with\n * @param session The current session data\n * @returns Partial session data with updated tokenSet, or undefined if no changes needed\n */\nfunction handleGlobalTokenSetUpdate(tokenSet, session) {\n    if (tokenSet.accessToken !== session.tokenSet.accessToken ||\n        tokenSet.expiresAt !== session.tokenSet.expiresAt ||\n        tokenSet.refreshToken !== session.tokenSet.refreshToken) {\n        return {\n            tokenSet\n        };\n    }\n    // When we use the global audience and scope, and nothing changed, we can exit early.\n    return undefined;\n}\n/**\n * Updates an existing access token set with merged requested scopes.\n *\n * IMPORTANT: This function merges the requestedScope fields from both the existing\n * and new token sets. The actual granted scopes (tokenSet.scope) come from the\n * authorization server and represent what was actually granted for this specific request.\n * We track both values to:\n * 1. Know what scopes were originally requested (requestedScope)\n * 2. Know what scopes were actually granted (scope)\n *\n * The merged requestedScope should never grant more permissions than what the\n * authorization server would allow - it only tracks what has been requested across\n * multiple token requests for the same audience. The actual permissions are always\n * determined by the authorization server's response (tokenSet.scope).\n *\n * @param session The current session data\n * @param tokenSet The new token set with updated scopes from the authorization server\n * @param existingAccessTokenSet The existing access token set to update\n * @param audience The audience for the access token\n * @returns Updated session data with merged requested scopes but actual granted scopes from tokenSet\n */\nfunction updateExistingAccessTokenWithMergedRequestedScopes(session, tokenSet, existingAccessTokenSet, audience) {\n    return {\n        accessTokens: session.accessTokens?.map((accessToken) => accessToken === existingAccessTokenSet\n            ? (0,_token_set_helpers_js__WEBPACK_IMPORTED_MODULE_1__.accessTokenSetFromTokenSet)({\n                ...tokenSet,\n                // Use the merged requested scopes (of both existing and new entry) for lookup purposes\n                requestedScope: (0,_token_set_helpers_js__WEBPACK_IMPORTED_MODULE_1__.mergeScopes)(accessToken.requestedScope, tokenSet.requestedScope),\n                // Use the actual granted scope from the authorization server\n                scope: tokenSet.scope\n            }, { audience })\n            : accessToken)\n    };\n}\n/**\n * Adds a new access token set to the session's accessTokens array.\n * @param session The current session data\n * @param tokenSet The token set to add as a new access token\n * @param audience The audience for the new access token\n * @returns Updated session data with the new access token added\n */\nfunction addNewAccessTokenSet(session, tokenSet, audience) {\n    return {\n        accessTokens: [\n            ...(session.accessTokens || []),\n            (0,_token_set_helpers_js__WEBPACK_IMPORTED_MODULE_1__.accessTokenSetFromTokenSet)(tokenSet, { audience })\n        ]\n    };\n}\n/**\n * Updates an existing access token set if the access token has changed.\n * @param session The current session data\n * @param tokenSet The new token set with potentially updated access token\n * @param existingAccessTokenSet The existing access token set to compare against\n * @param audience The audience for the access token\n * @returns Updated session data if access token changed, undefined otherwise\n */\nfunction updateExistingAccessTokenSet(session, tokenSet, existingAccessTokenSet, audience) {\n    if (tokenSet.accessToken !== existingAccessTokenSet.accessToken) {\n        return {\n            accessTokens: session.accessTokens?.map((accessToken) => accessToken === existingAccessTokenSet\n                ? (0,_token_set_helpers_js__WEBPACK_IMPORTED_MODULE_1__.accessTokenSetFromTokenSet)(tokenSet, { audience })\n                : accessToken)\n        };\n    }\n    return undefined;\n}\n/**\n * Handles updates to specific access tokens for non-global audience/scope combinations.\n * @param session The current session data\n * @param tokenSet The new token set to process\n * @param audience The specific audience for the access token\n * @param scope The specific scope for the access token\n * @returns Partial session data with access token updates, or undefined if no changes needed\n */\nfunction handleSpecificAccessTokenUpdate(session, tokenSet, audience, scope) {\n    // First, try to find an entry based on the requestedScope\n    let existingAccessTokenSet = (0,_token_set_helpers_js__WEBPACK_IMPORTED_MODULE_1__.findAccessTokenSet)(session, {\n        scope,\n        audience,\n        matchMode: \"requestedScope\"\n    });\n    if (!existingAccessTokenSet) {\n        // If there is no specific match based on the requestedScope, we may want to see if there is a match based on the actual scope retrieved.\n        // If that is the case, we need to store them together:\n        // - When the cache has an entry with scope \"a\" and requestedScope \"a b\"\n        // - and we request a new token with requestedScope \"a c\" for the same audience, resulting in scope \"a\"\n        // - we want to update the existing entry to have a requested scope of \"a b c\".\n        //\n        // This avoids having multiple entries for the same provided scope, which would lead to unnecessary token requests.\n        // This also ensure, next time around when we request a token of scope \"a b\" or \"a c\", we will find the same existing entry in the cache, with provided scope set to \"a\".\n        existingAccessTokenSet = (0,_token_set_helpers_js__WEBPACK_IMPORTED_MODULE_1__.findAccessTokenSet)(session, {\n            scope: tokenSet.scope,\n            audience,\n            matchMode: \"scope\"\n        });\n        if (existingAccessTokenSet) {\n            // We need to update the requestedScope to be a combination of both matches\n            const accessTokenChanges = updateExistingAccessTokenWithMergedRequestedScopes(session, tokenSet, existingAccessTokenSet, audience);\n            return buildSessionChanges(session, tokenSet, accessTokenChanges);\n        }\n        else {\n            // There is no access token found that matches the provided `audience` and `scope`.\n            // We need to add a new entry to the array.\n            const accessTokenChanges = addNewAccessTokenSet(session, tokenSet, audience);\n            return buildSessionChanges(session, tokenSet, accessTokenChanges);\n        }\n    }\n    else {\n        // There is an existing access token for the provided `audience` and `scope`.\n        // We need to check if the access token changed, and if so, update it in the array.\n        const accessTokenChanges = updateExistingAccessTokenSet(session, tokenSet, existingAccessTokenSet, audience);\n        return buildSessionChanges(session, tokenSet, accessTokenChanges);\n    }\n}\n/**\n * Builds the final session changes object with both accessTokens and tokenSet updates.\n * @param session The current session data\n * @param tokenSet The new token set containing idToken and refreshToken updates\n * @param accessTokenChanges The access token changes to merge into the final result\n * @returns Complete session changes with both access tokens and token set updates, or undefined if no changes\n */\nfunction buildSessionChanges(session, tokenSet, accessTokenChanges) {\n    if (accessTokenChanges) {\n        return {\n            accessTokens: accessTokenChanges.accessTokens,\n            tokenSet: {\n                ...session.tokenSet,\n                idToken: tokenSet.idToken,\n                refreshToken: tokenSet.refreshToken\n            }\n        };\n    }\n    return undefined;\n}\n/**\n * Determines the necessary changes to the session after obtaining a new access token.\n *\n * This function checks if the provided tokenSet corresponds to the global audience and scope\n * or a specific one. It then determines if any updates are needed in the session's tokenSet\n * or accessTokens array and returns the required changes.\n *\n * If no changes are needed, it returns undefined.\n * @param session The original session data\n * @param tokenSet The, potentially, new TokenSet obtained\n * @param globalOptions The global audience and scope configured for the Auth0Client\n * @returns Partial session changes or undefined if no changes are needed\n */\nfunction getSessionChangesAfterGetAccessToken(session, tokenSet, globalOptions) {\n    // Since globalOptions.scope can be a map of audience to scopes, we need to get the correct scope for the current audience.\n    const globalScope = (0,_scope_helpers_js__WEBPACK_IMPORTED_MODULE_0__.getScopeForAudience)(globalOptions.scope, tokenSet.audience ?? globalOptions.audience);\n    // If we are using the global audience and scope, we need to check if the access token or refresh token changed in `SessionData.tokenSet`.\n    // We do not have to change anything to the `accessTokens` array inside `SessionData` in this case, so we can just return.\n    if (isGlobalAudienceAndScope(tokenSet, session, globalScope, globalOptions)) {\n        return handleGlobalTokenSetUpdate(tokenSet, session);\n    }\n    // If we aren't using the global audience and scope,\n    // we need to check if the corresponding access token changed in `SessionData.accessTokens`.\n    // We will also have to update the refreshToken and idToken as needed\n    const audience = tokenSet.audience ?? globalOptions.audience;\n    const scope = tokenSet.requestedScope ?? globalScope ?? undefined;\n    // If there is no audience, we cannot find the correct access token in the array\n    if (!audience) {\n        return undefined;\n    }\n    return handleSpecificAccessTokenUpdate(session, tokenSet, audience, scope);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0BhdXRoMC9uZXh0anMtYXV0aDAvZGlzdC91dGlscy9zZXNzaW9uLWNoYW5nZXMtaGVscGVycy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBeUQ7QUFDMkQ7QUFDcEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxvRUFBYTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsaUZBQTBCO0FBQ3hDO0FBQ0E7QUFDQSxnQ0FBZ0Msa0VBQVc7QUFDM0M7QUFDQTtBQUNBLGFBQWEsSUFBSSxVQUFVO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGlGQUEwQixhQUFhLFVBQVU7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGlGQUEwQixhQUFhLFVBQVU7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHlFQUFrQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHlFQUFrQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0Esd0JBQXdCLHNFQUFtQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcQGF1dGgwXFxuZXh0anMtYXV0aDBcXGRpc3RcXHV0aWxzXFxzZXNzaW9uLWNoYW5nZXMtaGVscGVycy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRTY29wZUZvckF1ZGllbmNlIH0gZnJvbSBcIi4vc2NvcGUtaGVscGVycy5qc1wiO1xuaW1wb3J0IHsgYWNjZXNzVG9rZW5TZXRGcm9tVG9rZW5TZXQsIGNvbXBhcmVTY29wZXMsIGZpbmRBY2Nlc3NUb2tlblNldCwgbWVyZ2VTY29wZXMgfSBmcm9tIFwiLi90b2tlbi1zZXQtaGVscGVycy5qc1wiO1xuLyoqXG4gKiBDaGVja3MgaWYgYSB0b2tlblNldCByZXByZXNlbnRzIGdsb2JhbCBhdWRpZW5jZSBhbmQgc2NvcGUgY29uZmlndXJhdGlvbi5cbiAqIEBwYXJhbSB0b2tlblNldCBUaGUgdG9rZW4gc2V0IHRvIGNoZWNrXG4gKiBAcGFyYW0gc2Vzc2lvbiBUaGUgY3VycmVudCBzZXNzaW9uIGRhdGFcbiAqIEBwYXJhbSBnbG9iYWxTY29wZSBUaGUgZ2xvYmFsIHNjb3BlIGNvbmZpZ3VyYXRpb25cbiAqIEBwYXJhbSBnbG9iYWxPcHRpb25zIFRoZSBnbG9iYWwgb3B0aW9ucyBjb250YWluaW5nIGF1ZGllbmNlIGNvbmZpZ3VyYXRpb25cbiAqIEByZXR1cm5zIFRydWUgaWYgdGhlIHRva2VuU2V0IHVzZXMgZ2xvYmFsIGF1ZGllbmNlIGFuZCBzY29wZSwgZmFsc2Ugb3RoZXJ3aXNlXG4gKi9cbmZ1bmN0aW9uIGlzR2xvYmFsQXVkaWVuY2VBbmRTY29wZSh0b2tlblNldCwgc2Vzc2lvbiwgZ2xvYmFsU2NvcGUsIGdsb2JhbE9wdGlvbnMpIHtcbiAgICBjb25zdCBpc0F1ZGllbmNlVGhlR2xvYmFsQXVkaWVuY2UgPSAhdG9rZW5TZXQuYXVkaWVuY2UgfHxcbiAgICAgICAgdG9rZW5TZXQuYXVkaWVuY2UgPT09IChzZXNzaW9uLnRva2VuU2V0LmF1ZGllbmNlID8/IGdsb2JhbE9wdGlvbnMuYXVkaWVuY2UpO1xuICAgIGNvbnN0IGlzU2NvcGVUaGVHbG9iYWxTY29wZSA9ICF0b2tlblNldC5yZXF1ZXN0ZWRTY29wZSB8fFxuICAgICAgICAvLyBDb21wYXJlIGFnYWluc3QgZWl0aGVyIHRoZSBpbml0aWFsbHkgcmVxdWVzdGVkIHNjb3BlLCBvciB0aGUgZ2xvYmFsIHNjb3BlIGlmIG5vIHJlcXVlc3RlZCBzY29wZSBpcyBzZXQuXG4gICAgICAgIC8vIFR5cGljYWxseSwgdGhlIHJlcXVlc3RlZFNjb3BlIHNob3VsZCBhbHdheXMgYmUgc2V0LCBidXQgaW4gY2FzZSBvZiBsZWdhY3kgc2Vzc2lvbnMgaXQgbWlnaHQgbm90IGJlIHNvIHdlIG5lZWQgdG8gZmFsbC1iYWNrXG4gICAgICAgIC8vIHRvIHRoZSBnbG9iYWwgc2NvcGUgaWYgdGhhdCBpcyB0aGUgY2FzZS5cbiAgICAgICAgY29tcGFyZVNjb3BlcyhzZXNzaW9uLnRva2VuU2V0LnJlcXVlc3RlZFNjb3BlID8/IGdsb2JhbFNjb3BlLCB0b2tlblNldC5yZXF1ZXN0ZWRTY29wZSk7XG4gICAgcmV0dXJuIGlzQXVkaWVuY2VUaGVHbG9iYWxBdWRpZW5jZSAmJiBpc1Njb3BlVGhlR2xvYmFsU2NvcGU7XG59XG4vKipcbiAqIEhhbmRsZXMgdXBkYXRlcyB0byB0aGUgZ2xvYmFsIHRva2VuU2V0IHdoZW4gdGhlIG5ldyB0b2tlbiB1c2VzIGdsb2JhbCBhdWRpZW5jZSBhbmQgc2NvcGUuXG4gKiBAcGFyYW0gdG9rZW5TZXQgVGhlIG5ldyB0b2tlbiBzZXQgdG8gcG90ZW50aWFsbHkgdXBkYXRlIHdpdGhcbiAqIEBwYXJhbSBzZXNzaW9uIFRoZSBjdXJyZW50IHNlc3Npb24gZGF0YVxuICogQHJldHVybnMgUGFydGlhbCBzZXNzaW9uIGRhdGEgd2l0aCB1cGRhdGVkIHRva2VuU2V0LCBvciB1bmRlZmluZWQgaWYgbm8gY2hhbmdlcyBuZWVkZWRcbiAqL1xuZnVuY3Rpb24gaGFuZGxlR2xvYmFsVG9rZW5TZXRVcGRhdGUodG9rZW5TZXQsIHNlc3Npb24pIHtcbiAgICBpZiAodG9rZW5TZXQuYWNjZXNzVG9rZW4gIT09IHNlc3Npb24udG9rZW5TZXQuYWNjZXNzVG9rZW4gfHxcbiAgICAgICAgdG9rZW5TZXQuZXhwaXJlc0F0ICE9PSBzZXNzaW9uLnRva2VuU2V0LmV4cGlyZXNBdCB8fFxuICAgICAgICB0b2tlblNldC5yZWZyZXNoVG9rZW4gIT09IHNlc3Npb24udG9rZW5TZXQucmVmcmVzaFRva2VuKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0b2tlblNldFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyBXaGVuIHdlIHVzZSB0aGUgZ2xvYmFsIGF1ZGllbmNlIGFuZCBzY29wZSwgYW5kIG5vdGhpbmcgY2hhbmdlZCwgd2UgY2FuIGV4aXQgZWFybHkuXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbi8qKlxuICogVXBkYXRlcyBhbiBleGlzdGluZyBhY2Nlc3MgdG9rZW4gc2V0IHdpdGggbWVyZ2VkIHJlcXVlc3RlZCBzY29wZXMuXG4gKlxuICogSU1QT1JUQU5UOiBUaGlzIGZ1bmN0aW9uIG1lcmdlcyB0aGUgcmVxdWVzdGVkU2NvcGUgZmllbGRzIGZyb20gYm90aCB0aGUgZXhpc3RpbmdcbiAqIGFuZCBuZXcgdG9rZW4gc2V0cy4gVGhlIGFjdHVhbCBncmFudGVkIHNjb3BlcyAodG9rZW5TZXQuc2NvcGUpIGNvbWUgZnJvbSB0aGVcbiAqIGF1dGhvcml6YXRpb24gc2VydmVyIGFuZCByZXByZXNlbnQgd2hhdCB3YXMgYWN0dWFsbHkgZ3JhbnRlZCBmb3IgdGhpcyBzcGVjaWZpYyByZXF1ZXN0LlxuICogV2UgdHJhY2sgYm90aCB2YWx1ZXMgdG86XG4gKiAxLiBLbm93IHdoYXQgc2NvcGVzIHdlcmUgb3JpZ2luYWxseSByZXF1ZXN0ZWQgKHJlcXVlc3RlZFNjb3BlKVxuICogMi4gS25vdyB3aGF0IHNjb3BlcyB3ZXJlIGFjdHVhbGx5IGdyYW50ZWQgKHNjb3BlKVxuICpcbiAqIFRoZSBtZXJnZWQgcmVxdWVzdGVkU2NvcGUgc2hvdWxkIG5ldmVyIGdyYW50IG1vcmUgcGVybWlzc2lvbnMgdGhhbiB3aGF0IHRoZVxuICogYXV0aG9yaXphdGlvbiBzZXJ2ZXIgd291bGQgYWxsb3cgLSBpdCBvbmx5IHRyYWNrcyB3aGF0IGhhcyBiZWVuIHJlcXVlc3RlZCBhY3Jvc3NcbiAqIG11bHRpcGxlIHRva2VuIHJlcXVlc3RzIGZvciB0aGUgc2FtZSBhdWRpZW5jZS4gVGhlIGFjdHVhbCBwZXJtaXNzaW9ucyBhcmUgYWx3YXlzXG4gKiBkZXRlcm1pbmVkIGJ5IHRoZSBhdXRob3JpemF0aW9uIHNlcnZlcidzIHJlc3BvbnNlICh0b2tlblNldC5zY29wZSkuXG4gKlxuICogQHBhcmFtIHNlc3Npb24gVGhlIGN1cnJlbnQgc2Vzc2lvbiBkYXRhXG4gKiBAcGFyYW0gdG9rZW5TZXQgVGhlIG5ldyB0b2tlbiBzZXQgd2l0aCB1cGRhdGVkIHNjb3BlcyBmcm9tIHRoZSBhdXRob3JpemF0aW9uIHNlcnZlclxuICogQHBhcmFtIGV4aXN0aW5nQWNjZXNzVG9rZW5TZXQgVGhlIGV4aXN0aW5nIGFjY2VzcyB0b2tlbiBzZXQgdG8gdXBkYXRlXG4gKiBAcGFyYW0gYXVkaWVuY2UgVGhlIGF1ZGllbmNlIGZvciB0aGUgYWNjZXNzIHRva2VuXG4gKiBAcmV0dXJucyBVcGRhdGVkIHNlc3Npb24gZGF0YSB3aXRoIG1lcmdlZCByZXF1ZXN0ZWQgc2NvcGVzIGJ1dCBhY3R1YWwgZ3JhbnRlZCBzY29wZXMgZnJvbSB0b2tlblNldFxuICovXG5mdW5jdGlvbiB1cGRhdGVFeGlzdGluZ0FjY2Vzc1Rva2VuV2l0aE1lcmdlZFJlcXVlc3RlZFNjb3BlcyhzZXNzaW9uLCB0b2tlblNldCwgZXhpc3RpbmdBY2Nlc3NUb2tlblNldCwgYXVkaWVuY2UpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBhY2Nlc3NUb2tlbnM6IHNlc3Npb24uYWNjZXNzVG9rZW5zPy5tYXAoKGFjY2Vzc1Rva2VuKSA9PiBhY2Nlc3NUb2tlbiA9PT0gZXhpc3RpbmdBY2Nlc3NUb2tlblNldFxuICAgICAgICAgICAgPyBhY2Nlc3NUb2tlblNldEZyb21Ub2tlblNldCh7XG4gICAgICAgICAgICAgICAgLi4udG9rZW5TZXQsXG4gICAgICAgICAgICAgICAgLy8gVXNlIHRoZSBtZXJnZWQgcmVxdWVzdGVkIHNjb3BlcyAob2YgYm90aCBleGlzdGluZyBhbmQgbmV3IGVudHJ5KSBmb3IgbG9va3VwIHB1cnBvc2VzXG4gICAgICAgICAgICAgICAgcmVxdWVzdGVkU2NvcGU6IG1lcmdlU2NvcGVzKGFjY2Vzc1Rva2VuLnJlcXVlc3RlZFNjb3BlLCB0b2tlblNldC5yZXF1ZXN0ZWRTY29wZSksXG4gICAgICAgICAgICAgICAgLy8gVXNlIHRoZSBhY3R1YWwgZ3JhbnRlZCBzY29wZSBmcm9tIHRoZSBhdXRob3JpemF0aW9uIHNlcnZlclxuICAgICAgICAgICAgICAgIHNjb3BlOiB0b2tlblNldC5zY29wZVxuICAgICAgICAgICAgfSwgeyBhdWRpZW5jZSB9KVxuICAgICAgICAgICAgOiBhY2Nlc3NUb2tlbilcbiAgICB9O1xufVxuLyoqXG4gKiBBZGRzIGEgbmV3IGFjY2VzcyB0b2tlbiBzZXQgdG8gdGhlIHNlc3Npb24ncyBhY2Nlc3NUb2tlbnMgYXJyYXkuXG4gKiBAcGFyYW0gc2Vzc2lvbiBUaGUgY3VycmVudCBzZXNzaW9uIGRhdGFcbiAqIEBwYXJhbSB0b2tlblNldCBUaGUgdG9rZW4gc2V0IHRvIGFkZCBhcyBhIG5ldyBhY2Nlc3MgdG9rZW5cbiAqIEBwYXJhbSBhdWRpZW5jZSBUaGUgYXVkaWVuY2UgZm9yIHRoZSBuZXcgYWNjZXNzIHRva2VuXG4gKiBAcmV0dXJucyBVcGRhdGVkIHNlc3Npb24gZGF0YSB3aXRoIHRoZSBuZXcgYWNjZXNzIHRva2VuIGFkZGVkXG4gKi9cbmZ1bmN0aW9uIGFkZE5ld0FjY2Vzc1Rva2VuU2V0KHNlc3Npb24sIHRva2VuU2V0LCBhdWRpZW5jZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGFjY2Vzc1Rva2VuczogW1xuICAgICAgICAgICAgLi4uKHNlc3Npb24uYWNjZXNzVG9rZW5zIHx8IFtdKSxcbiAgICAgICAgICAgIGFjY2Vzc1Rva2VuU2V0RnJvbVRva2VuU2V0KHRva2VuU2V0LCB7IGF1ZGllbmNlIH0pXG4gICAgICAgIF1cbiAgICB9O1xufVxuLyoqXG4gKiBVcGRhdGVzIGFuIGV4aXN0aW5nIGFjY2VzcyB0b2tlbiBzZXQgaWYgdGhlIGFjY2VzcyB0b2tlbiBoYXMgY2hhbmdlZC5cbiAqIEBwYXJhbSBzZXNzaW9uIFRoZSBjdXJyZW50IHNlc3Npb24gZGF0YVxuICogQHBhcmFtIHRva2VuU2V0IFRoZSBuZXcgdG9rZW4gc2V0IHdpdGggcG90ZW50aWFsbHkgdXBkYXRlZCBhY2Nlc3MgdG9rZW5cbiAqIEBwYXJhbSBleGlzdGluZ0FjY2Vzc1Rva2VuU2V0IFRoZSBleGlzdGluZyBhY2Nlc3MgdG9rZW4gc2V0IHRvIGNvbXBhcmUgYWdhaW5zdFxuICogQHBhcmFtIGF1ZGllbmNlIFRoZSBhdWRpZW5jZSBmb3IgdGhlIGFjY2VzcyB0b2tlblxuICogQHJldHVybnMgVXBkYXRlZCBzZXNzaW9uIGRhdGEgaWYgYWNjZXNzIHRva2VuIGNoYW5nZWQsIHVuZGVmaW5lZCBvdGhlcndpc2VcbiAqL1xuZnVuY3Rpb24gdXBkYXRlRXhpc3RpbmdBY2Nlc3NUb2tlblNldChzZXNzaW9uLCB0b2tlblNldCwgZXhpc3RpbmdBY2Nlc3NUb2tlblNldCwgYXVkaWVuY2UpIHtcbiAgICBpZiAodG9rZW5TZXQuYWNjZXNzVG9rZW4gIT09IGV4aXN0aW5nQWNjZXNzVG9rZW5TZXQuYWNjZXNzVG9rZW4pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFjY2Vzc1Rva2Vuczogc2Vzc2lvbi5hY2Nlc3NUb2tlbnM/Lm1hcCgoYWNjZXNzVG9rZW4pID0+IGFjY2Vzc1Rva2VuID09PSBleGlzdGluZ0FjY2Vzc1Rva2VuU2V0XG4gICAgICAgICAgICAgICAgPyBhY2Nlc3NUb2tlblNldEZyb21Ub2tlblNldCh0b2tlblNldCwgeyBhdWRpZW5jZSB9KVxuICAgICAgICAgICAgICAgIDogYWNjZXNzVG9rZW4pXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG4vKipcbiAqIEhhbmRsZXMgdXBkYXRlcyB0byBzcGVjaWZpYyBhY2Nlc3MgdG9rZW5zIGZvciBub24tZ2xvYmFsIGF1ZGllbmNlL3Njb3BlIGNvbWJpbmF0aW9ucy5cbiAqIEBwYXJhbSBzZXNzaW9uIFRoZSBjdXJyZW50IHNlc3Npb24gZGF0YVxuICogQHBhcmFtIHRva2VuU2V0IFRoZSBuZXcgdG9rZW4gc2V0IHRvIHByb2Nlc3NcbiAqIEBwYXJhbSBhdWRpZW5jZSBUaGUgc3BlY2lmaWMgYXVkaWVuY2UgZm9yIHRoZSBhY2Nlc3MgdG9rZW5cbiAqIEBwYXJhbSBzY29wZSBUaGUgc3BlY2lmaWMgc2NvcGUgZm9yIHRoZSBhY2Nlc3MgdG9rZW5cbiAqIEByZXR1cm5zIFBhcnRpYWwgc2Vzc2lvbiBkYXRhIHdpdGggYWNjZXNzIHRva2VuIHVwZGF0ZXMsIG9yIHVuZGVmaW5lZCBpZiBubyBjaGFuZ2VzIG5lZWRlZFxuICovXG5mdW5jdGlvbiBoYW5kbGVTcGVjaWZpY0FjY2Vzc1Rva2VuVXBkYXRlKHNlc3Npb24sIHRva2VuU2V0LCBhdWRpZW5jZSwgc2NvcGUpIHtcbiAgICAvLyBGaXJzdCwgdHJ5IHRvIGZpbmQgYW4gZW50cnkgYmFzZWQgb24gdGhlIHJlcXVlc3RlZFNjb3BlXG4gICAgbGV0IGV4aXN0aW5nQWNjZXNzVG9rZW5TZXQgPSBmaW5kQWNjZXNzVG9rZW5TZXQoc2Vzc2lvbiwge1xuICAgICAgICBzY29wZSxcbiAgICAgICAgYXVkaWVuY2UsXG4gICAgICAgIG1hdGNoTW9kZTogXCJyZXF1ZXN0ZWRTY29wZVwiXG4gICAgfSk7XG4gICAgaWYgKCFleGlzdGluZ0FjY2Vzc1Rva2VuU2V0KSB7XG4gICAgICAgIC8vIElmIHRoZXJlIGlzIG5vIHNwZWNpZmljIG1hdGNoIGJhc2VkIG9uIHRoZSByZXF1ZXN0ZWRTY29wZSwgd2UgbWF5IHdhbnQgdG8gc2VlIGlmIHRoZXJlIGlzIGEgbWF0Y2ggYmFzZWQgb24gdGhlIGFjdHVhbCBzY29wZSByZXRyaWV2ZWQuXG4gICAgICAgIC8vIElmIHRoYXQgaXMgdGhlIGNhc2UsIHdlIG5lZWQgdG8gc3RvcmUgdGhlbSB0b2dldGhlcjpcbiAgICAgICAgLy8gLSBXaGVuIHRoZSBjYWNoZSBoYXMgYW4gZW50cnkgd2l0aCBzY29wZSBcImFcIiBhbmQgcmVxdWVzdGVkU2NvcGUgXCJhIGJcIlxuICAgICAgICAvLyAtIGFuZCB3ZSByZXF1ZXN0IGEgbmV3IHRva2VuIHdpdGggcmVxdWVzdGVkU2NvcGUgXCJhIGNcIiBmb3IgdGhlIHNhbWUgYXVkaWVuY2UsIHJlc3VsdGluZyBpbiBzY29wZSBcImFcIlxuICAgICAgICAvLyAtIHdlIHdhbnQgdG8gdXBkYXRlIHRoZSBleGlzdGluZyBlbnRyeSB0byBoYXZlIGEgcmVxdWVzdGVkIHNjb3BlIG9mIFwiYSBiIGNcIi5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhpcyBhdm9pZHMgaGF2aW5nIG11bHRpcGxlIGVudHJpZXMgZm9yIHRoZSBzYW1lIHByb3ZpZGVkIHNjb3BlLCB3aGljaCB3b3VsZCBsZWFkIHRvIHVubmVjZXNzYXJ5IHRva2VuIHJlcXVlc3RzLlxuICAgICAgICAvLyBUaGlzIGFsc28gZW5zdXJlLCBuZXh0IHRpbWUgYXJvdW5kIHdoZW4gd2UgcmVxdWVzdCBhIHRva2VuIG9mIHNjb3BlIFwiYSBiXCIgb3IgXCJhIGNcIiwgd2Ugd2lsbCBmaW5kIHRoZSBzYW1lIGV4aXN0aW5nIGVudHJ5IGluIHRoZSBjYWNoZSwgd2l0aCBwcm92aWRlZCBzY29wZSBzZXQgdG8gXCJhXCIuXG4gICAgICAgIGV4aXN0aW5nQWNjZXNzVG9rZW5TZXQgPSBmaW5kQWNjZXNzVG9rZW5TZXQoc2Vzc2lvbiwge1xuICAgICAgICAgICAgc2NvcGU6IHRva2VuU2V0LnNjb3BlLFxuICAgICAgICAgICAgYXVkaWVuY2UsXG4gICAgICAgICAgICBtYXRjaE1vZGU6IFwic2NvcGVcIlxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGV4aXN0aW5nQWNjZXNzVG9rZW5TZXQpIHtcbiAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gdXBkYXRlIHRoZSByZXF1ZXN0ZWRTY29wZSB0byBiZSBhIGNvbWJpbmF0aW9uIG9mIGJvdGggbWF0Y2hlc1xuICAgICAgICAgICAgY29uc3QgYWNjZXNzVG9rZW5DaGFuZ2VzID0gdXBkYXRlRXhpc3RpbmdBY2Nlc3NUb2tlbldpdGhNZXJnZWRSZXF1ZXN0ZWRTY29wZXMoc2Vzc2lvbiwgdG9rZW5TZXQsIGV4aXN0aW5nQWNjZXNzVG9rZW5TZXQsIGF1ZGllbmNlKTtcbiAgICAgICAgICAgIHJldHVybiBidWlsZFNlc3Npb25DaGFuZ2VzKHNlc3Npb24sIHRva2VuU2V0LCBhY2Nlc3NUb2tlbkNoYW5nZXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gVGhlcmUgaXMgbm8gYWNjZXNzIHRva2VuIGZvdW5kIHRoYXQgbWF0Y2hlcyB0aGUgcHJvdmlkZWQgYGF1ZGllbmNlYCBhbmQgYHNjb3BlYC5cbiAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gYWRkIGEgbmV3IGVudHJ5IHRvIHRoZSBhcnJheS5cbiAgICAgICAgICAgIGNvbnN0IGFjY2Vzc1Rva2VuQ2hhbmdlcyA9IGFkZE5ld0FjY2Vzc1Rva2VuU2V0KHNlc3Npb24sIHRva2VuU2V0LCBhdWRpZW5jZSk7XG4gICAgICAgICAgICByZXR1cm4gYnVpbGRTZXNzaW9uQ2hhbmdlcyhzZXNzaW9uLCB0b2tlblNldCwgYWNjZXNzVG9rZW5DaGFuZ2VzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gVGhlcmUgaXMgYW4gZXhpc3RpbmcgYWNjZXNzIHRva2VuIGZvciB0aGUgcHJvdmlkZWQgYGF1ZGllbmNlYCBhbmQgYHNjb3BlYC5cbiAgICAgICAgLy8gV2UgbmVlZCB0byBjaGVjayBpZiB0aGUgYWNjZXNzIHRva2VuIGNoYW5nZWQsIGFuZCBpZiBzbywgdXBkYXRlIGl0IGluIHRoZSBhcnJheS5cbiAgICAgICAgY29uc3QgYWNjZXNzVG9rZW5DaGFuZ2VzID0gdXBkYXRlRXhpc3RpbmdBY2Nlc3NUb2tlblNldChzZXNzaW9uLCB0b2tlblNldCwgZXhpc3RpbmdBY2Nlc3NUb2tlblNldCwgYXVkaWVuY2UpO1xuICAgICAgICByZXR1cm4gYnVpbGRTZXNzaW9uQ2hhbmdlcyhzZXNzaW9uLCB0b2tlblNldCwgYWNjZXNzVG9rZW5DaGFuZ2VzKTtcbiAgICB9XG59XG4vKipcbiAqIEJ1aWxkcyB0aGUgZmluYWwgc2Vzc2lvbiBjaGFuZ2VzIG9iamVjdCB3aXRoIGJvdGggYWNjZXNzVG9rZW5zIGFuZCB0b2tlblNldCB1cGRhdGVzLlxuICogQHBhcmFtIHNlc3Npb24gVGhlIGN1cnJlbnQgc2Vzc2lvbiBkYXRhXG4gKiBAcGFyYW0gdG9rZW5TZXQgVGhlIG5ldyB0b2tlbiBzZXQgY29udGFpbmluZyBpZFRva2VuIGFuZCByZWZyZXNoVG9rZW4gdXBkYXRlc1xuICogQHBhcmFtIGFjY2Vzc1Rva2VuQ2hhbmdlcyBUaGUgYWNjZXNzIHRva2VuIGNoYW5nZXMgdG8gbWVyZ2UgaW50byB0aGUgZmluYWwgcmVzdWx0XG4gKiBAcmV0dXJucyBDb21wbGV0ZSBzZXNzaW9uIGNoYW5nZXMgd2l0aCBib3RoIGFjY2VzcyB0b2tlbnMgYW5kIHRva2VuIHNldCB1cGRhdGVzLCBvciB1bmRlZmluZWQgaWYgbm8gY2hhbmdlc1xuICovXG5mdW5jdGlvbiBidWlsZFNlc3Npb25DaGFuZ2VzKHNlc3Npb24sIHRva2VuU2V0LCBhY2Nlc3NUb2tlbkNoYW5nZXMpIHtcbiAgICBpZiAoYWNjZXNzVG9rZW5DaGFuZ2VzKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhY2Nlc3NUb2tlbnM6IGFjY2Vzc1Rva2VuQ2hhbmdlcy5hY2Nlc3NUb2tlbnMsXG4gICAgICAgICAgICB0b2tlblNldDoge1xuICAgICAgICAgICAgICAgIC4uLnNlc3Npb24udG9rZW5TZXQsXG4gICAgICAgICAgICAgICAgaWRUb2tlbjogdG9rZW5TZXQuaWRUb2tlbixcbiAgICAgICAgICAgICAgICByZWZyZXNoVG9rZW46IHRva2VuU2V0LnJlZnJlc2hUb2tlblxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuLyoqXG4gKiBEZXRlcm1pbmVzIHRoZSBuZWNlc3NhcnkgY2hhbmdlcyB0byB0aGUgc2Vzc2lvbiBhZnRlciBvYnRhaW5pbmcgYSBuZXcgYWNjZXNzIHRva2VuLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gY2hlY2tzIGlmIHRoZSBwcm92aWRlZCB0b2tlblNldCBjb3JyZXNwb25kcyB0byB0aGUgZ2xvYmFsIGF1ZGllbmNlIGFuZCBzY29wZVxuICogb3IgYSBzcGVjaWZpYyBvbmUuIEl0IHRoZW4gZGV0ZXJtaW5lcyBpZiBhbnkgdXBkYXRlcyBhcmUgbmVlZGVkIGluIHRoZSBzZXNzaW9uJ3MgdG9rZW5TZXRcbiAqIG9yIGFjY2Vzc1Rva2VucyBhcnJheSBhbmQgcmV0dXJucyB0aGUgcmVxdWlyZWQgY2hhbmdlcy5cbiAqXG4gKiBJZiBubyBjaGFuZ2VzIGFyZSBuZWVkZWQsIGl0IHJldHVybnMgdW5kZWZpbmVkLlxuICogQHBhcmFtIHNlc3Npb24gVGhlIG9yaWdpbmFsIHNlc3Npb24gZGF0YVxuICogQHBhcmFtIHRva2VuU2V0IFRoZSwgcG90ZW50aWFsbHksIG5ldyBUb2tlblNldCBvYnRhaW5lZFxuICogQHBhcmFtIGdsb2JhbE9wdGlvbnMgVGhlIGdsb2JhbCBhdWRpZW5jZSBhbmQgc2NvcGUgY29uZmlndXJlZCBmb3IgdGhlIEF1dGgwQ2xpZW50XG4gKiBAcmV0dXJucyBQYXJ0aWFsIHNlc3Npb24gY2hhbmdlcyBvciB1bmRlZmluZWQgaWYgbm8gY2hhbmdlcyBhcmUgbmVlZGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZXNzaW9uQ2hhbmdlc0FmdGVyR2V0QWNjZXNzVG9rZW4oc2Vzc2lvbiwgdG9rZW5TZXQsIGdsb2JhbE9wdGlvbnMpIHtcbiAgICAvLyBTaW5jZSBnbG9iYWxPcHRpb25zLnNjb3BlIGNhbiBiZSBhIG1hcCBvZiBhdWRpZW5jZSB0byBzY29wZXMsIHdlIG5lZWQgdG8gZ2V0IHRoZSBjb3JyZWN0IHNjb3BlIGZvciB0aGUgY3VycmVudCBhdWRpZW5jZS5cbiAgICBjb25zdCBnbG9iYWxTY29wZSA9IGdldFNjb3BlRm9yQXVkaWVuY2UoZ2xvYmFsT3B0aW9ucy5zY29wZSwgdG9rZW5TZXQuYXVkaWVuY2UgPz8gZ2xvYmFsT3B0aW9ucy5hdWRpZW5jZSk7XG4gICAgLy8gSWYgd2UgYXJlIHVzaW5nIHRoZSBnbG9iYWwgYXVkaWVuY2UgYW5kIHNjb3BlLCB3ZSBuZWVkIHRvIGNoZWNrIGlmIHRoZSBhY2Nlc3MgdG9rZW4gb3IgcmVmcmVzaCB0b2tlbiBjaGFuZ2VkIGluIGBTZXNzaW9uRGF0YS50b2tlblNldGAuXG4gICAgLy8gV2UgZG8gbm90IGhhdmUgdG8gY2hhbmdlIGFueXRoaW5nIHRvIHRoZSBgYWNjZXNzVG9rZW5zYCBhcnJheSBpbnNpZGUgYFNlc3Npb25EYXRhYCBpbiB0aGlzIGNhc2UsIHNvIHdlIGNhbiBqdXN0IHJldHVybi5cbiAgICBpZiAoaXNHbG9iYWxBdWRpZW5jZUFuZFNjb3BlKHRva2VuU2V0LCBzZXNzaW9uLCBnbG9iYWxTY29wZSwgZ2xvYmFsT3B0aW9ucykpIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZUdsb2JhbFRva2VuU2V0VXBkYXRlKHRva2VuU2V0LCBzZXNzaW9uKTtcbiAgICB9XG4gICAgLy8gSWYgd2UgYXJlbid0IHVzaW5nIHRoZSBnbG9iYWwgYXVkaWVuY2UgYW5kIHNjb3BlLFxuICAgIC8vIHdlIG5lZWQgdG8gY2hlY2sgaWYgdGhlIGNvcnJlc3BvbmRpbmcgYWNjZXNzIHRva2VuIGNoYW5nZWQgaW4gYFNlc3Npb25EYXRhLmFjY2Vzc1Rva2Vuc2AuXG4gICAgLy8gV2Ugd2lsbCBhbHNvIGhhdmUgdG8gdXBkYXRlIHRoZSByZWZyZXNoVG9rZW4gYW5kIGlkVG9rZW4gYXMgbmVlZGVkXG4gICAgY29uc3QgYXVkaWVuY2UgPSB0b2tlblNldC5hdWRpZW5jZSA/PyBnbG9iYWxPcHRpb25zLmF1ZGllbmNlO1xuICAgIGNvbnN0IHNjb3BlID0gdG9rZW5TZXQucmVxdWVzdGVkU2NvcGUgPz8gZ2xvYmFsU2NvcGUgPz8gdW5kZWZpbmVkO1xuICAgIC8vIElmIHRoZXJlIGlzIG5vIGF1ZGllbmNlLCB3ZSBjYW5ub3QgZmluZCB0aGUgY29ycmVjdCBhY2Nlc3MgdG9rZW4gaW4gdGhlIGFycmF5XG4gICAgaWYgKCFhdWRpZW5jZSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gaGFuZGxlU3BlY2lmaWNBY2Nlc3NUb2tlblVwZGF0ZShzZXNzaW9uLCB0b2tlblNldCwgYXVkaWVuY2UsIHNjb3BlKTtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@auth0/nextjs-auth0/dist/utils/session-changes-helpers.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@auth0/nextjs-auth0/dist/utils/token-set-helpers.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@auth0/nextjs-auth0/dist/utils/token-set-helpers.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   accessTokenSetFromTokenSet: () => (/* binding */ accessTokenSetFromTokenSet),\n/* harmony export */   compareScopes: () => (/* binding */ compareScopes),\n/* harmony export */   findAccessTokenSet: () => (/* binding */ findAccessTokenSet),\n/* harmony export */   mergeScopes: () => (/* binding */ mergeScopes),\n/* harmony export */   tokenSetFromAccessTokenSet: () => (/* binding */ tokenSetFromAccessTokenSet)\n/* harmony export */ });\n/**\n * Converts a TokenSet to an AccessTokenSet, including optional audience and scope.\n * @param tokenSet the TokenSet to convert\n * @param options object containing optional audience\n * @returns AccessTokenSet\n */\nfunction accessTokenSetFromTokenSet(tokenSet, options) {\n    return {\n        accessToken: tokenSet.accessToken,\n        expiresAt: tokenSet.expiresAt,\n        audience: options.audience,\n        scope: tokenSet.scope,\n        requestedScope: tokenSet.requestedScope,\n        ...(tokenSet.token_type && { token_type: tokenSet.token_type })\n    };\n}\n/**\n * Converts an AccessTokenSet and a partial TokenSet into a partial TokenSet.\n * This is useful for merging an AccessTokenSet back into a TokenSet structure,\n * while preserving other properties of the TokenSet.\n * @param accessTokenSet the AccessTokenSet to convert\n * @param tokenSet the partial TokenSet to merge with\n * @returns The merged partial TokenSet\n */\nfunction tokenSetFromAccessTokenSet(accessTokenSet, tokenSet) {\n    return {\n        ...tokenSet,\n        accessToken: accessTokenSet?.accessToken,\n        expiresAt: accessTokenSet?.expiresAt,\n        scope: accessTokenSet?.scope,\n        requestedScope: accessTokenSet?.requestedScope,\n        audience: accessTokenSet?.audience,\n        ...(accessTokenSet?.token_type && { token_type: accessTokenSet.token_type })\n    };\n}\n/**\n * Parses a scope string into an array of individual scopes, filtering out empty strings.\n * @param scopes Space-separated scope string\n * @returns Array of scope strings\n */\nfunction parseScopesToArray(scopes) {\n    if (!scopes)\n        return [];\n    return scopes.trim().split(\" \").filter(Boolean);\n}\n/**\n * Compares two sets of scopes to determine if all required scopes are present in the provided scopes.\n * @param scopes Scopes to compare (space-separated string)\n * @param requiredScopes Scopes required to be present in the scopes (space-separated string)\n * @param options Optional settings for comparison\n * @param options.strict If true, requires an exact match of scopes (no extra scopes allowed)\n * @returns True if all required scopes are present in the scopes, false otherwise\n */\nconst compareScopes = (scopes, requiredScopes, options = {}) => {\n    // When the scopes and requiredScopes are exactly the same, return true\n    if (scopes === requiredScopes) {\n        return true;\n    }\n    if (!scopes || !requiredScopes) {\n        return false;\n    }\n    const scopesSet = new Set(parseScopesToArray(scopes));\n    const requiredScopesSet = new Set(parseScopesToArray(requiredScopes));\n    const requiredScopesArray = Array.from(requiredScopesSet);\n    const hasAllRequiredScopes = requiredScopesArray.every((scope) => scopesSet.has(scope));\n    if (options.strict) {\n        return hasAllRequiredScopes && scopesSet.size === requiredScopesSet.size;\n    }\n    return hasAllRequiredScopes;\n};\n/**\n * Merges two space-separated scope strings into one, removing duplicates.\n * Properly handles whitespace by trimming and normalizing scope values.\n * @param scopes1 The first scope string\n * @param scopes2 The second scope string\n * @returns Merged scope string with unique scopes, sorted alphabetically for consistency\n */\nfunction mergeScopes(scopes1, scopes2) {\n    const scopes1Array = scopes1 ? parseScopesToArray(scopes1) : [];\n    const scopes2Array = scopes2 ? parseScopesToArray(scopes2) : [];\n    // Use a Set to remove duplicates\n    const uniqueScopes = new Set([...scopes1Array, ...scopes2Array]);\n    // Convert back to array and join as a space-separated string\n    return Array.from(uniqueScopes).join(\" \");\n}\n/**\n * Finds the best matching AccessTokenSet in the session by audience and scope.\n *\n * The function determines a \"match\" if an AccessTokenSet's scope property contains all the items\n * from the `options.scope`. From the potential matches, it selects the best one\n * based on the following criteria, in order of priority:\n *\n * 1. An \"exact match\" is preferred above all. This is where the AccessTokenSet's scope\n *    has the exact same items as the `options.scope` (length and content are identical,\n *    order does not matter).\n * 2. If no exact match is found, the \"best partial match\" is chosen. This is the\n *    matching AccessTokenSet whose scope has the fewest additional items.\n * 3. If multiple matches with the exact same scopes are found, we take the first one.\n *    However, this should not happen in practice as the session should not contain\n *    duplicate AccessTokenSet's.\n *\n * @param sessionData The session data containing accessTokens array.\n * @param {Object} options\n * @param {number} options.scope - The scope to match against (space-separated string).\n * @param {string} options.audience - The audience to match against.\n * @param {\"requestedScope\" | \"scope\"} [options.matchMode=\"requestedScope\"] - The mode to use for matching scopes.\n * @returns The best matching AccessTokenSet, or undefined if no match is found.\n */\nfunction findAccessTokenSet(sessionData, options) {\n    const matchMode = options.matchMode ?? \"requestedScope\";\n    const accessTokenSets = sessionData?.accessTokens;\n    // 1. When there are no access tokens, we can exit early.\n    if (!accessTokenSets || accessTokenSets.length === 0) {\n        return;\n    }\n    // 2. Filter the list to find all AccessTokenSet's that are valid matches.\n    // A valid match's audience must match the provided `options.audience`,\n    // and its scope must contain all items from `options.scope`.\n    const allMatches = accessTokenSets.filter((accessTokenSet) => {\n        return (accessTokenSet.audience === options.audience &&\n            compareScopes(matchMode === \"scope\"\n                ? accessTokenSet.scope\n                : (accessTokenSet.requestedScope ?? accessTokenSet.scope), options.scope, { strict: matchMode === \"scope\" }));\n    });\n    // If no potential matches were found, we can exit early.\n    if (allMatches.length === 0) {\n        return;\n    }\n    // 3. Sort the valid matches to find the best one.\n    // The best match is the one with the smallest scope array, as it has the fewest\n    // extra permissions. An exact match will naturally be sorted first.\n    // This also works for null/undefined scopes, as they would have been matched\n    // against a null/undefined `options.scope` and will all be equally valid.\n    // Note: This sorting algorithm also takes care of duplicate scopes, as they will\n    // be converted to a Set and thus have the same size as a non-duplicate scope array.\n    allMatches.sort((a, b) => {\n        const aScopesUnique = new Set(parseScopesToArray(a.scope));\n        const bScopesUnique = new Set(parseScopesToArray(b.scope));\n        return aScopesUnique.size - bScopesUnique.size;\n    });\n    // The first item in the sorted list is the best possible match.\n    return allMatches[0];\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0BhdXRoMC9uZXh0anMtYXV0aDAvZGlzdC91dGlscy90b2tlbi1zZXQtaGVscGVycy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLGlDQUFpQztBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsdUNBQXVDO0FBQ25GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTywyREFBMkQ7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyw0QkFBNEI7QUFDdkM7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0RkFBNEYsK0JBQStCO0FBQzNILEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxAYXV0aDBcXG5leHRqcy1hdXRoMFxcZGlzdFxcdXRpbHNcXHRva2VuLXNldC1oZWxwZXJzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29udmVydHMgYSBUb2tlblNldCB0byBhbiBBY2Nlc3NUb2tlblNldCwgaW5jbHVkaW5nIG9wdGlvbmFsIGF1ZGllbmNlIGFuZCBzY29wZS5cbiAqIEBwYXJhbSB0b2tlblNldCB0aGUgVG9rZW5TZXQgdG8gY29udmVydFxuICogQHBhcmFtIG9wdGlvbnMgb2JqZWN0IGNvbnRhaW5pbmcgb3B0aW9uYWwgYXVkaWVuY2VcbiAqIEByZXR1cm5zIEFjY2Vzc1Rva2VuU2V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhY2Nlc3NUb2tlblNldEZyb21Ub2tlblNldCh0b2tlblNldCwgb3B0aW9ucykge1xuICAgIHJldHVybiB7XG4gICAgICAgIGFjY2Vzc1Rva2VuOiB0b2tlblNldC5hY2Nlc3NUb2tlbixcbiAgICAgICAgZXhwaXJlc0F0OiB0b2tlblNldC5leHBpcmVzQXQsXG4gICAgICAgIGF1ZGllbmNlOiBvcHRpb25zLmF1ZGllbmNlLFxuICAgICAgICBzY29wZTogdG9rZW5TZXQuc2NvcGUsXG4gICAgICAgIHJlcXVlc3RlZFNjb3BlOiB0b2tlblNldC5yZXF1ZXN0ZWRTY29wZSxcbiAgICAgICAgLi4uKHRva2VuU2V0LnRva2VuX3R5cGUgJiYgeyB0b2tlbl90eXBlOiB0b2tlblNldC50b2tlbl90eXBlIH0pXG4gICAgfTtcbn1cbi8qKlxuICogQ29udmVydHMgYW4gQWNjZXNzVG9rZW5TZXQgYW5kIGEgcGFydGlhbCBUb2tlblNldCBpbnRvIGEgcGFydGlhbCBUb2tlblNldC5cbiAqIFRoaXMgaXMgdXNlZnVsIGZvciBtZXJnaW5nIGFuIEFjY2Vzc1Rva2VuU2V0IGJhY2sgaW50byBhIFRva2VuU2V0IHN0cnVjdHVyZSxcbiAqIHdoaWxlIHByZXNlcnZpbmcgb3RoZXIgcHJvcGVydGllcyBvZiB0aGUgVG9rZW5TZXQuXG4gKiBAcGFyYW0gYWNjZXNzVG9rZW5TZXQgdGhlIEFjY2Vzc1Rva2VuU2V0IHRvIGNvbnZlcnRcbiAqIEBwYXJhbSB0b2tlblNldCB0aGUgcGFydGlhbCBUb2tlblNldCB0byBtZXJnZSB3aXRoXG4gKiBAcmV0dXJucyBUaGUgbWVyZ2VkIHBhcnRpYWwgVG9rZW5TZXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRva2VuU2V0RnJvbUFjY2Vzc1Rva2VuU2V0KGFjY2Vzc1Rva2VuU2V0LCB0b2tlblNldCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLnRva2VuU2V0LFxuICAgICAgICBhY2Nlc3NUb2tlbjogYWNjZXNzVG9rZW5TZXQ/LmFjY2Vzc1Rva2VuLFxuICAgICAgICBleHBpcmVzQXQ6IGFjY2Vzc1Rva2VuU2V0Py5leHBpcmVzQXQsXG4gICAgICAgIHNjb3BlOiBhY2Nlc3NUb2tlblNldD8uc2NvcGUsXG4gICAgICAgIHJlcXVlc3RlZFNjb3BlOiBhY2Nlc3NUb2tlblNldD8ucmVxdWVzdGVkU2NvcGUsXG4gICAgICAgIGF1ZGllbmNlOiBhY2Nlc3NUb2tlblNldD8uYXVkaWVuY2UsXG4gICAgICAgIC4uLihhY2Nlc3NUb2tlblNldD8udG9rZW5fdHlwZSAmJiB7IHRva2VuX3R5cGU6IGFjY2Vzc1Rva2VuU2V0LnRva2VuX3R5cGUgfSlcbiAgICB9O1xufVxuLyoqXG4gKiBQYXJzZXMgYSBzY29wZSBzdHJpbmcgaW50byBhbiBhcnJheSBvZiBpbmRpdmlkdWFsIHNjb3BlcywgZmlsdGVyaW5nIG91dCBlbXB0eSBzdHJpbmdzLlxuICogQHBhcmFtIHNjb3BlcyBTcGFjZS1zZXBhcmF0ZWQgc2NvcGUgc3RyaW5nXG4gKiBAcmV0dXJucyBBcnJheSBvZiBzY29wZSBzdHJpbmdzXG4gKi9cbmZ1bmN0aW9uIHBhcnNlU2NvcGVzVG9BcnJheShzY29wZXMpIHtcbiAgICBpZiAoIXNjb3BlcylcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIHJldHVybiBzY29wZXMudHJpbSgpLnNwbGl0KFwiIFwiKS5maWx0ZXIoQm9vbGVhbik7XG59XG4vKipcbiAqIENvbXBhcmVzIHR3byBzZXRzIG9mIHNjb3BlcyB0byBkZXRlcm1pbmUgaWYgYWxsIHJlcXVpcmVkIHNjb3BlcyBhcmUgcHJlc2VudCBpbiB0aGUgcHJvdmlkZWQgc2NvcGVzLlxuICogQHBhcmFtIHNjb3BlcyBTY29wZXMgdG8gY29tcGFyZSAoc3BhY2Utc2VwYXJhdGVkIHN0cmluZylcbiAqIEBwYXJhbSByZXF1aXJlZFNjb3BlcyBTY29wZXMgcmVxdWlyZWQgdG8gYmUgcHJlc2VudCBpbiB0aGUgc2NvcGVzIChzcGFjZS1zZXBhcmF0ZWQgc3RyaW5nKVxuICogQHBhcmFtIG9wdGlvbnMgT3B0aW9uYWwgc2V0dGluZ3MgZm9yIGNvbXBhcmlzb25cbiAqIEBwYXJhbSBvcHRpb25zLnN0cmljdCBJZiB0cnVlLCByZXF1aXJlcyBhbiBleGFjdCBtYXRjaCBvZiBzY29wZXMgKG5vIGV4dHJhIHNjb3BlcyBhbGxvd2VkKVxuICogQHJldHVybnMgVHJ1ZSBpZiBhbGwgcmVxdWlyZWQgc2NvcGVzIGFyZSBwcmVzZW50IGluIHRoZSBzY29wZXMsIGZhbHNlIG90aGVyd2lzZVxuICovXG5leHBvcnQgY29uc3QgY29tcGFyZVNjb3BlcyA9IChzY29wZXMsIHJlcXVpcmVkU2NvcGVzLCBvcHRpb25zID0ge30pID0+IHtcbiAgICAvLyBXaGVuIHRoZSBzY29wZXMgYW5kIHJlcXVpcmVkU2NvcGVzIGFyZSBleGFjdGx5IHRoZSBzYW1lLCByZXR1cm4gdHJ1ZVxuICAgIGlmIChzY29wZXMgPT09IHJlcXVpcmVkU2NvcGVzKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoIXNjb3BlcyB8fCAhcmVxdWlyZWRTY29wZXMpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBzY29wZXNTZXQgPSBuZXcgU2V0KHBhcnNlU2NvcGVzVG9BcnJheShzY29wZXMpKTtcbiAgICBjb25zdCByZXF1aXJlZFNjb3Blc1NldCA9IG5ldyBTZXQocGFyc2VTY29wZXNUb0FycmF5KHJlcXVpcmVkU2NvcGVzKSk7XG4gICAgY29uc3QgcmVxdWlyZWRTY29wZXNBcnJheSA9IEFycmF5LmZyb20ocmVxdWlyZWRTY29wZXNTZXQpO1xuICAgIGNvbnN0IGhhc0FsbFJlcXVpcmVkU2NvcGVzID0gcmVxdWlyZWRTY29wZXNBcnJheS5ldmVyeSgoc2NvcGUpID0+IHNjb3Blc1NldC5oYXMoc2NvcGUpKTtcbiAgICBpZiAob3B0aW9ucy5zdHJpY3QpIHtcbiAgICAgICAgcmV0dXJuIGhhc0FsbFJlcXVpcmVkU2NvcGVzICYmIHNjb3Blc1NldC5zaXplID09PSByZXF1aXJlZFNjb3Blc1NldC5zaXplO1xuICAgIH1cbiAgICByZXR1cm4gaGFzQWxsUmVxdWlyZWRTY29wZXM7XG59O1xuLyoqXG4gKiBNZXJnZXMgdHdvIHNwYWNlLXNlcGFyYXRlZCBzY29wZSBzdHJpbmdzIGludG8gb25lLCByZW1vdmluZyBkdXBsaWNhdGVzLlxuICogUHJvcGVybHkgaGFuZGxlcyB3aGl0ZXNwYWNlIGJ5IHRyaW1taW5nIGFuZCBub3JtYWxpemluZyBzY29wZSB2YWx1ZXMuXG4gKiBAcGFyYW0gc2NvcGVzMSBUaGUgZmlyc3Qgc2NvcGUgc3RyaW5nXG4gKiBAcGFyYW0gc2NvcGVzMiBUaGUgc2Vjb25kIHNjb3BlIHN0cmluZ1xuICogQHJldHVybnMgTWVyZ2VkIHNjb3BlIHN0cmluZyB3aXRoIHVuaXF1ZSBzY29wZXMsIHNvcnRlZCBhbHBoYWJldGljYWxseSBmb3IgY29uc2lzdGVuY3lcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlU2NvcGVzKHNjb3BlczEsIHNjb3BlczIpIHtcbiAgICBjb25zdCBzY29wZXMxQXJyYXkgPSBzY29wZXMxID8gcGFyc2VTY29wZXNUb0FycmF5KHNjb3BlczEpIDogW107XG4gICAgY29uc3Qgc2NvcGVzMkFycmF5ID0gc2NvcGVzMiA/IHBhcnNlU2NvcGVzVG9BcnJheShzY29wZXMyKSA6IFtdO1xuICAgIC8vIFVzZSBhIFNldCB0byByZW1vdmUgZHVwbGljYXRlc1xuICAgIGNvbnN0IHVuaXF1ZVNjb3BlcyA9IG5ldyBTZXQoWy4uLnNjb3BlczFBcnJheSwgLi4uc2NvcGVzMkFycmF5XSk7XG4gICAgLy8gQ29udmVydCBiYWNrIHRvIGFycmF5IGFuZCBqb2luIGFzIGEgc3BhY2Utc2VwYXJhdGVkIHN0cmluZ1xuICAgIHJldHVybiBBcnJheS5mcm9tKHVuaXF1ZVNjb3Blcykuam9pbihcIiBcIik7XG59XG4vKipcbiAqIEZpbmRzIHRoZSBiZXN0IG1hdGNoaW5nIEFjY2Vzc1Rva2VuU2V0IGluIHRoZSBzZXNzaW9uIGJ5IGF1ZGllbmNlIGFuZCBzY29wZS5cbiAqXG4gKiBUaGUgZnVuY3Rpb24gZGV0ZXJtaW5lcyBhIFwibWF0Y2hcIiBpZiBhbiBBY2Nlc3NUb2tlblNldCdzIHNjb3BlIHByb3BlcnR5IGNvbnRhaW5zIGFsbCB0aGUgaXRlbXNcbiAqIGZyb20gdGhlIGBvcHRpb25zLnNjb3BlYC4gRnJvbSB0aGUgcG90ZW50aWFsIG1hdGNoZXMsIGl0IHNlbGVjdHMgdGhlIGJlc3Qgb25lXG4gKiBiYXNlZCBvbiB0aGUgZm9sbG93aW5nIGNyaXRlcmlhLCBpbiBvcmRlciBvZiBwcmlvcml0eTpcbiAqXG4gKiAxLiBBbiBcImV4YWN0IG1hdGNoXCIgaXMgcHJlZmVycmVkIGFib3ZlIGFsbC4gVGhpcyBpcyB3aGVyZSB0aGUgQWNjZXNzVG9rZW5TZXQncyBzY29wZVxuICogICAgaGFzIHRoZSBleGFjdCBzYW1lIGl0ZW1zIGFzIHRoZSBgb3B0aW9ucy5zY29wZWAgKGxlbmd0aCBhbmQgY29udGVudCBhcmUgaWRlbnRpY2FsLFxuICogICAgb3JkZXIgZG9lcyBub3QgbWF0dGVyKS5cbiAqIDIuIElmIG5vIGV4YWN0IG1hdGNoIGlzIGZvdW5kLCB0aGUgXCJiZXN0IHBhcnRpYWwgbWF0Y2hcIiBpcyBjaG9zZW4uIFRoaXMgaXMgdGhlXG4gKiAgICBtYXRjaGluZyBBY2Nlc3NUb2tlblNldCB3aG9zZSBzY29wZSBoYXMgdGhlIGZld2VzdCBhZGRpdGlvbmFsIGl0ZW1zLlxuICogMy4gSWYgbXVsdGlwbGUgbWF0Y2hlcyB3aXRoIHRoZSBleGFjdCBzYW1lIHNjb3BlcyBhcmUgZm91bmQsIHdlIHRha2UgdGhlIGZpcnN0IG9uZS5cbiAqICAgIEhvd2V2ZXIsIHRoaXMgc2hvdWxkIG5vdCBoYXBwZW4gaW4gcHJhY3RpY2UgYXMgdGhlIHNlc3Npb24gc2hvdWxkIG5vdCBjb250YWluXG4gKiAgICBkdXBsaWNhdGUgQWNjZXNzVG9rZW5TZXQncy5cbiAqXG4gKiBAcGFyYW0gc2Vzc2lvbkRhdGEgVGhlIHNlc3Npb24gZGF0YSBjb250YWluaW5nIGFjY2Vzc1Rva2VucyBhcnJheS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy5zY29wZSAtIFRoZSBzY29wZSB0byBtYXRjaCBhZ2FpbnN0IChzcGFjZS1zZXBhcmF0ZWQgc3RyaW5nKS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLmF1ZGllbmNlIC0gVGhlIGF1ZGllbmNlIHRvIG1hdGNoIGFnYWluc3QuXG4gKiBAcGFyYW0ge1wicmVxdWVzdGVkU2NvcGVcIiB8IFwic2NvcGVcIn0gW29wdGlvbnMubWF0Y2hNb2RlPVwicmVxdWVzdGVkU2NvcGVcIl0gLSBUaGUgbW9kZSB0byB1c2UgZm9yIG1hdGNoaW5nIHNjb3Blcy5cbiAqIEByZXR1cm5zIFRoZSBiZXN0IG1hdGNoaW5nIEFjY2Vzc1Rva2VuU2V0LCBvciB1bmRlZmluZWQgaWYgbm8gbWF0Y2ggaXMgZm91bmQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaW5kQWNjZXNzVG9rZW5TZXQoc2Vzc2lvbkRhdGEsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBtYXRjaE1vZGUgPSBvcHRpb25zLm1hdGNoTW9kZSA/PyBcInJlcXVlc3RlZFNjb3BlXCI7XG4gICAgY29uc3QgYWNjZXNzVG9rZW5TZXRzID0gc2Vzc2lvbkRhdGE/LmFjY2Vzc1Rva2VucztcbiAgICAvLyAxLiBXaGVuIHRoZXJlIGFyZSBubyBhY2Nlc3MgdG9rZW5zLCB3ZSBjYW4gZXhpdCBlYXJseS5cbiAgICBpZiAoIWFjY2Vzc1Rva2VuU2V0cyB8fCBhY2Nlc3NUb2tlblNldHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gMi4gRmlsdGVyIHRoZSBsaXN0IHRvIGZpbmQgYWxsIEFjY2Vzc1Rva2VuU2V0J3MgdGhhdCBhcmUgdmFsaWQgbWF0Y2hlcy5cbiAgICAvLyBBIHZhbGlkIG1hdGNoJ3MgYXVkaWVuY2UgbXVzdCBtYXRjaCB0aGUgcHJvdmlkZWQgYG9wdGlvbnMuYXVkaWVuY2VgLFxuICAgIC8vIGFuZCBpdHMgc2NvcGUgbXVzdCBjb250YWluIGFsbCBpdGVtcyBmcm9tIGBvcHRpb25zLnNjb3BlYC5cbiAgICBjb25zdCBhbGxNYXRjaGVzID0gYWNjZXNzVG9rZW5TZXRzLmZpbHRlcigoYWNjZXNzVG9rZW5TZXQpID0+IHtcbiAgICAgICAgcmV0dXJuIChhY2Nlc3NUb2tlblNldC5hdWRpZW5jZSA9PT0gb3B0aW9ucy5hdWRpZW5jZSAmJlxuICAgICAgICAgICAgY29tcGFyZVNjb3BlcyhtYXRjaE1vZGUgPT09IFwic2NvcGVcIlxuICAgICAgICAgICAgICAgID8gYWNjZXNzVG9rZW5TZXQuc2NvcGVcbiAgICAgICAgICAgICAgICA6IChhY2Nlc3NUb2tlblNldC5yZXF1ZXN0ZWRTY29wZSA/PyBhY2Nlc3NUb2tlblNldC5zY29wZSksIG9wdGlvbnMuc2NvcGUsIHsgc3RyaWN0OiBtYXRjaE1vZGUgPT09IFwic2NvcGVcIiB9KSk7XG4gICAgfSk7XG4gICAgLy8gSWYgbm8gcG90ZW50aWFsIG1hdGNoZXMgd2VyZSBmb3VuZCwgd2UgY2FuIGV4aXQgZWFybHkuXG4gICAgaWYgKGFsbE1hdGNoZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gMy4gU29ydCB0aGUgdmFsaWQgbWF0Y2hlcyB0byBmaW5kIHRoZSBiZXN0IG9uZS5cbiAgICAvLyBUaGUgYmVzdCBtYXRjaCBpcyB0aGUgb25lIHdpdGggdGhlIHNtYWxsZXN0IHNjb3BlIGFycmF5LCBhcyBpdCBoYXMgdGhlIGZld2VzdFxuICAgIC8vIGV4dHJhIHBlcm1pc3Npb25zLiBBbiBleGFjdCBtYXRjaCB3aWxsIG5hdHVyYWxseSBiZSBzb3J0ZWQgZmlyc3QuXG4gICAgLy8gVGhpcyBhbHNvIHdvcmtzIGZvciBudWxsL3VuZGVmaW5lZCBzY29wZXMsIGFzIHRoZXkgd291bGQgaGF2ZSBiZWVuIG1hdGNoZWRcbiAgICAvLyBhZ2FpbnN0IGEgbnVsbC91bmRlZmluZWQgYG9wdGlvbnMuc2NvcGVgIGFuZCB3aWxsIGFsbCBiZSBlcXVhbGx5IHZhbGlkLlxuICAgIC8vIE5vdGU6IFRoaXMgc29ydGluZyBhbGdvcml0aG0gYWxzbyB0YWtlcyBjYXJlIG9mIGR1cGxpY2F0ZSBzY29wZXMsIGFzIHRoZXkgd2lsbFxuICAgIC8vIGJlIGNvbnZlcnRlZCB0byBhIFNldCBhbmQgdGh1cyBoYXZlIHRoZSBzYW1lIHNpemUgYXMgYSBub24tZHVwbGljYXRlIHNjb3BlIGFycmF5LlxuICAgIGFsbE1hdGNoZXMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICBjb25zdCBhU2NvcGVzVW5pcXVlID0gbmV3IFNldChwYXJzZVNjb3Blc1RvQXJyYXkoYS5zY29wZSkpO1xuICAgICAgICBjb25zdCBiU2NvcGVzVW5pcXVlID0gbmV3IFNldChwYXJzZVNjb3Blc1RvQXJyYXkoYi5zY29wZSkpO1xuICAgICAgICByZXR1cm4gYVNjb3Blc1VuaXF1ZS5zaXplIC0gYlNjb3Blc1VuaXF1ZS5zaXplO1xuICAgIH0pO1xuICAgIC8vIFRoZSBmaXJzdCBpdGVtIGluIHRoZSBzb3J0ZWQgbGlzdCBpcyB0aGUgYmVzdCBwb3NzaWJsZSBtYXRjaC5cbiAgICByZXR1cm4gYWxsTWF0Y2hlc1swXTtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@auth0/nextjs-auth0/dist/utils/token-set-helpers.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@auth0/nextjs-auth0/dist/utils/url-helpers.js":
/*!********************************************************************!*\
  !*** ./node_modules/@auth0/nextjs-auth0/dist/utils/url-helpers.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   toSafeRedirect: () => (/* binding */ toSafeRedirect)\n/* harmony export */ });\nfunction toSafeRedirect(dangerousRedirect, safeBaseUrl) {\n    let url;\n    try {\n        url = new URL(dangerousRedirect, safeBaseUrl);\n    }\n    catch (e) {\n        return undefined;\n    }\n    if (url.origin === safeBaseUrl.origin) {\n        return url;\n    }\n    return undefined;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0BhdXRoMC9uZXh0anMtYXV0aDAvZGlzdC91dGlscy91cmwtaGVscGVycy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXEBhdXRoMFxcbmV4dGpzLWF1dGgwXFxkaXN0XFx1dGlsc1xcdXJsLWhlbHBlcnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIHRvU2FmZVJlZGlyZWN0KGRhbmdlcm91c1JlZGlyZWN0LCBzYWZlQmFzZVVybCkge1xuICAgIGxldCB1cmw7XG4gICAgdHJ5IHtcbiAgICAgICAgdXJsID0gbmV3IFVSTChkYW5nZXJvdXNSZWRpcmVjdCwgc2FmZUJhc2VVcmwpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAodXJsLm9yaWdpbiA9PT0gc2FmZUJhc2VVcmwub3JpZ2luKSB7XG4gICAgICAgIHJldHVybiB1cmw7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@auth0/nextjs-auth0/dist/utils/url-helpers.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@auth0/nextjs-auth0/package.json":
/*!*******************************************************!*\
  !*** ./node_modules/@auth0/nextjs-auth0/package.json ***!
  \*******************************************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"name":"@auth0/nextjs-auth0","version":"4.12.0","description":"Auth0 Next.js SDK","type":"module","repository":{"type":"git","url":"git+https://github.com/auth0/nextjs-auth0.git"},"keywords":["auth0","next.js","react","oidc","authentication","vercel"],"author":"Auth0 (https://auth0.com)","license":"MIT","bugs":{"url":"https://github.com/auth0/nextjs-auth0/issues"},"homepage":"https://github.com/auth0/nextjs-auth0#readme","devDependencies":{"@eslint/js":"^9.20.0","@ianvs/prettier-plugin-sort-imports":"^4.3.1","@playwright/test":"^1.48.2","@stylistic/eslint-plugin-ts":"^3.1.0","@testing-library/react":"^16.3.0","@types/node":"^22.8.6","@types/react":"*","@types/react-dom":"*","@vitest/coverage-v8":"2.1.9","eslint":"^9.20.0","eslint-config-prettier":"10.1.8","eslint-plugin-prettier":"5.5.4","eslint-plugin-react":"^7.37.4","globals":"^15.14.0","jsdom":"^26.1.0","msw":"^2.7.5","next":"15.2.3","prettier":"^3.3.3","typedoc":"^0.28.4","typescript":"^5.6.3","typescript-eslint":"^8.23.0","vite":"^5.4.11","vitest":"^2.1.4"},"peerDependencies":{"next":"^14.2.25 || ^15.2.3","react":"^18.0.0 || ^19.0.0 || ^19.0.0-0","react-dom":"^18.0.0 || ^19.0.0 || ^19.0.0-0"},"exports":{".":{"default":"./dist/client/index.js"},"./client":{"default":"./dist/client/index.js"},"./server":{"default":"./dist/server/index.js"},"./errors":{"default":"./dist/errors/index.js"},"./types":{"default":"./dist/types/index.d.ts"},"./testing":{"default":"./dist/testing/index.js"}},"dependencies":{"@edge-runtime/cookies":"^5.0.1","@panva/hkdf":"^1.2.1","jose":"^6.0.11","oauth4webapi":"^3.8.2","openid-client":"^6.8.0","swr":"^2.2.5"},"publishConfig":{"access":"public"},"typesVersions":{"*":{"testing":["./dist/testing/index.d.ts"],"types":["./dist/types/index.d.ts"],"server":["./dist/server/index.d.ts"],"errors":["./dist/errors/index.d.ts"],"*":["./dist/client/*","./dist/client/index.d.ts"]}},"files":["dist"],"scripts":{"build":"tsc","build:watch":"tsc -w","test:unit":"vitest --run","test:coverage":"vitest run --run --coverage","test:e2e":"playwright test","install:examples":"pnpm install --filter ./examples/with-next-intl --shamefully-hoist && pnpm install --filter ./examples/with-shadcn --shamefully-hoist","docs":"typedoc","lint":"tsc --noEmit && tsc --noEmit --project tsconfig.test.json && eslint ./src","lint:fix":"tsc --noEmit && tsc --noEmit --project tsconfig.test.json && eslint --fix ./src"}}');

/***/ }),

/***/ "(middleware)/./node_modules/@edge-runtime/cookies/dist/index.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@edge-runtime/cookies/dist/index.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RequestCookies: () => (/* binding */ RequestCookies),\n/* harmony export */   ResponseCookies: () => (/* binding */ ResponseCookies),\n/* harmony export */   parseCookie: () => (/* binding */ parseCookie),\n/* harmony export */   parseSetCookie: () => (/* binding */ parseSetCookie),\n/* harmony export */   stringifyCookie: () => (/* binding */ stringifyCookie)\n/* harmony export */ });\n// src/serialize.ts\nfunction stringifyCookie(c) {\n  var _a;\n  const attrs = [\n    \"path\" in c && c.path && `Path=${c.path}`,\n    \"expires\" in c && (c.expires || c.expires === 0) && `Expires=${(typeof c.expires === \"number\" ? new Date(c.expires) : c.expires).toUTCString()}`,\n    \"maxAge\" in c && typeof c.maxAge === \"number\" && `Max-Age=${c.maxAge}`,\n    \"domain\" in c && c.domain && `Domain=${c.domain}`,\n    \"secure\" in c && c.secure && \"Secure\",\n    \"httpOnly\" in c && c.httpOnly && \"HttpOnly\",\n    \"sameSite\" in c && c.sameSite && `SameSite=${c.sameSite}`,\n    \"partitioned\" in c && c.partitioned && \"Partitioned\",\n    \"priority\" in c && c.priority && `Priority=${c.priority}`\n  ].filter(Boolean);\n  const stringified = `${c.name}=${encodeURIComponent((_a = c.value) != null ? _a : \"\")}`;\n  return attrs.length === 0 ? stringified : `${stringified}; ${attrs.join(\"; \")}`;\n}\nfunction parseCookie(cookie) {\n  const map = /* @__PURE__ */ new Map();\n  for (const pair of cookie.split(/; */)) {\n    if (!pair)\n      continue;\n    const splitAt = pair.indexOf(\"=\");\n    if (splitAt === -1) {\n      map.set(pair, \"true\");\n      continue;\n    }\n    const [key, value] = [pair.slice(0, splitAt), pair.slice(splitAt + 1)];\n    try {\n      map.set(key, decodeURIComponent(value != null ? value : \"true\"));\n    } catch {\n    }\n  }\n  return map;\n}\nfunction parseSetCookie(setCookie) {\n  if (!setCookie) {\n    return void 0;\n  }\n  const [[name, value], ...attributes] = parseCookie(setCookie);\n  const {\n    domain,\n    expires,\n    httponly,\n    maxage,\n    path,\n    samesite,\n    secure,\n    partitioned,\n    priority\n  } = Object.fromEntries(\n    attributes.map(([key, value2]) => [\n      key.toLowerCase().replace(/-/g, \"\"),\n      value2\n    ])\n  );\n  const cookie = {\n    name,\n    value: decodeURIComponent(value),\n    domain,\n    ...expires && { expires: new Date(expires) },\n    ...httponly && { httpOnly: true },\n    ...typeof maxage === \"string\" && { maxAge: Number(maxage) },\n    path,\n    ...samesite && { sameSite: parseSameSite(samesite) },\n    ...secure && { secure: true },\n    ...priority && { priority: parsePriority(priority) },\n    ...partitioned && { partitioned: true }\n  };\n  return compact(cookie);\n}\nfunction compact(t) {\n  const newT = {};\n  for (const key in t) {\n    if (t[key]) {\n      newT[key] = t[key];\n    }\n  }\n  return newT;\n}\nvar SAME_SITE = [\"strict\", \"lax\", \"none\"];\nfunction parseSameSite(string) {\n  string = string.toLowerCase();\n  return SAME_SITE.includes(string) ? string : void 0;\n}\nvar PRIORITY = [\"low\", \"medium\", \"high\"];\nfunction parsePriority(string) {\n  string = string.toLowerCase();\n  return PRIORITY.includes(string) ? string : void 0;\n}\nfunction splitCookiesString(cookiesString) {\n  if (!cookiesString)\n    return [];\n  var cookiesStrings = [];\n  var pos = 0;\n  var start;\n  var ch;\n  var lastComma;\n  var nextStart;\n  var cookiesSeparatorFound;\n  function skipWhitespace() {\n    while (pos < cookiesString.length && /\\s/.test(cookiesString.charAt(pos))) {\n      pos += 1;\n    }\n    return pos < cookiesString.length;\n  }\n  function notSpecialChar() {\n    ch = cookiesString.charAt(pos);\n    return ch !== \"=\" && ch !== \";\" && ch !== \",\";\n  }\n  while (pos < cookiesString.length) {\n    start = pos;\n    cookiesSeparatorFound = false;\n    while (skipWhitespace()) {\n      ch = cookiesString.charAt(pos);\n      if (ch === \",\") {\n        lastComma = pos;\n        pos += 1;\n        skipWhitespace();\n        nextStart = pos;\n        while (pos < cookiesString.length && notSpecialChar()) {\n          pos += 1;\n        }\n        if (pos < cookiesString.length && cookiesString.charAt(pos) === \"=\") {\n          cookiesSeparatorFound = true;\n          pos = nextStart;\n          cookiesStrings.push(cookiesString.substring(start, lastComma));\n          start = pos;\n        } else {\n          pos = lastComma + 1;\n        }\n      } else {\n        pos += 1;\n      }\n    }\n    if (!cookiesSeparatorFound || pos >= cookiesString.length) {\n      cookiesStrings.push(cookiesString.substring(start, cookiesString.length));\n    }\n  }\n  return cookiesStrings;\n}\n\n// src/request-cookies.ts\nvar RequestCookies = class {\n  constructor(requestHeaders) {\n    /** @internal */\n    this._parsed = /* @__PURE__ */ new Map();\n    this._headers = requestHeaders;\n    const header = requestHeaders.get(\"cookie\");\n    if (header) {\n      const parsed = parseCookie(header);\n      for (const [name, value] of parsed) {\n        this._parsed.set(name, { name, value });\n      }\n    }\n  }\n  [Symbol.iterator]() {\n    return this._parsed[Symbol.iterator]();\n  }\n  /**\n   * The amount of cookies received from the client\n   */\n  get size() {\n    return this._parsed.size;\n  }\n  get(...args) {\n    const name = typeof args[0] === \"string\" ? args[0] : args[0].name;\n    return this._parsed.get(name);\n  }\n  getAll(...args) {\n    var _a;\n    const all = Array.from(this._parsed);\n    if (!args.length) {\n      return all.map(([_, value]) => value);\n    }\n    const name = typeof args[0] === \"string\" ? args[0] : (_a = args[0]) == null ? void 0 : _a.name;\n    return all.filter(([n]) => n === name).map(([_, value]) => value);\n  }\n  has(name) {\n    return this._parsed.has(name);\n  }\n  set(...args) {\n    const [name, value] = args.length === 1 ? [args[0].name, args[0].value] : args;\n    const map = this._parsed;\n    map.set(name, { name, value });\n    this._headers.set(\n      \"cookie\",\n      Array.from(map).map(([_, value2]) => stringifyCookie(value2)).join(\"; \")\n    );\n    return this;\n  }\n  /**\n   * Delete the cookies matching the passed name or names in the request.\n   */\n  delete(names) {\n    const map = this._parsed;\n    const result = !Array.isArray(names) ? map.delete(names) : names.map((name) => map.delete(name));\n    this._headers.set(\n      \"cookie\",\n      Array.from(map).map(([_, value]) => stringifyCookie(value)).join(\"; \")\n    );\n    return result;\n  }\n  /**\n   * Delete all the cookies in the cookies in the request.\n   */\n  clear() {\n    this.delete(Array.from(this._parsed.keys()));\n    return this;\n  }\n  /**\n   * Format the cookies in the request as a string for logging\n   */\n  [Symbol.for(\"edge-runtime.inspect.custom\")]() {\n    return `RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`;\n  }\n  toString() {\n    return [...this._parsed.values()].map((v) => `${v.name}=${encodeURIComponent(v.value)}`).join(\"; \");\n  }\n};\n\n// src/response-cookies.ts\nvar ResponseCookies = class {\n  constructor(responseHeaders) {\n    /** @internal */\n    this._parsed = /* @__PURE__ */ new Map();\n    var _a, _b, _c;\n    this._headers = responseHeaders;\n    const setCookie = (_c = (_b = (_a = responseHeaders.getSetCookie) == null ? void 0 : _a.call(responseHeaders)) != null ? _b : responseHeaders.get(\"set-cookie\")) != null ? _c : [];\n    const cookieStrings = Array.isArray(setCookie) ? setCookie : splitCookiesString(setCookie);\n    for (const cookieString of cookieStrings) {\n      const parsed = parseSetCookie(cookieString);\n      if (parsed)\n        this._parsed.set(parsed.name, parsed);\n    }\n  }\n  /**\n   * {@link https://wicg.github.io/cookie-store/#CookieStore-get CookieStore#get} without the Promise.\n   */\n  get(...args) {\n    const key = typeof args[0] === \"string\" ? args[0] : args[0].name;\n    return this._parsed.get(key);\n  }\n  /**\n   * {@link https://wicg.github.io/cookie-store/#CookieStore-getAll CookieStore#getAll} without the Promise.\n   */\n  getAll(...args) {\n    var _a;\n    const all = Array.from(this._parsed.values());\n    if (!args.length) {\n      return all;\n    }\n    const key = typeof args[0] === \"string\" ? args[0] : (_a = args[0]) == null ? void 0 : _a.name;\n    return all.filter((c) => c.name === key);\n  }\n  has(name) {\n    return this._parsed.has(name);\n  }\n  /**\n   * {@link https://wicg.github.io/cookie-store/#CookieStore-set CookieStore#set} without the Promise.\n   */\n  set(...args) {\n    const [name, value, cookie] = args.length === 1 ? [args[0].name, args[0].value, args[0]] : args;\n    const map = this._parsed;\n    map.set(name, normalizeCookie({ name, value, ...cookie }));\n    replace(map, this._headers);\n    return this;\n  }\n  /**\n   * {@link https://wicg.github.io/cookie-store/#CookieStore-delete CookieStore#delete} without the Promise.\n   */\n  delete(...args) {\n    const [name, options] = typeof args[0] === \"string\" ? [args[0]] : [args[0].name, args[0]];\n    return this.set({ ...options, name, value: \"\", expires: /* @__PURE__ */ new Date(0) });\n  }\n  [Symbol.for(\"edge-runtime.inspect.custom\")]() {\n    return `ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`;\n  }\n  toString() {\n    return [...this._parsed.values()].map(stringifyCookie).join(\"; \");\n  }\n};\nfunction replace(bag, headers) {\n  headers.delete(\"set-cookie\");\n  for (const [, value] of bag) {\n    const serialized = stringifyCookie(value);\n    headers.append(\"set-cookie\", serialized);\n  }\n}\nfunction normalizeCookie(cookie = { name: \"\", value: \"\" }) {\n  if (typeof cookie.expires === \"number\") {\n    cookie.expires = new Date(cookie.expires);\n  }\n  if (cookie.maxAge) {\n    cookie.expires = new Date(Date.now() + cookie.maxAge * 1e3);\n  }\n  if (cookie.path === null || cookie.path === void 0) {\n    cookie.path = \"/\";\n  }\n  return cookie;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0BlZGdlLXJ1bnRpbWUvY29va2llcy9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLE9BQU87QUFDNUMsbUVBQW1FLGdGQUFnRjtBQUNuSixnRUFBZ0UsU0FBUztBQUN6RSwyQ0FBMkMsU0FBUztBQUNwRDtBQUNBO0FBQ0EsaURBQWlELFdBQVc7QUFDNUQ7QUFDQSxpREFBaUQsV0FBVztBQUM1RDtBQUNBLHlCQUF5QixPQUFPLEdBQUcscURBQXFEO0FBQ3hGLCtDQUErQyxjQUFjLEVBQUUsY0FBYyxHQUFHO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsNEJBQTRCO0FBQ2hELHFCQUFxQixnQkFBZ0I7QUFDckMsdUNBQXVDLHdCQUF3QjtBQUMvRDtBQUNBLHFCQUFxQixtQ0FBbUM7QUFDeEQsbUJBQW1CLGNBQWM7QUFDakMscUJBQXFCLG1DQUFtQztBQUN4RCx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsYUFBYTtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixhQUFhO0FBQ2pDO0FBQ0E7QUFDQSw0RUFBNEU7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBFQUEwRTtBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGlEQUFpRDtBQUM5RTtBQUNBO0FBQ0Esb0RBQW9ELE9BQU8sR0FBRyw0QkFBNEIsV0FBVztBQUNyRztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSw0RUFBNEU7QUFDbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxrRkFBa0Y7QUFDeEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sNEVBQTRFO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLHdCQUF3QjtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sa0ZBQWtGO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixtRUFBbUU7QUFDekY7QUFDQTtBQUNBLDhCQUE4QixpREFBaUQ7QUFDL0U7QUFDQTtBQUNBLG1FQUFtRTtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MscUJBQXFCO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPRSIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcQGVkZ2UtcnVudGltZVxcY29va2llc1xcZGlzdFxcaW5kZXgubWpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9zZXJpYWxpemUudHNcbmZ1bmN0aW9uIHN0cmluZ2lmeUNvb2tpZShjKSB7XG4gIHZhciBfYTtcbiAgY29uc3QgYXR0cnMgPSBbXG4gICAgXCJwYXRoXCIgaW4gYyAmJiBjLnBhdGggJiYgYFBhdGg9JHtjLnBhdGh9YCxcbiAgICBcImV4cGlyZXNcIiBpbiBjICYmIChjLmV4cGlyZXMgfHwgYy5leHBpcmVzID09PSAwKSAmJiBgRXhwaXJlcz0keyh0eXBlb2YgYy5leHBpcmVzID09PSBcIm51bWJlclwiID8gbmV3IERhdGUoYy5leHBpcmVzKSA6IGMuZXhwaXJlcykudG9VVENTdHJpbmcoKX1gLFxuICAgIFwibWF4QWdlXCIgaW4gYyAmJiB0eXBlb2YgYy5tYXhBZ2UgPT09IFwibnVtYmVyXCIgJiYgYE1heC1BZ2U9JHtjLm1heEFnZX1gLFxuICAgIFwiZG9tYWluXCIgaW4gYyAmJiBjLmRvbWFpbiAmJiBgRG9tYWluPSR7Yy5kb21haW59YCxcbiAgICBcInNlY3VyZVwiIGluIGMgJiYgYy5zZWN1cmUgJiYgXCJTZWN1cmVcIixcbiAgICBcImh0dHBPbmx5XCIgaW4gYyAmJiBjLmh0dHBPbmx5ICYmIFwiSHR0cE9ubHlcIixcbiAgICBcInNhbWVTaXRlXCIgaW4gYyAmJiBjLnNhbWVTaXRlICYmIGBTYW1lU2l0ZT0ke2Muc2FtZVNpdGV9YCxcbiAgICBcInBhcnRpdGlvbmVkXCIgaW4gYyAmJiBjLnBhcnRpdGlvbmVkICYmIFwiUGFydGl0aW9uZWRcIixcbiAgICBcInByaW9yaXR5XCIgaW4gYyAmJiBjLnByaW9yaXR5ICYmIGBQcmlvcml0eT0ke2MucHJpb3JpdHl9YFxuICBdLmZpbHRlcihCb29sZWFuKTtcbiAgY29uc3Qgc3RyaW5naWZpZWQgPSBgJHtjLm5hbWV9PSR7ZW5jb2RlVVJJQ29tcG9uZW50KChfYSA9IGMudmFsdWUpICE9IG51bGwgPyBfYSA6IFwiXCIpfWA7XG4gIHJldHVybiBhdHRycy5sZW5ndGggPT09IDAgPyBzdHJpbmdpZmllZCA6IGAke3N0cmluZ2lmaWVkfTsgJHthdHRycy5qb2luKFwiOyBcIil9YDtcbn1cbmZ1bmN0aW9uIHBhcnNlQ29va2llKGNvb2tpZSkge1xuICBjb25zdCBtYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICBmb3IgKGNvbnN0IHBhaXIgb2YgY29va2llLnNwbGl0KC87ICovKSkge1xuICAgIGlmICghcGFpcilcbiAgICAgIGNvbnRpbnVlO1xuICAgIGNvbnN0IHNwbGl0QXQgPSBwYWlyLmluZGV4T2YoXCI9XCIpO1xuICAgIGlmIChzcGxpdEF0ID09PSAtMSkge1xuICAgICAgbWFwLnNldChwYWlyLCBcInRydWVcIik7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgY29uc3QgW2tleSwgdmFsdWVdID0gW3BhaXIuc2xpY2UoMCwgc3BsaXRBdCksIHBhaXIuc2xpY2Uoc3BsaXRBdCArIDEpXTtcbiAgICB0cnkge1xuICAgICAgbWFwLnNldChrZXksIGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSAhPSBudWxsID8gdmFsdWUgOiBcInRydWVcIikpO1xuICAgIH0gY2F0Y2gge1xuICAgIH1cbiAgfVxuICByZXR1cm4gbWFwO1xufVxuZnVuY3Rpb24gcGFyc2VTZXRDb29raWUoc2V0Q29va2llKSB7XG4gIGlmICghc2V0Q29va2llKSB7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICBjb25zdCBbW25hbWUsIHZhbHVlXSwgLi4uYXR0cmlidXRlc10gPSBwYXJzZUNvb2tpZShzZXRDb29raWUpO1xuICBjb25zdCB7XG4gICAgZG9tYWluLFxuICAgIGV4cGlyZXMsXG4gICAgaHR0cG9ubHksXG4gICAgbWF4YWdlLFxuICAgIHBhdGgsXG4gICAgc2FtZXNpdGUsXG4gICAgc2VjdXJlLFxuICAgIHBhcnRpdGlvbmVkLFxuICAgIHByaW9yaXR5XG4gIH0gPSBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgYXR0cmlidXRlcy5tYXAoKFtrZXksIHZhbHVlMl0pID0+IFtcbiAgICAgIGtleS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLy0vZywgXCJcIiksXG4gICAgICB2YWx1ZTJcbiAgICBdKVxuICApO1xuICBjb25zdCBjb29raWUgPSB7XG4gICAgbmFtZSxcbiAgICB2YWx1ZTogZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKSxcbiAgICBkb21haW4sXG4gICAgLi4uZXhwaXJlcyAmJiB7IGV4cGlyZXM6IG5ldyBEYXRlKGV4cGlyZXMpIH0sXG4gICAgLi4uaHR0cG9ubHkgJiYgeyBodHRwT25seTogdHJ1ZSB9LFxuICAgIC4uLnR5cGVvZiBtYXhhZ2UgPT09IFwic3RyaW5nXCIgJiYgeyBtYXhBZ2U6IE51bWJlcihtYXhhZ2UpIH0sXG4gICAgcGF0aCxcbiAgICAuLi5zYW1lc2l0ZSAmJiB7IHNhbWVTaXRlOiBwYXJzZVNhbWVTaXRlKHNhbWVzaXRlKSB9LFxuICAgIC4uLnNlY3VyZSAmJiB7IHNlY3VyZTogdHJ1ZSB9LFxuICAgIC4uLnByaW9yaXR5ICYmIHsgcHJpb3JpdHk6IHBhcnNlUHJpb3JpdHkocHJpb3JpdHkpIH0sXG4gICAgLi4ucGFydGl0aW9uZWQgJiYgeyBwYXJ0aXRpb25lZDogdHJ1ZSB9XG4gIH07XG4gIHJldHVybiBjb21wYWN0KGNvb2tpZSk7XG59XG5mdW5jdGlvbiBjb21wYWN0KHQpIHtcbiAgY29uc3QgbmV3VCA9IHt9O1xuICBmb3IgKGNvbnN0IGtleSBpbiB0KSB7XG4gICAgaWYgKHRba2V5XSkge1xuICAgICAgbmV3VFtrZXldID0gdFtrZXldO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbmV3VDtcbn1cbnZhciBTQU1FX1NJVEUgPSBbXCJzdHJpY3RcIiwgXCJsYXhcIiwgXCJub25lXCJdO1xuZnVuY3Rpb24gcGFyc2VTYW1lU2l0ZShzdHJpbmcpIHtcbiAgc3RyaW5nID0gc3RyaW5nLnRvTG93ZXJDYXNlKCk7XG4gIHJldHVybiBTQU1FX1NJVEUuaW5jbHVkZXMoc3RyaW5nKSA/IHN0cmluZyA6IHZvaWQgMDtcbn1cbnZhciBQUklPUklUWSA9IFtcImxvd1wiLCBcIm1lZGl1bVwiLCBcImhpZ2hcIl07XG5mdW5jdGlvbiBwYXJzZVByaW9yaXR5KHN0cmluZykge1xuICBzdHJpbmcgPSBzdHJpbmcudG9Mb3dlckNhc2UoKTtcbiAgcmV0dXJuIFBSSU9SSVRZLmluY2x1ZGVzKHN0cmluZykgPyBzdHJpbmcgOiB2b2lkIDA7XG59XG5mdW5jdGlvbiBzcGxpdENvb2tpZXNTdHJpbmcoY29va2llc1N0cmluZykge1xuICBpZiAoIWNvb2tpZXNTdHJpbmcpXG4gICAgcmV0dXJuIFtdO1xuICB2YXIgY29va2llc1N0cmluZ3MgPSBbXTtcbiAgdmFyIHBvcyA9IDA7XG4gIHZhciBzdGFydDtcbiAgdmFyIGNoO1xuICB2YXIgbGFzdENvbW1hO1xuICB2YXIgbmV4dFN0YXJ0O1xuICB2YXIgY29va2llc1NlcGFyYXRvckZvdW5kO1xuICBmdW5jdGlvbiBza2lwV2hpdGVzcGFjZSgpIHtcbiAgICB3aGlsZSAocG9zIDwgY29va2llc1N0cmluZy5sZW5ndGggJiYgL1xccy8udGVzdChjb29raWVzU3RyaW5nLmNoYXJBdChwb3MpKSkge1xuICAgICAgcG9zICs9IDE7XG4gICAgfVxuICAgIHJldHVybiBwb3MgPCBjb29raWVzU3RyaW5nLmxlbmd0aDtcbiAgfVxuICBmdW5jdGlvbiBub3RTcGVjaWFsQ2hhcigpIHtcbiAgICBjaCA9IGNvb2tpZXNTdHJpbmcuY2hhckF0KHBvcyk7XG4gICAgcmV0dXJuIGNoICE9PSBcIj1cIiAmJiBjaCAhPT0gXCI7XCIgJiYgY2ggIT09IFwiLFwiO1xuICB9XG4gIHdoaWxlIChwb3MgPCBjb29raWVzU3RyaW5nLmxlbmd0aCkge1xuICAgIHN0YXJ0ID0gcG9zO1xuICAgIGNvb2tpZXNTZXBhcmF0b3JGb3VuZCA9IGZhbHNlO1xuICAgIHdoaWxlIChza2lwV2hpdGVzcGFjZSgpKSB7XG4gICAgICBjaCA9IGNvb2tpZXNTdHJpbmcuY2hhckF0KHBvcyk7XG4gICAgICBpZiAoY2ggPT09IFwiLFwiKSB7XG4gICAgICAgIGxhc3RDb21tYSA9IHBvcztcbiAgICAgICAgcG9zICs9IDE7XG4gICAgICAgIHNraXBXaGl0ZXNwYWNlKCk7XG4gICAgICAgIG5leHRTdGFydCA9IHBvcztcbiAgICAgICAgd2hpbGUgKHBvcyA8IGNvb2tpZXNTdHJpbmcubGVuZ3RoICYmIG5vdFNwZWNpYWxDaGFyKCkpIHtcbiAgICAgICAgICBwb3MgKz0gMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocG9zIDwgY29va2llc1N0cmluZy5sZW5ndGggJiYgY29va2llc1N0cmluZy5jaGFyQXQocG9zKSA9PT0gXCI9XCIpIHtcbiAgICAgICAgICBjb29raWVzU2VwYXJhdG9yRm91bmQgPSB0cnVlO1xuICAgICAgICAgIHBvcyA9IG5leHRTdGFydDtcbiAgICAgICAgICBjb29raWVzU3RyaW5ncy5wdXNoKGNvb2tpZXNTdHJpbmcuc3Vic3RyaW5nKHN0YXJ0LCBsYXN0Q29tbWEpKTtcbiAgICAgICAgICBzdGFydCA9IHBvcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwb3MgPSBsYXN0Q29tbWEgKyAxO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwb3MgKz0gMTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFjb29raWVzU2VwYXJhdG9yRm91bmQgfHwgcG9zID49IGNvb2tpZXNTdHJpbmcubGVuZ3RoKSB7XG4gICAgICBjb29raWVzU3RyaW5ncy5wdXNoKGNvb2tpZXNTdHJpbmcuc3Vic3RyaW5nKHN0YXJ0LCBjb29raWVzU3RyaW5nLmxlbmd0aCkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gY29va2llc1N0cmluZ3M7XG59XG5cbi8vIHNyYy9yZXF1ZXN0LWNvb2tpZXMudHNcbnZhciBSZXF1ZXN0Q29va2llcyA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IocmVxdWVzdEhlYWRlcnMpIHtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5fcGFyc2VkID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICB0aGlzLl9oZWFkZXJzID0gcmVxdWVzdEhlYWRlcnM7XG4gICAgY29uc3QgaGVhZGVyID0gcmVxdWVzdEhlYWRlcnMuZ2V0KFwiY29va2llXCIpO1xuICAgIGlmIChoZWFkZXIpIHtcbiAgICAgIGNvbnN0IHBhcnNlZCA9IHBhcnNlQ29va2llKGhlYWRlcik7XG4gICAgICBmb3IgKGNvbnN0IFtuYW1lLCB2YWx1ZV0gb2YgcGFyc2VkKSB7XG4gICAgICAgIHRoaXMuX3BhcnNlZC5zZXQobmFtZSwgeyBuYW1lLCB2YWx1ZSB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BhcnNlZFtTeW1ib2wuaXRlcmF0b3JdKCk7XG4gIH1cbiAgLyoqXG4gICAqIFRoZSBhbW91bnQgb2YgY29va2llcyByZWNlaXZlZCBmcm9tIHRoZSBjbGllbnRcbiAgICovXG4gIGdldCBzaXplKCkge1xuICAgIHJldHVybiB0aGlzLl9wYXJzZWQuc2l6ZTtcbiAgfVxuICBnZXQoLi4uYXJncykge1xuICAgIGNvbnN0IG5hbWUgPSB0eXBlb2YgYXJnc1swXSA9PT0gXCJzdHJpbmdcIiA/IGFyZ3NbMF0gOiBhcmdzWzBdLm5hbWU7XG4gICAgcmV0dXJuIHRoaXMuX3BhcnNlZC5nZXQobmFtZSk7XG4gIH1cbiAgZ2V0QWxsKC4uLmFyZ3MpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgYWxsID0gQXJyYXkuZnJvbSh0aGlzLl9wYXJzZWQpO1xuICAgIGlmICghYXJncy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBhbGwubWFwKChbXywgdmFsdWVdKSA9PiB2YWx1ZSk7XG4gICAgfVxuICAgIGNvbnN0IG5hbWUgPSB0eXBlb2YgYXJnc1swXSA9PT0gXCJzdHJpbmdcIiA/IGFyZ3NbMF0gOiAoX2EgPSBhcmdzWzBdKSA9PSBudWxsID8gdm9pZCAwIDogX2EubmFtZTtcbiAgICByZXR1cm4gYWxsLmZpbHRlcigoW25dKSA9PiBuID09PSBuYW1lKS5tYXAoKFtfLCB2YWx1ZV0pID0+IHZhbHVlKTtcbiAgfVxuICBoYXMobmFtZSkge1xuICAgIHJldHVybiB0aGlzLl9wYXJzZWQuaGFzKG5hbWUpO1xuICB9XG4gIHNldCguLi5hcmdzKSB7XG4gICAgY29uc3QgW25hbWUsIHZhbHVlXSA9IGFyZ3MubGVuZ3RoID09PSAxID8gW2FyZ3NbMF0ubmFtZSwgYXJnc1swXS52YWx1ZV0gOiBhcmdzO1xuICAgIGNvbnN0IG1hcCA9IHRoaXMuX3BhcnNlZDtcbiAgICBtYXAuc2V0KG5hbWUsIHsgbmFtZSwgdmFsdWUgfSk7XG4gICAgdGhpcy5faGVhZGVycy5zZXQoXG4gICAgICBcImNvb2tpZVwiLFxuICAgICAgQXJyYXkuZnJvbShtYXApLm1hcCgoW18sIHZhbHVlMl0pID0+IHN0cmluZ2lmeUNvb2tpZSh2YWx1ZTIpKS5qb2luKFwiOyBcIilcbiAgICApO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBEZWxldGUgdGhlIGNvb2tpZXMgbWF0Y2hpbmcgdGhlIHBhc3NlZCBuYW1lIG9yIG5hbWVzIGluIHRoZSByZXF1ZXN0LlxuICAgKi9cbiAgZGVsZXRlKG5hbWVzKSB7XG4gICAgY29uc3QgbWFwID0gdGhpcy5fcGFyc2VkO1xuICAgIGNvbnN0IHJlc3VsdCA9ICFBcnJheS5pc0FycmF5KG5hbWVzKSA/IG1hcC5kZWxldGUobmFtZXMpIDogbmFtZXMubWFwKChuYW1lKSA9PiBtYXAuZGVsZXRlKG5hbWUpKTtcbiAgICB0aGlzLl9oZWFkZXJzLnNldChcbiAgICAgIFwiY29va2llXCIsXG4gICAgICBBcnJheS5mcm9tKG1hcCkubWFwKChbXywgdmFsdWVdKSA9PiBzdHJpbmdpZnlDb29raWUodmFsdWUpKS5qb2luKFwiOyBcIilcbiAgICApO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgLyoqXG4gICAqIERlbGV0ZSBhbGwgdGhlIGNvb2tpZXMgaW4gdGhlIGNvb2tpZXMgaW4gdGhlIHJlcXVlc3QuXG4gICAqL1xuICBjbGVhcigpIHtcbiAgICB0aGlzLmRlbGV0ZShBcnJheS5mcm9tKHRoaXMuX3BhcnNlZC5rZXlzKCkpKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogRm9ybWF0IHRoZSBjb29raWVzIGluIHRoZSByZXF1ZXN0IGFzIGEgc3RyaW5nIGZvciBsb2dnaW5nXG4gICAqL1xuICBbU3ltYm9sLmZvcihcImVkZ2UtcnVudGltZS5pbnNwZWN0LmN1c3RvbVwiKV0oKSB7XG4gICAgcmV0dXJuIGBSZXF1ZXN0Q29va2llcyAke0pTT04uc3RyaW5naWZ5KE9iamVjdC5mcm9tRW50cmllcyh0aGlzLl9wYXJzZWQpKX1gO1xuICB9XG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBbLi4udGhpcy5fcGFyc2VkLnZhbHVlcygpXS5tYXAoKHYpID0+IGAke3YubmFtZX09JHtlbmNvZGVVUklDb21wb25lbnQodi52YWx1ZSl9YCkuam9pbihcIjsgXCIpO1xuICB9XG59O1xuXG4vLyBzcmMvcmVzcG9uc2UtY29va2llcy50c1xudmFyIFJlc3BvbnNlQ29va2llcyA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IocmVzcG9uc2VIZWFkZXJzKSB7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuX3BhcnNlZCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgdGhpcy5faGVhZGVycyA9IHJlc3BvbnNlSGVhZGVycztcbiAgICBjb25zdCBzZXRDb29raWUgPSAoX2MgPSAoX2IgPSAoX2EgPSByZXNwb25zZUhlYWRlcnMuZ2V0U2V0Q29va2llKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2FsbChyZXNwb25zZUhlYWRlcnMpKSAhPSBudWxsID8gX2IgOiByZXNwb25zZUhlYWRlcnMuZ2V0KFwic2V0LWNvb2tpZVwiKSkgIT0gbnVsbCA/IF9jIDogW107XG4gICAgY29uc3QgY29va2llU3RyaW5ncyA9IEFycmF5LmlzQXJyYXkoc2V0Q29va2llKSA/IHNldENvb2tpZSA6IHNwbGl0Q29va2llc1N0cmluZyhzZXRDb29raWUpO1xuICAgIGZvciAoY29uc3QgY29va2llU3RyaW5nIG9mIGNvb2tpZVN0cmluZ3MpIHtcbiAgICAgIGNvbnN0IHBhcnNlZCA9IHBhcnNlU2V0Q29va2llKGNvb2tpZVN0cmluZyk7XG4gICAgICBpZiAocGFyc2VkKVxuICAgICAgICB0aGlzLl9wYXJzZWQuc2V0KHBhcnNlZC5uYW1lLCBwYXJzZWQpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICoge0BsaW5rIGh0dHBzOi8vd2ljZy5naXRodWIuaW8vY29va2llLXN0b3JlLyNDb29raWVTdG9yZS1nZXQgQ29va2llU3RvcmUjZ2V0fSB3aXRob3V0IHRoZSBQcm9taXNlLlxuICAgKi9cbiAgZ2V0KC4uLmFyZ3MpIHtcbiAgICBjb25zdCBrZXkgPSB0eXBlb2YgYXJnc1swXSA9PT0gXCJzdHJpbmdcIiA/IGFyZ3NbMF0gOiBhcmdzWzBdLm5hbWU7XG4gICAgcmV0dXJuIHRoaXMuX3BhcnNlZC5nZXQoa2V5KTtcbiAgfVxuICAvKipcbiAgICoge0BsaW5rIGh0dHBzOi8vd2ljZy5naXRodWIuaW8vY29va2llLXN0b3JlLyNDb29raWVTdG9yZS1nZXRBbGwgQ29va2llU3RvcmUjZ2V0QWxsfSB3aXRob3V0IHRoZSBQcm9taXNlLlxuICAgKi9cbiAgZ2V0QWxsKC4uLmFyZ3MpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgYWxsID0gQXJyYXkuZnJvbSh0aGlzLl9wYXJzZWQudmFsdWVzKCkpO1xuICAgIGlmICghYXJncy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBhbGw7XG4gICAgfVxuICAgIGNvbnN0IGtleSA9IHR5cGVvZiBhcmdzWzBdID09PSBcInN0cmluZ1wiID8gYXJnc1swXSA6IChfYSA9IGFyZ3NbMF0pID09IG51bGwgPyB2b2lkIDAgOiBfYS5uYW1lO1xuICAgIHJldHVybiBhbGwuZmlsdGVyKChjKSA9PiBjLm5hbWUgPT09IGtleSk7XG4gIH1cbiAgaGFzKG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5fcGFyc2VkLmhhcyhuYW1lKTtcbiAgfVxuICAvKipcbiAgICoge0BsaW5rIGh0dHBzOi8vd2ljZy5naXRodWIuaW8vY29va2llLXN0b3JlLyNDb29raWVTdG9yZS1zZXQgQ29va2llU3RvcmUjc2V0fSB3aXRob3V0IHRoZSBQcm9taXNlLlxuICAgKi9cbiAgc2V0KC4uLmFyZ3MpIHtcbiAgICBjb25zdCBbbmFtZSwgdmFsdWUsIGNvb2tpZV0gPSBhcmdzLmxlbmd0aCA9PT0gMSA/IFthcmdzWzBdLm5hbWUsIGFyZ3NbMF0udmFsdWUsIGFyZ3NbMF1dIDogYXJncztcbiAgICBjb25zdCBtYXAgPSB0aGlzLl9wYXJzZWQ7XG4gICAgbWFwLnNldChuYW1lLCBub3JtYWxpemVDb29raWUoeyBuYW1lLCB2YWx1ZSwgLi4uY29va2llIH0pKTtcbiAgICByZXBsYWNlKG1hcCwgdGhpcy5faGVhZGVycyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIHtAbGluayBodHRwczovL3dpY2cuZ2l0aHViLmlvL2Nvb2tpZS1zdG9yZS8jQ29va2llU3RvcmUtZGVsZXRlIENvb2tpZVN0b3JlI2RlbGV0ZX0gd2l0aG91dCB0aGUgUHJvbWlzZS5cbiAgICovXG4gIGRlbGV0ZSguLi5hcmdzKSB7XG4gICAgY29uc3QgW25hbWUsIG9wdGlvbnNdID0gdHlwZW9mIGFyZ3NbMF0gPT09IFwic3RyaW5nXCIgPyBbYXJnc1swXV0gOiBbYXJnc1swXS5uYW1lLCBhcmdzWzBdXTtcbiAgICByZXR1cm4gdGhpcy5zZXQoeyAuLi5vcHRpb25zLCBuYW1lLCB2YWx1ZTogXCJcIiwgZXhwaXJlczogLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKDApIH0pO1xuICB9XG4gIFtTeW1ib2wuZm9yKFwiZWRnZS1ydW50aW1lLmluc3BlY3QuY3VzdG9tXCIpXSgpIHtcbiAgICByZXR1cm4gYFJlc3BvbnNlQ29va2llcyAke0pTT04uc3RyaW5naWZ5KE9iamVjdC5mcm9tRW50cmllcyh0aGlzLl9wYXJzZWQpKX1gO1xuICB9XG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBbLi4udGhpcy5fcGFyc2VkLnZhbHVlcygpXS5tYXAoc3RyaW5naWZ5Q29va2llKS5qb2luKFwiOyBcIik7XG4gIH1cbn07XG5mdW5jdGlvbiByZXBsYWNlKGJhZywgaGVhZGVycykge1xuICBoZWFkZXJzLmRlbGV0ZShcInNldC1jb29raWVcIik7XG4gIGZvciAoY29uc3QgWywgdmFsdWVdIG9mIGJhZykge1xuICAgIGNvbnN0IHNlcmlhbGl6ZWQgPSBzdHJpbmdpZnlDb29raWUodmFsdWUpO1xuICAgIGhlYWRlcnMuYXBwZW5kKFwic2V0LWNvb2tpZVwiLCBzZXJpYWxpemVkKTtcbiAgfVxufVxuZnVuY3Rpb24gbm9ybWFsaXplQ29va2llKGNvb2tpZSA9IHsgbmFtZTogXCJcIiwgdmFsdWU6IFwiXCIgfSkge1xuICBpZiAodHlwZW9mIGNvb2tpZS5leHBpcmVzID09PSBcIm51bWJlclwiKSB7XG4gICAgY29va2llLmV4cGlyZXMgPSBuZXcgRGF0ZShjb29raWUuZXhwaXJlcyk7XG4gIH1cbiAgaWYgKGNvb2tpZS5tYXhBZ2UpIHtcbiAgICBjb29raWUuZXhwaXJlcyA9IG5ldyBEYXRlKERhdGUubm93KCkgKyBjb29raWUubWF4QWdlICogMWUzKTtcbiAgfVxuICBpZiAoY29va2llLnBhdGggPT09IG51bGwgfHwgY29va2llLnBhdGggPT09IHZvaWQgMCkge1xuICAgIGNvb2tpZS5wYXRoID0gXCIvXCI7XG4gIH1cbiAgcmV0dXJuIGNvb2tpZTtcbn1cbmV4cG9ydCB7XG4gIFJlcXVlc3RDb29raWVzLFxuICBSZXNwb25zZUNvb2tpZXMsXG4gIHBhcnNlQ29va2llLFxuICBwYXJzZVNldENvb2tpZSxcbiAgc3RyaW5naWZ5Q29va2llXG59O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@edge-runtime/cookies/dist/index.mjs\n");

/***/ }),

/***/ "(middleware)/./node_modules/@panva/hkdf/dist/web/index.js":
/*!****************************************************!*\
  !*** ./node_modules/@panva/hkdf/dist/web/index.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ hkdf),\n/* harmony export */   hkdf: () => (/* binding */ hkdf)\n/* harmony export */ });\n/* harmony import */ var _runtime_hkdf_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./runtime/hkdf.js */ \"(middleware)/./node_modules/@panva/hkdf/dist/web/runtime/hkdf.js\");\n\nfunction normalizeDigest(digest) {\n    switch (digest) {\n        case 'sha256':\n        case 'sha384':\n        case 'sha512':\n        case 'sha1':\n            return digest;\n        default:\n            throw new TypeError('unsupported \"digest\" value');\n    }\n}\nfunction normalizeUint8Array(input, label) {\n    if (typeof input === 'string')\n        return new TextEncoder().encode(input);\n    if (!(input instanceof Uint8Array))\n        throw new TypeError(`\"${label}\"\" must be an instance of Uint8Array or a string`);\n    return input;\n}\nfunction normalizeIkm(input) {\n    const ikm = normalizeUint8Array(input, 'ikm');\n    if (!ikm.byteLength)\n        throw new TypeError(`\"ikm\" must be at least one byte in length`);\n    return ikm;\n}\nfunction normalizeInfo(input) {\n    const info = normalizeUint8Array(input, 'info');\n    if (info.byteLength > 1024) {\n        throw TypeError('\"info\" must not contain more than 1024 bytes');\n    }\n    return info;\n}\nfunction normalizeKeylen(input, digest) {\n    if (typeof input !== 'number' || !Number.isInteger(input) || input < 1) {\n        throw new TypeError('\"keylen\" must be a positive integer');\n    }\n    const hashlen = parseInt(digest.substr(3), 10) >> 3 || 20;\n    if (input > 255 * hashlen) {\n        throw new TypeError('\"keylen\" too large');\n    }\n    return input;\n}\nasync function hkdf(digest, ikm, salt, info, keylen) {\n    return (0,_runtime_hkdf_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(normalizeDigest(digest), normalizeIkm(ikm), normalizeUint8Array(salt, 'salt'), normalizeInfo(info), normalizeKeylen(keylen, digest));\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0BwYW52YS9oa2RmL2Rpc3Qvd2ViL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF1QztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsTUFBTTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyw0REFBTTtBQUNqQjtBQUNpQyIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcQHBhbnZhXFxoa2RmXFxkaXN0XFx3ZWJcXGluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkZXJpdmUgZnJvbSAnLi9ydW50aW1lL2hrZGYuanMnO1xuZnVuY3Rpb24gbm9ybWFsaXplRGlnZXN0KGRpZ2VzdCkge1xuICAgIHN3aXRjaCAoZGlnZXN0KSB7XG4gICAgICAgIGNhc2UgJ3NoYTI1Nic6XG4gICAgICAgIGNhc2UgJ3NoYTM4NCc6XG4gICAgICAgIGNhc2UgJ3NoYTUxMic6XG4gICAgICAgIGNhc2UgJ3NoYTEnOlxuICAgICAgICAgICAgcmV0dXJuIGRpZ2VzdDtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3Vuc3VwcG9ydGVkIFwiZGlnZXN0XCIgdmFsdWUnKTtcbiAgICB9XG59XG5mdW5jdGlvbiBub3JtYWxpemVVaW50OEFycmF5KGlucHV0LCBsYWJlbCkge1xuICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKVxuICAgICAgICByZXR1cm4gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKGlucHV0KTtcbiAgICBpZiAoIShpbnB1dCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpKVxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBcIiR7bGFiZWx9XCJcIiBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIFVpbnQ4QXJyYXkgb3IgYSBzdHJpbmdgKTtcbiAgICByZXR1cm4gaW5wdXQ7XG59XG5mdW5jdGlvbiBub3JtYWxpemVJa20oaW5wdXQpIHtcbiAgICBjb25zdCBpa20gPSBub3JtYWxpemVVaW50OEFycmF5KGlucHV0LCAnaWttJyk7XG4gICAgaWYgKCFpa20uYnl0ZUxlbmd0aClcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgXCJpa21cIiBtdXN0IGJlIGF0IGxlYXN0IG9uZSBieXRlIGluIGxlbmd0aGApO1xuICAgIHJldHVybiBpa207XG59XG5mdW5jdGlvbiBub3JtYWxpemVJbmZvKGlucHV0KSB7XG4gICAgY29uc3QgaW5mbyA9IG5vcm1hbGl6ZVVpbnQ4QXJyYXkoaW5wdXQsICdpbmZvJyk7XG4gICAgaWYgKGluZm8uYnl0ZUxlbmd0aCA+IDEwMjQpIHtcbiAgICAgICAgdGhyb3cgVHlwZUVycm9yKCdcImluZm9cIiBtdXN0IG5vdCBjb250YWluIG1vcmUgdGhhbiAxMDI0IGJ5dGVzJyk7XG4gICAgfVxuICAgIHJldHVybiBpbmZvO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplS2V5bGVuKGlucHV0LCBkaWdlc3QpIHtcbiAgICBpZiAodHlwZW9mIGlucHV0ICE9PSAnbnVtYmVyJyB8fCAhTnVtYmVyLmlzSW50ZWdlcihpbnB1dCkgfHwgaW5wdXQgPCAxKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wia2V5bGVuXCIgbXVzdCBiZSBhIHBvc2l0aXZlIGludGVnZXInKTtcbiAgICB9XG4gICAgY29uc3QgaGFzaGxlbiA9IHBhcnNlSW50KGRpZ2VzdC5zdWJzdHIoMyksIDEwKSA+PiAzIHx8IDIwO1xuICAgIGlmIChpbnB1dCA+IDI1NSAqIGhhc2hsZW4pIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJrZXlsZW5cIiB0b28gbGFyZ2UnKTtcbiAgICB9XG4gICAgcmV0dXJuIGlucHV0O1xufVxuYXN5bmMgZnVuY3Rpb24gaGtkZihkaWdlc3QsIGlrbSwgc2FsdCwgaW5mbywga2V5bGVuKSB7XG4gICAgcmV0dXJuIGRlcml2ZShub3JtYWxpemVEaWdlc3QoZGlnZXN0KSwgbm9ybWFsaXplSWttKGlrbSksIG5vcm1hbGl6ZVVpbnQ4QXJyYXkoc2FsdCwgJ3NhbHQnKSwgbm9ybWFsaXplSW5mbyhpbmZvKSwgbm9ybWFsaXplS2V5bGVuKGtleWxlbiwgZGlnZXN0KSk7XG59XG5leHBvcnQgeyBoa2RmLCBoa2RmIGFzIGRlZmF1bHQgfTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@panva/hkdf/dist/web/index.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@panva/hkdf/dist/web/runtime/hkdf.js":
/*!***********************************************************!*\
  !*** ./node_modules/@panva/hkdf/dist/web/runtime/hkdf.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst getGlobal = () => {\n    if (typeof globalThis !== 'undefined')\n        return globalThis;\n    if (typeof self !== 'undefined')\n        return self;\n    if (typeof window !== 'undefined')\n        return window;\n    throw new Error('unable to locate global object');\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (async (digest, ikm, salt, info, keylen) => {\n    const { crypto: { subtle }, } = getGlobal();\n    return new Uint8Array(await subtle.deriveBits({\n        name: 'HKDF',\n        hash: `SHA-${digest.substr(3)}`,\n        salt,\n        info,\n    }, await subtle.importKey('raw', ikm, 'HKDF', false, ['deriveBits']), keylen << 3));\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0BwYW52YS9oa2RmL2Rpc3Qvd2ViL3J1bnRpbWUvaGtkZi5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWU7QUFDZixZQUFZLFVBQVUsUUFBUSxJQUFJO0FBQ2xDO0FBQ0E7QUFDQSxxQkFBcUIsaUJBQWlCO0FBQ3RDO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsQ0FBQyxFQUFDIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxAcGFudmFcXGhrZGZcXGRpc3RcXHdlYlxccnVudGltZVxcaGtkZi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBnZXRHbG9iYWwgPSAoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJylcbiAgICAgICAgcmV0dXJuIGdsb2JhbFRoaXM7XG4gICAgaWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJylcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKVxuICAgICAgICByZXR1cm4gd2luZG93O1xuICAgIHRocm93IG5ldyBFcnJvcigndW5hYmxlIHRvIGxvY2F0ZSBnbG9iYWwgb2JqZWN0Jyk7XG59O1xuZXhwb3J0IGRlZmF1bHQgYXN5bmMgKGRpZ2VzdCwgaWttLCBzYWx0LCBpbmZvLCBrZXlsZW4pID0+IHtcbiAgICBjb25zdCB7IGNyeXB0bzogeyBzdWJ0bGUgfSwgfSA9IGdldEdsb2JhbCgpO1xuICAgIHJldHVybiBuZXcgVWludDhBcnJheShhd2FpdCBzdWJ0bGUuZGVyaXZlQml0cyh7XG4gICAgICAgIG5hbWU6ICdIS0RGJyxcbiAgICAgICAgaGFzaDogYFNIQS0ke2RpZ2VzdC5zdWJzdHIoMyl9YCxcbiAgICAgICAgc2FsdCxcbiAgICAgICAgaW5mbyxcbiAgICB9LCBhd2FpdCBzdWJ0bGUuaW1wb3J0S2V5KCdyYXcnLCBpa20sICdIS0RGJywgZmFsc2UsIFsnZGVyaXZlQml0cyddKSwga2V5bGVuIDw8IDMpKTtcbn07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@panva/hkdf/dist/web/runtime/hkdf.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/jwe/compact/decrypt.js":
/*!**************************************************************!*\
  !*** ./node_modules/jose/dist/webapi/jwe/compact/decrypt.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   compactDecrypt: () => (/* binding */ compactDecrypt)\n/* harmony export */ });\n/* harmony import */ var _flattened_decrypt_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../flattened/decrypt.js */ \"(middleware)/./node_modules/jose/dist/webapi/jwe/flattened/decrypt.js\");\n/* harmony import */ var _util_errors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/errors.js */ \"(middleware)/./node_modules/jose/dist/webapi/util/errors.js\");\n/* harmony import */ var _lib_buffer_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/buffer_utils.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/buffer_utils.js\");\n\n\n\nasync function compactDecrypt(jwe, key, options) {\n    if (jwe instanceof Uint8Array) {\n        jwe = _lib_buffer_utils_js__WEBPACK_IMPORTED_MODULE_0__.decoder.decode(jwe);\n    }\n    if (typeof jwe !== 'string') {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JWEInvalid('Compact JWE must be a string or Uint8Array');\n    }\n    const { 0: protectedHeader, 1: encryptedKey, 2: iv, 3: ciphertext, 4: tag, length, } = jwe.split('.');\n    if (length !== 5) {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JWEInvalid('Invalid Compact JWE');\n    }\n    const decrypted = await (0,_flattened_decrypt_js__WEBPACK_IMPORTED_MODULE_2__.flattenedDecrypt)({\n        ciphertext,\n        iv: iv || undefined,\n        protected: protectedHeader,\n        tag: tag || undefined,\n        encrypted_key: encryptedKey || undefined,\n    }, key, options);\n    const result = { plaintext: decrypted.plaintext, protectedHeader: decrypted.protectedHeader };\n    if (typeof key === 'function') {\n        return { ...result, key: decrypted.key };\n    }\n    return result;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvandlL2NvbXBhY3QvZGVjcnlwdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTJEO0FBQ1Q7QUFDRTtBQUM3QztBQUNQO0FBQ0EsY0FBYyx5REFBTztBQUNyQjtBQUNBO0FBQ0Esa0JBQWtCLHVEQUFVO0FBQzVCO0FBQ0EsWUFBWSw2RUFBNkU7QUFDekY7QUFDQSxrQkFBa0IsdURBQVU7QUFDNUI7QUFDQSw0QkFBNEIsdUVBQWdCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wscUJBQXFCO0FBQ3JCO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcam9zZVxcZGlzdFxcd2ViYXBpXFxqd2VcXGNvbXBhY3RcXGRlY3J5cHQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZmxhdHRlbmVkRGVjcnlwdCB9IGZyb20gJy4uL2ZsYXR0ZW5lZC9kZWNyeXB0LmpzJztcbmltcG9ydCB7IEpXRUludmFsaWQgfSBmcm9tICcuLi8uLi91dGlsL2Vycm9ycy5qcyc7XG5pbXBvcnQgeyBkZWNvZGVyIH0gZnJvbSAnLi4vLi4vbGliL2J1ZmZlcl91dGlscy5qcyc7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY29tcGFjdERlY3J5cHQoandlLCBrZXksIG9wdGlvbnMpIHtcbiAgICBpZiAoandlIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgICBqd2UgPSBkZWNvZGVyLmRlY29kZShqd2UpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGp3ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhyb3cgbmV3IEpXRUludmFsaWQoJ0NvbXBhY3QgSldFIG11c3QgYmUgYSBzdHJpbmcgb3IgVWludDhBcnJheScpO1xuICAgIH1cbiAgICBjb25zdCB7IDA6IHByb3RlY3RlZEhlYWRlciwgMTogZW5jcnlwdGVkS2V5LCAyOiBpdiwgMzogY2lwaGVydGV4dCwgNDogdGFnLCBsZW5ndGgsIH0gPSBqd2Uuc3BsaXQoJy4nKTtcbiAgICBpZiAobGVuZ3RoICE9PSA1KSB7XG4gICAgICAgIHRocm93IG5ldyBKV0VJbnZhbGlkKCdJbnZhbGlkIENvbXBhY3QgSldFJyk7XG4gICAgfVxuICAgIGNvbnN0IGRlY3J5cHRlZCA9IGF3YWl0IGZsYXR0ZW5lZERlY3J5cHQoe1xuICAgICAgICBjaXBoZXJ0ZXh0LFxuICAgICAgICBpdjogaXYgfHwgdW5kZWZpbmVkLFxuICAgICAgICBwcm90ZWN0ZWQ6IHByb3RlY3RlZEhlYWRlcixcbiAgICAgICAgdGFnOiB0YWcgfHwgdW5kZWZpbmVkLFxuICAgICAgICBlbmNyeXB0ZWRfa2V5OiBlbmNyeXB0ZWRLZXkgfHwgdW5kZWZpbmVkLFxuICAgIH0sIGtleSwgb3B0aW9ucyk7XG4gICAgY29uc3QgcmVzdWx0ID0geyBwbGFpbnRleHQ6IGRlY3J5cHRlZC5wbGFpbnRleHQsIHByb3RlY3RlZEhlYWRlcjogZGVjcnlwdGVkLnByb3RlY3RlZEhlYWRlciB9O1xuICAgIGlmICh0eXBlb2Yga2V5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3VsdCwga2V5OiBkZWNyeXB0ZWQua2V5IH07XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/jwe/compact/decrypt.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/jwe/compact/encrypt.js":
/*!**************************************************************!*\
  !*** ./node_modules/jose/dist/webapi/jwe/compact/encrypt.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CompactEncrypt: () => (/* binding */ CompactEncrypt)\n/* harmony export */ });\n/* harmony import */ var _flattened_encrypt_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../flattened/encrypt.js */ \"(middleware)/./node_modules/jose/dist/webapi/jwe/flattened/encrypt.js\");\n\nclass CompactEncrypt {\n    #flattened;\n    constructor(plaintext) {\n        this.#flattened = new _flattened_encrypt_js__WEBPACK_IMPORTED_MODULE_0__.FlattenedEncrypt(plaintext);\n    }\n    setContentEncryptionKey(cek) {\n        this.#flattened.setContentEncryptionKey(cek);\n        return this;\n    }\n    setInitializationVector(iv) {\n        this.#flattened.setInitializationVector(iv);\n        return this;\n    }\n    setProtectedHeader(protectedHeader) {\n        this.#flattened.setProtectedHeader(protectedHeader);\n        return this;\n    }\n    setKeyManagementParameters(parameters) {\n        this.#flattened.setKeyManagementParameters(parameters);\n        return this;\n    }\n    async encrypt(key, options) {\n        const jwe = await this.#flattened.encrypt(key, options);\n        return [jwe.protected, jwe.encrypted_key, jwe.iv, jwe.ciphertext, jwe.tag].join('.');\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvandlL2NvbXBhY3QvZW5jcnlwdC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUEyRDtBQUNwRDtBQUNQO0FBQ0E7QUFDQSw4QkFBOEIsbUVBQWdCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxqb3NlXFxkaXN0XFx3ZWJhcGlcXGp3ZVxcY29tcGFjdFxcZW5jcnlwdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBGbGF0dGVuZWRFbmNyeXB0IH0gZnJvbSAnLi4vZmxhdHRlbmVkL2VuY3J5cHQuanMnO1xuZXhwb3J0IGNsYXNzIENvbXBhY3RFbmNyeXB0IHtcbiAgICAjZmxhdHRlbmVkO1xuICAgIGNvbnN0cnVjdG9yKHBsYWludGV4dCkge1xuICAgICAgICB0aGlzLiNmbGF0dGVuZWQgPSBuZXcgRmxhdHRlbmVkRW5jcnlwdChwbGFpbnRleHQpO1xuICAgIH1cbiAgICBzZXRDb250ZW50RW5jcnlwdGlvbktleShjZWspIHtcbiAgICAgICAgdGhpcy4jZmxhdHRlbmVkLnNldENvbnRlbnRFbmNyeXB0aW9uS2V5KGNlayk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzZXRJbml0aWFsaXphdGlvblZlY3Rvcihpdikge1xuICAgICAgICB0aGlzLiNmbGF0dGVuZWQuc2V0SW5pdGlhbGl6YXRpb25WZWN0b3IoaXYpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc2V0UHJvdGVjdGVkSGVhZGVyKHByb3RlY3RlZEhlYWRlcikge1xuICAgICAgICB0aGlzLiNmbGF0dGVuZWQuc2V0UHJvdGVjdGVkSGVhZGVyKHByb3RlY3RlZEhlYWRlcik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzZXRLZXlNYW5hZ2VtZW50UGFyYW1ldGVycyhwYXJhbWV0ZXJzKSB7XG4gICAgICAgIHRoaXMuI2ZsYXR0ZW5lZC5zZXRLZXlNYW5hZ2VtZW50UGFyYW1ldGVycyhwYXJhbWV0ZXJzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGFzeW5jIGVuY3J5cHQoa2V5LCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGp3ZSA9IGF3YWl0IHRoaXMuI2ZsYXR0ZW5lZC5lbmNyeXB0KGtleSwgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBbandlLnByb3RlY3RlZCwgandlLmVuY3J5cHRlZF9rZXksIGp3ZS5pdiwgandlLmNpcGhlcnRleHQsIGp3ZS50YWddLmpvaW4oJy4nKTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/jwe/compact/encrypt.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/jwe/flattened/decrypt.js":
/*!****************************************************************!*\
  !*** ./node_modules/jose/dist/webapi/jwe/flattened/decrypt.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   flattenedDecrypt: () => (/* binding */ flattenedDecrypt)\n/* harmony export */ });\n/* harmony import */ var _util_base64url_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/base64url.js */ \"(middleware)/./node_modules/jose/dist/webapi/util/base64url.js\");\n/* harmony import */ var _lib_decrypt_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../lib/decrypt.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/decrypt.js\");\n/* harmony import */ var _util_errors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/errors.js */ \"(middleware)/./node_modules/jose/dist/webapi/util/errors.js\");\n/* harmony import */ var _lib_is_disjoint_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../lib/is_disjoint.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/is_disjoint.js\");\n/* harmony import */ var _lib_is_object_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/is_object.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/is_object.js\");\n/* harmony import */ var _lib_decrypt_key_management_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../lib/decrypt_key_management.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/decrypt_key_management.js\");\n/* harmony import */ var _lib_buffer_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../lib/buffer_utils.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/buffer_utils.js\");\n/* harmony import */ var _lib_cek_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../lib/cek.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/cek.js\");\n/* harmony import */ var _lib_validate_crit_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../lib/validate_crit.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/validate_crit.js\");\n/* harmony import */ var _lib_validate_algorithms_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../lib/validate_algorithms.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/validate_algorithms.js\");\n/* harmony import */ var _lib_normalize_key_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../lib/normalize_key.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/normalize_key.js\");\n/* harmony import */ var _lib_check_key_type_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../lib/check_key_type.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/check_key_type.js\");\n\n\n\n\n\n\n\n\n\n\n\n\nasync function flattenedDecrypt(jwe, key, options) {\n    if (!(0,_lib_is_object_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(jwe)) {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JWEInvalid('Flattened JWE must be an object');\n    }\n    if (jwe.protected === undefined && jwe.header === undefined && jwe.unprotected === undefined) {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JWEInvalid('JOSE Header missing');\n    }\n    if (jwe.iv !== undefined && typeof jwe.iv !== 'string') {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JWEInvalid('JWE Initialization Vector incorrect type');\n    }\n    if (typeof jwe.ciphertext !== 'string') {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JWEInvalid('JWE Ciphertext missing or incorrect type');\n    }\n    if (jwe.tag !== undefined && typeof jwe.tag !== 'string') {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JWEInvalid('JWE Authentication Tag incorrect type');\n    }\n    if (jwe.protected !== undefined && typeof jwe.protected !== 'string') {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JWEInvalid('JWE Protected Header incorrect type');\n    }\n    if (jwe.encrypted_key !== undefined && typeof jwe.encrypted_key !== 'string') {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JWEInvalid('JWE Encrypted Key incorrect type');\n    }\n    if (jwe.aad !== undefined && typeof jwe.aad !== 'string') {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JWEInvalid('JWE AAD incorrect type');\n    }\n    if (jwe.header !== undefined && !(0,_lib_is_object_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(jwe.header)) {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JWEInvalid('JWE Shared Unprotected Header incorrect type');\n    }\n    if (jwe.unprotected !== undefined && !(0,_lib_is_object_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(jwe.unprotected)) {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JWEInvalid('JWE Per-Recipient Unprotected Header incorrect type');\n    }\n    let parsedProt;\n    if (jwe.protected) {\n        try {\n            const protectedHeader = (0,_util_base64url_js__WEBPACK_IMPORTED_MODULE_2__.decode)(jwe.protected);\n            parsedProt = JSON.parse(_lib_buffer_utils_js__WEBPACK_IMPORTED_MODULE_3__.decoder.decode(protectedHeader));\n        }\n        catch {\n            throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JWEInvalid('JWE Protected Header is invalid');\n        }\n    }\n    if (!(0,_lib_is_disjoint_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(parsedProt, jwe.header, jwe.unprotected)) {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JWEInvalid('JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint');\n    }\n    const joseHeader = {\n        ...parsedProt,\n        ...jwe.header,\n        ...jwe.unprotected,\n    };\n    (0,_lib_validate_crit_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JWEInvalid, new Map(), options?.crit, parsedProt, joseHeader);\n    if (joseHeader.zip !== undefined) {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JOSENotSupported('JWE \"zip\" (Compression Algorithm) Header Parameter is not supported.');\n    }\n    const { alg, enc } = joseHeader;\n    if (typeof alg !== 'string' || !alg) {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JWEInvalid('missing JWE Algorithm (alg) in JWE Header');\n    }\n    if (typeof enc !== 'string' || !enc) {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JWEInvalid('missing JWE Encryption Algorithm (enc) in JWE Header');\n    }\n    const keyManagementAlgorithms = options && (0,_lib_validate_algorithms_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"])('keyManagementAlgorithms', options.keyManagementAlgorithms);\n    const contentEncryptionAlgorithms = options &&\n        (0,_lib_validate_algorithms_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"])('contentEncryptionAlgorithms', options.contentEncryptionAlgorithms);\n    if ((keyManagementAlgorithms && !keyManagementAlgorithms.has(alg)) ||\n        (!keyManagementAlgorithms && alg.startsWith('PBES2'))) {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JOSEAlgNotAllowed('\"alg\" (Algorithm) Header Parameter value not allowed');\n    }\n    if (contentEncryptionAlgorithms && !contentEncryptionAlgorithms.has(enc)) {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JOSEAlgNotAllowed('\"enc\" (Encryption Algorithm) Header Parameter value not allowed');\n    }\n    let encryptedKey;\n    if (jwe.encrypted_key !== undefined) {\n        try {\n            encryptedKey = (0,_util_base64url_js__WEBPACK_IMPORTED_MODULE_2__.decode)(jwe.encrypted_key);\n        }\n        catch {\n            throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JWEInvalid('Failed to base64url decode the encrypted_key');\n        }\n    }\n    let resolvedKey = false;\n    if (typeof key === 'function') {\n        key = await key(parsedProt, jwe);\n        resolvedKey = true;\n    }\n    (0,_lib_check_key_type_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(alg === 'dir' ? enc : alg, key, 'decrypt');\n    const k = await (0,_lib_normalize_key_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(key, alg);\n    let cek;\n    try {\n        cek = await (0,_lib_decrypt_key_management_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(alg, k, encryptedKey, joseHeader, options);\n    }\n    catch (err) {\n        if (err instanceof TypeError || err instanceof _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JWEInvalid || err instanceof _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JOSENotSupported) {\n            throw err;\n        }\n        cek = (0,_lib_cek_js__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(enc);\n    }\n    let iv;\n    let tag;\n    if (jwe.iv !== undefined) {\n        try {\n            iv = (0,_util_base64url_js__WEBPACK_IMPORTED_MODULE_2__.decode)(jwe.iv);\n        }\n        catch {\n            throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JWEInvalid('Failed to base64url decode the iv');\n        }\n    }\n    if (jwe.tag !== undefined) {\n        try {\n            tag = (0,_util_base64url_js__WEBPACK_IMPORTED_MODULE_2__.decode)(jwe.tag);\n        }\n        catch {\n            throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JWEInvalid('Failed to base64url decode the tag');\n        }\n    }\n    const protectedHeader = _lib_buffer_utils_js__WEBPACK_IMPORTED_MODULE_3__.encoder.encode(jwe.protected ?? '');\n    let additionalData;\n    if (jwe.aad !== undefined) {\n        additionalData = (0,_lib_buffer_utils_js__WEBPACK_IMPORTED_MODULE_3__.concat)(protectedHeader, _lib_buffer_utils_js__WEBPACK_IMPORTED_MODULE_3__.encoder.encode('.'), _lib_buffer_utils_js__WEBPACK_IMPORTED_MODULE_3__.encoder.encode(jwe.aad));\n    }\n    else {\n        additionalData = protectedHeader;\n    }\n    let ciphertext;\n    try {\n        ciphertext = (0,_util_base64url_js__WEBPACK_IMPORTED_MODULE_2__.decode)(jwe.ciphertext);\n    }\n    catch {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JWEInvalid('Failed to base64url decode the ciphertext');\n    }\n    const plaintext = await (0,_lib_decrypt_js__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(enc, cek, ciphertext, iv, tag, additionalData);\n    const result = { plaintext };\n    if (jwe.protected !== undefined) {\n        result.protectedHeader = parsedProt;\n    }\n    if (jwe.aad !== undefined) {\n        try {\n            result.additionalAuthenticatedData = (0,_util_base64url_js__WEBPACK_IMPORTED_MODULE_2__.decode)(jwe.aad);\n        }\n        catch {\n            throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JWEInvalid('Failed to base64url decode the aad');\n        }\n    }\n    if (jwe.unprotected !== undefined) {\n        result.sharedUnprotectedHeader = jwe.unprotected;\n    }\n    if (jwe.header !== undefined) {\n        result.unprotectedHeader = jwe.header;\n    }\n    if (resolvedKey) {\n        return { ...result, key: k };\n    }\n    return result;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvandlL2ZsYXR0ZW5lZC9kZWNyeXB0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBeUQ7QUFDZDtBQUM0QztBQUNyQztBQUNKO0FBQ3lCO0FBQ0Y7QUFDMUI7QUFDVztBQUNZO0FBQ1o7QUFDQztBQUNoRDtBQUNQLFNBQVMsNkRBQVE7QUFDakIsa0JBQWtCLHVEQUFVO0FBQzVCO0FBQ0E7QUFDQSxrQkFBa0IsdURBQVU7QUFDNUI7QUFDQTtBQUNBLGtCQUFrQix1REFBVTtBQUM1QjtBQUNBO0FBQ0Esa0JBQWtCLHVEQUFVO0FBQzVCO0FBQ0E7QUFDQSxrQkFBa0IsdURBQVU7QUFDNUI7QUFDQTtBQUNBLGtCQUFrQix1REFBVTtBQUM1QjtBQUNBO0FBQ0Esa0JBQWtCLHVEQUFVO0FBQzVCO0FBQ0E7QUFDQSxrQkFBa0IsdURBQVU7QUFDNUI7QUFDQSxxQ0FBcUMsNkRBQVE7QUFDN0Msa0JBQWtCLHVEQUFVO0FBQzVCO0FBQ0EsMENBQTBDLDZEQUFRO0FBQ2xELGtCQUFrQix1REFBVTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQywwREFBSTtBQUN4QyxvQ0FBb0MseURBQU87QUFDM0M7QUFDQTtBQUNBLHNCQUFzQix1REFBVTtBQUNoQztBQUNBO0FBQ0EsU0FBUywrREFBVTtBQUNuQixrQkFBa0IsdURBQVU7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxpRUFBWSxDQUFDLHVEQUFVO0FBQzNCO0FBQ0Esa0JBQWtCLDZEQUFnQjtBQUNsQztBQUNBLFlBQVksV0FBVztBQUN2QjtBQUNBLGtCQUFrQix1REFBVTtBQUM1QjtBQUNBO0FBQ0Esa0JBQWtCLHVEQUFVO0FBQzVCO0FBQ0EsK0NBQStDLHVFQUFrQjtBQUNqRTtBQUNBLFFBQVEsdUVBQWtCO0FBQzFCO0FBQ0E7QUFDQSxrQkFBa0IsOERBQWlCO0FBQ25DO0FBQ0E7QUFDQSxrQkFBa0IsOERBQWlCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLDBEQUFJO0FBQy9CO0FBQ0E7QUFDQSxzQkFBc0IsdURBQVU7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLGtFQUFZO0FBQ2hCLG9CQUFvQixpRUFBWTtBQUNoQztBQUNBO0FBQ0Esb0JBQW9CLDBFQUFvQjtBQUN4QztBQUNBO0FBQ0EsdURBQXVELHVEQUFVLG1CQUFtQiw2REFBZ0I7QUFDcEc7QUFDQTtBQUNBLGNBQWMsd0RBQVc7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiwwREFBSTtBQUNyQjtBQUNBO0FBQ0Esc0JBQXNCLHVEQUFVO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLDBEQUFJO0FBQ3RCO0FBQ0E7QUFDQSxzQkFBc0IsdURBQVU7QUFDaEM7QUFDQTtBQUNBLDRCQUE0Qix5REFBTztBQUNuQztBQUNBO0FBQ0EseUJBQXlCLDREQUFNLGtCQUFrQix5REFBTyxjQUFjLHlEQUFPO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiwwREFBSTtBQUN6QjtBQUNBO0FBQ0Esa0JBQWtCLHVEQUFVO0FBQzVCO0FBQ0EsNEJBQTRCLDREQUFPO0FBQ25DLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELDBEQUFJO0FBQ3JEO0FBQ0E7QUFDQSxzQkFBc0IsdURBQVU7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcam9zZVxcZGlzdFxcd2ViYXBpXFxqd2VcXGZsYXR0ZW5lZFxcZGVjcnlwdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkZWNvZGUgYXMgYjY0dSB9IGZyb20gJy4uLy4uL3V0aWwvYmFzZTY0dXJsLmpzJztcbmltcG9ydCBkZWNyeXB0IGZyb20gJy4uLy4uL2xpYi9kZWNyeXB0LmpzJztcbmltcG9ydCB7IEpPU0VBbGdOb3RBbGxvd2VkLCBKT1NFTm90U3VwcG9ydGVkLCBKV0VJbnZhbGlkIH0gZnJvbSAnLi4vLi4vdXRpbC9lcnJvcnMuanMnO1xuaW1wb3J0IGlzRGlzam9pbnQgZnJvbSAnLi4vLi4vbGliL2lzX2Rpc2pvaW50LmpzJztcbmltcG9ydCBpc09iamVjdCBmcm9tICcuLi8uLi9saWIvaXNfb2JqZWN0LmpzJztcbmltcG9ydCBkZWNyeXB0S2V5TWFuYWdlbWVudCBmcm9tICcuLi8uLi9saWIvZGVjcnlwdF9rZXlfbWFuYWdlbWVudC5qcyc7XG5pbXBvcnQgeyBlbmNvZGVyLCBkZWNvZGVyLCBjb25jYXQgfSBmcm9tICcuLi8uLi9saWIvYnVmZmVyX3V0aWxzLmpzJztcbmltcG9ydCBnZW5lcmF0ZUNlayBmcm9tICcuLi8uLi9saWIvY2VrLmpzJztcbmltcG9ydCB2YWxpZGF0ZUNyaXQgZnJvbSAnLi4vLi4vbGliL3ZhbGlkYXRlX2NyaXQuanMnO1xuaW1wb3J0IHZhbGlkYXRlQWxnb3JpdGhtcyBmcm9tICcuLi8uLi9saWIvdmFsaWRhdGVfYWxnb3JpdGhtcy5qcyc7XG5pbXBvcnQgbm9ybWFsaXplS2V5IGZyb20gJy4uLy4uL2xpYi9ub3JtYWxpemVfa2V5LmpzJztcbmltcG9ydCBjaGVja0tleVR5cGUgZnJvbSAnLi4vLi4vbGliL2NoZWNrX2tleV90eXBlLmpzJztcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmbGF0dGVuZWREZWNyeXB0KGp3ZSwga2V5LCBvcHRpb25zKSB7XG4gICAgaWYgKCFpc09iamVjdChqd2UpKSB7XG4gICAgICAgIHRocm93IG5ldyBKV0VJbnZhbGlkKCdGbGF0dGVuZWQgSldFIG11c3QgYmUgYW4gb2JqZWN0Jyk7XG4gICAgfVxuICAgIGlmIChqd2UucHJvdGVjdGVkID09PSB1bmRlZmluZWQgJiYgandlLmhlYWRlciA9PT0gdW5kZWZpbmVkICYmIGp3ZS51bnByb3RlY3RlZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBKV0VJbnZhbGlkKCdKT1NFIEhlYWRlciBtaXNzaW5nJyk7XG4gICAgfVxuICAgIGlmIChqd2UuaXYgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgandlLml2ICE9PSAnc3RyaW5nJykge1xuICAgICAgICB0aHJvdyBuZXcgSldFSW52YWxpZCgnSldFIEluaXRpYWxpemF0aW9uIFZlY3RvciBpbmNvcnJlY3QgdHlwZScpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGp3ZS5jaXBoZXJ0ZXh0ICE9PSAnc3RyaW5nJykge1xuICAgICAgICB0aHJvdyBuZXcgSldFSW52YWxpZCgnSldFIENpcGhlcnRleHQgbWlzc2luZyBvciBpbmNvcnJlY3QgdHlwZScpO1xuICAgIH1cbiAgICBpZiAoandlLnRhZyAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBqd2UudGFnICE9PSAnc3RyaW5nJykge1xuICAgICAgICB0aHJvdyBuZXcgSldFSW52YWxpZCgnSldFIEF1dGhlbnRpY2F0aW9uIFRhZyBpbmNvcnJlY3QgdHlwZScpO1xuICAgIH1cbiAgICBpZiAoandlLnByb3RlY3RlZCAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBqd2UucHJvdGVjdGVkICE9PSAnc3RyaW5nJykge1xuICAgICAgICB0aHJvdyBuZXcgSldFSW52YWxpZCgnSldFIFByb3RlY3RlZCBIZWFkZXIgaW5jb3JyZWN0IHR5cGUnKTtcbiAgICB9XG4gICAgaWYgKGp3ZS5lbmNyeXB0ZWRfa2V5ICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIGp3ZS5lbmNyeXB0ZWRfa2V5ICE9PSAnc3RyaW5nJykge1xuICAgICAgICB0aHJvdyBuZXcgSldFSW52YWxpZCgnSldFIEVuY3J5cHRlZCBLZXkgaW5jb3JyZWN0IHR5cGUnKTtcbiAgICB9XG4gICAgaWYgKGp3ZS5hYWQgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgandlLmFhZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhyb3cgbmV3IEpXRUludmFsaWQoJ0pXRSBBQUQgaW5jb3JyZWN0IHR5cGUnKTtcbiAgICB9XG4gICAgaWYgKGp3ZS5oZWFkZXIgIT09IHVuZGVmaW5lZCAmJiAhaXNPYmplY3QoandlLmhlYWRlcikpIHtcbiAgICAgICAgdGhyb3cgbmV3IEpXRUludmFsaWQoJ0pXRSBTaGFyZWQgVW5wcm90ZWN0ZWQgSGVhZGVyIGluY29ycmVjdCB0eXBlJyk7XG4gICAgfVxuICAgIGlmIChqd2UudW5wcm90ZWN0ZWQgIT09IHVuZGVmaW5lZCAmJiAhaXNPYmplY3QoandlLnVucHJvdGVjdGVkKSkge1xuICAgICAgICB0aHJvdyBuZXcgSldFSW52YWxpZCgnSldFIFBlci1SZWNpcGllbnQgVW5wcm90ZWN0ZWQgSGVhZGVyIGluY29ycmVjdCB0eXBlJyk7XG4gICAgfVxuICAgIGxldCBwYXJzZWRQcm90O1xuICAgIGlmIChqd2UucHJvdGVjdGVkKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwcm90ZWN0ZWRIZWFkZXIgPSBiNjR1KGp3ZS5wcm90ZWN0ZWQpO1xuICAgICAgICAgICAgcGFyc2VkUHJvdCA9IEpTT04ucGFyc2UoZGVjb2Rlci5kZWNvZGUocHJvdGVjdGVkSGVhZGVyKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEpXRUludmFsaWQoJ0pXRSBQcm90ZWN0ZWQgSGVhZGVyIGlzIGludmFsaWQnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWlzRGlzam9pbnQocGFyc2VkUHJvdCwgandlLmhlYWRlciwgandlLnVucHJvdGVjdGVkKSkge1xuICAgICAgICB0aHJvdyBuZXcgSldFSW52YWxpZCgnSldFIFByb3RlY3RlZCwgSldFIFVucHJvdGVjdGVkIEhlYWRlciwgYW5kIEpXRSBQZXItUmVjaXBpZW50IFVucHJvdGVjdGVkIEhlYWRlciBQYXJhbWV0ZXIgbmFtZXMgbXVzdCBiZSBkaXNqb2ludCcpO1xuICAgIH1cbiAgICBjb25zdCBqb3NlSGVhZGVyID0ge1xuICAgICAgICAuLi5wYXJzZWRQcm90LFxuICAgICAgICAuLi5qd2UuaGVhZGVyLFxuICAgICAgICAuLi5qd2UudW5wcm90ZWN0ZWQsXG4gICAgfTtcbiAgICB2YWxpZGF0ZUNyaXQoSldFSW52YWxpZCwgbmV3IE1hcCgpLCBvcHRpb25zPy5jcml0LCBwYXJzZWRQcm90LCBqb3NlSGVhZGVyKTtcbiAgICBpZiAoam9zZUhlYWRlci56aXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBuZXcgSk9TRU5vdFN1cHBvcnRlZCgnSldFIFwiemlwXCIgKENvbXByZXNzaW9uIEFsZ29yaXRobSkgSGVhZGVyIFBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkLicpO1xuICAgIH1cbiAgICBjb25zdCB7IGFsZywgZW5jIH0gPSBqb3NlSGVhZGVyO1xuICAgIGlmICh0eXBlb2YgYWxnICE9PSAnc3RyaW5nJyB8fCAhYWxnKSB7XG4gICAgICAgIHRocm93IG5ldyBKV0VJbnZhbGlkKCdtaXNzaW5nIEpXRSBBbGdvcml0aG0gKGFsZykgaW4gSldFIEhlYWRlcicpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGVuYyAhPT0gJ3N0cmluZycgfHwgIWVuYykge1xuICAgICAgICB0aHJvdyBuZXcgSldFSW52YWxpZCgnbWlzc2luZyBKV0UgRW5jcnlwdGlvbiBBbGdvcml0aG0gKGVuYykgaW4gSldFIEhlYWRlcicpO1xuICAgIH1cbiAgICBjb25zdCBrZXlNYW5hZ2VtZW50QWxnb3JpdGhtcyA9IG9wdGlvbnMgJiYgdmFsaWRhdGVBbGdvcml0aG1zKCdrZXlNYW5hZ2VtZW50QWxnb3JpdGhtcycsIG9wdGlvbnMua2V5TWFuYWdlbWVudEFsZ29yaXRobXMpO1xuICAgIGNvbnN0IGNvbnRlbnRFbmNyeXB0aW9uQWxnb3JpdGhtcyA9IG9wdGlvbnMgJiZcbiAgICAgICAgdmFsaWRhdGVBbGdvcml0aG1zKCdjb250ZW50RW5jcnlwdGlvbkFsZ29yaXRobXMnLCBvcHRpb25zLmNvbnRlbnRFbmNyeXB0aW9uQWxnb3JpdGhtcyk7XG4gICAgaWYgKChrZXlNYW5hZ2VtZW50QWxnb3JpdGhtcyAmJiAha2V5TWFuYWdlbWVudEFsZ29yaXRobXMuaGFzKGFsZykpIHx8XG4gICAgICAgICgha2V5TWFuYWdlbWVudEFsZ29yaXRobXMgJiYgYWxnLnN0YXJ0c1dpdGgoJ1BCRVMyJykpKSB7XG4gICAgICAgIHRocm93IG5ldyBKT1NFQWxnTm90QWxsb3dlZCgnXCJhbGdcIiAoQWxnb3JpdGhtKSBIZWFkZXIgUGFyYW1ldGVyIHZhbHVlIG5vdCBhbGxvd2VkJyk7XG4gICAgfVxuICAgIGlmIChjb250ZW50RW5jcnlwdGlvbkFsZ29yaXRobXMgJiYgIWNvbnRlbnRFbmNyeXB0aW9uQWxnb3JpdGhtcy5oYXMoZW5jKSkge1xuICAgICAgICB0aHJvdyBuZXcgSk9TRUFsZ05vdEFsbG93ZWQoJ1wiZW5jXCIgKEVuY3J5cHRpb24gQWxnb3JpdGhtKSBIZWFkZXIgUGFyYW1ldGVyIHZhbHVlIG5vdCBhbGxvd2VkJyk7XG4gICAgfVxuICAgIGxldCBlbmNyeXB0ZWRLZXk7XG4gICAgaWYgKGp3ZS5lbmNyeXB0ZWRfa2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGVuY3J5cHRlZEtleSA9IGI2NHUoandlLmVuY3J5cHRlZF9rZXkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBKV0VJbnZhbGlkKCdGYWlsZWQgdG8gYmFzZTY0dXJsIGRlY29kZSB0aGUgZW5jcnlwdGVkX2tleScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxldCByZXNvbHZlZEtleSA9IGZhbHNlO1xuICAgIGlmICh0eXBlb2Yga2V5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGtleSA9IGF3YWl0IGtleShwYXJzZWRQcm90LCBqd2UpO1xuICAgICAgICByZXNvbHZlZEtleSA9IHRydWU7XG4gICAgfVxuICAgIGNoZWNrS2V5VHlwZShhbGcgPT09ICdkaXInID8gZW5jIDogYWxnLCBrZXksICdkZWNyeXB0Jyk7XG4gICAgY29uc3QgayA9IGF3YWl0IG5vcm1hbGl6ZUtleShrZXksIGFsZyk7XG4gICAgbGV0IGNlaztcbiAgICB0cnkge1xuICAgICAgICBjZWsgPSBhd2FpdCBkZWNyeXB0S2V5TWFuYWdlbWVudChhbGcsIGssIGVuY3J5cHRlZEtleSwgam9zZUhlYWRlciwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgaWYgKGVyciBpbnN0YW5jZW9mIFR5cGVFcnJvciB8fCBlcnIgaW5zdGFuY2VvZiBKV0VJbnZhbGlkIHx8IGVyciBpbnN0YW5jZW9mIEpPU0VOb3RTdXBwb3J0ZWQpIHtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgICAgICBjZWsgPSBnZW5lcmF0ZUNlayhlbmMpO1xuICAgIH1cbiAgICBsZXQgaXY7XG4gICAgbGV0IHRhZztcbiAgICBpZiAoandlLml2ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGl2ID0gYjY0dShqd2UuaXYpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBKV0VJbnZhbGlkKCdGYWlsZWQgdG8gYmFzZTY0dXJsIGRlY29kZSB0aGUgaXYnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoandlLnRhZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0YWcgPSBiNjR1KGp3ZS50YWcpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBKV0VJbnZhbGlkKCdGYWlsZWQgdG8gYmFzZTY0dXJsIGRlY29kZSB0aGUgdGFnJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcHJvdGVjdGVkSGVhZGVyID0gZW5jb2Rlci5lbmNvZGUoandlLnByb3RlY3RlZCA/PyAnJyk7XG4gICAgbGV0IGFkZGl0aW9uYWxEYXRhO1xuICAgIGlmIChqd2UuYWFkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgYWRkaXRpb25hbERhdGEgPSBjb25jYXQocHJvdGVjdGVkSGVhZGVyLCBlbmNvZGVyLmVuY29kZSgnLicpLCBlbmNvZGVyLmVuY29kZShqd2UuYWFkKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhZGRpdGlvbmFsRGF0YSA9IHByb3RlY3RlZEhlYWRlcjtcbiAgICB9XG4gICAgbGV0IGNpcGhlcnRleHQ7XG4gICAgdHJ5IHtcbiAgICAgICAgY2lwaGVydGV4dCA9IGI2NHUoandlLmNpcGhlcnRleHQpO1xuICAgIH1cbiAgICBjYXRjaCB7XG4gICAgICAgIHRocm93IG5ldyBKV0VJbnZhbGlkKCdGYWlsZWQgdG8gYmFzZTY0dXJsIGRlY29kZSB0aGUgY2lwaGVydGV4dCcpO1xuICAgIH1cbiAgICBjb25zdCBwbGFpbnRleHQgPSBhd2FpdCBkZWNyeXB0KGVuYywgY2VrLCBjaXBoZXJ0ZXh0LCBpdiwgdGFnLCBhZGRpdGlvbmFsRGF0YSk7XG4gICAgY29uc3QgcmVzdWx0ID0geyBwbGFpbnRleHQgfTtcbiAgICBpZiAoandlLnByb3RlY3RlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJlc3VsdC5wcm90ZWN0ZWRIZWFkZXIgPSBwYXJzZWRQcm90O1xuICAgIH1cbiAgICBpZiAoandlLmFhZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXN1bHQuYWRkaXRpb25hbEF1dGhlbnRpY2F0ZWREYXRhID0gYjY0dShqd2UuYWFkKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSldFSW52YWxpZCgnRmFpbGVkIHRvIGJhc2U2NHVybCBkZWNvZGUgdGhlIGFhZCcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChqd2UudW5wcm90ZWN0ZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXN1bHQuc2hhcmVkVW5wcm90ZWN0ZWRIZWFkZXIgPSBqd2UudW5wcm90ZWN0ZWQ7XG4gICAgfVxuICAgIGlmIChqd2UuaGVhZGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmVzdWx0LnVucHJvdGVjdGVkSGVhZGVyID0gandlLmhlYWRlcjtcbiAgICB9XG4gICAgaWYgKHJlc29sdmVkS2V5KSB7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3VsdCwga2V5OiBrIH07XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/jwe/flattened/decrypt.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/jwe/flattened/encrypt.js":
/*!****************************************************************!*\
  !*** ./node_modules/jose/dist/webapi/jwe/flattened/encrypt.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FlattenedEncrypt: () => (/* binding */ FlattenedEncrypt)\n/* harmony export */ });\n/* harmony import */ var _util_base64url_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../util/base64url.js */ \"(middleware)/./node_modules/jose/dist/webapi/util/base64url.js\");\n/* harmony import */ var _lib_private_symbols_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../lib/private_symbols.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/private_symbols.js\");\n/* harmony import */ var _lib_encrypt_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../lib/encrypt.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/encrypt.js\");\n/* harmony import */ var _lib_encrypt_key_management_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../lib/encrypt_key_management.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/encrypt_key_management.js\");\n/* harmony import */ var _util_errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/errors.js */ \"(middleware)/./node_modules/jose/dist/webapi/util/errors.js\");\n/* harmony import */ var _lib_is_disjoint_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../lib/is_disjoint.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/is_disjoint.js\");\n/* harmony import */ var _lib_buffer_utils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../lib/buffer_utils.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/buffer_utils.js\");\n/* harmony import */ var _lib_validate_crit_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../lib/validate_crit.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/validate_crit.js\");\n/* harmony import */ var _lib_normalize_key_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../lib/normalize_key.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/normalize_key.js\");\n/* harmony import */ var _lib_check_key_type_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../lib/check_key_type.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/check_key_type.js\");\n\n\n\n\n\n\n\n\n\n\nclass FlattenedEncrypt {\n    #plaintext;\n    #protectedHeader;\n    #sharedUnprotectedHeader;\n    #unprotectedHeader;\n    #aad;\n    #cek;\n    #iv;\n    #keyManagementParameters;\n    constructor(plaintext) {\n        if (!(plaintext instanceof Uint8Array)) {\n            throw new TypeError('plaintext must be an instance of Uint8Array');\n        }\n        this.#plaintext = plaintext;\n    }\n    setKeyManagementParameters(parameters) {\n        if (this.#keyManagementParameters) {\n            throw new TypeError('setKeyManagementParameters can only be called once');\n        }\n        this.#keyManagementParameters = parameters;\n        return this;\n    }\n    setProtectedHeader(protectedHeader) {\n        if (this.#protectedHeader) {\n            throw new TypeError('setProtectedHeader can only be called once');\n        }\n        this.#protectedHeader = protectedHeader;\n        return this;\n    }\n    setSharedUnprotectedHeader(sharedUnprotectedHeader) {\n        if (this.#sharedUnprotectedHeader) {\n            throw new TypeError('setSharedUnprotectedHeader can only be called once');\n        }\n        this.#sharedUnprotectedHeader = sharedUnprotectedHeader;\n        return this;\n    }\n    setUnprotectedHeader(unprotectedHeader) {\n        if (this.#unprotectedHeader) {\n            throw new TypeError('setUnprotectedHeader can only be called once');\n        }\n        this.#unprotectedHeader = unprotectedHeader;\n        return this;\n    }\n    setAdditionalAuthenticatedData(aad) {\n        this.#aad = aad;\n        return this;\n    }\n    setContentEncryptionKey(cek) {\n        if (this.#cek) {\n            throw new TypeError('setContentEncryptionKey can only be called once');\n        }\n        this.#cek = cek;\n        return this;\n    }\n    setInitializationVector(iv) {\n        if (this.#iv) {\n            throw new TypeError('setInitializationVector can only be called once');\n        }\n        this.#iv = iv;\n        return this;\n    }\n    async encrypt(key, options) {\n        if (!this.#protectedHeader && !this.#unprotectedHeader && !this.#sharedUnprotectedHeader) {\n            throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JWEInvalid('either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()');\n        }\n        if (!(0,_lib_is_disjoint_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this.#protectedHeader, this.#unprotectedHeader, this.#sharedUnprotectedHeader)) {\n            throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JWEInvalid('JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint');\n        }\n        const joseHeader = {\n            ...this.#protectedHeader,\n            ...this.#unprotectedHeader,\n            ...this.#sharedUnprotectedHeader,\n        };\n        (0,_lib_validate_crit_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JWEInvalid, new Map(), options?.crit, this.#protectedHeader, joseHeader);\n        if (joseHeader.zip !== undefined) {\n            throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JOSENotSupported('JWE \"zip\" (Compression Algorithm) Header Parameter is not supported.');\n        }\n        const { alg, enc } = joseHeader;\n        if (typeof alg !== 'string' || !alg) {\n            throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JWEInvalid('JWE \"alg\" (Algorithm) Header Parameter missing or invalid');\n        }\n        if (typeof enc !== 'string' || !enc) {\n            throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JWEInvalid('JWE \"enc\" (Encryption Algorithm) Header Parameter missing or invalid');\n        }\n        let encryptedKey;\n        if (this.#cek && (alg === 'dir' || alg === 'ECDH-ES')) {\n            throw new TypeError(`setContentEncryptionKey cannot be called with JWE \"alg\" (Algorithm) Header ${alg}`);\n        }\n        (0,_lib_check_key_type_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(alg === 'dir' ? enc : alg, key, 'encrypt');\n        let cek;\n        {\n            let parameters;\n            const k = await (0,_lib_normalize_key_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(key, alg);\n            ({ cek, encryptedKey, parameters } = await (0,_lib_encrypt_key_management_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(alg, enc, k, this.#cek, this.#keyManagementParameters));\n            if (parameters) {\n                if (options && _lib_private_symbols_js__WEBPACK_IMPORTED_MODULE_6__.unprotected in options) {\n                    if (!this.#unprotectedHeader) {\n                        this.setUnprotectedHeader(parameters);\n                    }\n                    else {\n                        this.#unprotectedHeader = { ...this.#unprotectedHeader, ...parameters };\n                    }\n                }\n                else if (!this.#protectedHeader) {\n                    this.setProtectedHeader(parameters);\n                }\n                else {\n                    this.#protectedHeader = { ...this.#protectedHeader, ...parameters };\n                }\n            }\n        }\n        let additionalData;\n        let protectedHeader;\n        let aadMember;\n        if (this.#protectedHeader) {\n            protectedHeader = _lib_buffer_utils_js__WEBPACK_IMPORTED_MODULE_7__.encoder.encode((0,_util_base64url_js__WEBPACK_IMPORTED_MODULE_8__.encode)(JSON.stringify(this.#protectedHeader)));\n        }\n        else {\n            protectedHeader = _lib_buffer_utils_js__WEBPACK_IMPORTED_MODULE_7__.encoder.encode('');\n        }\n        if (this.#aad) {\n            aadMember = (0,_util_base64url_js__WEBPACK_IMPORTED_MODULE_8__.encode)(this.#aad);\n            additionalData = (0,_lib_buffer_utils_js__WEBPACK_IMPORTED_MODULE_7__.concat)(protectedHeader, _lib_buffer_utils_js__WEBPACK_IMPORTED_MODULE_7__.encoder.encode('.'), _lib_buffer_utils_js__WEBPACK_IMPORTED_MODULE_7__.encoder.encode(aadMember));\n        }\n        else {\n            additionalData = protectedHeader;\n        }\n        const { ciphertext, tag, iv } = await (0,_lib_encrypt_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(enc, this.#plaintext, cek, this.#iv, additionalData);\n        const jwe = {\n            ciphertext: (0,_util_base64url_js__WEBPACK_IMPORTED_MODULE_8__.encode)(ciphertext),\n        };\n        if (iv) {\n            jwe.iv = (0,_util_base64url_js__WEBPACK_IMPORTED_MODULE_8__.encode)(iv);\n        }\n        if (tag) {\n            jwe.tag = (0,_util_base64url_js__WEBPACK_IMPORTED_MODULE_8__.encode)(tag);\n        }\n        if (encryptedKey) {\n            jwe.encrypted_key = (0,_util_base64url_js__WEBPACK_IMPORTED_MODULE_8__.encode)(encryptedKey);\n        }\n        if (aadMember) {\n            jwe.aad = aadMember;\n        }\n        if (this.#protectedHeader) {\n            jwe.protected = _lib_buffer_utils_js__WEBPACK_IMPORTED_MODULE_7__.decoder.decode(protectedHeader);\n        }\n        if (this.#sharedUnprotectedHeader) {\n            jwe.unprotected = this.#sharedUnprotectedHeader;\n        }\n        if (this.#unprotectedHeader) {\n            jwe.header = this.#unprotectedHeader;\n        }\n        return jwe;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvandlL2ZsYXR0ZW5lZC9lbmNyeXB0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQXlEO0FBQ0U7QUFDaEI7QUFDNEI7QUFDSDtBQUNsQjtBQUNtQjtBQUNmO0FBQ0E7QUFDQztBQUNoRDtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsdURBQVU7QUFDaEM7QUFDQSxhQUFhLCtEQUFVO0FBQ3ZCLHNCQUFzQix1REFBVTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFZLENBQUMsdURBQVU7QUFDL0I7QUFDQSxzQkFBc0IsNkRBQWdCO0FBQ3RDO0FBQ0EsZ0JBQWdCLFdBQVc7QUFDM0I7QUFDQSxzQkFBc0IsdURBQVU7QUFDaEM7QUFDQTtBQUNBLHNCQUFzQix1REFBVTtBQUNoQztBQUNBO0FBQ0E7QUFDQSw4R0FBOEcsSUFBSTtBQUNsSDtBQUNBLFFBQVEsa0VBQVk7QUFDcEI7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGlFQUFZO0FBQ3hDLGVBQWUsZ0NBQWdDLFFBQVEsMEVBQW9CO0FBQzNFO0FBQ0EsK0JBQStCLGdFQUFXO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9EO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qix5REFBTyxRQUFRLDBEQUFJO0FBQ2pEO0FBQ0E7QUFDQSw4QkFBOEIseURBQU87QUFDckM7QUFDQTtBQUNBLHdCQUF3QiwwREFBSTtBQUM1Qiw2QkFBNkIsNERBQU0sa0JBQWtCLHlEQUFPLGNBQWMseURBQU87QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isc0JBQXNCLFFBQVEsMkRBQU87QUFDckQ7QUFDQSx3QkFBd0IsMERBQUk7QUFDNUI7QUFDQTtBQUNBLHFCQUFxQiwwREFBSTtBQUN6QjtBQUNBO0FBQ0Esc0JBQXNCLDBEQUFJO0FBQzFCO0FBQ0E7QUFDQSxnQ0FBZ0MsMERBQUk7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qix5REFBTztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcam9zZVxcZGlzdFxcd2ViYXBpXFxqd2VcXGZsYXR0ZW5lZFxcZW5jcnlwdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBlbmNvZGUgYXMgYjY0dSB9IGZyb20gJy4uLy4uL3V0aWwvYmFzZTY0dXJsLmpzJztcbmltcG9ydCB7IHVucHJvdGVjdGVkIH0gZnJvbSAnLi4vLi4vbGliL3ByaXZhdGVfc3ltYm9scy5qcyc7XG5pbXBvcnQgZW5jcnlwdCBmcm9tICcuLi8uLi9saWIvZW5jcnlwdC5qcyc7XG5pbXBvcnQgZW5jcnlwdEtleU1hbmFnZW1lbnQgZnJvbSAnLi4vLi4vbGliL2VuY3J5cHRfa2V5X21hbmFnZW1lbnQuanMnO1xuaW1wb3J0IHsgSk9TRU5vdFN1cHBvcnRlZCwgSldFSW52YWxpZCB9IGZyb20gJy4uLy4uL3V0aWwvZXJyb3JzLmpzJztcbmltcG9ydCBpc0Rpc2pvaW50IGZyb20gJy4uLy4uL2xpYi9pc19kaXNqb2ludC5qcyc7XG5pbXBvcnQgeyBlbmNvZGVyLCBkZWNvZGVyLCBjb25jYXQgfSBmcm9tICcuLi8uLi9saWIvYnVmZmVyX3V0aWxzLmpzJztcbmltcG9ydCB2YWxpZGF0ZUNyaXQgZnJvbSAnLi4vLi4vbGliL3ZhbGlkYXRlX2NyaXQuanMnO1xuaW1wb3J0IG5vcm1hbGl6ZUtleSBmcm9tICcuLi8uLi9saWIvbm9ybWFsaXplX2tleS5qcyc7XG5pbXBvcnQgY2hlY2tLZXlUeXBlIGZyb20gJy4uLy4uL2xpYi9jaGVja19rZXlfdHlwZS5qcyc7XG5leHBvcnQgY2xhc3MgRmxhdHRlbmVkRW5jcnlwdCB7XG4gICAgI3BsYWludGV4dDtcbiAgICAjcHJvdGVjdGVkSGVhZGVyO1xuICAgICNzaGFyZWRVbnByb3RlY3RlZEhlYWRlcjtcbiAgICAjdW5wcm90ZWN0ZWRIZWFkZXI7XG4gICAgI2FhZDtcbiAgICAjY2VrO1xuICAgICNpdjtcbiAgICAja2V5TWFuYWdlbWVudFBhcmFtZXRlcnM7XG4gICAgY29uc3RydWN0b3IocGxhaW50ZXh0KSB7XG4gICAgICAgIGlmICghKHBsYWludGV4dCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdwbGFpbnRleHQgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiBVaW50OEFycmF5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4jcGxhaW50ZXh0ID0gcGxhaW50ZXh0O1xuICAgIH1cbiAgICBzZXRLZXlNYW5hZ2VtZW50UGFyYW1ldGVycyhwYXJhbWV0ZXJzKSB7XG4gICAgICAgIGlmICh0aGlzLiNrZXlNYW5hZ2VtZW50UGFyYW1ldGVycykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignc2V0S2V5TWFuYWdlbWVudFBhcmFtZXRlcnMgY2FuIG9ubHkgYmUgY2FsbGVkIG9uY2UnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiNrZXlNYW5hZ2VtZW50UGFyYW1ldGVycyA9IHBhcmFtZXRlcnM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzZXRQcm90ZWN0ZWRIZWFkZXIocHJvdGVjdGVkSGVhZGVyKSB7XG4gICAgICAgIGlmICh0aGlzLiNwcm90ZWN0ZWRIZWFkZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3NldFByb3RlY3RlZEhlYWRlciBjYW4gb25seSBiZSBjYWxsZWQgb25jZScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuI3Byb3RlY3RlZEhlYWRlciA9IHByb3RlY3RlZEhlYWRlcjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHNldFNoYXJlZFVucHJvdGVjdGVkSGVhZGVyKHNoYXJlZFVucHJvdGVjdGVkSGVhZGVyKSB7XG4gICAgICAgIGlmICh0aGlzLiNzaGFyZWRVbnByb3RlY3RlZEhlYWRlcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignc2V0U2hhcmVkVW5wcm90ZWN0ZWRIZWFkZXIgY2FuIG9ubHkgYmUgY2FsbGVkIG9uY2UnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiNzaGFyZWRVbnByb3RlY3RlZEhlYWRlciA9IHNoYXJlZFVucHJvdGVjdGVkSGVhZGVyO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc2V0VW5wcm90ZWN0ZWRIZWFkZXIodW5wcm90ZWN0ZWRIZWFkZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuI3VucHJvdGVjdGVkSGVhZGVyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdzZXRVbnByb3RlY3RlZEhlYWRlciBjYW4gb25seSBiZSBjYWxsZWQgb25jZScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuI3VucHJvdGVjdGVkSGVhZGVyID0gdW5wcm90ZWN0ZWRIZWFkZXI7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzZXRBZGRpdGlvbmFsQXV0aGVudGljYXRlZERhdGEoYWFkKSB7XG4gICAgICAgIHRoaXMuI2FhZCA9IGFhZDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHNldENvbnRlbnRFbmNyeXB0aW9uS2V5KGNlaykge1xuICAgICAgICBpZiAodGhpcy4jY2VrKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdzZXRDb250ZW50RW5jcnlwdGlvbktleSBjYW4gb25seSBiZSBjYWxsZWQgb25jZScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuI2NlayA9IGNlaztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHNldEluaXRpYWxpemF0aW9uVmVjdG9yKGl2KSB7XG4gICAgICAgIGlmICh0aGlzLiNpdikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignc2V0SW5pdGlhbGl6YXRpb25WZWN0b3IgY2FuIG9ubHkgYmUgY2FsbGVkIG9uY2UnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiNpdiA9IGl2O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgYXN5bmMgZW5jcnlwdChrZXksIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCF0aGlzLiNwcm90ZWN0ZWRIZWFkZXIgJiYgIXRoaXMuI3VucHJvdGVjdGVkSGVhZGVyICYmICF0aGlzLiNzaGFyZWRVbnByb3RlY3RlZEhlYWRlcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEpXRUludmFsaWQoJ2VpdGhlciBzZXRQcm90ZWN0ZWRIZWFkZXIsIHNldFVucHJvdGVjdGVkSGVhZGVyLCBvciBzaGFyZWRVbnByb3RlY3RlZEhlYWRlciBtdXN0IGJlIGNhbGxlZCBiZWZvcmUgI2VuY3J5cHQoKScpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNEaXNqb2ludCh0aGlzLiNwcm90ZWN0ZWRIZWFkZXIsIHRoaXMuI3VucHJvdGVjdGVkSGVhZGVyLCB0aGlzLiNzaGFyZWRVbnByb3RlY3RlZEhlYWRlcikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBKV0VJbnZhbGlkKCdKV0UgUHJvdGVjdGVkLCBKV0UgU2hhcmVkIFVucHJvdGVjdGVkIGFuZCBKV0UgUGVyLVJlY2lwaWVudCBIZWFkZXIgUGFyYW1ldGVyIG5hbWVzIG11c3QgYmUgZGlzam9pbnQnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBqb3NlSGVhZGVyID0ge1xuICAgICAgICAgICAgLi4udGhpcy4jcHJvdGVjdGVkSGVhZGVyLFxuICAgICAgICAgICAgLi4udGhpcy4jdW5wcm90ZWN0ZWRIZWFkZXIsXG4gICAgICAgICAgICAuLi50aGlzLiNzaGFyZWRVbnByb3RlY3RlZEhlYWRlcixcbiAgICAgICAgfTtcbiAgICAgICAgdmFsaWRhdGVDcml0KEpXRUludmFsaWQsIG5ldyBNYXAoKSwgb3B0aW9ucz8uY3JpdCwgdGhpcy4jcHJvdGVjdGVkSGVhZGVyLCBqb3NlSGVhZGVyKTtcbiAgICAgICAgaWYgKGpvc2VIZWFkZXIuemlwICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBKT1NFTm90U3VwcG9ydGVkKCdKV0UgXCJ6aXBcIiAoQ29tcHJlc3Npb24gQWxnb3JpdGhtKSBIZWFkZXIgUGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBhbGcsIGVuYyB9ID0gam9zZUhlYWRlcjtcbiAgICAgICAgaWYgKHR5cGVvZiBhbGcgIT09ICdzdHJpbmcnIHx8ICFhbGcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBKV0VJbnZhbGlkKCdKV0UgXCJhbGdcIiAoQWxnb3JpdGhtKSBIZWFkZXIgUGFyYW1ldGVyIG1pc3Npbmcgb3IgaW52YWxpZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgZW5jICE9PSAnc3RyaW5nJyB8fCAhZW5jKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSldFSW52YWxpZCgnSldFIFwiZW5jXCIgKEVuY3J5cHRpb24gQWxnb3JpdGhtKSBIZWFkZXIgUGFyYW1ldGVyIG1pc3Npbmcgb3IgaW52YWxpZCcpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBlbmNyeXB0ZWRLZXk7XG4gICAgICAgIGlmICh0aGlzLiNjZWsgJiYgKGFsZyA9PT0gJ2RpcicgfHwgYWxnID09PSAnRUNESC1FUycpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBzZXRDb250ZW50RW5jcnlwdGlvbktleSBjYW5ub3QgYmUgY2FsbGVkIHdpdGggSldFIFwiYWxnXCIgKEFsZ29yaXRobSkgSGVhZGVyICR7YWxnfWApO1xuICAgICAgICB9XG4gICAgICAgIGNoZWNrS2V5VHlwZShhbGcgPT09ICdkaXInID8gZW5jIDogYWxnLCBrZXksICdlbmNyeXB0Jyk7XG4gICAgICAgIGxldCBjZWs7XG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBwYXJhbWV0ZXJzO1xuICAgICAgICAgICAgY29uc3QgayA9IGF3YWl0IG5vcm1hbGl6ZUtleShrZXksIGFsZyk7XG4gICAgICAgICAgICAoeyBjZWssIGVuY3J5cHRlZEtleSwgcGFyYW1ldGVycyB9ID0gYXdhaXQgZW5jcnlwdEtleU1hbmFnZW1lbnQoYWxnLCBlbmMsIGssIHRoaXMuI2NlaywgdGhpcy4ja2V5TWFuYWdlbWVudFBhcmFtZXRlcnMpKTtcbiAgICAgICAgICAgIGlmIChwYXJhbWV0ZXJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMgJiYgdW5wcm90ZWN0ZWQgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuI3VucHJvdGVjdGVkSGVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFVucHJvdGVjdGVkSGVhZGVyKHBhcmFtZXRlcnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4jdW5wcm90ZWN0ZWRIZWFkZXIgPSB7IC4uLnRoaXMuI3VucHJvdGVjdGVkSGVhZGVyLCAuLi5wYXJhbWV0ZXJzIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXRoaXMuI3Byb3RlY3RlZEhlYWRlcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFByb3RlY3RlZEhlYWRlcihwYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuI3Byb3RlY3RlZEhlYWRlciA9IHsgLi4udGhpcy4jcHJvdGVjdGVkSGVhZGVyLCAuLi5wYXJhbWV0ZXJzIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBhZGRpdGlvbmFsRGF0YTtcbiAgICAgICAgbGV0IHByb3RlY3RlZEhlYWRlcjtcbiAgICAgICAgbGV0IGFhZE1lbWJlcjtcbiAgICAgICAgaWYgKHRoaXMuI3Byb3RlY3RlZEhlYWRlcikge1xuICAgICAgICAgICAgcHJvdGVjdGVkSGVhZGVyID0gZW5jb2Rlci5lbmNvZGUoYjY0dShKU09OLnN0cmluZ2lmeSh0aGlzLiNwcm90ZWN0ZWRIZWFkZXIpKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwcm90ZWN0ZWRIZWFkZXIgPSBlbmNvZGVyLmVuY29kZSgnJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuI2FhZCkge1xuICAgICAgICAgICAgYWFkTWVtYmVyID0gYjY0dSh0aGlzLiNhYWQpO1xuICAgICAgICAgICAgYWRkaXRpb25hbERhdGEgPSBjb25jYXQocHJvdGVjdGVkSGVhZGVyLCBlbmNvZGVyLmVuY29kZSgnLicpLCBlbmNvZGVyLmVuY29kZShhYWRNZW1iZXIpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFkZGl0aW9uYWxEYXRhID0gcHJvdGVjdGVkSGVhZGVyO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgY2lwaGVydGV4dCwgdGFnLCBpdiB9ID0gYXdhaXQgZW5jcnlwdChlbmMsIHRoaXMuI3BsYWludGV4dCwgY2VrLCB0aGlzLiNpdiwgYWRkaXRpb25hbERhdGEpO1xuICAgICAgICBjb25zdCBqd2UgPSB7XG4gICAgICAgICAgICBjaXBoZXJ0ZXh0OiBiNjR1KGNpcGhlcnRleHQpLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoaXYpIHtcbiAgICAgICAgICAgIGp3ZS5pdiA9IGI2NHUoaXYpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0YWcpIHtcbiAgICAgICAgICAgIGp3ZS50YWcgPSBiNjR1KHRhZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVuY3J5cHRlZEtleSkge1xuICAgICAgICAgICAgandlLmVuY3J5cHRlZF9rZXkgPSBiNjR1KGVuY3J5cHRlZEtleSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFhZE1lbWJlcikge1xuICAgICAgICAgICAgandlLmFhZCA9IGFhZE1lbWJlcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy4jcHJvdGVjdGVkSGVhZGVyKSB7XG4gICAgICAgICAgICBqd2UucHJvdGVjdGVkID0gZGVjb2Rlci5kZWNvZGUocHJvdGVjdGVkSGVhZGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy4jc2hhcmVkVW5wcm90ZWN0ZWRIZWFkZXIpIHtcbiAgICAgICAgICAgIGp3ZS51bnByb3RlY3RlZCA9IHRoaXMuI3NoYXJlZFVucHJvdGVjdGVkSGVhZGVyO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLiN1bnByb3RlY3RlZEhlYWRlcikge1xuICAgICAgICAgICAgandlLmhlYWRlciA9IHRoaXMuI3VucHJvdGVjdGVkSGVhZGVyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBqd2U7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/jwe/flattened/encrypt.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/jwk/thumbprint.js":
/*!*********************************************************!*\
  !*** ./node_modules/jose/dist/webapi/jwk/thumbprint.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   calculateJwkThumbprint: () => (/* binding */ calculateJwkThumbprint),\n/* harmony export */   calculateJwkThumbprintUri: () => (/* binding */ calculateJwkThumbprintUri)\n/* harmony export */ });\n/* harmony import */ var _lib_digest_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/digest.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/digest.js\");\n/* harmony import */ var _util_base64url_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../util/base64url.js */ \"(middleware)/./node_modules/jose/dist/webapi/util/base64url.js\");\n/* harmony import */ var _util_errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/errors.js */ \"(middleware)/./node_modules/jose/dist/webapi/util/errors.js\");\n/* harmony import */ var _lib_buffer_utils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/buffer_utils.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/buffer_utils.js\");\n/* harmony import */ var _lib_is_key_like_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/is_key_like.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/is_key_like.js\");\n/* harmony import */ var _lib_is_jwk_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/is_jwk.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/is_jwk.js\");\n/* harmony import */ var _key_export_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../key/export.js */ \"(middleware)/./node_modules/jose/dist/webapi/key/export.js\");\n/* harmony import */ var _lib_invalid_key_input_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/invalid_key_input.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/invalid_key_input.js\");\n\n\n\n\n\n\n\n\nconst check = (value, description) => {\n    if (typeof value !== 'string' || !value) {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JWKInvalid(`${description} missing or invalid`);\n    }\n};\nasync function calculateJwkThumbprint(key, digestAlgorithm) {\n    let jwk;\n    if ((0,_lib_is_jwk_js__WEBPACK_IMPORTED_MODULE_1__.isJWK)(key)) {\n        jwk = key;\n    }\n    else if ((0,_lib_is_key_like_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(key)) {\n        jwk = await (0,_key_export_js__WEBPACK_IMPORTED_MODULE_3__.exportJWK)(key);\n    }\n    else {\n        throw new TypeError((0,_lib_invalid_key_input_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(key, 'CryptoKey', 'KeyObject', 'JSON Web Key'));\n    }\n    digestAlgorithm ??= 'sha256';\n    if (digestAlgorithm !== 'sha256' &&\n        digestAlgorithm !== 'sha384' &&\n        digestAlgorithm !== 'sha512') {\n        throw new TypeError('digestAlgorithm must one of \"sha256\", \"sha384\", or \"sha512\"');\n    }\n    let components;\n    switch (jwk.kty) {\n        case 'AKP':\n            check(jwk.alg, '\"alg\" (Algorithm) Parameter');\n            check(jwk.pub, '\"pub\" (Public key) Parameter');\n            components = { alg: jwk.alg, kty: jwk.kty, pub: jwk.pub };\n            break;\n        case 'EC':\n            check(jwk.crv, '\"crv\" (Curve) Parameter');\n            check(jwk.x, '\"x\" (X Coordinate) Parameter');\n            check(jwk.y, '\"y\" (Y Coordinate) Parameter');\n            components = { crv: jwk.crv, kty: jwk.kty, x: jwk.x, y: jwk.y };\n            break;\n        case 'OKP':\n            check(jwk.crv, '\"crv\" (Subtype of Key Pair) Parameter');\n            check(jwk.x, '\"x\" (Public Key) Parameter');\n            components = { crv: jwk.crv, kty: jwk.kty, x: jwk.x };\n            break;\n        case 'RSA':\n            check(jwk.e, '\"e\" (Exponent) Parameter');\n            check(jwk.n, '\"n\" (Modulus) Parameter');\n            components = { e: jwk.e, kty: jwk.kty, n: jwk.n };\n            break;\n        case 'oct':\n            check(jwk.k, '\"k\" (Key Value) Parameter');\n            components = { k: jwk.k, kty: jwk.kty };\n            break;\n        default:\n            throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JOSENotSupported('\"kty\" (Key Type) Parameter missing or unsupported');\n    }\n    const data = _lib_buffer_utils_js__WEBPACK_IMPORTED_MODULE_5__.encoder.encode(JSON.stringify(components));\n    return (0,_util_base64url_js__WEBPACK_IMPORTED_MODULE_6__.encode)(await (0,_lib_digest_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(digestAlgorithm, data));\n}\nasync function calculateJwkThumbprintUri(key, digestAlgorithm) {\n    digestAlgorithm ??= 'sha256';\n    const thumbprint = await calculateJwkThumbprint(key, digestAlgorithm);\n    return `urn:ietf:params:oauth:jwk-thumbprint:sha-${digestAlgorithm.slice(-3)}:${thumbprint}`;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvandrL3RodW1icHJpbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFzQztBQUNnQjtBQUNXO0FBQ2hCO0FBQ0g7QUFDTDtBQUNJO0FBQ2E7QUFDMUQ7QUFDQTtBQUNBLGtCQUFrQix1REFBVSxJQUFJLGFBQWE7QUFDN0M7QUFDQTtBQUNPO0FBQ1A7QUFDQSxRQUFRLHFEQUFLO0FBQ2I7QUFDQTtBQUNBLGFBQWEsK0RBQVM7QUFDdEIsb0JBQW9CLHlEQUFTO0FBQzdCO0FBQ0E7QUFDQSw0QkFBNEIscUVBQWU7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQSxzQkFBc0IsNkRBQWdCO0FBQ3RDO0FBQ0EsaUJBQWlCLHlEQUFPO0FBQ3hCLFdBQVcsMERBQUksT0FBTywwREFBTTtBQUM1QjtBQUNPO0FBQ1A7QUFDQTtBQUNBLHVEQUF1RCwwQkFBMEIsR0FBRyxXQUFXO0FBQy9GIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxqb3NlXFxkaXN0XFx3ZWJhcGlcXGp3a1xcdGh1bWJwcmludC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZGlnZXN0IGZyb20gJy4uL2xpYi9kaWdlc3QuanMnO1xuaW1wb3J0IHsgZW5jb2RlIGFzIGI2NHUgfSBmcm9tICcuLi91dGlsL2Jhc2U2NHVybC5qcyc7XG5pbXBvcnQgeyBKT1NFTm90U3VwcG9ydGVkLCBKV0tJbnZhbGlkIH0gZnJvbSAnLi4vdXRpbC9lcnJvcnMuanMnO1xuaW1wb3J0IHsgZW5jb2RlciB9IGZyb20gJy4uL2xpYi9idWZmZXJfdXRpbHMuanMnO1xuaW1wb3J0IGlzS2V5TGlrZSBmcm9tICcuLi9saWIvaXNfa2V5X2xpa2UuanMnO1xuaW1wb3J0IHsgaXNKV0sgfSBmcm9tICcuLi9saWIvaXNfandrLmpzJztcbmltcG9ydCB7IGV4cG9ydEpXSyB9IGZyb20gJy4uL2tleS9leHBvcnQuanMnO1xuaW1wb3J0IGludmFsaWRLZXlJbnB1dCBmcm9tICcuLi9saWIvaW52YWxpZF9rZXlfaW5wdXQuanMnO1xuY29uc3QgY2hlY2sgPSAodmFsdWUsIGRlc2NyaXB0aW9uKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycgfHwgIXZhbHVlKSB7XG4gICAgICAgIHRocm93IG5ldyBKV0tJbnZhbGlkKGAke2Rlc2NyaXB0aW9ufSBtaXNzaW5nIG9yIGludmFsaWRgKTtcbiAgICB9XG59O1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNhbGN1bGF0ZUp3a1RodW1icHJpbnQoa2V5LCBkaWdlc3RBbGdvcml0aG0pIHtcbiAgICBsZXQgandrO1xuICAgIGlmIChpc0pXSyhrZXkpKSB7XG4gICAgICAgIGp3ayA9IGtleTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNLZXlMaWtlKGtleSkpIHtcbiAgICAgICAgandrID0gYXdhaXQgZXhwb3J0SldLKGtleSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGludmFsaWRLZXlJbnB1dChrZXksICdDcnlwdG9LZXknLCAnS2V5T2JqZWN0JywgJ0pTT04gV2ViIEtleScpKTtcbiAgICB9XG4gICAgZGlnZXN0QWxnb3JpdGhtID8/PSAnc2hhMjU2JztcbiAgICBpZiAoZGlnZXN0QWxnb3JpdGhtICE9PSAnc2hhMjU2JyAmJlxuICAgICAgICBkaWdlc3RBbGdvcml0aG0gIT09ICdzaGEzODQnICYmXG4gICAgICAgIGRpZ2VzdEFsZ29yaXRobSAhPT0gJ3NoYTUxMicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZGlnZXN0QWxnb3JpdGhtIG11c3Qgb25lIG9mIFwic2hhMjU2XCIsIFwic2hhMzg0XCIsIG9yIFwic2hhNTEyXCInKTtcbiAgICB9XG4gICAgbGV0IGNvbXBvbmVudHM7XG4gICAgc3dpdGNoIChqd2sua3R5KSB7XG4gICAgICAgIGNhc2UgJ0FLUCc6XG4gICAgICAgICAgICBjaGVjayhqd2suYWxnLCAnXCJhbGdcIiAoQWxnb3JpdGhtKSBQYXJhbWV0ZXInKTtcbiAgICAgICAgICAgIGNoZWNrKGp3ay5wdWIsICdcInB1YlwiIChQdWJsaWMga2V5KSBQYXJhbWV0ZXInKTtcbiAgICAgICAgICAgIGNvbXBvbmVudHMgPSB7IGFsZzogandrLmFsZywga3R5OiBqd2sua3R5LCBwdWI6IGp3ay5wdWIgfTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdFQyc6XG4gICAgICAgICAgICBjaGVjayhqd2suY3J2LCAnXCJjcnZcIiAoQ3VydmUpIFBhcmFtZXRlcicpO1xuICAgICAgICAgICAgY2hlY2soandrLngsICdcInhcIiAoWCBDb29yZGluYXRlKSBQYXJhbWV0ZXInKTtcbiAgICAgICAgICAgIGNoZWNrKGp3ay55LCAnXCJ5XCIgKFkgQ29vcmRpbmF0ZSkgUGFyYW1ldGVyJyk7XG4gICAgICAgICAgICBjb21wb25lbnRzID0geyBjcnY6IGp3ay5jcnYsIGt0eTogandrLmt0eSwgeDogandrLngsIHk6IGp3ay55IH07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnT0tQJzpcbiAgICAgICAgICAgIGNoZWNrKGp3ay5jcnYsICdcImNydlwiIChTdWJ0eXBlIG9mIEtleSBQYWlyKSBQYXJhbWV0ZXInKTtcbiAgICAgICAgICAgIGNoZWNrKGp3ay54LCAnXCJ4XCIgKFB1YmxpYyBLZXkpIFBhcmFtZXRlcicpO1xuICAgICAgICAgICAgY29tcG9uZW50cyA9IHsgY3J2OiBqd2suY3J2LCBrdHk6IGp3ay5rdHksIHg6IGp3ay54IH07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnUlNBJzpcbiAgICAgICAgICAgIGNoZWNrKGp3ay5lLCAnXCJlXCIgKEV4cG9uZW50KSBQYXJhbWV0ZXInKTtcbiAgICAgICAgICAgIGNoZWNrKGp3ay5uLCAnXCJuXCIgKE1vZHVsdXMpIFBhcmFtZXRlcicpO1xuICAgICAgICAgICAgY29tcG9uZW50cyA9IHsgZTogandrLmUsIGt0eTogandrLmt0eSwgbjogandrLm4gfTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdvY3QnOlxuICAgICAgICAgICAgY2hlY2soandrLmssICdcImtcIiAoS2V5IFZhbHVlKSBQYXJhbWV0ZXInKTtcbiAgICAgICAgICAgIGNvbXBvbmVudHMgPSB7IGs6IGp3ay5rLCBrdHk6IGp3ay5rdHkgfTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEpPU0VOb3RTdXBwb3J0ZWQoJ1wia3R5XCIgKEtleSBUeXBlKSBQYXJhbWV0ZXIgbWlzc2luZyBvciB1bnN1cHBvcnRlZCcpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gZW5jb2Rlci5lbmNvZGUoSlNPTi5zdHJpbmdpZnkoY29tcG9uZW50cykpO1xuICAgIHJldHVybiBiNjR1KGF3YWl0IGRpZ2VzdChkaWdlc3RBbGdvcml0aG0sIGRhdGEpKTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjYWxjdWxhdGVKd2tUaHVtYnByaW50VXJpKGtleSwgZGlnZXN0QWxnb3JpdGhtKSB7XG4gICAgZGlnZXN0QWxnb3JpdGhtID8/PSAnc2hhMjU2JztcbiAgICBjb25zdCB0aHVtYnByaW50ID0gYXdhaXQgY2FsY3VsYXRlSndrVGh1bWJwcmludChrZXksIGRpZ2VzdEFsZ29yaXRobSk7XG4gICAgcmV0dXJuIGB1cm46aWV0ZjpwYXJhbXM6b2F1dGg6andrLXRodW1icHJpbnQ6c2hhLSR7ZGlnZXN0QWxnb3JpdGhtLnNsaWNlKC0zKX06JHt0aHVtYnByaW50fWA7XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/jwk/thumbprint.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/jwks/local.js":
/*!*****************************************************!*\
  !*** ./node_modules/jose/dist/webapi/jwks/local.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createLocalJWKSet: () => (/* binding */ createLocalJWKSet)\n/* harmony export */ });\n/* harmony import */ var _key_import_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../key/import.js */ \"(middleware)/./node_modules/jose/dist/webapi/key/import.js\");\n/* harmony import */ var _util_errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/errors.js */ \"(middleware)/./node_modules/jose/dist/webapi/util/errors.js\");\n/* harmony import */ var _lib_is_object_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/is_object.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/is_object.js\");\n\n\n\nfunction getKtyFromAlg(alg) {\n    switch (typeof alg === 'string' && alg.slice(0, 2)) {\n        case 'RS':\n        case 'PS':\n            return 'RSA';\n        case 'ES':\n            return 'EC';\n        case 'Ed':\n            return 'OKP';\n        case 'ML':\n            return 'AKP';\n        default:\n            throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JOSENotSupported('Unsupported \"alg\" value for a JSON Web Key Set');\n    }\n}\nfunction isJWKSLike(jwks) {\n    return (jwks &&\n        typeof jwks === 'object' &&\n        Array.isArray(jwks.keys) &&\n        jwks.keys.every(isJWKLike));\n}\nfunction isJWKLike(key) {\n    return (0,_lib_is_object_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(key);\n}\nclass LocalJWKSet {\n    #jwks;\n    #cached = new WeakMap();\n    constructor(jwks) {\n        if (!isJWKSLike(jwks)) {\n            throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JWKSInvalid('JSON Web Key Set malformed');\n        }\n        this.#jwks = structuredClone(jwks);\n    }\n    jwks() {\n        return this.#jwks;\n    }\n    async getKey(protectedHeader, token) {\n        const { alg, kid } = { ...protectedHeader, ...token?.header };\n        const kty = getKtyFromAlg(alg);\n        const candidates = this.#jwks.keys.filter((jwk) => {\n            let candidate = kty === jwk.kty;\n            if (candidate && typeof kid === 'string') {\n                candidate = kid === jwk.kid;\n            }\n            if (candidate && (typeof jwk.alg === 'string' || kty === 'AKP')) {\n                candidate = alg === jwk.alg;\n            }\n            if (candidate && typeof jwk.use === 'string') {\n                candidate = jwk.use === 'sig';\n            }\n            if (candidate && Array.isArray(jwk.key_ops)) {\n                candidate = jwk.key_ops.includes('verify');\n            }\n            if (candidate) {\n                switch (alg) {\n                    case 'ES256':\n                        candidate = jwk.crv === 'P-256';\n                        break;\n                    case 'ES384':\n                        candidate = jwk.crv === 'P-384';\n                        break;\n                    case 'ES512':\n                        candidate = jwk.crv === 'P-521';\n                        break;\n                    case 'Ed25519':\n                    case 'EdDSA':\n                        candidate = jwk.crv === 'Ed25519';\n                        break;\n                }\n            }\n            return candidate;\n        });\n        const { 0: jwk, length } = candidates;\n        if (length === 0) {\n            throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JWKSNoMatchingKey();\n        }\n        if (length !== 1) {\n            const error = new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JWKSMultipleMatchingKeys();\n            const _cached = this.#cached;\n            error[Symbol.asyncIterator] = async function* () {\n                for (const jwk of candidates) {\n                    try {\n                        yield await importWithAlgCache(_cached, jwk, alg);\n                    }\n                    catch { }\n                }\n            };\n            throw error;\n        }\n        return importWithAlgCache(this.#cached, jwk, alg);\n    }\n}\nasync function importWithAlgCache(cache, jwk, alg) {\n    const cached = cache.get(jwk) || cache.set(jwk, {}).get(jwk);\n    if (cached[alg] === undefined) {\n        const key = await (0,_key_import_js__WEBPACK_IMPORTED_MODULE_2__.importJWK)({ ...jwk, ext: true }, alg);\n        if (key instanceof Uint8Array || key.type !== 'public') {\n            throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JWKSInvalid('JSON Web Key Set members must be public keys');\n        }\n        cached[alg] = key;\n    }\n    return cached[alg];\n}\nfunction createLocalJWKSet(jwks) {\n    const set = new LocalJWKSet(jwks);\n    const localJWKSet = async (protectedHeader, token) => set.getKey(protectedHeader, token);\n    Object.defineProperties(localJWKSet, {\n        jwks: {\n            value: () => structuredClone(set.jwks()),\n            enumerable: false,\n            configurable: false,\n            writable: false,\n        },\n    });\n    return localJWKSet;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvandrcy9sb2NhbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTZDO0FBQ21FO0FBQ3JFO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw2REFBZ0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyw2REFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isd0RBQVc7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsV0FBVyxJQUFJO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxnQkFBZ0IsaUJBQWlCO0FBQ2pDO0FBQ0Esc0JBQXNCLDhEQUFpQjtBQUN2QztBQUNBO0FBQ0EsOEJBQThCLHFFQUF3QjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0Q7QUFDdEQ7QUFDQSwwQkFBMEIseURBQVMsR0FBRyxtQkFBbUI7QUFDekQ7QUFDQSxzQkFBc0Isd0RBQVc7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcam9zZVxcZGlzdFxcd2ViYXBpXFxqd2tzXFxsb2NhbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpbXBvcnRKV0sgfSBmcm9tICcuLi9rZXkvaW1wb3J0LmpzJztcbmltcG9ydCB7IEpXS1NJbnZhbGlkLCBKT1NFTm90U3VwcG9ydGVkLCBKV0tTTm9NYXRjaGluZ0tleSwgSldLU011bHRpcGxlTWF0Y2hpbmdLZXlzLCB9IGZyb20gJy4uL3V0aWwvZXJyb3JzLmpzJztcbmltcG9ydCBpc09iamVjdCBmcm9tICcuLi9saWIvaXNfb2JqZWN0LmpzJztcbmZ1bmN0aW9uIGdldEt0eUZyb21BbGcoYWxnKSB7XG4gICAgc3dpdGNoICh0eXBlb2YgYWxnID09PSAnc3RyaW5nJyAmJiBhbGcuc2xpY2UoMCwgMikpIHtcbiAgICAgICAgY2FzZSAnUlMnOlxuICAgICAgICBjYXNlICdQUyc6XG4gICAgICAgICAgICByZXR1cm4gJ1JTQSc7XG4gICAgICAgIGNhc2UgJ0VTJzpcbiAgICAgICAgICAgIHJldHVybiAnRUMnO1xuICAgICAgICBjYXNlICdFZCc6XG4gICAgICAgICAgICByZXR1cm4gJ09LUCc7XG4gICAgICAgIGNhc2UgJ01MJzpcbiAgICAgICAgICAgIHJldHVybiAnQUtQJztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBKT1NFTm90U3VwcG9ydGVkKCdVbnN1cHBvcnRlZCBcImFsZ1wiIHZhbHVlIGZvciBhIEpTT04gV2ViIEtleSBTZXQnKTtcbiAgICB9XG59XG5mdW5jdGlvbiBpc0pXS1NMaWtlKGp3a3MpIHtcbiAgICByZXR1cm4gKGp3a3MgJiZcbiAgICAgICAgdHlwZW9mIGp3a3MgPT09ICdvYmplY3QnICYmXG4gICAgICAgIEFycmF5LmlzQXJyYXkoandrcy5rZXlzKSAmJlxuICAgICAgICBqd2tzLmtleXMuZXZlcnkoaXNKV0tMaWtlKSk7XG59XG5mdW5jdGlvbiBpc0pXS0xpa2Uoa2V5KSB7XG4gICAgcmV0dXJuIGlzT2JqZWN0KGtleSk7XG59XG5jbGFzcyBMb2NhbEpXS1NldCB7XG4gICAgI2p3a3M7XG4gICAgI2NhY2hlZCA9IG5ldyBXZWFrTWFwKCk7XG4gICAgY29uc3RydWN0b3Ioandrcykge1xuICAgICAgICBpZiAoIWlzSldLU0xpa2UoandrcykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBKV0tTSW52YWxpZCgnSlNPTiBXZWIgS2V5IFNldCBtYWxmb3JtZWQnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiNqd2tzID0gc3RydWN0dXJlZENsb25lKGp3a3MpO1xuICAgIH1cbiAgICBqd2tzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jandrcztcbiAgICB9XG4gICAgYXN5bmMgZ2V0S2V5KHByb3RlY3RlZEhlYWRlciwgdG9rZW4pIHtcbiAgICAgICAgY29uc3QgeyBhbGcsIGtpZCB9ID0geyAuLi5wcm90ZWN0ZWRIZWFkZXIsIC4uLnRva2VuPy5oZWFkZXIgfTtcbiAgICAgICAgY29uc3Qga3R5ID0gZ2V0S3R5RnJvbUFsZyhhbGcpO1xuICAgICAgICBjb25zdCBjYW5kaWRhdGVzID0gdGhpcy4jandrcy5rZXlzLmZpbHRlcigoandrKSA9PiB7XG4gICAgICAgICAgICBsZXQgY2FuZGlkYXRlID0ga3R5ID09PSBqd2sua3R5O1xuICAgICAgICAgICAgaWYgKGNhbmRpZGF0ZSAmJiB0eXBlb2Yga2lkID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGNhbmRpZGF0ZSA9IGtpZCA9PT0gandrLmtpZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjYW5kaWRhdGUgJiYgKHR5cGVvZiBqd2suYWxnID09PSAnc3RyaW5nJyB8fCBrdHkgPT09ICdBS1AnKSkge1xuICAgICAgICAgICAgICAgIGNhbmRpZGF0ZSA9IGFsZyA9PT0gandrLmFsZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjYW5kaWRhdGUgJiYgdHlwZW9mIGp3ay51c2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgY2FuZGlkYXRlID0gandrLnVzZSA9PT0gJ3NpZyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2FuZGlkYXRlICYmIEFycmF5LmlzQXJyYXkoandrLmtleV9vcHMpKSB7XG4gICAgICAgICAgICAgICAgY2FuZGlkYXRlID0gandrLmtleV9vcHMuaW5jbHVkZXMoJ3ZlcmlmeScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNhbmRpZGF0ZSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoYWxnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ0VTMjU2JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbmRpZGF0ZSA9IGp3ay5jcnYgPT09ICdQLTI1Nic7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnRVMzODQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FuZGlkYXRlID0gandrLmNydiA9PT0gJ1AtMzg0JztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdFUzUxMic6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5kaWRhdGUgPSBqd2suY3J2ID09PSAnUC01MjEnO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ0VkMjU1MTknOlxuICAgICAgICAgICAgICAgICAgICBjYXNlICdFZERTQSc6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5kaWRhdGUgPSBqd2suY3J2ID09PSAnRWQyNTUxOSc7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2FuZGlkYXRlO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgeyAwOiBqd2ssIGxlbmd0aCB9ID0gY2FuZGlkYXRlcztcbiAgICAgICAgaWYgKGxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEpXS1NOb01hdGNoaW5nS2V5KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxlbmd0aCAhPT0gMSkge1xuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgSldLU011bHRpcGxlTWF0Y2hpbmdLZXlzKCk7XG4gICAgICAgICAgICBjb25zdCBfY2FjaGVkID0gdGhpcy4jY2FjaGVkO1xuICAgICAgICAgICAgZXJyb3JbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gYXN5bmMgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGp3ayBvZiBjYW5kaWRhdGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB5aWVsZCBhd2FpdCBpbXBvcnRXaXRoQWxnQ2FjaGUoX2NhY2hlZCwgandrLCBhbGcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIHsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW1wb3J0V2l0aEFsZ0NhY2hlKHRoaXMuI2NhY2hlZCwgandrLCBhbGcpO1xuICAgIH1cbn1cbmFzeW5jIGZ1bmN0aW9uIGltcG9ydFdpdGhBbGdDYWNoZShjYWNoZSwgandrLCBhbGcpIHtcbiAgICBjb25zdCBjYWNoZWQgPSBjYWNoZS5nZXQoandrKSB8fCBjYWNoZS5zZXQoandrLCB7fSkuZ2V0KGp3ayk7XG4gICAgaWYgKGNhY2hlZFthbGddID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gYXdhaXQgaW1wb3J0SldLKHsgLi4uandrLCBleHQ6IHRydWUgfSwgYWxnKTtcbiAgICAgICAgaWYgKGtleSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgfHwga2V5LnR5cGUgIT09ICdwdWJsaWMnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSldLU0ludmFsaWQoJ0pTT04gV2ViIEtleSBTZXQgbWVtYmVycyBtdXN0IGJlIHB1YmxpYyBrZXlzJyk7XG4gICAgICAgIH1cbiAgICAgICAgY2FjaGVkW2FsZ10gPSBrZXk7XG4gICAgfVxuICAgIHJldHVybiBjYWNoZWRbYWxnXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVMb2NhbEpXS1NldChqd2tzKSB7XG4gICAgY29uc3Qgc2V0ID0gbmV3IExvY2FsSldLU2V0KGp3a3MpO1xuICAgIGNvbnN0IGxvY2FsSldLU2V0ID0gYXN5bmMgKHByb3RlY3RlZEhlYWRlciwgdG9rZW4pID0+IHNldC5nZXRLZXkocHJvdGVjdGVkSGVhZGVyLCB0b2tlbik7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobG9jYWxKV0tTZXQsIHtcbiAgICAgICAgandrczoge1xuICAgICAgICAgICAgdmFsdWU6ICgpID0+IHN0cnVjdHVyZWRDbG9uZShzZXQuandrcygpKSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICByZXR1cm4gbG9jYWxKV0tTZXQ7XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/jwks/local.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/jwks/remote.js":
/*!******************************************************!*\
  !*** ./node_modules/jose/dist/webapi/jwks/remote.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createRemoteJWKSet: () => (/* binding */ createRemoteJWKSet),\n/* harmony export */   customFetch: () => (/* binding */ customFetch),\n/* harmony export */   jwksCache: () => (/* binding */ jwksCache)\n/* harmony export */ });\n/* harmony import */ var _util_errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/errors.js */ \"(middleware)/./node_modules/jose/dist/webapi/util/errors.js\");\n/* harmony import */ var _local_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./local.js */ \"(middleware)/./node_modules/jose/dist/webapi/jwks/local.js\");\n/* harmony import */ var _lib_is_object_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/is_object.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/is_object.js\");\n\n\n\nfunction isCloudflareWorkers() {\n    return (typeof WebSocketPair !== 'undefined' ||\n        (typeof navigator !== 'undefined' && navigator.userAgent === 'Cloudflare-Workers') ||\n        ( true && \"edge-runtime\" === 'vercel'));\n}\nlet USER_AGENT;\nif (typeof navigator === 'undefined' || !navigator.userAgent?.startsWith?.('Mozilla/5.0 ')) {\n    const NAME = 'jose';\n    const VERSION = 'v6.1.0';\n    USER_AGENT = `${NAME}/${VERSION}`;\n}\nconst customFetch = Symbol();\nasync function fetchJwks(url, headers, signal, fetchImpl = fetch) {\n    const response = await fetchImpl(url, {\n        method: 'GET',\n        signal,\n        redirect: 'manual',\n        headers,\n    }).catch((err) => {\n        if (err.name === 'TimeoutError') {\n            throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JWKSTimeout();\n        }\n        throw err;\n    });\n    if (response.status !== 200) {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JOSEError('Expected 200 OK from the JSON Web Key Set HTTP response');\n    }\n    try {\n        return await response.json();\n    }\n    catch {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JOSEError('Failed to parse the JSON Web Key Set HTTP response as JSON');\n    }\n}\nconst jwksCache = Symbol();\nfunction isFreshJwksCache(input, cacheMaxAge) {\n    if (typeof input !== 'object' || input === null) {\n        return false;\n    }\n    if (!('uat' in input) || typeof input.uat !== 'number' || Date.now() - input.uat >= cacheMaxAge) {\n        return false;\n    }\n    if (!('jwks' in input) ||\n        !(0,_lib_is_object_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(input.jwks) ||\n        !Array.isArray(input.jwks.keys) ||\n        !Array.prototype.every.call(input.jwks.keys, _lib_is_object_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])) {\n        return false;\n    }\n    return true;\n}\nclass RemoteJWKSet {\n    #url;\n    #timeoutDuration;\n    #cooldownDuration;\n    #cacheMaxAge;\n    #jwksTimestamp;\n    #pendingFetch;\n    #headers;\n    #customFetch;\n    #local;\n    #cache;\n    constructor(url, options) {\n        if (!(url instanceof URL)) {\n            throw new TypeError('url must be an instance of URL');\n        }\n        this.#url = new URL(url.href);\n        this.#timeoutDuration =\n            typeof options?.timeoutDuration === 'number' ? options?.timeoutDuration : 5000;\n        this.#cooldownDuration =\n            typeof options?.cooldownDuration === 'number' ? options?.cooldownDuration : 30000;\n        this.#cacheMaxAge = typeof options?.cacheMaxAge === 'number' ? options?.cacheMaxAge : 600000;\n        this.#headers = new Headers(options?.headers);\n        if (USER_AGENT && !this.#headers.has('User-Agent')) {\n            this.#headers.set('User-Agent', USER_AGENT);\n        }\n        if (!this.#headers.has('accept')) {\n            this.#headers.set('accept', 'application/json');\n            this.#headers.append('accept', 'application/jwk-set+json');\n        }\n        this.#customFetch = options?.[customFetch];\n        if (options?.[jwksCache] !== undefined) {\n            this.#cache = options?.[jwksCache];\n            if (isFreshJwksCache(options?.[jwksCache], this.#cacheMaxAge)) {\n                this.#jwksTimestamp = this.#cache.uat;\n                this.#local = (0,_local_js__WEBPACK_IMPORTED_MODULE_2__.createLocalJWKSet)(this.#cache.jwks);\n            }\n        }\n    }\n    pendingFetch() {\n        return !!this.#pendingFetch;\n    }\n    coolingDown() {\n        return typeof this.#jwksTimestamp === 'number'\n            ? Date.now() < this.#jwksTimestamp + this.#cooldownDuration\n            : false;\n    }\n    fresh() {\n        return typeof this.#jwksTimestamp === 'number'\n            ? Date.now() < this.#jwksTimestamp + this.#cacheMaxAge\n            : false;\n    }\n    jwks() {\n        return this.#local?.jwks();\n    }\n    async getKey(protectedHeader, token) {\n        if (!this.#local || !this.fresh()) {\n            await this.reload();\n        }\n        try {\n            return await this.#local(protectedHeader, token);\n        }\n        catch (err) {\n            if (err instanceof _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JWKSNoMatchingKey) {\n                if (this.coolingDown() === false) {\n                    await this.reload();\n                    return this.#local(protectedHeader, token);\n                }\n            }\n            throw err;\n        }\n    }\n    async reload() {\n        if (this.#pendingFetch && isCloudflareWorkers()) {\n            this.#pendingFetch = undefined;\n        }\n        this.#pendingFetch ||= fetchJwks(this.#url.href, this.#headers, AbortSignal.timeout(this.#timeoutDuration), this.#customFetch)\n            .then((json) => {\n            this.#local = (0,_local_js__WEBPACK_IMPORTED_MODULE_2__.createLocalJWKSet)(json);\n            if (this.#cache) {\n                this.#cache.uat = Date.now();\n                this.#cache.jwks = json;\n            }\n            this.#jwksTimestamp = Date.now();\n            this.#pendingFetch = undefined;\n        })\n            .catch((err) => {\n            this.#pendingFetch = undefined;\n            throw err;\n        });\n        await this.#pendingFetch;\n    }\n}\nfunction createRemoteJWKSet(url, options) {\n    const set = new RemoteJWKSet(url, options);\n    const remoteJWKSet = async (protectedHeader, token) => set.getKey(protectedHeader, token);\n    Object.defineProperties(remoteJWKSet, {\n        coolingDown: {\n            get: () => set.coolingDown(),\n            enumerable: true,\n            configurable: false,\n        },\n        fresh: {\n            get: () => set.fresh(),\n            enumerable: true,\n            configurable: false,\n        },\n        reload: {\n            value: () => set.reload(),\n            enumerable: true,\n            configurable: false,\n            writable: false,\n        },\n        reloading: {\n            get: () => set.pendingFetch(),\n            enumerable: true,\n            configurable: false,\n        },\n        jwks: {\n            value: () => set.jwks(),\n            enumerable: true,\n            configurable: false,\n            writable: false,\n        },\n    });\n    return remoteJWKSet;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvandrcy9yZW1vdGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQThFO0FBQy9CO0FBQ0o7QUFDM0M7QUFDQTtBQUNBO0FBQ0EsU0FBUyxLQUFrQyxJQUFJLGNBQVc7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixLQUFLLEdBQUcsUUFBUTtBQUNwQztBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0Esc0JBQXNCLHdEQUFXO0FBQ2pDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxrQkFBa0Isc0RBQVM7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixzREFBUztBQUMzQjtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyw2REFBUTtBQUNqQjtBQUNBLHFEQUFxRCx5REFBUTtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLDREQUFpQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsOERBQWlCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsNERBQWlCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0EiLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXGpvc2VcXGRpc3RcXHdlYmFwaVxcandrc1xccmVtb3RlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEpPU0VFcnJvciwgSldLU05vTWF0Y2hpbmdLZXksIEpXS1NUaW1lb3V0IH0gZnJvbSAnLi4vdXRpbC9lcnJvcnMuanMnO1xuaW1wb3J0IHsgY3JlYXRlTG9jYWxKV0tTZXQgfSBmcm9tICcuL2xvY2FsLmpzJztcbmltcG9ydCBpc09iamVjdCBmcm9tICcuLi9saWIvaXNfb2JqZWN0LmpzJztcbmZ1bmN0aW9uIGlzQ2xvdWRmbGFyZVdvcmtlcnMoKSB7XG4gICAgcmV0dXJuICh0eXBlb2YgV2ViU29ja2V0UGFpciAhPT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgICAgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgPT09ICdDbG91ZGZsYXJlLVdvcmtlcnMnKSB8fFxuICAgICAgICAodHlwZW9mIEVkZ2VSdW50aW1lICE9PSAndW5kZWZpbmVkJyAmJiBFZGdlUnVudGltZSA9PT0gJ3ZlcmNlbCcpKTtcbn1cbmxldCBVU0VSX0FHRU5UO1xuaWYgKHR5cGVvZiBuYXZpZ2F0b3IgPT09ICd1bmRlZmluZWQnIHx8ICFuYXZpZ2F0b3IudXNlckFnZW50Py5zdGFydHNXaXRoPy4oJ01vemlsbGEvNS4wICcpKSB7XG4gICAgY29uc3QgTkFNRSA9ICdqb3NlJztcbiAgICBjb25zdCBWRVJTSU9OID0gJ3Y2LjEuMCc7XG4gICAgVVNFUl9BR0VOVCA9IGAke05BTUV9LyR7VkVSU0lPTn1gO1xufVxuZXhwb3J0IGNvbnN0IGN1c3RvbUZldGNoID0gU3ltYm9sKCk7XG5hc3luYyBmdW5jdGlvbiBmZXRjaEp3a3ModXJsLCBoZWFkZXJzLCBzaWduYWwsIGZldGNoSW1wbCA9IGZldGNoKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaEltcGwodXJsLCB7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIHNpZ25hbCxcbiAgICAgICAgcmVkaXJlY3Q6ICdtYW51YWwnLFxuICAgICAgICBoZWFkZXJzLFxuICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgaWYgKGVyci5uYW1lID09PSAnVGltZW91dEVycm9yJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEpXS1NUaW1lb3V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZXJyO1xuICAgIH0pO1xuICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IDIwMCkge1xuICAgICAgICB0aHJvdyBuZXcgSk9TRUVycm9yKCdFeHBlY3RlZCAyMDAgT0sgZnJvbSB0aGUgSlNPTiBXZWIgS2V5IFNldCBIVFRQIHJlc3BvbnNlJyk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgfVxuICAgIGNhdGNoIHtcbiAgICAgICAgdGhyb3cgbmV3IEpPU0VFcnJvcignRmFpbGVkIHRvIHBhcnNlIHRoZSBKU09OIFdlYiBLZXkgU2V0IEhUVFAgcmVzcG9uc2UgYXMgSlNPTicpO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBqd2tzQ2FjaGUgPSBTeW1ib2woKTtcbmZ1bmN0aW9uIGlzRnJlc2hKd2tzQ2FjaGUoaW5wdXQsIGNhY2hlTWF4QWdlKSB7XG4gICAgaWYgKHR5cGVvZiBpbnB1dCAhPT0gJ29iamVjdCcgfHwgaW5wdXQgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoISgndWF0JyBpbiBpbnB1dCkgfHwgdHlwZW9mIGlucHV0LnVhdCAhPT0gJ251bWJlcicgfHwgRGF0ZS5ub3coKSAtIGlucHV0LnVhdCA+PSBjYWNoZU1heEFnZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICghKCdqd2tzJyBpbiBpbnB1dCkgfHxcbiAgICAgICAgIWlzT2JqZWN0KGlucHV0Lmp3a3MpIHx8XG4gICAgICAgICFBcnJheS5pc0FycmF5KGlucHV0Lmp3a3Mua2V5cykgfHxcbiAgICAgICAgIUFycmF5LnByb3RvdHlwZS5ldmVyeS5jYWxsKGlucHV0Lmp3a3Mua2V5cywgaXNPYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5jbGFzcyBSZW1vdGVKV0tTZXQge1xuICAgICN1cmw7XG4gICAgI3RpbWVvdXREdXJhdGlvbjtcbiAgICAjY29vbGRvd25EdXJhdGlvbjtcbiAgICAjY2FjaGVNYXhBZ2U7XG4gICAgI2p3a3NUaW1lc3RhbXA7XG4gICAgI3BlbmRpbmdGZXRjaDtcbiAgICAjaGVhZGVycztcbiAgICAjY3VzdG9tRmV0Y2g7XG4gICAgI2xvY2FsO1xuICAgICNjYWNoZTtcbiAgICBjb25zdHJ1Y3Rvcih1cmwsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCEodXJsIGluc3RhbmNlb2YgVVJMKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigndXJsIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgVVJMJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4jdXJsID0gbmV3IFVSTCh1cmwuaHJlZik7XG4gICAgICAgIHRoaXMuI3RpbWVvdXREdXJhdGlvbiA9XG4gICAgICAgICAgICB0eXBlb2Ygb3B0aW9ucz8udGltZW91dER1cmF0aW9uID09PSAnbnVtYmVyJyA/IG9wdGlvbnM/LnRpbWVvdXREdXJhdGlvbiA6IDUwMDA7XG4gICAgICAgIHRoaXMuI2Nvb2xkb3duRHVyYXRpb24gPVxuICAgICAgICAgICAgdHlwZW9mIG9wdGlvbnM/LmNvb2xkb3duRHVyYXRpb24gPT09ICdudW1iZXInID8gb3B0aW9ucz8uY29vbGRvd25EdXJhdGlvbiA6IDMwMDAwO1xuICAgICAgICB0aGlzLiNjYWNoZU1heEFnZSA9IHR5cGVvZiBvcHRpb25zPy5jYWNoZU1heEFnZSA9PT0gJ251bWJlcicgPyBvcHRpb25zPy5jYWNoZU1heEFnZSA6IDYwMDAwMDtcbiAgICAgICAgdGhpcy4jaGVhZGVycyA9IG5ldyBIZWFkZXJzKG9wdGlvbnM/LmhlYWRlcnMpO1xuICAgICAgICBpZiAoVVNFUl9BR0VOVCAmJiAhdGhpcy4jaGVhZGVycy5oYXMoJ1VzZXItQWdlbnQnKSkge1xuICAgICAgICAgICAgdGhpcy4jaGVhZGVycy5zZXQoJ1VzZXItQWdlbnQnLCBVU0VSX0FHRU5UKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuI2hlYWRlcnMuaGFzKCdhY2NlcHQnKSkge1xuICAgICAgICAgICAgdGhpcy4jaGVhZGVycy5zZXQoJ2FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgICAgICB0aGlzLiNoZWFkZXJzLmFwcGVuZCgnYWNjZXB0JywgJ2FwcGxpY2F0aW9uL2p3ay1zZXQranNvbicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuI2N1c3RvbUZldGNoID0gb3B0aW9ucz8uW2N1c3RvbUZldGNoXTtcbiAgICAgICAgaWYgKG9wdGlvbnM/Lltqd2tzQ2FjaGVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuI2NhY2hlID0gb3B0aW9ucz8uW2p3a3NDYWNoZV07XG4gICAgICAgICAgICBpZiAoaXNGcmVzaEp3a3NDYWNoZShvcHRpb25zPy5bandrc0NhY2hlXSwgdGhpcy4jY2FjaGVNYXhBZ2UpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4jandrc1RpbWVzdGFtcCA9IHRoaXMuI2NhY2hlLnVhdDtcbiAgICAgICAgICAgICAgICB0aGlzLiNsb2NhbCA9IGNyZWF0ZUxvY2FsSldLU2V0KHRoaXMuI2NhY2hlLmp3a3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHBlbmRpbmdGZXRjaCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy4jcGVuZGluZ0ZldGNoO1xuICAgIH1cbiAgICBjb29saW5nRG93bigpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB0aGlzLiNqd2tzVGltZXN0YW1wID09PSAnbnVtYmVyJ1xuICAgICAgICAgICAgPyBEYXRlLm5vdygpIDwgdGhpcy4jandrc1RpbWVzdGFtcCArIHRoaXMuI2Nvb2xkb3duRHVyYXRpb25cbiAgICAgICAgICAgIDogZmFsc2U7XG4gICAgfVxuICAgIGZyZXNoKCkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHRoaXMuI2p3a3NUaW1lc3RhbXAgPT09ICdudW1iZXInXG4gICAgICAgICAgICA/IERhdGUubm93KCkgPCB0aGlzLiNqd2tzVGltZXN0YW1wICsgdGhpcy4jY2FjaGVNYXhBZ2VcbiAgICAgICAgICAgIDogZmFsc2U7XG4gICAgfVxuICAgIGp3a3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNsb2NhbD8uandrcygpO1xuICAgIH1cbiAgICBhc3luYyBnZXRLZXkocHJvdGVjdGVkSGVhZGVyLCB0b2tlbikge1xuICAgICAgICBpZiAoIXRoaXMuI2xvY2FsIHx8ICF0aGlzLmZyZXNoKCkpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucmVsb2FkKCk7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLiNsb2NhbChwcm90ZWN0ZWRIZWFkZXIsIHRva2VuKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2YgSldLU05vTWF0Y2hpbmdLZXkpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb29saW5nRG93bigpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4jbG9jYWwocHJvdGVjdGVkSGVhZGVyLCB0b2tlbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIHJlbG9hZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuI3BlbmRpbmdGZXRjaCAmJiBpc0Nsb3VkZmxhcmVXb3JrZXJzKCkpIHtcbiAgICAgICAgICAgIHRoaXMuI3BlbmRpbmdGZXRjaCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiNwZW5kaW5nRmV0Y2ggfHw9IGZldGNoSndrcyh0aGlzLiN1cmwuaHJlZiwgdGhpcy4jaGVhZGVycywgQWJvcnRTaWduYWwudGltZW91dCh0aGlzLiN0aW1lb3V0RHVyYXRpb24pLCB0aGlzLiNjdXN0b21GZXRjaClcbiAgICAgICAgICAgIC50aGVuKChqc29uKSA9PiB7XG4gICAgICAgICAgICB0aGlzLiNsb2NhbCA9IGNyZWF0ZUxvY2FsSldLU2V0KGpzb24pO1xuICAgICAgICAgICAgaWYgKHRoaXMuI2NhY2hlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4jY2FjaGUudWF0ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgICAgICB0aGlzLiNjYWNoZS5qd2tzID0ganNvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuI2p3a3NUaW1lc3RhbXAgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgdGhpcy4jcGVuZGluZ0ZldGNoID0gdW5kZWZpbmVkO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIHRoaXMuI3BlbmRpbmdGZXRjaCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfSk7XG4gICAgICAgIGF3YWl0IHRoaXMuI3BlbmRpbmdGZXRjaDtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUmVtb3RlSldLU2V0KHVybCwgb3B0aW9ucykge1xuICAgIGNvbnN0IHNldCA9IG5ldyBSZW1vdGVKV0tTZXQodXJsLCBvcHRpb25zKTtcbiAgICBjb25zdCByZW1vdGVKV0tTZXQgPSBhc3luYyAocHJvdGVjdGVkSGVhZGVyLCB0b2tlbikgPT4gc2V0LmdldEtleShwcm90ZWN0ZWRIZWFkZXIsIHRva2VuKTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhyZW1vdGVKV0tTZXQsIHtcbiAgICAgICAgY29vbGluZ0Rvd246IHtcbiAgICAgICAgICAgIGdldDogKCkgPT4gc2V0LmNvb2xpbmdEb3duKCksXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgICAgZnJlc2g6IHtcbiAgICAgICAgICAgIGdldDogKCkgPT4gc2V0LmZyZXNoKCksXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgICAgcmVsb2FkOiB7XG4gICAgICAgICAgICB2YWx1ZTogKCkgPT4gc2V0LnJlbG9hZCgpLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICAgIHJlbG9hZGluZzoge1xuICAgICAgICAgICAgZ2V0OiAoKSA9PiBzZXQucGVuZGluZ0ZldGNoKCksXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgICAgandrczoge1xuICAgICAgICAgICAgdmFsdWU6ICgpID0+IHNldC5qd2tzKCksXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICByZXR1cm4gcmVtb3RlSldLU2V0O1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/jwks/remote.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/jws/compact/verify.js":
/*!*************************************************************!*\
  !*** ./node_modules/jose/dist/webapi/jws/compact/verify.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   compactVerify: () => (/* binding */ compactVerify)\n/* harmony export */ });\n/* harmony import */ var _flattened_verify_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../flattened/verify.js */ \"(middleware)/./node_modules/jose/dist/webapi/jws/flattened/verify.js\");\n/* harmony import */ var _util_errors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/errors.js */ \"(middleware)/./node_modules/jose/dist/webapi/util/errors.js\");\n/* harmony import */ var _lib_buffer_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/buffer_utils.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/buffer_utils.js\");\n\n\n\nasync function compactVerify(jws, key, options) {\n    if (jws instanceof Uint8Array) {\n        jws = _lib_buffer_utils_js__WEBPACK_IMPORTED_MODULE_0__.decoder.decode(jws);\n    }\n    if (typeof jws !== 'string') {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JWSInvalid('Compact JWS must be a string or Uint8Array');\n    }\n    const { 0: protectedHeader, 1: payload, 2: signature, length } = jws.split('.');\n    if (length !== 3) {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JWSInvalid('Invalid Compact JWS');\n    }\n    const verified = await (0,_flattened_verify_js__WEBPACK_IMPORTED_MODULE_2__.flattenedVerify)({ payload, protected: protectedHeader, signature }, key, options);\n    const result = { payload: verified.payload, protectedHeader: verified.protectedHeader };\n    if (typeof key === 'function') {\n        return { ...result, key: verified.key };\n    }\n    return result;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvandzL2NvbXBhY3QvdmVyaWZ5LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBeUQ7QUFDUDtBQUNFO0FBQzdDO0FBQ1A7QUFDQSxjQUFjLHlEQUFPO0FBQ3JCO0FBQ0E7QUFDQSxrQkFBa0IsdURBQVU7QUFDNUI7QUFDQSxZQUFZLHVEQUF1RDtBQUNuRTtBQUNBLGtCQUFrQix1REFBVTtBQUM1QjtBQUNBLDJCQUEyQixxRUFBZSxHQUFHLGdEQUFnRDtBQUM3RixxQkFBcUI7QUFDckI7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxqb3NlXFxkaXN0XFx3ZWJhcGlcXGp3c1xcY29tcGFjdFxcdmVyaWZ5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZsYXR0ZW5lZFZlcmlmeSB9IGZyb20gJy4uL2ZsYXR0ZW5lZC92ZXJpZnkuanMnO1xuaW1wb3J0IHsgSldTSW52YWxpZCB9IGZyb20gJy4uLy4uL3V0aWwvZXJyb3JzLmpzJztcbmltcG9ydCB7IGRlY29kZXIgfSBmcm9tICcuLi8uLi9saWIvYnVmZmVyX3V0aWxzLmpzJztcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb21wYWN0VmVyaWZ5KGp3cywga2V5LCBvcHRpb25zKSB7XG4gICAgaWYgKGp3cyBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgandzID0gZGVjb2Rlci5kZWNvZGUoandzKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBqd3MgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRocm93IG5ldyBKV1NJbnZhbGlkKCdDb21wYWN0IEpXUyBtdXN0IGJlIGEgc3RyaW5nIG9yIFVpbnQ4QXJyYXknKTtcbiAgICB9XG4gICAgY29uc3QgeyAwOiBwcm90ZWN0ZWRIZWFkZXIsIDE6IHBheWxvYWQsIDI6IHNpZ25hdHVyZSwgbGVuZ3RoIH0gPSBqd3Muc3BsaXQoJy4nKTtcbiAgICBpZiAobGVuZ3RoICE9PSAzKSB7XG4gICAgICAgIHRocm93IG5ldyBKV1NJbnZhbGlkKCdJbnZhbGlkIENvbXBhY3QgSldTJyk7XG4gICAgfVxuICAgIGNvbnN0IHZlcmlmaWVkID0gYXdhaXQgZmxhdHRlbmVkVmVyaWZ5KHsgcGF5bG9hZCwgcHJvdGVjdGVkOiBwcm90ZWN0ZWRIZWFkZXIsIHNpZ25hdHVyZSB9LCBrZXksIG9wdGlvbnMpO1xuICAgIGNvbnN0IHJlc3VsdCA9IHsgcGF5bG9hZDogdmVyaWZpZWQucGF5bG9hZCwgcHJvdGVjdGVkSGVhZGVyOiB2ZXJpZmllZC5wcm90ZWN0ZWRIZWFkZXIgfTtcbiAgICBpZiAodHlwZW9mIGtleSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4geyAuLi5yZXN1bHQsIGtleTogdmVyaWZpZWQua2V5IH07XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/jws/compact/verify.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/jws/flattened/sign.js":
/*!*************************************************************!*\
  !*** ./node_modules/jose/dist/webapi/jws/flattened/sign.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FlattenedSign: () => (/* binding */ FlattenedSign)\n/* harmony export */ });\n/* harmony import */ var _util_base64url_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/base64url.js */ \"(middleware)/./node_modules/jose/dist/webapi/util/base64url.js\");\n/* harmony import */ var _lib_sign_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../lib/sign.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/sign.js\");\n/* harmony import */ var _lib_is_disjoint_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../lib/is_disjoint.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/is_disjoint.js\");\n/* harmony import */ var _util_errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/errors.js */ \"(middleware)/./node_modules/jose/dist/webapi/util/errors.js\");\n/* harmony import */ var _lib_buffer_utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../lib/buffer_utils.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/buffer_utils.js\");\n/* harmony import */ var _lib_check_key_type_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../lib/check_key_type.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/check_key_type.js\");\n/* harmony import */ var _lib_validate_crit_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../lib/validate_crit.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/validate_crit.js\");\n/* harmony import */ var _lib_normalize_key_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../lib/normalize_key.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/normalize_key.js\");\n\n\n\n\n\n\n\n\nclass FlattenedSign {\n    #payload;\n    #protectedHeader;\n    #unprotectedHeader;\n    constructor(payload) {\n        if (!(payload instanceof Uint8Array)) {\n            throw new TypeError('payload must be an instance of Uint8Array');\n        }\n        this.#payload = payload;\n    }\n    setProtectedHeader(protectedHeader) {\n        if (this.#protectedHeader) {\n            throw new TypeError('setProtectedHeader can only be called once');\n        }\n        this.#protectedHeader = protectedHeader;\n        return this;\n    }\n    setUnprotectedHeader(unprotectedHeader) {\n        if (this.#unprotectedHeader) {\n            throw new TypeError('setUnprotectedHeader can only be called once');\n        }\n        this.#unprotectedHeader = unprotectedHeader;\n        return this;\n    }\n    async sign(key, options) {\n        if (!this.#protectedHeader && !this.#unprotectedHeader) {\n            throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JWSInvalid('either setProtectedHeader or setUnprotectedHeader must be called before #sign()');\n        }\n        if (!(0,_lib_is_disjoint_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this.#protectedHeader, this.#unprotectedHeader)) {\n            throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JWSInvalid('JWS Protected and JWS Unprotected Header Parameter names must be disjoint');\n        }\n        const joseHeader = {\n            ...this.#protectedHeader,\n            ...this.#unprotectedHeader,\n        };\n        const extensions = (0,_lib_validate_crit_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JWSInvalid, new Map([['b64', true]]), options?.crit, this.#protectedHeader, joseHeader);\n        let b64 = true;\n        if (extensions.has('b64')) {\n            b64 = this.#protectedHeader.b64;\n            if (typeof b64 !== 'boolean') {\n                throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JWSInvalid('The \"b64\" (base64url-encode payload) Header Parameter must be a boolean');\n            }\n        }\n        const { alg } = joseHeader;\n        if (typeof alg !== 'string' || !alg) {\n            throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JWSInvalid('JWS \"alg\" (Algorithm) Header Parameter missing or invalid');\n        }\n        (0,_lib_check_key_type_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(alg, key, 'sign');\n        let payload = this.#payload;\n        if (b64) {\n            payload = _lib_buffer_utils_js__WEBPACK_IMPORTED_MODULE_4__.encoder.encode((0,_util_base64url_js__WEBPACK_IMPORTED_MODULE_5__.encode)(payload));\n        }\n        let protectedHeader;\n        if (this.#protectedHeader) {\n            protectedHeader = _lib_buffer_utils_js__WEBPACK_IMPORTED_MODULE_4__.encoder.encode((0,_util_base64url_js__WEBPACK_IMPORTED_MODULE_5__.encode)(JSON.stringify(this.#protectedHeader)));\n        }\n        else {\n            protectedHeader = _lib_buffer_utils_js__WEBPACK_IMPORTED_MODULE_4__.encoder.encode('');\n        }\n        const data = (0,_lib_buffer_utils_js__WEBPACK_IMPORTED_MODULE_4__.concat)(protectedHeader, _lib_buffer_utils_js__WEBPACK_IMPORTED_MODULE_4__.encoder.encode('.'), payload);\n        const k = await (0,_lib_normalize_key_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(key, alg);\n        const signature = await (0,_lib_sign_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(alg, k, data);\n        const jws = {\n            signature: (0,_util_base64url_js__WEBPACK_IMPORTED_MODULE_5__.encode)(signature),\n            payload: '',\n        };\n        if (b64) {\n            jws.payload = _lib_buffer_utils_js__WEBPACK_IMPORTED_MODULE_4__.decoder.decode(payload);\n        }\n        if (this.#unprotectedHeader) {\n            jws.header = this.#unprotectedHeader;\n        }\n        if (this.#protectedHeader) {\n            jws.protected = _lib_buffer_utils_js__WEBPACK_IMPORTED_MODULE_4__.decoder.decode(protectedHeader);\n        }\n        return jws;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvandzL2ZsYXR0ZW5lZC9zaWduLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUF5RDtBQUNwQjtBQUNhO0FBQ0E7QUFDbUI7QUFDZDtBQUNEO0FBQ0E7QUFDL0M7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQix1REFBVTtBQUNoQztBQUNBLGFBQWEsK0RBQVU7QUFDdkIsc0JBQXNCLHVEQUFVO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsaUVBQVksQ0FBQyx1REFBVTtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQix1REFBVTtBQUNwQztBQUNBO0FBQ0EsZ0JBQWdCLE1BQU07QUFDdEI7QUFDQSxzQkFBc0IsdURBQVU7QUFDaEM7QUFDQSxRQUFRLGtFQUFZO0FBQ3BCO0FBQ0E7QUFDQSxzQkFBc0IseURBQU8sUUFBUSwwREFBSTtBQUN6QztBQUNBO0FBQ0E7QUFDQSw4QkFBOEIseURBQU8sUUFBUSwwREFBSTtBQUNqRDtBQUNBO0FBQ0EsOEJBQThCLHlEQUFPO0FBQ3JDO0FBQ0EscUJBQXFCLDREQUFNLGtCQUFrQix5REFBTztBQUNwRCx3QkFBd0IsaUVBQVk7QUFDcEMsZ0NBQWdDLHdEQUFJO0FBQ3BDO0FBQ0EsdUJBQXVCLDBEQUFJO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQix5REFBTztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHlEQUFPO0FBQ25DO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxqb3NlXFxkaXN0XFx3ZWJhcGlcXGp3c1xcZmxhdHRlbmVkXFxzaWduLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGVuY29kZSBhcyBiNjR1IH0gZnJvbSAnLi4vLi4vdXRpbC9iYXNlNjR1cmwuanMnO1xuaW1wb3J0IHNpZ24gZnJvbSAnLi4vLi4vbGliL3NpZ24uanMnO1xuaW1wb3J0IGlzRGlzam9pbnQgZnJvbSAnLi4vLi4vbGliL2lzX2Rpc2pvaW50LmpzJztcbmltcG9ydCB7IEpXU0ludmFsaWQgfSBmcm9tICcuLi8uLi91dGlsL2Vycm9ycy5qcyc7XG5pbXBvcnQgeyBlbmNvZGVyLCBkZWNvZGVyLCBjb25jYXQgfSBmcm9tICcuLi8uLi9saWIvYnVmZmVyX3V0aWxzLmpzJztcbmltcG9ydCBjaGVja0tleVR5cGUgZnJvbSAnLi4vLi4vbGliL2NoZWNrX2tleV90eXBlLmpzJztcbmltcG9ydCB2YWxpZGF0ZUNyaXQgZnJvbSAnLi4vLi4vbGliL3ZhbGlkYXRlX2NyaXQuanMnO1xuaW1wb3J0IG5vcm1hbGl6ZUtleSBmcm9tICcuLi8uLi9saWIvbm9ybWFsaXplX2tleS5qcyc7XG5leHBvcnQgY2xhc3MgRmxhdHRlbmVkU2lnbiB7XG4gICAgI3BheWxvYWQ7XG4gICAgI3Byb3RlY3RlZEhlYWRlcjtcbiAgICAjdW5wcm90ZWN0ZWRIZWFkZXI7XG4gICAgY29uc3RydWN0b3IocGF5bG9hZCkge1xuICAgICAgICBpZiAoIShwYXlsb2FkIGluc3RhbmNlb2YgVWludDhBcnJheSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3BheWxvYWQgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiBVaW50OEFycmF5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4jcGF5bG9hZCA9IHBheWxvYWQ7XG4gICAgfVxuICAgIHNldFByb3RlY3RlZEhlYWRlcihwcm90ZWN0ZWRIZWFkZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuI3Byb3RlY3RlZEhlYWRlcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignc2V0UHJvdGVjdGVkSGVhZGVyIGNhbiBvbmx5IGJlIGNhbGxlZCBvbmNlJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4jcHJvdGVjdGVkSGVhZGVyID0gcHJvdGVjdGVkSGVhZGVyO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc2V0VW5wcm90ZWN0ZWRIZWFkZXIodW5wcm90ZWN0ZWRIZWFkZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuI3VucHJvdGVjdGVkSGVhZGVyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdzZXRVbnByb3RlY3RlZEhlYWRlciBjYW4gb25seSBiZSBjYWxsZWQgb25jZScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuI3VucHJvdGVjdGVkSGVhZGVyID0gdW5wcm90ZWN0ZWRIZWFkZXI7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBhc3luYyBzaWduKGtleSwgb3B0aW9ucykge1xuICAgICAgICBpZiAoIXRoaXMuI3Byb3RlY3RlZEhlYWRlciAmJiAhdGhpcy4jdW5wcm90ZWN0ZWRIZWFkZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBKV1NJbnZhbGlkKCdlaXRoZXIgc2V0UHJvdGVjdGVkSGVhZGVyIG9yIHNldFVucHJvdGVjdGVkSGVhZGVyIG11c3QgYmUgY2FsbGVkIGJlZm9yZSAjc2lnbigpJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0Rpc2pvaW50KHRoaXMuI3Byb3RlY3RlZEhlYWRlciwgdGhpcy4jdW5wcm90ZWN0ZWRIZWFkZXIpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSldTSW52YWxpZCgnSldTIFByb3RlY3RlZCBhbmQgSldTIFVucHJvdGVjdGVkIEhlYWRlciBQYXJhbWV0ZXIgbmFtZXMgbXVzdCBiZSBkaXNqb2ludCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGpvc2VIZWFkZXIgPSB7XG4gICAgICAgICAgICAuLi50aGlzLiNwcm90ZWN0ZWRIZWFkZXIsXG4gICAgICAgICAgICAuLi50aGlzLiN1bnByb3RlY3RlZEhlYWRlcixcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgZXh0ZW5zaW9ucyA9IHZhbGlkYXRlQ3JpdChKV1NJbnZhbGlkLCBuZXcgTWFwKFtbJ2I2NCcsIHRydWVdXSksIG9wdGlvbnM/LmNyaXQsIHRoaXMuI3Byb3RlY3RlZEhlYWRlciwgam9zZUhlYWRlcik7XG4gICAgICAgIGxldCBiNjQgPSB0cnVlO1xuICAgICAgICBpZiAoZXh0ZW5zaW9ucy5oYXMoJ2I2NCcpKSB7XG4gICAgICAgICAgICBiNjQgPSB0aGlzLiNwcm90ZWN0ZWRIZWFkZXIuYjY0O1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBiNjQgIT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBKV1NJbnZhbGlkKCdUaGUgXCJiNjRcIiAoYmFzZTY0dXJsLWVuY29kZSBwYXlsb2FkKSBIZWFkZXIgUGFyYW1ldGVyIG11c3QgYmUgYSBib29sZWFuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBhbGcgfSA9IGpvc2VIZWFkZXI7XG4gICAgICAgIGlmICh0eXBlb2YgYWxnICE9PSAnc3RyaW5nJyB8fCAhYWxnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSldTSW52YWxpZCgnSldTIFwiYWxnXCIgKEFsZ29yaXRobSkgSGVhZGVyIFBhcmFtZXRlciBtaXNzaW5nIG9yIGludmFsaWQnKTtcbiAgICAgICAgfVxuICAgICAgICBjaGVja0tleVR5cGUoYWxnLCBrZXksICdzaWduJyk7XG4gICAgICAgIGxldCBwYXlsb2FkID0gdGhpcy4jcGF5bG9hZDtcbiAgICAgICAgaWYgKGI2NCkge1xuICAgICAgICAgICAgcGF5bG9hZCA9IGVuY29kZXIuZW5jb2RlKGI2NHUocGF5bG9hZCkpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBwcm90ZWN0ZWRIZWFkZXI7XG4gICAgICAgIGlmICh0aGlzLiNwcm90ZWN0ZWRIZWFkZXIpIHtcbiAgICAgICAgICAgIHByb3RlY3RlZEhlYWRlciA9IGVuY29kZXIuZW5jb2RlKGI2NHUoSlNPTi5zdHJpbmdpZnkodGhpcy4jcHJvdGVjdGVkSGVhZGVyKSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcHJvdGVjdGVkSGVhZGVyID0gZW5jb2Rlci5lbmNvZGUoJycpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRhdGEgPSBjb25jYXQocHJvdGVjdGVkSGVhZGVyLCBlbmNvZGVyLmVuY29kZSgnLicpLCBwYXlsb2FkKTtcbiAgICAgICAgY29uc3QgayA9IGF3YWl0IG5vcm1hbGl6ZUtleShrZXksIGFsZyk7XG4gICAgICAgIGNvbnN0IHNpZ25hdHVyZSA9IGF3YWl0IHNpZ24oYWxnLCBrLCBkYXRhKTtcbiAgICAgICAgY29uc3QgandzID0ge1xuICAgICAgICAgICAgc2lnbmF0dXJlOiBiNjR1KHNpZ25hdHVyZSksXG4gICAgICAgICAgICBwYXlsb2FkOiAnJyxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGI2NCkge1xuICAgICAgICAgICAgandzLnBheWxvYWQgPSBkZWNvZGVyLmRlY29kZShwYXlsb2FkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy4jdW5wcm90ZWN0ZWRIZWFkZXIpIHtcbiAgICAgICAgICAgIGp3cy5oZWFkZXIgPSB0aGlzLiN1bnByb3RlY3RlZEhlYWRlcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy4jcHJvdGVjdGVkSGVhZGVyKSB7XG4gICAgICAgICAgICBqd3MucHJvdGVjdGVkID0gZGVjb2Rlci5kZWNvZGUocHJvdGVjdGVkSGVhZGVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gandzO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/jws/flattened/sign.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/jws/flattened/verify.js":
/*!***************************************************************!*\
  !*** ./node_modules/jose/dist/webapi/jws/flattened/verify.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   flattenedVerify: () => (/* binding */ flattenedVerify)\n/* harmony export */ });\n/* harmony import */ var _util_base64url_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/base64url.js */ \"(middleware)/./node_modules/jose/dist/webapi/util/base64url.js\");\n/* harmony import */ var _lib_verify_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../lib/verify.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/verify.js\");\n/* harmony import */ var _util_errors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/errors.js */ \"(middleware)/./node_modules/jose/dist/webapi/util/errors.js\");\n/* harmony import */ var _lib_buffer_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../lib/buffer_utils.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/buffer_utils.js\");\n/* harmony import */ var _lib_is_disjoint_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../lib/is_disjoint.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/is_disjoint.js\");\n/* harmony import */ var _lib_is_object_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/is_object.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/is_object.js\");\n/* harmony import */ var _lib_check_key_type_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../lib/check_key_type.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/check_key_type.js\");\n/* harmony import */ var _lib_validate_crit_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../lib/validate_crit.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/validate_crit.js\");\n/* harmony import */ var _lib_validate_algorithms_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../lib/validate_algorithms.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/validate_algorithms.js\");\n/* harmony import */ var _lib_normalize_key_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../lib/normalize_key.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/normalize_key.js\");\n\n\n\n\n\n\n\n\n\n\nasync function flattenedVerify(jws, key, options) {\n    if (!(0,_lib_is_object_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(jws)) {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JWSInvalid('Flattened JWS must be an object');\n    }\n    if (jws.protected === undefined && jws.header === undefined) {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JWSInvalid('Flattened JWS must have either of the \"protected\" or \"header\" members');\n    }\n    if (jws.protected !== undefined && typeof jws.protected !== 'string') {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JWSInvalid('JWS Protected Header incorrect type');\n    }\n    if (jws.payload === undefined) {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JWSInvalid('JWS Payload missing');\n    }\n    if (typeof jws.signature !== 'string') {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JWSInvalid('JWS Signature missing or incorrect type');\n    }\n    if (jws.header !== undefined && !(0,_lib_is_object_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(jws.header)) {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JWSInvalid('JWS Unprotected Header incorrect type');\n    }\n    let parsedProt = {};\n    if (jws.protected) {\n        try {\n            const protectedHeader = (0,_util_base64url_js__WEBPACK_IMPORTED_MODULE_2__.decode)(jws.protected);\n            parsedProt = JSON.parse(_lib_buffer_utils_js__WEBPACK_IMPORTED_MODULE_3__.decoder.decode(protectedHeader));\n        }\n        catch {\n            throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JWSInvalid('JWS Protected Header is invalid');\n        }\n    }\n    if (!(0,_lib_is_disjoint_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(parsedProt, jws.header)) {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JWSInvalid('JWS Protected and JWS Unprotected Header Parameter names must be disjoint');\n    }\n    const joseHeader = {\n        ...parsedProt,\n        ...jws.header,\n    };\n    const extensions = (0,_lib_validate_crit_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JWSInvalid, new Map([['b64', true]]), options?.crit, parsedProt, joseHeader);\n    let b64 = true;\n    if (extensions.has('b64')) {\n        b64 = parsedProt.b64;\n        if (typeof b64 !== 'boolean') {\n            throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JWSInvalid('The \"b64\" (base64url-encode payload) Header Parameter must be a boolean');\n        }\n    }\n    const { alg } = joseHeader;\n    if (typeof alg !== 'string' || !alg) {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JWSInvalid('JWS \"alg\" (Algorithm) Header Parameter missing or invalid');\n    }\n    const algorithms = options && (0,_lib_validate_algorithms_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"])('algorithms', options.algorithms);\n    if (algorithms && !algorithms.has(alg)) {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JOSEAlgNotAllowed('\"alg\" (Algorithm) Header Parameter value not allowed');\n    }\n    if (b64) {\n        if (typeof jws.payload !== 'string') {\n            throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JWSInvalid('JWS Payload must be a string');\n        }\n    }\n    else if (typeof jws.payload !== 'string' && !(jws.payload instanceof Uint8Array)) {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JWSInvalid('JWS Payload must be a string or an Uint8Array instance');\n    }\n    let resolvedKey = false;\n    if (typeof key === 'function') {\n        key = await key(parsedProt, jws);\n        resolvedKey = true;\n    }\n    (0,_lib_check_key_type_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(alg, key, 'verify');\n    const data = (0,_lib_buffer_utils_js__WEBPACK_IMPORTED_MODULE_3__.concat)(_lib_buffer_utils_js__WEBPACK_IMPORTED_MODULE_3__.encoder.encode(jws.protected ?? ''), _lib_buffer_utils_js__WEBPACK_IMPORTED_MODULE_3__.encoder.encode('.'), typeof jws.payload === 'string' ? _lib_buffer_utils_js__WEBPACK_IMPORTED_MODULE_3__.encoder.encode(jws.payload) : jws.payload);\n    let signature;\n    try {\n        signature = (0,_util_base64url_js__WEBPACK_IMPORTED_MODULE_2__.decode)(jws.signature);\n    }\n    catch {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JWSInvalid('Failed to base64url decode the signature');\n    }\n    const k = await (0,_lib_normalize_key_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(key, alg);\n    const verified = await (0,_lib_verify_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(alg, k, signature, data);\n    if (!verified) {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JWSSignatureVerificationFailed();\n    }\n    let payload;\n    if (b64) {\n        try {\n            payload = (0,_util_base64url_js__WEBPACK_IMPORTED_MODULE_2__.decode)(jws.payload);\n        }\n        catch {\n            throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JWSInvalid('Failed to base64url decode the payload');\n        }\n    }\n    else if (typeof jws.payload === 'string') {\n        payload = _lib_buffer_utils_js__WEBPACK_IMPORTED_MODULE_3__.encoder.encode(jws.payload);\n    }\n    else {\n        payload = jws.payload;\n    }\n    const result = { payload };\n    if (jws.protected !== undefined) {\n        result.protectedHeader = parsedProt;\n    }\n    if (jws.header !== undefined) {\n        result.unprotectedHeader = jws.header;\n    }\n    if (resolvedKey) {\n        return { ...result, key: k };\n    }\n    return result;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvandzL2ZsYXR0ZW5lZC92ZXJpZnkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBeUQ7QUFDaEI7QUFDNEQ7QUFDaEM7QUFDbkI7QUFDSjtBQUNTO0FBQ0Q7QUFDWTtBQUNaO0FBQy9DO0FBQ1AsU0FBUyw2REFBUTtBQUNqQixrQkFBa0IsdURBQVU7QUFDNUI7QUFDQTtBQUNBLGtCQUFrQix1REFBVTtBQUM1QjtBQUNBO0FBQ0Esa0JBQWtCLHVEQUFVO0FBQzVCO0FBQ0E7QUFDQSxrQkFBa0IsdURBQVU7QUFDNUI7QUFDQTtBQUNBLGtCQUFrQix1REFBVTtBQUM1QjtBQUNBLHFDQUFxQyw2REFBUTtBQUM3QyxrQkFBa0IsdURBQVU7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsMERBQUk7QUFDeEMsb0NBQW9DLHlEQUFPO0FBQzNDO0FBQ0E7QUFDQSxzQkFBc0IsdURBQVU7QUFDaEM7QUFDQTtBQUNBLFNBQVMsK0RBQVU7QUFDbkIsa0JBQWtCLHVEQUFVO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsaUVBQVksQ0FBQyx1REFBVTtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQix1REFBVTtBQUNoQztBQUNBO0FBQ0EsWUFBWSxNQUFNO0FBQ2xCO0FBQ0Esa0JBQWtCLHVEQUFVO0FBQzVCO0FBQ0Esa0NBQWtDLHVFQUFrQjtBQUNwRDtBQUNBLGtCQUFrQiw4REFBaUI7QUFDbkM7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHVEQUFVO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQix1REFBVTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLGtFQUFZO0FBQ2hCLGlCQUFpQiw0REFBTSxDQUFDLHlEQUFPLDhCQUE4Qix5REFBTyxnREFBZ0QseURBQU87QUFDM0g7QUFDQTtBQUNBLG9CQUFvQiwwREFBSTtBQUN4QjtBQUNBO0FBQ0Esa0JBQWtCLHVEQUFVO0FBQzVCO0FBQ0Esb0JBQW9CLGlFQUFZO0FBQ2hDLDJCQUEyQiwwREFBTTtBQUNqQztBQUNBLGtCQUFrQiwyRUFBOEI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsMERBQUk7QUFDMUI7QUFDQTtBQUNBLHNCQUFzQix1REFBVTtBQUNoQztBQUNBO0FBQ0E7QUFDQSxrQkFBa0IseURBQU87QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxqb3NlXFxkaXN0XFx3ZWJhcGlcXGp3c1xcZmxhdHRlbmVkXFx2ZXJpZnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGVjb2RlIGFzIGI2NHUgfSBmcm9tICcuLi8uLi91dGlsL2Jhc2U2NHVybC5qcyc7XG5pbXBvcnQgdmVyaWZ5IGZyb20gJy4uLy4uL2xpYi92ZXJpZnkuanMnO1xuaW1wb3J0IHsgSk9TRUFsZ05vdEFsbG93ZWQsIEpXU0ludmFsaWQsIEpXU1NpZ25hdHVyZVZlcmlmaWNhdGlvbkZhaWxlZCB9IGZyb20gJy4uLy4uL3V0aWwvZXJyb3JzLmpzJztcbmltcG9ydCB7IGNvbmNhdCwgZW5jb2RlciwgZGVjb2RlciB9IGZyb20gJy4uLy4uL2xpYi9idWZmZXJfdXRpbHMuanMnO1xuaW1wb3J0IGlzRGlzam9pbnQgZnJvbSAnLi4vLi4vbGliL2lzX2Rpc2pvaW50LmpzJztcbmltcG9ydCBpc09iamVjdCBmcm9tICcuLi8uLi9saWIvaXNfb2JqZWN0LmpzJztcbmltcG9ydCBjaGVja0tleVR5cGUgZnJvbSAnLi4vLi4vbGliL2NoZWNrX2tleV90eXBlLmpzJztcbmltcG9ydCB2YWxpZGF0ZUNyaXQgZnJvbSAnLi4vLi4vbGliL3ZhbGlkYXRlX2NyaXQuanMnO1xuaW1wb3J0IHZhbGlkYXRlQWxnb3JpdGhtcyBmcm9tICcuLi8uLi9saWIvdmFsaWRhdGVfYWxnb3JpdGhtcy5qcyc7XG5pbXBvcnQgbm9ybWFsaXplS2V5IGZyb20gJy4uLy4uL2xpYi9ub3JtYWxpemVfa2V5LmpzJztcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmbGF0dGVuZWRWZXJpZnkoandzLCBrZXksIG9wdGlvbnMpIHtcbiAgICBpZiAoIWlzT2JqZWN0KGp3cykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEpXU0ludmFsaWQoJ0ZsYXR0ZW5lZCBKV1MgbXVzdCBiZSBhbiBvYmplY3QnKTtcbiAgICB9XG4gICAgaWYgKGp3cy5wcm90ZWN0ZWQgPT09IHVuZGVmaW5lZCAmJiBqd3MuaGVhZGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEpXU0ludmFsaWQoJ0ZsYXR0ZW5lZCBKV1MgbXVzdCBoYXZlIGVpdGhlciBvZiB0aGUgXCJwcm90ZWN0ZWRcIiBvciBcImhlYWRlclwiIG1lbWJlcnMnKTtcbiAgICB9XG4gICAgaWYgKGp3cy5wcm90ZWN0ZWQgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgandzLnByb3RlY3RlZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhyb3cgbmV3IEpXU0ludmFsaWQoJ0pXUyBQcm90ZWN0ZWQgSGVhZGVyIGluY29ycmVjdCB0eXBlJyk7XG4gICAgfVxuICAgIGlmIChqd3MucGF5bG9hZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBKV1NJbnZhbGlkKCdKV1MgUGF5bG9hZCBtaXNzaW5nJyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgandzLnNpZ25hdHVyZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhyb3cgbmV3IEpXU0ludmFsaWQoJ0pXUyBTaWduYXR1cmUgbWlzc2luZyBvciBpbmNvcnJlY3QgdHlwZScpO1xuICAgIH1cbiAgICBpZiAoandzLmhlYWRlciAhPT0gdW5kZWZpbmVkICYmICFpc09iamVjdChqd3MuaGVhZGVyKSkge1xuICAgICAgICB0aHJvdyBuZXcgSldTSW52YWxpZCgnSldTIFVucHJvdGVjdGVkIEhlYWRlciBpbmNvcnJlY3QgdHlwZScpO1xuICAgIH1cbiAgICBsZXQgcGFyc2VkUHJvdCA9IHt9O1xuICAgIGlmIChqd3MucHJvdGVjdGVkKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwcm90ZWN0ZWRIZWFkZXIgPSBiNjR1KGp3cy5wcm90ZWN0ZWQpO1xuICAgICAgICAgICAgcGFyc2VkUHJvdCA9IEpTT04ucGFyc2UoZGVjb2Rlci5kZWNvZGUocHJvdGVjdGVkSGVhZGVyKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEpXU0ludmFsaWQoJ0pXUyBQcm90ZWN0ZWQgSGVhZGVyIGlzIGludmFsaWQnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWlzRGlzam9pbnQocGFyc2VkUHJvdCwgandzLmhlYWRlcikpIHtcbiAgICAgICAgdGhyb3cgbmV3IEpXU0ludmFsaWQoJ0pXUyBQcm90ZWN0ZWQgYW5kIEpXUyBVbnByb3RlY3RlZCBIZWFkZXIgUGFyYW1ldGVyIG5hbWVzIG11c3QgYmUgZGlzam9pbnQnKTtcbiAgICB9XG4gICAgY29uc3Qgam9zZUhlYWRlciA9IHtcbiAgICAgICAgLi4ucGFyc2VkUHJvdCxcbiAgICAgICAgLi4uandzLmhlYWRlcixcbiAgICB9O1xuICAgIGNvbnN0IGV4dGVuc2lvbnMgPSB2YWxpZGF0ZUNyaXQoSldTSW52YWxpZCwgbmV3IE1hcChbWydiNjQnLCB0cnVlXV0pLCBvcHRpb25zPy5jcml0LCBwYXJzZWRQcm90LCBqb3NlSGVhZGVyKTtcbiAgICBsZXQgYjY0ID0gdHJ1ZTtcbiAgICBpZiAoZXh0ZW5zaW9ucy5oYXMoJ2I2NCcpKSB7XG4gICAgICAgIGI2NCA9IHBhcnNlZFByb3QuYjY0O1xuICAgICAgICBpZiAodHlwZW9mIGI2NCAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSldTSW52YWxpZCgnVGhlIFwiYjY0XCIgKGJhc2U2NHVybC1lbmNvZGUgcGF5bG9hZCkgSGVhZGVyIFBhcmFtZXRlciBtdXN0IGJlIGEgYm9vbGVhbicpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHsgYWxnIH0gPSBqb3NlSGVhZGVyO1xuICAgIGlmICh0eXBlb2YgYWxnICE9PSAnc3RyaW5nJyB8fCAhYWxnKSB7XG4gICAgICAgIHRocm93IG5ldyBKV1NJbnZhbGlkKCdKV1MgXCJhbGdcIiAoQWxnb3JpdGhtKSBIZWFkZXIgUGFyYW1ldGVyIG1pc3Npbmcgb3IgaW52YWxpZCcpO1xuICAgIH1cbiAgICBjb25zdCBhbGdvcml0aG1zID0gb3B0aW9ucyAmJiB2YWxpZGF0ZUFsZ29yaXRobXMoJ2FsZ29yaXRobXMnLCBvcHRpb25zLmFsZ29yaXRobXMpO1xuICAgIGlmIChhbGdvcml0aG1zICYmICFhbGdvcml0aG1zLmhhcyhhbGcpKSB7XG4gICAgICAgIHRocm93IG5ldyBKT1NFQWxnTm90QWxsb3dlZCgnXCJhbGdcIiAoQWxnb3JpdGhtKSBIZWFkZXIgUGFyYW1ldGVyIHZhbHVlIG5vdCBhbGxvd2VkJyk7XG4gICAgfVxuICAgIGlmIChiNjQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBqd3MucGF5bG9hZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBKV1NJbnZhbGlkKCdKV1MgUGF5bG9hZCBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGp3cy5wYXlsb2FkICE9PSAnc3RyaW5nJyAmJiAhKGp3cy5wYXlsb2FkIGluc3RhbmNlb2YgVWludDhBcnJheSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEpXU0ludmFsaWQoJ0pXUyBQYXlsb2FkIG11c3QgYmUgYSBzdHJpbmcgb3IgYW4gVWludDhBcnJheSBpbnN0YW5jZScpO1xuICAgIH1cbiAgICBsZXQgcmVzb2x2ZWRLZXkgPSBmYWxzZTtcbiAgICBpZiAodHlwZW9mIGtleSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBrZXkgPSBhd2FpdCBrZXkocGFyc2VkUHJvdCwgandzKTtcbiAgICAgICAgcmVzb2x2ZWRLZXkgPSB0cnVlO1xuICAgIH1cbiAgICBjaGVja0tleVR5cGUoYWxnLCBrZXksICd2ZXJpZnknKTtcbiAgICBjb25zdCBkYXRhID0gY29uY2F0KGVuY29kZXIuZW5jb2RlKGp3cy5wcm90ZWN0ZWQgPz8gJycpLCBlbmNvZGVyLmVuY29kZSgnLicpLCB0eXBlb2YgandzLnBheWxvYWQgPT09ICdzdHJpbmcnID8gZW5jb2Rlci5lbmNvZGUoandzLnBheWxvYWQpIDogandzLnBheWxvYWQpO1xuICAgIGxldCBzaWduYXR1cmU7XG4gICAgdHJ5IHtcbiAgICAgICAgc2lnbmF0dXJlID0gYjY0dShqd3Muc2lnbmF0dXJlKTtcbiAgICB9XG4gICAgY2F0Y2gge1xuICAgICAgICB0aHJvdyBuZXcgSldTSW52YWxpZCgnRmFpbGVkIHRvIGJhc2U2NHVybCBkZWNvZGUgdGhlIHNpZ25hdHVyZScpO1xuICAgIH1cbiAgICBjb25zdCBrID0gYXdhaXQgbm9ybWFsaXplS2V5KGtleSwgYWxnKTtcbiAgICBjb25zdCB2ZXJpZmllZCA9IGF3YWl0IHZlcmlmeShhbGcsIGssIHNpZ25hdHVyZSwgZGF0YSk7XG4gICAgaWYgKCF2ZXJpZmllZCkge1xuICAgICAgICB0aHJvdyBuZXcgSldTU2lnbmF0dXJlVmVyaWZpY2F0aW9uRmFpbGVkKCk7XG4gICAgfVxuICAgIGxldCBwYXlsb2FkO1xuICAgIGlmIChiNjQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHBheWxvYWQgPSBiNjR1KGp3cy5wYXlsb2FkKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSldTSW52YWxpZCgnRmFpbGVkIHRvIGJhc2U2NHVybCBkZWNvZGUgdGhlIHBheWxvYWQnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgandzLnBheWxvYWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHBheWxvYWQgPSBlbmNvZGVyLmVuY29kZShqd3MucGF5bG9hZCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBwYXlsb2FkID0gandzLnBheWxvYWQ7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IHsgcGF5bG9hZCB9O1xuICAgIGlmIChqd3MucHJvdGVjdGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmVzdWx0LnByb3RlY3RlZEhlYWRlciA9IHBhcnNlZFByb3Q7XG4gICAgfVxuICAgIGlmIChqd3MuaGVhZGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmVzdWx0LnVucHJvdGVjdGVkSGVhZGVyID0gandzLmhlYWRlcjtcbiAgICB9XG4gICAgaWYgKHJlc29sdmVkS2V5KSB7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3VsdCwga2V5OiBrIH07XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/jws/flattened/verify.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/jwt/decrypt.js":
/*!******************************************************!*\
  !*** ./node_modules/jose/dist/webapi/jwt/decrypt.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   jwtDecrypt: () => (/* binding */ jwtDecrypt)\n/* harmony export */ });\n/* harmony import */ var _jwe_compact_decrypt_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../jwe/compact/decrypt.js */ \"(middleware)/./node_modules/jose/dist/webapi/jwe/compact/decrypt.js\");\n/* harmony import */ var _lib_jwt_claims_set_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/jwt_claims_set.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/jwt_claims_set.js\");\n/* harmony import */ var _util_errors_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/errors.js */ \"(middleware)/./node_modules/jose/dist/webapi/util/errors.js\");\n\n\n\nasync function jwtDecrypt(jwt, key, options) {\n    const decrypted = await (0,_jwe_compact_decrypt_js__WEBPACK_IMPORTED_MODULE_0__.compactDecrypt)(jwt, key, options);\n    const payload = (0,_lib_jwt_claims_set_js__WEBPACK_IMPORTED_MODULE_1__.validateClaimsSet)(decrypted.protectedHeader, decrypted.plaintext, options);\n    const { protectedHeader } = decrypted;\n    if (protectedHeader.iss !== undefined && protectedHeader.iss !== payload.iss) {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_2__.JWTClaimValidationFailed('replicated \"iss\" claim header parameter mismatch', payload, 'iss', 'mismatch');\n    }\n    if (protectedHeader.sub !== undefined && protectedHeader.sub !== payload.sub) {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_2__.JWTClaimValidationFailed('replicated \"sub\" claim header parameter mismatch', payload, 'sub', 'mismatch');\n    }\n    if (protectedHeader.aud !== undefined &&\n        JSON.stringify(protectedHeader.aud) !== JSON.stringify(payload.aud)) {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_2__.JWTClaimValidationFailed('replicated \"aud\" claim header parameter mismatch', payload, 'aud', 'mismatch');\n    }\n    const result = { payload, protectedHeader };\n    if (typeof key === 'function') {\n        return { ...result, key: decrypted.key };\n    }\n    return result;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvand0L2RlY3J5cHQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUEyRDtBQUNFO0FBQ0E7QUFDdEQ7QUFDUCw0QkFBNEIsdUVBQWM7QUFDMUMsb0JBQW9CLHlFQUFpQjtBQUNyQyxZQUFZLGtCQUFrQjtBQUM5QjtBQUNBLGtCQUFrQixxRUFBd0I7QUFDMUM7QUFDQTtBQUNBLGtCQUFrQixxRUFBd0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHFFQUF3QjtBQUMxQztBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXGpvc2VcXGRpc3RcXHdlYmFwaVxcand0XFxkZWNyeXB0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNvbXBhY3REZWNyeXB0IH0gZnJvbSAnLi4vandlL2NvbXBhY3QvZGVjcnlwdC5qcyc7XG5pbXBvcnQgeyB2YWxpZGF0ZUNsYWltc1NldCB9IGZyb20gJy4uL2xpYi9qd3RfY2xhaW1zX3NldC5qcyc7XG5pbXBvcnQgeyBKV1RDbGFpbVZhbGlkYXRpb25GYWlsZWQgfSBmcm9tICcuLi91dGlsL2Vycm9ycy5qcyc7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gand0RGVjcnlwdChqd3QsIGtleSwgb3B0aW9ucykge1xuICAgIGNvbnN0IGRlY3J5cHRlZCA9IGF3YWl0IGNvbXBhY3REZWNyeXB0KGp3dCwga2V5LCBvcHRpb25zKTtcbiAgICBjb25zdCBwYXlsb2FkID0gdmFsaWRhdGVDbGFpbXNTZXQoZGVjcnlwdGVkLnByb3RlY3RlZEhlYWRlciwgZGVjcnlwdGVkLnBsYWludGV4dCwgb3B0aW9ucyk7XG4gICAgY29uc3QgeyBwcm90ZWN0ZWRIZWFkZXIgfSA9IGRlY3J5cHRlZDtcbiAgICBpZiAocHJvdGVjdGVkSGVhZGVyLmlzcyAhPT0gdW5kZWZpbmVkICYmIHByb3RlY3RlZEhlYWRlci5pc3MgIT09IHBheWxvYWQuaXNzKSB7XG4gICAgICAgIHRocm93IG5ldyBKV1RDbGFpbVZhbGlkYXRpb25GYWlsZWQoJ3JlcGxpY2F0ZWQgXCJpc3NcIiBjbGFpbSBoZWFkZXIgcGFyYW1ldGVyIG1pc21hdGNoJywgcGF5bG9hZCwgJ2lzcycsICdtaXNtYXRjaCcpO1xuICAgIH1cbiAgICBpZiAocHJvdGVjdGVkSGVhZGVyLnN1YiAhPT0gdW5kZWZpbmVkICYmIHByb3RlY3RlZEhlYWRlci5zdWIgIT09IHBheWxvYWQuc3ViKSB7XG4gICAgICAgIHRocm93IG5ldyBKV1RDbGFpbVZhbGlkYXRpb25GYWlsZWQoJ3JlcGxpY2F0ZWQgXCJzdWJcIiBjbGFpbSBoZWFkZXIgcGFyYW1ldGVyIG1pc21hdGNoJywgcGF5bG9hZCwgJ3N1YicsICdtaXNtYXRjaCcpO1xuICAgIH1cbiAgICBpZiAocHJvdGVjdGVkSGVhZGVyLmF1ZCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgIEpTT04uc3RyaW5naWZ5KHByb3RlY3RlZEhlYWRlci5hdWQpICE9PSBKU09OLnN0cmluZ2lmeShwYXlsb2FkLmF1ZCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEpXVENsYWltVmFsaWRhdGlvbkZhaWxlZCgncmVwbGljYXRlZCBcImF1ZFwiIGNsYWltIGhlYWRlciBwYXJhbWV0ZXIgbWlzbWF0Y2gnLCBwYXlsb2FkLCAnYXVkJywgJ21pc21hdGNoJyk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IHsgcGF5bG9hZCwgcHJvdGVjdGVkSGVhZGVyIH07XG4gICAgaWYgKHR5cGVvZiBrZXkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzdWx0LCBrZXk6IGRlY3J5cHRlZC5rZXkgfTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/jwt/decrypt.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/jwt/encrypt.js":
/*!******************************************************!*\
  !*** ./node_modules/jose/dist/webapi/jwt/encrypt.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EncryptJWT: () => (/* binding */ EncryptJWT)\n/* harmony export */ });\n/* harmony import */ var _jwe_compact_encrypt_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../jwe/compact/encrypt.js */ \"(middleware)/./node_modules/jose/dist/webapi/jwe/compact/encrypt.js\");\n/* harmony import */ var _lib_jwt_claims_set_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/jwt_claims_set.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/jwt_claims_set.js\");\n\n\nclass EncryptJWT {\n    #cek;\n    #iv;\n    #keyManagementParameters;\n    #protectedHeader;\n    #replicateIssuerAsHeader;\n    #replicateSubjectAsHeader;\n    #replicateAudienceAsHeader;\n    #jwt;\n    constructor(payload = {}) {\n        this.#jwt = new _lib_jwt_claims_set_js__WEBPACK_IMPORTED_MODULE_0__.JWTClaimsBuilder(payload);\n    }\n    setIssuer(issuer) {\n        this.#jwt.iss = issuer;\n        return this;\n    }\n    setSubject(subject) {\n        this.#jwt.sub = subject;\n        return this;\n    }\n    setAudience(audience) {\n        this.#jwt.aud = audience;\n        return this;\n    }\n    setJti(jwtId) {\n        this.#jwt.jti = jwtId;\n        return this;\n    }\n    setNotBefore(input) {\n        this.#jwt.nbf = input;\n        return this;\n    }\n    setExpirationTime(input) {\n        this.#jwt.exp = input;\n        return this;\n    }\n    setIssuedAt(input) {\n        this.#jwt.iat = input;\n        return this;\n    }\n    setProtectedHeader(protectedHeader) {\n        if (this.#protectedHeader) {\n            throw new TypeError('setProtectedHeader can only be called once');\n        }\n        this.#protectedHeader = protectedHeader;\n        return this;\n    }\n    setKeyManagementParameters(parameters) {\n        if (this.#keyManagementParameters) {\n            throw new TypeError('setKeyManagementParameters can only be called once');\n        }\n        this.#keyManagementParameters = parameters;\n        return this;\n    }\n    setContentEncryptionKey(cek) {\n        if (this.#cek) {\n            throw new TypeError('setContentEncryptionKey can only be called once');\n        }\n        this.#cek = cek;\n        return this;\n    }\n    setInitializationVector(iv) {\n        if (this.#iv) {\n            throw new TypeError('setInitializationVector can only be called once');\n        }\n        this.#iv = iv;\n        return this;\n    }\n    replicateIssuerAsHeader() {\n        this.#replicateIssuerAsHeader = true;\n        return this;\n    }\n    replicateSubjectAsHeader() {\n        this.#replicateSubjectAsHeader = true;\n        return this;\n    }\n    replicateAudienceAsHeader() {\n        this.#replicateAudienceAsHeader = true;\n        return this;\n    }\n    async encrypt(key, options) {\n        const enc = new _jwe_compact_encrypt_js__WEBPACK_IMPORTED_MODULE_1__.CompactEncrypt(this.#jwt.data());\n        if (this.#protectedHeader &&\n            (this.#replicateIssuerAsHeader ||\n                this.#replicateSubjectAsHeader ||\n                this.#replicateAudienceAsHeader)) {\n            this.#protectedHeader = {\n                ...this.#protectedHeader,\n                iss: this.#replicateIssuerAsHeader ? this.#jwt.iss : undefined,\n                sub: this.#replicateSubjectAsHeader ? this.#jwt.sub : undefined,\n                aud: this.#replicateAudienceAsHeader ? this.#jwt.aud : undefined,\n            };\n        }\n        enc.setProtectedHeader(this.#protectedHeader);\n        if (this.#iv) {\n            enc.setInitializationVector(this.#iv);\n        }\n        if (this.#cek) {\n            enc.setContentEncryptionKey(this.#cek);\n        }\n        if (this.#keyManagementParameters) {\n            enc.setKeyManagementParameters(this.#keyManagementParameters);\n        }\n        return enc.encrypt(key, options);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvand0L2VuY3J5cHQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTJEO0FBQ0M7QUFDckQ7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCLHdCQUF3QixvRUFBZ0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsbUVBQWM7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxqb3NlXFxkaXN0XFx3ZWJhcGlcXGp3dFxcZW5jcnlwdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wYWN0RW5jcnlwdCB9IGZyb20gJy4uL2p3ZS9jb21wYWN0L2VuY3J5cHQuanMnO1xuaW1wb3J0IHsgSldUQ2xhaW1zQnVpbGRlciB9IGZyb20gJy4uL2xpYi9qd3RfY2xhaW1zX3NldC5qcyc7XG5leHBvcnQgY2xhc3MgRW5jcnlwdEpXVCB7XG4gICAgI2NlaztcbiAgICAjaXY7XG4gICAgI2tleU1hbmFnZW1lbnRQYXJhbWV0ZXJzO1xuICAgICNwcm90ZWN0ZWRIZWFkZXI7XG4gICAgI3JlcGxpY2F0ZUlzc3VlckFzSGVhZGVyO1xuICAgICNyZXBsaWNhdGVTdWJqZWN0QXNIZWFkZXI7XG4gICAgI3JlcGxpY2F0ZUF1ZGllbmNlQXNIZWFkZXI7XG4gICAgI2p3dDtcbiAgICBjb25zdHJ1Y3RvcihwYXlsb2FkID0ge30pIHtcbiAgICAgICAgdGhpcy4jand0ID0gbmV3IEpXVENsYWltc0J1aWxkZXIocGF5bG9hZCk7XG4gICAgfVxuICAgIHNldElzc3Vlcihpc3N1ZXIpIHtcbiAgICAgICAgdGhpcy4jand0LmlzcyA9IGlzc3VlcjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHNldFN1YmplY3Qoc3ViamVjdCkge1xuICAgICAgICB0aGlzLiNqd3Quc3ViID0gc3ViamVjdDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHNldEF1ZGllbmNlKGF1ZGllbmNlKSB7XG4gICAgICAgIHRoaXMuI2p3dC5hdWQgPSBhdWRpZW5jZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHNldEp0aShqd3RJZCkge1xuICAgICAgICB0aGlzLiNqd3QuanRpID0gand0SWQ7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzZXROb3RCZWZvcmUoaW5wdXQpIHtcbiAgICAgICAgdGhpcy4jand0Lm5iZiA9IGlucHV0O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc2V0RXhwaXJhdGlvblRpbWUoaW5wdXQpIHtcbiAgICAgICAgdGhpcy4jand0LmV4cCA9IGlucHV0O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc2V0SXNzdWVkQXQoaW5wdXQpIHtcbiAgICAgICAgdGhpcy4jand0LmlhdCA9IGlucHV0O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc2V0UHJvdGVjdGVkSGVhZGVyKHByb3RlY3RlZEhlYWRlcikge1xuICAgICAgICBpZiAodGhpcy4jcHJvdGVjdGVkSGVhZGVyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdzZXRQcm90ZWN0ZWRIZWFkZXIgY2FuIG9ubHkgYmUgY2FsbGVkIG9uY2UnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiNwcm90ZWN0ZWRIZWFkZXIgPSBwcm90ZWN0ZWRIZWFkZXI7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzZXRLZXlNYW5hZ2VtZW50UGFyYW1ldGVycyhwYXJhbWV0ZXJzKSB7XG4gICAgICAgIGlmICh0aGlzLiNrZXlNYW5hZ2VtZW50UGFyYW1ldGVycykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignc2V0S2V5TWFuYWdlbWVudFBhcmFtZXRlcnMgY2FuIG9ubHkgYmUgY2FsbGVkIG9uY2UnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiNrZXlNYW5hZ2VtZW50UGFyYW1ldGVycyA9IHBhcmFtZXRlcnM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzZXRDb250ZW50RW5jcnlwdGlvbktleShjZWspIHtcbiAgICAgICAgaWYgKHRoaXMuI2Nlaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignc2V0Q29udGVudEVuY3J5cHRpb25LZXkgY2FuIG9ubHkgYmUgY2FsbGVkIG9uY2UnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiNjZWsgPSBjZWs7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzZXRJbml0aWFsaXphdGlvblZlY3Rvcihpdikge1xuICAgICAgICBpZiAodGhpcy4jaXYpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3NldEluaXRpYWxpemF0aW9uVmVjdG9yIGNhbiBvbmx5IGJlIGNhbGxlZCBvbmNlJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4jaXYgPSBpdjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJlcGxpY2F0ZUlzc3VlckFzSGVhZGVyKCkge1xuICAgICAgICB0aGlzLiNyZXBsaWNhdGVJc3N1ZXJBc0hlYWRlciA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXBsaWNhdGVTdWJqZWN0QXNIZWFkZXIoKSB7XG4gICAgICAgIHRoaXMuI3JlcGxpY2F0ZVN1YmplY3RBc0hlYWRlciA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXBsaWNhdGVBdWRpZW5jZUFzSGVhZGVyKCkge1xuICAgICAgICB0aGlzLiNyZXBsaWNhdGVBdWRpZW5jZUFzSGVhZGVyID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGFzeW5jIGVuY3J5cHQoa2V5LCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGVuYyA9IG5ldyBDb21wYWN0RW5jcnlwdCh0aGlzLiNqd3QuZGF0YSgpKTtcbiAgICAgICAgaWYgKHRoaXMuI3Byb3RlY3RlZEhlYWRlciAmJlxuICAgICAgICAgICAgKHRoaXMuI3JlcGxpY2F0ZUlzc3VlckFzSGVhZGVyIHx8XG4gICAgICAgICAgICAgICAgdGhpcy4jcmVwbGljYXRlU3ViamVjdEFzSGVhZGVyIHx8XG4gICAgICAgICAgICAgICAgdGhpcy4jcmVwbGljYXRlQXVkaWVuY2VBc0hlYWRlcikpIHtcbiAgICAgICAgICAgIHRoaXMuI3Byb3RlY3RlZEhlYWRlciA9IHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLiNwcm90ZWN0ZWRIZWFkZXIsXG4gICAgICAgICAgICAgICAgaXNzOiB0aGlzLiNyZXBsaWNhdGVJc3N1ZXJBc0hlYWRlciA/IHRoaXMuI2p3dC5pc3MgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgc3ViOiB0aGlzLiNyZXBsaWNhdGVTdWJqZWN0QXNIZWFkZXIgPyB0aGlzLiNqd3Quc3ViIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGF1ZDogdGhpcy4jcmVwbGljYXRlQXVkaWVuY2VBc0hlYWRlciA/IHRoaXMuI2p3dC5hdWQgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVuYy5zZXRQcm90ZWN0ZWRIZWFkZXIodGhpcy4jcHJvdGVjdGVkSGVhZGVyKTtcbiAgICAgICAgaWYgKHRoaXMuI2l2KSB7XG4gICAgICAgICAgICBlbmMuc2V0SW5pdGlhbGl6YXRpb25WZWN0b3IodGhpcy4jaXYpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLiNjZWspIHtcbiAgICAgICAgICAgIGVuYy5zZXRDb250ZW50RW5jcnlwdGlvbktleSh0aGlzLiNjZWspO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLiNrZXlNYW5hZ2VtZW50UGFyYW1ldGVycykge1xuICAgICAgICAgICAgZW5jLnNldEtleU1hbmFnZW1lbnRQYXJhbWV0ZXJzKHRoaXMuI2tleU1hbmFnZW1lbnRQYXJhbWV0ZXJzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW5jLmVuY3J5cHQoa2V5LCBvcHRpb25zKTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/jwt/encrypt.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/jwt/verify.js":
/*!*****************************************************!*\
  !*** ./node_modules/jose/dist/webapi/jwt/verify.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   jwtVerify: () => (/* binding */ jwtVerify)\n/* harmony export */ });\n/* harmony import */ var _jws_compact_verify_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../jws/compact/verify.js */ \"(middleware)/./node_modules/jose/dist/webapi/jws/compact/verify.js\");\n/* harmony import */ var _lib_jwt_claims_set_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/jwt_claims_set.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/jwt_claims_set.js\");\n/* harmony import */ var _util_errors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/errors.js */ \"(middleware)/./node_modules/jose/dist/webapi/util/errors.js\");\n\n\n\nasync function jwtVerify(jwt, key, options) {\n    const verified = await (0,_jws_compact_verify_js__WEBPACK_IMPORTED_MODULE_0__.compactVerify)(jwt, key, options);\n    if (verified.protectedHeader.crit?.includes('b64') && verified.protectedHeader.b64 === false) {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JWTInvalid('JWTs MUST NOT use unencoded payload');\n    }\n    const payload = (0,_lib_jwt_claims_set_js__WEBPACK_IMPORTED_MODULE_2__.validateClaimsSet)(verified.protectedHeader, verified.payload, options);\n    const result = { payload, protectedHeader: verified.protectedHeader };\n    if (typeof key === 'function') {\n        return { ...result, key: verified.key };\n    }\n    return result;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvand0L3ZlcmlmeS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXlEO0FBQ0k7QUFDZDtBQUN4QztBQUNQLDJCQUEyQixxRUFBYTtBQUN4QztBQUNBLGtCQUFrQix1REFBVTtBQUM1QjtBQUNBLG9CQUFvQix5RUFBaUI7QUFDckMscUJBQXFCO0FBQ3JCO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcam9zZVxcZGlzdFxcd2ViYXBpXFxqd3RcXHZlcmlmeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb21wYWN0VmVyaWZ5IH0gZnJvbSAnLi4vandzL2NvbXBhY3QvdmVyaWZ5LmpzJztcbmltcG9ydCB7IHZhbGlkYXRlQ2xhaW1zU2V0IH0gZnJvbSAnLi4vbGliL2p3dF9jbGFpbXNfc2V0LmpzJztcbmltcG9ydCB7IEpXVEludmFsaWQgfSBmcm9tICcuLi91dGlsL2Vycm9ycy5qcyc7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gand0VmVyaWZ5KGp3dCwga2V5LCBvcHRpb25zKSB7XG4gICAgY29uc3QgdmVyaWZpZWQgPSBhd2FpdCBjb21wYWN0VmVyaWZ5KGp3dCwga2V5LCBvcHRpb25zKTtcbiAgICBpZiAodmVyaWZpZWQucHJvdGVjdGVkSGVhZGVyLmNyaXQ/LmluY2x1ZGVzKCdiNjQnKSAmJiB2ZXJpZmllZC5wcm90ZWN0ZWRIZWFkZXIuYjY0ID09PSBmYWxzZSkge1xuICAgICAgICB0aHJvdyBuZXcgSldUSW52YWxpZCgnSldUcyBNVVNUIE5PVCB1c2UgdW5lbmNvZGVkIHBheWxvYWQnKTtcbiAgICB9XG4gICAgY29uc3QgcGF5bG9hZCA9IHZhbGlkYXRlQ2xhaW1zU2V0KHZlcmlmaWVkLnByb3RlY3RlZEhlYWRlciwgdmVyaWZpZWQucGF5bG9hZCwgb3B0aW9ucyk7XG4gICAgY29uc3QgcmVzdWx0ID0geyBwYXlsb2FkLCBwcm90ZWN0ZWRIZWFkZXI6IHZlcmlmaWVkLnByb3RlY3RlZEhlYWRlciB9O1xuICAgIGlmICh0eXBlb2Yga2V5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3VsdCwga2V5OiB2ZXJpZmllZC5rZXkgfTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/jwt/verify.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/key/export.js":
/*!*****************************************************!*\
  !*** ./node_modules/jose/dist/webapi/key/export.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   exportJWK: () => (/* binding */ exportJWK),\n/* harmony export */   exportPKCS8: () => (/* binding */ exportPKCS8),\n/* harmony export */   exportSPKI: () => (/* binding */ exportSPKI)\n/* harmony export */ });\n/* harmony import */ var _lib_asn1_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/asn1.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/asn1.js\");\n/* harmony import */ var _lib_key_to_jwk_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/key_to_jwk.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/key_to_jwk.js\");\n\n\nasync function exportSPKI(key) {\n    return (0,_lib_asn1_js__WEBPACK_IMPORTED_MODULE_0__.toSPKI)(key);\n}\nasync function exportPKCS8(key) {\n    return (0,_lib_asn1_js__WEBPACK_IMPORTED_MODULE_0__.toPKCS8)(key);\n}\nasync function exportJWK(key) {\n    return (0,_lib_key_to_jwk_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(key);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkva2V5L2V4cG9ydC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFrRjtBQUN0QztBQUNyQztBQUNQLFdBQVcsb0RBQVk7QUFDdkI7QUFDTztBQUNQLFdBQVcscURBQWE7QUFDeEI7QUFDTztBQUNQLFdBQVcsOERBQVE7QUFDbkIiLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXGpvc2VcXGRpc3RcXHdlYmFwaVxca2V5XFxleHBvcnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdG9TUEtJIGFzIGV4cG9ydFB1YmxpYywgdG9QS0NTOCBhcyBleHBvcnRQcml2YXRlIH0gZnJvbSAnLi4vbGliL2FzbjEuanMnO1xuaW1wb3J0IGtleVRvSldLIGZyb20gJy4uL2xpYi9rZXlfdG9fandrLmpzJztcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBleHBvcnRTUEtJKGtleSkge1xuICAgIHJldHVybiBleHBvcnRQdWJsaWMoa2V5KTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBleHBvcnRQS0NTOChrZXkpIHtcbiAgICByZXR1cm4gZXhwb3J0UHJpdmF0ZShrZXkpO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGV4cG9ydEpXSyhrZXkpIHtcbiAgICByZXR1cm4ga2V5VG9KV0soa2V5KTtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/key/export.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/key/import.js":
/*!*****************************************************!*\
  !*** ./node_modules/jose/dist/webapi/key/import.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   importJWK: () => (/* binding */ importJWK),\n/* harmony export */   importPKCS8: () => (/* binding */ importPKCS8),\n/* harmony export */   importSPKI: () => (/* binding */ importSPKI),\n/* harmony export */   importX509: () => (/* binding */ importX509)\n/* harmony export */ });\n/* harmony import */ var _util_base64url_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/base64url.js */ \"(middleware)/./node_modules/jose/dist/webapi/util/base64url.js\");\n/* harmony import */ var _lib_asn1_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/asn1.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/asn1.js\");\n/* harmony import */ var _lib_jwk_to_key_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/jwk_to_key.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/jwk_to_key.js\");\n/* harmony import */ var _util_errors_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/errors.js */ \"(middleware)/./node_modules/jose/dist/webapi/util/errors.js\");\n/* harmony import */ var _lib_is_object_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/is_object.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/is_object.js\");\n\n\n\n\n\nasync function importSPKI(spki, alg, options) {\n    if (typeof spki !== 'string' || spki.indexOf('-----BEGIN PUBLIC KEY-----') !== 0) {\n        throw new TypeError('\"spki\" must be SPKI formatted string');\n    }\n    return (0,_lib_asn1_js__WEBPACK_IMPORTED_MODULE_0__.fromSPKI)(spki, alg, options);\n}\nasync function importX509(x509, alg, options) {\n    if (typeof x509 !== 'string' || x509.indexOf('-----BEGIN CERTIFICATE-----') !== 0) {\n        throw new TypeError('\"x509\" must be X.509 formatted string');\n    }\n    return (0,_lib_asn1_js__WEBPACK_IMPORTED_MODULE_0__.fromX509)(x509, alg, options);\n}\nasync function importPKCS8(pkcs8, alg, options) {\n    if (typeof pkcs8 !== 'string' || pkcs8.indexOf('-----BEGIN PRIVATE KEY-----') !== 0) {\n        throw new TypeError('\"pkcs8\" must be PKCS#8 formatted string');\n    }\n    return (0,_lib_asn1_js__WEBPACK_IMPORTED_MODULE_0__.fromPKCS8)(pkcs8, alg, options);\n}\nasync function importJWK(jwk, alg, options) {\n    if (!(0,_lib_is_object_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(jwk)) {\n        throw new TypeError('JWK must be an object');\n    }\n    let ext;\n    alg ??= jwk.alg;\n    ext ??= options?.extractable ?? jwk.ext;\n    switch (jwk.kty) {\n        case 'oct':\n            if (typeof jwk.k !== 'string' || !jwk.k) {\n                throw new TypeError('missing \"k\" (Key Value) Parameter value');\n            }\n            return (0,_util_base64url_js__WEBPACK_IMPORTED_MODULE_2__.decode)(jwk.k);\n        case 'RSA':\n            if ('oth' in jwk && jwk.oth !== undefined) {\n                throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_3__.JOSENotSupported('RSA JWK \"oth\" (Other Primes Info) Parameter value is not supported');\n            }\n            return (0,_lib_jwk_to_key_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])({ ...jwk, alg, ext });\n        case 'AKP': {\n            if (typeof jwk.alg !== 'string' || !jwk.alg) {\n                throw new TypeError('missing \"alg\" (Algorithm) Parameter value');\n            }\n            if (alg !== undefined && alg !== jwk.alg) {\n                throw new TypeError('JWK alg and alg option value mismatch');\n            }\n            return (0,_lib_jwk_to_key_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])({ ...jwk, ext });\n        }\n        case 'EC':\n        case 'OKP':\n            return (0,_lib_jwk_to_key_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])({ ...jwk, alg, ext });\n        default:\n            throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_3__.JOSENotSupported('Unsupported \"kty\" (Key Type) Parameter value');\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkva2V5L2ltcG9ydC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBaUU7QUFDRjtBQUNoQjtBQUNNO0FBQ1Y7QUFDcEM7QUFDUDtBQUNBO0FBQ0E7QUFDQSxXQUFXLHNEQUFRO0FBQ25CO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxXQUFXLHNEQUFRO0FBQ25CO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxXQUFXLHVEQUFTO0FBQ3BCO0FBQ087QUFDUCxTQUFTLDZEQUFRO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDBEQUFlO0FBQ2xDO0FBQ0E7QUFDQSwwQkFBMEIsNkRBQWdCO0FBQzFDO0FBQ0EsbUJBQW1CLDhEQUFXLEdBQUcsa0JBQWtCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDhEQUFXLEdBQUcsYUFBYTtBQUM5QztBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsOERBQVcsR0FBRyxrQkFBa0I7QUFDbkQ7QUFDQSxzQkFBc0IsNkRBQWdCO0FBQ3RDO0FBQ0EiLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXGpvc2VcXGRpc3RcXHdlYmFwaVxca2V5XFxpbXBvcnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGVjb2RlIGFzIGRlY29kZUJhc2U2NFVSTCB9IGZyb20gJy4uL3V0aWwvYmFzZTY0dXJsLmpzJztcbmltcG9ydCB7IGZyb21TUEtJLCBmcm9tUEtDUzgsIGZyb21YNTA5IH0gZnJvbSAnLi4vbGliL2FzbjEuanMnO1xuaW1wb3J0IHRvQ3J5cHRvS2V5IGZyb20gJy4uL2xpYi9qd2tfdG9fa2V5LmpzJztcbmltcG9ydCB7IEpPU0VOb3RTdXBwb3J0ZWQgfSBmcm9tICcuLi91dGlsL2Vycm9ycy5qcyc7XG5pbXBvcnQgaXNPYmplY3QgZnJvbSAnLi4vbGliL2lzX29iamVjdC5qcyc7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW1wb3J0U1BLSShzcGtpLCBhbGcsIG9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIHNwa2kgIT09ICdzdHJpbmcnIHx8IHNwa2kuaW5kZXhPZignLS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0nKSAhPT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInNwa2lcIiBtdXN0IGJlIFNQS0kgZm9ybWF0dGVkIHN0cmluZycpO1xuICAgIH1cbiAgICByZXR1cm4gZnJvbVNQS0koc3BraSwgYWxnLCBvcHRpb25zKTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbXBvcnRYNTA5KHg1MDksIGFsZywgb3B0aW9ucykge1xuICAgIGlmICh0eXBlb2YgeDUwOSAhPT0gJ3N0cmluZycgfHwgeDUwOS5pbmRleE9mKCctLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0nKSAhPT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcIng1MDlcIiBtdXN0IGJlIFguNTA5IGZvcm1hdHRlZCBzdHJpbmcnKTtcbiAgICB9XG4gICAgcmV0dXJuIGZyb21YNTA5KHg1MDksIGFsZywgb3B0aW9ucyk7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW1wb3J0UEtDUzgocGtjczgsIGFsZywgb3B0aW9ucykge1xuICAgIGlmICh0eXBlb2YgcGtjczggIT09ICdzdHJpbmcnIHx8IHBrY3M4LmluZGV4T2YoJy0tLS0tQkVHSU4gUFJJVkFURSBLRVktLS0tLScpICE9PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wicGtjczhcIiBtdXN0IGJlIFBLQ1MjOCBmb3JtYXR0ZWQgc3RyaW5nJyk7XG4gICAgfVxuICAgIHJldHVybiBmcm9tUEtDUzgocGtjczgsIGFsZywgb3B0aW9ucyk7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW1wb3J0SldLKGp3aywgYWxnLCBvcHRpb25zKSB7XG4gICAgaWYgKCFpc09iamVjdChqd2spKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0pXSyBtdXN0IGJlIGFuIG9iamVjdCcpO1xuICAgIH1cbiAgICBsZXQgZXh0O1xuICAgIGFsZyA/Pz0gandrLmFsZztcbiAgICBleHQgPz89IG9wdGlvbnM/LmV4dHJhY3RhYmxlID8/IGp3ay5leHQ7XG4gICAgc3dpdGNoIChqd2sua3R5KSB7XG4gICAgICAgIGNhc2UgJ29jdCc6XG4gICAgICAgICAgICBpZiAodHlwZW9mIGp3ay5rICE9PSAnc3RyaW5nJyB8fCAhandrLmspIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdtaXNzaW5nIFwia1wiIChLZXkgVmFsdWUpIFBhcmFtZXRlciB2YWx1ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRlY29kZUJhc2U2NFVSTChqd2suayk7XG4gICAgICAgIGNhc2UgJ1JTQSc6XG4gICAgICAgICAgICBpZiAoJ290aCcgaW4gandrICYmIGp3ay5vdGggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBKT1NFTm90U3VwcG9ydGVkKCdSU0EgSldLIFwib3RoXCIgKE90aGVyIFByaW1lcyBJbmZvKSBQYXJhbWV0ZXIgdmFsdWUgaXMgbm90IHN1cHBvcnRlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRvQ3J5cHRvS2V5KHsgLi4uandrLCBhbGcsIGV4dCB9KTtcbiAgICAgICAgY2FzZSAnQUtQJzoge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBqd2suYWxnICE9PSAnc3RyaW5nJyB8fCAhandrLmFsZykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ21pc3NpbmcgXCJhbGdcIiAoQWxnb3JpdGhtKSBQYXJhbWV0ZXIgdmFsdWUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhbGcgIT09IHVuZGVmaW5lZCAmJiBhbGcgIT09IGp3ay5hbGcpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdKV0sgYWxnIGFuZCBhbGcgb3B0aW9uIHZhbHVlIG1pc21hdGNoJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdG9DcnlwdG9LZXkoeyAuLi5qd2ssIGV4dCB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdFQyc6XG4gICAgICAgIGNhc2UgJ09LUCc6XG4gICAgICAgICAgICByZXR1cm4gdG9DcnlwdG9LZXkoeyAuLi5qd2ssIGFsZywgZXh0IH0pO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEpPU0VOb3RTdXBwb3J0ZWQoJ1Vuc3VwcG9ydGVkIFwia3R5XCIgKEtleSBUeXBlKSBQYXJhbWV0ZXIgdmFsdWUnKTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/key/import.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/lib/aesgcmkw.js":
/*!*******************************************************!*\
  !*** ./node_modules/jose/dist/webapi/lib/aesgcmkw.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   unwrap: () => (/* binding */ unwrap),\n/* harmony export */   wrap: () => (/* binding */ wrap)\n/* harmony export */ });\n/* harmony import */ var _encrypt_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./encrypt.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/encrypt.js\");\n/* harmony import */ var _decrypt_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./decrypt.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/decrypt.js\");\n/* harmony import */ var _util_base64url_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/base64url.js */ \"(middleware)/./node_modules/jose/dist/webapi/util/base64url.js\");\n\n\n\nasync function wrap(alg, key, cek, iv) {\n    const jweAlgorithm = alg.slice(0, 7);\n    const wrapped = await (0,_encrypt_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(jweAlgorithm, cek, key, iv, new Uint8Array(0));\n    return {\n        encryptedKey: wrapped.ciphertext,\n        iv: (0,_util_base64url_js__WEBPACK_IMPORTED_MODULE_1__.encode)(wrapped.iv),\n        tag: (0,_util_base64url_js__WEBPACK_IMPORTED_MODULE_1__.encode)(wrapped.tag),\n    };\n}\nasync function unwrap(alg, key, encryptedKey, iv, tag) {\n    const jweAlgorithm = alg.slice(0, 7);\n    return (0,_decrypt_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(jweAlgorithm, key, encryptedKey, iv, tag, new Uint8Array(0));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvbGliL2Flc2djbWt3LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQW1DO0FBQ0E7QUFDbUI7QUFDL0M7QUFDUDtBQUNBLDBCQUEwQix1REFBTztBQUNqQztBQUNBO0FBQ0EsWUFBWSwwREFBSTtBQUNoQixhQUFhLDBEQUFJO0FBQ2pCO0FBQ0E7QUFDTztBQUNQO0FBQ0EsV0FBVyx1REFBTztBQUNsQiIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcam9zZVxcZGlzdFxcd2ViYXBpXFxsaWJcXGFlc2djbWt3LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBlbmNyeXB0IGZyb20gJy4vZW5jcnlwdC5qcyc7XG5pbXBvcnQgZGVjcnlwdCBmcm9tICcuL2RlY3J5cHQuanMnO1xuaW1wb3J0IHsgZW5jb2RlIGFzIGI2NHUgfSBmcm9tICcuLi91dGlsL2Jhc2U2NHVybC5qcyc7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gd3JhcChhbGcsIGtleSwgY2VrLCBpdikge1xuICAgIGNvbnN0IGp3ZUFsZ29yaXRobSA9IGFsZy5zbGljZSgwLCA3KTtcbiAgICBjb25zdCB3cmFwcGVkID0gYXdhaXQgZW5jcnlwdChqd2VBbGdvcml0aG0sIGNlaywga2V5LCBpdiwgbmV3IFVpbnQ4QXJyYXkoMCkpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGVuY3J5cHRlZEtleTogd3JhcHBlZC5jaXBoZXJ0ZXh0LFxuICAgICAgICBpdjogYjY0dSh3cmFwcGVkLml2KSxcbiAgICAgICAgdGFnOiBiNjR1KHdyYXBwZWQudGFnKSxcbiAgICB9O1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVud3JhcChhbGcsIGtleSwgZW5jcnlwdGVkS2V5LCBpdiwgdGFnKSB7XG4gICAgY29uc3QgandlQWxnb3JpdGhtID0gYWxnLnNsaWNlKDAsIDcpO1xuICAgIHJldHVybiBkZWNyeXB0KGp3ZUFsZ29yaXRobSwga2V5LCBlbmNyeXB0ZWRLZXksIGl2LCB0YWcsIG5ldyBVaW50OEFycmF5KDApKTtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/lib/aesgcmkw.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/lib/aeskw.js":
/*!****************************************************!*\
  !*** ./node_modules/jose/dist/webapi/lib/aeskw.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   unwrap: () => (/* binding */ unwrap),\n/* harmony export */   wrap: () => (/* binding */ wrap)\n/* harmony export */ });\n/* harmony import */ var _crypto_key_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./crypto_key.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/crypto_key.js\");\n\nfunction checkKeySize(key, alg) {\n    if (key.algorithm.length !== parseInt(alg.slice(1, 4), 10)) {\n        throw new TypeError(`Invalid key size for alg: ${alg}`);\n    }\n}\nfunction getCryptoKey(key, alg, usage) {\n    if (key instanceof Uint8Array) {\n        return crypto.subtle.importKey('raw', key, 'AES-KW', true, [usage]);\n    }\n    (0,_crypto_key_js__WEBPACK_IMPORTED_MODULE_0__.checkEncCryptoKey)(key, alg, usage);\n    return key;\n}\nasync function wrap(alg, key, cek) {\n    const cryptoKey = await getCryptoKey(key, alg, 'wrapKey');\n    checkKeySize(cryptoKey, alg);\n    const cryptoKeyCek = await crypto.subtle.importKey('raw', cek, { hash: 'SHA-256', name: 'HMAC' }, true, ['sign']);\n    return new Uint8Array(await crypto.subtle.wrapKey('raw', cryptoKeyCek, cryptoKey, 'AES-KW'));\n}\nasync function unwrap(alg, key, encryptedKey) {\n    const cryptoKey = await getCryptoKey(key, alg, 'unwrapKey');\n    checkKeySize(cryptoKey, alg);\n    const cryptoKeyCek = await crypto.subtle.unwrapKey('raw', encryptedKey, cryptoKey, 'AES-KW', { hash: 'SHA-256', name: 'HMAC' }, true, ['sign']);\n    return new Uint8Array(await crypto.subtle.exportKey('raw', cryptoKeyCek));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvbGliL2Flc2t3LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFvRDtBQUNwRDtBQUNBO0FBQ0EseURBQXlELElBQUk7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxpRUFBaUI7QUFDckI7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLHFFQUFxRSwrQkFBK0I7QUFDcEc7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLG1HQUFtRywrQkFBK0I7QUFDbEk7QUFDQSIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcam9zZVxcZGlzdFxcd2ViYXBpXFxsaWJcXGFlc2t3LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNoZWNrRW5jQ3J5cHRvS2V5IH0gZnJvbSAnLi9jcnlwdG9fa2V5LmpzJztcbmZ1bmN0aW9uIGNoZWNrS2V5U2l6ZShrZXksIGFsZykge1xuICAgIGlmIChrZXkuYWxnb3JpdGhtLmxlbmd0aCAhPT0gcGFyc2VJbnQoYWxnLnNsaWNlKDEsIDQpLCAxMCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgSW52YWxpZCBrZXkgc2l6ZSBmb3IgYWxnOiAke2FsZ31gKTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRDcnlwdG9LZXkoa2V5LCBhbGcsIHVzYWdlKSB7XG4gICAgaWYgKGtleSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIGNyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KCdyYXcnLCBrZXksICdBRVMtS1cnLCB0cnVlLCBbdXNhZ2VdKTtcbiAgICB9XG4gICAgY2hlY2tFbmNDcnlwdG9LZXkoa2V5LCBhbGcsIHVzYWdlKTtcbiAgICByZXR1cm4ga2V5O1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHdyYXAoYWxnLCBrZXksIGNlaykge1xuICAgIGNvbnN0IGNyeXB0b0tleSA9IGF3YWl0IGdldENyeXB0b0tleShrZXksIGFsZywgJ3dyYXBLZXknKTtcbiAgICBjaGVja0tleVNpemUoY3J5cHRvS2V5LCBhbGcpO1xuICAgIGNvbnN0IGNyeXB0b0tleUNlayA9IGF3YWl0IGNyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KCdyYXcnLCBjZWssIHsgaGFzaDogJ1NIQS0yNTYnLCBuYW1lOiAnSE1BQycgfSwgdHJ1ZSwgWydzaWduJ10pO1xuICAgIHJldHVybiBuZXcgVWludDhBcnJheShhd2FpdCBjcnlwdG8uc3VidGxlLndyYXBLZXkoJ3JhdycsIGNyeXB0b0tleUNlaywgY3J5cHRvS2V5LCAnQUVTLUtXJykpO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVud3JhcChhbGcsIGtleSwgZW5jcnlwdGVkS2V5KSB7XG4gICAgY29uc3QgY3J5cHRvS2V5ID0gYXdhaXQgZ2V0Q3J5cHRvS2V5KGtleSwgYWxnLCAndW53cmFwS2V5Jyk7XG4gICAgY2hlY2tLZXlTaXplKGNyeXB0b0tleSwgYWxnKTtcbiAgICBjb25zdCBjcnlwdG9LZXlDZWsgPSBhd2FpdCBjcnlwdG8uc3VidGxlLnVud3JhcEtleSgncmF3JywgZW5jcnlwdGVkS2V5LCBjcnlwdG9LZXksICdBRVMtS1cnLCB7IGhhc2g6ICdTSEEtMjU2JywgbmFtZTogJ0hNQUMnIH0sIHRydWUsIFsnc2lnbiddKTtcbiAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYXdhaXQgY3J5cHRvLnN1YnRsZS5leHBvcnRLZXkoJ3JhdycsIGNyeXB0b0tleUNlaykpO1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/lib/aeskw.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/lib/asn1.js":
/*!***************************************************!*\
  !*** ./node_modules/jose/dist/webapi/lib/asn1.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fromPKCS8: () => (/* binding */ fromPKCS8),\n/* harmony export */   fromSPKI: () => (/* binding */ fromSPKI),\n/* harmony export */   fromX509: () => (/* binding */ fromX509),\n/* harmony export */   toPKCS8: () => (/* binding */ toPKCS8),\n/* harmony export */   toSPKI: () => (/* binding */ toSPKI)\n/* harmony export */ });\n/* harmony import */ var _invalid_key_input_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./invalid_key_input.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/invalid_key_input.js\");\n/* harmony import */ var _lib_base64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/base64.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/base64.js\");\n/* harmony import */ var _util_errors_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/errors.js */ \"(middleware)/./node_modules/jose/dist/webapi/util/errors.js\");\n/* harmony import */ var _is_key_like_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./is_key_like.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/is_key_like.js\");\n\n\n\n\nconst formatPEM = (b64, descriptor) => {\n    const newlined = (b64.match(/.{1,64}/g) || []).join('\\n');\n    return `-----BEGIN ${descriptor}-----\\n${newlined}\\n-----END ${descriptor}-----`;\n};\nconst genericExport = async (keyType, keyFormat, key) => {\n    if ((0,_is_key_like_js__WEBPACK_IMPORTED_MODULE_0__.isKeyObject)(key)) {\n        if (key.type !== keyType) {\n            throw new TypeError(`key is not a ${keyType} key`);\n        }\n        return key.export({ format: 'pem', type: keyFormat });\n    }\n    if (!(0,_is_key_like_js__WEBPACK_IMPORTED_MODULE_0__.isCryptoKey)(key)) {\n        throw new TypeError((0,_invalid_key_input_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(key, 'CryptoKey', 'KeyObject'));\n    }\n    if (!key.extractable) {\n        throw new TypeError('CryptoKey is not extractable');\n    }\n    if (key.type !== keyType) {\n        throw new TypeError(`key is not a ${keyType} key`);\n    }\n    return formatPEM((0,_lib_base64_js__WEBPACK_IMPORTED_MODULE_2__.encodeBase64)(new Uint8Array(await crypto.subtle.exportKey(keyFormat, key))), `${keyType.toUpperCase()} KEY`);\n};\nconst toSPKI = (key) => {\n    return genericExport('public', 'spki', key);\n};\nconst toPKCS8 = (key) => {\n    return genericExport('private', 'pkcs8', key);\n};\nconst bytesEqual = (a, b) => {\n    if (a.byteLength !== b.length)\n        return false;\n    for (let i = 0; i < a.byteLength; i++) {\n        if (a[i] !== b[i])\n            return false;\n    }\n    return true;\n};\nconst createASN1State = (data) => ({ data, pos: 0 });\nconst parseLength = (state) => {\n    const first = state.data[state.pos++];\n    if (first & 0x80) {\n        const lengthOfLen = first & 0x7f;\n        let length = 0;\n        for (let i = 0; i < lengthOfLen; i++) {\n            length = (length << 8) | state.data[state.pos++];\n        }\n        return length;\n    }\n    return first;\n};\nconst skipElement = (state, count = 1) => {\n    if (count <= 0)\n        return;\n    state.pos++;\n    const length = parseLength(state);\n    state.pos += length;\n    if (count > 1) {\n        skipElement(state, count - 1);\n    }\n};\nconst expectTag = (state, expectedTag, errorMessage) => {\n    if (state.data[state.pos++] !== expectedTag) {\n        throw new Error(errorMessage);\n    }\n};\nconst getSubarray = (state, length) => {\n    const result = state.data.subarray(state.pos, state.pos + length);\n    state.pos += length;\n    return result;\n};\nconst parseAlgorithmOID = (state) => {\n    expectTag(state, 0x06, 'Expected algorithm OID');\n    const oidLen = parseLength(state);\n    return getSubarray(state, oidLen);\n};\nfunction parsePKCS8Header(state) {\n    expectTag(state, 0x30, 'Invalid PKCS#8 structure');\n    parseLength(state);\n    expectTag(state, 0x02, 'Expected version field');\n    const verLen = parseLength(state);\n    state.pos += verLen;\n    expectTag(state, 0x30, 'Expected algorithm identifier');\n    const algIdLen = parseLength(state);\n    const algIdStart = state.pos;\n    return { algIdStart, algIdLength: algIdLen };\n}\nfunction parseSPKIHeader(state) {\n    expectTag(state, 0x30, 'Invalid SPKI structure');\n    parseLength(state);\n    expectTag(state, 0x30, 'Expected algorithm identifier');\n    const algIdLen = parseLength(state);\n    const algIdStart = state.pos;\n    return { algIdStart, algIdLength: algIdLen };\n}\nconst parseECAlgorithmIdentifier = (state) => {\n    const algOid = parseAlgorithmOID(state);\n    if (bytesEqual(algOid, [0x2b, 0x65, 0x6e])) {\n        return 'X25519';\n    }\n    if (!bytesEqual(algOid, [0x2a, 0x86, 0x48, 0xce, 0x3d, 0x02, 0x01])) {\n        throw new Error('Unsupported key algorithm');\n    }\n    expectTag(state, 0x06, 'Expected curve OID');\n    const curveOidLen = parseLength(state);\n    const curveOid = getSubarray(state, curveOidLen);\n    for (const { name, oid } of [\n        { name: 'P-256', oid: [0x2a, 0x86, 0x48, 0xce, 0x3d, 0x03, 0x01, 0x07] },\n        { name: 'P-384', oid: [0x2b, 0x81, 0x04, 0x00, 0x22] },\n        { name: 'P-521', oid: [0x2b, 0x81, 0x04, 0x00, 0x23] },\n    ]) {\n        if (bytesEqual(curveOid, oid)) {\n            return name;\n        }\n    }\n    throw new Error('Unsupported named curve');\n};\nconst genericImport = async (keyFormat, keyData, alg, options) => {\n    let algorithm;\n    let keyUsages;\n    const isPublic = keyFormat === 'spki';\n    const getSigUsages = () => (isPublic ? ['verify'] : ['sign']);\n    const getEncUsages = () => isPublic ? ['encrypt', 'wrapKey'] : ['decrypt', 'unwrapKey'];\n    switch (alg) {\n        case 'PS256':\n        case 'PS384':\n        case 'PS512':\n            algorithm = { name: 'RSA-PSS', hash: `SHA-${alg.slice(-3)}` };\n            keyUsages = getSigUsages();\n            break;\n        case 'RS256':\n        case 'RS384':\n        case 'RS512':\n            algorithm = { name: 'RSASSA-PKCS1-v1_5', hash: `SHA-${alg.slice(-3)}` };\n            keyUsages = getSigUsages();\n            break;\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512':\n            algorithm = {\n                name: 'RSA-OAEP',\n                hash: `SHA-${parseInt(alg.slice(-3), 10) || 1}`,\n            };\n            keyUsages = getEncUsages();\n            break;\n        case 'ES256':\n        case 'ES384':\n        case 'ES512': {\n            const curveMap = { ES256: 'P-256', ES384: 'P-384', ES512: 'P-521' };\n            algorithm = { name: 'ECDSA', namedCurve: curveMap[alg] };\n            keyUsages = getSigUsages();\n            break;\n        }\n        case 'ECDH-ES':\n        case 'ECDH-ES+A128KW':\n        case 'ECDH-ES+A192KW':\n        case 'ECDH-ES+A256KW': {\n            try {\n                const namedCurve = options.getNamedCurve(keyData);\n                algorithm = namedCurve === 'X25519' ? { name: 'X25519' } : { name: 'ECDH', namedCurve };\n            }\n            catch (cause) {\n                throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_3__.JOSENotSupported('Invalid or unsupported key format');\n            }\n            keyUsages = isPublic ? [] : ['deriveBits'];\n            break;\n        }\n        case 'Ed25519':\n        case 'EdDSA':\n            algorithm = { name: 'Ed25519' };\n            keyUsages = getSigUsages();\n            break;\n        case 'ML-DSA-44':\n        case 'ML-DSA-65':\n        case 'ML-DSA-87':\n            algorithm = { name: alg };\n            keyUsages = getSigUsages();\n            break;\n        default:\n            throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_3__.JOSENotSupported('Invalid or unsupported \"alg\" (Algorithm) value');\n    }\n    return crypto.subtle.importKey(keyFormat, keyData, algorithm, options?.extractable ?? (isPublic ? true : false), keyUsages);\n};\nconst processPEMData = (pem, pattern) => {\n    return (0,_lib_base64_js__WEBPACK_IMPORTED_MODULE_2__.decodeBase64)(pem.replace(pattern, ''));\n};\nconst fromPKCS8 = (pem, alg, options) => {\n    const keyData = processPEMData(pem, /(?:-----(?:BEGIN|END) PRIVATE KEY-----|\\s)/g);\n    let opts = options;\n    if (alg?.startsWith?.('ECDH-ES')) {\n        opts ||= {};\n        opts.getNamedCurve = (keyData) => {\n            const state = createASN1State(keyData);\n            parsePKCS8Header(state);\n            return parseECAlgorithmIdentifier(state);\n        };\n    }\n    return genericImport('pkcs8', keyData, alg, opts);\n};\nconst fromSPKI = (pem, alg, options) => {\n    const keyData = processPEMData(pem, /(?:-----(?:BEGIN|END) PUBLIC KEY-----|\\s)/g);\n    let opts = options;\n    if (alg?.startsWith?.('ECDH-ES')) {\n        opts ||= {};\n        opts.getNamedCurve = (keyData) => {\n            const state = createASN1State(keyData);\n            parseSPKIHeader(state);\n            return parseECAlgorithmIdentifier(state);\n        };\n    }\n    return genericImport('spki', keyData, alg, opts);\n};\nfunction spkiFromX509(buf) {\n    const state = createASN1State(buf);\n    expectTag(state, 0x30, 'Invalid certificate structure');\n    parseLength(state);\n    expectTag(state, 0x30, 'Invalid tbsCertificate structure');\n    parseLength(state);\n    if (buf[state.pos] === 0xa0) {\n        skipElement(state, 6);\n    }\n    else {\n        skipElement(state, 5);\n    }\n    const spkiStart = state.pos;\n    expectTag(state, 0x30, 'Invalid SPKI structure');\n    const spkiContentLen = parseLength(state);\n    return buf.subarray(spkiStart, spkiStart + spkiContentLen + (state.pos - spkiStart));\n}\nfunction extractX509SPKI(x509) {\n    const derBytes = processPEMData(x509, /(?:-----(?:BEGIN|END) CERTIFICATE-----|\\s)/g);\n    return spkiFromX509(derBytes);\n}\nconst fromX509 = (pem, alg, options) => {\n    let spki;\n    try {\n        spki = extractX509SPKI(pem);\n    }\n    catch (cause) {\n        throw new TypeError('Failed to parse the X.509 certificate', { cause });\n    }\n    return fromSPKI(formatPEM((0,_lib_base64_js__WEBPACK_IMPORTED_MODULE_2__.encodeBase64)(spki), 'PUBLIC KEY'), alg, options);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvbGliL2FzbjEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQXFEO0FBQ1M7QUFDVDtBQUNPO0FBQzVEO0FBQ0EsbUNBQW1DLEtBQUs7QUFDeEMseUJBQXlCLFdBQVcsU0FBUyxTQUFTLGFBQWEsV0FBVztBQUM5RTtBQUNBO0FBQ0EsUUFBUSw0REFBVztBQUNuQjtBQUNBLGdEQUFnRCxTQUFTO0FBQ3pEO0FBQ0EsNEJBQTRCLGdDQUFnQztBQUM1RDtBQUNBLFNBQVMsNERBQVc7QUFDcEIsNEJBQTRCLGlFQUFlO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsU0FBUztBQUNyRDtBQUNBLHFCQUFxQiw0REFBWSxvRUFBb0UsdUJBQXVCO0FBQzVIO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGtCQUFrQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLGNBQWM7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixpQkFBaUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFlBQVk7QUFDN0IsVUFBVSxzRUFBc0U7QUFDaEYsVUFBVSxvREFBb0Q7QUFDOUQsVUFBVSxvREFBb0Q7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiw4QkFBOEIsY0FBYztBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHdDQUF3QyxjQUFjO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsaUNBQWlDO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQiwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELGlCQUFpQixJQUFJO0FBQzdFO0FBQ0E7QUFDQSwwQkFBMEIsNkRBQWdCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw2REFBZ0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDREQUFZO0FBQ3ZCO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVFQUF1RSxPQUFPO0FBQzlFO0FBQ0EsOEJBQThCLDREQUFZO0FBQzFDIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxqb3NlXFxkaXN0XFx3ZWJhcGlcXGxpYlxcYXNuMS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgaW52YWxpZEtleUlucHV0IGZyb20gJy4vaW52YWxpZF9rZXlfaW5wdXQuanMnO1xuaW1wb3J0IHsgZW5jb2RlQmFzZTY0LCBkZWNvZGVCYXNlNjQgfSBmcm9tICcuLi9saWIvYmFzZTY0LmpzJztcbmltcG9ydCB7IEpPU0VOb3RTdXBwb3J0ZWQgfSBmcm9tICcuLi91dGlsL2Vycm9ycy5qcyc7XG5pbXBvcnQgeyBpc0NyeXB0b0tleSwgaXNLZXlPYmplY3QgfSBmcm9tICcuL2lzX2tleV9saWtlLmpzJztcbmNvbnN0IGZvcm1hdFBFTSA9IChiNjQsIGRlc2NyaXB0b3IpID0+IHtcbiAgICBjb25zdCBuZXdsaW5lZCA9IChiNjQubWF0Y2goLy57MSw2NH0vZykgfHwgW10pLmpvaW4oJ1xcbicpO1xuICAgIHJldHVybiBgLS0tLS1CRUdJTiAke2Rlc2NyaXB0b3J9LS0tLS1cXG4ke25ld2xpbmVkfVxcbi0tLS0tRU5EICR7ZGVzY3JpcHRvcn0tLS0tLWA7XG59O1xuY29uc3QgZ2VuZXJpY0V4cG9ydCA9IGFzeW5jIChrZXlUeXBlLCBrZXlGb3JtYXQsIGtleSkgPT4ge1xuICAgIGlmIChpc0tleU9iamVjdChrZXkpKSB7XG4gICAgICAgIGlmIChrZXkudHlwZSAhPT0ga2V5VHlwZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihga2V5IGlzIG5vdCBhICR7a2V5VHlwZX0ga2V5YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGtleS5leHBvcnQoeyBmb3JtYXQ6ICdwZW0nLCB0eXBlOiBrZXlGb3JtYXQgfSk7XG4gICAgfVxuICAgIGlmICghaXNDcnlwdG9LZXkoa2V5KSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGludmFsaWRLZXlJbnB1dChrZXksICdDcnlwdG9LZXknLCAnS2V5T2JqZWN0JykpO1xuICAgIH1cbiAgICBpZiAoIWtleS5leHRyYWN0YWJsZSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDcnlwdG9LZXkgaXMgbm90IGV4dHJhY3RhYmxlJyk7XG4gICAgfVxuICAgIGlmIChrZXkudHlwZSAhPT0ga2V5VHlwZSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBrZXkgaXMgbm90IGEgJHtrZXlUeXBlfSBrZXlgKTtcbiAgICB9XG4gICAgcmV0dXJuIGZvcm1hdFBFTShlbmNvZGVCYXNlNjQobmV3IFVpbnQ4QXJyYXkoYXdhaXQgY3J5cHRvLnN1YnRsZS5leHBvcnRLZXkoa2V5Rm9ybWF0LCBrZXkpKSksIGAke2tleVR5cGUudG9VcHBlckNhc2UoKX0gS0VZYCk7XG59O1xuZXhwb3J0IGNvbnN0IHRvU1BLSSA9IChrZXkpID0+IHtcbiAgICByZXR1cm4gZ2VuZXJpY0V4cG9ydCgncHVibGljJywgJ3Nwa2knLCBrZXkpO1xufTtcbmV4cG9ydCBjb25zdCB0b1BLQ1M4ID0gKGtleSkgPT4ge1xuICAgIHJldHVybiBnZW5lcmljRXhwb3J0KCdwcml2YXRlJywgJ3BrY3M4Jywga2V5KTtcbn07XG5jb25zdCBieXRlc0VxdWFsID0gKGEsIGIpID0+IHtcbiAgICBpZiAoYS5ieXRlTGVuZ3RoICE9PSBiLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYS5ieXRlTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGFbaV0gIT09IGJbaV0pXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufTtcbmNvbnN0IGNyZWF0ZUFTTjFTdGF0ZSA9IChkYXRhKSA9PiAoeyBkYXRhLCBwb3M6IDAgfSk7XG5jb25zdCBwYXJzZUxlbmd0aCA9IChzdGF0ZSkgPT4ge1xuICAgIGNvbnN0IGZpcnN0ID0gc3RhdGUuZGF0YVtzdGF0ZS5wb3MrK107XG4gICAgaWYgKGZpcnN0ICYgMHg4MCkge1xuICAgICAgICBjb25zdCBsZW5ndGhPZkxlbiA9IGZpcnN0ICYgMHg3ZjtcbiAgICAgICAgbGV0IGxlbmd0aCA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoT2ZMZW47IGkrKykge1xuICAgICAgICAgICAgbGVuZ3RoID0gKGxlbmd0aCA8PCA4KSB8IHN0YXRlLmRhdGFbc3RhdGUucG9zKytdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsZW5ndGg7XG4gICAgfVxuICAgIHJldHVybiBmaXJzdDtcbn07XG5jb25zdCBza2lwRWxlbWVudCA9IChzdGF0ZSwgY291bnQgPSAxKSA9PiB7XG4gICAgaWYgKGNvdW50IDw9IDApXG4gICAgICAgIHJldHVybjtcbiAgICBzdGF0ZS5wb3MrKztcbiAgICBjb25zdCBsZW5ndGggPSBwYXJzZUxlbmd0aChzdGF0ZSk7XG4gICAgc3RhdGUucG9zICs9IGxlbmd0aDtcbiAgICBpZiAoY291bnQgPiAxKSB7XG4gICAgICAgIHNraXBFbGVtZW50KHN0YXRlLCBjb3VudCAtIDEpO1xuICAgIH1cbn07XG5jb25zdCBleHBlY3RUYWcgPSAoc3RhdGUsIGV4cGVjdGVkVGFnLCBlcnJvck1lc3NhZ2UpID0+IHtcbiAgICBpZiAoc3RhdGUuZGF0YVtzdGF0ZS5wb3MrK10gIT09IGV4cGVjdGVkVGFnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgIH1cbn07XG5jb25zdCBnZXRTdWJhcnJheSA9IChzdGF0ZSwgbGVuZ3RoKSA9PiB7XG4gICAgY29uc3QgcmVzdWx0ID0gc3RhdGUuZGF0YS5zdWJhcnJheShzdGF0ZS5wb3MsIHN0YXRlLnBvcyArIGxlbmd0aCk7XG4gICAgc3RhdGUucG9zICs9IGxlbmd0aDtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbmNvbnN0IHBhcnNlQWxnb3JpdGhtT0lEID0gKHN0YXRlKSA9PiB7XG4gICAgZXhwZWN0VGFnKHN0YXRlLCAweDA2LCAnRXhwZWN0ZWQgYWxnb3JpdGhtIE9JRCcpO1xuICAgIGNvbnN0IG9pZExlbiA9IHBhcnNlTGVuZ3RoKHN0YXRlKTtcbiAgICByZXR1cm4gZ2V0U3ViYXJyYXkoc3RhdGUsIG9pZExlbik7XG59O1xuZnVuY3Rpb24gcGFyc2VQS0NTOEhlYWRlcihzdGF0ZSkge1xuICAgIGV4cGVjdFRhZyhzdGF0ZSwgMHgzMCwgJ0ludmFsaWQgUEtDUyM4IHN0cnVjdHVyZScpO1xuICAgIHBhcnNlTGVuZ3RoKHN0YXRlKTtcbiAgICBleHBlY3RUYWcoc3RhdGUsIDB4MDIsICdFeHBlY3RlZCB2ZXJzaW9uIGZpZWxkJyk7XG4gICAgY29uc3QgdmVyTGVuID0gcGFyc2VMZW5ndGgoc3RhdGUpO1xuICAgIHN0YXRlLnBvcyArPSB2ZXJMZW47XG4gICAgZXhwZWN0VGFnKHN0YXRlLCAweDMwLCAnRXhwZWN0ZWQgYWxnb3JpdGhtIGlkZW50aWZpZXInKTtcbiAgICBjb25zdCBhbGdJZExlbiA9IHBhcnNlTGVuZ3RoKHN0YXRlKTtcbiAgICBjb25zdCBhbGdJZFN0YXJ0ID0gc3RhdGUucG9zO1xuICAgIHJldHVybiB7IGFsZ0lkU3RhcnQsIGFsZ0lkTGVuZ3RoOiBhbGdJZExlbiB9O1xufVxuZnVuY3Rpb24gcGFyc2VTUEtJSGVhZGVyKHN0YXRlKSB7XG4gICAgZXhwZWN0VGFnKHN0YXRlLCAweDMwLCAnSW52YWxpZCBTUEtJIHN0cnVjdHVyZScpO1xuICAgIHBhcnNlTGVuZ3RoKHN0YXRlKTtcbiAgICBleHBlY3RUYWcoc3RhdGUsIDB4MzAsICdFeHBlY3RlZCBhbGdvcml0aG0gaWRlbnRpZmllcicpO1xuICAgIGNvbnN0IGFsZ0lkTGVuID0gcGFyc2VMZW5ndGgoc3RhdGUpO1xuICAgIGNvbnN0IGFsZ0lkU3RhcnQgPSBzdGF0ZS5wb3M7XG4gICAgcmV0dXJuIHsgYWxnSWRTdGFydCwgYWxnSWRMZW5ndGg6IGFsZ0lkTGVuIH07XG59XG5jb25zdCBwYXJzZUVDQWxnb3JpdGhtSWRlbnRpZmllciA9IChzdGF0ZSkgPT4ge1xuICAgIGNvbnN0IGFsZ09pZCA9IHBhcnNlQWxnb3JpdGhtT0lEKHN0YXRlKTtcbiAgICBpZiAoYnl0ZXNFcXVhbChhbGdPaWQsIFsweDJiLCAweDY1LCAweDZlXSkpIHtcbiAgICAgICAgcmV0dXJuICdYMjU1MTknO1xuICAgIH1cbiAgICBpZiAoIWJ5dGVzRXF1YWwoYWxnT2lkLCBbMHgyYSwgMHg4NiwgMHg0OCwgMHhjZSwgMHgzZCwgMHgwMiwgMHgwMV0pKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQga2V5IGFsZ29yaXRobScpO1xuICAgIH1cbiAgICBleHBlY3RUYWcoc3RhdGUsIDB4MDYsICdFeHBlY3RlZCBjdXJ2ZSBPSUQnKTtcbiAgICBjb25zdCBjdXJ2ZU9pZExlbiA9IHBhcnNlTGVuZ3RoKHN0YXRlKTtcbiAgICBjb25zdCBjdXJ2ZU9pZCA9IGdldFN1YmFycmF5KHN0YXRlLCBjdXJ2ZU9pZExlbik7XG4gICAgZm9yIChjb25zdCB7IG5hbWUsIG9pZCB9IG9mIFtcbiAgICAgICAgeyBuYW1lOiAnUC0yNTYnLCBvaWQ6IFsweDJhLCAweDg2LCAweDQ4LCAweGNlLCAweDNkLCAweDAzLCAweDAxLCAweDA3XSB9LFxuICAgICAgICB7IG5hbWU6ICdQLTM4NCcsIG9pZDogWzB4MmIsIDB4ODEsIDB4MDQsIDB4MDAsIDB4MjJdIH0sXG4gICAgICAgIHsgbmFtZTogJ1AtNTIxJywgb2lkOiBbMHgyYiwgMHg4MSwgMHgwNCwgMHgwMCwgMHgyM10gfSxcbiAgICBdKSB7XG4gICAgICAgIGlmIChieXRlc0VxdWFsKGN1cnZlT2lkLCBvaWQpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmFtZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vuc3VwcG9ydGVkIG5hbWVkIGN1cnZlJyk7XG59O1xuY29uc3QgZ2VuZXJpY0ltcG9ydCA9IGFzeW5jIChrZXlGb3JtYXQsIGtleURhdGEsIGFsZywgb3B0aW9ucykgPT4ge1xuICAgIGxldCBhbGdvcml0aG07XG4gICAgbGV0IGtleVVzYWdlcztcbiAgICBjb25zdCBpc1B1YmxpYyA9IGtleUZvcm1hdCA9PT0gJ3Nwa2knO1xuICAgIGNvbnN0IGdldFNpZ1VzYWdlcyA9ICgpID0+IChpc1B1YmxpYyA/IFsndmVyaWZ5J10gOiBbJ3NpZ24nXSk7XG4gICAgY29uc3QgZ2V0RW5jVXNhZ2VzID0gKCkgPT4gaXNQdWJsaWMgPyBbJ2VuY3J5cHQnLCAnd3JhcEtleSddIDogWydkZWNyeXB0JywgJ3Vud3JhcEtleSddO1xuICAgIHN3aXRjaCAoYWxnKSB7XG4gICAgICAgIGNhc2UgJ1BTMjU2JzpcbiAgICAgICAgY2FzZSAnUFMzODQnOlxuICAgICAgICBjYXNlICdQUzUxMic6XG4gICAgICAgICAgICBhbGdvcml0aG0gPSB7IG5hbWU6ICdSU0EtUFNTJywgaGFzaDogYFNIQS0ke2FsZy5zbGljZSgtMyl9YCB9O1xuICAgICAgICAgICAga2V5VXNhZ2VzID0gZ2V0U2lnVXNhZ2VzKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnUlMyNTYnOlxuICAgICAgICBjYXNlICdSUzM4NCc6XG4gICAgICAgIGNhc2UgJ1JTNTEyJzpcbiAgICAgICAgICAgIGFsZ29yaXRobSA9IHsgbmFtZTogJ1JTQVNTQS1QS0NTMS12MV81JywgaGFzaDogYFNIQS0ke2FsZy5zbGljZSgtMyl9YCB9O1xuICAgICAgICAgICAga2V5VXNhZ2VzID0gZ2V0U2lnVXNhZ2VzKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnUlNBLU9BRVAnOlxuICAgICAgICBjYXNlICdSU0EtT0FFUC0yNTYnOlxuICAgICAgICBjYXNlICdSU0EtT0FFUC0zODQnOlxuICAgICAgICBjYXNlICdSU0EtT0FFUC01MTInOlxuICAgICAgICAgICAgYWxnb3JpdGhtID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6ICdSU0EtT0FFUCcsXG4gICAgICAgICAgICAgICAgaGFzaDogYFNIQS0ke3BhcnNlSW50KGFsZy5zbGljZSgtMyksIDEwKSB8fCAxfWAsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAga2V5VXNhZ2VzID0gZ2V0RW5jVXNhZ2VzKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnRVMyNTYnOlxuICAgICAgICBjYXNlICdFUzM4NCc6XG4gICAgICAgIGNhc2UgJ0VTNTEyJzoge1xuICAgICAgICAgICAgY29uc3QgY3VydmVNYXAgPSB7IEVTMjU2OiAnUC0yNTYnLCBFUzM4NDogJ1AtMzg0JywgRVM1MTI6ICdQLTUyMScgfTtcbiAgICAgICAgICAgIGFsZ29yaXRobSA9IHsgbmFtZTogJ0VDRFNBJywgbmFtZWRDdXJ2ZTogY3VydmVNYXBbYWxnXSB9O1xuICAgICAgICAgICAga2V5VXNhZ2VzID0gZ2V0U2lnVXNhZ2VzKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdFQ0RILUVTJzpcbiAgICAgICAgY2FzZSAnRUNESC1FUytBMTI4S1cnOlxuICAgICAgICBjYXNlICdFQ0RILUVTK0ExOTJLVyc6XG4gICAgICAgIGNhc2UgJ0VDREgtRVMrQTI1NktXJzoge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuYW1lZEN1cnZlID0gb3B0aW9ucy5nZXROYW1lZEN1cnZlKGtleURhdGEpO1xuICAgICAgICAgICAgICAgIGFsZ29yaXRobSA9IG5hbWVkQ3VydmUgPT09ICdYMjU1MTknID8geyBuYW1lOiAnWDI1NTE5JyB9IDogeyBuYW1lOiAnRUNESCcsIG5hbWVkQ3VydmUgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChjYXVzZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBKT1NFTm90U3VwcG9ydGVkKCdJbnZhbGlkIG9yIHVuc3VwcG9ydGVkIGtleSBmb3JtYXQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGtleVVzYWdlcyA9IGlzUHVibGljID8gW10gOiBbJ2Rlcml2ZUJpdHMnXTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ0VkMjU1MTknOlxuICAgICAgICBjYXNlICdFZERTQSc6XG4gICAgICAgICAgICBhbGdvcml0aG0gPSB7IG5hbWU6ICdFZDI1NTE5JyB9O1xuICAgICAgICAgICAga2V5VXNhZ2VzID0gZ2V0U2lnVXNhZ2VzKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnTUwtRFNBLTQ0JzpcbiAgICAgICAgY2FzZSAnTUwtRFNBLTY1JzpcbiAgICAgICAgY2FzZSAnTUwtRFNBLTg3JzpcbiAgICAgICAgICAgIGFsZ29yaXRobSA9IHsgbmFtZTogYWxnIH07XG4gICAgICAgICAgICBrZXlVc2FnZXMgPSBnZXRTaWdVc2FnZXMoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEpPU0VOb3RTdXBwb3J0ZWQoJ0ludmFsaWQgb3IgdW5zdXBwb3J0ZWQgXCJhbGdcIiAoQWxnb3JpdGhtKSB2YWx1ZScpO1xuICAgIH1cbiAgICByZXR1cm4gY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoa2V5Rm9ybWF0LCBrZXlEYXRhLCBhbGdvcml0aG0sIG9wdGlvbnM/LmV4dHJhY3RhYmxlID8/IChpc1B1YmxpYyA/IHRydWUgOiBmYWxzZSksIGtleVVzYWdlcyk7XG59O1xuY29uc3QgcHJvY2Vzc1BFTURhdGEgPSAocGVtLCBwYXR0ZXJuKSA9PiB7XG4gICAgcmV0dXJuIGRlY29kZUJhc2U2NChwZW0ucmVwbGFjZShwYXR0ZXJuLCAnJykpO1xufTtcbmV4cG9ydCBjb25zdCBmcm9tUEtDUzggPSAocGVtLCBhbGcsIG9wdGlvbnMpID0+IHtcbiAgICBjb25zdCBrZXlEYXRhID0gcHJvY2Vzc1BFTURhdGEocGVtLCAvKD86LS0tLS0oPzpCRUdJTnxFTkQpIFBSSVZBVEUgS0VZLS0tLS18XFxzKS9nKTtcbiAgICBsZXQgb3B0cyA9IG9wdGlvbnM7XG4gICAgaWYgKGFsZz8uc3RhcnRzV2l0aD8uKCdFQ0RILUVTJykpIHtcbiAgICAgICAgb3B0cyB8fD0ge307XG4gICAgICAgIG9wdHMuZ2V0TmFtZWRDdXJ2ZSA9IChrZXlEYXRhKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IGNyZWF0ZUFTTjFTdGF0ZShrZXlEYXRhKTtcbiAgICAgICAgICAgIHBhcnNlUEtDUzhIZWFkZXIoc3RhdGUpO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlRUNBbGdvcml0aG1JZGVudGlmaWVyKHN0YXRlKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGdlbmVyaWNJbXBvcnQoJ3BrY3M4Jywga2V5RGF0YSwgYWxnLCBvcHRzKTtcbn07XG5leHBvcnQgY29uc3QgZnJvbVNQS0kgPSAocGVtLCBhbGcsIG9wdGlvbnMpID0+IHtcbiAgICBjb25zdCBrZXlEYXRhID0gcHJvY2Vzc1BFTURhdGEocGVtLCAvKD86LS0tLS0oPzpCRUdJTnxFTkQpIFBVQkxJQyBLRVktLS0tLXxcXHMpL2cpO1xuICAgIGxldCBvcHRzID0gb3B0aW9ucztcbiAgICBpZiAoYWxnPy5zdGFydHNXaXRoPy4oJ0VDREgtRVMnKSkge1xuICAgICAgICBvcHRzIHx8PSB7fTtcbiAgICAgICAgb3B0cy5nZXROYW1lZEN1cnZlID0gKGtleURhdGEpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gY3JlYXRlQVNOMVN0YXRlKGtleURhdGEpO1xuICAgICAgICAgICAgcGFyc2VTUEtJSGVhZGVyKHN0YXRlKTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUVDQWxnb3JpdGhtSWRlbnRpZmllcihzdGF0ZSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBnZW5lcmljSW1wb3J0KCdzcGtpJywga2V5RGF0YSwgYWxnLCBvcHRzKTtcbn07XG5mdW5jdGlvbiBzcGtpRnJvbVg1MDkoYnVmKSB7XG4gICAgY29uc3Qgc3RhdGUgPSBjcmVhdGVBU04xU3RhdGUoYnVmKTtcbiAgICBleHBlY3RUYWcoc3RhdGUsIDB4MzAsICdJbnZhbGlkIGNlcnRpZmljYXRlIHN0cnVjdHVyZScpO1xuICAgIHBhcnNlTGVuZ3RoKHN0YXRlKTtcbiAgICBleHBlY3RUYWcoc3RhdGUsIDB4MzAsICdJbnZhbGlkIHRic0NlcnRpZmljYXRlIHN0cnVjdHVyZScpO1xuICAgIHBhcnNlTGVuZ3RoKHN0YXRlKTtcbiAgICBpZiAoYnVmW3N0YXRlLnBvc10gPT09IDB4YTApIHtcbiAgICAgICAgc2tpcEVsZW1lbnQoc3RhdGUsIDYpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc2tpcEVsZW1lbnQoc3RhdGUsIDUpO1xuICAgIH1cbiAgICBjb25zdCBzcGtpU3RhcnQgPSBzdGF0ZS5wb3M7XG4gICAgZXhwZWN0VGFnKHN0YXRlLCAweDMwLCAnSW52YWxpZCBTUEtJIHN0cnVjdHVyZScpO1xuICAgIGNvbnN0IHNwa2lDb250ZW50TGVuID0gcGFyc2VMZW5ndGgoc3RhdGUpO1xuICAgIHJldHVybiBidWYuc3ViYXJyYXkoc3BraVN0YXJ0LCBzcGtpU3RhcnQgKyBzcGtpQ29udGVudExlbiArIChzdGF0ZS5wb3MgLSBzcGtpU3RhcnQpKTtcbn1cbmZ1bmN0aW9uIGV4dHJhY3RYNTA5U1BLSSh4NTA5KSB7XG4gICAgY29uc3QgZGVyQnl0ZXMgPSBwcm9jZXNzUEVNRGF0YSh4NTA5LCAvKD86LS0tLS0oPzpCRUdJTnxFTkQpIENFUlRJRklDQVRFLS0tLS18XFxzKS9nKTtcbiAgICByZXR1cm4gc3BraUZyb21YNTA5KGRlckJ5dGVzKTtcbn1cbmV4cG9ydCBjb25zdCBmcm9tWDUwOSA9IChwZW0sIGFsZywgb3B0aW9ucykgPT4ge1xuICAgIGxldCBzcGtpO1xuICAgIHRyeSB7XG4gICAgICAgIHNwa2kgPSBleHRyYWN0WDUwOVNQS0kocGVtKTtcbiAgICB9XG4gICAgY2F0Y2ggKGNhdXNlKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZhaWxlZCB0byBwYXJzZSB0aGUgWC41MDkgY2VydGlmaWNhdGUnLCB7IGNhdXNlIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZnJvbVNQS0koZm9ybWF0UEVNKGVuY29kZUJhc2U2NChzcGtpKSwgJ1BVQkxJQyBLRVknKSwgYWxnLCBvcHRpb25zKTtcbn07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/lib/asn1.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/lib/base64.js":
/*!*****************************************************!*\
  !*** ./node_modules/jose/dist/webapi/lib/base64.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   decodeBase64: () => (/* binding */ decodeBase64),\n/* harmony export */   encodeBase64: () => (/* binding */ encodeBase64)\n/* harmony export */ });\nfunction encodeBase64(input) {\n    if (Uint8Array.prototype.toBase64) {\n        return input.toBase64();\n    }\n    const CHUNK_SIZE = 0x8000;\n    const arr = [];\n    for (let i = 0; i < input.length; i += CHUNK_SIZE) {\n        arr.push(String.fromCharCode.apply(null, input.subarray(i, i + CHUNK_SIZE)));\n    }\n    return btoa(arr.join(''));\n}\nfunction decodeBase64(encoded) {\n    if (Uint8Array.fromBase64) {\n        return Uint8Array.fromBase64(encoded);\n    }\n    const binary = atob(encoded);\n    const bytes = new Uint8Array(binary.length);\n    for (let i = 0; i < binary.length; i++) {\n        bytes[i] = binary.charCodeAt(i);\n    }\n    return bytes;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvbGliL2Jhc2U2NC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixrQkFBa0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsbUJBQW1CO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxqb3NlXFxkaXN0XFx3ZWJhcGlcXGxpYlxcYmFzZTY0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBlbmNvZGVCYXNlNjQoaW5wdXQpIHtcbiAgICBpZiAoVWludDhBcnJheS5wcm90b3R5cGUudG9CYXNlNjQpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0LnRvQmFzZTY0KCk7XG4gICAgfVxuICAgIGNvbnN0IENIVU5LX1NJWkUgPSAweDgwMDA7XG4gICAgY29uc3QgYXJyID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dC5sZW5ndGg7IGkgKz0gQ0hVTktfU0laRSkge1xuICAgICAgICBhcnIucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIGlucHV0LnN1YmFycmF5KGksIGkgKyBDSFVOS19TSVpFKSkpO1xuICAgIH1cbiAgICByZXR1cm4gYnRvYShhcnIuam9pbignJykpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRlY29kZUJhc2U2NChlbmNvZGVkKSB7XG4gICAgaWYgKFVpbnQ4QXJyYXkuZnJvbUJhc2U2NCkge1xuICAgICAgICByZXR1cm4gVWludDhBcnJheS5mcm9tQmFzZTY0KGVuY29kZWQpO1xuICAgIH1cbiAgICBjb25zdCBiaW5hcnkgPSBhdG9iKGVuY29kZWQpO1xuICAgIGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYmluYXJ5Lmxlbmd0aCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiaW5hcnkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYnl0ZXNbaV0gPSBiaW5hcnkuY2hhckNvZGVBdChpKTtcbiAgICB9XG4gICAgcmV0dXJuIGJ5dGVzO1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/lib/base64.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/lib/buffer_utils.js":
/*!***********************************************************!*\
  !*** ./node_modules/jose/dist/webapi/lib/buffer_utils.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   concat: () => (/* binding */ concat),\n/* harmony export */   decoder: () => (/* binding */ decoder),\n/* harmony export */   encoder: () => (/* binding */ encoder),\n/* harmony export */   uint32be: () => (/* binding */ uint32be),\n/* harmony export */   uint64be: () => (/* binding */ uint64be)\n/* harmony export */ });\nconst encoder = new TextEncoder();\nconst decoder = new TextDecoder();\nconst MAX_INT32 = 2 ** 32;\nfunction concat(...buffers) {\n    const size = buffers.reduce((acc, { length }) => acc + length, 0);\n    const buf = new Uint8Array(size);\n    let i = 0;\n    for (const buffer of buffers) {\n        buf.set(buffer, i);\n        i += buffer.length;\n    }\n    return buf;\n}\nfunction writeUInt32BE(buf, value, offset) {\n    if (value < 0 || value >= MAX_INT32) {\n        throw new RangeError(`value must be >= 0 and <= ${MAX_INT32 - 1}. Received ${value}`);\n    }\n    buf.set([value >>> 24, value >>> 16, value >>> 8, value & 0xff], offset);\n}\nfunction uint64be(value) {\n    const high = Math.floor(value / MAX_INT32);\n    const low = value % MAX_INT32;\n    const buf = new Uint8Array(8);\n    writeUInt32BE(buf, high, 0);\n    writeUInt32BE(buf, low, 4);\n    return buf;\n}\nfunction uint32be(value) {\n    const buf = new Uint8Array(4);\n    writeUInt32BE(buf, value);\n    return buf;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvbGliL2J1ZmZlcl91dGlscy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFPO0FBQ0E7QUFDUDtBQUNPO0FBQ1Asd0NBQXdDLFFBQVE7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsY0FBYyxhQUFhLE1BQU07QUFDM0Y7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXGpvc2VcXGRpc3RcXHdlYmFwaVxcbGliXFxidWZmZXJfdXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoKTtcbmV4cG9ydCBjb25zdCBkZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCk7XG5jb25zdCBNQVhfSU5UMzIgPSAyICoqIDMyO1xuZXhwb3J0IGZ1bmN0aW9uIGNvbmNhdCguLi5idWZmZXJzKSB7XG4gICAgY29uc3Qgc2l6ZSA9IGJ1ZmZlcnMucmVkdWNlKChhY2MsIHsgbGVuZ3RoIH0pID0+IGFjYyArIGxlbmd0aCwgMCk7XG4gICAgY29uc3QgYnVmID0gbmV3IFVpbnQ4QXJyYXkoc2l6ZSk7XG4gICAgbGV0IGkgPSAwO1xuICAgIGZvciAoY29uc3QgYnVmZmVyIG9mIGJ1ZmZlcnMpIHtcbiAgICAgICAgYnVmLnNldChidWZmZXIsIGkpO1xuICAgICAgICBpICs9IGJ1ZmZlci5sZW5ndGg7XG4gICAgfVxuICAgIHJldHVybiBidWY7XG59XG5mdW5jdGlvbiB3cml0ZVVJbnQzMkJFKGJ1ZiwgdmFsdWUsIG9mZnNldCkge1xuICAgIGlmICh2YWx1ZSA8IDAgfHwgdmFsdWUgPj0gTUFYX0lOVDMyKSB7XG4gICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKGB2YWx1ZSBtdXN0IGJlID49IDAgYW5kIDw9ICR7TUFYX0lOVDMyIC0gMX0uIFJlY2VpdmVkICR7dmFsdWV9YCk7XG4gICAgfVxuICAgIGJ1Zi5zZXQoW3ZhbHVlID4+PiAyNCwgdmFsdWUgPj4+IDE2LCB2YWx1ZSA+Pj4gOCwgdmFsdWUgJiAweGZmXSwgb2Zmc2V0KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB1aW50NjRiZSh2YWx1ZSkge1xuICAgIGNvbnN0IGhpZ2ggPSBNYXRoLmZsb29yKHZhbHVlIC8gTUFYX0lOVDMyKTtcbiAgICBjb25zdCBsb3cgPSB2YWx1ZSAlIE1BWF9JTlQzMjtcbiAgICBjb25zdCBidWYgPSBuZXcgVWludDhBcnJheSg4KTtcbiAgICB3cml0ZVVJbnQzMkJFKGJ1ZiwgaGlnaCwgMCk7XG4gICAgd3JpdGVVSW50MzJCRShidWYsIGxvdywgNCk7XG4gICAgcmV0dXJuIGJ1Zjtcbn1cbmV4cG9ydCBmdW5jdGlvbiB1aW50MzJiZSh2YWx1ZSkge1xuICAgIGNvbnN0IGJ1ZiA9IG5ldyBVaW50OEFycmF5KDQpO1xuICAgIHdyaXRlVUludDMyQkUoYnVmLCB2YWx1ZSk7XG4gICAgcmV0dXJuIGJ1Zjtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/lib/buffer_utils.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/lib/cek.js":
/*!**************************************************!*\
  !*** ./node_modules/jose/dist/webapi/lib/cek.js ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   bitLength: () => (/* binding */ bitLength),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _util_errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/errors.js */ \"(middleware)/./node_modules/jose/dist/webapi/util/errors.js\");\n\nfunction bitLength(alg) {\n    switch (alg) {\n        case 'A128GCM':\n            return 128;\n        case 'A192GCM':\n            return 192;\n        case 'A256GCM':\n        case 'A128CBC-HS256':\n            return 256;\n        case 'A192CBC-HS384':\n            return 384;\n        case 'A256CBC-HS512':\n            return 512;\n        default:\n            throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JOSENotSupported(`Unsupported JWE Algorithm: ${alg}`);\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((alg) => crypto.getRandomValues(new Uint8Array(bitLength(alg) >> 3)));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvbGliL2Nlay5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBcUQ7QUFDOUM7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw2REFBZ0IsK0JBQStCLElBQUk7QUFDekU7QUFDQTtBQUNBLGlFQUFlLG9FQUFvRSxFQUFDIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxqb3NlXFxkaXN0XFx3ZWJhcGlcXGxpYlxcY2VrLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEpPU0VOb3RTdXBwb3J0ZWQgfSBmcm9tICcuLi91dGlsL2Vycm9ycy5qcyc7XG5leHBvcnQgZnVuY3Rpb24gYml0TGVuZ3RoKGFsZykge1xuICAgIHN3aXRjaCAoYWxnKSB7XG4gICAgICAgIGNhc2UgJ0ExMjhHQ00nOlxuICAgICAgICAgICAgcmV0dXJuIDEyODtcbiAgICAgICAgY2FzZSAnQTE5MkdDTSc6XG4gICAgICAgICAgICByZXR1cm4gMTkyO1xuICAgICAgICBjYXNlICdBMjU2R0NNJzpcbiAgICAgICAgY2FzZSAnQTEyOENCQy1IUzI1Nic6XG4gICAgICAgICAgICByZXR1cm4gMjU2O1xuICAgICAgICBjYXNlICdBMTkyQ0JDLUhTMzg0JzpcbiAgICAgICAgICAgIHJldHVybiAzODQ7XG4gICAgICAgIGNhc2UgJ0EyNTZDQkMtSFM1MTInOlxuICAgICAgICAgICAgcmV0dXJuIDUxMjtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBKT1NFTm90U3VwcG9ydGVkKGBVbnN1cHBvcnRlZCBKV0UgQWxnb3JpdGhtOiAke2FsZ31gKTtcbiAgICB9XG59XG5leHBvcnQgZGVmYXVsdCAoYWxnKSA9PiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KGJpdExlbmd0aChhbGcpID4+IDMpKTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/lib/cek.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/lib/check_cek_length.js":
/*!***************************************************************!*\
  !*** ./node_modules/jose/dist/webapi/lib/check_cek_length.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _util_errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/errors.js */ \"(middleware)/./node_modules/jose/dist/webapi/util/errors.js\");\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((cek, expected) => {\n    const actual = cek.byteLength << 3;\n    if (actual !== expected) {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JWEInvalid(`Invalid Content Encryption Key length. Expected ${expected} bits, got ${actual} bits`);\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvbGliL2NoZWNrX2Nla19sZW5ndGguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBK0M7QUFDL0MsaUVBQWU7QUFDZjtBQUNBO0FBQ0Esa0JBQWtCLHVEQUFVLG9EQUFvRCxVQUFVLFlBQVksUUFBUTtBQUM5RztBQUNBLENBQUMsRUFBQyIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcam9zZVxcZGlzdFxcd2ViYXBpXFxsaWJcXGNoZWNrX2Nla19sZW5ndGguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSldFSW52YWxpZCB9IGZyb20gJy4uL3V0aWwvZXJyb3JzLmpzJztcbmV4cG9ydCBkZWZhdWx0IChjZWssIGV4cGVjdGVkKSA9PiB7XG4gICAgY29uc3QgYWN0dWFsID0gY2VrLmJ5dGVMZW5ndGggPDwgMztcbiAgICBpZiAoYWN0dWFsICE9PSBleHBlY3RlZCkge1xuICAgICAgICB0aHJvdyBuZXcgSldFSW52YWxpZChgSW52YWxpZCBDb250ZW50IEVuY3J5cHRpb24gS2V5IGxlbmd0aC4gRXhwZWN0ZWQgJHtleHBlY3RlZH0gYml0cywgZ290ICR7YWN0dWFsfSBiaXRzYCk7XG4gICAgfVxufTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/lib/check_cek_length.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/lib/check_iv_length.js":
/*!**************************************************************!*\
  !*** ./node_modules/jose/dist/webapi/lib/check_iv_length.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _util_errors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/errors.js */ \"(middleware)/./node_modules/jose/dist/webapi/util/errors.js\");\n/* harmony import */ var _iv_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./iv.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/iv.js\");\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((enc, iv) => {\n    if (iv.length << 3 !== (0,_iv_js__WEBPACK_IMPORTED_MODULE_0__.bitLength)(enc)) {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_1__.JWEInvalid('Invalid Initialization Vector length');\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvbGliL2NoZWNrX2l2X2xlbmd0aC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBK0M7QUFDWDtBQUNwQyxpRUFBZTtBQUNmLDJCQUEyQixpREFBUztBQUNwQyxrQkFBa0IsdURBQVU7QUFDNUI7QUFDQSxDQUFDLEVBQUMiLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXGpvc2VcXGRpc3RcXHdlYmFwaVxcbGliXFxjaGVja19pdl9sZW5ndGguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSldFSW52YWxpZCB9IGZyb20gJy4uL3V0aWwvZXJyb3JzLmpzJztcbmltcG9ydCB7IGJpdExlbmd0aCB9IGZyb20gJy4vaXYuanMnO1xuZXhwb3J0IGRlZmF1bHQgKGVuYywgaXYpID0+IHtcbiAgICBpZiAoaXYubGVuZ3RoIDw8IDMgIT09IGJpdExlbmd0aChlbmMpKSB7XG4gICAgICAgIHRocm93IG5ldyBKV0VJbnZhbGlkKCdJbnZhbGlkIEluaXRpYWxpemF0aW9uIFZlY3RvciBsZW5ndGgnKTtcbiAgICB9XG59O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/lib/check_iv_length.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/lib/check_key_length.js":
/*!***************************************************************!*\
  !*** ./node_modules/jose/dist/webapi/lib/check_key_length.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((alg, key) => {\n    if (alg.startsWith('RS') || alg.startsWith('PS')) {\n        const { modulusLength } = key.algorithm;\n        if (typeof modulusLength !== 'number' || modulusLength < 2048) {\n            throw new TypeError(`${alg} requires key modulusLength to be 2048 bits or larger`);\n        }\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvbGliL2NoZWNrX2tleV9sZW5ndGguanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlFQUFlO0FBQ2Y7QUFDQSxnQkFBZ0IsZ0JBQWdCO0FBQ2hDO0FBQ0EsbUNBQW1DLEtBQUs7QUFDeEM7QUFDQTtBQUNBLENBQUMsRUFBQyIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcam9zZVxcZGlzdFxcd2ViYXBpXFxsaWJcXGNoZWNrX2tleV9sZW5ndGguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgKGFsZywga2V5KSA9PiB7XG4gICAgaWYgKGFsZy5zdGFydHNXaXRoKCdSUycpIHx8IGFsZy5zdGFydHNXaXRoKCdQUycpKSB7XG4gICAgICAgIGNvbnN0IHsgbW9kdWx1c0xlbmd0aCB9ID0ga2V5LmFsZ29yaXRobTtcbiAgICAgICAgaWYgKHR5cGVvZiBtb2R1bHVzTGVuZ3RoICE9PSAnbnVtYmVyJyB8fCBtb2R1bHVzTGVuZ3RoIDwgMjA0OCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgJHthbGd9IHJlcXVpcmVzIGtleSBtb2R1bHVzTGVuZ3RoIHRvIGJlIDIwNDggYml0cyBvciBsYXJnZXJgKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/lib/check_key_length.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/lib/check_key_type.js":
/*!*************************************************************!*\
  !*** ./node_modules/jose/dist/webapi/lib/check_key_type.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _invalid_key_input_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./invalid_key_input.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/invalid_key_input.js\");\n/* harmony import */ var _is_key_like_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./is_key_like.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/is_key_like.js\");\n/* harmony import */ var _is_jwk_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./is_jwk.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/is_jwk.js\");\n\n\n\nconst tag = (key) => key?.[Symbol.toStringTag];\nconst jwkMatchesOp = (alg, key, usage) => {\n    if (key.use !== undefined) {\n        let expected;\n        switch (usage) {\n            case 'sign':\n            case 'verify':\n                expected = 'sig';\n                break;\n            case 'encrypt':\n            case 'decrypt':\n                expected = 'enc';\n                break;\n        }\n        if (key.use !== expected) {\n            throw new TypeError(`Invalid key for this operation, its \"use\" must be \"${expected}\" when present`);\n        }\n    }\n    if (key.alg !== undefined && key.alg !== alg) {\n        throw new TypeError(`Invalid key for this operation, its \"alg\" must be \"${alg}\" when present`);\n    }\n    if (Array.isArray(key.key_ops)) {\n        let expectedKeyOp;\n        switch (true) {\n            case usage === 'sign' || usage === 'verify':\n            case alg === 'dir':\n            case alg.includes('CBC-HS'):\n                expectedKeyOp = usage;\n                break;\n            case alg.startsWith('PBES2'):\n                expectedKeyOp = 'deriveBits';\n                break;\n            case /^A\\d{3}(?:GCM)?(?:KW)?$/.test(alg):\n                if (!alg.includes('GCM') && alg.endsWith('KW')) {\n                    expectedKeyOp = usage === 'encrypt' ? 'wrapKey' : 'unwrapKey';\n                }\n                else {\n                    expectedKeyOp = usage;\n                }\n                break;\n            case usage === 'encrypt' && alg.startsWith('RSA'):\n                expectedKeyOp = 'wrapKey';\n                break;\n            case usage === 'decrypt':\n                expectedKeyOp = alg.startsWith('RSA') ? 'unwrapKey' : 'deriveBits';\n                break;\n        }\n        if (expectedKeyOp && key.key_ops?.includes?.(expectedKeyOp) === false) {\n            throw new TypeError(`Invalid key for this operation, its \"key_ops\" must include \"${expectedKeyOp}\" when present`);\n        }\n    }\n    return true;\n};\nconst symmetricTypeCheck = (alg, key, usage) => {\n    if (key instanceof Uint8Array)\n        return;\n    if (_is_jwk_js__WEBPACK_IMPORTED_MODULE_0__.isJWK(key)) {\n        if (_is_jwk_js__WEBPACK_IMPORTED_MODULE_0__.isSecretJWK(key) && jwkMatchesOp(alg, key, usage))\n            return;\n        throw new TypeError(`JSON Web Key for symmetric algorithms must have JWK \"kty\" (Key Type) equal to \"oct\" and the JWK \"k\" (Key Value) present`);\n    }\n    if (!(0,_is_key_like_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(key)) {\n        throw new TypeError((0,_invalid_key_input_js__WEBPACK_IMPORTED_MODULE_2__.withAlg)(alg, key, 'CryptoKey', 'KeyObject', 'JSON Web Key', 'Uint8Array'));\n    }\n    if (key.type !== 'secret') {\n        throw new TypeError(`${tag(key)} instances for symmetric algorithms must be of type \"secret\"`);\n    }\n};\nconst asymmetricTypeCheck = (alg, key, usage) => {\n    if (_is_jwk_js__WEBPACK_IMPORTED_MODULE_0__.isJWK(key)) {\n        switch (usage) {\n            case 'decrypt':\n            case 'sign':\n                if (_is_jwk_js__WEBPACK_IMPORTED_MODULE_0__.isPrivateJWK(key) && jwkMatchesOp(alg, key, usage))\n                    return;\n                throw new TypeError(`JSON Web Key for this operation be a private JWK`);\n            case 'encrypt':\n            case 'verify':\n                if (_is_jwk_js__WEBPACK_IMPORTED_MODULE_0__.isPublicJWK(key) && jwkMatchesOp(alg, key, usage))\n                    return;\n                throw new TypeError(`JSON Web Key for this operation be a public JWK`);\n        }\n    }\n    if (!(0,_is_key_like_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(key)) {\n        throw new TypeError((0,_invalid_key_input_js__WEBPACK_IMPORTED_MODULE_2__.withAlg)(alg, key, 'CryptoKey', 'KeyObject', 'JSON Web Key'));\n    }\n    if (key.type === 'secret') {\n        throw new TypeError(`${tag(key)} instances for asymmetric algorithms must not be of type \"secret\"`);\n    }\n    if (key.type === 'public') {\n        switch (usage) {\n            case 'sign':\n                throw new TypeError(`${tag(key)} instances for asymmetric algorithm signing must be of type \"private\"`);\n            case 'decrypt':\n                throw new TypeError(`${tag(key)} instances for asymmetric algorithm decryption must be of type \"private\"`);\n            default:\n                break;\n        }\n    }\n    if (key.type === 'private') {\n        switch (usage) {\n            case 'verify':\n                throw new TypeError(`${tag(key)} instances for asymmetric algorithm verifying must be of type \"public\"`);\n            case 'encrypt':\n                throw new TypeError(`${tag(key)} instances for asymmetric algorithm encryption must be of type \"public\"`);\n            default:\n                break;\n        }\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((alg, key, usage) => {\n    const symmetric = alg.startsWith('HS') ||\n        alg === 'dir' ||\n        alg.startsWith('PBES2') ||\n        /^A(?:128|192|256)(?:GCM)?(?:KW)?$/.test(alg) ||\n        /^A(?:128|192|256)CBC-HS(?:256|384|512)$/.test(alg);\n    if (symmetric) {\n        symmetricTypeCheck(alg, key, usage);\n    }\n    else {\n        asymmetricTypeCheck(alg, key, usage);\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvbGliL2NoZWNrX2tleV90eXBlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBb0U7QUFDM0I7QUFDTjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRkFBc0YsU0FBUztBQUMvRjtBQUNBO0FBQ0E7QUFDQSxrRkFBa0YsSUFBSTtBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsRUFBRTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrRkFBK0YsY0FBYztBQUM3RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsNkNBQVM7QUFDakIsWUFBWSxtREFBZTtBQUMzQjtBQUNBO0FBQ0E7QUFDQSxTQUFTLDJEQUFTO0FBQ2xCLDRCQUE0Qiw4REFBZTtBQUMzQztBQUNBO0FBQ0EsK0JBQStCLFVBQVU7QUFDekM7QUFDQTtBQUNBO0FBQ0EsUUFBUSw2Q0FBUztBQUNqQjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isb0RBQWdCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLG1EQUFlO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUywyREFBUztBQUNsQiw0QkFBNEIsOERBQWU7QUFDM0M7QUFDQTtBQUNBLCtCQUErQixVQUFVO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLFVBQVU7QUFDakQ7QUFDQSx1Q0FBdUMsVUFBVTtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxVQUFVO0FBQ2pEO0FBQ0EsdUNBQXVDLFVBQVU7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsRUFBQyIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcam9zZVxcZGlzdFxcd2ViYXBpXFxsaWJcXGNoZWNrX2tleV90eXBlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHdpdGhBbGcgYXMgaW52YWxpZEtleUlucHV0IH0gZnJvbSAnLi9pbnZhbGlkX2tleV9pbnB1dC5qcyc7XG5pbXBvcnQgaXNLZXlMaWtlIGZyb20gJy4vaXNfa2V5X2xpa2UuanMnO1xuaW1wb3J0ICogYXMgandrIGZyb20gJy4vaXNfandrLmpzJztcbmNvbnN0IHRhZyA9IChrZXkpID0+IGtleT8uW1N5bWJvbC50b1N0cmluZ1RhZ107XG5jb25zdCBqd2tNYXRjaGVzT3AgPSAoYWxnLCBrZXksIHVzYWdlKSA9PiB7XG4gICAgaWYgKGtleS51c2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBsZXQgZXhwZWN0ZWQ7XG4gICAgICAgIHN3aXRjaCAodXNhZ2UpIHtcbiAgICAgICAgICAgIGNhc2UgJ3NpZ24nOlxuICAgICAgICAgICAgY2FzZSAndmVyaWZ5JzpcbiAgICAgICAgICAgICAgICBleHBlY3RlZCA9ICdzaWcnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZW5jcnlwdCc6XG4gICAgICAgICAgICBjYXNlICdkZWNyeXB0JzpcbiAgICAgICAgICAgICAgICBleHBlY3RlZCA9ICdlbmMnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChrZXkudXNlICE9PSBleHBlY3RlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgSW52YWxpZCBrZXkgZm9yIHRoaXMgb3BlcmF0aW9uLCBpdHMgXCJ1c2VcIiBtdXN0IGJlIFwiJHtleHBlY3RlZH1cIiB3aGVuIHByZXNlbnRgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoa2V5LmFsZyAhPT0gdW5kZWZpbmVkICYmIGtleS5hbGcgIT09IGFsZykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBJbnZhbGlkIGtleSBmb3IgdGhpcyBvcGVyYXRpb24sIGl0cyBcImFsZ1wiIG11c3QgYmUgXCIke2FsZ31cIiB3aGVuIHByZXNlbnRgKTtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoa2V5LmtleV9vcHMpKSB7XG4gICAgICAgIGxldCBleHBlY3RlZEtleU9wO1xuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgdXNhZ2UgPT09ICdzaWduJyB8fCB1c2FnZSA9PT0gJ3ZlcmlmeSc6XG4gICAgICAgICAgICBjYXNlIGFsZyA9PT0gJ2Rpcic6XG4gICAgICAgICAgICBjYXNlIGFsZy5pbmNsdWRlcygnQ0JDLUhTJyk6XG4gICAgICAgICAgICAgICAgZXhwZWN0ZWRLZXlPcCA9IHVzYWdlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBhbGcuc3RhcnRzV2l0aCgnUEJFUzInKTpcbiAgICAgICAgICAgICAgICBleHBlY3RlZEtleU9wID0gJ2Rlcml2ZUJpdHMnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAvXkFcXGR7M30oPzpHQ00pPyg/OktXKT8kLy50ZXN0KGFsZyk6XG4gICAgICAgICAgICAgICAgaWYgKCFhbGcuaW5jbHVkZXMoJ0dDTScpICYmIGFsZy5lbmRzV2l0aCgnS1cnKSkge1xuICAgICAgICAgICAgICAgICAgICBleHBlY3RlZEtleU9wID0gdXNhZ2UgPT09ICdlbmNyeXB0JyA/ICd3cmFwS2V5JyA6ICd1bndyYXBLZXknO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0ZWRLZXlPcCA9IHVzYWdlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgdXNhZ2UgPT09ICdlbmNyeXB0JyAmJiBhbGcuc3RhcnRzV2l0aCgnUlNBJyk6XG4gICAgICAgICAgICAgICAgZXhwZWN0ZWRLZXlPcCA9ICd3cmFwS2V5JztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgdXNhZ2UgPT09ICdkZWNyeXB0JzpcbiAgICAgICAgICAgICAgICBleHBlY3RlZEtleU9wID0gYWxnLnN0YXJ0c1dpdGgoJ1JTQScpID8gJ3Vud3JhcEtleScgOiAnZGVyaXZlQml0cyc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV4cGVjdGVkS2V5T3AgJiYga2V5LmtleV9vcHM/LmluY2x1ZGVzPy4oZXhwZWN0ZWRLZXlPcCkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBJbnZhbGlkIGtleSBmb3IgdGhpcyBvcGVyYXRpb24sIGl0cyBcImtleV9vcHNcIiBtdXN0IGluY2x1ZGUgXCIke2V4cGVjdGVkS2V5T3B9XCIgd2hlbiBwcmVzZW50YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59O1xuY29uc3Qgc3ltbWV0cmljVHlwZUNoZWNrID0gKGFsZywga2V5LCB1c2FnZSkgPT4ge1xuICAgIGlmIChrZXkgaW5zdGFuY2VvZiBVaW50OEFycmF5KVxuICAgICAgICByZXR1cm47XG4gICAgaWYgKGp3ay5pc0pXSyhrZXkpKSB7XG4gICAgICAgIGlmIChqd2suaXNTZWNyZXRKV0soa2V5KSAmJiBqd2tNYXRjaGVzT3AoYWxnLCBrZXksIHVzYWdlKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgSlNPTiBXZWIgS2V5IGZvciBzeW1tZXRyaWMgYWxnb3JpdGhtcyBtdXN0IGhhdmUgSldLIFwia3R5XCIgKEtleSBUeXBlKSBlcXVhbCB0byBcIm9jdFwiIGFuZCB0aGUgSldLIFwia1wiIChLZXkgVmFsdWUpIHByZXNlbnRgKTtcbiAgICB9XG4gICAgaWYgKCFpc0tleUxpa2Uoa2V5KSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGludmFsaWRLZXlJbnB1dChhbGcsIGtleSwgJ0NyeXB0b0tleScsICdLZXlPYmplY3QnLCAnSlNPTiBXZWIgS2V5JywgJ1VpbnQ4QXJyYXknKSk7XG4gICAgfVxuICAgIGlmIChrZXkudHlwZSAhPT0gJ3NlY3JldCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgJHt0YWcoa2V5KX0gaW5zdGFuY2VzIGZvciBzeW1tZXRyaWMgYWxnb3JpdGhtcyBtdXN0IGJlIG9mIHR5cGUgXCJzZWNyZXRcImApO1xuICAgIH1cbn07XG5jb25zdCBhc3ltbWV0cmljVHlwZUNoZWNrID0gKGFsZywga2V5LCB1c2FnZSkgPT4ge1xuICAgIGlmIChqd2suaXNKV0soa2V5KSkge1xuICAgICAgICBzd2l0Y2ggKHVzYWdlKSB7XG4gICAgICAgICAgICBjYXNlICdkZWNyeXB0JzpcbiAgICAgICAgICAgIGNhc2UgJ3NpZ24nOlxuICAgICAgICAgICAgICAgIGlmIChqd2suaXNQcml2YXRlSldLKGtleSkgJiYgandrTWF0Y2hlc09wKGFsZywga2V5LCB1c2FnZSkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBKU09OIFdlYiBLZXkgZm9yIHRoaXMgb3BlcmF0aW9uIGJlIGEgcHJpdmF0ZSBKV0tgKTtcbiAgICAgICAgICAgIGNhc2UgJ2VuY3J5cHQnOlxuICAgICAgICAgICAgY2FzZSAndmVyaWZ5JzpcbiAgICAgICAgICAgICAgICBpZiAoandrLmlzUHVibGljSldLKGtleSkgJiYgandrTWF0Y2hlc09wKGFsZywga2V5LCB1c2FnZSkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBKU09OIFdlYiBLZXkgZm9yIHRoaXMgb3BlcmF0aW9uIGJlIGEgcHVibGljIEpXS2ApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghaXNLZXlMaWtlKGtleSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihpbnZhbGlkS2V5SW5wdXQoYWxnLCBrZXksICdDcnlwdG9LZXknLCAnS2V5T2JqZWN0JywgJ0pTT04gV2ViIEtleScpKTtcbiAgICB9XG4gICAgaWYgKGtleS50eXBlID09PSAnc2VjcmV0Jykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGAke3RhZyhrZXkpfSBpbnN0YW5jZXMgZm9yIGFzeW1tZXRyaWMgYWxnb3JpdGhtcyBtdXN0IG5vdCBiZSBvZiB0eXBlIFwic2VjcmV0XCJgKTtcbiAgICB9XG4gICAgaWYgKGtleS50eXBlID09PSAncHVibGljJykge1xuICAgICAgICBzd2l0Y2ggKHVzYWdlKSB7XG4gICAgICAgICAgICBjYXNlICdzaWduJzpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGAke3RhZyhrZXkpfSBpbnN0YW5jZXMgZm9yIGFzeW1tZXRyaWMgYWxnb3JpdGhtIHNpZ25pbmcgbXVzdCBiZSBvZiB0eXBlIFwicHJpdmF0ZVwiYCk7XG4gICAgICAgICAgICBjYXNlICdkZWNyeXB0JzpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGAke3RhZyhrZXkpfSBpbnN0YW5jZXMgZm9yIGFzeW1tZXRyaWMgYWxnb3JpdGhtIGRlY3J5cHRpb24gbXVzdCBiZSBvZiB0eXBlIFwicHJpdmF0ZVwiYCk7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChrZXkudHlwZSA9PT0gJ3ByaXZhdGUnKSB7XG4gICAgICAgIHN3aXRjaCAodXNhZ2UpIHtcbiAgICAgICAgICAgIGNhc2UgJ3ZlcmlmeSc6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgJHt0YWcoa2V5KX0gaW5zdGFuY2VzIGZvciBhc3ltbWV0cmljIGFsZ29yaXRobSB2ZXJpZnlpbmcgbXVzdCBiZSBvZiB0eXBlIFwicHVibGljXCJgKTtcbiAgICAgICAgICAgIGNhc2UgJ2VuY3J5cHQnOlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYCR7dGFnKGtleSl9IGluc3RhbmNlcyBmb3IgYXN5bW1ldHJpYyBhbGdvcml0aG0gZW5jcnlwdGlvbiBtdXN0IGJlIG9mIHR5cGUgXCJwdWJsaWNcImApO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn07XG5leHBvcnQgZGVmYXVsdCAoYWxnLCBrZXksIHVzYWdlKSA9PiB7XG4gICAgY29uc3Qgc3ltbWV0cmljID0gYWxnLnN0YXJ0c1dpdGgoJ0hTJykgfHxcbiAgICAgICAgYWxnID09PSAnZGlyJyB8fFxuICAgICAgICBhbGcuc3RhcnRzV2l0aCgnUEJFUzInKSB8fFxuICAgICAgICAvXkEoPzoxMjh8MTkyfDI1NikoPzpHQ00pPyg/OktXKT8kLy50ZXN0KGFsZykgfHxcbiAgICAgICAgL15BKD86MTI4fDE5MnwyNTYpQ0JDLUhTKD86MjU2fDM4NHw1MTIpJC8udGVzdChhbGcpO1xuICAgIGlmIChzeW1tZXRyaWMpIHtcbiAgICAgICAgc3ltbWV0cmljVHlwZUNoZWNrKGFsZywga2V5LCB1c2FnZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhc3ltbWV0cmljVHlwZUNoZWNrKGFsZywga2V5LCB1c2FnZSk7XG4gICAgfVxufTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/lib/check_key_type.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/lib/crypto_key.js":
/*!*********************************************************!*\
  !*** ./node_modules/jose/dist/webapi/lib/crypto_key.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checkEncCryptoKey: () => (/* binding */ checkEncCryptoKey),\n/* harmony export */   checkSigCryptoKey: () => (/* binding */ checkSigCryptoKey)\n/* harmony export */ });\nfunction unusable(name, prop = 'algorithm.name') {\n    return new TypeError(`CryptoKey does not support this operation, its ${prop} must be ${name}`);\n}\nfunction isAlgorithm(algorithm, name) {\n    return algorithm.name === name;\n}\nfunction getHashLength(hash) {\n    return parseInt(hash.name.slice(4), 10);\n}\nfunction getNamedCurve(alg) {\n    switch (alg) {\n        case 'ES256':\n            return 'P-256';\n        case 'ES384':\n            return 'P-384';\n        case 'ES512':\n            return 'P-521';\n        default:\n            throw new Error('unreachable');\n    }\n}\nfunction checkUsage(key, usage) {\n    if (usage && !key.usages.includes(usage)) {\n        throw new TypeError(`CryptoKey does not support this operation, its usages must include ${usage}.`);\n    }\n}\nfunction checkSigCryptoKey(key, alg, usage) {\n    switch (alg) {\n        case 'HS256':\n        case 'HS384':\n        case 'HS512': {\n            if (!isAlgorithm(key.algorithm, 'HMAC'))\n                throw unusable('HMAC');\n            const expected = parseInt(alg.slice(2), 10);\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        case 'RS256':\n        case 'RS384':\n        case 'RS512': {\n            if (!isAlgorithm(key.algorithm, 'RSASSA-PKCS1-v1_5'))\n                throw unusable('RSASSA-PKCS1-v1_5');\n            const expected = parseInt(alg.slice(2), 10);\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        case 'PS256':\n        case 'PS384':\n        case 'PS512': {\n            if (!isAlgorithm(key.algorithm, 'RSA-PSS'))\n                throw unusable('RSA-PSS');\n            const expected = parseInt(alg.slice(2), 10);\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        case 'Ed25519':\n        case 'EdDSA': {\n            if (!isAlgorithm(key.algorithm, 'Ed25519'))\n                throw unusable('Ed25519');\n            break;\n        }\n        case 'ML-DSA-44':\n        case 'ML-DSA-65':\n        case 'ML-DSA-87': {\n            if (!isAlgorithm(key.algorithm, alg))\n                throw unusable(alg);\n            break;\n        }\n        case 'ES256':\n        case 'ES384':\n        case 'ES512': {\n            if (!isAlgorithm(key.algorithm, 'ECDSA'))\n                throw unusable('ECDSA');\n            const expected = getNamedCurve(alg);\n            const actual = key.algorithm.namedCurve;\n            if (actual !== expected)\n                throw unusable(expected, 'algorithm.namedCurve');\n            break;\n        }\n        default:\n            throw new TypeError('CryptoKey does not support this operation');\n    }\n    checkUsage(key, usage);\n}\nfunction checkEncCryptoKey(key, alg, usage) {\n    switch (alg) {\n        case 'A128GCM':\n        case 'A192GCM':\n        case 'A256GCM': {\n            if (!isAlgorithm(key.algorithm, 'AES-GCM'))\n                throw unusable('AES-GCM');\n            const expected = parseInt(alg.slice(1, 4), 10);\n            const actual = key.algorithm.length;\n            if (actual !== expected)\n                throw unusable(expected, 'algorithm.length');\n            break;\n        }\n        case 'A128KW':\n        case 'A192KW':\n        case 'A256KW': {\n            if (!isAlgorithm(key.algorithm, 'AES-KW'))\n                throw unusable('AES-KW');\n            const expected = parseInt(alg.slice(1, 4), 10);\n            const actual = key.algorithm.length;\n            if (actual !== expected)\n                throw unusable(expected, 'algorithm.length');\n            break;\n        }\n        case 'ECDH': {\n            switch (key.algorithm.name) {\n                case 'ECDH':\n                case 'X25519':\n                    break;\n                default:\n                    throw unusable('ECDH or X25519');\n            }\n            break;\n        }\n        case 'PBES2-HS256+A128KW':\n        case 'PBES2-HS384+A192KW':\n        case 'PBES2-HS512+A256KW':\n            if (!isAlgorithm(key.algorithm, 'PBKDF2'))\n                throw unusable('PBKDF2');\n            break;\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512': {\n            if (!isAlgorithm(key.algorithm, 'RSA-OAEP'))\n                throw unusable('RSA-OAEP');\n            const expected = parseInt(alg.slice(9), 10) || 1;\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        default:\n            throw new TypeError('CryptoKey does not support this operation');\n    }\n    checkUsage(key, usage);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvbGliL2NyeXB0b19rZXkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBLDJFQUEyRSxNQUFNLFVBQVUsS0FBSztBQUNoRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrR0FBa0csTUFBTTtBQUN4RztBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsU0FBUztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxTQUFTO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLFNBQVM7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxTQUFTO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxqb3NlXFxkaXN0XFx3ZWJhcGlcXGxpYlxcY3J5cHRvX2tleS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiB1bnVzYWJsZShuYW1lLCBwcm9wID0gJ2FsZ29yaXRobS5uYW1lJykge1xuICAgIHJldHVybiBuZXcgVHlwZUVycm9yKGBDcnlwdG9LZXkgZG9lcyBub3Qgc3VwcG9ydCB0aGlzIG9wZXJhdGlvbiwgaXRzICR7cHJvcH0gbXVzdCBiZSAke25hbWV9YCk7XG59XG5mdW5jdGlvbiBpc0FsZ29yaXRobShhbGdvcml0aG0sIG5hbWUpIHtcbiAgICByZXR1cm4gYWxnb3JpdGhtLm5hbWUgPT09IG5hbWU7XG59XG5mdW5jdGlvbiBnZXRIYXNoTGVuZ3RoKGhhc2gpIHtcbiAgICByZXR1cm4gcGFyc2VJbnQoaGFzaC5uYW1lLnNsaWNlKDQpLCAxMCk7XG59XG5mdW5jdGlvbiBnZXROYW1lZEN1cnZlKGFsZykge1xuICAgIHN3aXRjaCAoYWxnKSB7XG4gICAgICAgIGNhc2UgJ0VTMjU2JzpcbiAgICAgICAgICAgIHJldHVybiAnUC0yNTYnO1xuICAgICAgICBjYXNlICdFUzM4NCc6XG4gICAgICAgICAgICByZXR1cm4gJ1AtMzg0JztcbiAgICAgICAgY2FzZSAnRVM1MTInOlxuICAgICAgICAgICAgcmV0dXJuICdQLTUyMSc7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VucmVhY2hhYmxlJyk7XG4gICAgfVxufVxuZnVuY3Rpb24gY2hlY2tVc2FnZShrZXksIHVzYWdlKSB7XG4gICAgaWYgKHVzYWdlICYmICFrZXkudXNhZ2VzLmluY2x1ZGVzKHVzYWdlKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBDcnlwdG9LZXkgZG9lcyBub3Qgc3VwcG9ydCB0aGlzIG9wZXJhdGlvbiwgaXRzIHVzYWdlcyBtdXN0IGluY2x1ZGUgJHt1c2FnZX0uYCk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrU2lnQ3J5cHRvS2V5KGtleSwgYWxnLCB1c2FnZSkge1xuICAgIHN3aXRjaCAoYWxnKSB7XG4gICAgICAgIGNhc2UgJ0hTMjU2JzpcbiAgICAgICAgY2FzZSAnSFMzODQnOlxuICAgICAgICBjYXNlICdIUzUxMic6IHtcbiAgICAgICAgICAgIGlmICghaXNBbGdvcml0aG0oa2V5LmFsZ29yaXRobSwgJ0hNQUMnKSlcbiAgICAgICAgICAgICAgICB0aHJvdyB1bnVzYWJsZSgnSE1BQycpO1xuICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWQgPSBwYXJzZUludChhbGcuc2xpY2UoMiksIDEwKTtcbiAgICAgICAgICAgIGNvbnN0IGFjdHVhbCA9IGdldEhhc2hMZW5ndGgoa2V5LmFsZ29yaXRobS5oYXNoKTtcbiAgICAgICAgICAgIGlmIChhY3R1YWwgIT09IGV4cGVjdGVkKVxuICAgICAgICAgICAgICAgIHRocm93IHVudXNhYmxlKGBTSEEtJHtleHBlY3RlZH1gLCAnYWxnb3JpdGhtLmhhc2gnKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ1JTMjU2JzpcbiAgICAgICAgY2FzZSAnUlMzODQnOlxuICAgICAgICBjYXNlICdSUzUxMic6IHtcbiAgICAgICAgICAgIGlmICghaXNBbGdvcml0aG0oa2V5LmFsZ29yaXRobSwgJ1JTQVNTQS1QS0NTMS12MV81JykpXG4gICAgICAgICAgICAgICAgdGhyb3cgdW51c2FibGUoJ1JTQVNTQS1QS0NTMS12MV81Jyk7XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZCA9IHBhcnNlSW50KGFsZy5zbGljZSgyKSwgMTApO1xuICAgICAgICAgICAgY29uc3QgYWN0dWFsID0gZ2V0SGFzaExlbmd0aChrZXkuYWxnb3JpdGhtLmhhc2gpO1xuICAgICAgICAgICAgaWYgKGFjdHVhbCAhPT0gZXhwZWN0ZWQpXG4gICAgICAgICAgICAgICAgdGhyb3cgdW51c2FibGUoYFNIQS0ke2V4cGVjdGVkfWAsICdhbGdvcml0aG0uaGFzaCcpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnUFMyNTYnOlxuICAgICAgICBjYXNlICdQUzM4NCc6XG4gICAgICAgIGNhc2UgJ1BTNTEyJzoge1xuICAgICAgICAgICAgaWYgKCFpc0FsZ29yaXRobShrZXkuYWxnb3JpdGhtLCAnUlNBLVBTUycpKVxuICAgICAgICAgICAgICAgIHRocm93IHVudXNhYmxlKCdSU0EtUFNTJyk7XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZCA9IHBhcnNlSW50KGFsZy5zbGljZSgyKSwgMTApO1xuICAgICAgICAgICAgY29uc3QgYWN0dWFsID0gZ2V0SGFzaExlbmd0aChrZXkuYWxnb3JpdGhtLmhhc2gpO1xuICAgICAgICAgICAgaWYgKGFjdHVhbCAhPT0gZXhwZWN0ZWQpXG4gICAgICAgICAgICAgICAgdGhyb3cgdW51c2FibGUoYFNIQS0ke2V4cGVjdGVkfWAsICdhbGdvcml0aG0uaGFzaCcpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnRWQyNTUxOSc6XG4gICAgICAgIGNhc2UgJ0VkRFNBJzoge1xuICAgICAgICAgICAgaWYgKCFpc0FsZ29yaXRobShrZXkuYWxnb3JpdGhtLCAnRWQyNTUxOScpKVxuICAgICAgICAgICAgICAgIHRocm93IHVudXNhYmxlKCdFZDI1NTE5Jyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdNTC1EU0EtNDQnOlxuICAgICAgICBjYXNlICdNTC1EU0EtNjUnOlxuICAgICAgICBjYXNlICdNTC1EU0EtODcnOiB7XG4gICAgICAgICAgICBpZiAoIWlzQWxnb3JpdGhtKGtleS5hbGdvcml0aG0sIGFsZykpXG4gICAgICAgICAgICAgICAgdGhyb3cgdW51c2FibGUoYWxnKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ0VTMjU2JzpcbiAgICAgICAgY2FzZSAnRVMzODQnOlxuICAgICAgICBjYXNlICdFUzUxMic6IHtcbiAgICAgICAgICAgIGlmICghaXNBbGdvcml0aG0oa2V5LmFsZ29yaXRobSwgJ0VDRFNBJykpXG4gICAgICAgICAgICAgICAgdGhyb3cgdW51c2FibGUoJ0VDRFNBJyk7XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZCA9IGdldE5hbWVkQ3VydmUoYWxnKTtcbiAgICAgICAgICAgIGNvbnN0IGFjdHVhbCA9IGtleS5hbGdvcml0aG0ubmFtZWRDdXJ2ZTtcbiAgICAgICAgICAgIGlmIChhY3R1YWwgIT09IGV4cGVjdGVkKVxuICAgICAgICAgICAgICAgIHRocm93IHVudXNhYmxlKGV4cGVjdGVkLCAnYWxnb3JpdGhtLm5hbWVkQ3VydmUnKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDcnlwdG9LZXkgZG9lcyBub3Qgc3VwcG9ydCB0aGlzIG9wZXJhdGlvbicpO1xuICAgIH1cbiAgICBjaGVja1VzYWdlKGtleSwgdXNhZ2UpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrRW5jQ3J5cHRvS2V5KGtleSwgYWxnLCB1c2FnZSkge1xuICAgIHN3aXRjaCAoYWxnKSB7XG4gICAgICAgIGNhc2UgJ0ExMjhHQ00nOlxuICAgICAgICBjYXNlICdBMTkyR0NNJzpcbiAgICAgICAgY2FzZSAnQTI1NkdDTSc6IHtcbiAgICAgICAgICAgIGlmICghaXNBbGdvcml0aG0oa2V5LmFsZ29yaXRobSwgJ0FFUy1HQ00nKSlcbiAgICAgICAgICAgICAgICB0aHJvdyB1bnVzYWJsZSgnQUVTLUdDTScpO1xuICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWQgPSBwYXJzZUludChhbGcuc2xpY2UoMSwgNCksIDEwKTtcbiAgICAgICAgICAgIGNvbnN0IGFjdHVhbCA9IGtleS5hbGdvcml0aG0ubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGFjdHVhbCAhPT0gZXhwZWN0ZWQpXG4gICAgICAgICAgICAgICAgdGhyb3cgdW51c2FibGUoZXhwZWN0ZWQsICdhbGdvcml0aG0ubGVuZ3RoJyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdBMTI4S1cnOlxuICAgICAgICBjYXNlICdBMTkyS1cnOlxuICAgICAgICBjYXNlICdBMjU2S1cnOiB7XG4gICAgICAgICAgICBpZiAoIWlzQWxnb3JpdGhtKGtleS5hbGdvcml0aG0sICdBRVMtS1cnKSlcbiAgICAgICAgICAgICAgICB0aHJvdyB1bnVzYWJsZSgnQUVTLUtXJyk7XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZCA9IHBhcnNlSW50KGFsZy5zbGljZSgxLCA0KSwgMTApO1xuICAgICAgICAgICAgY29uc3QgYWN0dWFsID0ga2V5LmFsZ29yaXRobS5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoYWN0dWFsICE9PSBleHBlY3RlZClcbiAgICAgICAgICAgICAgICB0aHJvdyB1bnVzYWJsZShleHBlY3RlZCwgJ2FsZ29yaXRobS5sZW5ndGgnKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ0VDREgnOiB7XG4gICAgICAgICAgICBzd2l0Y2ggKGtleS5hbGdvcml0aG0ubmFtZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ0VDREgnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ1gyNTUxOSc6XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IHVudXNhYmxlKCdFQ0RIIG9yIFgyNTUxOScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnUEJFUzItSFMyNTYrQTEyOEtXJzpcbiAgICAgICAgY2FzZSAnUEJFUzItSFMzODQrQTE5MktXJzpcbiAgICAgICAgY2FzZSAnUEJFUzItSFM1MTIrQTI1NktXJzpcbiAgICAgICAgICAgIGlmICghaXNBbGdvcml0aG0oa2V5LmFsZ29yaXRobSwgJ1BCS0RGMicpKVxuICAgICAgICAgICAgICAgIHRocm93IHVudXNhYmxlKCdQQktERjInKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdSU0EtT0FFUCc6XG4gICAgICAgIGNhc2UgJ1JTQS1PQUVQLTI1Nic6XG4gICAgICAgIGNhc2UgJ1JTQS1PQUVQLTM4NCc6XG4gICAgICAgIGNhc2UgJ1JTQS1PQUVQLTUxMic6IHtcbiAgICAgICAgICAgIGlmICghaXNBbGdvcml0aG0oa2V5LmFsZ29yaXRobSwgJ1JTQS1PQUVQJykpXG4gICAgICAgICAgICAgICAgdGhyb3cgdW51c2FibGUoJ1JTQS1PQUVQJyk7XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZCA9IHBhcnNlSW50KGFsZy5zbGljZSg5KSwgMTApIHx8IDE7XG4gICAgICAgICAgICBjb25zdCBhY3R1YWwgPSBnZXRIYXNoTGVuZ3RoKGtleS5hbGdvcml0aG0uaGFzaCk7XG4gICAgICAgICAgICBpZiAoYWN0dWFsICE9PSBleHBlY3RlZClcbiAgICAgICAgICAgICAgICB0aHJvdyB1bnVzYWJsZShgU0hBLSR7ZXhwZWN0ZWR9YCwgJ2FsZ29yaXRobS5oYXNoJyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ3J5cHRvS2V5IGRvZXMgbm90IHN1cHBvcnQgdGhpcyBvcGVyYXRpb24nKTtcbiAgICB9XG4gICAgY2hlY2tVc2FnZShrZXksIHVzYWdlKTtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/lib/crypto_key.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/lib/decrypt.js":
/*!******************************************************!*\
  !*** ./node_modules/jose/dist/webapi/lib/decrypt.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _buffer_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./buffer_utils.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/buffer_utils.js\");\n/* harmony import */ var _check_iv_length_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./check_iv_length.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/check_iv_length.js\");\n/* harmony import */ var _check_cek_length_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./check_cek_length.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/check_cek_length.js\");\n/* harmony import */ var _util_errors_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/errors.js */ \"(middleware)/./node_modules/jose/dist/webapi/util/errors.js\");\n/* harmony import */ var _crypto_key_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./crypto_key.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/crypto_key.js\");\n/* harmony import */ var _invalid_key_input_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./invalid_key_input.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/invalid_key_input.js\");\n/* harmony import */ var _is_key_like_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./is_key_like.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/is_key_like.js\");\n\n\n\n\n\n\n\nasync function timingSafeEqual(a, b) {\n    if (!(a instanceof Uint8Array)) {\n        throw new TypeError('First argument must be a buffer');\n    }\n    if (!(b instanceof Uint8Array)) {\n        throw new TypeError('Second argument must be a buffer');\n    }\n    const algorithm = { name: 'HMAC', hash: 'SHA-256' };\n    const key = (await crypto.subtle.generateKey(algorithm, false, ['sign']));\n    const aHmac = new Uint8Array(await crypto.subtle.sign(algorithm, key, a));\n    const bHmac = new Uint8Array(await crypto.subtle.sign(algorithm, key, b));\n    let out = 0;\n    let i = -1;\n    while (++i < 32) {\n        out |= aHmac[i] ^ bHmac[i];\n    }\n    return out === 0;\n}\nasync function cbcDecrypt(enc, cek, ciphertext, iv, tag, aad) {\n    if (!(cek instanceof Uint8Array)) {\n        throw new TypeError((0,_invalid_key_input_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(cek, 'Uint8Array'));\n    }\n    const keySize = parseInt(enc.slice(1, 4), 10);\n    const encKey = await crypto.subtle.importKey('raw', cek.subarray(keySize >> 3), 'AES-CBC', false, ['decrypt']);\n    const macKey = await crypto.subtle.importKey('raw', cek.subarray(0, keySize >> 3), {\n        hash: `SHA-${keySize << 1}`,\n        name: 'HMAC',\n    }, false, ['sign']);\n    const macData = (0,_buffer_utils_js__WEBPACK_IMPORTED_MODULE_1__.concat)(aad, iv, ciphertext, (0,_buffer_utils_js__WEBPACK_IMPORTED_MODULE_1__.uint64be)(aad.length << 3));\n    const expectedTag = new Uint8Array((await crypto.subtle.sign('HMAC', macKey, macData)).slice(0, keySize >> 3));\n    let macCheckPassed;\n    try {\n        macCheckPassed = await timingSafeEqual(tag, expectedTag);\n    }\n    catch {\n    }\n    if (!macCheckPassed) {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_2__.JWEDecryptionFailed();\n    }\n    let plaintext;\n    try {\n        plaintext = new Uint8Array(await crypto.subtle.decrypt({ iv, name: 'AES-CBC' }, encKey, ciphertext));\n    }\n    catch {\n    }\n    if (!plaintext) {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_2__.JWEDecryptionFailed();\n    }\n    return plaintext;\n}\nasync function gcmDecrypt(enc, cek, ciphertext, iv, tag, aad) {\n    let encKey;\n    if (cek instanceof Uint8Array) {\n        encKey = await crypto.subtle.importKey('raw', cek, 'AES-GCM', false, ['decrypt']);\n    }\n    else {\n        (0,_crypto_key_js__WEBPACK_IMPORTED_MODULE_3__.checkEncCryptoKey)(cek, enc, 'decrypt');\n        encKey = cek;\n    }\n    try {\n        return new Uint8Array(await crypto.subtle.decrypt({\n            additionalData: aad,\n            iv,\n            name: 'AES-GCM',\n            tagLength: 128,\n        }, encKey, (0,_buffer_utils_js__WEBPACK_IMPORTED_MODULE_1__.concat)(ciphertext, tag)));\n    }\n    catch {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_2__.JWEDecryptionFailed();\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (async (enc, cek, ciphertext, iv, tag, aad) => {\n    if (!(0,_is_key_like_js__WEBPACK_IMPORTED_MODULE_4__.isCryptoKey)(cek) && !(cek instanceof Uint8Array)) {\n        throw new TypeError((0,_invalid_key_input_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(cek, 'CryptoKey', 'KeyObject', 'Uint8Array', 'JSON Web Key'));\n    }\n    if (!iv) {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_2__.JWEInvalid('JWE Initialization Vector missing');\n    }\n    if (!tag) {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_2__.JWEInvalid('JWE Authentication Tag missing');\n    }\n    (0,_check_iv_length_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(enc, iv);\n    switch (enc) {\n        case 'A128CBC-HS256':\n        case 'A192CBC-HS384':\n        case 'A256CBC-HS512':\n            if (cek instanceof Uint8Array)\n                (0,_check_cek_length_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(cek, parseInt(enc.slice(-3), 10));\n            return cbcDecrypt(enc, cek, ciphertext, iv, tag, aad);\n        case 'A128GCM':\n        case 'A192GCM':\n        case 'A256GCM':\n            if (cek instanceof Uint8Array)\n                (0,_check_cek_length_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(cek, parseInt(enc.slice(1, 4), 10));\n            return gcmDecrypt(enc, cek, ciphertext, iv, tag, aad);\n        default:\n            throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_2__.JOSENotSupported('Unsupported JWE Content Encryption Algorithm');\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvbGliL2RlY3J5cHQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBcUQ7QUFDSjtBQUNFO0FBQ21DO0FBQ2xDO0FBQ0M7QUFDTjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsaUVBQWU7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsYUFBYTtBQUNsQztBQUNBLEtBQUs7QUFDTCxvQkFBb0Isd0RBQU0sc0JBQXNCLDBEQUFRO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsZ0VBQW1CO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSxxQkFBcUI7QUFDdEY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsZ0VBQW1CO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLFVBQVUsd0RBQU07QUFDekI7QUFDQTtBQUNBLGtCQUFrQixnRUFBbUI7QUFDckM7QUFDQTtBQUNBLGlFQUFlO0FBQ2YsU0FBUyw0REFBVztBQUNwQiw0QkFBNEIsaUVBQWU7QUFDM0M7QUFDQTtBQUNBLGtCQUFrQix1REFBVTtBQUM1QjtBQUNBO0FBQ0Esa0JBQWtCLHVEQUFVO0FBQzVCO0FBQ0EsSUFBSSwrREFBYTtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGdFQUFjO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsZ0VBQWM7QUFDOUI7QUFDQTtBQUNBLHNCQUFzQiw2REFBZ0I7QUFDdEM7QUFDQSxDQUFDLEVBQUMiLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXGpvc2VcXGRpc3RcXHdlYmFwaVxcbGliXFxkZWNyeXB0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNvbmNhdCwgdWludDY0YmUgfSBmcm9tICcuL2J1ZmZlcl91dGlscy5qcyc7XG5pbXBvcnQgY2hlY2tJdkxlbmd0aCBmcm9tICcuL2NoZWNrX2l2X2xlbmd0aC5qcyc7XG5pbXBvcnQgY2hlY2tDZWtMZW5ndGggZnJvbSAnLi9jaGVja19jZWtfbGVuZ3RoLmpzJztcbmltcG9ydCB7IEpPU0VOb3RTdXBwb3J0ZWQsIEpXRURlY3J5cHRpb25GYWlsZWQsIEpXRUludmFsaWQgfSBmcm9tICcuLi91dGlsL2Vycm9ycy5qcyc7XG5pbXBvcnQgeyBjaGVja0VuY0NyeXB0b0tleSB9IGZyb20gJy4vY3J5cHRvX2tleS5qcyc7XG5pbXBvcnQgaW52YWxpZEtleUlucHV0IGZyb20gJy4vaW52YWxpZF9rZXlfaW5wdXQuanMnO1xuaW1wb3J0IHsgaXNDcnlwdG9LZXkgfSBmcm9tICcuL2lzX2tleV9saWtlLmpzJztcbmFzeW5jIGZ1bmN0aW9uIHRpbWluZ1NhZmVFcXVhbChhLCBiKSB7XG4gICAgaWYgKCEoYSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBidWZmZXInKTtcbiAgICB9XG4gICAgaWYgKCEoYiBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1NlY29uZCBhcmd1bWVudCBtdXN0IGJlIGEgYnVmZmVyJyk7XG4gICAgfVxuICAgIGNvbnN0IGFsZ29yaXRobSA9IHsgbmFtZTogJ0hNQUMnLCBoYXNoOiAnU0hBLTI1NicgfTtcbiAgICBjb25zdCBrZXkgPSAoYXdhaXQgY3J5cHRvLnN1YnRsZS5nZW5lcmF0ZUtleShhbGdvcml0aG0sIGZhbHNlLCBbJ3NpZ24nXSkpO1xuICAgIGNvbnN0IGFIbWFjID0gbmV3IFVpbnQ4QXJyYXkoYXdhaXQgY3J5cHRvLnN1YnRsZS5zaWduKGFsZ29yaXRobSwga2V5LCBhKSk7XG4gICAgY29uc3QgYkhtYWMgPSBuZXcgVWludDhBcnJheShhd2FpdCBjcnlwdG8uc3VidGxlLnNpZ24oYWxnb3JpdGhtLCBrZXksIGIpKTtcbiAgICBsZXQgb3V0ID0gMDtcbiAgICBsZXQgaSA9IC0xO1xuICAgIHdoaWxlICgrK2kgPCAzMikge1xuICAgICAgICBvdXQgfD0gYUhtYWNbaV0gXiBiSG1hY1tpXTtcbiAgICB9XG4gICAgcmV0dXJuIG91dCA9PT0gMDtcbn1cbmFzeW5jIGZ1bmN0aW9uIGNiY0RlY3J5cHQoZW5jLCBjZWssIGNpcGhlcnRleHQsIGl2LCB0YWcsIGFhZCkge1xuICAgIGlmICghKGNlayBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoaW52YWxpZEtleUlucHV0KGNlaywgJ1VpbnQ4QXJyYXknKSk7XG4gICAgfVxuICAgIGNvbnN0IGtleVNpemUgPSBwYXJzZUludChlbmMuc2xpY2UoMSwgNCksIDEwKTtcbiAgICBjb25zdCBlbmNLZXkgPSBhd2FpdCBjcnlwdG8uc3VidGxlLmltcG9ydEtleSgncmF3JywgY2VrLnN1YmFycmF5KGtleVNpemUgPj4gMyksICdBRVMtQ0JDJywgZmFsc2UsIFsnZGVjcnlwdCddKTtcbiAgICBjb25zdCBtYWNLZXkgPSBhd2FpdCBjcnlwdG8uc3VidGxlLmltcG9ydEtleSgncmF3JywgY2VrLnN1YmFycmF5KDAsIGtleVNpemUgPj4gMyksIHtcbiAgICAgICAgaGFzaDogYFNIQS0ke2tleVNpemUgPDwgMX1gLFxuICAgICAgICBuYW1lOiAnSE1BQycsXG4gICAgfSwgZmFsc2UsIFsnc2lnbiddKTtcbiAgICBjb25zdCBtYWNEYXRhID0gY29uY2F0KGFhZCwgaXYsIGNpcGhlcnRleHQsIHVpbnQ2NGJlKGFhZC5sZW5ndGggPDwgMykpO1xuICAgIGNvbnN0IGV4cGVjdGVkVGFnID0gbmV3IFVpbnQ4QXJyYXkoKGF3YWl0IGNyeXB0by5zdWJ0bGUuc2lnbignSE1BQycsIG1hY0tleSwgbWFjRGF0YSkpLnNsaWNlKDAsIGtleVNpemUgPj4gMykpO1xuICAgIGxldCBtYWNDaGVja1Bhc3NlZDtcbiAgICB0cnkge1xuICAgICAgICBtYWNDaGVja1Bhc3NlZCA9IGF3YWl0IHRpbWluZ1NhZmVFcXVhbCh0YWcsIGV4cGVjdGVkVGFnKTtcbiAgICB9XG4gICAgY2F0Y2gge1xuICAgIH1cbiAgICBpZiAoIW1hY0NoZWNrUGFzc2VkKSB7XG4gICAgICAgIHRocm93IG5ldyBKV0VEZWNyeXB0aW9uRmFpbGVkKCk7XG4gICAgfVxuICAgIGxldCBwbGFpbnRleHQ7XG4gICAgdHJ5IHtcbiAgICAgICAgcGxhaW50ZXh0ID0gbmV3IFVpbnQ4QXJyYXkoYXdhaXQgY3J5cHRvLnN1YnRsZS5kZWNyeXB0KHsgaXYsIG5hbWU6ICdBRVMtQ0JDJyB9LCBlbmNLZXksIGNpcGhlcnRleHQpKTtcbiAgICB9XG4gICAgY2F0Y2gge1xuICAgIH1cbiAgICBpZiAoIXBsYWludGV4dCkge1xuICAgICAgICB0aHJvdyBuZXcgSldFRGVjcnlwdGlvbkZhaWxlZCgpO1xuICAgIH1cbiAgICByZXR1cm4gcGxhaW50ZXh0O1xufVxuYXN5bmMgZnVuY3Rpb24gZ2NtRGVjcnlwdChlbmMsIGNlaywgY2lwaGVydGV4dCwgaXYsIHRhZywgYWFkKSB7XG4gICAgbGV0IGVuY0tleTtcbiAgICBpZiAoY2VrIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgICBlbmNLZXkgPSBhd2FpdCBjcnlwdG8uc3VidGxlLmltcG9ydEtleSgncmF3JywgY2VrLCAnQUVTLUdDTScsIGZhbHNlLCBbJ2RlY3J5cHQnXSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjaGVja0VuY0NyeXB0b0tleShjZWssIGVuYywgJ2RlY3J5cHQnKTtcbiAgICAgICAgZW5jS2V5ID0gY2VrO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYXdhaXQgY3J5cHRvLnN1YnRsZS5kZWNyeXB0KHtcbiAgICAgICAgICAgIGFkZGl0aW9uYWxEYXRhOiBhYWQsXG4gICAgICAgICAgICBpdixcbiAgICAgICAgICAgIG5hbWU6ICdBRVMtR0NNJyxcbiAgICAgICAgICAgIHRhZ0xlbmd0aDogMTI4LFxuICAgICAgICB9LCBlbmNLZXksIGNvbmNhdChjaXBoZXJ0ZXh0LCB0YWcpKSk7XG4gICAgfVxuICAgIGNhdGNoIHtcbiAgICAgICAgdGhyb3cgbmV3IEpXRURlY3J5cHRpb25GYWlsZWQoKTtcbiAgICB9XG59XG5leHBvcnQgZGVmYXVsdCBhc3luYyAoZW5jLCBjZWssIGNpcGhlcnRleHQsIGl2LCB0YWcsIGFhZCkgPT4ge1xuICAgIGlmICghaXNDcnlwdG9LZXkoY2VrKSAmJiAhKGNlayBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoaW52YWxpZEtleUlucHV0KGNlaywgJ0NyeXB0b0tleScsICdLZXlPYmplY3QnLCAnVWludDhBcnJheScsICdKU09OIFdlYiBLZXknKSk7XG4gICAgfVxuICAgIGlmICghaXYpIHtcbiAgICAgICAgdGhyb3cgbmV3IEpXRUludmFsaWQoJ0pXRSBJbml0aWFsaXphdGlvbiBWZWN0b3IgbWlzc2luZycpO1xuICAgIH1cbiAgICBpZiAoIXRhZykge1xuICAgICAgICB0aHJvdyBuZXcgSldFSW52YWxpZCgnSldFIEF1dGhlbnRpY2F0aW9uIFRhZyBtaXNzaW5nJyk7XG4gICAgfVxuICAgIGNoZWNrSXZMZW5ndGgoZW5jLCBpdik7XG4gICAgc3dpdGNoIChlbmMpIHtcbiAgICAgICAgY2FzZSAnQTEyOENCQy1IUzI1Nic6XG4gICAgICAgIGNhc2UgJ0ExOTJDQkMtSFMzODQnOlxuICAgICAgICBjYXNlICdBMjU2Q0JDLUhTNTEyJzpcbiAgICAgICAgICAgIGlmIChjZWsgaW5zdGFuY2VvZiBVaW50OEFycmF5KVxuICAgICAgICAgICAgICAgIGNoZWNrQ2VrTGVuZ3RoKGNlaywgcGFyc2VJbnQoZW5jLnNsaWNlKC0zKSwgMTApKTtcbiAgICAgICAgICAgIHJldHVybiBjYmNEZWNyeXB0KGVuYywgY2VrLCBjaXBoZXJ0ZXh0LCBpdiwgdGFnLCBhYWQpO1xuICAgICAgICBjYXNlICdBMTI4R0NNJzpcbiAgICAgICAgY2FzZSAnQTE5MkdDTSc6XG4gICAgICAgIGNhc2UgJ0EyNTZHQ00nOlxuICAgICAgICAgICAgaWYgKGNlayBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpXG4gICAgICAgICAgICAgICAgY2hlY2tDZWtMZW5ndGgoY2VrLCBwYXJzZUludChlbmMuc2xpY2UoMSwgNCksIDEwKSk7XG4gICAgICAgICAgICByZXR1cm4gZ2NtRGVjcnlwdChlbmMsIGNlaywgY2lwaGVydGV4dCwgaXYsIHRhZywgYWFkKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBKT1NFTm90U3VwcG9ydGVkKCdVbnN1cHBvcnRlZCBKV0UgQ29udGVudCBFbmNyeXB0aW9uIEFsZ29yaXRobScpO1xuICAgIH1cbn07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/lib/decrypt.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/lib/decrypt_key_management.js":
/*!*********************************************************************!*\
  !*** ./node_modules/jose/dist/webapi/lib/decrypt_key_management.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _aeskw_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./aeskw.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/aeskw.js\");\n/* harmony import */ var _ecdhes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ecdhes.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/ecdhes.js\");\n/* harmony import */ var _pbes2kw_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./pbes2kw.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/pbes2kw.js\");\n/* harmony import */ var _rsaes_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./rsaes.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/rsaes.js\");\n/* harmony import */ var _util_base64url_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../util/base64url.js */ \"(middleware)/./node_modules/jose/dist/webapi/util/base64url.js\");\n/* harmony import */ var _util_errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/errors.js */ \"(middleware)/./node_modules/jose/dist/webapi/util/errors.js\");\n/* harmony import */ var _lib_cek_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/cek.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/cek.js\");\n/* harmony import */ var _key_import_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../key/import.js */ \"(middleware)/./node_modules/jose/dist/webapi/key/import.js\");\n/* harmony import */ var _is_object_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./is_object.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/is_object.js\");\n/* harmony import */ var _aesgcmkw_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./aesgcmkw.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/aesgcmkw.js\");\n/* harmony import */ var _is_key_like_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./is_key_like.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/is_key_like.js\");\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (async (alg, key, encryptedKey, joseHeader, options) => {\n    switch (alg) {\n        case 'dir': {\n            if (encryptedKey !== undefined)\n                throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JWEInvalid('Encountered unexpected JWE Encrypted Key');\n            return key;\n        }\n        case 'ECDH-ES':\n            if (encryptedKey !== undefined)\n                throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JWEInvalid('Encountered unexpected JWE Encrypted Key');\n        case 'ECDH-ES+A128KW':\n        case 'ECDH-ES+A192KW':\n        case 'ECDH-ES+A256KW': {\n            if (!(0,_is_object_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(joseHeader.epk))\n                throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JWEInvalid(`JOSE Header \"epk\" (Ephemeral Public Key) missing or invalid`);\n            (0,_is_key_like_js__WEBPACK_IMPORTED_MODULE_2__.assertCryptoKey)(key);\n            if (!_ecdhes_js__WEBPACK_IMPORTED_MODULE_3__.allowed(key))\n                throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JOSENotSupported('ECDH with the provided key is not allowed or not supported by your javascript runtime');\n            const epk = await (0,_key_import_js__WEBPACK_IMPORTED_MODULE_4__.importJWK)(joseHeader.epk, alg);\n            (0,_is_key_like_js__WEBPACK_IMPORTED_MODULE_2__.assertCryptoKey)(epk);\n            let partyUInfo;\n            let partyVInfo;\n            if (joseHeader.apu !== undefined) {\n                if (typeof joseHeader.apu !== 'string')\n                    throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JWEInvalid(`JOSE Header \"apu\" (Agreement PartyUInfo) invalid`);\n                try {\n                    partyUInfo = (0,_util_base64url_js__WEBPACK_IMPORTED_MODULE_5__.decode)(joseHeader.apu);\n                }\n                catch {\n                    throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JWEInvalid('Failed to base64url decode the apu');\n                }\n            }\n            if (joseHeader.apv !== undefined) {\n                if (typeof joseHeader.apv !== 'string')\n                    throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JWEInvalid(`JOSE Header \"apv\" (Agreement PartyVInfo) invalid`);\n                try {\n                    partyVInfo = (0,_util_base64url_js__WEBPACK_IMPORTED_MODULE_5__.decode)(joseHeader.apv);\n                }\n                catch {\n                    throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JWEInvalid('Failed to base64url decode the apv');\n                }\n            }\n            const sharedSecret = await _ecdhes_js__WEBPACK_IMPORTED_MODULE_3__.deriveKey(epk, key, alg === 'ECDH-ES' ? joseHeader.enc : alg, alg === 'ECDH-ES' ? (0,_lib_cek_js__WEBPACK_IMPORTED_MODULE_6__.bitLength)(joseHeader.enc) : parseInt(alg.slice(-5, -2), 10), partyUInfo, partyVInfo);\n            if (alg === 'ECDH-ES')\n                return sharedSecret;\n            if (encryptedKey === undefined)\n                throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JWEInvalid('JWE Encrypted Key missing');\n            return _aeskw_js__WEBPACK_IMPORTED_MODULE_7__.unwrap(alg.slice(-6), sharedSecret, encryptedKey);\n        }\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512': {\n            if (encryptedKey === undefined)\n                throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JWEInvalid('JWE Encrypted Key missing');\n            (0,_is_key_like_js__WEBPACK_IMPORTED_MODULE_2__.assertCryptoKey)(key);\n            return _rsaes_js__WEBPACK_IMPORTED_MODULE_8__.decrypt(alg, key, encryptedKey);\n        }\n        case 'PBES2-HS256+A128KW':\n        case 'PBES2-HS384+A192KW':\n        case 'PBES2-HS512+A256KW': {\n            if (encryptedKey === undefined)\n                throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JWEInvalid('JWE Encrypted Key missing');\n            if (typeof joseHeader.p2c !== 'number')\n                throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JWEInvalid(`JOSE Header \"p2c\" (PBES2 Count) missing or invalid`);\n            const p2cLimit = options?.maxPBES2Count || 10_000;\n            if (joseHeader.p2c > p2cLimit)\n                throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JWEInvalid(`JOSE Header \"p2c\" (PBES2 Count) out is of acceptable bounds`);\n            if (typeof joseHeader.p2s !== 'string')\n                throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JWEInvalid(`JOSE Header \"p2s\" (PBES2 Salt) missing or invalid`);\n            let p2s;\n            try {\n                p2s = (0,_util_base64url_js__WEBPACK_IMPORTED_MODULE_5__.decode)(joseHeader.p2s);\n            }\n            catch {\n                throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JWEInvalid('Failed to base64url decode the p2s');\n            }\n            return _pbes2kw_js__WEBPACK_IMPORTED_MODULE_9__.unwrap(alg, key, encryptedKey, joseHeader.p2c, p2s);\n        }\n        case 'A128KW':\n        case 'A192KW':\n        case 'A256KW': {\n            if (encryptedKey === undefined)\n                throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JWEInvalid('JWE Encrypted Key missing');\n            return _aeskw_js__WEBPACK_IMPORTED_MODULE_7__.unwrap(alg, key, encryptedKey);\n        }\n        case 'A128GCMKW':\n        case 'A192GCMKW':\n        case 'A256GCMKW': {\n            if (encryptedKey === undefined)\n                throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JWEInvalid('JWE Encrypted Key missing');\n            if (typeof joseHeader.iv !== 'string')\n                throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JWEInvalid(`JOSE Header \"iv\" (Initialization Vector) missing or invalid`);\n            if (typeof joseHeader.tag !== 'string')\n                throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JWEInvalid(`JOSE Header \"tag\" (Authentication Tag) missing or invalid`);\n            let iv;\n            try {\n                iv = (0,_util_base64url_js__WEBPACK_IMPORTED_MODULE_5__.decode)(joseHeader.iv);\n            }\n            catch {\n                throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JWEInvalid('Failed to base64url decode the iv');\n            }\n            let tag;\n            try {\n                tag = (0,_util_base64url_js__WEBPACK_IMPORTED_MODULE_5__.decode)(joseHeader.tag);\n            }\n            catch {\n                throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JWEInvalid('Failed to base64url decode the tag');\n            }\n            return (0,_aesgcmkw_js__WEBPACK_IMPORTED_MODULE_10__.unwrap)(alg, key, encryptedKey, iv, tag);\n        }\n        default: {\n            throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JOSENotSupported('Invalid or unsupported \"alg\" (JWE Algorithm) header value');\n        }\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvbGliL2RlY3J5cHRfa2V5X21hbmFnZW1lbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQW9DO0FBQ0U7QUFDRTtBQUNKO0FBQ2tCO0FBQ1c7QUFDVjtBQUNWO0FBQ1A7QUFDYTtBQUNBO0FBQ25ELGlFQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHVEQUFVO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHVEQUFVO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQix5REFBUTtBQUN6QiwwQkFBMEIsdURBQVU7QUFDcEMsWUFBWSxnRUFBZTtBQUMzQixpQkFBaUIsK0NBQWM7QUFDL0IsMEJBQTBCLDZEQUFnQjtBQUMxQyw4QkFBOEIseURBQVM7QUFDdkMsWUFBWSxnRUFBZTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qix1REFBVTtBQUN4QztBQUNBLGlDQUFpQywwREFBSTtBQUNyQztBQUNBO0FBQ0EsOEJBQThCLHVEQUFVO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHVEQUFVO0FBQ3hDO0FBQ0EsaUNBQWlDLDBEQUFJO0FBQ3JDO0FBQ0E7QUFDQSw4QkFBOEIsdURBQVU7QUFDeEM7QUFDQTtBQUNBLHVDQUF1QyxpREFBZ0IseUVBQXlFLHNEQUFTO0FBQ3pJO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQix1REFBVTtBQUNwQyxtQkFBbUIsNkNBQVk7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHVEQUFVO0FBQ3BDLFlBQVksZ0VBQWU7QUFDM0IsbUJBQW1CLDhDQUFhO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsdURBQVU7QUFDcEM7QUFDQSwwQkFBMEIsdURBQVU7QUFDcEM7QUFDQTtBQUNBLDBCQUEwQix1REFBVTtBQUNwQztBQUNBLDBCQUEwQix1REFBVTtBQUNwQztBQUNBO0FBQ0Esc0JBQXNCLDBEQUFJO0FBQzFCO0FBQ0E7QUFDQSwwQkFBMEIsdURBQVU7QUFDcEM7QUFDQSxtQkFBbUIsK0NBQWM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQix1REFBVTtBQUNwQyxtQkFBbUIsNkNBQVk7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQix1REFBVTtBQUNwQztBQUNBLDBCQUEwQix1REFBVTtBQUNwQztBQUNBLDBCQUEwQix1REFBVTtBQUNwQztBQUNBO0FBQ0EscUJBQXFCLDBEQUFJO0FBQ3pCO0FBQ0E7QUFDQSwwQkFBMEIsdURBQVU7QUFDcEM7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDBEQUFJO0FBQzFCO0FBQ0E7QUFDQSwwQkFBMEIsdURBQVU7QUFDcEM7QUFDQSxtQkFBbUIscURBQVE7QUFDM0I7QUFDQTtBQUNBLHNCQUFzQiw2REFBZ0I7QUFDdEM7QUFDQTtBQUNBLENBQUMsRUFBQyIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcam9zZVxcZGlzdFxcd2ViYXBpXFxsaWJcXGRlY3J5cHRfa2V5X21hbmFnZW1lbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgYWVza3cgZnJvbSAnLi9hZXNrdy5qcyc7XG5pbXBvcnQgKiBhcyBlY2RoZXMgZnJvbSAnLi9lY2RoZXMuanMnO1xuaW1wb3J0ICogYXMgcGJlczJrdyBmcm9tICcuL3BiZXMya3cuanMnO1xuaW1wb3J0ICogYXMgcnNhZXMgZnJvbSAnLi9yc2Flcy5qcyc7XG5pbXBvcnQgeyBkZWNvZGUgYXMgYjY0dSB9IGZyb20gJy4uL3V0aWwvYmFzZTY0dXJsLmpzJztcbmltcG9ydCB7IEpPU0VOb3RTdXBwb3J0ZWQsIEpXRUludmFsaWQgfSBmcm9tICcuLi91dGlsL2Vycm9ycy5qcyc7XG5pbXBvcnQgeyBiaXRMZW5ndGggYXMgY2VrTGVuZ3RoIH0gZnJvbSAnLi4vbGliL2Nlay5qcyc7XG5pbXBvcnQgeyBpbXBvcnRKV0sgfSBmcm9tICcuLi9rZXkvaW1wb3J0LmpzJztcbmltcG9ydCBpc09iamVjdCBmcm9tICcuL2lzX29iamVjdC5qcyc7XG5pbXBvcnQgeyB1bndyYXAgYXMgYWVzR2NtS3cgfSBmcm9tICcuL2Flc2djbWt3LmpzJztcbmltcG9ydCB7IGFzc2VydENyeXB0b0tleSB9IGZyb20gJy4vaXNfa2V5X2xpa2UuanMnO1xuZXhwb3J0IGRlZmF1bHQgYXN5bmMgKGFsZywga2V5LCBlbmNyeXB0ZWRLZXksIGpvc2VIZWFkZXIsIG9wdGlvbnMpID0+IHtcbiAgICBzd2l0Y2ggKGFsZykge1xuICAgICAgICBjYXNlICdkaXInOiB7XG4gICAgICAgICAgICBpZiAoZW5jcnlwdGVkS2V5ICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEpXRUludmFsaWQoJ0VuY291bnRlcmVkIHVuZXhwZWN0ZWQgSldFIEVuY3J5cHRlZCBLZXknKTtcbiAgICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnRUNESC1FUyc6XG4gICAgICAgICAgICBpZiAoZW5jcnlwdGVkS2V5ICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEpXRUludmFsaWQoJ0VuY291bnRlcmVkIHVuZXhwZWN0ZWQgSldFIEVuY3J5cHRlZCBLZXknKTtcbiAgICAgICAgY2FzZSAnRUNESC1FUytBMTI4S1cnOlxuICAgICAgICBjYXNlICdFQ0RILUVTK0ExOTJLVyc6XG4gICAgICAgIGNhc2UgJ0VDREgtRVMrQTI1NktXJzoge1xuICAgICAgICAgICAgaWYgKCFpc09iamVjdChqb3NlSGVhZGVyLmVwaykpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEpXRUludmFsaWQoYEpPU0UgSGVhZGVyIFwiZXBrXCIgKEVwaGVtZXJhbCBQdWJsaWMgS2V5KSBtaXNzaW5nIG9yIGludmFsaWRgKTtcbiAgICAgICAgICAgIGFzc2VydENyeXB0b0tleShrZXkpO1xuICAgICAgICAgICAgaWYgKCFlY2RoZXMuYWxsb3dlZChrZXkpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBKT1NFTm90U3VwcG9ydGVkKCdFQ0RIIHdpdGggdGhlIHByb3ZpZGVkIGtleSBpcyBub3QgYWxsb3dlZCBvciBub3Qgc3VwcG9ydGVkIGJ5IHlvdXIgamF2YXNjcmlwdCBydW50aW1lJyk7XG4gICAgICAgICAgICBjb25zdCBlcGsgPSBhd2FpdCBpbXBvcnRKV0soam9zZUhlYWRlci5lcGssIGFsZyk7XG4gICAgICAgICAgICBhc3NlcnRDcnlwdG9LZXkoZXBrKTtcbiAgICAgICAgICAgIGxldCBwYXJ0eVVJbmZvO1xuICAgICAgICAgICAgbGV0IHBhcnR5VkluZm87XG4gICAgICAgICAgICBpZiAoam9zZUhlYWRlci5hcHUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygam9zZUhlYWRlci5hcHUgIT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSldFSW52YWxpZChgSk9TRSBIZWFkZXIgXCJhcHVcIiAoQWdyZWVtZW50IFBhcnR5VUluZm8pIGludmFsaWRgKTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBwYXJ0eVVJbmZvID0gYjY0dShqb3NlSGVhZGVyLmFwdSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEpXRUludmFsaWQoJ0ZhaWxlZCB0byBiYXNlNjR1cmwgZGVjb2RlIHRoZSBhcHUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoam9zZUhlYWRlci5hcHYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygam9zZUhlYWRlci5hcHYgIT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSldFSW52YWxpZChgSk9TRSBIZWFkZXIgXCJhcHZcIiAoQWdyZWVtZW50IFBhcnR5VkluZm8pIGludmFsaWRgKTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBwYXJ0eVZJbmZvID0gYjY0dShqb3NlSGVhZGVyLmFwdik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEpXRUludmFsaWQoJ0ZhaWxlZCB0byBiYXNlNjR1cmwgZGVjb2RlIHRoZSBhcHYnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzaGFyZWRTZWNyZXQgPSBhd2FpdCBlY2RoZXMuZGVyaXZlS2V5KGVwaywga2V5LCBhbGcgPT09ICdFQ0RILUVTJyA/IGpvc2VIZWFkZXIuZW5jIDogYWxnLCBhbGcgPT09ICdFQ0RILUVTJyA/IGNla0xlbmd0aChqb3NlSGVhZGVyLmVuYykgOiBwYXJzZUludChhbGcuc2xpY2UoLTUsIC0yKSwgMTApLCBwYXJ0eVVJbmZvLCBwYXJ0eVZJbmZvKTtcbiAgICAgICAgICAgIGlmIChhbGcgPT09ICdFQ0RILUVTJylcbiAgICAgICAgICAgICAgICByZXR1cm4gc2hhcmVkU2VjcmV0O1xuICAgICAgICAgICAgaWYgKGVuY3J5cHRlZEtleSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBKV0VJbnZhbGlkKCdKV0UgRW5jcnlwdGVkIEtleSBtaXNzaW5nJyk7XG4gICAgICAgICAgICByZXR1cm4gYWVza3cudW53cmFwKGFsZy5zbGljZSgtNiksIHNoYXJlZFNlY3JldCwgZW5jcnlwdGVkS2V5KTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdSU0EtT0FFUCc6XG4gICAgICAgIGNhc2UgJ1JTQS1PQUVQLTI1Nic6XG4gICAgICAgIGNhc2UgJ1JTQS1PQUVQLTM4NCc6XG4gICAgICAgIGNhc2UgJ1JTQS1PQUVQLTUxMic6IHtcbiAgICAgICAgICAgIGlmIChlbmNyeXB0ZWRLZXkgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSldFSW52YWxpZCgnSldFIEVuY3J5cHRlZCBLZXkgbWlzc2luZycpO1xuICAgICAgICAgICAgYXNzZXJ0Q3J5cHRvS2V5KGtleSk7XG4gICAgICAgICAgICByZXR1cm4gcnNhZXMuZGVjcnlwdChhbGcsIGtleSwgZW5jcnlwdGVkS2V5KTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdQQkVTMi1IUzI1NitBMTI4S1cnOlxuICAgICAgICBjYXNlICdQQkVTMi1IUzM4NCtBMTkyS1cnOlxuICAgICAgICBjYXNlICdQQkVTMi1IUzUxMitBMjU2S1cnOiB7XG4gICAgICAgICAgICBpZiAoZW5jcnlwdGVkS2V5ID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEpXRUludmFsaWQoJ0pXRSBFbmNyeXB0ZWQgS2V5IG1pc3NpbmcnKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygam9zZUhlYWRlci5wMmMgIT09ICdudW1iZXInKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBKV0VJbnZhbGlkKGBKT1NFIEhlYWRlciBcInAyY1wiIChQQkVTMiBDb3VudCkgbWlzc2luZyBvciBpbnZhbGlkYCk7XG4gICAgICAgICAgICBjb25zdCBwMmNMaW1pdCA9IG9wdGlvbnM/Lm1heFBCRVMyQ291bnQgfHwgMTBfMDAwO1xuICAgICAgICAgICAgaWYgKGpvc2VIZWFkZXIucDJjID4gcDJjTGltaXQpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEpXRUludmFsaWQoYEpPU0UgSGVhZGVyIFwicDJjXCIgKFBCRVMyIENvdW50KSBvdXQgaXMgb2YgYWNjZXB0YWJsZSBib3VuZHNgKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygam9zZUhlYWRlci5wMnMgIT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBKV0VJbnZhbGlkKGBKT1NFIEhlYWRlciBcInAyc1wiIChQQkVTMiBTYWx0KSBtaXNzaW5nIG9yIGludmFsaWRgKTtcbiAgICAgICAgICAgIGxldCBwMnM7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHAycyA9IGI2NHUoam9zZUhlYWRlci5wMnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBKV0VJbnZhbGlkKCdGYWlsZWQgdG8gYmFzZTY0dXJsIGRlY29kZSB0aGUgcDJzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcGJlczJrdy51bndyYXAoYWxnLCBrZXksIGVuY3J5cHRlZEtleSwgam9zZUhlYWRlci5wMmMsIHAycyk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnQTEyOEtXJzpcbiAgICAgICAgY2FzZSAnQTE5MktXJzpcbiAgICAgICAgY2FzZSAnQTI1NktXJzoge1xuICAgICAgICAgICAgaWYgKGVuY3J5cHRlZEtleSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBKV0VJbnZhbGlkKCdKV0UgRW5jcnlwdGVkIEtleSBtaXNzaW5nJyk7XG4gICAgICAgICAgICByZXR1cm4gYWVza3cudW53cmFwKGFsZywga2V5LCBlbmNyeXB0ZWRLZXkpO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ0ExMjhHQ01LVyc6XG4gICAgICAgIGNhc2UgJ0ExOTJHQ01LVyc6XG4gICAgICAgIGNhc2UgJ0EyNTZHQ01LVyc6IHtcbiAgICAgICAgICAgIGlmIChlbmNyeXB0ZWRLZXkgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSldFSW52YWxpZCgnSldFIEVuY3J5cHRlZCBLZXkgbWlzc2luZycpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBqb3NlSGVhZGVyLml2ICE9PSAnc3RyaW5nJylcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSldFSW52YWxpZChgSk9TRSBIZWFkZXIgXCJpdlwiIChJbml0aWFsaXphdGlvbiBWZWN0b3IpIG1pc3Npbmcgb3IgaW52YWxpZGApO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBqb3NlSGVhZGVyLnRhZyAhPT0gJ3N0cmluZycpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEpXRUludmFsaWQoYEpPU0UgSGVhZGVyIFwidGFnXCIgKEF1dGhlbnRpY2F0aW9uIFRhZykgbWlzc2luZyBvciBpbnZhbGlkYCk7XG4gICAgICAgICAgICBsZXQgaXY7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGl2ID0gYjY0dShqb3NlSGVhZGVyLml2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSldFSW52YWxpZCgnRmFpbGVkIHRvIGJhc2U2NHVybCBkZWNvZGUgdGhlIGl2Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgdGFnO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0YWcgPSBiNjR1KGpvc2VIZWFkZXIudGFnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSldFSW52YWxpZCgnRmFpbGVkIHRvIGJhc2U2NHVybCBkZWNvZGUgdGhlIHRhZycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFlc0djbUt3KGFsZywga2V5LCBlbmNyeXB0ZWRLZXksIGl2LCB0YWcpO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIHRocm93IG5ldyBKT1NFTm90U3VwcG9ydGVkKCdJbnZhbGlkIG9yIHVuc3VwcG9ydGVkIFwiYWxnXCIgKEpXRSBBbGdvcml0aG0pIGhlYWRlciB2YWx1ZScpO1xuICAgICAgICB9XG4gICAgfVxufTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/lib/decrypt_key_management.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/lib/digest.js":
/*!*****************************************************!*\
  !*** ./node_modules/jose/dist/webapi/lib/digest.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (async (algorithm, data) => {\n    const subtleDigest = `SHA-${algorithm.slice(-3)}`;\n    return new Uint8Array(await crypto.subtle.digest(subtleDigest, data));\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvbGliL2RpZ2VzdC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUVBQWU7QUFDZixnQ0FBZ0Msb0JBQW9CO0FBQ3BEO0FBQ0EsQ0FBQyxFQUFDIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxqb3NlXFxkaXN0XFx3ZWJhcGlcXGxpYlxcZGlnZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGFzeW5jIChhbGdvcml0aG0sIGRhdGEpID0+IHtcbiAgICBjb25zdCBzdWJ0bGVEaWdlc3QgPSBgU0hBLSR7YWxnb3JpdGhtLnNsaWNlKC0zKX1gO1xuICAgIHJldHVybiBuZXcgVWludDhBcnJheShhd2FpdCBjcnlwdG8uc3VidGxlLmRpZ2VzdChzdWJ0bGVEaWdlc3QsIGRhdGEpKTtcbn07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/lib/digest.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/lib/ecdhes.js":
/*!*****************************************************!*\
  !*** ./node_modules/jose/dist/webapi/lib/ecdhes.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   allowed: () => (/* binding */ allowed),\n/* harmony export */   deriveKey: () => (/* binding */ deriveKey)\n/* harmony export */ });\n/* harmony import */ var _buffer_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./buffer_utils.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/buffer_utils.js\");\n/* harmony import */ var _crypto_key_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./crypto_key.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/crypto_key.js\");\n/* harmony import */ var _digest_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./digest.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/digest.js\");\n\n\n\nfunction lengthAndInput(input) {\n    return (0,_buffer_utils_js__WEBPACK_IMPORTED_MODULE_0__.concat)((0,_buffer_utils_js__WEBPACK_IMPORTED_MODULE_0__.uint32be)(input.length), input);\n}\nasync function concatKdf(Z, L, OtherInfo) {\n    const dkLen = L >> 3;\n    const hashLen = 32;\n    const reps = Math.ceil(dkLen / hashLen);\n    const dk = new Uint8Array(reps * hashLen);\n    for (let i = 1; i <= reps; i++) {\n        const hashInput = new Uint8Array(4 + Z.length + OtherInfo.length);\n        hashInput.set((0,_buffer_utils_js__WEBPACK_IMPORTED_MODULE_0__.uint32be)(i), 0);\n        hashInput.set(Z, 4);\n        hashInput.set(OtherInfo, 4 + Z.length);\n        const hashResult = await (0,_digest_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])('sha256', hashInput);\n        dk.set(hashResult, (i - 1) * hashLen);\n    }\n    return dk.slice(0, dkLen);\n}\nasync function deriveKey(publicKey, privateKey, algorithm, keyLength, apu = new Uint8Array(0), apv = new Uint8Array(0)) {\n    (0,_crypto_key_js__WEBPACK_IMPORTED_MODULE_2__.checkEncCryptoKey)(publicKey, 'ECDH');\n    (0,_crypto_key_js__WEBPACK_IMPORTED_MODULE_2__.checkEncCryptoKey)(privateKey, 'ECDH', 'deriveBits');\n    const algorithmID = lengthAndInput(_buffer_utils_js__WEBPACK_IMPORTED_MODULE_0__.encoder.encode(algorithm));\n    const partyUInfo = lengthAndInput(apu);\n    const partyVInfo = lengthAndInput(apv);\n    const suppPubInfo = (0,_buffer_utils_js__WEBPACK_IMPORTED_MODULE_0__.uint32be)(keyLength);\n    const suppPrivInfo = new Uint8Array(0);\n    const otherInfo = (0,_buffer_utils_js__WEBPACK_IMPORTED_MODULE_0__.concat)(algorithmID, partyUInfo, partyVInfo, suppPubInfo, suppPrivInfo);\n    const Z = new Uint8Array(await crypto.subtle.deriveBits({\n        name: publicKey.algorithm.name,\n        public: publicKey,\n    }, privateKey, getEcdhBitLength(publicKey)));\n    return concatKdf(Z, keyLength, otherInfo);\n}\nfunction getEcdhBitLength(publicKey) {\n    if (publicKey.algorithm.name === 'X25519') {\n        return 256;\n    }\n    return (Math.ceil(parseInt(publicKey.algorithm.namedCurve.slice(-3), 10) / 8) << 3);\n}\nfunction allowed(key) {\n    switch (key.algorithm.namedCurve) {\n        case 'P-256':\n        case 'P-384':\n        case 'P-521':\n            return true;\n        default:\n            return key.algorithm.name === 'X25519';\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvbGliL2VjZGhlcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUE4RDtBQUNWO0FBQ25CO0FBQ2pDO0FBQ0EsV0FBVyx3REFBTSxDQUFDLDBEQUFRO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixXQUFXO0FBQy9CO0FBQ0Esc0JBQXNCLDBEQUFRO0FBQzlCO0FBQ0E7QUFDQSxpQ0FBaUMsc0RBQU07QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLElBQUksaUVBQWlCO0FBQ3JCLElBQUksaUVBQWlCO0FBQ3JCLHVDQUF1QyxxREFBTztBQUM5QztBQUNBO0FBQ0Esd0JBQXdCLDBEQUFRO0FBQ2hDO0FBQ0Esc0JBQXNCLHdEQUFNO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXGpvc2VcXGRpc3RcXHdlYmFwaVxcbGliXFxlY2RoZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZW5jb2RlciwgY29uY2F0LCB1aW50MzJiZSB9IGZyb20gJy4vYnVmZmVyX3V0aWxzLmpzJztcbmltcG9ydCB7IGNoZWNrRW5jQ3J5cHRvS2V5IH0gZnJvbSAnLi9jcnlwdG9fa2V5LmpzJztcbmltcG9ydCBkaWdlc3QgZnJvbSAnLi9kaWdlc3QuanMnO1xuZnVuY3Rpb24gbGVuZ3RoQW5kSW5wdXQoaW5wdXQpIHtcbiAgICByZXR1cm4gY29uY2F0KHVpbnQzMmJlKGlucHV0Lmxlbmd0aCksIGlucHV0KTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGNvbmNhdEtkZihaLCBMLCBPdGhlckluZm8pIHtcbiAgICBjb25zdCBka0xlbiA9IEwgPj4gMztcbiAgICBjb25zdCBoYXNoTGVuID0gMzI7XG4gICAgY29uc3QgcmVwcyA9IE1hdGguY2VpbChka0xlbiAvIGhhc2hMZW4pO1xuICAgIGNvbnN0IGRrID0gbmV3IFVpbnQ4QXJyYXkocmVwcyAqIGhhc2hMZW4pO1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IHJlcHM7IGkrKykge1xuICAgICAgICBjb25zdCBoYXNoSW5wdXQgPSBuZXcgVWludDhBcnJheSg0ICsgWi5sZW5ndGggKyBPdGhlckluZm8ubGVuZ3RoKTtcbiAgICAgICAgaGFzaElucHV0LnNldCh1aW50MzJiZShpKSwgMCk7XG4gICAgICAgIGhhc2hJbnB1dC5zZXQoWiwgNCk7XG4gICAgICAgIGhhc2hJbnB1dC5zZXQoT3RoZXJJbmZvLCA0ICsgWi5sZW5ndGgpO1xuICAgICAgICBjb25zdCBoYXNoUmVzdWx0ID0gYXdhaXQgZGlnZXN0KCdzaGEyNTYnLCBoYXNoSW5wdXQpO1xuICAgICAgICBkay5zZXQoaGFzaFJlc3VsdCwgKGkgLSAxKSAqIGhhc2hMZW4pO1xuICAgIH1cbiAgICByZXR1cm4gZGsuc2xpY2UoMCwgZGtMZW4pO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlcml2ZUtleShwdWJsaWNLZXksIHByaXZhdGVLZXksIGFsZ29yaXRobSwga2V5TGVuZ3RoLCBhcHUgPSBuZXcgVWludDhBcnJheSgwKSwgYXB2ID0gbmV3IFVpbnQ4QXJyYXkoMCkpIHtcbiAgICBjaGVja0VuY0NyeXB0b0tleShwdWJsaWNLZXksICdFQ0RIJyk7XG4gICAgY2hlY2tFbmNDcnlwdG9LZXkocHJpdmF0ZUtleSwgJ0VDREgnLCAnZGVyaXZlQml0cycpO1xuICAgIGNvbnN0IGFsZ29yaXRobUlEID0gbGVuZ3RoQW5kSW5wdXQoZW5jb2Rlci5lbmNvZGUoYWxnb3JpdGhtKSk7XG4gICAgY29uc3QgcGFydHlVSW5mbyA9IGxlbmd0aEFuZElucHV0KGFwdSk7XG4gICAgY29uc3QgcGFydHlWSW5mbyA9IGxlbmd0aEFuZElucHV0KGFwdik7XG4gICAgY29uc3Qgc3VwcFB1YkluZm8gPSB1aW50MzJiZShrZXlMZW5ndGgpO1xuICAgIGNvbnN0IHN1cHBQcml2SW5mbyA9IG5ldyBVaW50OEFycmF5KDApO1xuICAgIGNvbnN0IG90aGVySW5mbyA9IGNvbmNhdChhbGdvcml0aG1JRCwgcGFydHlVSW5mbywgcGFydHlWSW5mbywgc3VwcFB1YkluZm8sIHN1cHBQcml2SW5mbyk7XG4gICAgY29uc3QgWiA9IG5ldyBVaW50OEFycmF5KGF3YWl0IGNyeXB0by5zdWJ0bGUuZGVyaXZlQml0cyh7XG4gICAgICAgIG5hbWU6IHB1YmxpY0tleS5hbGdvcml0aG0ubmFtZSxcbiAgICAgICAgcHVibGljOiBwdWJsaWNLZXksXG4gICAgfSwgcHJpdmF0ZUtleSwgZ2V0RWNkaEJpdExlbmd0aChwdWJsaWNLZXkpKSk7XG4gICAgcmV0dXJuIGNvbmNhdEtkZihaLCBrZXlMZW5ndGgsIG90aGVySW5mbyk7XG59XG5mdW5jdGlvbiBnZXRFY2RoQml0TGVuZ3RoKHB1YmxpY0tleSkge1xuICAgIGlmIChwdWJsaWNLZXkuYWxnb3JpdGhtLm5hbWUgPT09ICdYMjU1MTknKSB7XG4gICAgICAgIHJldHVybiAyNTY7XG4gICAgfVxuICAgIHJldHVybiAoTWF0aC5jZWlsKHBhcnNlSW50KHB1YmxpY0tleS5hbGdvcml0aG0ubmFtZWRDdXJ2ZS5zbGljZSgtMyksIDEwKSAvIDgpIDw8IDMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFsbG93ZWQoa2V5KSB7XG4gICAgc3dpdGNoIChrZXkuYWxnb3JpdGhtLm5hbWVkQ3VydmUpIHtcbiAgICAgICAgY2FzZSAnUC0yNTYnOlxuICAgICAgICBjYXNlICdQLTM4NCc6XG4gICAgICAgIGNhc2UgJ1AtNTIxJzpcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGtleS5hbGdvcml0aG0ubmFtZSA9PT0gJ1gyNTUxOSc7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/lib/ecdhes.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/lib/encrypt.js":
/*!******************************************************!*\
  !*** ./node_modules/jose/dist/webapi/lib/encrypt.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _buffer_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./buffer_utils.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/buffer_utils.js\");\n/* harmony import */ var _check_iv_length_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./check_iv_length.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/check_iv_length.js\");\n/* harmony import */ var _check_cek_length_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./check_cek_length.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/check_cek_length.js\");\n/* harmony import */ var _crypto_key_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./crypto_key.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/crypto_key.js\");\n/* harmony import */ var _invalid_key_input_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./invalid_key_input.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/invalid_key_input.js\");\n/* harmony import */ var _iv_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./iv.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/iv.js\");\n/* harmony import */ var _util_errors_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../util/errors.js */ \"(middleware)/./node_modules/jose/dist/webapi/util/errors.js\");\n/* harmony import */ var _is_key_like_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./is_key_like.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/is_key_like.js\");\n\n\n\n\n\n\n\n\nasync function cbcEncrypt(enc, plaintext, cek, iv, aad) {\n    if (!(cek instanceof Uint8Array)) {\n        throw new TypeError((0,_invalid_key_input_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(cek, 'Uint8Array'));\n    }\n    const keySize = parseInt(enc.slice(1, 4), 10);\n    const encKey = await crypto.subtle.importKey('raw', cek.subarray(keySize >> 3), 'AES-CBC', false, ['encrypt']);\n    const macKey = await crypto.subtle.importKey('raw', cek.subarray(0, keySize >> 3), {\n        hash: `SHA-${keySize << 1}`,\n        name: 'HMAC',\n    }, false, ['sign']);\n    const ciphertext = new Uint8Array(await crypto.subtle.encrypt({\n        iv,\n        name: 'AES-CBC',\n    }, encKey, plaintext));\n    const macData = (0,_buffer_utils_js__WEBPACK_IMPORTED_MODULE_1__.concat)(aad, iv, ciphertext, (0,_buffer_utils_js__WEBPACK_IMPORTED_MODULE_1__.uint64be)(aad.length << 3));\n    const tag = new Uint8Array((await crypto.subtle.sign('HMAC', macKey, macData)).slice(0, keySize >> 3));\n    return { ciphertext, tag, iv };\n}\nasync function gcmEncrypt(enc, plaintext, cek, iv, aad) {\n    let encKey;\n    if (cek instanceof Uint8Array) {\n        encKey = await crypto.subtle.importKey('raw', cek, 'AES-GCM', false, ['encrypt']);\n    }\n    else {\n        (0,_crypto_key_js__WEBPACK_IMPORTED_MODULE_2__.checkEncCryptoKey)(cek, enc, 'encrypt');\n        encKey = cek;\n    }\n    const encrypted = new Uint8Array(await crypto.subtle.encrypt({\n        additionalData: aad,\n        iv,\n        name: 'AES-GCM',\n        tagLength: 128,\n    }, encKey, plaintext));\n    const tag = encrypted.slice(-16);\n    const ciphertext = encrypted.slice(0, -16);\n    return { ciphertext, tag, iv };\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (async (enc, plaintext, cek, iv, aad) => {\n    if (!(0,_is_key_like_js__WEBPACK_IMPORTED_MODULE_3__.isCryptoKey)(cek) && !(cek instanceof Uint8Array)) {\n        throw new TypeError((0,_invalid_key_input_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(cek, 'CryptoKey', 'KeyObject', 'Uint8Array', 'JSON Web Key'));\n    }\n    if (iv) {\n        (0,_check_iv_length_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(enc, iv);\n    }\n    else {\n        iv = (0,_iv_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(enc);\n    }\n    switch (enc) {\n        case 'A128CBC-HS256':\n        case 'A192CBC-HS384':\n        case 'A256CBC-HS512':\n            if (cek instanceof Uint8Array) {\n                (0,_check_cek_length_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(cek, parseInt(enc.slice(-3), 10));\n            }\n            return cbcEncrypt(enc, plaintext, cek, iv, aad);\n        case 'A128GCM':\n        case 'A192GCM':\n        case 'A256GCM':\n            if (cek instanceof Uint8Array) {\n                (0,_check_cek_length_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(cek, parseInt(enc.slice(1, 4), 10));\n            }\n            return gcmEncrypt(enc, plaintext, cek, iv, aad);\n        default:\n            throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_7__.JOSENotSupported('Unsupported JWE Content Encryption Algorithm');\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvbGliL2VuY3J5cHQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQXFEO0FBQ0o7QUFDRTtBQUNDO0FBQ0M7QUFDcEI7QUFDb0I7QUFDTjtBQUMvQztBQUNBO0FBQ0EsNEJBQTRCLGlFQUFlO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGFBQWE7QUFDbEM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLG9CQUFvQix3REFBTSxzQkFBc0IsMERBQVE7QUFDeEQ7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpQjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsaUVBQWU7QUFDZixTQUFTLDREQUFXO0FBQ3BCLDRCQUE0QixpRUFBZTtBQUMzQztBQUNBO0FBQ0EsUUFBUSwrREFBYTtBQUNyQjtBQUNBO0FBQ0EsYUFBYSxrREFBVTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsZ0VBQWM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGdFQUFjO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw2REFBZ0I7QUFDdEM7QUFDQSxDQUFDLEVBQUMiLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXGpvc2VcXGRpc3RcXHdlYmFwaVxcbGliXFxlbmNyeXB0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNvbmNhdCwgdWludDY0YmUgfSBmcm9tICcuL2J1ZmZlcl91dGlscy5qcyc7XG5pbXBvcnQgY2hlY2tJdkxlbmd0aCBmcm9tICcuL2NoZWNrX2l2X2xlbmd0aC5qcyc7XG5pbXBvcnQgY2hlY2tDZWtMZW5ndGggZnJvbSAnLi9jaGVja19jZWtfbGVuZ3RoLmpzJztcbmltcG9ydCB7IGNoZWNrRW5jQ3J5cHRvS2V5IH0gZnJvbSAnLi9jcnlwdG9fa2V5LmpzJztcbmltcG9ydCBpbnZhbGlkS2V5SW5wdXQgZnJvbSAnLi9pbnZhbGlkX2tleV9pbnB1dC5qcyc7XG5pbXBvcnQgZ2VuZXJhdGVJdiBmcm9tICcuL2l2LmpzJztcbmltcG9ydCB7IEpPU0VOb3RTdXBwb3J0ZWQgfSBmcm9tICcuLi91dGlsL2Vycm9ycy5qcyc7XG5pbXBvcnQgeyBpc0NyeXB0b0tleSB9IGZyb20gJy4vaXNfa2V5X2xpa2UuanMnO1xuYXN5bmMgZnVuY3Rpb24gY2JjRW5jcnlwdChlbmMsIHBsYWludGV4dCwgY2VrLCBpdiwgYWFkKSB7XG4gICAgaWYgKCEoY2VrIGluc3RhbmNlb2YgVWludDhBcnJheSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihpbnZhbGlkS2V5SW5wdXQoY2VrLCAnVWludDhBcnJheScpKTtcbiAgICB9XG4gICAgY29uc3Qga2V5U2l6ZSA9IHBhcnNlSW50KGVuYy5zbGljZSgxLCA0KSwgMTApO1xuICAgIGNvbnN0IGVuY0tleSA9IGF3YWl0IGNyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KCdyYXcnLCBjZWsuc3ViYXJyYXkoa2V5U2l6ZSA+PiAzKSwgJ0FFUy1DQkMnLCBmYWxzZSwgWydlbmNyeXB0J10pO1xuICAgIGNvbnN0IG1hY0tleSA9IGF3YWl0IGNyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KCdyYXcnLCBjZWsuc3ViYXJyYXkoMCwga2V5U2l6ZSA+PiAzKSwge1xuICAgICAgICBoYXNoOiBgU0hBLSR7a2V5U2l6ZSA8PCAxfWAsXG4gICAgICAgIG5hbWU6ICdITUFDJyxcbiAgICB9LCBmYWxzZSwgWydzaWduJ10pO1xuICAgIGNvbnN0IGNpcGhlcnRleHQgPSBuZXcgVWludDhBcnJheShhd2FpdCBjcnlwdG8uc3VidGxlLmVuY3J5cHQoe1xuICAgICAgICBpdixcbiAgICAgICAgbmFtZTogJ0FFUy1DQkMnLFxuICAgIH0sIGVuY0tleSwgcGxhaW50ZXh0KSk7XG4gICAgY29uc3QgbWFjRGF0YSA9IGNvbmNhdChhYWQsIGl2LCBjaXBoZXJ0ZXh0LCB1aW50NjRiZShhYWQubGVuZ3RoIDw8IDMpKTtcbiAgICBjb25zdCB0YWcgPSBuZXcgVWludDhBcnJheSgoYXdhaXQgY3J5cHRvLnN1YnRsZS5zaWduKCdITUFDJywgbWFjS2V5LCBtYWNEYXRhKSkuc2xpY2UoMCwga2V5U2l6ZSA+PiAzKSk7XG4gICAgcmV0dXJuIHsgY2lwaGVydGV4dCwgdGFnLCBpdiB9O1xufVxuYXN5bmMgZnVuY3Rpb24gZ2NtRW5jcnlwdChlbmMsIHBsYWludGV4dCwgY2VrLCBpdiwgYWFkKSB7XG4gICAgbGV0IGVuY0tleTtcbiAgICBpZiAoY2VrIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgICBlbmNLZXkgPSBhd2FpdCBjcnlwdG8uc3VidGxlLmltcG9ydEtleSgncmF3JywgY2VrLCAnQUVTLUdDTScsIGZhbHNlLCBbJ2VuY3J5cHQnXSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjaGVja0VuY0NyeXB0b0tleShjZWssIGVuYywgJ2VuY3J5cHQnKTtcbiAgICAgICAgZW5jS2V5ID0gY2VrO1xuICAgIH1cbiAgICBjb25zdCBlbmNyeXB0ZWQgPSBuZXcgVWludDhBcnJheShhd2FpdCBjcnlwdG8uc3VidGxlLmVuY3J5cHQoe1xuICAgICAgICBhZGRpdGlvbmFsRGF0YTogYWFkLFxuICAgICAgICBpdixcbiAgICAgICAgbmFtZTogJ0FFUy1HQ00nLFxuICAgICAgICB0YWdMZW5ndGg6IDEyOCxcbiAgICB9LCBlbmNLZXksIHBsYWludGV4dCkpO1xuICAgIGNvbnN0IHRhZyA9IGVuY3J5cHRlZC5zbGljZSgtMTYpO1xuICAgIGNvbnN0IGNpcGhlcnRleHQgPSBlbmNyeXB0ZWQuc2xpY2UoMCwgLTE2KTtcbiAgICByZXR1cm4geyBjaXBoZXJ0ZXh0LCB0YWcsIGl2IH07XG59XG5leHBvcnQgZGVmYXVsdCBhc3luYyAoZW5jLCBwbGFpbnRleHQsIGNlaywgaXYsIGFhZCkgPT4ge1xuICAgIGlmICghaXNDcnlwdG9LZXkoY2VrKSAmJiAhKGNlayBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoaW52YWxpZEtleUlucHV0KGNlaywgJ0NyeXB0b0tleScsICdLZXlPYmplY3QnLCAnVWludDhBcnJheScsICdKU09OIFdlYiBLZXknKSk7XG4gICAgfVxuICAgIGlmIChpdikge1xuICAgICAgICBjaGVja0l2TGVuZ3RoKGVuYywgaXYpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaXYgPSBnZW5lcmF0ZUl2KGVuYyk7XG4gICAgfVxuICAgIHN3aXRjaCAoZW5jKSB7XG4gICAgICAgIGNhc2UgJ0ExMjhDQkMtSFMyNTYnOlxuICAgICAgICBjYXNlICdBMTkyQ0JDLUhTMzg0JzpcbiAgICAgICAgY2FzZSAnQTI1NkNCQy1IUzUxMic6XG4gICAgICAgICAgICBpZiAoY2VrIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgICAgICAgICAgIGNoZWNrQ2VrTGVuZ3RoKGNlaywgcGFyc2VJbnQoZW5jLnNsaWNlKC0zKSwgMTApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjYmNFbmNyeXB0KGVuYywgcGxhaW50ZXh0LCBjZWssIGl2LCBhYWQpO1xuICAgICAgICBjYXNlICdBMTI4R0NNJzpcbiAgICAgICAgY2FzZSAnQTE5MkdDTSc6XG4gICAgICAgIGNhc2UgJ0EyNTZHQ00nOlxuICAgICAgICAgICAgaWYgKGNlayBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgICAgICAgICBjaGVja0Nla0xlbmd0aChjZWssIHBhcnNlSW50KGVuYy5zbGljZSgxLCA0KSwgMTApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBnY21FbmNyeXB0KGVuYywgcGxhaW50ZXh0LCBjZWssIGl2LCBhYWQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEpPU0VOb3RTdXBwb3J0ZWQoJ1Vuc3VwcG9ydGVkIEpXRSBDb250ZW50IEVuY3J5cHRpb24gQWxnb3JpdGhtJyk7XG4gICAgfVxufTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/lib/encrypt.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/lib/encrypt_key_management.js":
/*!*********************************************************************!*\
  !*** ./node_modules/jose/dist/webapi/lib/encrypt_key_management.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _aeskw_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./aeskw.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/aeskw.js\");\n/* harmony import */ var _ecdhes_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecdhes.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/ecdhes.js\");\n/* harmony import */ var _pbes2kw_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./pbes2kw.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/pbes2kw.js\");\n/* harmony import */ var _rsaes_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./rsaes.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/rsaes.js\");\n/* harmony import */ var _util_base64url_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../util/base64url.js */ \"(middleware)/./node_modules/jose/dist/webapi/util/base64url.js\");\n/* harmony import */ var _normalize_key_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./normalize_key.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/normalize_key.js\");\n/* harmony import */ var _lib_cek_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/cek.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/cek.js\");\n/* harmony import */ var _util_errors_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/errors.js */ \"(middleware)/./node_modules/jose/dist/webapi/util/errors.js\");\n/* harmony import */ var _key_export_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../key/export.js */ \"(middleware)/./node_modules/jose/dist/webapi/key/export.js\");\n/* harmony import */ var _aesgcmkw_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./aesgcmkw.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/aesgcmkw.js\");\n/* harmony import */ var _is_key_like_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./is_key_like.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/is_key_like.js\");\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (async (alg, enc, key, providedCek, providedParameters = {}) => {\n    let encryptedKey;\n    let parameters;\n    let cek;\n    switch (alg) {\n        case 'dir': {\n            cek = key;\n            break;\n        }\n        case 'ECDH-ES':\n        case 'ECDH-ES+A128KW':\n        case 'ECDH-ES+A192KW':\n        case 'ECDH-ES+A256KW': {\n            (0,_is_key_like_js__WEBPACK_IMPORTED_MODULE_0__.assertCryptoKey)(key);\n            if (!_ecdhes_js__WEBPACK_IMPORTED_MODULE_1__.allowed(key)) {\n                throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_2__.JOSENotSupported('ECDH with the provided key is not allowed or not supported by your javascript runtime');\n            }\n            const { apu, apv } = providedParameters;\n            let ephemeralKey;\n            if (providedParameters.epk) {\n                ephemeralKey = (await (0,_normalize_key_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(providedParameters.epk, alg));\n            }\n            else {\n                ephemeralKey = (await crypto.subtle.generateKey(key.algorithm, true, ['deriveBits'])).privateKey;\n            }\n            const { x, y, crv, kty } = await (0,_key_export_js__WEBPACK_IMPORTED_MODULE_4__.exportJWK)(ephemeralKey);\n            const sharedSecret = await _ecdhes_js__WEBPACK_IMPORTED_MODULE_1__.deriveKey(key, ephemeralKey, alg === 'ECDH-ES' ? enc : alg, alg === 'ECDH-ES' ? (0,_lib_cek_js__WEBPACK_IMPORTED_MODULE_5__.bitLength)(enc) : parseInt(alg.slice(-5, -2), 10), apu, apv);\n            parameters = { epk: { x, crv, kty } };\n            if (kty === 'EC')\n                parameters.epk.y = y;\n            if (apu)\n                parameters.apu = (0,_util_base64url_js__WEBPACK_IMPORTED_MODULE_6__.encode)(apu);\n            if (apv)\n                parameters.apv = (0,_util_base64url_js__WEBPACK_IMPORTED_MODULE_6__.encode)(apv);\n            if (alg === 'ECDH-ES') {\n                cek = sharedSecret;\n                break;\n            }\n            cek = providedCek || (0,_lib_cek_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(enc);\n            const kwAlg = alg.slice(-6);\n            encryptedKey = await _aeskw_js__WEBPACK_IMPORTED_MODULE_7__.wrap(kwAlg, sharedSecret, cek);\n            break;\n        }\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512': {\n            cek = providedCek || (0,_lib_cek_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(enc);\n            (0,_is_key_like_js__WEBPACK_IMPORTED_MODULE_0__.assertCryptoKey)(key);\n            encryptedKey = await _rsaes_js__WEBPACK_IMPORTED_MODULE_8__.encrypt(alg, key, cek);\n            break;\n        }\n        case 'PBES2-HS256+A128KW':\n        case 'PBES2-HS384+A192KW':\n        case 'PBES2-HS512+A256KW': {\n            cek = providedCek || (0,_lib_cek_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(enc);\n            const { p2c, p2s } = providedParameters;\n            ({ encryptedKey, ...parameters } = await _pbes2kw_js__WEBPACK_IMPORTED_MODULE_9__.wrap(alg, key, cek, p2c, p2s));\n            break;\n        }\n        case 'A128KW':\n        case 'A192KW':\n        case 'A256KW': {\n            cek = providedCek || (0,_lib_cek_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(enc);\n            encryptedKey = await _aeskw_js__WEBPACK_IMPORTED_MODULE_7__.wrap(alg, key, cek);\n            break;\n        }\n        case 'A128GCMKW':\n        case 'A192GCMKW':\n        case 'A256GCMKW': {\n            cek = providedCek || (0,_lib_cek_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(enc);\n            const { iv } = providedParameters;\n            ({ encryptedKey, ...parameters } = await (0,_aesgcmkw_js__WEBPACK_IMPORTED_MODULE_10__.wrap)(alg, key, cek, iv));\n            break;\n        }\n        default: {\n            throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_2__.JOSENotSupported('Invalid or unsupported \"alg\" (JWE Algorithm) header value');\n        }\n    }\n    return { cek, encryptedKey, parameters };\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvbGliL2VuY3J5cHRfa2V5X21hbmFnZW1lbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQW9DO0FBQ0U7QUFDRTtBQUNKO0FBQ2tCO0FBQ1I7QUFDc0I7QUFDZjtBQUNSO0FBQ0k7QUFDRTtBQUNuRCxpRUFBZSwwREFBMEQ7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxnRUFBZTtBQUMzQixpQkFBaUIsK0NBQWM7QUFDL0IsMEJBQTBCLDZEQUFnQjtBQUMxQztBQUNBLG9CQUFvQixXQUFXO0FBQy9CO0FBQ0E7QUFDQSxzQ0FBc0MsNkRBQVk7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsaUJBQWlCLFFBQVEseURBQVM7QUFDdEQsdUNBQXVDLGlEQUFnQix1RUFBdUUsc0RBQVM7QUFDdkksMkJBQTJCLE9BQU87QUFDbEM7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLDBEQUFJO0FBQ3JDO0FBQ0EsaUNBQWlDLDBEQUFJO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHVEQUFXO0FBQzVDO0FBQ0EsaUNBQWlDLDJDQUFVO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyx1REFBVztBQUM1QyxZQUFZLGdFQUFlO0FBQzNCLGlDQUFpQyw4Q0FBYTtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHVEQUFXO0FBQzVDLG9CQUFvQixXQUFXO0FBQy9CLGVBQWUsOEJBQThCLFFBQVEsNkNBQVk7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyx1REFBVztBQUM1QyxpQ0FBaUMsMkNBQVU7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyx1REFBVztBQUM1QyxvQkFBb0IsS0FBSztBQUN6QixlQUFlLDhCQUE4QixRQUFRLG1EQUFRO0FBQzdEO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw2REFBZ0I7QUFDdEM7QUFDQTtBQUNBLGFBQWE7QUFDYixDQUFDLEVBQUMiLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXGpvc2VcXGRpc3RcXHdlYmFwaVxcbGliXFxlbmNyeXB0X2tleV9tYW5hZ2VtZW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGFlc2t3IGZyb20gJy4vYWVza3cuanMnO1xuaW1wb3J0ICogYXMgZWNkaGVzIGZyb20gJy4vZWNkaGVzLmpzJztcbmltcG9ydCAqIGFzIHBiZXMya3cgZnJvbSAnLi9wYmVzMmt3LmpzJztcbmltcG9ydCAqIGFzIHJzYWVzIGZyb20gJy4vcnNhZXMuanMnO1xuaW1wb3J0IHsgZW5jb2RlIGFzIGI2NHUgfSBmcm9tICcuLi91dGlsL2Jhc2U2NHVybC5qcyc7XG5pbXBvcnQgbm9ybWFsaXplS2V5IGZyb20gJy4vbm9ybWFsaXplX2tleS5qcyc7XG5pbXBvcnQgZ2VuZXJhdGVDZWssIHsgYml0TGVuZ3RoIGFzIGNla0xlbmd0aCB9IGZyb20gJy4uL2xpYi9jZWsuanMnO1xuaW1wb3J0IHsgSk9TRU5vdFN1cHBvcnRlZCB9IGZyb20gJy4uL3V0aWwvZXJyb3JzLmpzJztcbmltcG9ydCB7IGV4cG9ydEpXSyB9IGZyb20gJy4uL2tleS9leHBvcnQuanMnO1xuaW1wb3J0IHsgd3JhcCBhcyBhZXNHY21LdyB9IGZyb20gJy4vYWVzZ2Nta3cuanMnO1xuaW1wb3J0IHsgYXNzZXJ0Q3J5cHRvS2V5IH0gZnJvbSAnLi9pc19rZXlfbGlrZS5qcyc7XG5leHBvcnQgZGVmYXVsdCBhc3luYyAoYWxnLCBlbmMsIGtleSwgcHJvdmlkZWRDZWssIHByb3ZpZGVkUGFyYW1ldGVycyA9IHt9KSA9PiB7XG4gICAgbGV0IGVuY3J5cHRlZEtleTtcbiAgICBsZXQgcGFyYW1ldGVycztcbiAgICBsZXQgY2VrO1xuICAgIHN3aXRjaCAoYWxnKSB7XG4gICAgICAgIGNhc2UgJ2Rpcic6IHtcbiAgICAgICAgICAgIGNlayA9IGtleTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ0VDREgtRVMnOlxuICAgICAgICBjYXNlICdFQ0RILUVTK0ExMjhLVyc6XG4gICAgICAgIGNhc2UgJ0VDREgtRVMrQTE5MktXJzpcbiAgICAgICAgY2FzZSAnRUNESC1FUytBMjU2S1cnOiB7XG4gICAgICAgICAgICBhc3NlcnRDcnlwdG9LZXkoa2V5KTtcbiAgICAgICAgICAgIGlmICghZWNkaGVzLmFsbG93ZWQoa2V5KSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBKT1NFTm90U3VwcG9ydGVkKCdFQ0RIIHdpdGggdGhlIHByb3ZpZGVkIGtleSBpcyBub3QgYWxsb3dlZCBvciBub3Qgc3VwcG9ydGVkIGJ5IHlvdXIgamF2YXNjcmlwdCBydW50aW1lJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7IGFwdSwgYXB2IH0gPSBwcm92aWRlZFBhcmFtZXRlcnM7XG4gICAgICAgICAgICBsZXQgZXBoZW1lcmFsS2V5O1xuICAgICAgICAgICAgaWYgKHByb3ZpZGVkUGFyYW1ldGVycy5lcGspIHtcbiAgICAgICAgICAgICAgICBlcGhlbWVyYWxLZXkgPSAoYXdhaXQgbm9ybWFsaXplS2V5KHByb3ZpZGVkUGFyYW1ldGVycy5lcGssIGFsZykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZXBoZW1lcmFsS2V5ID0gKGF3YWl0IGNyeXB0by5zdWJ0bGUuZ2VuZXJhdGVLZXkoa2V5LmFsZ29yaXRobSwgdHJ1ZSwgWydkZXJpdmVCaXRzJ10pKS5wcml2YXRlS2V5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeyB4LCB5LCBjcnYsIGt0eSB9ID0gYXdhaXQgZXhwb3J0SldLKGVwaGVtZXJhbEtleSk7XG4gICAgICAgICAgICBjb25zdCBzaGFyZWRTZWNyZXQgPSBhd2FpdCBlY2RoZXMuZGVyaXZlS2V5KGtleSwgZXBoZW1lcmFsS2V5LCBhbGcgPT09ICdFQ0RILUVTJyA/IGVuYyA6IGFsZywgYWxnID09PSAnRUNESC1FUycgPyBjZWtMZW5ndGgoZW5jKSA6IHBhcnNlSW50KGFsZy5zbGljZSgtNSwgLTIpLCAxMCksIGFwdSwgYXB2KTtcbiAgICAgICAgICAgIHBhcmFtZXRlcnMgPSB7IGVwazogeyB4LCBjcnYsIGt0eSB9IH07XG4gICAgICAgICAgICBpZiAoa3R5ID09PSAnRUMnKVxuICAgICAgICAgICAgICAgIHBhcmFtZXRlcnMuZXBrLnkgPSB5O1xuICAgICAgICAgICAgaWYgKGFwdSlcbiAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzLmFwdSA9IGI2NHUoYXB1KTtcbiAgICAgICAgICAgIGlmIChhcHYpXG4gICAgICAgICAgICAgICAgcGFyYW1ldGVycy5hcHYgPSBiNjR1KGFwdik7XG4gICAgICAgICAgICBpZiAoYWxnID09PSAnRUNESC1FUycpIHtcbiAgICAgICAgICAgICAgICBjZWsgPSBzaGFyZWRTZWNyZXQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjZWsgPSBwcm92aWRlZENlayB8fCBnZW5lcmF0ZUNlayhlbmMpO1xuICAgICAgICAgICAgY29uc3Qga3dBbGcgPSBhbGcuc2xpY2UoLTYpO1xuICAgICAgICAgICAgZW5jcnlwdGVkS2V5ID0gYXdhaXQgYWVza3cud3JhcChrd0FsZywgc2hhcmVkU2VjcmV0LCBjZWspO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnUlNBLU9BRVAnOlxuICAgICAgICBjYXNlICdSU0EtT0FFUC0yNTYnOlxuICAgICAgICBjYXNlICdSU0EtT0FFUC0zODQnOlxuICAgICAgICBjYXNlICdSU0EtT0FFUC01MTInOiB7XG4gICAgICAgICAgICBjZWsgPSBwcm92aWRlZENlayB8fCBnZW5lcmF0ZUNlayhlbmMpO1xuICAgICAgICAgICAgYXNzZXJ0Q3J5cHRvS2V5KGtleSk7XG4gICAgICAgICAgICBlbmNyeXB0ZWRLZXkgPSBhd2FpdCByc2Flcy5lbmNyeXB0KGFsZywga2V5LCBjZWspO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnUEJFUzItSFMyNTYrQTEyOEtXJzpcbiAgICAgICAgY2FzZSAnUEJFUzItSFMzODQrQTE5MktXJzpcbiAgICAgICAgY2FzZSAnUEJFUzItSFM1MTIrQTI1NktXJzoge1xuICAgICAgICAgICAgY2VrID0gcHJvdmlkZWRDZWsgfHwgZ2VuZXJhdGVDZWsoZW5jKTtcbiAgICAgICAgICAgIGNvbnN0IHsgcDJjLCBwMnMgfSA9IHByb3ZpZGVkUGFyYW1ldGVycztcbiAgICAgICAgICAgICh7IGVuY3J5cHRlZEtleSwgLi4ucGFyYW1ldGVycyB9ID0gYXdhaXQgcGJlczJrdy53cmFwKGFsZywga2V5LCBjZWssIHAyYywgcDJzKSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdBMTI4S1cnOlxuICAgICAgICBjYXNlICdBMTkyS1cnOlxuICAgICAgICBjYXNlICdBMjU2S1cnOiB7XG4gICAgICAgICAgICBjZWsgPSBwcm92aWRlZENlayB8fCBnZW5lcmF0ZUNlayhlbmMpO1xuICAgICAgICAgICAgZW5jcnlwdGVkS2V5ID0gYXdhaXQgYWVza3cud3JhcChhbGcsIGtleSwgY2VrKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ0ExMjhHQ01LVyc6XG4gICAgICAgIGNhc2UgJ0ExOTJHQ01LVyc6XG4gICAgICAgIGNhc2UgJ0EyNTZHQ01LVyc6IHtcbiAgICAgICAgICAgIGNlayA9IHByb3ZpZGVkQ2VrIHx8IGdlbmVyYXRlQ2VrKGVuYyk7XG4gICAgICAgICAgICBjb25zdCB7IGl2IH0gPSBwcm92aWRlZFBhcmFtZXRlcnM7XG4gICAgICAgICAgICAoeyBlbmNyeXB0ZWRLZXksIC4uLnBhcmFtZXRlcnMgfSA9IGF3YWl0IGFlc0djbUt3KGFsZywga2V5LCBjZWssIGl2KSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSk9TRU5vdFN1cHBvcnRlZCgnSW52YWxpZCBvciB1bnN1cHBvcnRlZCBcImFsZ1wiIChKV0UgQWxnb3JpdGhtKSBoZWFkZXIgdmFsdWUnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyBjZWssIGVuY3J5cHRlZEtleSwgcGFyYW1ldGVycyB9O1xufTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/lib/encrypt_key_management.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/lib/epoch.js":
/*!****************************************************!*\
  !*** ./node_modules/jose/dist/webapi/lib/epoch.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((date) => Math.floor(date.getTime() / 1000));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvbGliL2Vwb2NoLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpRUFBZSwyQ0FBMkMsRUFBQyIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcam9zZVxcZGlzdFxcd2ViYXBpXFxsaWJcXGVwb2NoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IChkYXRlKSA9PiBNYXRoLmZsb29yKGRhdGUuZ2V0VGltZSgpIC8gMTAwMCk7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/lib/epoch.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/lib/get_sign_verify_key.js":
/*!******************************************************************!*\
  !*** ./node_modules/jose/dist/webapi/lib/get_sign_verify_key.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _crypto_key_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./crypto_key.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/crypto_key.js\");\n/* harmony import */ var _invalid_key_input_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./invalid_key_input.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/invalid_key_input.js\");\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (async (alg, key, usage) => {\n    if (key instanceof Uint8Array) {\n        if (!alg.startsWith('HS')) {\n            throw new TypeError((0,_invalid_key_input_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(key, 'CryptoKey', 'KeyObject', 'JSON Web Key'));\n        }\n        return crypto.subtle.importKey('raw', key, { hash: `SHA-${alg.slice(-3)}`, name: 'HMAC' }, false, [usage]);\n    }\n    (0,_crypto_key_js__WEBPACK_IMPORTED_MODULE_1__.checkSigCryptoKey)(key, alg, usage);\n    return key;\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvbGliL2dldF9zaWduX3ZlcmlmeV9rZXkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQW9EO0FBQ0M7QUFDckQsaUVBQWU7QUFDZjtBQUNBO0FBQ0EsZ0NBQWdDLGlFQUFlO0FBQy9DO0FBQ0EscURBQXFELGFBQWEsY0FBYyxpQkFBaUI7QUFDakc7QUFDQSxJQUFJLGlFQUFpQjtBQUNyQjtBQUNBLENBQUMsRUFBQyIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcam9zZVxcZGlzdFxcd2ViYXBpXFxsaWJcXGdldF9zaWduX3ZlcmlmeV9rZXkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY2hlY2tTaWdDcnlwdG9LZXkgfSBmcm9tICcuL2NyeXB0b19rZXkuanMnO1xuaW1wb3J0IGludmFsaWRLZXlJbnB1dCBmcm9tICcuL2ludmFsaWRfa2V5X2lucHV0LmpzJztcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIChhbGcsIGtleSwgdXNhZ2UpID0+IHtcbiAgICBpZiAoa2V5IGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgICBpZiAoIWFsZy5zdGFydHNXaXRoKCdIUycpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGludmFsaWRLZXlJbnB1dChrZXksICdDcnlwdG9LZXknLCAnS2V5T2JqZWN0JywgJ0pTT04gV2ViIEtleScpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoJ3JhdycsIGtleSwgeyBoYXNoOiBgU0hBLSR7YWxnLnNsaWNlKC0zKX1gLCBuYW1lOiAnSE1BQycgfSwgZmFsc2UsIFt1c2FnZV0pO1xuICAgIH1cbiAgICBjaGVja1NpZ0NyeXB0b0tleShrZXksIGFsZywgdXNhZ2UpO1xuICAgIHJldHVybiBrZXk7XG59O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/lib/get_sign_verify_key.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/lib/invalid_key_input.js":
/*!****************************************************************!*\
  !*** ./node_modules/jose/dist/webapi/lib/invalid_key_input.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   withAlg: () => (/* binding */ withAlg)\n/* harmony export */ });\nfunction message(msg, actual, ...types) {\n    types = types.filter(Boolean);\n    if (types.length > 2) {\n        const last = types.pop();\n        msg += `one of type ${types.join(', ')}, or ${last}.`;\n    }\n    else if (types.length === 2) {\n        msg += `one of type ${types[0]} or ${types[1]}.`;\n    }\n    else {\n        msg += `of type ${types[0]}.`;\n    }\n    if (actual == null) {\n        msg += ` Received ${actual}`;\n    }\n    else if (typeof actual === 'function' && actual.name) {\n        msg += ` Received function ${actual.name}`;\n    }\n    else if (typeof actual === 'object' && actual != null) {\n        if (actual.constructor?.name) {\n            msg += ` Received an instance of ${actual.constructor.name}`;\n        }\n    }\n    return msg;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((actual, ...types) => {\n    return message('Key must be ', actual, ...types);\n});\nfunction withAlg(alg, actual, ...types) {\n    return message(`Key for the ${alg} algorithm must be `, actual, ...types);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvbGliL2ludmFsaWRfa2V5X2lucHV0LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsaUJBQWlCLE9BQU8sS0FBSztBQUMzRDtBQUNBO0FBQ0EsOEJBQThCLFVBQVUsS0FBSyxTQUFTO0FBQ3REO0FBQ0E7QUFDQSwwQkFBMEIsU0FBUztBQUNuQztBQUNBO0FBQ0EsNEJBQTRCLE9BQU87QUFDbkM7QUFDQTtBQUNBLHFDQUFxQyxZQUFZO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyx3QkFBd0I7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBZTtBQUNmO0FBQ0EsQ0FBQyxFQUFDO0FBQ0s7QUFDUCxrQ0FBa0MsS0FBSztBQUN2QyIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcam9zZVxcZGlzdFxcd2ViYXBpXFxsaWJcXGludmFsaWRfa2V5X2lucHV0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIG1lc3NhZ2UobXNnLCBhY3R1YWwsIC4uLnR5cGVzKSB7XG4gICAgdHlwZXMgPSB0eXBlcy5maWx0ZXIoQm9vbGVhbik7XG4gICAgaWYgKHR5cGVzLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgY29uc3QgbGFzdCA9IHR5cGVzLnBvcCgpO1xuICAgICAgICBtc2cgKz0gYG9uZSBvZiB0eXBlICR7dHlwZXMuam9pbignLCAnKX0sIG9yICR7bGFzdH0uYDtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZXMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIG1zZyArPSBgb25lIG9mIHR5cGUgJHt0eXBlc1swXX0gb3IgJHt0eXBlc1sxXX0uYDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG1zZyArPSBgb2YgdHlwZSAke3R5cGVzWzBdfS5gO1xuICAgIH1cbiAgICBpZiAoYWN0dWFsID09IG51bGwpIHtcbiAgICAgICAgbXNnICs9IGAgUmVjZWl2ZWQgJHthY3R1YWx9YDtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGFjdHVhbCA9PT0gJ2Z1bmN0aW9uJyAmJiBhY3R1YWwubmFtZSkge1xuICAgICAgICBtc2cgKz0gYCBSZWNlaXZlZCBmdW5jdGlvbiAke2FjdHVhbC5uYW1lfWA7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBhY3R1YWwgPT09ICdvYmplY3QnICYmIGFjdHVhbCAhPSBudWxsKSB7XG4gICAgICAgIGlmIChhY3R1YWwuY29uc3RydWN0b3I/Lm5hbWUpIHtcbiAgICAgICAgICAgIG1zZyArPSBgIFJlY2VpdmVkIGFuIGluc3RhbmNlIG9mICR7YWN0dWFsLmNvbnN0cnVjdG9yLm5hbWV9YDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbXNnO1xufVxuZXhwb3J0IGRlZmF1bHQgKGFjdHVhbCwgLi4udHlwZXMpID0+IHtcbiAgICByZXR1cm4gbWVzc2FnZSgnS2V5IG11c3QgYmUgJywgYWN0dWFsLCAuLi50eXBlcyk7XG59O1xuZXhwb3J0IGZ1bmN0aW9uIHdpdGhBbGcoYWxnLCBhY3R1YWwsIC4uLnR5cGVzKSB7XG4gICAgcmV0dXJuIG1lc3NhZ2UoYEtleSBmb3IgdGhlICR7YWxnfSBhbGdvcml0aG0gbXVzdCBiZSBgLCBhY3R1YWwsIC4uLnR5cGVzKTtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/lib/invalid_key_input.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/lib/is_disjoint.js":
/*!**********************************************************!*\
  !*** ./node_modules/jose/dist/webapi/lib/is_disjoint.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((...headers) => {\n    const sources = headers.filter(Boolean);\n    if (sources.length === 0 || sources.length === 1) {\n        return true;\n    }\n    let acc;\n    for (const header of sources) {\n        const parameters = Object.keys(header);\n        if (!acc || acc.size === 0) {\n            acc = new Set(parameters);\n            continue;\n        }\n        for (const parameter of parameters) {\n            if (acc.has(parameter)) {\n                return false;\n            }\n            acc.add(parameter);\n        }\n    }\n    return true;\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvbGliL2lzX2Rpc2pvaW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpRUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxqb3NlXFxkaXN0XFx3ZWJhcGlcXGxpYlxcaXNfZGlzam9pbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgKC4uLmhlYWRlcnMpID0+IHtcbiAgICBjb25zdCBzb3VyY2VzID0gaGVhZGVycy5maWx0ZXIoQm9vbGVhbik7XG4gICAgaWYgKHNvdXJjZXMubGVuZ3RoID09PSAwIHx8IHNvdXJjZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBsZXQgYWNjO1xuICAgIGZvciAoY29uc3QgaGVhZGVyIG9mIHNvdXJjZXMpIHtcbiAgICAgICAgY29uc3QgcGFyYW1ldGVycyA9IE9iamVjdC5rZXlzKGhlYWRlcik7XG4gICAgICAgIGlmICghYWNjIHx8IGFjYy5zaXplID09PSAwKSB7XG4gICAgICAgICAgICBhY2MgPSBuZXcgU2V0KHBhcmFtZXRlcnMpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBwYXJhbWV0ZXIgb2YgcGFyYW1ldGVycykge1xuICAgICAgICAgICAgaWYgKGFjYy5oYXMocGFyYW1ldGVyKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFjYy5hZGQocGFyYW1ldGVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/lib/is_disjoint.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/lib/is_jwk.js":
/*!*****************************************************!*\
  !*** ./node_modules/jose/dist/webapi/lib/is_jwk.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isJWK: () => (/* binding */ isJWK),\n/* harmony export */   isPrivateJWK: () => (/* binding */ isPrivateJWK),\n/* harmony export */   isPublicJWK: () => (/* binding */ isPublicJWK),\n/* harmony export */   isSecretJWK: () => (/* binding */ isSecretJWK)\n/* harmony export */ });\n/* harmony import */ var _is_object_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./is_object.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/is_object.js\");\n\nfunction isJWK(key) {\n    return (0,_is_object_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(key) && typeof key.kty === 'string';\n}\nfunction isPrivateJWK(key) {\n    return (key.kty !== 'oct' &&\n        ((key.kty === 'AKP' && typeof key.priv === 'string') || typeof key.d === 'string'));\n}\nfunction isPublicJWK(key) {\n    return key.kty !== 'oct' && typeof key.d === 'undefined' && typeof key.priv === 'undefined';\n}\nfunction isSecretJWK(key) {\n    return key.kty === 'oct' && typeof key.k === 'string';\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvbGliL2lzX2p3ay5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFzQztBQUMvQjtBQUNQLFdBQVcseURBQVE7QUFDbkI7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQSIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcam9zZVxcZGlzdFxcd2ViYXBpXFxsaWJcXGlzX2p3ay5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgaXNPYmplY3QgZnJvbSAnLi9pc19vYmplY3QuanMnO1xuZXhwb3J0IGZ1bmN0aW9uIGlzSldLKGtleSkge1xuICAgIHJldHVybiBpc09iamVjdChrZXkpICYmIHR5cGVvZiBrZXkua3R5ID09PSAnc3RyaW5nJztcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1ByaXZhdGVKV0soa2V5KSB7XG4gICAgcmV0dXJuIChrZXkua3R5ICE9PSAnb2N0JyAmJlxuICAgICAgICAoKGtleS5rdHkgPT09ICdBS1AnICYmIHR5cGVvZiBrZXkucHJpdiA9PT0gJ3N0cmluZycpIHx8IHR5cGVvZiBrZXkuZCA9PT0gJ3N0cmluZycpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1B1YmxpY0pXSyhrZXkpIHtcbiAgICByZXR1cm4ga2V5Lmt0eSAhPT0gJ29jdCcgJiYgdHlwZW9mIGtleS5kID09PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Yga2V5LnByaXYgPT09ICd1bmRlZmluZWQnO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzU2VjcmV0SldLKGtleSkge1xuICAgIHJldHVybiBrZXkua3R5ID09PSAnb2N0JyAmJiB0eXBlb2Yga2V5LmsgPT09ICdzdHJpbmcnO1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/lib/is_jwk.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/lib/is_key_like.js":
/*!**********************************************************!*\
  !*** ./node_modules/jose/dist/webapi/lib/is_key_like.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   assertCryptoKey: () => (/* binding */ assertCryptoKey),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   isCryptoKey: () => (/* binding */ isCryptoKey),\n/* harmony export */   isKeyObject: () => (/* binding */ isKeyObject)\n/* harmony export */ });\nfunction assertCryptoKey(key) {\n    if (!isCryptoKey(key)) {\n        throw new Error('CryptoKey instance expected');\n    }\n}\nfunction isCryptoKey(key) {\n    return key?.[Symbol.toStringTag] === 'CryptoKey';\n}\nfunction isKeyObject(key) {\n    return key?.[Symbol.toStringTag] === 'KeyObject';\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((key) => {\n    return isCryptoKey(key) || isKeyObject(key);\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvbGliL2lzX2tleV9saWtlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsaUVBQWU7QUFDZjtBQUNBLENBQUMsRUFBQyIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcam9zZVxcZGlzdFxcd2ViYXBpXFxsaWJcXGlzX2tleV9saWtlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBhc3NlcnRDcnlwdG9LZXkoa2V5KSB7XG4gICAgaWYgKCFpc0NyeXB0b0tleShrZXkpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ3J5cHRvS2V5IGluc3RhbmNlIGV4cGVjdGVkJyk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQ3J5cHRvS2V5KGtleSkge1xuICAgIHJldHVybiBrZXk/LltTeW1ib2wudG9TdHJpbmdUYWddID09PSAnQ3J5cHRvS2V5Jztcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0tleU9iamVjdChrZXkpIHtcbiAgICByZXR1cm4ga2V5Py5bU3ltYm9sLnRvU3RyaW5nVGFnXSA9PT0gJ0tleU9iamVjdCc7XG59XG5leHBvcnQgZGVmYXVsdCAoa2V5KSA9PiB7XG4gICAgcmV0dXJuIGlzQ3J5cHRvS2V5KGtleSkgfHwgaXNLZXlPYmplY3Qoa2V5KTtcbn07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/lib/is_key_like.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/lib/is_object.js":
/*!********************************************************!*\
  !*** ./node_modules/jose/dist/webapi/lib/is_object.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nfunction isObjectLike(value) {\n    return typeof value === 'object' && value !== null;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((input) => {\n    if (!isObjectLike(input) || Object.prototype.toString.call(input) !== '[object Object]') {\n        return false;\n    }\n    if (Object.getPrototypeOf(input) === null) {\n        return true;\n    }\n    let proto = input;\n    while (Object.getPrototypeOf(proto) !== null) {\n        proto = Object.getPrototypeOf(proto);\n    }\n    return Object.getPrototypeOf(input) === proto;\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvbGliL2lzX29iamVjdC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0EsaUVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxqb3NlXFxkaXN0XFx3ZWJhcGlcXGxpYlxcaXNfb2JqZWN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICE9PSBudWxsO1xufVxuZXhwb3J0IGRlZmF1bHQgKGlucHV0KSA9PiB7XG4gICAgaWYgKCFpc09iamVjdExpa2UoaW5wdXQpIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgIT09ICdbb2JqZWN0IE9iamVjdF0nKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihpbnB1dCkgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGxldCBwcm90byA9IGlucHV0O1xuICAgIHdoaWxlIChPYmplY3QuZ2V0UHJvdG90eXBlT2YocHJvdG8pICE9PSBudWxsKSB7XG4gICAgICAgIHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHByb3RvKTtcbiAgICB9XG4gICAgcmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZihpbnB1dCkgPT09IHByb3RvO1xufTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/lib/is_object.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/lib/iv.js":
/*!*************************************************!*\
  !*** ./node_modules/jose/dist/webapi/lib/iv.js ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   bitLength: () => (/* binding */ bitLength),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _util_errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/errors.js */ \"(middleware)/./node_modules/jose/dist/webapi/util/errors.js\");\n\nfunction bitLength(alg) {\n    switch (alg) {\n        case 'A128GCM':\n        case 'A128GCMKW':\n        case 'A192GCM':\n        case 'A192GCMKW':\n        case 'A256GCM':\n        case 'A256GCMKW':\n            return 96;\n        case 'A128CBC-HS256':\n        case 'A192CBC-HS384':\n        case 'A256CBC-HS512':\n            return 128;\n        default:\n            throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JOSENotSupported(`Unsupported JWE Algorithm: ${alg}`);\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((alg) => crypto.getRandomValues(new Uint8Array(bitLength(alg) >> 3)));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvbGliL2l2LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFxRDtBQUM5QztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDZEQUFnQiwrQkFBK0IsSUFBSTtBQUN6RTtBQUNBO0FBQ0EsaUVBQWUsb0VBQW9FLEVBQUMiLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXGpvc2VcXGRpc3RcXHdlYmFwaVxcbGliXFxpdi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBKT1NFTm90U3VwcG9ydGVkIH0gZnJvbSAnLi4vdXRpbC9lcnJvcnMuanMnO1xuZXhwb3J0IGZ1bmN0aW9uIGJpdExlbmd0aChhbGcpIHtcbiAgICBzd2l0Y2ggKGFsZykge1xuICAgICAgICBjYXNlICdBMTI4R0NNJzpcbiAgICAgICAgY2FzZSAnQTEyOEdDTUtXJzpcbiAgICAgICAgY2FzZSAnQTE5MkdDTSc6XG4gICAgICAgIGNhc2UgJ0ExOTJHQ01LVyc6XG4gICAgICAgIGNhc2UgJ0EyNTZHQ00nOlxuICAgICAgICBjYXNlICdBMjU2R0NNS1cnOlxuICAgICAgICAgICAgcmV0dXJuIDk2O1xuICAgICAgICBjYXNlICdBMTI4Q0JDLUhTMjU2JzpcbiAgICAgICAgY2FzZSAnQTE5MkNCQy1IUzM4NCc6XG4gICAgICAgIGNhc2UgJ0EyNTZDQkMtSFM1MTInOlxuICAgICAgICAgICAgcmV0dXJuIDEyODtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBKT1NFTm90U3VwcG9ydGVkKGBVbnN1cHBvcnRlZCBKV0UgQWxnb3JpdGhtOiAke2FsZ31gKTtcbiAgICB9XG59XG5leHBvcnQgZGVmYXVsdCAoYWxnKSA9PiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KGJpdExlbmd0aChhbGcpID4+IDMpKTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/lib/iv.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/lib/jwk_to_key.js":
/*!*********************************************************!*\
  !*** ./node_modules/jose/dist/webapi/lib/jwk_to_key.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _util_errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/errors.js */ \"(middleware)/./node_modules/jose/dist/webapi/util/errors.js\");\n\nfunction subtleMapping(jwk) {\n    let algorithm;\n    let keyUsages;\n    switch (jwk.kty) {\n        case 'AKP': {\n            switch (jwk.alg) {\n                case 'ML-DSA-44':\n                case 'ML-DSA-65':\n                case 'ML-DSA-87':\n                    algorithm = { name: jwk.alg };\n                    keyUsages = jwk.priv ? ['sign'] : ['verify'];\n                    break;\n                default:\n                    throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n            }\n            break;\n        }\n        case 'RSA': {\n            switch (jwk.alg) {\n                case 'PS256':\n                case 'PS384':\n                case 'PS512':\n                    algorithm = { name: 'RSA-PSS', hash: `SHA-${jwk.alg.slice(-3)}` };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'RS256':\n                case 'RS384':\n                case 'RS512':\n                    algorithm = { name: 'RSASSA-PKCS1-v1_5', hash: `SHA-${jwk.alg.slice(-3)}` };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'RSA-OAEP':\n                case 'RSA-OAEP-256':\n                case 'RSA-OAEP-384':\n                case 'RSA-OAEP-512':\n                    algorithm = {\n                        name: 'RSA-OAEP',\n                        hash: `SHA-${parseInt(jwk.alg.slice(-3), 10) || 1}`,\n                    };\n                    keyUsages = jwk.d ? ['decrypt', 'unwrapKey'] : ['encrypt', 'wrapKey'];\n                    break;\n                default:\n                    throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n            }\n            break;\n        }\n        case 'EC': {\n            switch (jwk.alg) {\n                case 'ES256':\n                    algorithm = { name: 'ECDSA', namedCurve: 'P-256' };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'ES384':\n                    algorithm = { name: 'ECDSA', namedCurve: 'P-384' };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'ES512':\n                    algorithm = { name: 'ECDSA', namedCurve: 'P-521' };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'ECDH-ES':\n                case 'ECDH-ES+A128KW':\n                case 'ECDH-ES+A192KW':\n                case 'ECDH-ES+A256KW':\n                    algorithm = { name: 'ECDH', namedCurve: jwk.crv };\n                    keyUsages = jwk.d ? ['deriveBits'] : [];\n                    break;\n                default:\n                    throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n            }\n            break;\n        }\n        case 'OKP': {\n            switch (jwk.alg) {\n                case 'Ed25519':\n                case 'EdDSA':\n                    algorithm = { name: 'Ed25519' };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'ECDH-ES':\n                case 'ECDH-ES+A128KW':\n                case 'ECDH-ES+A192KW':\n                case 'ECDH-ES+A256KW':\n                    algorithm = { name: jwk.crv };\n                    keyUsages = jwk.d ? ['deriveBits'] : [];\n                    break;\n                default:\n                    throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n            }\n            break;\n        }\n        default:\n            throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JOSENotSupported('Invalid or unsupported JWK \"kty\" (Key Type) Parameter value');\n    }\n    return { algorithm, keyUsages };\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (async (jwk) => {\n    if (!jwk.alg) {\n        throw new TypeError('\"alg\" argument is required when \"jwk.alg\" is not present');\n    }\n    const { algorithm, keyUsages } = subtleMapping(jwk);\n    const keyData = { ...jwk };\n    if (keyData.kty !== 'AKP') {\n        delete keyData.alg;\n    }\n    delete keyData.use;\n    return crypto.subtle.importKey('jwk', keyData, algorithm, jwk.ext ?? (jwk.d || jwk.priv ? false : true), jwk.key_ops ?? keyUsages);\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvbGliL2p3a190b19rZXkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBcUQ7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qiw2REFBZ0I7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyw4QkFBOEIsa0JBQWtCO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0Msd0NBQXdDLGtCQUFrQjtBQUM1RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLHFDQUFxQztBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qiw2REFBZ0I7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qiw2REFBZ0I7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qiw2REFBZ0I7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsNkRBQWdCO0FBQ3RDO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsaUVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQSxZQUFZLHVCQUF1QjtBQUNuQyxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsRUFBQyIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcam9zZVxcZGlzdFxcd2ViYXBpXFxsaWJcXGp3a190b19rZXkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSk9TRU5vdFN1cHBvcnRlZCB9IGZyb20gJy4uL3V0aWwvZXJyb3JzLmpzJztcbmZ1bmN0aW9uIHN1YnRsZU1hcHBpbmcoandrKSB7XG4gICAgbGV0IGFsZ29yaXRobTtcbiAgICBsZXQga2V5VXNhZ2VzO1xuICAgIHN3aXRjaCAoandrLmt0eSkge1xuICAgICAgICBjYXNlICdBS1AnOiB7XG4gICAgICAgICAgICBzd2l0Y2ggKGp3ay5hbGcpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdNTC1EU0EtNDQnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ01MLURTQS02NSc6XG4gICAgICAgICAgICAgICAgY2FzZSAnTUwtRFNBLTg3JzpcbiAgICAgICAgICAgICAgICAgICAgYWxnb3JpdGhtID0geyBuYW1lOiBqd2suYWxnIH07XG4gICAgICAgICAgICAgICAgICAgIGtleVVzYWdlcyA9IGp3ay5wcml2ID8gWydzaWduJ10gOiBbJ3ZlcmlmeSddO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSk9TRU5vdFN1cHBvcnRlZCgnSW52YWxpZCBvciB1bnN1cHBvcnRlZCBKV0sgXCJhbGdcIiAoQWxnb3JpdGhtKSBQYXJhbWV0ZXIgdmFsdWUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ1JTQSc6IHtcbiAgICAgICAgICAgIHN3aXRjaCAoandrLmFsZykge1xuICAgICAgICAgICAgICAgIGNhc2UgJ1BTMjU2JzpcbiAgICAgICAgICAgICAgICBjYXNlICdQUzM4NCc6XG4gICAgICAgICAgICAgICAgY2FzZSAnUFM1MTInOlxuICAgICAgICAgICAgICAgICAgICBhbGdvcml0aG0gPSB7IG5hbWU6ICdSU0EtUFNTJywgaGFzaDogYFNIQS0ke2p3ay5hbGcuc2xpY2UoLTMpfWAgfTtcbiAgICAgICAgICAgICAgICAgICAga2V5VXNhZ2VzID0gandrLmQgPyBbJ3NpZ24nXSA6IFsndmVyaWZ5J107XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ1JTMjU2JzpcbiAgICAgICAgICAgICAgICBjYXNlICdSUzM4NCc6XG4gICAgICAgICAgICAgICAgY2FzZSAnUlM1MTInOlxuICAgICAgICAgICAgICAgICAgICBhbGdvcml0aG0gPSB7IG5hbWU6ICdSU0FTU0EtUEtDUzEtdjFfNScsIGhhc2g6IGBTSEEtJHtqd2suYWxnLnNsaWNlKC0zKX1gIH07XG4gICAgICAgICAgICAgICAgICAgIGtleVVzYWdlcyA9IGp3ay5kID8gWydzaWduJ10gOiBbJ3ZlcmlmeSddO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdSU0EtT0FFUCc6XG4gICAgICAgICAgICAgICAgY2FzZSAnUlNBLU9BRVAtMjU2JzpcbiAgICAgICAgICAgICAgICBjYXNlICdSU0EtT0FFUC0zODQnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ1JTQS1PQUVQLTUxMic6XG4gICAgICAgICAgICAgICAgICAgIGFsZ29yaXRobSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdSU0EtT0FFUCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNoOiBgU0hBLSR7cGFyc2VJbnQoandrLmFsZy5zbGljZSgtMyksIDEwKSB8fCAxfWAsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGtleVVzYWdlcyA9IGp3ay5kID8gWydkZWNyeXB0JywgJ3Vud3JhcEtleSddIDogWydlbmNyeXB0JywgJ3dyYXBLZXknXTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEpPU0VOb3RTdXBwb3J0ZWQoJ0ludmFsaWQgb3IgdW5zdXBwb3J0ZWQgSldLIFwiYWxnXCIgKEFsZ29yaXRobSkgUGFyYW1ldGVyIHZhbHVlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdFQyc6IHtcbiAgICAgICAgICAgIHN3aXRjaCAoandrLmFsZykge1xuICAgICAgICAgICAgICAgIGNhc2UgJ0VTMjU2JzpcbiAgICAgICAgICAgICAgICAgICAgYWxnb3JpdGhtID0geyBuYW1lOiAnRUNEU0EnLCBuYW1lZEN1cnZlOiAnUC0yNTYnIH07XG4gICAgICAgICAgICAgICAgICAgIGtleVVzYWdlcyA9IGp3ay5kID8gWydzaWduJ10gOiBbJ3ZlcmlmeSddO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdFUzM4NCc6XG4gICAgICAgICAgICAgICAgICAgIGFsZ29yaXRobSA9IHsgbmFtZTogJ0VDRFNBJywgbmFtZWRDdXJ2ZTogJ1AtMzg0JyB9O1xuICAgICAgICAgICAgICAgICAgICBrZXlVc2FnZXMgPSBqd2suZCA/IFsnc2lnbiddIDogWyd2ZXJpZnknXTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnRVM1MTInOlxuICAgICAgICAgICAgICAgICAgICBhbGdvcml0aG0gPSB7IG5hbWU6ICdFQ0RTQScsIG5hbWVkQ3VydmU6ICdQLTUyMScgfTtcbiAgICAgICAgICAgICAgICAgICAga2V5VXNhZ2VzID0gandrLmQgPyBbJ3NpZ24nXSA6IFsndmVyaWZ5J107XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0VDREgtRVMnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ0VDREgtRVMrQTEyOEtXJzpcbiAgICAgICAgICAgICAgICBjYXNlICdFQ0RILUVTK0ExOTJLVyc6XG4gICAgICAgICAgICAgICAgY2FzZSAnRUNESC1FUytBMjU2S1cnOlxuICAgICAgICAgICAgICAgICAgICBhbGdvcml0aG0gPSB7IG5hbWU6ICdFQ0RIJywgbmFtZWRDdXJ2ZTogandrLmNydiB9O1xuICAgICAgICAgICAgICAgICAgICBrZXlVc2FnZXMgPSBqd2suZCA/IFsnZGVyaXZlQml0cyddIDogW107XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBKT1NFTm90U3VwcG9ydGVkKCdJbnZhbGlkIG9yIHVuc3VwcG9ydGVkIEpXSyBcImFsZ1wiIChBbGdvcml0aG0pIFBhcmFtZXRlciB2YWx1ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnT0tQJzoge1xuICAgICAgICAgICAgc3dpdGNoIChqd2suYWxnKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnRWQyNTUxOSc6XG4gICAgICAgICAgICAgICAgY2FzZSAnRWREU0EnOlxuICAgICAgICAgICAgICAgICAgICBhbGdvcml0aG0gPSB7IG5hbWU6ICdFZDI1NTE5JyB9O1xuICAgICAgICAgICAgICAgICAgICBrZXlVc2FnZXMgPSBqd2suZCA/IFsnc2lnbiddIDogWyd2ZXJpZnknXTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnRUNESC1FUyc6XG4gICAgICAgICAgICAgICAgY2FzZSAnRUNESC1FUytBMTI4S1cnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ0VDREgtRVMrQTE5MktXJzpcbiAgICAgICAgICAgICAgICBjYXNlICdFQ0RILUVTK0EyNTZLVyc6XG4gICAgICAgICAgICAgICAgICAgIGFsZ29yaXRobSA9IHsgbmFtZTogandrLmNydiB9O1xuICAgICAgICAgICAgICAgICAgICBrZXlVc2FnZXMgPSBqd2suZCA/IFsnZGVyaXZlQml0cyddIDogW107XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBKT1NFTm90U3VwcG9ydGVkKCdJbnZhbGlkIG9yIHVuc3VwcG9ydGVkIEpXSyBcImFsZ1wiIChBbGdvcml0aG0pIFBhcmFtZXRlciB2YWx1ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBKT1NFTm90U3VwcG9ydGVkKCdJbnZhbGlkIG9yIHVuc3VwcG9ydGVkIEpXSyBcImt0eVwiIChLZXkgVHlwZSkgUGFyYW1ldGVyIHZhbHVlJyk7XG4gICAgfVxuICAgIHJldHVybiB7IGFsZ29yaXRobSwga2V5VXNhZ2VzIH07XG59XG5leHBvcnQgZGVmYXVsdCBhc3luYyAoandrKSA9PiB7XG4gICAgaWYgKCFqd2suYWxnKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiYWxnXCIgYXJndW1lbnQgaXMgcmVxdWlyZWQgd2hlbiBcImp3ay5hbGdcIiBpcyBub3QgcHJlc2VudCcpO1xuICAgIH1cbiAgICBjb25zdCB7IGFsZ29yaXRobSwga2V5VXNhZ2VzIH0gPSBzdWJ0bGVNYXBwaW5nKGp3ayk7XG4gICAgY29uc3Qga2V5RGF0YSA9IHsgLi4uandrIH07XG4gICAgaWYgKGtleURhdGEua3R5ICE9PSAnQUtQJykge1xuICAgICAgICBkZWxldGUga2V5RGF0YS5hbGc7XG4gICAgfVxuICAgIGRlbGV0ZSBrZXlEYXRhLnVzZTtcbiAgICByZXR1cm4gY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoJ2p3aycsIGtleURhdGEsIGFsZ29yaXRobSwgandrLmV4dCA/PyAoandrLmQgfHwgandrLnByaXYgPyBmYWxzZSA6IHRydWUpLCBqd2sua2V5X29wcyA/PyBrZXlVc2FnZXMpO1xufTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/lib/jwk_to_key.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/lib/jwt_claims_set.js":
/*!*************************************************************!*\
  !*** ./node_modules/jose/dist/webapi/lib/jwt_claims_set.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JWTClaimsBuilder: () => (/* binding */ JWTClaimsBuilder),\n/* harmony export */   validateClaimsSet: () => (/* binding */ validateClaimsSet)\n/* harmony export */ });\n/* harmony import */ var _util_errors_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/errors.js */ \"(middleware)/./node_modules/jose/dist/webapi/util/errors.js\");\n/* harmony import */ var _buffer_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./buffer_utils.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/buffer_utils.js\");\n/* harmony import */ var _epoch_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./epoch.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/epoch.js\");\n/* harmony import */ var _secs_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./secs.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/secs.js\");\n/* harmony import */ var _is_object_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./is_object.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/is_object.js\");\n\n\n\n\n\n\nfunction validateInput(label, input) {\n    if (!Number.isFinite(input)) {\n        throw new TypeError(`Invalid ${label} input`);\n    }\n    return input;\n}\nconst normalizeTyp = (value) => {\n    if (value.includes('/')) {\n        return value.toLowerCase();\n    }\n    return `application/${value.toLowerCase()}`;\n};\nconst checkAudiencePresence = (audPayload, audOption) => {\n    if (typeof audPayload === 'string') {\n        return audOption.includes(audPayload);\n    }\n    if (Array.isArray(audPayload)) {\n        return audOption.some(Set.prototype.has.bind(new Set(audPayload)));\n    }\n    return false;\n};\nfunction validateClaimsSet(protectedHeader, encodedPayload, options = {}) {\n    let payload;\n    try {\n        payload = JSON.parse(_buffer_utils_js__WEBPACK_IMPORTED_MODULE_0__.decoder.decode(encodedPayload));\n    }\n    catch {\n    }\n    if (!(0,_is_object_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(payload)) {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_2__.JWTInvalid('JWT Claims Set must be a top-level JSON object');\n    }\n    const { typ } = options;\n    if (typ &&\n        (typeof protectedHeader.typ !== 'string' ||\n            normalizeTyp(protectedHeader.typ) !== normalizeTyp(typ))) {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_2__.JWTClaimValidationFailed('unexpected \"typ\" JWT header value', payload, 'typ', 'check_failed');\n    }\n    const { requiredClaims = [], issuer, subject, audience, maxTokenAge } = options;\n    const presenceCheck = [...requiredClaims];\n    if (maxTokenAge !== undefined)\n        presenceCheck.push('iat');\n    if (audience !== undefined)\n        presenceCheck.push('aud');\n    if (subject !== undefined)\n        presenceCheck.push('sub');\n    if (issuer !== undefined)\n        presenceCheck.push('iss');\n    for (const claim of new Set(presenceCheck.reverse())) {\n        if (!(claim in payload)) {\n            throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_2__.JWTClaimValidationFailed(`missing required \"${claim}\" claim`, payload, claim, 'missing');\n        }\n    }\n    if (issuer &&\n        !(Array.isArray(issuer) ? issuer : [issuer]).includes(payload.iss)) {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_2__.JWTClaimValidationFailed('unexpected \"iss\" claim value', payload, 'iss', 'check_failed');\n    }\n    if (subject && payload.sub !== subject) {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_2__.JWTClaimValidationFailed('unexpected \"sub\" claim value', payload, 'sub', 'check_failed');\n    }\n    if (audience &&\n        !checkAudiencePresence(payload.aud, typeof audience === 'string' ? [audience] : audience)) {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_2__.JWTClaimValidationFailed('unexpected \"aud\" claim value', payload, 'aud', 'check_failed');\n    }\n    let tolerance;\n    switch (typeof options.clockTolerance) {\n        case 'string':\n            tolerance = (0,_secs_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(options.clockTolerance);\n            break;\n        case 'number':\n            tolerance = options.clockTolerance;\n            break;\n        case 'undefined':\n            tolerance = 0;\n            break;\n        default:\n            throw new TypeError('Invalid clockTolerance option type');\n    }\n    const { currentDate } = options;\n    const now = (0,_epoch_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(currentDate || new Date());\n    if ((payload.iat !== undefined || maxTokenAge) && typeof payload.iat !== 'number') {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_2__.JWTClaimValidationFailed('\"iat\" claim must be a number', payload, 'iat', 'invalid');\n    }\n    if (payload.nbf !== undefined) {\n        if (typeof payload.nbf !== 'number') {\n            throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_2__.JWTClaimValidationFailed('\"nbf\" claim must be a number', payload, 'nbf', 'invalid');\n        }\n        if (payload.nbf > now + tolerance) {\n            throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_2__.JWTClaimValidationFailed('\"nbf\" claim timestamp check failed', payload, 'nbf', 'check_failed');\n        }\n    }\n    if (payload.exp !== undefined) {\n        if (typeof payload.exp !== 'number') {\n            throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_2__.JWTClaimValidationFailed('\"exp\" claim must be a number', payload, 'exp', 'invalid');\n        }\n        if (payload.exp <= now - tolerance) {\n            throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_2__.JWTExpired('\"exp\" claim timestamp check failed', payload, 'exp', 'check_failed');\n        }\n    }\n    if (maxTokenAge) {\n        const age = now - payload.iat;\n        const max = typeof maxTokenAge === 'number' ? maxTokenAge : (0,_secs_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(maxTokenAge);\n        if (age - tolerance > max) {\n            throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_2__.JWTExpired('\"iat\" claim timestamp check failed (too far in the past)', payload, 'iat', 'check_failed');\n        }\n        if (age < 0 - tolerance) {\n            throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_2__.JWTClaimValidationFailed('\"iat\" claim timestamp check failed (it should be in the past)', payload, 'iat', 'check_failed');\n        }\n    }\n    return payload;\n}\nclass JWTClaimsBuilder {\n    #payload;\n    constructor(payload) {\n        if (!(0,_is_object_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(payload)) {\n            throw new TypeError('JWT Claims Set MUST be an object');\n        }\n        this.#payload = structuredClone(payload);\n    }\n    data() {\n        return _buffer_utils_js__WEBPACK_IMPORTED_MODULE_0__.encoder.encode(JSON.stringify(this.#payload));\n    }\n    get iss() {\n        return this.#payload.iss;\n    }\n    set iss(value) {\n        this.#payload.iss = value;\n    }\n    get sub() {\n        return this.#payload.sub;\n    }\n    set sub(value) {\n        this.#payload.sub = value;\n    }\n    get aud() {\n        return this.#payload.aud;\n    }\n    set aud(value) {\n        this.#payload.aud = value;\n    }\n    set jti(value) {\n        this.#payload.jti = value;\n    }\n    set nbf(value) {\n        if (typeof value === 'number') {\n            this.#payload.nbf = validateInput('setNotBefore', value);\n        }\n        else if (value instanceof Date) {\n            this.#payload.nbf = validateInput('setNotBefore', (0,_epoch_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(value));\n        }\n        else {\n            this.#payload.nbf = (0,_epoch_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(new Date()) + (0,_secs_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(value);\n        }\n    }\n    set exp(value) {\n        if (typeof value === 'number') {\n            this.#payload.exp = validateInput('setExpirationTime', value);\n        }\n        else if (value instanceof Date) {\n            this.#payload.exp = validateInput('setExpirationTime', (0,_epoch_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(value));\n        }\n        else {\n            this.#payload.exp = (0,_epoch_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(new Date()) + (0,_secs_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(value);\n        }\n    }\n    set iat(value) {\n        if (typeof value === 'undefined') {\n            this.#payload.iat = (0,_epoch_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(new Date());\n        }\n        else if (value instanceof Date) {\n            this.#payload.iat = validateInput('setIssuedAt', (0,_epoch_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(value));\n        }\n        else if (typeof value === 'string') {\n            this.#payload.iat = validateInput('setIssuedAt', (0,_epoch_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(new Date()) + (0,_secs_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(value));\n        }\n        else {\n            this.#payload.iat = validateInput('setIssuedAt', value);\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvbGliL2p3dF9jbGFpbXNfc2V0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBcUY7QUFDekM7QUFDYjtBQUNGO0FBQ1M7QUFDTTtBQUM1QztBQUNBO0FBQ0EsdUNBQXVDLE9BQU87QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsb0JBQW9CO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sd0VBQXdFO0FBQy9FO0FBQ0E7QUFDQSw2QkFBNkIscURBQU87QUFDcEM7QUFDQTtBQUNBO0FBQ0EsU0FBUyx5REFBUTtBQUNqQixrQkFBa0IsdURBQVU7QUFDNUI7QUFDQSxZQUFZLE1BQU07QUFDbEI7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHFFQUF3QjtBQUMxQztBQUNBLFlBQVksOERBQThEO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IscUVBQXdCLHNCQUFzQixNQUFNO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHFFQUF3QjtBQUMxQztBQUNBO0FBQ0Esa0JBQWtCLHFFQUF3QjtBQUMxQztBQUNBO0FBQ0E7QUFDQSxrQkFBa0IscUVBQXdCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLG9EQUFJO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCLGdCQUFnQixxREFBSztBQUNyQjtBQUNBLGtCQUFrQixxRUFBd0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHFFQUF3QjtBQUM5QztBQUNBO0FBQ0Esc0JBQXNCLHFFQUF3QjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixxRUFBd0I7QUFDOUM7QUFDQTtBQUNBLHNCQUFzQix1REFBVTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLG9FQUFvRSxvREFBSTtBQUN4RTtBQUNBLHNCQUFzQix1REFBVTtBQUNoQztBQUNBO0FBQ0Esc0JBQXNCLHFFQUF3QjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLGFBQWEseURBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUscURBQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOERBQThELHFEQUFLO0FBQ25FO0FBQ0E7QUFDQSxnQ0FBZ0MscURBQUssZUFBZSxvREFBSTtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRSxxREFBSztBQUN4RTtBQUNBO0FBQ0EsZ0NBQWdDLHFEQUFLLGVBQWUsb0RBQUk7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MscURBQUs7QUFDckM7QUFDQTtBQUNBLDZEQUE2RCxxREFBSztBQUNsRTtBQUNBO0FBQ0EsNkRBQTZELHFEQUFLLGVBQWUsb0RBQUk7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxqb3NlXFxkaXN0XFx3ZWJhcGlcXGxpYlxcand0X2NsYWltc19zZXQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSldUQ2xhaW1WYWxpZGF0aW9uRmFpbGVkLCBKV1RFeHBpcmVkLCBKV1RJbnZhbGlkIH0gZnJvbSAnLi4vdXRpbC9lcnJvcnMuanMnO1xuaW1wb3J0IHsgZGVjb2RlciB9IGZyb20gJy4vYnVmZmVyX3V0aWxzLmpzJztcbmltcG9ydCBlcG9jaCBmcm9tICcuL2Vwb2NoLmpzJztcbmltcG9ydCBzZWNzIGZyb20gJy4vc2Vjcy5qcyc7XG5pbXBvcnQgaXNPYmplY3QgZnJvbSAnLi9pc19vYmplY3QuanMnO1xuaW1wb3J0IHsgZW5jb2RlciB9IGZyb20gJy4vYnVmZmVyX3V0aWxzLmpzJztcbmZ1bmN0aW9uIHZhbGlkYXRlSW5wdXQobGFiZWwsIGlucHV0KSB7XG4gICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoaW5wdXQpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEludmFsaWQgJHtsYWJlbH0gaW5wdXRgKTtcbiAgICB9XG4gICAgcmV0dXJuIGlucHV0O1xufVxuY29uc3Qgbm9ybWFsaXplVHlwID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlLmluY2x1ZGVzKCcvJykpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuICAgIHJldHVybiBgYXBwbGljYXRpb24vJHt2YWx1ZS50b0xvd2VyQ2FzZSgpfWA7XG59O1xuY29uc3QgY2hlY2tBdWRpZW5jZVByZXNlbmNlID0gKGF1ZFBheWxvYWQsIGF1ZE9wdGlvbikgPT4ge1xuICAgIGlmICh0eXBlb2YgYXVkUGF5bG9hZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIGF1ZE9wdGlvbi5pbmNsdWRlcyhhdWRQYXlsb2FkKTtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYXVkUGF5bG9hZCkpIHtcbiAgICAgICAgcmV0dXJuIGF1ZE9wdGlvbi5zb21lKFNldC5wcm90b3R5cGUuaGFzLmJpbmQobmV3IFNldChhdWRQYXlsb2FkKSkpO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlQ2xhaW1zU2V0KHByb3RlY3RlZEhlYWRlciwgZW5jb2RlZFBheWxvYWQsIG9wdGlvbnMgPSB7fSkge1xuICAgIGxldCBwYXlsb2FkO1xuICAgIHRyeSB7XG4gICAgICAgIHBheWxvYWQgPSBKU09OLnBhcnNlKGRlY29kZXIuZGVjb2RlKGVuY29kZWRQYXlsb2FkKSk7XG4gICAgfVxuICAgIGNhdGNoIHtcbiAgICB9XG4gICAgaWYgKCFpc09iamVjdChwYXlsb2FkKSkge1xuICAgICAgICB0aHJvdyBuZXcgSldUSW52YWxpZCgnSldUIENsYWltcyBTZXQgbXVzdCBiZSBhIHRvcC1sZXZlbCBKU09OIG9iamVjdCcpO1xuICAgIH1cbiAgICBjb25zdCB7IHR5cCB9ID0gb3B0aW9ucztcbiAgICBpZiAodHlwICYmXG4gICAgICAgICh0eXBlb2YgcHJvdGVjdGVkSGVhZGVyLnR5cCAhPT0gJ3N0cmluZycgfHxcbiAgICAgICAgICAgIG5vcm1hbGl6ZVR5cChwcm90ZWN0ZWRIZWFkZXIudHlwKSAhPT0gbm9ybWFsaXplVHlwKHR5cCkpKSB7XG4gICAgICAgIHRocm93IG5ldyBKV1RDbGFpbVZhbGlkYXRpb25GYWlsZWQoJ3VuZXhwZWN0ZWQgXCJ0eXBcIiBKV1QgaGVhZGVyIHZhbHVlJywgcGF5bG9hZCwgJ3R5cCcsICdjaGVja19mYWlsZWQnKTtcbiAgICB9XG4gICAgY29uc3QgeyByZXF1aXJlZENsYWltcyA9IFtdLCBpc3N1ZXIsIHN1YmplY3QsIGF1ZGllbmNlLCBtYXhUb2tlbkFnZSB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBwcmVzZW5jZUNoZWNrID0gWy4uLnJlcXVpcmVkQ2xhaW1zXTtcbiAgICBpZiAobWF4VG9rZW5BZ2UgIT09IHVuZGVmaW5lZClcbiAgICAgICAgcHJlc2VuY2VDaGVjay5wdXNoKCdpYXQnKTtcbiAgICBpZiAoYXVkaWVuY2UgIT09IHVuZGVmaW5lZClcbiAgICAgICAgcHJlc2VuY2VDaGVjay5wdXNoKCdhdWQnKTtcbiAgICBpZiAoc3ViamVjdCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICBwcmVzZW5jZUNoZWNrLnB1c2goJ3N1YicpO1xuICAgIGlmIChpc3N1ZXIgIT09IHVuZGVmaW5lZClcbiAgICAgICAgcHJlc2VuY2VDaGVjay5wdXNoKCdpc3MnKTtcbiAgICBmb3IgKGNvbnN0IGNsYWltIG9mIG5ldyBTZXQocHJlc2VuY2VDaGVjay5yZXZlcnNlKCkpKSB7XG4gICAgICAgIGlmICghKGNsYWltIGluIHBheWxvYWQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSldUQ2xhaW1WYWxpZGF0aW9uRmFpbGVkKGBtaXNzaW5nIHJlcXVpcmVkIFwiJHtjbGFpbX1cIiBjbGFpbWAsIHBheWxvYWQsIGNsYWltLCAnbWlzc2luZycpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChpc3N1ZXIgJiZcbiAgICAgICAgIShBcnJheS5pc0FycmF5KGlzc3VlcikgPyBpc3N1ZXIgOiBbaXNzdWVyXSkuaW5jbHVkZXMocGF5bG9hZC5pc3MpKSB7XG4gICAgICAgIHRocm93IG5ldyBKV1RDbGFpbVZhbGlkYXRpb25GYWlsZWQoJ3VuZXhwZWN0ZWQgXCJpc3NcIiBjbGFpbSB2YWx1ZScsIHBheWxvYWQsICdpc3MnLCAnY2hlY2tfZmFpbGVkJyk7XG4gICAgfVxuICAgIGlmIChzdWJqZWN0ICYmIHBheWxvYWQuc3ViICE9PSBzdWJqZWN0KSB7XG4gICAgICAgIHRocm93IG5ldyBKV1RDbGFpbVZhbGlkYXRpb25GYWlsZWQoJ3VuZXhwZWN0ZWQgXCJzdWJcIiBjbGFpbSB2YWx1ZScsIHBheWxvYWQsICdzdWInLCAnY2hlY2tfZmFpbGVkJyk7XG4gICAgfVxuICAgIGlmIChhdWRpZW5jZSAmJlxuICAgICAgICAhY2hlY2tBdWRpZW5jZVByZXNlbmNlKHBheWxvYWQuYXVkLCB0eXBlb2YgYXVkaWVuY2UgPT09ICdzdHJpbmcnID8gW2F1ZGllbmNlXSA6IGF1ZGllbmNlKSkge1xuICAgICAgICB0aHJvdyBuZXcgSldUQ2xhaW1WYWxpZGF0aW9uRmFpbGVkKCd1bmV4cGVjdGVkIFwiYXVkXCIgY2xhaW0gdmFsdWUnLCBwYXlsb2FkLCAnYXVkJywgJ2NoZWNrX2ZhaWxlZCcpO1xuICAgIH1cbiAgICBsZXQgdG9sZXJhbmNlO1xuICAgIHN3aXRjaCAodHlwZW9mIG9wdGlvbnMuY2xvY2tUb2xlcmFuY2UpIHtcbiAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgIHRvbGVyYW5jZSA9IHNlY3Mob3B0aW9ucy5jbG9ja1RvbGVyYW5jZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgICAgIHRvbGVyYW5jZSA9IG9wdGlvbnMuY2xvY2tUb2xlcmFuY2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndW5kZWZpbmVkJzpcbiAgICAgICAgICAgIHRvbGVyYW5jZSA9IDA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgY2xvY2tUb2xlcmFuY2Ugb3B0aW9uIHR5cGUnKTtcbiAgICB9XG4gICAgY29uc3QgeyBjdXJyZW50RGF0ZSB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBub3cgPSBlcG9jaChjdXJyZW50RGF0ZSB8fCBuZXcgRGF0ZSgpKTtcbiAgICBpZiAoKHBheWxvYWQuaWF0ICE9PSB1bmRlZmluZWQgfHwgbWF4VG9rZW5BZ2UpICYmIHR5cGVvZiBwYXlsb2FkLmlhdCAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEpXVENsYWltVmFsaWRhdGlvbkZhaWxlZCgnXCJpYXRcIiBjbGFpbSBtdXN0IGJlIGEgbnVtYmVyJywgcGF5bG9hZCwgJ2lhdCcsICdpbnZhbGlkJyk7XG4gICAgfVxuICAgIGlmIChwYXlsb2FkLm5iZiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcGF5bG9hZC5uYmYgIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSldUQ2xhaW1WYWxpZGF0aW9uRmFpbGVkKCdcIm5iZlwiIGNsYWltIG11c3QgYmUgYSBudW1iZXInLCBwYXlsb2FkLCAnbmJmJywgJ2ludmFsaWQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGF5bG9hZC5uYmYgPiBub3cgKyB0b2xlcmFuY2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBKV1RDbGFpbVZhbGlkYXRpb25GYWlsZWQoJ1wibmJmXCIgY2xhaW0gdGltZXN0YW1wIGNoZWNrIGZhaWxlZCcsIHBheWxvYWQsICduYmYnLCAnY2hlY2tfZmFpbGVkJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHBheWxvYWQuZXhwICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwYXlsb2FkLmV4cCAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBKV1RDbGFpbVZhbGlkYXRpb25GYWlsZWQoJ1wiZXhwXCIgY2xhaW0gbXVzdCBiZSBhIG51bWJlcicsIHBheWxvYWQsICdleHAnLCAnaW52YWxpZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXlsb2FkLmV4cCA8PSBub3cgLSB0b2xlcmFuY2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBKV1RFeHBpcmVkKCdcImV4cFwiIGNsYWltIHRpbWVzdGFtcCBjaGVjayBmYWlsZWQnLCBwYXlsb2FkLCAnZXhwJywgJ2NoZWNrX2ZhaWxlZCcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChtYXhUb2tlbkFnZSkge1xuICAgICAgICBjb25zdCBhZ2UgPSBub3cgLSBwYXlsb2FkLmlhdDtcbiAgICAgICAgY29uc3QgbWF4ID0gdHlwZW9mIG1heFRva2VuQWdlID09PSAnbnVtYmVyJyA/IG1heFRva2VuQWdlIDogc2VjcyhtYXhUb2tlbkFnZSk7XG4gICAgICAgIGlmIChhZ2UgLSB0b2xlcmFuY2UgPiBtYXgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBKV1RFeHBpcmVkKCdcImlhdFwiIGNsYWltIHRpbWVzdGFtcCBjaGVjayBmYWlsZWQgKHRvbyBmYXIgaW4gdGhlIHBhc3QpJywgcGF5bG9hZCwgJ2lhdCcsICdjaGVja19mYWlsZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWdlIDwgMCAtIHRvbGVyYW5jZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEpXVENsYWltVmFsaWRhdGlvbkZhaWxlZCgnXCJpYXRcIiBjbGFpbSB0aW1lc3RhbXAgY2hlY2sgZmFpbGVkIChpdCBzaG91bGQgYmUgaW4gdGhlIHBhc3QpJywgcGF5bG9hZCwgJ2lhdCcsICdjaGVja19mYWlsZWQnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcGF5bG9hZDtcbn1cbmV4cG9ydCBjbGFzcyBKV1RDbGFpbXNCdWlsZGVyIHtcbiAgICAjcGF5bG9hZDtcbiAgICBjb25zdHJ1Y3RvcihwYXlsb2FkKSB7XG4gICAgICAgIGlmICghaXNPYmplY3QocGF5bG9hZCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0pXVCBDbGFpbXMgU2V0IE1VU1QgYmUgYW4gb2JqZWN0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4jcGF5bG9hZCA9IHN0cnVjdHVyZWRDbG9uZShwYXlsb2FkKTtcbiAgICB9XG4gICAgZGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIGVuY29kZXIuZW5jb2RlKEpTT04uc3RyaW5naWZ5KHRoaXMuI3BheWxvYWQpKTtcbiAgICB9XG4gICAgZ2V0IGlzcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3BheWxvYWQuaXNzO1xuICAgIH1cbiAgICBzZXQgaXNzKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuI3BheWxvYWQuaXNzID0gdmFsdWU7XG4gICAgfVxuICAgIGdldCBzdWIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNwYXlsb2FkLnN1YjtcbiAgICB9XG4gICAgc2V0IHN1Yih2YWx1ZSkge1xuICAgICAgICB0aGlzLiNwYXlsb2FkLnN1YiA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgYXVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jcGF5bG9hZC5hdWQ7XG4gICAgfVxuICAgIHNldCBhdWQodmFsdWUpIHtcbiAgICAgICAgdGhpcy4jcGF5bG9hZC5hdWQgPSB2YWx1ZTtcbiAgICB9XG4gICAgc2V0IGp0aSh2YWx1ZSkge1xuICAgICAgICB0aGlzLiNwYXlsb2FkLmp0aSA9IHZhbHVlO1xuICAgIH1cbiAgICBzZXQgbmJmKHZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aGlzLiNwYXlsb2FkLm5iZiA9IHZhbGlkYXRlSW5wdXQoJ3NldE5vdEJlZm9yZScsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuI3BheWxvYWQubmJmID0gdmFsaWRhdGVJbnB1dCgnc2V0Tm90QmVmb3JlJywgZXBvY2godmFsdWUpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuI3BheWxvYWQubmJmID0gZXBvY2gobmV3IERhdGUoKSkgKyBzZWNzKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXQgZXhwKHZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aGlzLiNwYXlsb2FkLmV4cCA9IHZhbGlkYXRlSW5wdXQoJ3NldEV4cGlyYXRpb25UaW1lJywgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgdGhpcy4jcGF5bG9hZC5leHAgPSB2YWxpZGF0ZUlucHV0KCdzZXRFeHBpcmF0aW9uVGltZScsIGVwb2NoKHZhbHVlKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLiNwYXlsb2FkLmV4cCA9IGVwb2NoKG5ldyBEYXRlKCkpICsgc2Vjcyh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0IGlhdCh2YWx1ZSkge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhpcy4jcGF5bG9hZC5pYXQgPSBlcG9jaChuZXcgRGF0ZSgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuI3BheWxvYWQuaWF0ID0gdmFsaWRhdGVJbnB1dCgnc2V0SXNzdWVkQXQnLCBlcG9jaCh2YWx1ZSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRoaXMuI3BheWxvYWQuaWF0ID0gdmFsaWRhdGVJbnB1dCgnc2V0SXNzdWVkQXQnLCBlcG9jaChuZXcgRGF0ZSgpKSArIHNlY3ModmFsdWUpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuI3BheWxvYWQuaWF0ID0gdmFsaWRhdGVJbnB1dCgnc2V0SXNzdWVkQXQnLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/lib/jwt_claims_set.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/lib/key_to_jwk.js":
/*!*********************************************************!*\
  !*** ./node_modules/jose/dist/webapi/lib/key_to_jwk.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ keyToJWK)\n/* harmony export */ });\n/* harmony import */ var _invalid_key_input_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./invalid_key_input.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/invalid_key_input.js\");\n/* harmony import */ var _util_base64url_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/base64url.js */ \"(middleware)/./node_modules/jose/dist/webapi/util/base64url.js\");\n/* harmony import */ var _is_key_like_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./is_key_like.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/is_key_like.js\");\n\n\n\nasync function keyToJWK(key) {\n    if ((0,_is_key_like_js__WEBPACK_IMPORTED_MODULE_0__.isKeyObject)(key)) {\n        if (key.type === 'secret') {\n            key = key.export();\n        }\n        else {\n            return key.export({ format: 'jwk' });\n        }\n    }\n    if (key instanceof Uint8Array) {\n        return {\n            kty: 'oct',\n            k: (0,_util_base64url_js__WEBPACK_IMPORTED_MODULE_1__.encode)(key),\n        };\n    }\n    if (!(0,_is_key_like_js__WEBPACK_IMPORTED_MODULE_0__.isCryptoKey)(key)) {\n        throw new TypeError((0,_invalid_key_input_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(key, 'CryptoKey', 'KeyObject', 'Uint8Array'));\n    }\n    if (!key.extractable) {\n        throw new TypeError('non-extractable CryptoKey cannot be exported as a JWK');\n    }\n    const { ext, key_ops, alg, use, ...jwk } = await crypto.subtle.exportKey('jwk', key);\n    if (jwk.kty === 'AKP') {\n        ;\n        jwk.alg = alg;\n    }\n    return jwk;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvbGliL2tleV90b19qd2suanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFxRDtBQUNDO0FBQ007QUFDN0M7QUFDZixRQUFRLDREQUFXO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGVBQWU7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsMERBQUk7QUFDbkI7QUFDQTtBQUNBLFNBQVMsNERBQVc7QUFDcEIsNEJBQTRCLGlFQUFlO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxpQ0FBaUM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxqb3NlXFxkaXN0XFx3ZWJhcGlcXGxpYlxca2V5X3RvX2p3ay5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgaW52YWxpZEtleUlucHV0IGZyb20gJy4vaW52YWxpZF9rZXlfaW5wdXQuanMnO1xuaW1wb3J0IHsgZW5jb2RlIGFzIGI2NHUgfSBmcm9tICcuLi91dGlsL2Jhc2U2NHVybC5qcyc7XG5pbXBvcnQgeyBpc0NyeXB0b0tleSwgaXNLZXlPYmplY3QgfSBmcm9tICcuL2lzX2tleV9saWtlLmpzJztcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGtleVRvSldLKGtleSkge1xuICAgIGlmIChpc0tleU9iamVjdChrZXkpKSB7XG4gICAgICAgIGlmIChrZXkudHlwZSA9PT0gJ3NlY3JldCcpIHtcbiAgICAgICAgICAgIGtleSA9IGtleS5leHBvcnQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBrZXkuZXhwb3J0KHsgZm9ybWF0OiAnandrJyB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoa2V5IGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAga3R5OiAnb2N0JyxcbiAgICAgICAgICAgIGs6IGI2NHUoa2V5KSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKCFpc0NyeXB0b0tleShrZXkpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoaW52YWxpZEtleUlucHV0KGtleSwgJ0NyeXB0b0tleScsICdLZXlPYmplY3QnLCAnVWludDhBcnJheScpKTtcbiAgICB9XG4gICAgaWYgKCFrZXkuZXh0cmFjdGFibGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignbm9uLWV4dHJhY3RhYmxlIENyeXB0b0tleSBjYW5ub3QgYmUgZXhwb3J0ZWQgYXMgYSBKV0snKTtcbiAgICB9XG4gICAgY29uc3QgeyBleHQsIGtleV9vcHMsIGFsZywgdXNlLCAuLi5qd2sgfSA9IGF3YWl0IGNyeXB0by5zdWJ0bGUuZXhwb3J0S2V5KCdqd2snLCBrZXkpO1xuICAgIGlmIChqd2sua3R5ID09PSAnQUtQJykge1xuICAgICAgICA7XG4gICAgICAgIGp3ay5hbGcgPSBhbGc7XG4gICAgfVxuICAgIHJldHVybiBqd2s7XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/lib/key_to_jwk.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/lib/normalize_key.js":
/*!************************************************************!*\
  !*** ./node_modules/jose/dist/webapi/lib/normalize_key.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _is_jwk_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./is_jwk.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/is_jwk.js\");\n/* harmony import */ var _util_base64url_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/base64url.js */ \"(middleware)/./node_modules/jose/dist/webapi/util/base64url.js\");\n/* harmony import */ var _jwk_to_key_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./jwk_to_key.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/jwk_to_key.js\");\n/* harmony import */ var _is_key_like_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./is_key_like.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/is_key_like.js\");\n\n\n\n\nlet cache;\nconst handleJWK = async (key, jwk, alg, freeze = false) => {\n    cache ||= new WeakMap();\n    let cached = cache.get(key);\n    if (cached?.[alg]) {\n        return cached[alg];\n    }\n    const cryptoKey = await (0,_jwk_to_key_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({ ...jwk, alg });\n    if (freeze)\n        Object.freeze(key);\n    if (!cached) {\n        cache.set(key, { [alg]: cryptoKey });\n    }\n    else {\n        cached[alg] = cryptoKey;\n    }\n    return cryptoKey;\n};\nconst handleKeyObject = (keyObject, alg) => {\n    cache ||= new WeakMap();\n    let cached = cache.get(keyObject);\n    if (cached?.[alg]) {\n        return cached[alg];\n    }\n    const isPublic = keyObject.type === 'public';\n    const extractable = isPublic ? true : false;\n    let cryptoKey;\n    if (keyObject.asymmetricKeyType === 'x25519') {\n        switch (alg) {\n            case 'ECDH-ES':\n            case 'ECDH-ES+A128KW':\n            case 'ECDH-ES+A192KW':\n            case 'ECDH-ES+A256KW':\n                break;\n            default:\n                throw new TypeError('given KeyObject instance cannot be used for this algorithm');\n        }\n        cryptoKey = keyObject.toCryptoKey(keyObject.asymmetricKeyType, extractable, isPublic ? [] : ['deriveBits']);\n    }\n    if (keyObject.asymmetricKeyType === 'ed25519') {\n        if (alg !== 'EdDSA' && alg !== 'Ed25519') {\n            throw new TypeError('given KeyObject instance cannot be used for this algorithm');\n        }\n        cryptoKey = keyObject.toCryptoKey(keyObject.asymmetricKeyType, extractable, [\n            isPublic ? 'verify' : 'sign',\n        ]);\n    }\n    switch (keyObject.asymmetricKeyType) {\n        case 'ml-dsa-44':\n        case 'ml-dsa-65':\n        case 'ml-dsa-87': {\n            if (alg !== keyObject.asymmetricKeyType.toUpperCase()) {\n                throw new TypeError('given KeyObject instance cannot be used for this algorithm');\n            }\n            cryptoKey = keyObject.toCryptoKey(keyObject.asymmetricKeyType, extractable, [\n                isPublic ? 'verify' : 'sign',\n            ]);\n        }\n    }\n    if (keyObject.asymmetricKeyType === 'rsa') {\n        let hash;\n        switch (alg) {\n            case 'RSA-OAEP':\n                hash = 'SHA-1';\n                break;\n            case 'RS256':\n            case 'PS256':\n            case 'RSA-OAEP-256':\n                hash = 'SHA-256';\n                break;\n            case 'RS384':\n            case 'PS384':\n            case 'RSA-OAEP-384':\n                hash = 'SHA-384';\n                break;\n            case 'RS512':\n            case 'PS512':\n            case 'RSA-OAEP-512':\n                hash = 'SHA-512';\n                break;\n            default:\n                throw new TypeError('given KeyObject instance cannot be used for this algorithm');\n        }\n        if (alg.startsWith('RSA-OAEP')) {\n            return keyObject.toCryptoKey({\n                name: 'RSA-OAEP',\n                hash,\n            }, extractable, isPublic ? ['encrypt'] : ['decrypt']);\n        }\n        cryptoKey = keyObject.toCryptoKey({\n            name: alg.startsWith('PS') ? 'RSA-PSS' : 'RSASSA-PKCS1-v1_5',\n            hash,\n        }, extractable, [isPublic ? 'verify' : 'sign']);\n    }\n    if (keyObject.asymmetricKeyType === 'ec') {\n        const nist = new Map([\n            ['prime256v1', 'P-256'],\n            ['secp384r1', 'P-384'],\n            ['secp521r1', 'P-521'],\n        ]);\n        const namedCurve = nist.get(keyObject.asymmetricKeyDetails?.namedCurve);\n        if (!namedCurve) {\n            throw new TypeError('given KeyObject instance cannot be used for this algorithm');\n        }\n        if (alg === 'ES256' && namedCurve === 'P-256') {\n            cryptoKey = keyObject.toCryptoKey({\n                name: 'ECDSA',\n                namedCurve,\n            }, extractable, [isPublic ? 'verify' : 'sign']);\n        }\n        if (alg === 'ES384' && namedCurve === 'P-384') {\n            cryptoKey = keyObject.toCryptoKey({\n                name: 'ECDSA',\n                namedCurve,\n            }, extractable, [isPublic ? 'verify' : 'sign']);\n        }\n        if (alg === 'ES512' && namedCurve === 'P-521') {\n            cryptoKey = keyObject.toCryptoKey({\n                name: 'ECDSA',\n                namedCurve,\n            }, extractable, [isPublic ? 'verify' : 'sign']);\n        }\n        if (alg.startsWith('ECDH-ES')) {\n            cryptoKey = keyObject.toCryptoKey({\n                name: 'ECDH',\n                namedCurve,\n            }, extractable, isPublic ? [] : ['deriveBits']);\n        }\n    }\n    if (!cryptoKey) {\n        throw new TypeError('given KeyObject instance cannot be used for this algorithm');\n    }\n    if (!cached) {\n        cache.set(keyObject, { [alg]: cryptoKey });\n    }\n    else {\n        cached[alg] = cryptoKey;\n    }\n    return cryptoKey;\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (async (key, alg) => {\n    if (key instanceof Uint8Array) {\n        return key;\n    }\n    if ((0,_is_key_like_js__WEBPACK_IMPORTED_MODULE_1__.isCryptoKey)(key)) {\n        return key;\n    }\n    if ((0,_is_key_like_js__WEBPACK_IMPORTED_MODULE_1__.isKeyObject)(key)) {\n        if (key.type === 'secret') {\n            return key.export();\n        }\n        if ('toCryptoKey' in key && typeof key.toCryptoKey === 'function') {\n            try {\n                return handleKeyObject(key, alg);\n            }\n            catch (err) {\n                if (err instanceof TypeError) {\n                    throw err;\n                }\n            }\n        }\n        let jwk = key.export({ format: 'jwk' });\n        return handleJWK(key, jwk, alg);\n    }\n    if ((0,_is_jwk_js__WEBPACK_IMPORTED_MODULE_2__.isJWK)(key)) {\n        if (key.k) {\n            return (0,_util_base64url_js__WEBPACK_IMPORTED_MODULE_3__.decode)(key.k);\n        }\n        return handleJWK(key, key, alg, true);\n    }\n    throw new Error('unreachable');\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvbGliL25vcm1hbGl6ZV9rZXkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBb0M7QUFDVTtBQUNOO0FBQ29CO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDBEQUFTLEdBQUcsYUFBYTtBQUNyRDtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsa0JBQWtCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGtCQUFrQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBLFFBQVEsNERBQVc7QUFDbkI7QUFDQTtBQUNBLFFBQVEsNERBQVc7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsZUFBZTtBQUM5QztBQUNBO0FBQ0EsUUFBUSxpREFBSztBQUNiO0FBQ0EsbUJBQW1CLDBEQUFNO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxqb3NlXFxkaXN0XFx3ZWJhcGlcXGxpYlxcbm9ybWFsaXplX2tleS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0pXSyB9IGZyb20gJy4vaXNfandrLmpzJztcbmltcG9ydCB7IGRlY29kZSB9IGZyb20gJy4uL3V0aWwvYmFzZTY0dXJsLmpzJztcbmltcG9ydCBpbXBvcnRKV0sgZnJvbSAnLi9qd2tfdG9fa2V5LmpzJztcbmltcG9ydCB7IGlzQ3J5cHRvS2V5LCBpc0tleU9iamVjdCB9IGZyb20gJy4vaXNfa2V5X2xpa2UuanMnO1xubGV0IGNhY2hlO1xuY29uc3QgaGFuZGxlSldLID0gYXN5bmMgKGtleSwgandrLCBhbGcsIGZyZWV6ZSA9IGZhbHNlKSA9PiB7XG4gICAgY2FjaGUgfHw9IG5ldyBXZWFrTWFwKCk7XG4gICAgbGV0IGNhY2hlZCA9IGNhY2hlLmdldChrZXkpO1xuICAgIGlmIChjYWNoZWQ/LlthbGddKSB7XG4gICAgICAgIHJldHVybiBjYWNoZWRbYWxnXTtcbiAgICB9XG4gICAgY29uc3QgY3J5cHRvS2V5ID0gYXdhaXQgaW1wb3J0SldLKHsgLi4uandrLCBhbGcgfSk7XG4gICAgaWYgKGZyZWV6ZSlcbiAgICAgICAgT2JqZWN0LmZyZWV6ZShrZXkpO1xuICAgIGlmICghY2FjaGVkKSB7XG4gICAgICAgIGNhY2hlLnNldChrZXksIHsgW2FsZ106IGNyeXB0b0tleSB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNhY2hlZFthbGddID0gY3J5cHRvS2V5O1xuICAgIH1cbiAgICByZXR1cm4gY3J5cHRvS2V5O1xufTtcbmNvbnN0IGhhbmRsZUtleU9iamVjdCA9IChrZXlPYmplY3QsIGFsZykgPT4ge1xuICAgIGNhY2hlIHx8PSBuZXcgV2Vha01hcCgpO1xuICAgIGxldCBjYWNoZWQgPSBjYWNoZS5nZXQoa2V5T2JqZWN0KTtcbiAgICBpZiAoY2FjaGVkPy5bYWxnXSkge1xuICAgICAgICByZXR1cm4gY2FjaGVkW2FsZ107XG4gICAgfVxuICAgIGNvbnN0IGlzUHVibGljID0ga2V5T2JqZWN0LnR5cGUgPT09ICdwdWJsaWMnO1xuICAgIGNvbnN0IGV4dHJhY3RhYmxlID0gaXNQdWJsaWMgPyB0cnVlIDogZmFsc2U7XG4gICAgbGV0IGNyeXB0b0tleTtcbiAgICBpZiAoa2V5T2JqZWN0LmFzeW1tZXRyaWNLZXlUeXBlID09PSAneDI1NTE5Jykge1xuICAgICAgICBzd2l0Y2ggKGFsZykge1xuICAgICAgICAgICAgY2FzZSAnRUNESC1FUyc6XG4gICAgICAgICAgICBjYXNlICdFQ0RILUVTK0ExMjhLVyc6XG4gICAgICAgICAgICBjYXNlICdFQ0RILUVTK0ExOTJLVyc6XG4gICAgICAgICAgICBjYXNlICdFQ0RILUVTK0EyNTZLVyc6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2dpdmVuIEtleU9iamVjdCBpbnN0YW5jZSBjYW5ub3QgYmUgdXNlZCBmb3IgdGhpcyBhbGdvcml0aG0nKTtcbiAgICAgICAgfVxuICAgICAgICBjcnlwdG9LZXkgPSBrZXlPYmplY3QudG9DcnlwdG9LZXkoa2V5T2JqZWN0LmFzeW1tZXRyaWNLZXlUeXBlLCBleHRyYWN0YWJsZSwgaXNQdWJsaWMgPyBbXSA6IFsnZGVyaXZlQml0cyddKTtcbiAgICB9XG4gICAgaWYgKGtleU9iamVjdC5hc3ltbWV0cmljS2V5VHlwZSA9PT0gJ2VkMjU1MTknKSB7XG4gICAgICAgIGlmIChhbGcgIT09ICdFZERTQScgJiYgYWxnICE9PSAnRWQyNTUxOScpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2dpdmVuIEtleU9iamVjdCBpbnN0YW5jZSBjYW5ub3QgYmUgdXNlZCBmb3IgdGhpcyBhbGdvcml0aG0nKTtcbiAgICAgICAgfVxuICAgICAgICBjcnlwdG9LZXkgPSBrZXlPYmplY3QudG9DcnlwdG9LZXkoa2V5T2JqZWN0LmFzeW1tZXRyaWNLZXlUeXBlLCBleHRyYWN0YWJsZSwgW1xuICAgICAgICAgICAgaXNQdWJsaWMgPyAndmVyaWZ5JyA6ICdzaWduJyxcbiAgICAgICAgXSk7XG4gICAgfVxuICAgIHN3aXRjaCAoa2V5T2JqZWN0LmFzeW1tZXRyaWNLZXlUeXBlKSB7XG4gICAgICAgIGNhc2UgJ21sLWRzYS00NCc6XG4gICAgICAgIGNhc2UgJ21sLWRzYS02NSc6XG4gICAgICAgIGNhc2UgJ21sLWRzYS04Nyc6IHtcbiAgICAgICAgICAgIGlmIChhbGcgIT09IGtleU9iamVjdC5hc3ltbWV0cmljS2V5VHlwZS50b1VwcGVyQ2FzZSgpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZ2l2ZW4gS2V5T2JqZWN0IGluc3RhbmNlIGNhbm5vdCBiZSB1c2VkIGZvciB0aGlzIGFsZ29yaXRobScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3J5cHRvS2V5ID0ga2V5T2JqZWN0LnRvQ3J5cHRvS2V5KGtleU9iamVjdC5hc3ltbWV0cmljS2V5VHlwZSwgZXh0cmFjdGFibGUsIFtcbiAgICAgICAgICAgICAgICBpc1B1YmxpYyA/ICd2ZXJpZnknIDogJ3NpZ24nLFxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGtleU9iamVjdC5hc3ltbWV0cmljS2V5VHlwZSA9PT0gJ3JzYScpIHtcbiAgICAgICAgbGV0IGhhc2g7XG4gICAgICAgIHN3aXRjaCAoYWxnKSB7XG4gICAgICAgICAgICBjYXNlICdSU0EtT0FFUCc6XG4gICAgICAgICAgICAgICAgaGFzaCA9ICdTSEEtMSc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdSUzI1Nic6XG4gICAgICAgICAgICBjYXNlICdQUzI1Nic6XG4gICAgICAgICAgICBjYXNlICdSU0EtT0FFUC0yNTYnOlxuICAgICAgICAgICAgICAgIGhhc2ggPSAnU0hBLTI1Nic7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdSUzM4NCc6XG4gICAgICAgICAgICBjYXNlICdQUzM4NCc6XG4gICAgICAgICAgICBjYXNlICdSU0EtT0FFUC0zODQnOlxuICAgICAgICAgICAgICAgIGhhc2ggPSAnU0hBLTM4NCc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdSUzUxMic6XG4gICAgICAgICAgICBjYXNlICdQUzUxMic6XG4gICAgICAgICAgICBjYXNlICdSU0EtT0FFUC01MTInOlxuICAgICAgICAgICAgICAgIGhhc2ggPSAnU0hBLTUxMic7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2dpdmVuIEtleU9iamVjdCBpbnN0YW5jZSBjYW5ub3QgYmUgdXNlZCBmb3IgdGhpcyBhbGdvcml0aG0nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWxnLnN0YXJ0c1dpdGgoJ1JTQS1PQUVQJykpIHtcbiAgICAgICAgICAgIHJldHVybiBrZXlPYmplY3QudG9DcnlwdG9LZXkoe1xuICAgICAgICAgICAgICAgIG5hbWU6ICdSU0EtT0FFUCcsXG4gICAgICAgICAgICAgICAgaGFzaCxcbiAgICAgICAgICAgIH0sIGV4dHJhY3RhYmxlLCBpc1B1YmxpYyA/IFsnZW5jcnlwdCddIDogWydkZWNyeXB0J10pO1xuICAgICAgICB9XG4gICAgICAgIGNyeXB0b0tleSA9IGtleU9iamVjdC50b0NyeXB0b0tleSh7XG4gICAgICAgICAgICBuYW1lOiBhbGcuc3RhcnRzV2l0aCgnUFMnKSA/ICdSU0EtUFNTJyA6ICdSU0FTU0EtUEtDUzEtdjFfNScsXG4gICAgICAgICAgICBoYXNoLFxuICAgICAgICB9LCBleHRyYWN0YWJsZSwgW2lzUHVibGljID8gJ3ZlcmlmeScgOiAnc2lnbiddKTtcbiAgICB9XG4gICAgaWYgKGtleU9iamVjdC5hc3ltbWV0cmljS2V5VHlwZSA9PT0gJ2VjJykge1xuICAgICAgICBjb25zdCBuaXN0ID0gbmV3IE1hcChbXG4gICAgICAgICAgICBbJ3ByaW1lMjU2djEnLCAnUC0yNTYnXSxcbiAgICAgICAgICAgIFsnc2VjcDM4NHIxJywgJ1AtMzg0J10sXG4gICAgICAgICAgICBbJ3NlY3A1MjFyMScsICdQLTUyMSddLFxuICAgICAgICBdKTtcbiAgICAgICAgY29uc3QgbmFtZWRDdXJ2ZSA9IG5pc3QuZ2V0KGtleU9iamVjdC5hc3ltbWV0cmljS2V5RGV0YWlscz8ubmFtZWRDdXJ2ZSk7XG4gICAgICAgIGlmICghbmFtZWRDdXJ2ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZ2l2ZW4gS2V5T2JqZWN0IGluc3RhbmNlIGNhbm5vdCBiZSB1c2VkIGZvciB0aGlzIGFsZ29yaXRobScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhbGcgPT09ICdFUzI1NicgJiYgbmFtZWRDdXJ2ZSA9PT0gJ1AtMjU2Jykge1xuICAgICAgICAgICAgY3J5cHRvS2V5ID0ga2V5T2JqZWN0LnRvQ3J5cHRvS2V5KHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnRUNEU0EnLFxuICAgICAgICAgICAgICAgIG5hbWVkQ3VydmUsXG4gICAgICAgICAgICB9LCBleHRyYWN0YWJsZSwgW2lzUHVibGljID8gJ3ZlcmlmeScgOiAnc2lnbiddKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWxnID09PSAnRVMzODQnICYmIG5hbWVkQ3VydmUgPT09ICdQLTM4NCcpIHtcbiAgICAgICAgICAgIGNyeXB0b0tleSA9IGtleU9iamVjdC50b0NyeXB0b0tleSh7XG4gICAgICAgICAgICAgICAgbmFtZTogJ0VDRFNBJyxcbiAgICAgICAgICAgICAgICBuYW1lZEN1cnZlLFxuICAgICAgICAgICAgfSwgZXh0cmFjdGFibGUsIFtpc1B1YmxpYyA/ICd2ZXJpZnknIDogJ3NpZ24nXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFsZyA9PT0gJ0VTNTEyJyAmJiBuYW1lZEN1cnZlID09PSAnUC01MjEnKSB7XG4gICAgICAgICAgICBjcnlwdG9LZXkgPSBrZXlPYmplY3QudG9DcnlwdG9LZXkoe1xuICAgICAgICAgICAgICAgIG5hbWU6ICdFQ0RTQScsXG4gICAgICAgICAgICAgICAgbmFtZWRDdXJ2ZSxcbiAgICAgICAgICAgIH0sIGV4dHJhY3RhYmxlLCBbaXNQdWJsaWMgPyAndmVyaWZ5JyA6ICdzaWduJ10pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhbGcuc3RhcnRzV2l0aCgnRUNESC1FUycpKSB7XG4gICAgICAgICAgICBjcnlwdG9LZXkgPSBrZXlPYmplY3QudG9DcnlwdG9LZXkoe1xuICAgICAgICAgICAgICAgIG5hbWU6ICdFQ0RIJyxcbiAgICAgICAgICAgICAgICBuYW1lZEN1cnZlLFxuICAgICAgICAgICAgfSwgZXh0cmFjdGFibGUsIGlzUHVibGljID8gW10gOiBbJ2Rlcml2ZUJpdHMnXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFjcnlwdG9LZXkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZ2l2ZW4gS2V5T2JqZWN0IGluc3RhbmNlIGNhbm5vdCBiZSB1c2VkIGZvciB0aGlzIGFsZ29yaXRobScpO1xuICAgIH1cbiAgICBpZiAoIWNhY2hlZCkge1xuICAgICAgICBjYWNoZS5zZXQoa2V5T2JqZWN0LCB7IFthbGddOiBjcnlwdG9LZXkgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjYWNoZWRbYWxnXSA9IGNyeXB0b0tleTtcbiAgICB9XG4gICAgcmV0dXJuIGNyeXB0b0tleTtcbn07XG5leHBvcnQgZGVmYXVsdCBhc3luYyAoa2V5LCBhbGcpID0+IHtcbiAgICBpZiAoa2V5IGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgICByZXR1cm4ga2V5O1xuICAgIH1cbiAgICBpZiAoaXNDcnlwdG9LZXkoa2V5KSkge1xuICAgICAgICByZXR1cm4ga2V5O1xuICAgIH1cbiAgICBpZiAoaXNLZXlPYmplY3Qoa2V5KSkge1xuICAgICAgICBpZiAoa2V5LnR5cGUgPT09ICdzZWNyZXQnKSB7XG4gICAgICAgICAgICByZXR1cm4ga2V5LmV4cG9ydCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgndG9DcnlwdG9LZXknIGluIGtleSAmJiB0eXBlb2Yga2V5LnRvQ3J5cHRvS2V5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGVLZXlPYmplY3Qoa2V5LCBhbGcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBUeXBlRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgandrID0ga2V5LmV4cG9ydCh7IGZvcm1hdDogJ2p3aycgfSk7XG4gICAgICAgIHJldHVybiBoYW5kbGVKV0soa2V5LCBqd2ssIGFsZyk7XG4gICAgfVxuICAgIGlmIChpc0pXSyhrZXkpKSB7XG4gICAgICAgIGlmIChrZXkuaykge1xuICAgICAgICAgICAgcmV0dXJuIGRlY29kZShrZXkuayk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhhbmRsZUpXSyhrZXksIGtleSwgYWxnLCB0cnVlKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1bnJlYWNoYWJsZScpO1xufTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/lib/normalize_key.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/lib/pbes2kw.js":
/*!******************************************************!*\
  !*** ./node_modules/jose/dist/webapi/lib/pbes2kw.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   unwrap: () => (/* binding */ unwrap),\n/* harmony export */   wrap: () => (/* binding */ wrap)\n/* harmony export */ });\n/* harmony import */ var _util_base64url_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/base64url.js */ \"(middleware)/./node_modules/jose/dist/webapi/util/base64url.js\");\n/* harmony import */ var _aeskw_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./aeskw.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/aeskw.js\");\n/* harmony import */ var _crypto_key_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./crypto_key.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/crypto_key.js\");\n/* harmony import */ var _buffer_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./buffer_utils.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/buffer_utils.js\");\n/* harmony import */ var _util_errors_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/errors.js */ \"(middleware)/./node_modules/jose/dist/webapi/util/errors.js\");\n\n\n\n\n\nfunction getCryptoKey(key, alg) {\n    if (key instanceof Uint8Array) {\n        return crypto.subtle.importKey('raw', key, 'PBKDF2', false, ['deriveBits']);\n    }\n    (0,_crypto_key_js__WEBPACK_IMPORTED_MODULE_0__.checkEncCryptoKey)(key, alg, 'deriveBits');\n    return key;\n}\nconst concatSalt = (alg, p2sInput) => (0,_buffer_utils_js__WEBPACK_IMPORTED_MODULE_1__.concat)(_buffer_utils_js__WEBPACK_IMPORTED_MODULE_1__.encoder.encode(alg), new Uint8Array([0]), p2sInput);\nasync function deriveKey(p2s, alg, p2c, key) {\n    if (!(p2s instanceof Uint8Array) || p2s.length < 8) {\n        throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_2__.JWEInvalid('PBES2 Salt Input must be 8 or more octets');\n    }\n    const salt = concatSalt(alg, p2s);\n    const keylen = parseInt(alg.slice(13, 16), 10);\n    const subtleAlg = {\n        hash: `SHA-${alg.slice(8, 11)}`,\n        iterations: p2c,\n        name: 'PBKDF2',\n        salt,\n    };\n    const cryptoKey = await getCryptoKey(key, alg);\n    return new Uint8Array(await crypto.subtle.deriveBits(subtleAlg, cryptoKey, keylen));\n}\nasync function wrap(alg, key, cek, p2c = 2048, p2s = crypto.getRandomValues(new Uint8Array(16))) {\n    const derived = await deriveKey(p2s, alg, p2c, key);\n    const encryptedKey = await _aeskw_js__WEBPACK_IMPORTED_MODULE_3__.wrap(alg.slice(-6), derived, cek);\n    return { encryptedKey, p2c, p2s: (0,_util_base64url_js__WEBPACK_IMPORTED_MODULE_4__.encode)(p2s) };\n}\nasync function unwrap(alg, key, encryptedKey, p2c, p2s) {\n    const derived = await deriveKey(p2s, alg, p2c, key);\n    return _aeskw_js__WEBPACK_IMPORTED_MODULE_3__.unwrap(alg.slice(-6), derived, encryptedKey);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvbGliL3BiZXMya3cuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFzRDtBQUNsQjtBQUNnQjtBQUNBO0FBQ0w7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLGlFQUFpQjtBQUNyQjtBQUNBO0FBQ0Esc0NBQXNDLHdEQUFNLENBQUMscURBQU87QUFDcEQ7QUFDQTtBQUNBLGtCQUFrQix1REFBVTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixpQkFBaUI7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsK0JBQStCLDJDQUFVO0FBQ3pDLGFBQWEsd0JBQXdCLDBEQUFJO0FBQ3pDO0FBQ087QUFDUDtBQUNBLFdBQVcsNkNBQVk7QUFDdkIiLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXGpvc2VcXGRpc3RcXHdlYmFwaVxcbGliXFxwYmVzMmt3LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGVuY29kZSBhcyBiNjR1IH0gZnJvbSAnLi4vdXRpbC9iYXNlNjR1cmwuanMnO1xuaW1wb3J0ICogYXMgYWVza3cgZnJvbSAnLi9hZXNrdy5qcyc7XG5pbXBvcnQgeyBjaGVja0VuY0NyeXB0b0tleSB9IGZyb20gJy4vY3J5cHRvX2tleS5qcyc7XG5pbXBvcnQgeyBjb25jYXQsIGVuY29kZXIgfSBmcm9tICcuL2J1ZmZlcl91dGlscy5qcyc7XG5pbXBvcnQgeyBKV0VJbnZhbGlkIH0gZnJvbSAnLi4vdXRpbC9lcnJvcnMuanMnO1xuZnVuY3Rpb24gZ2V0Q3J5cHRvS2V5KGtleSwgYWxnKSB7XG4gICAgaWYgKGtleSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIGNyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KCdyYXcnLCBrZXksICdQQktERjInLCBmYWxzZSwgWydkZXJpdmVCaXRzJ10pO1xuICAgIH1cbiAgICBjaGVja0VuY0NyeXB0b0tleShrZXksIGFsZywgJ2Rlcml2ZUJpdHMnKTtcbiAgICByZXR1cm4ga2V5O1xufVxuY29uc3QgY29uY2F0U2FsdCA9IChhbGcsIHAyc0lucHV0KSA9PiBjb25jYXQoZW5jb2Rlci5lbmNvZGUoYWxnKSwgbmV3IFVpbnQ4QXJyYXkoWzBdKSwgcDJzSW5wdXQpO1xuYXN5bmMgZnVuY3Rpb24gZGVyaXZlS2V5KHAycywgYWxnLCBwMmMsIGtleSkge1xuICAgIGlmICghKHAycyBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHx8IHAycy5sZW5ndGggPCA4KSB7XG4gICAgICAgIHRocm93IG5ldyBKV0VJbnZhbGlkKCdQQkVTMiBTYWx0IElucHV0IG11c3QgYmUgOCBvciBtb3JlIG9jdGV0cycpO1xuICAgIH1cbiAgICBjb25zdCBzYWx0ID0gY29uY2F0U2FsdChhbGcsIHAycyk7XG4gICAgY29uc3Qga2V5bGVuID0gcGFyc2VJbnQoYWxnLnNsaWNlKDEzLCAxNiksIDEwKTtcbiAgICBjb25zdCBzdWJ0bGVBbGcgPSB7XG4gICAgICAgIGhhc2g6IGBTSEEtJHthbGcuc2xpY2UoOCwgMTEpfWAsXG4gICAgICAgIGl0ZXJhdGlvbnM6IHAyYyxcbiAgICAgICAgbmFtZTogJ1BCS0RGMicsXG4gICAgICAgIHNhbHQsXG4gICAgfTtcbiAgICBjb25zdCBjcnlwdG9LZXkgPSBhd2FpdCBnZXRDcnlwdG9LZXkoa2V5LCBhbGcpO1xuICAgIHJldHVybiBuZXcgVWludDhBcnJheShhd2FpdCBjcnlwdG8uc3VidGxlLmRlcml2ZUJpdHMoc3VidGxlQWxnLCBjcnlwdG9LZXksIGtleWxlbikpO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHdyYXAoYWxnLCBrZXksIGNlaywgcDJjID0gMjA0OCwgcDJzID0gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheSgxNikpKSB7XG4gICAgY29uc3QgZGVyaXZlZCA9IGF3YWl0IGRlcml2ZUtleShwMnMsIGFsZywgcDJjLCBrZXkpO1xuICAgIGNvbnN0IGVuY3J5cHRlZEtleSA9IGF3YWl0IGFlc2t3LndyYXAoYWxnLnNsaWNlKC02KSwgZGVyaXZlZCwgY2VrKTtcbiAgICByZXR1cm4geyBlbmNyeXB0ZWRLZXksIHAyYywgcDJzOiBiNjR1KHAycykgfTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1bndyYXAoYWxnLCBrZXksIGVuY3J5cHRlZEtleSwgcDJjLCBwMnMpIHtcbiAgICBjb25zdCBkZXJpdmVkID0gYXdhaXQgZGVyaXZlS2V5KHAycywgYWxnLCBwMmMsIGtleSk7XG4gICAgcmV0dXJuIGFlc2t3LnVud3JhcChhbGcuc2xpY2UoLTYpLCBkZXJpdmVkLCBlbmNyeXB0ZWRLZXkpO1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/lib/pbes2kw.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/lib/private_symbols.js":
/*!**************************************************************!*\
  !*** ./node_modules/jose/dist/webapi/lib/private_symbols.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   unprotected: () => (/* binding */ unprotected)\n/* harmony export */ });\nconst unprotected = Symbol();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvbGliL3ByaXZhdGVfc3ltYm9scy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU8iLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXGpvc2VcXGRpc3RcXHdlYmFwaVxcbGliXFxwcml2YXRlX3N5bWJvbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHVucHJvdGVjdGVkID0gU3ltYm9sKCk7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/lib/private_symbols.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/lib/rsaes.js":
/*!****************************************************!*\
  !*** ./node_modules/jose/dist/webapi/lib/rsaes.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   decrypt: () => (/* binding */ decrypt),\n/* harmony export */   encrypt: () => (/* binding */ encrypt)\n/* harmony export */ });\n/* harmony import */ var _crypto_key_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./crypto_key.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/crypto_key.js\");\n/* harmony import */ var _check_key_length_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./check_key_length.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/check_key_length.js\");\n/* harmony import */ var _util_errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/errors.js */ \"(middleware)/./node_modules/jose/dist/webapi/util/errors.js\");\n\n\n\nconst subtleAlgorithm = (alg) => {\n    switch (alg) {\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512':\n            return 'RSA-OAEP';\n        default:\n            throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JOSENotSupported(`alg ${alg} is not supported either by JOSE or your javascript runtime`);\n    }\n};\nasync function encrypt(alg, key, cek) {\n    (0,_crypto_key_js__WEBPACK_IMPORTED_MODULE_1__.checkEncCryptoKey)(key, alg, 'encrypt');\n    (0,_check_key_length_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(alg, key);\n    return new Uint8Array(await crypto.subtle.encrypt(subtleAlgorithm(alg), key, cek));\n}\nasync function decrypt(alg, key, encryptedKey) {\n    (0,_crypto_key_js__WEBPACK_IMPORTED_MODULE_1__.checkEncCryptoKey)(key, alg, 'decrypt');\n    (0,_check_key_length_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(alg, key);\n    return new Uint8Array(await crypto.subtle.decrypt(subtleAlgorithm(alg), key, encryptedKey));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvbGliL3JzYWVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQW9EO0FBQ0Q7QUFDRTtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDZEQUFnQixRQUFRLEtBQUs7QUFDbkQ7QUFDQTtBQUNPO0FBQ1AsSUFBSSxpRUFBaUI7QUFDckIsSUFBSSxnRUFBYztBQUNsQjtBQUNBO0FBQ087QUFDUCxJQUFJLGlFQUFpQjtBQUNyQixJQUFJLGdFQUFjO0FBQ2xCO0FBQ0EiLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXGpvc2VcXGRpc3RcXHdlYmFwaVxcbGliXFxyc2Flcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjaGVja0VuY0NyeXB0b0tleSB9IGZyb20gJy4vY3J5cHRvX2tleS5qcyc7XG5pbXBvcnQgY2hlY2tLZXlMZW5ndGggZnJvbSAnLi9jaGVja19rZXlfbGVuZ3RoLmpzJztcbmltcG9ydCB7IEpPU0VOb3RTdXBwb3J0ZWQgfSBmcm9tICcuLi91dGlsL2Vycm9ycy5qcyc7XG5jb25zdCBzdWJ0bGVBbGdvcml0aG0gPSAoYWxnKSA9PiB7XG4gICAgc3dpdGNoIChhbGcpIHtcbiAgICAgICAgY2FzZSAnUlNBLU9BRVAnOlxuICAgICAgICBjYXNlICdSU0EtT0FFUC0yNTYnOlxuICAgICAgICBjYXNlICdSU0EtT0FFUC0zODQnOlxuICAgICAgICBjYXNlICdSU0EtT0FFUC01MTInOlxuICAgICAgICAgICAgcmV0dXJuICdSU0EtT0FFUCc7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgSk9TRU5vdFN1cHBvcnRlZChgYWxnICR7YWxnfSBpcyBub3Qgc3VwcG9ydGVkIGVpdGhlciBieSBKT1NFIG9yIHlvdXIgamF2YXNjcmlwdCBydW50aW1lYCk7XG4gICAgfVxufTtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBlbmNyeXB0KGFsZywga2V5LCBjZWspIHtcbiAgICBjaGVja0VuY0NyeXB0b0tleShrZXksIGFsZywgJ2VuY3J5cHQnKTtcbiAgICBjaGVja0tleUxlbmd0aChhbGcsIGtleSk7XG4gICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGF3YWl0IGNyeXB0by5zdWJ0bGUuZW5jcnlwdChzdWJ0bGVBbGdvcml0aG0oYWxnKSwga2V5LCBjZWspKTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWNyeXB0KGFsZywga2V5LCBlbmNyeXB0ZWRLZXkpIHtcbiAgICBjaGVja0VuY0NyeXB0b0tleShrZXksIGFsZywgJ2RlY3J5cHQnKTtcbiAgICBjaGVja0tleUxlbmd0aChhbGcsIGtleSk7XG4gICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGF3YWl0IGNyeXB0by5zdWJ0bGUuZGVjcnlwdChzdWJ0bGVBbGdvcml0aG0oYWxnKSwga2V5LCBlbmNyeXB0ZWRLZXkpKTtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/lib/rsaes.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/lib/secs.js":
/*!***************************************************!*\
  !*** ./node_modules/jose/dist/webapi/lib/secs.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst minute = 60;\nconst hour = minute * 60;\nconst day = hour * 24;\nconst week = day * 7;\nconst year = day * 365.25;\nconst REGEX = /^(\\+|\\-)? ?(\\d+|\\d+\\.\\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((str) => {\n    const matched = REGEX.exec(str);\n    if (!matched || (matched[4] && matched[1])) {\n        throw new TypeError('Invalid time period format');\n    }\n    const value = parseFloat(matched[2]);\n    const unit = matched[3].toLowerCase();\n    let numericDate;\n    switch (unit) {\n        case 'sec':\n        case 'secs':\n        case 'second':\n        case 'seconds':\n        case 's':\n            numericDate = Math.round(value);\n            break;\n        case 'minute':\n        case 'minutes':\n        case 'min':\n        case 'mins':\n        case 'm':\n            numericDate = Math.round(value * minute);\n            break;\n        case 'hour':\n        case 'hours':\n        case 'hr':\n        case 'hrs':\n        case 'h':\n            numericDate = Math.round(value * hour);\n            break;\n        case 'day':\n        case 'days':\n        case 'd':\n            numericDate = Math.round(value * day);\n            break;\n        case 'week':\n        case 'weeks':\n        case 'w':\n            numericDate = Math.round(value * week);\n            break;\n        default:\n            numericDate = Math.round(value * year);\n            break;\n    }\n    if (matched[1] === '-' || matched[4] === 'ago') {\n        return -numericDate;\n    }\n    return numericDate;\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvbGliL3NlY3MuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsRUFBQyIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcam9zZVxcZGlzdFxcd2ViYXBpXFxsaWJcXHNlY3MuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbWludXRlID0gNjA7XG5jb25zdCBob3VyID0gbWludXRlICogNjA7XG5jb25zdCBkYXkgPSBob3VyICogMjQ7XG5jb25zdCB3ZWVrID0gZGF5ICogNztcbmNvbnN0IHllYXIgPSBkYXkgKiAzNjUuMjU7XG5jb25zdCBSRUdFWCA9IC9eKFxcK3xcXC0pPyA/KFxcZCt8XFxkK1xcLlxcZCspID8oc2Vjb25kcz98c2Vjcz98c3xtaW51dGVzP3xtaW5zP3xtfGhvdXJzP3xocnM/fGh8ZGF5cz98ZHx3ZWVrcz98d3x5ZWFycz98eXJzP3x5KSg/OiAoYWdvfGZyb20gbm93KSk/JC9pO1xuZXhwb3J0IGRlZmF1bHQgKHN0cikgPT4ge1xuICAgIGNvbnN0IG1hdGNoZWQgPSBSRUdFWC5leGVjKHN0cik7XG4gICAgaWYgKCFtYXRjaGVkIHx8IChtYXRjaGVkWzRdICYmIG1hdGNoZWRbMV0pKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgdGltZSBwZXJpb2QgZm9ybWF0Jyk7XG4gICAgfVxuICAgIGNvbnN0IHZhbHVlID0gcGFyc2VGbG9hdChtYXRjaGVkWzJdKTtcbiAgICBjb25zdCB1bml0ID0gbWF0Y2hlZFszXS50b0xvd2VyQ2FzZSgpO1xuICAgIGxldCBudW1lcmljRGF0ZTtcbiAgICBzd2l0Y2ggKHVuaXQpIHtcbiAgICAgICAgY2FzZSAnc2VjJzpcbiAgICAgICAgY2FzZSAnc2Vjcyc6XG4gICAgICAgIGNhc2UgJ3NlY29uZCc6XG4gICAgICAgIGNhc2UgJ3NlY29uZHMnOlxuICAgICAgICBjYXNlICdzJzpcbiAgICAgICAgICAgIG51bWVyaWNEYXRlID0gTWF0aC5yb3VuZCh2YWx1ZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnbWludXRlJzpcbiAgICAgICAgY2FzZSAnbWludXRlcyc6XG4gICAgICAgIGNhc2UgJ21pbic6XG4gICAgICAgIGNhc2UgJ21pbnMnOlxuICAgICAgICBjYXNlICdtJzpcbiAgICAgICAgICAgIG51bWVyaWNEYXRlID0gTWF0aC5yb3VuZCh2YWx1ZSAqIG1pbnV0ZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnaG91cic6XG4gICAgICAgIGNhc2UgJ2hvdXJzJzpcbiAgICAgICAgY2FzZSAnaHInOlxuICAgICAgICBjYXNlICdocnMnOlxuICAgICAgICBjYXNlICdoJzpcbiAgICAgICAgICAgIG51bWVyaWNEYXRlID0gTWF0aC5yb3VuZCh2YWx1ZSAqIGhvdXIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2RheSc6XG4gICAgICAgIGNhc2UgJ2RheXMnOlxuICAgICAgICBjYXNlICdkJzpcbiAgICAgICAgICAgIG51bWVyaWNEYXRlID0gTWF0aC5yb3VuZCh2YWx1ZSAqIGRheSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnd2Vlayc6XG4gICAgICAgIGNhc2UgJ3dlZWtzJzpcbiAgICAgICAgY2FzZSAndyc6XG4gICAgICAgICAgICBudW1lcmljRGF0ZSA9IE1hdGgucm91bmQodmFsdWUgKiB3ZWVrKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgbnVtZXJpY0RhdGUgPSBNYXRoLnJvdW5kKHZhbHVlICogeWVhcik7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgaWYgKG1hdGNoZWRbMV0gPT09ICctJyB8fCBtYXRjaGVkWzRdID09PSAnYWdvJykge1xuICAgICAgICByZXR1cm4gLW51bWVyaWNEYXRlO1xuICAgIH1cbiAgICByZXR1cm4gbnVtZXJpY0RhdGU7XG59O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/lib/secs.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/lib/sign.js":
/*!***************************************************!*\
  !*** ./node_modules/jose/dist/webapi/lib/sign.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _subtle_dsa_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./subtle_dsa.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/subtle_dsa.js\");\n/* harmony import */ var _check_key_length_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./check_key_length.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/check_key_length.js\");\n/* harmony import */ var _get_sign_verify_key_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./get_sign_verify_key.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/get_sign_verify_key.js\");\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (async (alg, key, data) => {\n    const cryptoKey = await (0,_get_sign_verify_key_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(alg, key, 'sign');\n    (0,_check_key_length_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(alg, cryptoKey);\n    const signature = await crypto.subtle.sign((0,_subtle_dsa_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(alg, cryptoKey.algorithm), cryptoKey, data);\n    return new Uint8Array(signature);\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvbGliL3NpZ24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUE4QztBQUNLO0FBQ0Q7QUFDbEQsaUVBQWU7QUFDZiw0QkFBNEIsbUVBQVU7QUFDdEMsSUFBSSxnRUFBYztBQUNsQiwrQ0FBK0MsMERBQWU7QUFDOUQ7QUFDQSxDQUFDLEVBQUMiLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXGpvc2VcXGRpc3RcXHdlYmFwaVxcbGliXFxzaWduLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzdWJ0bGVBbGdvcml0aG0gZnJvbSAnLi9zdWJ0bGVfZHNhLmpzJztcbmltcG9ydCBjaGVja0tleUxlbmd0aCBmcm9tICcuL2NoZWNrX2tleV9sZW5ndGguanMnO1xuaW1wb3J0IGdldFNpZ25LZXkgZnJvbSAnLi9nZXRfc2lnbl92ZXJpZnlfa2V5LmpzJztcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIChhbGcsIGtleSwgZGF0YSkgPT4ge1xuICAgIGNvbnN0IGNyeXB0b0tleSA9IGF3YWl0IGdldFNpZ25LZXkoYWxnLCBrZXksICdzaWduJyk7XG4gICAgY2hlY2tLZXlMZW5ndGgoYWxnLCBjcnlwdG9LZXkpO1xuICAgIGNvbnN0IHNpZ25hdHVyZSA9IGF3YWl0IGNyeXB0by5zdWJ0bGUuc2lnbihzdWJ0bGVBbGdvcml0aG0oYWxnLCBjcnlwdG9LZXkuYWxnb3JpdGhtKSwgY3J5cHRvS2V5LCBkYXRhKTtcbiAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoc2lnbmF0dXJlKTtcbn07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/lib/sign.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/lib/subtle_dsa.js":
/*!*********************************************************!*\
  !*** ./node_modules/jose/dist/webapi/lib/subtle_dsa.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _util_errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/errors.js */ \"(middleware)/./node_modules/jose/dist/webapi/util/errors.js\");\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((alg, algorithm) => {\n    const hash = `SHA-${alg.slice(-3)}`;\n    switch (alg) {\n        case 'HS256':\n        case 'HS384':\n        case 'HS512':\n            return { hash, name: 'HMAC' };\n        case 'PS256':\n        case 'PS384':\n        case 'PS512':\n            return { hash, name: 'RSA-PSS', saltLength: parseInt(alg.slice(-3), 10) >> 3 };\n        case 'RS256':\n        case 'RS384':\n        case 'RS512':\n            return { hash, name: 'RSASSA-PKCS1-v1_5' };\n        case 'ES256':\n        case 'ES384':\n        case 'ES512':\n            return { hash, name: 'ECDSA', namedCurve: algorithm.namedCurve };\n        case 'Ed25519':\n        case 'EdDSA':\n            return { name: 'Ed25519' };\n        case 'ML-DSA-44':\n        case 'ML-DSA-65':\n        case 'ML-DSA-87':\n            return { name: alg };\n        default:\n            throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JOSENotSupported(`alg ${alg} is not supported either by JOSE or your javascript runtime`);\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvbGliL3N1YnRsZV9kc2EuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBcUQ7QUFDckQsaUVBQWU7QUFDZix3QkFBd0IsY0FBYztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLHNCQUFzQiw2REFBZ0IsUUFBUSxLQUFLO0FBQ25EO0FBQ0EsQ0FBQyxFQUFDIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxqb3NlXFxkaXN0XFx3ZWJhcGlcXGxpYlxcc3VidGxlX2RzYS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBKT1NFTm90U3VwcG9ydGVkIH0gZnJvbSAnLi4vdXRpbC9lcnJvcnMuanMnO1xuZXhwb3J0IGRlZmF1bHQgKGFsZywgYWxnb3JpdGhtKSA9PiB7XG4gICAgY29uc3QgaGFzaCA9IGBTSEEtJHthbGcuc2xpY2UoLTMpfWA7XG4gICAgc3dpdGNoIChhbGcpIHtcbiAgICAgICAgY2FzZSAnSFMyNTYnOlxuICAgICAgICBjYXNlICdIUzM4NCc6XG4gICAgICAgIGNhc2UgJ0hTNTEyJzpcbiAgICAgICAgICAgIHJldHVybiB7IGhhc2gsIG5hbWU6ICdITUFDJyB9O1xuICAgICAgICBjYXNlICdQUzI1Nic6XG4gICAgICAgIGNhc2UgJ1BTMzg0JzpcbiAgICAgICAgY2FzZSAnUFM1MTInOlxuICAgICAgICAgICAgcmV0dXJuIHsgaGFzaCwgbmFtZTogJ1JTQS1QU1MnLCBzYWx0TGVuZ3RoOiBwYXJzZUludChhbGcuc2xpY2UoLTMpLCAxMCkgPj4gMyB9O1xuICAgICAgICBjYXNlICdSUzI1Nic6XG4gICAgICAgIGNhc2UgJ1JTMzg0JzpcbiAgICAgICAgY2FzZSAnUlM1MTInOlxuICAgICAgICAgICAgcmV0dXJuIHsgaGFzaCwgbmFtZTogJ1JTQVNTQS1QS0NTMS12MV81JyB9O1xuICAgICAgICBjYXNlICdFUzI1Nic6XG4gICAgICAgIGNhc2UgJ0VTMzg0JzpcbiAgICAgICAgY2FzZSAnRVM1MTInOlxuICAgICAgICAgICAgcmV0dXJuIHsgaGFzaCwgbmFtZTogJ0VDRFNBJywgbmFtZWRDdXJ2ZTogYWxnb3JpdGhtLm5hbWVkQ3VydmUgfTtcbiAgICAgICAgY2FzZSAnRWQyNTUxOSc6XG4gICAgICAgIGNhc2UgJ0VkRFNBJzpcbiAgICAgICAgICAgIHJldHVybiB7IG5hbWU6ICdFZDI1NTE5JyB9O1xuICAgICAgICBjYXNlICdNTC1EU0EtNDQnOlxuICAgICAgICBjYXNlICdNTC1EU0EtNjUnOlxuICAgICAgICBjYXNlICdNTC1EU0EtODcnOlxuICAgICAgICAgICAgcmV0dXJuIHsgbmFtZTogYWxnIH07XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgSk9TRU5vdFN1cHBvcnRlZChgYWxnICR7YWxnfSBpcyBub3Qgc3VwcG9ydGVkIGVpdGhlciBieSBKT1NFIG9yIHlvdXIgamF2YXNjcmlwdCBydW50aW1lYCk7XG4gICAgfVxufTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/lib/subtle_dsa.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/lib/validate_algorithms.js":
/*!******************************************************************!*\
  !*** ./node_modules/jose/dist/webapi/lib/validate_algorithms.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((option, algorithms) => {\n    if (algorithms !== undefined &&\n        (!Array.isArray(algorithms) || algorithms.some((s) => typeof s !== 'string'))) {\n        throw new TypeError(`\"${option}\" option must be an array of strings`);\n    }\n    if (!algorithms) {\n        return undefined;\n    }\n    return new Set(algorithms);\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvbGliL3ZhbGlkYXRlX2FsZ29yaXRobXMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlFQUFlO0FBQ2Y7QUFDQTtBQUNBLGdDQUFnQyxPQUFPO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEVBQUMiLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXGpvc2VcXGRpc3RcXHdlYmFwaVxcbGliXFx2YWxpZGF0ZV9hbGdvcml0aG1zLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IChvcHRpb24sIGFsZ29yaXRobXMpID0+IHtcbiAgICBpZiAoYWxnb3JpdGhtcyAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICghQXJyYXkuaXNBcnJheShhbGdvcml0aG1zKSB8fCBhbGdvcml0aG1zLnNvbWUoKHMpID0+IHR5cGVvZiBzICE9PSAnc3RyaW5nJykpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFwiJHtvcHRpb259XCIgb3B0aW9uIG11c3QgYmUgYW4gYXJyYXkgb2Ygc3RyaW5nc2ApO1xuICAgIH1cbiAgICBpZiAoIWFsZ29yaXRobXMpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBTZXQoYWxnb3JpdGhtcyk7XG59O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/lib/validate_algorithms.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/lib/validate_crit.js":
/*!************************************************************!*\
  !*** ./node_modules/jose/dist/webapi/lib/validate_crit.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _util_errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/errors.js */ \"(middleware)/./node_modules/jose/dist/webapi/util/errors.js\");\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((Err, recognizedDefault, recognizedOption, protectedHeader, joseHeader) => {\n    if (joseHeader.crit !== undefined && protectedHeader?.crit === undefined) {\n        throw new Err('\"crit\" (Critical) Header Parameter MUST be integrity protected');\n    }\n    if (!protectedHeader || protectedHeader.crit === undefined) {\n        return new Set();\n    }\n    if (!Array.isArray(protectedHeader.crit) ||\n        protectedHeader.crit.length === 0 ||\n        protectedHeader.crit.some((input) => typeof input !== 'string' || input.length === 0)) {\n        throw new Err('\"crit\" (Critical) Header Parameter MUST be an array of non-empty strings when present');\n    }\n    let recognized;\n    if (recognizedOption !== undefined) {\n        recognized = new Map([...Object.entries(recognizedOption), ...recognizedDefault.entries()]);\n    }\n    else {\n        recognized = recognizedDefault;\n    }\n    for (const parameter of protectedHeader.crit) {\n        if (!recognized.has(parameter)) {\n            throw new _util_errors_js__WEBPACK_IMPORTED_MODULE_0__.JOSENotSupported(`Extension Header Parameter \"${parameter}\" is not recognized`);\n        }\n        if (joseHeader[parameter] === undefined) {\n            throw new Err(`Extension Header Parameter \"${parameter}\" is missing`);\n        }\n        if (recognized.get(parameter) && protectedHeader[parameter] === undefined) {\n            throw new Err(`Extension Header Parameter \"${parameter}\" MUST be integrity protected`);\n        }\n    }\n    return new Set(protectedHeader.crit);\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvbGliL3ZhbGlkYXRlX2NyaXQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBNkU7QUFDN0UsaUVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDZEQUFnQixnQ0FBZ0MsVUFBVTtBQUNoRjtBQUNBO0FBQ0EseURBQXlELFVBQVU7QUFDbkU7QUFDQTtBQUNBLHlEQUF5RCxVQUFVO0FBQ25FO0FBQ0E7QUFDQTtBQUNBLENBQUMsRUFBQyIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcam9zZVxcZGlzdFxcd2ViYXBpXFxsaWJcXHZhbGlkYXRlX2NyaXQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSk9TRU5vdFN1cHBvcnRlZCwgSldFSW52YWxpZCwgSldTSW52YWxpZCB9IGZyb20gJy4uL3V0aWwvZXJyb3JzLmpzJztcbmV4cG9ydCBkZWZhdWx0IChFcnIsIHJlY29nbml6ZWREZWZhdWx0LCByZWNvZ25pemVkT3B0aW9uLCBwcm90ZWN0ZWRIZWFkZXIsIGpvc2VIZWFkZXIpID0+IHtcbiAgICBpZiAoam9zZUhlYWRlci5jcml0ICE9PSB1bmRlZmluZWQgJiYgcHJvdGVjdGVkSGVhZGVyPy5jcml0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycignXCJjcml0XCIgKENyaXRpY2FsKSBIZWFkZXIgUGFyYW1ldGVyIE1VU1QgYmUgaW50ZWdyaXR5IHByb3RlY3RlZCcpO1xuICAgIH1cbiAgICBpZiAoIXByb3RlY3RlZEhlYWRlciB8fCBwcm90ZWN0ZWRIZWFkZXIuY3JpdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2V0KCk7XG4gICAgfVxuICAgIGlmICghQXJyYXkuaXNBcnJheShwcm90ZWN0ZWRIZWFkZXIuY3JpdCkgfHxcbiAgICAgICAgcHJvdGVjdGVkSGVhZGVyLmNyaXQubGVuZ3RoID09PSAwIHx8XG4gICAgICAgIHByb3RlY3RlZEhlYWRlci5jcml0LnNvbWUoKGlucHV0KSA9PiB0eXBlb2YgaW5wdXQgIT09ICdzdHJpbmcnIHx8IGlucHV0Lmxlbmd0aCA9PT0gMCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycignXCJjcml0XCIgKENyaXRpY2FsKSBIZWFkZXIgUGFyYW1ldGVyIE1VU1QgYmUgYW4gYXJyYXkgb2Ygbm9uLWVtcHR5IHN0cmluZ3Mgd2hlbiBwcmVzZW50Jyk7XG4gICAgfVxuICAgIGxldCByZWNvZ25pemVkO1xuICAgIGlmIChyZWNvZ25pemVkT3B0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmVjb2duaXplZCA9IG5ldyBNYXAoWy4uLk9iamVjdC5lbnRyaWVzKHJlY29nbml6ZWRPcHRpb24pLCAuLi5yZWNvZ25pemVkRGVmYXVsdC5lbnRyaWVzKCldKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJlY29nbml6ZWQgPSByZWNvZ25pemVkRGVmYXVsdDtcbiAgICB9XG4gICAgZm9yIChjb25zdCBwYXJhbWV0ZXIgb2YgcHJvdGVjdGVkSGVhZGVyLmNyaXQpIHtcbiAgICAgICAgaWYgKCFyZWNvZ25pemVkLmhhcyhwYXJhbWV0ZXIpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSk9TRU5vdFN1cHBvcnRlZChgRXh0ZW5zaW9uIEhlYWRlciBQYXJhbWV0ZXIgXCIke3BhcmFtZXRlcn1cIiBpcyBub3QgcmVjb2duaXplZGApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChqb3NlSGVhZGVyW3BhcmFtZXRlcl0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycihgRXh0ZW5zaW9uIEhlYWRlciBQYXJhbWV0ZXIgXCIke3BhcmFtZXRlcn1cIiBpcyBtaXNzaW5nYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlY29nbml6ZWQuZ2V0KHBhcmFtZXRlcikgJiYgcHJvdGVjdGVkSGVhZGVyW3BhcmFtZXRlcl0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycihgRXh0ZW5zaW9uIEhlYWRlciBQYXJhbWV0ZXIgXCIke3BhcmFtZXRlcn1cIiBNVVNUIGJlIGludGVncml0eSBwcm90ZWN0ZWRgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3IFNldChwcm90ZWN0ZWRIZWFkZXIuY3JpdCk7XG59O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/lib/validate_crit.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/lib/verify.js":
/*!*****************************************************!*\
  !*** ./node_modules/jose/dist/webapi/lib/verify.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _subtle_dsa_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./subtle_dsa.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/subtle_dsa.js\");\n/* harmony import */ var _check_key_length_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./check_key_length.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/check_key_length.js\");\n/* harmony import */ var _get_sign_verify_key_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./get_sign_verify_key.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/get_sign_verify_key.js\");\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (async (alg, key, signature, data) => {\n    const cryptoKey = await (0,_get_sign_verify_key_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(alg, key, 'verify');\n    (0,_check_key_length_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(alg, cryptoKey);\n    const algorithm = (0,_subtle_dsa_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(alg, cryptoKey.algorithm);\n    try {\n        return await crypto.subtle.verify(algorithm, cryptoKey, signature, data);\n    }\n    catch {\n        return false;\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvbGliL3ZlcmlmeS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQThDO0FBQ0s7QUFDQztBQUNwRCxpRUFBZTtBQUNmLDRCQUE0QixtRUFBWTtBQUN4QyxJQUFJLGdFQUFjO0FBQ2xCLHNCQUFzQiwwREFBZTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEVBQUMiLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXGpvc2VcXGRpc3RcXHdlYmFwaVxcbGliXFx2ZXJpZnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHN1YnRsZUFsZ29yaXRobSBmcm9tICcuL3N1YnRsZV9kc2EuanMnO1xuaW1wb3J0IGNoZWNrS2V5TGVuZ3RoIGZyb20gJy4vY2hlY2tfa2V5X2xlbmd0aC5qcyc7XG5pbXBvcnQgZ2V0VmVyaWZ5S2V5IGZyb20gJy4vZ2V0X3NpZ25fdmVyaWZ5X2tleS5qcyc7XG5leHBvcnQgZGVmYXVsdCBhc3luYyAoYWxnLCBrZXksIHNpZ25hdHVyZSwgZGF0YSkgPT4ge1xuICAgIGNvbnN0IGNyeXB0b0tleSA9IGF3YWl0IGdldFZlcmlmeUtleShhbGcsIGtleSwgJ3ZlcmlmeScpO1xuICAgIGNoZWNrS2V5TGVuZ3RoKGFsZywgY3J5cHRvS2V5KTtcbiAgICBjb25zdCBhbGdvcml0aG0gPSBzdWJ0bGVBbGdvcml0aG0oYWxnLCBjcnlwdG9LZXkuYWxnb3JpdGhtKTtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gYXdhaXQgY3J5cHRvLnN1YnRsZS52ZXJpZnkoYWxnb3JpdGhtLCBjcnlwdG9LZXksIHNpZ25hdHVyZSwgZGF0YSk7XG4gICAgfVxuICAgIGNhdGNoIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/lib/verify.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/util/base64url.js":
/*!*********************************************************!*\
  !*** ./node_modules/jose/dist/webapi/util/base64url.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   decode: () => (/* binding */ decode),\n/* harmony export */   encode: () => (/* binding */ encode)\n/* harmony export */ });\n/* harmony import */ var _lib_buffer_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/buffer_utils.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/buffer_utils.js\");\n/* harmony import */ var _lib_base64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/base64.js */ \"(middleware)/./node_modules/jose/dist/webapi/lib/base64.js\");\n\n\nfunction decode(input) {\n    if (Uint8Array.fromBase64) {\n        return Uint8Array.fromBase64(typeof input === 'string' ? input : _lib_buffer_utils_js__WEBPACK_IMPORTED_MODULE_0__.decoder.decode(input), {\n            alphabet: 'base64url',\n        });\n    }\n    let encoded = input;\n    if (encoded instanceof Uint8Array) {\n        encoded = _lib_buffer_utils_js__WEBPACK_IMPORTED_MODULE_0__.decoder.decode(encoded);\n    }\n    encoded = encoded.replace(/-/g, '+').replace(/_/g, '/').replace(/\\s/g, '');\n    try {\n        return (0,_lib_base64_js__WEBPACK_IMPORTED_MODULE_1__.decodeBase64)(encoded);\n    }\n    catch {\n        throw new TypeError('The input to be decoded is not correctly encoded.');\n    }\n}\nfunction encode(input) {\n    let unencoded = input;\n    if (typeof unencoded === 'string') {\n        unencoded = _lib_buffer_utils_js__WEBPACK_IMPORTED_MODULE_0__.encoder.encode(unencoded);\n    }\n    if (Uint8Array.prototype.toBase64) {\n        return unencoded.toBase64({ alphabet: 'base64url', omitPadding: true });\n    }\n    return (0,_lib_base64_js__WEBPACK_IMPORTED_MODULE_1__.encodeBase64)(unencoded).replace(/=/g, '').replace(/\\+/g, '-').replace(/\\//g, '_');\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvdXRpbC9iYXNlNjR1cmwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUEwRDtBQUNJO0FBQ3ZEO0FBQ1A7QUFDQSx5RUFBeUUseURBQU87QUFDaEY7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHlEQUFPO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLGVBQWUsNERBQVk7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLG9CQUFvQix5REFBTztBQUMzQjtBQUNBO0FBQ0Esb0NBQW9DLDBDQUEwQztBQUM5RTtBQUNBLFdBQVcsNERBQVk7QUFDdkIiLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXGpvc2VcXGRpc3RcXHdlYmFwaVxcdXRpbFxcYmFzZTY0dXJsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGVuY29kZXIsIGRlY29kZXIgfSBmcm9tICcuLi9saWIvYnVmZmVyX3V0aWxzLmpzJztcbmltcG9ydCB7IGVuY29kZUJhc2U2NCwgZGVjb2RlQmFzZTY0IH0gZnJvbSAnLi4vbGliL2Jhc2U2NC5qcyc7XG5leHBvcnQgZnVuY3Rpb24gZGVjb2RlKGlucHV0KSB7XG4gICAgaWYgKFVpbnQ4QXJyYXkuZnJvbUJhc2U2NCkge1xuICAgICAgICByZXR1cm4gVWludDhBcnJheS5mcm9tQmFzZTY0KHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycgPyBpbnB1dCA6IGRlY29kZXIuZGVjb2RlKGlucHV0KSwge1xuICAgICAgICAgICAgYWxwaGFiZXQ6ICdiYXNlNjR1cmwnLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbGV0IGVuY29kZWQgPSBpbnB1dDtcbiAgICBpZiAoZW5jb2RlZCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgZW5jb2RlZCA9IGRlY29kZXIuZGVjb2RlKGVuY29kZWQpO1xuICAgIH1cbiAgICBlbmNvZGVkID0gZW5jb2RlZC5yZXBsYWNlKC8tL2csICcrJykucmVwbGFjZSgvXy9nLCAnLycpLnJlcGxhY2UoL1xccy9nLCAnJyk7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGRlY29kZUJhc2U2NChlbmNvZGVkKTtcbiAgICB9XG4gICAgY2F0Y2gge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgaW5wdXQgdG8gYmUgZGVjb2RlZCBpcyBub3QgY29ycmVjdGx5IGVuY29kZWQuJyk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGVuY29kZShpbnB1dCkge1xuICAgIGxldCB1bmVuY29kZWQgPSBpbnB1dDtcbiAgICBpZiAodHlwZW9mIHVuZW5jb2RlZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdW5lbmNvZGVkID0gZW5jb2Rlci5lbmNvZGUodW5lbmNvZGVkKTtcbiAgICB9XG4gICAgaWYgKFVpbnQ4QXJyYXkucHJvdG90eXBlLnRvQmFzZTY0KSB7XG4gICAgICAgIHJldHVybiB1bmVuY29kZWQudG9CYXNlNjQoeyBhbHBoYWJldDogJ2Jhc2U2NHVybCcsIG9taXRQYWRkaW5nOiB0cnVlIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW5jb2RlQmFzZTY0KHVuZW5jb2RlZCkucmVwbGFjZSgvPS9nLCAnJykucmVwbGFjZSgvXFwrL2csICctJykucmVwbGFjZSgvXFwvL2csICdfJyk7XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/util/base64url.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/jose/dist/webapi/util/errors.js":
/*!******************************************************!*\
  !*** ./node_modules/jose/dist/webapi/util/errors.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JOSEAlgNotAllowed: () => (/* binding */ JOSEAlgNotAllowed),\n/* harmony export */   JOSEError: () => (/* binding */ JOSEError),\n/* harmony export */   JOSENotSupported: () => (/* binding */ JOSENotSupported),\n/* harmony export */   JWEDecryptionFailed: () => (/* binding */ JWEDecryptionFailed),\n/* harmony export */   JWEInvalid: () => (/* binding */ JWEInvalid),\n/* harmony export */   JWKInvalid: () => (/* binding */ JWKInvalid),\n/* harmony export */   JWKSInvalid: () => (/* binding */ JWKSInvalid),\n/* harmony export */   JWKSMultipleMatchingKeys: () => (/* binding */ JWKSMultipleMatchingKeys),\n/* harmony export */   JWKSNoMatchingKey: () => (/* binding */ JWKSNoMatchingKey),\n/* harmony export */   JWKSTimeout: () => (/* binding */ JWKSTimeout),\n/* harmony export */   JWSInvalid: () => (/* binding */ JWSInvalid),\n/* harmony export */   JWSSignatureVerificationFailed: () => (/* binding */ JWSSignatureVerificationFailed),\n/* harmony export */   JWTClaimValidationFailed: () => (/* binding */ JWTClaimValidationFailed),\n/* harmony export */   JWTExpired: () => (/* binding */ JWTExpired),\n/* harmony export */   JWTInvalid: () => (/* binding */ JWTInvalid)\n/* harmony export */ });\nclass JOSEError extends Error {\n    static code = 'ERR_JOSE_GENERIC';\n    code = 'ERR_JOSE_GENERIC';\n    constructor(message, options) {\n        super(message, options);\n        this.name = this.constructor.name;\n        Error.captureStackTrace?.(this, this.constructor);\n    }\n}\nclass JWTClaimValidationFailed extends JOSEError {\n    static code = 'ERR_JWT_CLAIM_VALIDATION_FAILED';\n    code = 'ERR_JWT_CLAIM_VALIDATION_FAILED';\n    claim;\n    reason;\n    payload;\n    constructor(message, payload, claim = 'unspecified', reason = 'unspecified') {\n        super(message, { cause: { claim, reason, payload } });\n        this.claim = claim;\n        this.reason = reason;\n        this.payload = payload;\n    }\n}\nclass JWTExpired extends JOSEError {\n    static code = 'ERR_JWT_EXPIRED';\n    code = 'ERR_JWT_EXPIRED';\n    claim;\n    reason;\n    payload;\n    constructor(message, payload, claim = 'unspecified', reason = 'unspecified') {\n        super(message, { cause: { claim, reason, payload } });\n        this.claim = claim;\n        this.reason = reason;\n        this.payload = payload;\n    }\n}\nclass JOSEAlgNotAllowed extends JOSEError {\n    static code = 'ERR_JOSE_ALG_NOT_ALLOWED';\n    code = 'ERR_JOSE_ALG_NOT_ALLOWED';\n}\nclass JOSENotSupported extends JOSEError {\n    static code = 'ERR_JOSE_NOT_SUPPORTED';\n    code = 'ERR_JOSE_NOT_SUPPORTED';\n}\nclass JWEDecryptionFailed extends JOSEError {\n    static code = 'ERR_JWE_DECRYPTION_FAILED';\n    code = 'ERR_JWE_DECRYPTION_FAILED';\n    constructor(message = 'decryption operation failed', options) {\n        super(message, options);\n    }\n}\nclass JWEInvalid extends JOSEError {\n    static code = 'ERR_JWE_INVALID';\n    code = 'ERR_JWE_INVALID';\n}\nclass JWSInvalid extends JOSEError {\n    static code = 'ERR_JWS_INVALID';\n    code = 'ERR_JWS_INVALID';\n}\nclass JWTInvalid extends JOSEError {\n    static code = 'ERR_JWT_INVALID';\n    code = 'ERR_JWT_INVALID';\n}\nclass JWKInvalid extends JOSEError {\n    static code = 'ERR_JWK_INVALID';\n    code = 'ERR_JWK_INVALID';\n}\nclass JWKSInvalid extends JOSEError {\n    static code = 'ERR_JWKS_INVALID';\n    code = 'ERR_JWKS_INVALID';\n}\nclass JWKSNoMatchingKey extends JOSEError {\n    static code = 'ERR_JWKS_NO_MATCHING_KEY';\n    code = 'ERR_JWKS_NO_MATCHING_KEY';\n    constructor(message = 'no applicable key found in the JSON Web Key Set', options) {\n        super(message, options);\n    }\n}\nclass JWKSMultipleMatchingKeys extends JOSEError {\n    [Symbol.asyncIterator];\n    static code = 'ERR_JWKS_MULTIPLE_MATCHING_KEYS';\n    code = 'ERR_JWKS_MULTIPLE_MATCHING_KEYS';\n    constructor(message = 'multiple matching keys found in the JSON Web Key Set', options) {\n        super(message, options);\n    }\n}\nclass JWKSTimeout extends JOSEError {\n    static code = 'ERR_JWKS_TIMEOUT';\n    code = 'ERR_JWKS_TIMEOUT';\n    constructor(message = 'request timed out', options) {\n        super(message, options);\n    }\n}\nclass JWSSignatureVerificationFailed extends JOSEError {\n    static code = 'ERR_JWS_SIGNATURE_VERIFICATION_FAILED';\n    code = 'ERR_JWS_SIGNATURE_VERIFICATION_FAILED';\n    constructor(message = 'signature verification failed', options) {\n        super(message, options);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2pvc2UvZGlzdC93ZWJhcGkvdXRpbC9lcnJvcnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsU0FBUywwQkFBMEI7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLFNBQVMsMEJBQTBCO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcam9zZVxcZGlzdFxcd2ViYXBpXFx1dGlsXFxlcnJvcnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIEpPU0VFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBzdGF0aWMgY29kZSA9ICdFUlJfSk9TRV9HRU5FUklDJztcbiAgICBjb2RlID0gJ0VSUl9KT1NFX0dFTkVSSUMnO1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMubmFtZSA9IHRoaXMuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2U/Lih0aGlzLCB0aGlzLmNvbnN0cnVjdG9yKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSldUQ2xhaW1WYWxpZGF0aW9uRmFpbGVkIGV4dGVuZHMgSk9TRUVycm9yIHtcbiAgICBzdGF0aWMgY29kZSA9ICdFUlJfSldUX0NMQUlNX1ZBTElEQVRJT05fRkFJTEVEJztcbiAgICBjb2RlID0gJ0VSUl9KV1RfQ0xBSU1fVkFMSURBVElPTl9GQUlMRUQnO1xuICAgIGNsYWltO1xuICAgIHJlYXNvbjtcbiAgICBwYXlsb2FkO1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHBheWxvYWQsIGNsYWltID0gJ3Vuc3BlY2lmaWVkJywgcmVhc29uID0gJ3Vuc3BlY2lmaWVkJykge1xuICAgICAgICBzdXBlcihtZXNzYWdlLCB7IGNhdXNlOiB7IGNsYWltLCByZWFzb24sIHBheWxvYWQgfSB9KTtcbiAgICAgICAgdGhpcy5jbGFpbSA9IGNsYWltO1xuICAgICAgICB0aGlzLnJlYXNvbiA9IHJlYXNvbjtcbiAgICAgICAgdGhpcy5wYXlsb2FkID0gcGF5bG9hZDtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSldURXhwaXJlZCBleHRlbmRzIEpPU0VFcnJvciB7XG4gICAgc3RhdGljIGNvZGUgPSAnRVJSX0pXVF9FWFBJUkVEJztcbiAgICBjb2RlID0gJ0VSUl9KV1RfRVhQSVJFRCc7XG4gICAgY2xhaW07XG4gICAgcmVhc29uO1xuICAgIHBheWxvYWQ7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgcGF5bG9hZCwgY2xhaW0gPSAndW5zcGVjaWZpZWQnLCByZWFzb24gPSAndW5zcGVjaWZpZWQnKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UsIHsgY2F1c2U6IHsgY2xhaW0sIHJlYXNvbiwgcGF5bG9hZCB9IH0pO1xuICAgICAgICB0aGlzLmNsYWltID0gY2xhaW07XG4gICAgICAgIHRoaXMucmVhc29uID0gcmVhc29uO1xuICAgICAgICB0aGlzLnBheWxvYWQgPSBwYXlsb2FkO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBKT1NFQWxnTm90QWxsb3dlZCBleHRlbmRzIEpPU0VFcnJvciB7XG4gICAgc3RhdGljIGNvZGUgPSAnRVJSX0pPU0VfQUxHX05PVF9BTExPV0VEJztcbiAgICBjb2RlID0gJ0VSUl9KT1NFX0FMR19OT1RfQUxMT1dFRCc7XG59XG5leHBvcnQgY2xhc3MgSk9TRU5vdFN1cHBvcnRlZCBleHRlbmRzIEpPU0VFcnJvciB7XG4gICAgc3RhdGljIGNvZGUgPSAnRVJSX0pPU0VfTk9UX1NVUFBPUlRFRCc7XG4gICAgY29kZSA9ICdFUlJfSk9TRV9OT1RfU1VQUE9SVEVEJztcbn1cbmV4cG9ydCBjbGFzcyBKV0VEZWNyeXB0aW9uRmFpbGVkIGV4dGVuZHMgSk9TRUVycm9yIHtcbiAgICBzdGF0aWMgY29kZSA9ICdFUlJfSldFX0RFQ1JZUFRJT05fRkFJTEVEJztcbiAgICBjb2RlID0gJ0VSUl9KV0VfREVDUllQVElPTl9GQUlMRUQnO1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UgPSAnZGVjcnlwdGlvbiBvcGVyYXRpb24gZmFpbGVkJywgb3B0aW9ucykge1xuICAgICAgICBzdXBlcihtZXNzYWdlLCBvcHRpb25zKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSldFSW52YWxpZCBleHRlbmRzIEpPU0VFcnJvciB7XG4gICAgc3RhdGljIGNvZGUgPSAnRVJSX0pXRV9JTlZBTElEJztcbiAgICBjb2RlID0gJ0VSUl9KV0VfSU5WQUxJRCc7XG59XG5leHBvcnQgY2xhc3MgSldTSW52YWxpZCBleHRlbmRzIEpPU0VFcnJvciB7XG4gICAgc3RhdGljIGNvZGUgPSAnRVJSX0pXU19JTlZBTElEJztcbiAgICBjb2RlID0gJ0VSUl9KV1NfSU5WQUxJRCc7XG59XG5leHBvcnQgY2xhc3MgSldUSW52YWxpZCBleHRlbmRzIEpPU0VFcnJvciB7XG4gICAgc3RhdGljIGNvZGUgPSAnRVJSX0pXVF9JTlZBTElEJztcbiAgICBjb2RlID0gJ0VSUl9KV1RfSU5WQUxJRCc7XG59XG5leHBvcnQgY2xhc3MgSldLSW52YWxpZCBleHRlbmRzIEpPU0VFcnJvciB7XG4gICAgc3RhdGljIGNvZGUgPSAnRVJSX0pXS19JTlZBTElEJztcbiAgICBjb2RlID0gJ0VSUl9KV0tfSU5WQUxJRCc7XG59XG5leHBvcnQgY2xhc3MgSldLU0ludmFsaWQgZXh0ZW5kcyBKT1NFRXJyb3Ige1xuICAgIHN0YXRpYyBjb2RlID0gJ0VSUl9KV0tTX0lOVkFMSUQnO1xuICAgIGNvZGUgPSAnRVJSX0pXS1NfSU5WQUxJRCc7XG59XG5leHBvcnQgY2xhc3MgSldLU05vTWF0Y2hpbmdLZXkgZXh0ZW5kcyBKT1NFRXJyb3Ige1xuICAgIHN0YXRpYyBjb2RlID0gJ0VSUl9KV0tTX05PX01BVENISU5HX0tFWSc7XG4gICAgY29kZSA9ICdFUlJfSldLU19OT19NQVRDSElOR19LRVknO1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UgPSAnbm8gYXBwbGljYWJsZSBrZXkgZm91bmQgaW4gdGhlIEpTT04gV2ViIEtleSBTZXQnLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UsIG9wdGlvbnMpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBKV0tTTXVsdGlwbGVNYXRjaGluZ0tleXMgZXh0ZW5kcyBKT1NFRXJyb3Ige1xuICAgIFtTeW1ib2wuYXN5bmNJdGVyYXRvcl07XG4gICAgc3RhdGljIGNvZGUgPSAnRVJSX0pXS1NfTVVMVElQTEVfTUFUQ0hJTkdfS0VZUyc7XG4gICAgY29kZSA9ICdFUlJfSldLU19NVUxUSVBMRV9NQVRDSElOR19LRVlTJztcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlID0gJ211bHRpcGxlIG1hdGNoaW5nIGtleXMgZm91bmQgaW4gdGhlIEpTT04gV2ViIEtleSBTZXQnLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UsIG9wdGlvbnMpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBKV0tTVGltZW91dCBleHRlbmRzIEpPU0VFcnJvciB7XG4gICAgc3RhdGljIGNvZGUgPSAnRVJSX0pXS1NfVElNRU9VVCc7XG4gICAgY29kZSA9ICdFUlJfSldLU19USU1FT1VUJztcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlID0gJ3JlcXVlc3QgdGltZWQgb3V0Jywgb3B0aW9ucykge1xuICAgICAgICBzdXBlcihtZXNzYWdlLCBvcHRpb25zKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSldTU2lnbmF0dXJlVmVyaWZpY2F0aW9uRmFpbGVkIGV4dGVuZHMgSk9TRUVycm9yIHtcbiAgICBzdGF0aWMgY29kZSA9ICdFUlJfSldTX1NJR05BVFVSRV9WRVJJRklDQVRJT05fRkFJTEVEJztcbiAgICBjb2RlID0gJ0VSUl9KV1NfU0lHTkFUVVJFX1ZFUklGSUNBVElPTl9GQUlMRUQnO1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UgPSAnc2lnbmF0dXJlIHZlcmlmaWNhdGlvbiBmYWlsZWQnLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UsIG9wdGlvbnMpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jose/dist/webapi/util/errors.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/build/webpack/loaders/next-middleware-loader.js?absolutePagePath=D%3A%5CShiv%5CHackUTD%5CCivic-Link%5Cmiddleware.ts&page=%2Fmiddleware&rootDir=D%3A%5CShiv%5CHackUTD%5CCivic-Link&matchers=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-middleware-loader.js?absolutePagePath=D%3A%5CShiv%5CHackUTD%5CCivic-Link%5Cmiddleware.ts&page=%2Fmiddleware&rootDir=D%3A%5CShiv%5CHackUTD%5CCivic-Link&matchers=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ nHandler)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_globals__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/globals */ \"(middleware)/./node_modules/next/dist/esm/server/web/globals.js\");\n/* harmony import */ var next_dist_server_web_adapter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/web/adapter */ \"(middleware)/./node_modules/next/dist/esm/server/web/adapter.js\");\n/* harmony import */ var _middleware_ts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./middleware.ts */ \"(middleware)/./middleware.ts\");\n/* harmony import */ var next_dist_client_components_is_next_router_error__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/client/components/is-next-router-error */ \"(middleware)/./node_modules/next/dist/esm/client/components/is-next-router-error.js\");\n\n\n// Import the userland code.\n\n\n\nconst mod = {\n    ..._middleware_ts__WEBPACK_IMPORTED_MODULE_2__\n};\nconst handler = mod.middleware || mod.default;\nconst page = \"/middleware\";\nif (typeof handler !== 'function') {\n    throw Object.defineProperty(new Error(`The Middleware \"${page}\" must export a \\`middleware\\` or a \\`default\\` function`), \"__NEXT_ERROR_CODE\", {\n        value: \"E120\",\n        enumerable: false,\n        configurable: true\n    });\n}\n// Middleware will only sent out the FetchEvent to next server,\n// so load instrumentation module here and track the error inside middleware module.\nfunction errorHandledHandler(fn) {\n    return async (...args)=>{\n        try {\n            return await fn(...args);\n        } catch (err) {\n            // In development, error the navigation API usage in runtime,\n            // since it's not allowed to be used in middleware as it's outside of react component tree.\n            if (true) {\n                if ((0,next_dist_client_components_is_next_router_error__WEBPACK_IMPORTED_MODULE_3__.isNextRouterError)(err)) {\n                    err.message = `Next.js navigation API is not allowed to be used in Middleware.`;\n                    throw err;\n                }\n            }\n            const req = args[0];\n            const url = new URL(req.url);\n            const resource = url.pathname + url.search;\n            await (0,next_dist_server_web_globals__WEBPACK_IMPORTED_MODULE_0__.edgeInstrumentationOnRequestError)(err, {\n                path: resource,\n                method: req.method,\n                headers: Object.fromEntries(req.headers.entries())\n            }, {\n                routerKind: 'Pages Router',\n                routePath: '/middleware',\n                routeType: 'middleware',\n                revalidateReason: undefined\n            });\n            throw err;\n        }\n    };\n}\nfunction nHandler(opts) {\n    return (0,next_dist_server_web_adapter__WEBPACK_IMPORTED_MODULE_1__.adapter)({\n        ...opts,\n        page,\n        handler: errorHandledHandler(handler)\n    });\n}\n\n//# sourceMappingURL=middleware.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1taWRkbGV3YXJlLWxvYWRlci5qcz9hYnNvbHV0ZVBhZ2VQYXRoPUQlM0ElNUNTaGl2JTVDSGFja1VURCU1Q0NpdmljLUxpbmslNUNtaWRkbGV3YXJlLnRzJnBhZ2U9JTJGbWlkZGxld2FyZSZyb290RGlyPUQlM0ElNUNTaGl2JTVDSGFja1VURCU1Q0NpdmljLUxpbmsmbWF0Y2hlcnM9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXNDO0FBQ2lCO0FBQ3ZEO0FBQ3dDO0FBQ3lDO0FBQ0k7QUFDckY7QUFDQSxPQUFPLDJDQUFJO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsS0FBSztBQUNsRTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLGdCQUFnQixJQUFxQztBQUNyRCxvQkFBb0IsbUdBQWlCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLCtGQUFpQztBQUNuRDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDZTtBQUNmLFdBQVcscUVBQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFwibmV4dC9kaXN0L3NlcnZlci93ZWIvZ2xvYmFsc1wiO1xuaW1wb3J0IHsgYWRhcHRlciB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3dlYi9hZGFwdGVyXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyBfbW9kIGZyb20gXCIuL21pZGRsZXdhcmUudHNcIjtcbmltcG9ydCB7IGVkZ2VJbnN0cnVtZW50YXRpb25PblJlcXVlc3RFcnJvciB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3dlYi9nbG9iYWxzXCI7XG5pbXBvcnQgeyBpc05leHRSb3V0ZXJFcnJvciB9IGZyb20gXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvaXMtbmV4dC1yb3V0ZXItZXJyb3JcIjtcbmNvbnN0IG1vZCA9IHtcbiAgICAuLi5fbW9kXG59O1xuY29uc3QgaGFuZGxlciA9IG1vZC5taWRkbGV3YXJlIHx8IG1vZC5kZWZhdWx0O1xuY29uc3QgcGFnZSA9IFwiL21pZGRsZXdhcmVcIjtcbmlmICh0eXBlb2YgaGFuZGxlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXcgRXJyb3IoYFRoZSBNaWRkbGV3YXJlIFwiJHtwYWdlfVwiIG11c3QgZXhwb3J0IGEgXFxgbWlkZGxld2FyZVxcYCBvciBhIFxcYGRlZmF1bHRcXGAgZnVuY3Rpb25gKSwgXCJfX05FWFRfRVJST1JfQ09ERVwiLCB7XG4gICAgICAgIHZhbHVlOiBcIkUxMjBcIixcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xufVxuLy8gTWlkZGxld2FyZSB3aWxsIG9ubHkgc2VudCBvdXQgdGhlIEZldGNoRXZlbnQgdG8gbmV4dCBzZXJ2ZXIsXG4vLyBzbyBsb2FkIGluc3RydW1lbnRhdGlvbiBtb2R1bGUgaGVyZSBhbmQgdHJhY2sgdGhlIGVycm9yIGluc2lkZSBtaWRkbGV3YXJlIG1vZHVsZS5cbmZ1bmN0aW9uIGVycm9ySGFuZGxlZEhhbmRsZXIoZm4pIHtcbiAgICByZXR1cm4gYXN5bmMgKC4uLmFyZ3MpPT57XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgZm4oLi4uYXJncyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgLy8gSW4gZGV2ZWxvcG1lbnQsIGVycm9yIHRoZSBuYXZpZ2F0aW9uIEFQSSB1c2FnZSBpbiBydW50aW1lLFxuICAgICAgICAgICAgLy8gc2luY2UgaXQncyBub3QgYWxsb3dlZCB0byBiZSB1c2VkIGluIG1pZGRsZXdhcmUgYXMgaXQncyBvdXRzaWRlIG9mIHJlYWN0IGNvbXBvbmVudCB0cmVlLlxuICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNOZXh0Um91dGVyRXJyb3IoZXJyKSkge1xuICAgICAgICAgICAgICAgICAgICBlcnIubWVzc2FnZSA9IGBOZXh0LmpzIG5hdmlnYXRpb24gQVBJIGlzIG5vdCBhbGxvd2VkIHRvIGJlIHVzZWQgaW4gTWlkZGxld2FyZS5gO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmVxID0gYXJnc1swXTtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwocmVxLnVybCk7XG4gICAgICAgICAgICBjb25zdCByZXNvdXJjZSA9IHVybC5wYXRobmFtZSArIHVybC5zZWFyY2g7XG4gICAgICAgICAgICBhd2FpdCBlZGdlSW5zdHJ1bWVudGF0aW9uT25SZXF1ZXN0RXJyb3IoZXJyLCB7XG4gICAgICAgICAgICAgICAgcGF0aDogcmVzb3VyY2UsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiByZXEubWV0aG9kLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IE9iamVjdC5mcm9tRW50cmllcyhyZXEuaGVhZGVycy5lbnRyaWVzKCkpXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgcm91dGVyS2luZDogJ1BhZ2VzIFJvdXRlcicsXG4gICAgICAgICAgICAgICAgcm91dGVQYXRoOiAnL21pZGRsZXdhcmUnLFxuICAgICAgICAgICAgICAgIHJvdXRlVHlwZTogJ21pZGRsZXdhcmUnLFxuICAgICAgICAgICAgICAgIHJldmFsaWRhdGVSZWFzb246IHVuZGVmaW5lZFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICB9O1xufVxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbkhhbmRsZXIob3B0cykge1xuICAgIHJldHVybiBhZGFwdGVyKHtcbiAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgcGFnZSxcbiAgICAgICAgaGFuZGxlcjogZXJyb3JIYW5kbGVkSGFuZGxlcihoYW5kbGVyKVxuICAgIH0pO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1taWRkbGV3YXJlLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/build/webpack/loaders/next-middleware-loader.js?absolutePagePath=D%3A%5CShiv%5CHackUTD%5CCivic-Link%5Cmiddleware.ts&page=%2Fmiddleware&rootDir=D%3A%5CShiv%5CHackUTD%5CCivic-Link&matchers=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/compiled/@edge-runtime/cookies/index.js":
/*!************************************************************************!*\
  !*** ./node_modules/next/dist/compiled/@edge-runtime/cookies/index.js ***!
  \************************************************************************/
/***/ ((module) => {

"use strict";
eval("\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\n\n// src/index.ts\nvar src_exports = {};\n__export(src_exports, {\n  RequestCookies: () => RequestCookies,\n  ResponseCookies: () => ResponseCookies,\n  parseCookie: () => parseCookie,\n  parseSetCookie: () => parseSetCookie,\n  stringifyCookie: () => stringifyCookie\n});\nmodule.exports = __toCommonJS(src_exports);\n\n// src/serialize.ts\nfunction stringifyCookie(c) {\n  var _a;\n  const attrs = [\n    \"path\" in c && c.path && `Path=${c.path}`,\n    \"expires\" in c && (c.expires || c.expires === 0) && `Expires=${(typeof c.expires === \"number\" ? new Date(c.expires) : c.expires).toUTCString()}`,\n    \"maxAge\" in c && typeof c.maxAge === \"number\" && `Max-Age=${c.maxAge}`,\n    \"domain\" in c && c.domain && `Domain=${c.domain}`,\n    \"secure\" in c && c.secure && \"Secure\",\n    \"httpOnly\" in c && c.httpOnly && \"HttpOnly\",\n    \"sameSite\" in c && c.sameSite && `SameSite=${c.sameSite}`,\n    \"partitioned\" in c && c.partitioned && \"Partitioned\",\n    \"priority\" in c && c.priority && `Priority=${c.priority}`\n  ].filter(Boolean);\n  const stringified = `${c.name}=${encodeURIComponent((_a = c.value) != null ? _a : \"\")}`;\n  return attrs.length === 0 ? stringified : `${stringified}; ${attrs.join(\"; \")}`;\n}\nfunction parseCookie(cookie) {\n  const map = /* @__PURE__ */ new Map();\n  for (const pair of cookie.split(/; */)) {\n    if (!pair)\n      continue;\n    const splitAt = pair.indexOf(\"=\");\n    if (splitAt === -1) {\n      map.set(pair, \"true\");\n      continue;\n    }\n    const [key, value] = [pair.slice(0, splitAt), pair.slice(splitAt + 1)];\n    try {\n      map.set(key, decodeURIComponent(value != null ? value : \"true\"));\n    } catch {\n    }\n  }\n  return map;\n}\nfunction parseSetCookie(setCookie) {\n  if (!setCookie) {\n    return void 0;\n  }\n  const [[name, value], ...attributes] = parseCookie(setCookie);\n  const {\n    domain,\n    expires,\n    httponly,\n    maxage,\n    path,\n    samesite,\n    secure,\n    partitioned,\n    priority\n  } = Object.fromEntries(\n    attributes.map(([key, value2]) => [\n      key.toLowerCase().replace(/-/g, \"\"),\n      value2\n    ])\n  );\n  const cookie = {\n    name,\n    value: decodeURIComponent(value),\n    domain,\n    ...expires && { expires: new Date(expires) },\n    ...httponly && { httpOnly: true },\n    ...typeof maxage === \"string\" && { maxAge: Number(maxage) },\n    path,\n    ...samesite && { sameSite: parseSameSite(samesite) },\n    ...secure && { secure: true },\n    ...priority && { priority: parsePriority(priority) },\n    ...partitioned && { partitioned: true }\n  };\n  return compact(cookie);\n}\nfunction compact(t) {\n  const newT = {};\n  for (const key in t) {\n    if (t[key]) {\n      newT[key] = t[key];\n    }\n  }\n  return newT;\n}\nvar SAME_SITE = [\"strict\", \"lax\", \"none\"];\nfunction parseSameSite(string) {\n  string = string.toLowerCase();\n  return SAME_SITE.includes(string) ? string : void 0;\n}\nvar PRIORITY = [\"low\", \"medium\", \"high\"];\nfunction parsePriority(string) {\n  string = string.toLowerCase();\n  return PRIORITY.includes(string) ? string : void 0;\n}\nfunction splitCookiesString(cookiesString) {\n  if (!cookiesString)\n    return [];\n  var cookiesStrings = [];\n  var pos = 0;\n  var start;\n  var ch;\n  var lastComma;\n  var nextStart;\n  var cookiesSeparatorFound;\n  function skipWhitespace() {\n    while (pos < cookiesString.length && /\\s/.test(cookiesString.charAt(pos))) {\n      pos += 1;\n    }\n    return pos < cookiesString.length;\n  }\n  function notSpecialChar() {\n    ch = cookiesString.charAt(pos);\n    return ch !== \"=\" && ch !== \";\" && ch !== \",\";\n  }\n  while (pos < cookiesString.length) {\n    start = pos;\n    cookiesSeparatorFound = false;\n    while (skipWhitespace()) {\n      ch = cookiesString.charAt(pos);\n      if (ch === \",\") {\n        lastComma = pos;\n        pos += 1;\n        skipWhitespace();\n        nextStart = pos;\n        while (pos < cookiesString.length && notSpecialChar()) {\n          pos += 1;\n        }\n        if (pos < cookiesString.length && cookiesString.charAt(pos) === \"=\") {\n          cookiesSeparatorFound = true;\n          pos = nextStart;\n          cookiesStrings.push(cookiesString.substring(start, lastComma));\n          start = pos;\n        } else {\n          pos = lastComma + 1;\n        }\n      } else {\n        pos += 1;\n      }\n    }\n    if (!cookiesSeparatorFound || pos >= cookiesString.length) {\n      cookiesStrings.push(cookiesString.substring(start, cookiesString.length));\n    }\n  }\n  return cookiesStrings;\n}\n\n// src/request-cookies.ts\nvar RequestCookies = class {\n  constructor(requestHeaders) {\n    /** @internal */\n    this._parsed = /* @__PURE__ */ new Map();\n    this._headers = requestHeaders;\n    const header = requestHeaders.get(\"cookie\");\n    if (header) {\n      const parsed = parseCookie(header);\n      for (const [name, value] of parsed) {\n        this._parsed.set(name, { name, value });\n      }\n    }\n  }\n  [Symbol.iterator]() {\n    return this._parsed[Symbol.iterator]();\n  }\n  /**\n   * The amount of cookies received from the client\n   */\n  get size() {\n    return this._parsed.size;\n  }\n  get(...args) {\n    const name = typeof args[0] === \"string\" ? args[0] : args[0].name;\n    return this._parsed.get(name);\n  }\n  getAll(...args) {\n    var _a;\n    const all = Array.from(this._parsed);\n    if (!args.length) {\n      return all.map(([_, value]) => value);\n    }\n    const name = typeof args[0] === \"string\" ? args[0] : (_a = args[0]) == null ? void 0 : _a.name;\n    return all.filter(([n]) => n === name).map(([_, value]) => value);\n  }\n  has(name) {\n    return this._parsed.has(name);\n  }\n  set(...args) {\n    const [name, value] = args.length === 1 ? [args[0].name, args[0].value] : args;\n    const map = this._parsed;\n    map.set(name, { name, value });\n    this._headers.set(\n      \"cookie\",\n      Array.from(map).map(([_, value2]) => stringifyCookie(value2)).join(\"; \")\n    );\n    return this;\n  }\n  /**\n   * Delete the cookies matching the passed name or names in the request.\n   */\n  delete(names) {\n    const map = this._parsed;\n    const result = !Array.isArray(names) ? map.delete(names) : names.map((name) => map.delete(name));\n    this._headers.set(\n      \"cookie\",\n      Array.from(map).map(([_, value]) => stringifyCookie(value)).join(\"; \")\n    );\n    return result;\n  }\n  /**\n   * Delete all the cookies in the cookies in the request.\n   */\n  clear() {\n    this.delete(Array.from(this._parsed.keys()));\n    return this;\n  }\n  /**\n   * Format the cookies in the request as a string for logging\n   */\n  [Symbol.for(\"edge-runtime.inspect.custom\")]() {\n    return `RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`;\n  }\n  toString() {\n    return [...this._parsed.values()].map((v) => `${v.name}=${encodeURIComponent(v.value)}`).join(\"; \");\n  }\n};\n\n// src/response-cookies.ts\nvar ResponseCookies = class {\n  constructor(responseHeaders) {\n    /** @internal */\n    this._parsed = /* @__PURE__ */ new Map();\n    var _a, _b, _c;\n    this._headers = responseHeaders;\n    const setCookie = (_c = (_b = (_a = responseHeaders.getSetCookie) == null ? void 0 : _a.call(responseHeaders)) != null ? _b : responseHeaders.get(\"set-cookie\")) != null ? _c : [];\n    const cookieStrings = Array.isArray(setCookie) ? setCookie : splitCookiesString(setCookie);\n    for (const cookieString of cookieStrings) {\n      const parsed = parseSetCookie(cookieString);\n      if (parsed)\n        this._parsed.set(parsed.name, parsed);\n    }\n  }\n  /**\n   * {@link https://wicg.github.io/cookie-store/#CookieStore-get CookieStore#get} without the Promise.\n   */\n  get(...args) {\n    const key = typeof args[0] === \"string\" ? args[0] : args[0].name;\n    return this._parsed.get(key);\n  }\n  /**\n   * {@link https://wicg.github.io/cookie-store/#CookieStore-getAll CookieStore#getAll} without the Promise.\n   */\n  getAll(...args) {\n    var _a;\n    const all = Array.from(this._parsed.values());\n    if (!args.length) {\n      return all;\n    }\n    const key = typeof args[0] === \"string\" ? args[0] : (_a = args[0]) == null ? void 0 : _a.name;\n    return all.filter((c) => c.name === key);\n  }\n  has(name) {\n    return this._parsed.has(name);\n  }\n  /**\n   * {@link https://wicg.github.io/cookie-store/#CookieStore-set CookieStore#set} without the Promise.\n   */\n  set(...args) {\n    const [name, value, cookie] = args.length === 1 ? [args[0].name, args[0].value, args[0]] : args;\n    const map = this._parsed;\n    map.set(name, normalizeCookie({ name, value, ...cookie }));\n    replace(map, this._headers);\n    return this;\n  }\n  /**\n   * {@link https://wicg.github.io/cookie-store/#CookieStore-delete CookieStore#delete} without the Promise.\n   */\n  delete(...args) {\n    const [name, options] = typeof args[0] === \"string\" ? [args[0]] : [args[0].name, args[0]];\n    return this.set({ ...options, name, value: \"\", expires: /* @__PURE__ */ new Date(0) });\n  }\n  [Symbol.for(\"edge-runtime.inspect.custom\")]() {\n    return `ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`;\n  }\n  toString() {\n    return [...this._parsed.values()].map(stringifyCookie).join(\"; \");\n  }\n};\nfunction replace(bag, headers) {\n  headers.delete(\"set-cookie\");\n  for (const [, value] of bag) {\n    const serialized = stringifyCookie(value);\n    headers.append(\"set-cookie\", serialized);\n  }\n}\nfunction normalizeCookie(cookie = { name: \"\", value: \"\" }) {\n  if (typeof cookie.expires === \"number\") {\n    cookie.expires = new Date(cookie.expires);\n  }\n  if (cookie.maxAge) {\n    cookie.expires = new Date(Date.now() + cookie.maxAge * 1e3);\n  }\n  if (cookie.path === null || cookie.path === void 0) {\n    cookie.path = \"/\";\n  }\n  return cookie;\n}\n// Annotate the CommonJS export names for ESM import in node:\n0 && (0);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jb21waWxlZC9AZWRnZS1ydW50aW1lL2Nvb2tpZXMvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsa0NBQWtDO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsNEZBQTRGO0FBQ3pIO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxrQkFBa0IsYUFBYTs7QUFFbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxPQUFPO0FBQzVDLG1FQUFtRSxnRkFBZ0Y7QUFDbkosZ0VBQWdFLFNBQVM7QUFDekUsMkNBQTJDLFNBQVM7QUFDcEQ7QUFDQTtBQUNBLGlEQUFpRCxXQUFXO0FBQzVEO0FBQ0EsaURBQWlELFdBQVc7QUFDNUQ7QUFDQSx5QkFBeUIsT0FBTyxHQUFHLHFEQUFxRDtBQUN4RiwrQ0FBK0MsY0FBYyxFQUFFLGNBQWMsR0FBRztBQUNoRjtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDRCQUE0QjtBQUNoRCxxQkFBcUIsZ0JBQWdCO0FBQ3JDLHVDQUF1Qyx3QkFBd0I7QUFDL0Q7QUFDQSxxQkFBcUIsbUNBQW1DO0FBQ3hELG1CQUFtQixjQUFjO0FBQ2pDLHFCQUFxQixtQ0FBbUM7QUFDeEQsd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLGFBQWE7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsYUFBYTtBQUNqQztBQUNBO0FBQ0EsNEVBQTRFO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwRUFBMEU7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixpREFBaUQ7QUFDOUU7QUFDQTtBQUNBLG9EQUFvRCxPQUFPLEdBQUcsNEJBQTRCLFdBQVc7QUFDckc7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sNEVBQTRFO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sa0ZBQWtGO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLDRFQUE0RTtBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyx3QkFBd0I7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLGtGQUFrRjtBQUN4RjtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsbUVBQW1FO0FBQ3pGO0FBQ0E7QUFDQSw4QkFBOEIsaURBQWlEO0FBQy9FO0FBQ0E7QUFDQSxtRUFBbUU7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLHFCQUFxQjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLENBTUwiLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXG5leHRcXGRpc3RcXGNvbXBpbGVkXFxAZWRnZS1ydW50aW1lXFxjb29raWVzXFxpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wRGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19nZXRPd25Qcm9wTmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcztcbnZhciBfX2hhc093blByb3AgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIF9fZXhwb3J0ID0gKHRhcmdldCwgYWxsKSA9PiB7XG4gIGZvciAodmFyIG5hbWUgaW4gYWxsKVxuICAgIF9fZGVmUHJvcCh0YXJnZXQsIG5hbWUsIHsgZ2V0OiBhbGxbbmFtZV0sIGVudW1lcmFibGU6IHRydWUgfSk7XG59O1xudmFyIF9fY29weVByb3BzID0gKHRvLCBmcm9tLCBleGNlcHQsIGRlc2MpID0+IHtcbiAgaWYgKGZyb20gJiYgdHlwZW9mIGZyb20gPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGZyb20gPT09IFwiZnVuY3Rpb25cIikge1xuICAgIGZvciAobGV0IGtleSBvZiBfX2dldE93blByb3BOYW1lcyhmcm9tKSlcbiAgICAgIGlmICghX19oYXNPd25Qcm9wLmNhbGwodG8sIGtleSkgJiYga2V5ICE9PSBleGNlcHQpXG4gICAgICAgIF9fZGVmUHJvcCh0bywga2V5LCB7IGdldDogKCkgPT4gZnJvbVtrZXldLCBlbnVtZXJhYmxlOiAhKGRlc2MgPSBfX2dldE93blByb3BEZXNjKGZyb20sIGtleSkpIHx8IGRlc2MuZW51bWVyYWJsZSB9KTtcbiAgfVxuICByZXR1cm4gdG87XG59O1xudmFyIF9fdG9Db21tb25KUyA9IChtb2QpID0+IF9fY29weVByb3BzKF9fZGVmUHJvcCh7fSwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSksIG1vZCk7XG5cbi8vIHNyYy9pbmRleC50c1xudmFyIHNyY19leHBvcnRzID0ge307XG5fX2V4cG9ydChzcmNfZXhwb3J0cywge1xuICBSZXF1ZXN0Q29va2llczogKCkgPT4gUmVxdWVzdENvb2tpZXMsXG4gIFJlc3BvbnNlQ29va2llczogKCkgPT4gUmVzcG9uc2VDb29raWVzLFxuICBwYXJzZUNvb2tpZTogKCkgPT4gcGFyc2VDb29raWUsXG4gIHBhcnNlU2V0Q29va2llOiAoKSA9PiBwYXJzZVNldENvb2tpZSxcbiAgc3RyaW5naWZ5Q29va2llOiAoKSA9PiBzdHJpbmdpZnlDb29raWVcbn0pO1xubW9kdWxlLmV4cG9ydHMgPSBfX3RvQ29tbW9uSlMoc3JjX2V4cG9ydHMpO1xuXG4vLyBzcmMvc2VyaWFsaXplLnRzXG5mdW5jdGlvbiBzdHJpbmdpZnlDb29raWUoYykge1xuICB2YXIgX2E7XG4gIGNvbnN0IGF0dHJzID0gW1xuICAgIFwicGF0aFwiIGluIGMgJiYgYy5wYXRoICYmIGBQYXRoPSR7Yy5wYXRofWAsXG4gICAgXCJleHBpcmVzXCIgaW4gYyAmJiAoYy5leHBpcmVzIHx8IGMuZXhwaXJlcyA9PT0gMCkgJiYgYEV4cGlyZXM9JHsodHlwZW9mIGMuZXhwaXJlcyA9PT0gXCJudW1iZXJcIiA/IG5ldyBEYXRlKGMuZXhwaXJlcykgOiBjLmV4cGlyZXMpLnRvVVRDU3RyaW5nKCl9YCxcbiAgICBcIm1heEFnZVwiIGluIGMgJiYgdHlwZW9mIGMubWF4QWdlID09PSBcIm51bWJlclwiICYmIGBNYXgtQWdlPSR7Yy5tYXhBZ2V9YCxcbiAgICBcImRvbWFpblwiIGluIGMgJiYgYy5kb21haW4gJiYgYERvbWFpbj0ke2MuZG9tYWlufWAsXG4gICAgXCJzZWN1cmVcIiBpbiBjICYmIGMuc2VjdXJlICYmIFwiU2VjdXJlXCIsXG4gICAgXCJodHRwT25seVwiIGluIGMgJiYgYy5odHRwT25seSAmJiBcIkh0dHBPbmx5XCIsXG4gICAgXCJzYW1lU2l0ZVwiIGluIGMgJiYgYy5zYW1lU2l0ZSAmJiBgU2FtZVNpdGU9JHtjLnNhbWVTaXRlfWAsXG4gICAgXCJwYXJ0aXRpb25lZFwiIGluIGMgJiYgYy5wYXJ0aXRpb25lZCAmJiBcIlBhcnRpdGlvbmVkXCIsXG4gICAgXCJwcmlvcml0eVwiIGluIGMgJiYgYy5wcmlvcml0eSAmJiBgUHJpb3JpdHk9JHtjLnByaW9yaXR5fWBcbiAgXS5maWx0ZXIoQm9vbGVhbik7XG4gIGNvbnN0IHN0cmluZ2lmaWVkID0gYCR7Yy5uYW1lfT0ke2VuY29kZVVSSUNvbXBvbmVudCgoX2EgPSBjLnZhbHVlKSAhPSBudWxsID8gX2EgOiBcIlwiKX1gO1xuICByZXR1cm4gYXR0cnMubGVuZ3RoID09PSAwID8gc3RyaW5naWZpZWQgOiBgJHtzdHJpbmdpZmllZH07ICR7YXR0cnMuam9pbihcIjsgXCIpfWA7XG59XG5mdW5jdGlvbiBwYXJzZUNvb2tpZShjb29raWUpIHtcbiAgY29uc3QgbWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgZm9yIChjb25zdCBwYWlyIG9mIGNvb2tpZS5zcGxpdCgvOyAqLykpIHtcbiAgICBpZiAoIXBhaXIpXG4gICAgICBjb250aW51ZTtcbiAgICBjb25zdCBzcGxpdEF0ID0gcGFpci5pbmRleE9mKFwiPVwiKTtcbiAgICBpZiAoc3BsaXRBdCA9PT0gLTEpIHtcbiAgICAgIG1hcC5zZXQocGFpciwgXCJ0cnVlXCIpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGNvbnN0IFtrZXksIHZhbHVlXSA9IFtwYWlyLnNsaWNlKDAsIHNwbGl0QXQpLCBwYWlyLnNsaWNlKHNwbGl0QXQgKyAxKV07XG4gICAgdHJ5IHtcbiAgICAgIG1hcC5zZXQoa2V5LCBkZWNvZGVVUklDb21wb25lbnQodmFsdWUgIT0gbnVsbCA/IHZhbHVlIDogXCJ0cnVlXCIpKTtcbiAgICB9IGNhdGNoIHtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG1hcDtcbn1cbmZ1bmN0aW9uIHBhcnNlU2V0Q29va2llKHNldENvb2tpZSkge1xuICBpZiAoIXNldENvb2tpZSkge1xuICAgIHJldHVybiB2b2lkIDA7XG4gIH1cbiAgY29uc3QgW1tuYW1lLCB2YWx1ZV0sIC4uLmF0dHJpYnV0ZXNdID0gcGFyc2VDb29raWUoc2V0Q29va2llKTtcbiAgY29uc3Qge1xuICAgIGRvbWFpbixcbiAgICBleHBpcmVzLFxuICAgIGh0dHBvbmx5LFxuICAgIG1heGFnZSxcbiAgICBwYXRoLFxuICAgIHNhbWVzaXRlLFxuICAgIHNlY3VyZSxcbiAgICBwYXJ0aXRpb25lZCxcbiAgICBwcmlvcml0eVxuICB9ID0gT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgIGF0dHJpYnV0ZXMubWFwKChba2V5LCB2YWx1ZTJdKSA9PiBbXG4gICAgICBrZXkudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8tL2csIFwiXCIpLFxuICAgICAgdmFsdWUyXG4gICAgXSlcbiAgKTtcbiAgY29uc3QgY29va2llID0ge1xuICAgIG5hbWUsXG4gICAgdmFsdWU6IGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSksXG4gICAgZG9tYWluLFxuICAgIC4uLmV4cGlyZXMgJiYgeyBleHBpcmVzOiBuZXcgRGF0ZShleHBpcmVzKSB9LFxuICAgIC4uLmh0dHBvbmx5ICYmIHsgaHR0cE9ubHk6IHRydWUgfSxcbiAgICAuLi50eXBlb2YgbWF4YWdlID09PSBcInN0cmluZ1wiICYmIHsgbWF4QWdlOiBOdW1iZXIobWF4YWdlKSB9LFxuICAgIHBhdGgsXG4gICAgLi4uc2FtZXNpdGUgJiYgeyBzYW1lU2l0ZTogcGFyc2VTYW1lU2l0ZShzYW1lc2l0ZSkgfSxcbiAgICAuLi5zZWN1cmUgJiYgeyBzZWN1cmU6IHRydWUgfSxcbiAgICAuLi5wcmlvcml0eSAmJiB7IHByaW9yaXR5OiBwYXJzZVByaW9yaXR5KHByaW9yaXR5KSB9LFxuICAgIC4uLnBhcnRpdGlvbmVkICYmIHsgcGFydGl0aW9uZWQ6IHRydWUgfVxuICB9O1xuICByZXR1cm4gY29tcGFjdChjb29raWUpO1xufVxuZnVuY3Rpb24gY29tcGFjdCh0KSB7XG4gIGNvbnN0IG5ld1QgPSB7fTtcbiAgZm9yIChjb25zdCBrZXkgaW4gdCkge1xuICAgIGlmICh0W2tleV0pIHtcbiAgICAgIG5ld1Rba2V5XSA9IHRba2V5XTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5ld1Q7XG59XG52YXIgU0FNRV9TSVRFID0gW1wic3RyaWN0XCIsIFwibGF4XCIsIFwibm9uZVwiXTtcbmZ1bmN0aW9uIHBhcnNlU2FtZVNpdGUoc3RyaW5nKSB7XG4gIHN0cmluZyA9IHN0cmluZy50b0xvd2VyQ2FzZSgpO1xuICByZXR1cm4gU0FNRV9TSVRFLmluY2x1ZGVzKHN0cmluZykgPyBzdHJpbmcgOiB2b2lkIDA7XG59XG52YXIgUFJJT1JJVFkgPSBbXCJsb3dcIiwgXCJtZWRpdW1cIiwgXCJoaWdoXCJdO1xuZnVuY3Rpb24gcGFyc2VQcmlvcml0eShzdHJpbmcpIHtcbiAgc3RyaW5nID0gc3RyaW5nLnRvTG93ZXJDYXNlKCk7XG4gIHJldHVybiBQUklPUklUWS5pbmNsdWRlcyhzdHJpbmcpID8gc3RyaW5nIDogdm9pZCAwO1xufVxuZnVuY3Rpb24gc3BsaXRDb29raWVzU3RyaW5nKGNvb2tpZXNTdHJpbmcpIHtcbiAgaWYgKCFjb29raWVzU3RyaW5nKVxuICAgIHJldHVybiBbXTtcbiAgdmFyIGNvb2tpZXNTdHJpbmdzID0gW107XG4gIHZhciBwb3MgPSAwO1xuICB2YXIgc3RhcnQ7XG4gIHZhciBjaDtcbiAgdmFyIGxhc3RDb21tYTtcbiAgdmFyIG5leHRTdGFydDtcbiAgdmFyIGNvb2tpZXNTZXBhcmF0b3JGb3VuZDtcbiAgZnVuY3Rpb24gc2tpcFdoaXRlc3BhY2UoKSB7XG4gICAgd2hpbGUgKHBvcyA8IGNvb2tpZXNTdHJpbmcubGVuZ3RoICYmIC9cXHMvLnRlc3QoY29va2llc1N0cmluZy5jaGFyQXQocG9zKSkpIHtcbiAgICAgIHBvcyArPSAxO1xuICAgIH1cbiAgICByZXR1cm4gcG9zIDwgY29va2llc1N0cmluZy5sZW5ndGg7XG4gIH1cbiAgZnVuY3Rpb24gbm90U3BlY2lhbENoYXIoKSB7XG4gICAgY2ggPSBjb29raWVzU3RyaW5nLmNoYXJBdChwb3MpO1xuICAgIHJldHVybiBjaCAhPT0gXCI9XCIgJiYgY2ggIT09IFwiO1wiICYmIGNoICE9PSBcIixcIjtcbiAgfVxuICB3aGlsZSAocG9zIDwgY29va2llc1N0cmluZy5sZW5ndGgpIHtcbiAgICBzdGFydCA9IHBvcztcbiAgICBjb29raWVzU2VwYXJhdG9yRm91bmQgPSBmYWxzZTtcbiAgICB3aGlsZSAoc2tpcFdoaXRlc3BhY2UoKSkge1xuICAgICAgY2ggPSBjb29raWVzU3RyaW5nLmNoYXJBdChwb3MpO1xuICAgICAgaWYgKGNoID09PSBcIixcIikge1xuICAgICAgICBsYXN0Q29tbWEgPSBwb3M7XG4gICAgICAgIHBvcyArPSAxO1xuICAgICAgICBza2lwV2hpdGVzcGFjZSgpO1xuICAgICAgICBuZXh0U3RhcnQgPSBwb3M7XG4gICAgICAgIHdoaWxlIChwb3MgPCBjb29raWVzU3RyaW5nLmxlbmd0aCAmJiBub3RTcGVjaWFsQ2hhcigpKSB7XG4gICAgICAgICAgcG9zICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBvcyA8IGNvb2tpZXNTdHJpbmcubGVuZ3RoICYmIGNvb2tpZXNTdHJpbmcuY2hhckF0KHBvcykgPT09IFwiPVwiKSB7XG4gICAgICAgICAgY29va2llc1NlcGFyYXRvckZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICBwb3MgPSBuZXh0U3RhcnQ7XG4gICAgICAgICAgY29va2llc1N0cmluZ3MucHVzaChjb29raWVzU3RyaW5nLnN1YnN0cmluZyhzdGFydCwgbGFzdENvbW1hKSk7XG4gICAgICAgICAgc3RhcnQgPSBwb3M7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcG9zID0gbGFzdENvbW1hICsgMTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcG9zICs9IDE7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghY29va2llc1NlcGFyYXRvckZvdW5kIHx8IHBvcyA+PSBjb29raWVzU3RyaW5nLmxlbmd0aCkge1xuICAgICAgY29va2llc1N0cmluZ3MucHVzaChjb29raWVzU3RyaW5nLnN1YnN0cmluZyhzdGFydCwgY29va2llc1N0cmluZy5sZW5ndGgpKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNvb2tpZXNTdHJpbmdzO1xufVxuXG4vLyBzcmMvcmVxdWVzdC1jb29raWVzLnRzXG52YXIgUmVxdWVzdENvb2tpZXMgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKHJlcXVlc3RIZWFkZXJzKSB7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuX3BhcnNlZCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgdGhpcy5faGVhZGVycyA9IHJlcXVlc3RIZWFkZXJzO1xuICAgIGNvbnN0IGhlYWRlciA9IHJlcXVlc3RIZWFkZXJzLmdldChcImNvb2tpZVwiKTtcbiAgICBpZiAoaGVhZGVyKSB7XG4gICAgICBjb25zdCBwYXJzZWQgPSBwYXJzZUNvb2tpZShoZWFkZXIpO1xuICAgICAgZm9yIChjb25zdCBbbmFtZSwgdmFsdWVdIG9mIHBhcnNlZCkge1xuICAgICAgICB0aGlzLl9wYXJzZWQuc2V0KG5hbWUsIHsgbmFtZSwgdmFsdWUgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIFtTeW1ib2wuaXRlcmF0b3JdKCkge1xuICAgIHJldHVybiB0aGlzLl9wYXJzZWRbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICB9XG4gIC8qKlxuICAgKiBUaGUgYW1vdW50IG9mIGNvb2tpZXMgcmVjZWl2ZWQgZnJvbSB0aGUgY2xpZW50XG4gICAqL1xuICBnZXQgc2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fcGFyc2VkLnNpemU7XG4gIH1cbiAgZ2V0KC4uLmFyZ3MpIHtcbiAgICBjb25zdCBuYW1lID0gdHlwZW9mIGFyZ3NbMF0gPT09IFwic3RyaW5nXCIgPyBhcmdzWzBdIDogYXJnc1swXS5uYW1lO1xuICAgIHJldHVybiB0aGlzLl9wYXJzZWQuZ2V0KG5hbWUpO1xuICB9XG4gIGdldEFsbCguLi5hcmdzKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IGFsbCA9IEFycmF5LmZyb20odGhpcy5fcGFyc2VkKTtcbiAgICBpZiAoIWFyZ3MubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gYWxsLm1hcCgoW18sIHZhbHVlXSkgPT4gdmFsdWUpO1xuICAgIH1cbiAgICBjb25zdCBuYW1lID0gdHlwZW9mIGFyZ3NbMF0gPT09IFwic3RyaW5nXCIgPyBhcmdzWzBdIDogKF9hID0gYXJnc1swXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLm5hbWU7XG4gICAgcmV0dXJuIGFsbC5maWx0ZXIoKFtuXSkgPT4gbiA9PT0gbmFtZSkubWFwKChbXywgdmFsdWVdKSA9PiB2YWx1ZSk7XG4gIH1cbiAgaGFzKG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5fcGFyc2VkLmhhcyhuYW1lKTtcbiAgfVxuICBzZXQoLi4uYXJncykge1xuICAgIGNvbnN0IFtuYW1lLCB2YWx1ZV0gPSBhcmdzLmxlbmd0aCA9PT0gMSA/IFthcmdzWzBdLm5hbWUsIGFyZ3NbMF0udmFsdWVdIDogYXJncztcbiAgICBjb25zdCBtYXAgPSB0aGlzLl9wYXJzZWQ7XG4gICAgbWFwLnNldChuYW1lLCB7IG5hbWUsIHZhbHVlIH0pO1xuICAgIHRoaXMuX2hlYWRlcnMuc2V0KFxuICAgICAgXCJjb29raWVcIixcbiAgICAgIEFycmF5LmZyb20obWFwKS5tYXAoKFtfLCB2YWx1ZTJdKSA9PiBzdHJpbmdpZnlDb29raWUodmFsdWUyKSkuam9pbihcIjsgXCIpXG4gICAgKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogRGVsZXRlIHRoZSBjb29raWVzIG1hdGNoaW5nIHRoZSBwYXNzZWQgbmFtZSBvciBuYW1lcyBpbiB0aGUgcmVxdWVzdC5cbiAgICovXG4gIGRlbGV0ZShuYW1lcykge1xuICAgIGNvbnN0IG1hcCA9IHRoaXMuX3BhcnNlZDtcbiAgICBjb25zdCByZXN1bHQgPSAhQXJyYXkuaXNBcnJheShuYW1lcykgPyBtYXAuZGVsZXRlKG5hbWVzKSA6IG5hbWVzLm1hcCgobmFtZSkgPT4gbWFwLmRlbGV0ZShuYW1lKSk7XG4gICAgdGhpcy5faGVhZGVycy5zZXQoXG4gICAgICBcImNvb2tpZVwiLFxuICAgICAgQXJyYXkuZnJvbShtYXApLm1hcCgoW18sIHZhbHVlXSkgPT4gc3RyaW5naWZ5Q29va2llKHZhbHVlKSkuam9pbihcIjsgXCIpXG4gICAgKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIC8qKlxuICAgKiBEZWxldGUgYWxsIHRoZSBjb29raWVzIGluIHRoZSBjb29raWVzIGluIHRoZSByZXF1ZXN0LlxuICAgKi9cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy5kZWxldGUoQXJyYXkuZnJvbSh0aGlzLl9wYXJzZWQua2V5cygpKSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIEZvcm1hdCB0aGUgY29va2llcyBpbiB0aGUgcmVxdWVzdCBhcyBhIHN0cmluZyBmb3IgbG9nZ2luZ1xuICAgKi9cbiAgW1N5bWJvbC5mb3IoXCJlZGdlLXJ1bnRpbWUuaW5zcGVjdC5jdXN0b21cIildKCkge1xuICAgIHJldHVybiBgUmVxdWVzdENvb2tpZXMgJHtKU09OLnN0cmluZ2lmeShPYmplY3QuZnJvbUVudHJpZXModGhpcy5fcGFyc2VkKSl9YDtcbiAgfVxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gWy4uLnRoaXMuX3BhcnNlZC52YWx1ZXMoKV0ubWFwKCh2KSA9PiBgJHt2Lm5hbWV9PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHYudmFsdWUpfWApLmpvaW4oXCI7IFwiKTtcbiAgfVxufTtcblxuLy8gc3JjL3Jlc3BvbnNlLWNvb2tpZXMudHNcbnZhciBSZXNwb25zZUNvb2tpZXMgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKHJlc3BvbnNlSGVhZGVycykge1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLl9wYXJzZWQgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIHRoaXMuX2hlYWRlcnMgPSByZXNwb25zZUhlYWRlcnM7XG4gICAgY29uc3Qgc2V0Q29va2llID0gKF9jID0gKF9iID0gKF9hID0gcmVzcG9uc2VIZWFkZXJzLmdldFNldENvb2tpZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNhbGwocmVzcG9uc2VIZWFkZXJzKSkgIT0gbnVsbCA/IF9iIDogcmVzcG9uc2VIZWFkZXJzLmdldChcInNldC1jb29raWVcIikpICE9IG51bGwgPyBfYyA6IFtdO1xuICAgIGNvbnN0IGNvb2tpZVN0cmluZ3MgPSBBcnJheS5pc0FycmF5KHNldENvb2tpZSkgPyBzZXRDb29raWUgOiBzcGxpdENvb2tpZXNTdHJpbmcoc2V0Q29va2llKTtcbiAgICBmb3IgKGNvbnN0IGNvb2tpZVN0cmluZyBvZiBjb29raWVTdHJpbmdzKSB7XG4gICAgICBjb25zdCBwYXJzZWQgPSBwYXJzZVNldENvb2tpZShjb29raWVTdHJpbmcpO1xuICAgICAgaWYgKHBhcnNlZClcbiAgICAgICAgdGhpcy5fcGFyc2VkLnNldChwYXJzZWQubmFtZSwgcGFyc2VkKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIHtAbGluayBodHRwczovL3dpY2cuZ2l0aHViLmlvL2Nvb2tpZS1zdG9yZS8jQ29va2llU3RvcmUtZ2V0IENvb2tpZVN0b3JlI2dldH0gd2l0aG91dCB0aGUgUHJvbWlzZS5cbiAgICovXG4gIGdldCguLi5hcmdzKSB7XG4gICAgY29uc3Qga2V5ID0gdHlwZW9mIGFyZ3NbMF0gPT09IFwic3RyaW5nXCIgPyBhcmdzWzBdIDogYXJnc1swXS5uYW1lO1xuICAgIHJldHVybiB0aGlzLl9wYXJzZWQuZ2V0KGtleSk7XG4gIH1cbiAgLyoqXG4gICAqIHtAbGluayBodHRwczovL3dpY2cuZ2l0aHViLmlvL2Nvb2tpZS1zdG9yZS8jQ29va2llU3RvcmUtZ2V0QWxsIENvb2tpZVN0b3JlI2dldEFsbH0gd2l0aG91dCB0aGUgUHJvbWlzZS5cbiAgICovXG4gIGdldEFsbCguLi5hcmdzKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IGFsbCA9IEFycmF5LmZyb20odGhpcy5fcGFyc2VkLnZhbHVlcygpKTtcbiAgICBpZiAoIWFyZ3MubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gYWxsO1xuICAgIH1cbiAgICBjb25zdCBrZXkgPSB0eXBlb2YgYXJnc1swXSA9PT0gXCJzdHJpbmdcIiA/IGFyZ3NbMF0gOiAoX2EgPSBhcmdzWzBdKSA9PSBudWxsID8gdm9pZCAwIDogX2EubmFtZTtcbiAgICByZXR1cm4gYWxsLmZpbHRlcigoYykgPT4gYy5uYW1lID09PSBrZXkpO1xuICB9XG4gIGhhcyhuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BhcnNlZC5oYXMobmFtZSk7XG4gIH1cbiAgLyoqXG4gICAqIHtAbGluayBodHRwczovL3dpY2cuZ2l0aHViLmlvL2Nvb2tpZS1zdG9yZS8jQ29va2llU3RvcmUtc2V0IENvb2tpZVN0b3JlI3NldH0gd2l0aG91dCB0aGUgUHJvbWlzZS5cbiAgICovXG4gIHNldCguLi5hcmdzKSB7XG4gICAgY29uc3QgW25hbWUsIHZhbHVlLCBjb29raWVdID0gYXJncy5sZW5ndGggPT09IDEgPyBbYXJnc1swXS5uYW1lLCBhcmdzWzBdLnZhbHVlLCBhcmdzWzBdXSA6IGFyZ3M7XG4gICAgY29uc3QgbWFwID0gdGhpcy5fcGFyc2VkO1xuICAgIG1hcC5zZXQobmFtZSwgbm9ybWFsaXplQ29va2llKHsgbmFtZSwgdmFsdWUsIC4uLmNvb2tpZSB9KSk7XG4gICAgcmVwbGFjZShtYXAsIHRoaXMuX2hlYWRlcnMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiB7QGxpbmsgaHR0cHM6Ly93aWNnLmdpdGh1Yi5pby9jb29raWUtc3RvcmUvI0Nvb2tpZVN0b3JlLWRlbGV0ZSBDb29raWVTdG9yZSNkZWxldGV9IHdpdGhvdXQgdGhlIFByb21pc2UuXG4gICAqL1xuICBkZWxldGUoLi4uYXJncykge1xuICAgIGNvbnN0IFtuYW1lLCBvcHRpb25zXSA9IHR5cGVvZiBhcmdzWzBdID09PSBcInN0cmluZ1wiID8gW2FyZ3NbMF1dIDogW2FyZ3NbMF0ubmFtZSwgYXJnc1swXV07XG4gICAgcmV0dXJuIHRoaXMuc2V0KHsgLi4ub3B0aW9ucywgbmFtZSwgdmFsdWU6IFwiXCIsIGV4cGlyZXM6IC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgwKSB9KTtcbiAgfVxuICBbU3ltYm9sLmZvcihcImVkZ2UtcnVudGltZS5pbnNwZWN0LmN1c3RvbVwiKV0oKSB7XG4gICAgcmV0dXJuIGBSZXNwb25zZUNvb2tpZXMgJHtKU09OLnN0cmluZ2lmeShPYmplY3QuZnJvbUVudHJpZXModGhpcy5fcGFyc2VkKSl9YDtcbiAgfVxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gWy4uLnRoaXMuX3BhcnNlZC52YWx1ZXMoKV0ubWFwKHN0cmluZ2lmeUNvb2tpZSkuam9pbihcIjsgXCIpO1xuICB9XG59O1xuZnVuY3Rpb24gcmVwbGFjZShiYWcsIGhlYWRlcnMpIHtcbiAgaGVhZGVycy5kZWxldGUoXCJzZXQtY29va2llXCIpO1xuICBmb3IgKGNvbnN0IFssIHZhbHVlXSBvZiBiYWcpIHtcbiAgICBjb25zdCBzZXJpYWxpemVkID0gc3RyaW5naWZ5Q29va2llKHZhbHVlKTtcbiAgICBoZWFkZXJzLmFwcGVuZChcInNldC1jb29raWVcIiwgc2VyaWFsaXplZCk7XG4gIH1cbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUNvb2tpZShjb29raWUgPSB7IG5hbWU6IFwiXCIsIHZhbHVlOiBcIlwiIH0pIHtcbiAgaWYgKHR5cGVvZiBjb29raWUuZXhwaXJlcyA9PT0gXCJudW1iZXJcIikge1xuICAgIGNvb2tpZS5leHBpcmVzID0gbmV3IERhdGUoY29va2llLmV4cGlyZXMpO1xuICB9XG4gIGlmIChjb29raWUubWF4QWdlKSB7XG4gICAgY29va2llLmV4cGlyZXMgPSBuZXcgRGF0ZShEYXRlLm5vdygpICsgY29va2llLm1heEFnZSAqIDFlMyk7XG4gIH1cbiAgaWYgKGNvb2tpZS5wYXRoID09PSBudWxsIHx8IGNvb2tpZS5wYXRoID09PSB2b2lkIDApIHtcbiAgICBjb29raWUucGF0aCA9IFwiL1wiO1xuICB9XG4gIHJldHVybiBjb29raWU7XG59XG4vLyBBbm5vdGF0ZSB0aGUgQ29tbW9uSlMgZXhwb3J0IG5hbWVzIGZvciBFU00gaW1wb3J0IGluIG5vZGU6XG4wICYmIChtb2R1bGUuZXhwb3J0cyA9IHtcbiAgUmVxdWVzdENvb2tpZXMsXG4gIFJlc3BvbnNlQ29va2llcyxcbiAgcGFyc2VDb29raWUsXG4gIHBhcnNlU2V0Q29va2llLFxuICBzdHJpbmdpZnlDb29raWVcbn0pO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/compiled/@edge-runtime/cookies/index.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/compiled/@opentelemetry/api/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/next/dist/compiled/@opentelemetry/api/index.js ***!
  \*********************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var __dirname = \"/\";\n(()=>{\"use strict\";var e={491:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.ContextAPI=void 0;const n=r(223);const a=r(172);const o=r(930);const i=\"context\";const c=new n.NoopContextManager;class ContextAPI{constructor(){}static getInstance(){if(!this._instance){this._instance=new ContextAPI}return this._instance}setGlobalContextManager(e){return(0,a.registerGlobal)(i,e,o.DiagAPI.instance())}active(){return this._getContextManager().active()}with(e,t,r,...n){return this._getContextManager().with(e,t,r,...n)}bind(e,t){return this._getContextManager().bind(e,t)}_getContextManager(){return(0,a.getGlobal)(i)||c}disable(){this._getContextManager().disable();(0,a.unregisterGlobal)(i,o.DiagAPI.instance())}}t.ContextAPI=ContextAPI},930:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.DiagAPI=void 0;const n=r(56);const a=r(912);const o=r(957);const i=r(172);const c=\"diag\";class DiagAPI{constructor(){function _logProxy(e){return function(...t){const r=(0,i.getGlobal)(\"diag\");if(!r)return;return r[e](...t)}}const e=this;const setLogger=(t,r={logLevel:o.DiagLogLevel.INFO})=>{var n,c,s;if(t===e){const t=new Error(\"Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation\");e.error((n=t.stack)!==null&&n!==void 0?n:t.message);return false}if(typeof r===\"number\"){r={logLevel:r}}const u=(0,i.getGlobal)(\"diag\");const l=(0,a.createLogLevelDiagLogger)((c=r.logLevel)!==null&&c!==void 0?c:o.DiagLogLevel.INFO,t);if(u&&!r.suppressOverrideMessage){const e=(s=(new Error).stack)!==null&&s!==void 0?s:\"<failed to generate stacktrace>\";u.warn(`Current logger will be overwritten from ${e}`);l.warn(`Current logger will overwrite one already registered from ${e}`)}return(0,i.registerGlobal)(\"diag\",l,e,true)};e.setLogger=setLogger;e.disable=()=>{(0,i.unregisterGlobal)(c,e)};e.createComponentLogger=e=>new n.DiagComponentLogger(e);e.verbose=_logProxy(\"verbose\");e.debug=_logProxy(\"debug\");e.info=_logProxy(\"info\");e.warn=_logProxy(\"warn\");e.error=_logProxy(\"error\")}static instance(){if(!this._instance){this._instance=new DiagAPI}return this._instance}}t.DiagAPI=DiagAPI},653:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.MetricsAPI=void 0;const n=r(660);const a=r(172);const o=r(930);const i=\"metrics\";class MetricsAPI{constructor(){}static getInstance(){if(!this._instance){this._instance=new MetricsAPI}return this._instance}setGlobalMeterProvider(e){return(0,a.registerGlobal)(i,e,o.DiagAPI.instance())}getMeterProvider(){return(0,a.getGlobal)(i)||n.NOOP_METER_PROVIDER}getMeter(e,t,r){return this.getMeterProvider().getMeter(e,t,r)}disable(){(0,a.unregisterGlobal)(i,o.DiagAPI.instance())}}t.MetricsAPI=MetricsAPI},181:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.PropagationAPI=void 0;const n=r(172);const a=r(874);const o=r(194);const i=r(277);const c=r(369);const s=r(930);const u=\"propagation\";const l=new a.NoopTextMapPropagator;class PropagationAPI{constructor(){this.createBaggage=c.createBaggage;this.getBaggage=i.getBaggage;this.getActiveBaggage=i.getActiveBaggage;this.setBaggage=i.setBaggage;this.deleteBaggage=i.deleteBaggage}static getInstance(){if(!this._instance){this._instance=new PropagationAPI}return this._instance}setGlobalPropagator(e){return(0,n.registerGlobal)(u,e,s.DiagAPI.instance())}inject(e,t,r=o.defaultTextMapSetter){return this._getGlobalPropagator().inject(e,t,r)}extract(e,t,r=o.defaultTextMapGetter){return this._getGlobalPropagator().extract(e,t,r)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,n.unregisterGlobal)(u,s.DiagAPI.instance())}_getGlobalPropagator(){return(0,n.getGlobal)(u)||l}}t.PropagationAPI=PropagationAPI},997:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.TraceAPI=void 0;const n=r(172);const a=r(846);const o=r(139);const i=r(607);const c=r(930);const s=\"trace\";class TraceAPI{constructor(){this._proxyTracerProvider=new a.ProxyTracerProvider;this.wrapSpanContext=o.wrapSpanContext;this.isSpanContextValid=o.isSpanContextValid;this.deleteSpan=i.deleteSpan;this.getSpan=i.getSpan;this.getActiveSpan=i.getActiveSpan;this.getSpanContext=i.getSpanContext;this.setSpan=i.setSpan;this.setSpanContext=i.setSpanContext}static getInstance(){if(!this._instance){this._instance=new TraceAPI}return this._instance}setGlobalTracerProvider(e){const t=(0,n.registerGlobal)(s,this._proxyTracerProvider,c.DiagAPI.instance());if(t){this._proxyTracerProvider.setDelegate(e)}return t}getTracerProvider(){return(0,n.getGlobal)(s)||this._proxyTracerProvider}getTracer(e,t){return this.getTracerProvider().getTracer(e,t)}disable(){(0,n.unregisterGlobal)(s,c.DiagAPI.instance());this._proxyTracerProvider=new a.ProxyTracerProvider}}t.TraceAPI=TraceAPI},277:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.deleteBaggage=t.setBaggage=t.getActiveBaggage=t.getBaggage=void 0;const n=r(491);const a=r(780);const o=(0,a.createContextKey)(\"OpenTelemetry Baggage Key\");function getBaggage(e){return e.getValue(o)||undefined}t.getBaggage=getBaggage;function getActiveBaggage(){return getBaggage(n.ContextAPI.getInstance().active())}t.getActiveBaggage=getActiveBaggage;function setBaggage(e,t){return e.setValue(o,t)}t.setBaggage=setBaggage;function deleteBaggage(e){return e.deleteValue(o)}t.deleteBaggage=deleteBaggage},993:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.BaggageImpl=void 0;class BaggageImpl{constructor(e){this._entries=e?new Map(e):new Map}getEntry(e){const t=this._entries.get(e);if(!t){return undefined}return Object.assign({},t)}getAllEntries(){return Array.from(this._entries.entries()).map((([e,t])=>[e,t]))}setEntry(e,t){const r=new BaggageImpl(this._entries);r._entries.set(e,t);return r}removeEntry(e){const t=new BaggageImpl(this._entries);t._entries.delete(e);return t}removeEntries(...e){const t=new BaggageImpl(this._entries);for(const r of e){t._entries.delete(r)}return t}clear(){return new BaggageImpl}}t.BaggageImpl=BaggageImpl},830:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.baggageEntryMetadataSymbol=void 0;t.baggageEntryMetadataSymbol=Symbol(\"BaggageEntryMetadata\")},369:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.baggageEntryMetadataFromString=t.createBaggage=void 0;const n=r(930);const a=r(993);const o=r(830);const i=n.DiagAPI.instance();function createBaggage(e={}){return new a.BaggageImpl(new Map(Object.entries(e)))}t.createBaggage=createBaggage;function baggageEntryMetadataFromString(e){if(typeof e!==\"string\"){i.error(`Cannot create baggage metadata from unknown type: ${typeof e}`);e=\"\"}return{__TYPE__:o.baggageEntryMetadataSymbol,toString(){return e}}}t.baggageEntryMetadataFromString=baggageEntryMetadataFromString},67:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.context=void 0;const n=r(491);t.context=n.ContextAPI.getInstance()},223:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.NoopContextManager=void 0;const n=r(780);class NoopContextManager{active(){return n.ROOT_CONTEXT}with(e,t,r,...n){return t.call(r,...n)}bind(e,t){return t}enable(){return this}disable(){return this}}t.NoopContextManager=NoopContextManager},780:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.ROOT_CONTEXT=t.createContextKey=void 0;function createContextKey(e){return Symbol.for(e)}t.createContextKey=createContextKey;class BaseContext{constructor(e){const t=this;t._currentContext=e?new Map(e):new Map;t.getValue=e=>t._currentContext.get(e);t.setValue=(e,r)=>{const n=new BaseContext(t._currentContext);n._currentContext.set(e,r);return n};t.deleteValue=e=>{const r=new BaseContext(t._currentContext);r._currentContext.delete(e);return r}}}t.ROOT_CONTEXT=new BaseContext},506:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.diag=void 0;const n=r(930);t.diag=n.DiagAPI.instance()},56:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.DiagComponentLogger=void 0;const n=r(172);class DiagComponentLogger{constructor(e){this._namespace=e.namespace||\"DiagComponentLogger\"}debug(...e){return logProxy(\"debug\",this._namespace,e)}error(...e){return logProxy(\"error\",this._namespace,e)}info(...e){return logProxy(\"info\",this._namespace,e)}warn(...e){return logProxy(\"warn\",this._namespace,e)}verbose(...e){return logProxy(\"verbose\",this._namespace,e)}}t.DiagComponentLogger=DiagComponentLogger;function logProxy(e,t,r){const a=(0,n.getGlobal)(\"diag\");if(!a){return}r.unshift(t);return a[e](...r)}},972:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.DiagConsoleLogger=void 0;const r=[{n:\"error\",c:\"error\"},{n:\"warn\",c:\"warn\"},{n:\"info\",c:\"info\"},{n:\"debug\",c:\"debug\"},{n:\"verbose\",c:\"trace\"}];class DiagConsoleLogger{constructor(){function _consoleFunc(e){return function(...t){if(console){let r=console[e];if(typeof r!==\"function\"){r=console.log}if(typeof r===\"function\"){return r.apply(console,t)}}}}for(let e=0;e<r.length;e++){this[r[e].n]=_consoleFunc(r[e].c)}}}t.DiagConsoleLogger=DiagConsoleLogger},912:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.createLogLevelDiagLogger=void 0;const n=r(957);function createLogLevelDiagLogger(e,t){if(e<n.DiagLogLevel.NONE){e=n.DiagLogLevel.NONE}else if(e>n.DiagLogLevel.ALL){e=n.DiagLogLevel.ALL}t=t||{};function _filterFunc(r,n){const a=t[r];if(typeof a===\"function\"&&e>=n){return a.bind(t)}return function(){}}return{error:_filterFunc(\"error\",n.DiagLogLevel.ERROR),warn:_filterFunc(\"warn\",n.DiagLogLevel.WARN),info:_filterFunc(\"info\",n.DiagLogLevel.INFO),debug:_filterFunc(\"debug\",n.DiagLogLevel.DEBUG),verbose:_filterFunc(\"verbose\",n.DiagLogLevel.VERBOSE)}}t.createLogLevelDiagLogger=createLogLevelDiagLogger},957:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.DiagLogLevel=void 0;var r;(function(e){e[e[\"NONE\"]=0]=\"NONE\";e[e[\"ERROR\"]=30]=\"ERROR\";e[e[\"WARN\"]=50]=\"WARN\";e[e[\"INFO\"]=60]=\"INFO\";e[e[\"DEBUG\"]=70]=\"DEBUG\";e[e[\"VERBOSE\"]=80]=\"VERBOSE\";e[e[\"ALL\"]=9999]=\"ALL\"})(r=t.DiagLogLevel||(t.DiagLogLevel={}))},172:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.unregisterGlobal=t.getGlobal=t.registerGlobal=void 0;const n=r(200);const a=r(521);const o=r(130);const i=a.VERSION.split(\".\")[0];const c=Symbol.for(`opentelemetry.js.api.${i}`);const s=n._globalThis;function registerGlobal(e,t,r,n=false){var o;const i=s[c]=(o=s[c])!==null&&o!==void 0?o:{version:a.VERSION};if(!n&&i[e]){const t=new Error(`@opentelemetry/api: Attempted duplicate registration of API: ${e}`);r.error(t.stack||t.message);return false}if(i.version!==a.VERSION){const t=new Error(`@opentelemetry/api: Registration of version v${i.version} for ${e} does not match previously registered API v${a.VERSION}`);r.error(t.stack||t.message);return false}i[e]=t;r.debug(`@opentelemetry/api: Registered a global for ${e} v${a.VERSION}.`);return true}t.registerGlobal=registerGlobal;function getGlobal(e){var t,r;const n=(t=s[c])===null||t===void 0?void 0:t.version;if(!n||!(0,o.isCompatible)(n)){return}return(r=s[c])===null||r===void 0?void 0:r[e]}t.getGlobal=getGlobal;function unregisterGlobal(e,t){t.debug(`@opentelemetry/api: Unregistering a global for ${e} v${a.VERSION}.`);const r=s[c];if(r){delete r[e]}}t.unregisterGlobal=unregisterGlobal},130:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.isCompatible=t._makeCompatibilityCheck=void 0;const n=r(521);const a=/^(\\d+)\\.(\\d+)\\.(\\d+)(-(.+))?$/;function _makeCompatibilityCheck(e){const t=new Set([e]);const r=new Set;const n=e.match(a);if(!n){return()=>false}const o={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(o.prerelease!=null){return function isExactmatch(t){return t===e}}function _reject(e){r.add(e);return false}function _accept(e){t.add(e);return true}return function isCompatible(e){if(t.has(e)){return true}if(r.has(e)){return false}const n=e.match(a);if(!n){return _reject(e)}const i={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(i.prerelease!=null){return _reject(e)}if(o.major!==i.major){return _reject(e)}if(o.major===0){if(o.minor===i.minor&&o.patch<=i.patch){return _accept(e)}return _reject(e)}if(o.minor<=i.minor){return _accept(e)}return _reject(e)}}t._makeCompatibilityCheck=_makeCompatibilityCheck;t.isCompatible=_makeCompatibilityCheck(n.VERSION)},886:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.metrics=void 0;const n=r(653);t.metrics=n.MetricsAPI.getInstance()},901:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.ValueType=void 0;var r;(function(e){e[e[\"INT\"]=0]=\"INT\";e[e[\"DOUBLE\"]=1]=\"DOUBLE\"})(r=t.ValueType||(t.ValueType={}))},102:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.createNoopMeter=t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=t.NOOP_OBSERVABLE_GAUGE_METRIC=t.NOOP_OBSERVABLE_COUNTER_METRIC=t.NOOP_UP_DOWN_COUNTER_METRIC=t.NOOP_HISTOGRAM_METRIC=t.NOOP_COUNTER_METRIC=t.NOOP_METER=t.NoopObservableUpDownCounterMetric=t.NoopObservableGaugeMetric=t.NoopObservableCounterMetric=t.NoopObservableMetric=t.NoopHistogramMetric=t.NoopUpDownCounterMetric=t.NoopCounterMetric=t.NoopMetric=t.NoopMeter=void 0;class NoopMeter{constructor(){}createHistogram(e,r){return t.NOOP_HISTOGRAM_METRIC}createCounter(e,r){return t.NOOP_COUNTER_METRIC}createUpDownCounter(e,r){return t.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(e,r){return t.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(e,r){return t.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(e,r){return t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(e,t){}removeBatchObservableCallback(e){}}t.NoopMeter=NoopMeter;class NoopMetric{}t.NoopMetric=NoopMetric;class NoopCounterMetric extends NoopMetric{add(e,t){}}t.NoopCounterMetric=NoopCounterMetric;class NoopUpDownCounterMetric extends NoopMetric{add(e,t){}}t.NoopUpDownCounterMetric=NoopUpDownCounterMetric;class NoopHistogramMetric extends NoopMetric{record(e,t){}}t.NoopHistogramMetric=NoopHistogramMetric;class NoopObservableMetric{addCallback(e){}removeCallback(e){}}t.NoopObservableMetric=NoopObservableMetric;class NoopObservableCounterMetric extends NoopObservableMetric{}t.NoopObservableCounterMetric=NoopObservableCounterMetric;class NoopObservableGaugeMetric extends NoopObservableMetric{}t.NoopObservableGaugeMetric=NoopObservableGaugeMetric;class NoopObservableUpDownCounterMetric extends NoopObservableMetric{}t.NoopObservableUpDownCounterMetric=NoopObservableUpDownCounterMetric;t.NOOP_METER=new NoopMeter;t.NOOP_COUNTER_METRIC=new NoopCounterMetric;t.NOOP_HISTOGRAM_METRIC=new NoopHistogramMetric;t.NOOP_UP_DOWN_COUNTER_METRIC=new NoopUpDownCounterMetric;t.NOOP_OBSERVABLE_COUNTER_METRIC=new NoopObservableCounterMetric;t.NOOP_OBSERVABLE_GAUGE_METRIC=new NoopObservableGaugeMetric;t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new NoopObservableUpDownCounterMetric;function createNoopMeter(){return t.NOOP_METER}t.createNoopMeter=createNoopMeter},660:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.NOOP_METER_PROVIDER=t.NoopMeterProvider=void 0;const n=r(102);class NoopMeterProvider{getMeter(e,t,r){return n.NOOP_METER}}t.NoopMeterProvider=NoopMeterProvider;t.NOOP_METER_PROVIDER=new NoopMeterProvider},200:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var a=this&&this.__exportStar||function(e,t){for(var r in e)if(r!==\"default\"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:true});a(r(46),t)},651:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t._globalThis=void 0;t._globalThis=typeof globalThis===\"object\"?globalThis:__webpack_require__.g},46:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var a=this&&this.__exportStar||function(e,t){for(var r in e)if(r!==\"default\"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:true});a(r(651),t)},939:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.propagation=void 0;const n=r(181);t.propagation=n.PropagationAPI.getInstance()},874:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.NoopTextMapPropagator=void 0;class NoopTextMapPropagator{inject(e,t){}extract(e,t){return e}fields(){return[]}}t.NoopTextMapPropagator=NoopTextMapPropagator},194:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.defaultTextMapSetter=t.defaultTextMapGetter=void 0;t.defaultTextMapGetter={get(e,t){if(e==null){return undefined}return e[t]},keys(e){if(e==null){return[]}return Object.keys(e)}};t.defaultTextMapSetter={set(e,t,r){if(e==null){return}e[t]=r}}},845:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.trace=void 0;const n=r(997);t.trace=n.TraceAPI.getInstance()},403:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.NonRecordingSpan=void 0;const n=r(476);class NonRecordingSpan{constructor(e=n.INVALID_SPAN_CONTEXT){this._spanContext=e}spanContext(){return this._spanContext}setAttribute(e,t){return this}setAttributes(e){return this}addEvent(e,t){return this}setStatus(e){return this}updateName(e){return this}end(e){}isRecording(){return false}recordException(e,t){}}t.NonRecordingSpan=NonRecordingSpan},614:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.NoopTracer=void 0;const n=r(491);const a=r(607);const o=r(403);const i=r(139);const c=n.ContextAPI.getInstance();class NoopTracer{startSpan(e,t,r=c.active()){const n=Boolean(t===null||t===void 0?void 0:t.root);if(n){return new o.NonRecordingSpan}const s=r&&(0,a.getSpanContext)(r);if(isSpanContext(s)&&(0,i.isSpanContextValid)(s)){return new o.NonRecordingSpan(s)}else{return new o.NonRecordingSpan}}startActiveSpan(e,t,r,n){let o;let i;let s;if(arguments.length<2){return}else if(arguments.length===2){s=t}else if(arguments.length===3){o=t;s=r}else{o=t;i=r;s=n}const u=i!==null&&i!==void 0?i:c.active();const l=this.startSpan(e,o,u);const g=(0,a.setSpan)(u,l);return c.with(g,s,undefined,l)}}t.NoopTracer=NoopTracer;function isSpanContext(e){return typeof e===\"object\"&&typeof e[\"spanId\"]===\"string\"&&typeof e[\"traceId\"]===\"string\"&&typeof e[\"traceFlags\"]===\"number\"}},124:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.NoopTracerProvider=void 0;const n=r(614);class NoopTracerProvider{getTracer(e,t,r){return new n.NoopTracer}}t.NoopTracerProvider=NoopTracerProvider},125:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.ProxyTracer=void 0;const n=r(614);const a=new n.NoopTracer;class ProxyTracer{constructor(e,t,r,n){this._provider=e;this.name=t;this.version=r;this.options=n}startSpan(e,t,r){return this._getTracer().startSpan(e,t,r)}startActiveSpan(e,t,r,n){const a=this._getTracer();return Reflect.apply(a.startActiveSpan,a,arguments)}_getTracer(){if(this._delegate){return this._delegate}const e=this._provider.getDelegateTracer(this.name,this.version,this.options);if(!e){return a}this._delegate=e;return this._delegate}}t.ProxyTracer=ProxyTracer},846:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.ProxyTracerProvider=void 0;const n=r(125);const a=r(124);const o=new a.NoopTracerProvider;class ProxyTracerProvider{getTracer(e,t,r){var a;return(a=this.getDelegateTracer(e,t,r))!==null&&a!==void 0?a:new n.ProxyTracer(this,e,t,r)}getDelegate(){var e;return(e=this._delegate)!==null&&e!==void 0?e:o}setDelegate(e){this._delegate=e}getDelegateTracer(e,t,r){var n;return(n=this._delegate)===null||n===void 0?void 0:n.getTracer(e,t,r)}}t.ProxyTracerProvider=ProxyTracerProvider},996:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.SamplingDecision=void 0;var r;(function(e){e[e[\"NOT_RECORD\"]=0]=\"NOT_RECORD\";e[e[\"RECORD\"]=1]=\"RECORD\";e[e[\"RECORD_AND_SAMPLED\"]=2]=\"RECORD_AND_SAMPLED\"})(r=t.SamplingDecision||(t.SamplingDecision={}))},607:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.getSpanContext=t.setSpanContext=t.deleteSpan=t.setSpan=t.getActiveSpan=t.getSpan=void 0;const n=r(780);const a=r(403);const o=r(491);const i=(0,n.createContextKey)(\"OpenTelemetry Context Key SPAN\");function getSpan(e){return e.getValue(i)||undefined}t.getSpan=getSpan;function getActiveSpan(){return getSpan(o.ContextAPI.getInstance().active())}t.getActiveSpan=getActiveSpan;function setSpan(e,t){return e.setValue(i,t)}t.setSpan=setSpan;function deleteSpan(e){return e.deleteValue(i)}t.deleteSpan=deleteSpan;function setSpanContext(e,t){return setSpan(e,new a.NonRecordingSpan(t))}t.setSpanContext=setSpanContext;function getSpanContext(e){var t;return(t=getSpan(e))===null||t===void 0?void 0:t.spanContext()}t.getSpanContext=getSpanContext},325:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.TraceStateImpl=void 0;const n=r(564);const a=32;const o=512;const i=\",\";const c=\"=\";class TraceStateImpl{constructor(e){this._internalState=new Map;if(e)this._parse(e)}set(e,t){const r=this._clone();if(r._internalState.has(e)){r._internalState.delete(e)}r._internalState.set(e,t);return r}unset(e){const t=this._clone();t._internalState.delete(e);return t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce(((e,t)=>{e.push(t+c+this.get(t));return e}),[]).join(i)}_parse(e){if(e.length>o)return;this._internalState=e.split(i).reverse().reduce(((e,t)=>{const r=t.trim();const a=r.indexOf(c);if(a!==-1){const o=r.slice(0,a);const i=r.slice(a+1,t.length);if((0,n.validateKey)(o)&&(0,n.validateValue)(i)){e.set(o,i)}else{}}return e}),new Map);if(this._internalState.size>a){this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,a))}}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){const e=new TraceStateImpl;e._internalState=new Map(this._internalState);return e}}t.TraceStateImpl=TraceStateImpl},564:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.validateValue=t.validateKey=void 0;const r=\"[_0-9a-z-*/]\";const n=`[a-z]${r}{0,255}`;const a=`[a-z0-9]${r}{0,240}@[a-z]${r}{0,13}`;const o=new RegExp(`^(?:${n}|${a})$`);const i=/^[ -~]{0,255}[!-~]$/;const c=/,|=/;function validateKey(e){return o.test(e)}t.validateKey=validateKey;function validateValue(e){return i.test(e)&&!c.test(e)}t.validateValue=validateValue},98:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.createTraceState=void 0;const n=r(325);function createTraceState(e){return new n.TraceStateImpl(e)}t.createTraceState=createTraceState},476:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=void 0;const n=r(475);t.INVALID_SPANID=\"0000000000000000\";t.INVALID_TRACEID=\"00000000000000000000000000000000\";t.INVALID_SPAN_CONTEXT={traceId:t.INVALID_TRACEID,spanId:t.INVALID_SPANID,traceFlags:n.TraceFlags.NONE}},357:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.SpanKind=void 0;var r;(function(e){e[e[\"INTERNAL\"]=0]=\"INTERNAL\";e[e[\"SERVER\"]=1]=\"SERVER\";e[e[\"CLIENT\"]=2]=\"CLIENT\";e[e[\"PRODUCER\"]=3]=\"PRODUCER\";e[e[\"CONSUMER\"]=4]=\"CONSUMER\"})(r=t.SpanKind||(t.SpanKind={}))},139:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.wrapSpanContext=t.isSpanContextValid=t.isValidSpanId=t.isValidTraceId=void 0;const n=r(476);const a=r(403);const o=/^([0-9a-f]{32})$/i;const i=/^[0-9a-f]{16}$/i;function isValidTraceId(e){return o.test(e)&&e!==n.INVALID_TRACEID}t.isValidTraceId=isValidTraceId;function isValidSpanId(e){return i.test(e)&&e!==n.INVALID_SPANID}t.isValidSpanId=isValidSpanId;function isSpanContextValid(e){return isValidTraceId(e.traceId)&&isValidSpanId(e.spanId)}t.isSpanContextValid=isSpanContextValid;function wrapSpanContext(e){return new a.NonRecordingSpan(e)}t.wrapSpanContext=wrapSpanContext},847:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.SpanStatusCode=void 0;var r;(function(e){e[e[\"UNSET\"]=0]=\"UNSET\";e[e[\"OK\"]=1]=\"OK\";e[e[\"ERROR\"]=2]=\"ERROR\"})(r=t.SpanStatusCode||(t.SpanStatusCode={}))},475:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.TraceFlags=void 0;var r;(function(e){e[e[\"NONE\"]=0]=\"NONE\";e[e[\"SAMPLED\"]=1]=\"SAMPLED\"})(r=t.TraceFlags||(t.TraceFlags={}))},521:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.VERSION=void 0;t.VERSION=\"1.6.0\"}};var t={};function __nccwpck_require__(r){var n=t[r];if(n!==undefined){return n.exports}var a=t[r]={exports:{}};var o=true;try{e[r].call(a.exports,a,a.exports,__nccwpck_require__);o=false}finally{if(o)delete t[r]}return a.exports}if(typeof __nccwpck_require__!==\"undefined\")__nccwpck_require__.ab=__dirname+\"/\";var r={};(()=>{var e=r;Object.defineProperty(e,\"__esModule\",{value:true});e.trace=e.propagation=e.metrics=e.diag=e.context=e.INVALID_SPAN_CONTEXT=e.INVALID_TRACEID=e.INVALID_SPANID=e.isValidSpanId=e.isValidTraceId=e.isSpanContextValid=e.createTraceState=e.TraceFlags=e.SpanStatusCode=e.SpanKind=e.SamplingDecision=e.ProxyTracerProvider=e.ProxyTracer=e.defaultTextMapSetter=e.defaultTextMapGetter=e.ValueType=e.createNoopMeter=e.DiagLogLevel=e.DiagConsoleLogger=e.ROOT_CONTEXT=e.createContextKey=e.baggageEntryMetadataFromString=void 0;var t=__nccwpck_require__(369);Object.defineProperty(e,\"baggageEntryMetadataFromString\",{enumerable:true,get:function(){return t.baggageEntryMetadataFromString}});var n=__nccwpck_require__(780);Object.defineProperty(e,\"createContextKey\",{enumerable:true,get:function(){return n.createContextKey}});Object.defineProperty(e,\"ROOT_CONTEXT\",{enumerable:true,get:function(){return n.ROOT_CONTEXT}});var a=__nccwpck_require__(972);Object.defineProperty(e,\"DiagConsoleLogger\",{enumerable:true,get:function(){return a.DiagConsoleLogger}});var o=__nccwpck_require__(957);Object.defineProperty(e,\"DiagLogLevel\",{enumerable:true,get:function(){return o.DiagLogLevel}});var i=__nccwpck_require__(102);Object.defineProperty(e,\"createNoopMeter\",{enumerable:true,get:function(){return i.createNoopMeter}});var c=__nccwpck_require__(901);Object.defineProperty(e,\"ValueType\",{enumerable:true,get:function(){return c.ValueType}});var s=__nccwpck_require__(194);Object.defineProperty(e,\"defaultTextMapGetter\",{enumerable:true,get:function(){return s.defaultTextMapGetter}});Object.defineProperty(e,\"defaultTextMapSetter\",{enumerable:true,get:function(){return s.defaultTextMapSetter}});var u=__nccwpck_require__(125);Object.defineProperty(e,\"ProxyTracer\",{enumerable:true,get:function(){return u.ProxyTracer}});var l=__nccwpck_require__(846);Object.defineProperty(e,\"ProxyTracerProvider\",{enumerable:true,get:function(){return l.ProxyTracerProvider}});var g=__nccwpck_require__(996);Object.defineProperty(e,\"SamplingDecision\",{enumerable:true,get:function(){return g.SamplingDecision}});var p=__nccwpck_require__(357);Object.defineProperty(e,\"SpanKind\",{enumerable:true,get:function(){return p.SpanKind}});var d=__nccwpck_require__(847);Object.defineProperty(e,\"SpanStatusCode\",{enumerable:true,get:function(){return d.SpanStatusCode}});var _=__nccwpck_require__(475);Object.defineProperty(e,\"TraceFlags\",{enumerable:true,get:function(){return _.TraceFlags}});var f=__nccwpck_require__(98);Object.defineProperty(e,\"createTraceState\",{enumerable:true,get:function(){return f.createTraceState}});var b=__nccwpck_require__(139);Object.defineProperty(e,\"isSpanContextValid\",{enumerable:true,get:function(){return b.isSpanContextValid}});Object.defineProperty(e,\"isValidTraceId\",{enumerable:true,get:function(){return b.isValidTraceId}});Object.defineProperty(e,\"isValidSpanId\",{enumerable:true,get:function(){return b.isValidSpanId}});var v=__nccwpck_require__(476);Object.defineProperty(e,\"INVALID_SPANID\",{enumerable:true,get:function(){return v.INVALID_SPANID}});Object.defineProperty(e,\"INVALID_TRACEID\",{enumerable:true,get:function(){return v.INVALID_TRACEID}});Object.defineProperty(e,\"INVALID_SPAN_CONTEXT\",{enumerable:true,get:function(){return v.INVALID_SPAN_CONTEXT}});const O=__nccwpck_require__(67);Object.defineProperty(e,\"context\",{enumerable:true,get:function(){return O.context}});const P=__nccwpck_require__(506);Object.defineProperty(e,\"diag\",{enumerable:true,get:function(){return P.diag}});const N=__nccwpck_require__(886);Object.defineProperty(e,\"metrics\",{enumerable:true,get:function(){return N.metrics}});const S=__nccwpck_require__(939);Object.defineProperty(e,\"propagation\",{enumerable:true,get:function(){return S.propagation}});const C=__nccwpck_require__(845);Object.defineProperty(e,\"trace\",{enumerable:true,get:function(){return C.trace}});e[\"default\"]={context:O.context,diag:P.diag,metrics:N.metrics,propagation:S.propagation,trace:C.trace}})();module.exports=r})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jb21waWxlZC9Ab3BlbnRlbGVtZXRyeS9hcGkvaW5kZXguanMiLCJtYXBwaW5ncyI6IjtBQUFBLE1BQU0sYUFBYSxPQUFPLGNBQWMsc0NBQXNDLFdBQVcsRUFBRSxvQkFBb0IsZUFBZSxlQUFlLGVBQWUsa0JBQWtCLGlDQUFpQyxpQkFBaUIsZUFBZSxxQkFBcUIsb0JBQW9CLDhCQUE4QixzQkFBc0IsMkJBQTJCLHFEQUFxRCxTQUFTLDBDQUEwQyxpQkFBaUIsa0RBQWtELFVBQVUsMkNBQTJDLHFCQUFxQiw0QkFBNEIsVUFBVSxvQ0FBb0MsZ0RBQWdELHdCQUF3QixlQUFlLHNDQUFzQyxXQUFXLEVBQUUsaUJBQWlCLGNBQWMsZUFBZSxlQUFlLGVBQWUsZUFBZSxjQUFjLGNBQWMsc0JBQXNCLHNCQUFzQixnQ0FBZ0MsYUFBYSxtQkFBbUIsYUFBYSxzQkFBc0IsNkJBQTZCLElBQUksVUFBVSxVQUFVLHdKQUF3SixvREFBb0QsYUFBYSx3QkFBd0IsR0FBRyxZQUFZLGdDQUFnQyxrR0FBa0csa0NBQWtDLHFGQUFxRixrREFBa0QsRUFBRSxHQUFHLG9FQUFvRSxFQUFFLEdBQUcsNkNBQTZDLHNCQUFzQixlQUFlLDZCQUE2Qix3REFBd0QsK0JBQStCLDJCQUEyQix5QkFBeUIseUJBQXlCLDJCQUEyQixrQkFBa0Isb0JBQW9CLDJCQUEyQix1QkFBdUIsa0JBQWtCLGVBQWUsc0NBQXNDLFdBQVcsRUFBRSxvQkFBb0IsZUFBZSxlQUFlLGVBQWUsa0JBQWtCLGlCQUFpQixlQUFlLHFCQUFxQixvQkFBb0IsOEJBQThCLHNCQUFzQiwwQkFBMEIscURBQXFELG1CQUFtQixnREFBZ0QsZ0JBQWdCLCtDQUErQyxVQUFVLGdEQUFnRCx3QkFBd0IsZUFBZSxzQ0FBc0MsV0FBVyxFQUFFLHdCQUF3QixlQUFlLGVBQWUsZUFBZSxlQUFlLGVBQWUsZUFBZSxzQkFBc0Isb0NBQW9DLHFCQUFxQixjQUFjLG1DQUFtQyw2QkFBNkIseUNBQXlDLDZCQUE2QixtQ0FBbUMscUJBQXFCLG9CQUFvQixrQ0FBa0Msc0JBQXNCLHVCQUF1QixxREFBcUQscUNBQXFDLGlEQUFpRCxzQ0FBc0Msa0RBQWtELFNBQVMsNENBQTRDLFVBQVUsK0NBQStDLHVCQUF1Qiw2QkFBNkIsZ0NBQWdDLGVBQWUsc0NBQXNDLFdBQVcsRUFBRSxrQkFBa0IsZUFBZSxlQUFlLGVBQWUsZUFBZSxlQUFlLGdCQUFnQixlQUFlLGNBQWMsb0RBQW9ELHVDQUF1Qyw2Q0FBNkMsNkJBQTZCLHVCQUF1QixtQ0FBbUMscUNBQXFDLHVCQUF1QixxQ0FBcUMscUJBQXFCLG9CQUFvQiw0QkFBNEIsc0JBQXNCLDJCQUEyQiwrRUFBK0UsTUFBTSx5Q0FBeUMsU0FBUyxvQkFBb0Isb0RBQW9ELGVBQWUsK0NBQStDLFVBQVUsK0NBQStDLHFEQUFxRCxvQkFBb0IsZUFBZSxzQ0FBc0MsV0FBVyxFQUFFLG9FQUFvRSxlQUFlLGVBQWUsNERBQTRELHVCQUF1QixnQ0FBZ0Msd0JBQXdCLDRCQUE0Qix1REFBdUQsb0NBQW9DLHlCQUF5Qix1QkFBdUIsd0JBQXdCLDBCQUEwQix3QkFBd0IsOEJBQThCLGFBQWEsc0NBQXNDLFdBQVcsRUFBRSxxQkFBcUIsa0JBQWtCLGVBQWUsbUNBQW1DLFlBQVksNkJBQTZCLE9BQU8saUJBQWlCLHVCQUF1QixJQUFJLGdCQUFnQixpRUFBaUUsY0FBYyx1Q0FBdUMsb0JBQW9CLFNBQVMsZUFBZSx1Q0FBdUMscUJBQXFCLFNBQVMsb0JBQW9CLHVDQUF1QyxrQkFBa0IscUJBQXFCLFNBQVMsUUFBUSx3QkFBd0IsMEJBQTBCLGFBQWEsc0NBQXNDLFdBQVcsRUFBRSxvQ0FBb0MsNERBQTRELGVBQWUsc0NBQXNDLFdBQVcsRUFBRSx3REFBd0QsZUFBZSxlQUFlLGVBQWUsNkJBQTZCLDJCQUEyQixFQUFFLHFEQUFxRCw4QkFBOEIsMkNBQTJDLHdCQUF3Qiw2REFBNkQsU0FBUyxHQUFHLEtBQUssT0FBTyxpREFBaUQsV0FBVyxnRUFBZ0UsY0FBYyxzQ0FBc0MsV0FBVyxFQUFFLGlCQUFpQixlQUFlLHFDQUFxQyxlQUFlLHNDQUFzQyxXQUFXLEVBQUUsNEJBQTRCLGVBQWUseUJBQXlCLFNBQVMsc0JBQXNCLGlCQUFpQixzQkFBc0IsVUFBVSxTQUFTLFNBQVMsWUFBWSxVQUFVLGFBQWEsd0NBQXdDLGFBQWEsc0NBQXNDLFdBQVcsRUFBRSx5Q0FBeUMsNkJBQTZCLHFCQUFxQixvQ0FBb0Msa0JBQWtCLGVBQWUsYUFBYSx1Q0FBdUMsdUNBQXVDLG1CQUFtQiwyQ0FBMkMsMkJBQTJCLFVBQVUsa0JBQWtCLDJDQUEyQyw0QkFBNEIsV0FBVywrQkFBK0IsZUFBZSxzQ0FBc0MsV0FBVyxFQUFFLGNBQWMsZUFBZSw0QkFBNEIsY0FBYyxzQ0FBc0MsV0FBVyxFQUFFLDZCQUE2QixlQUFlLDBCQUEwQixlQUFlLG1EQUFtRCxZQUFZLDJDQUEyQyxZQUFZLDJDQUEyQyxXQUFXLDBDQUEwQyxXQUFXLDBDQUEwQyxjQUFjLDhDQUE4QywwQ0FBMEMseUJBQXlCLGdDQUFnQyxPQUFPLE9BQU8sYUFBYSxtQkFBbUIsYUFBYSxzQ0FBc0MsV0FBVyxFQUFFLDJCQUEyQixVQUFVLG9CQUFvQixFQUFFLGtCQUFrQixFQUFFLGtCQUFrQixFQUFFLG9CQUFvQixFQUFFLHNCQUFzQixFQUFFLHdCQUF3QixjQUFjLHlCQUF5QixzQkFBc0IsWUFBWSxpQkFBaUIsMEJBQTBCLGNBQWMsMEJBQTBCLDZCQUE2QixZQUFZLFdBQVcsS0FBSyxvQ0FBb0Msc0NBQXNDLGVBQWUsc0NBQXNDLFdBQVcsRUFBRSxrQ0FBa0MsZUFBZSx1Q0FBdUMsMEJBQTBCLHNCQUFzQiw4QkFBOEIscUJBQXFCLFFBQVEsMEJBQTBCLGFBQWEsZ0NBQWdDLGlCQUFpQixvQkFBb0IsT0FBTyxpUEFBaVAsb0RBQW9ELGFBQWEsc0NBQXNDLFdBQVcsRUFBRSxzQkFBc0IsTUFBTSxhQUFhLHNCQUFzQix5QkFBeUIsdUJBQXVCLHVCQUF1Qix5QkFBeUIsNkJBQTZCLHVCQUF1QixzQ0FBc0MsR0FBRyxlQUFlLHNDQUFzQyxXQUFXLEVBQUUsdURBQXVELGVBQWUsZUFBZSxlQUFlLGdDQUFnQywyQ0FBMkMsRUFBRSxHQUFHLHNCQUFzQix1Q0FBdUMsTUFBTSw0Q0FBNEMsbUJBQW1CLGFBQWEsa0ZBQWtGLEVBQUUsR0FBRyw0QkFBNEIsYUFBYSwwQkFBMEIsa0VBQWtFLFdBQVcsTUFBTSxHQUFHLDRDQUE0QyxVQUFVLEdBQUcsNEJBQTRCLGFBQWEsT0FBTyx1REFBdUQsR0FBRyxHQUFHLFVBQVUsSUFBSSxZQUFZLGdDQUFnQyxzQkFBc0IsUUFBUSxxREFBcUQsK0JBQStCLE9BQU8sOENBQThDLHNCQUFzQiwrQkFBK0IsMERBQTBELEdBQUcsR0FBRyxVQUFVLElBQUksYUFBYSxNQUFNLGFBQWEsb0NBQW9DLGVBQWUsc0NBQXNDLFdBQVcsRUFBRSxnREFBZ0QsZUFBZSx3Q0FBd0Msb0NBQW9DLHFCQUFxQixnQkFBZ0IsbUJBQW1CLE9BQU8sZ0JBQWdCLFNBQVMscURBQXFELHVCQUF1QixnQ0FBZ0MsY0FBYyxvQkFBb0IsU0FBUyxhQUFhLG9CQUFvQixTQUFTLFlBQVksZ0NBQWdDLGFBQWEsWUFBWSxhQUFhLGFBQWEsbUJBQW1CLE9BQU8sa0JBQWtCLFNBQVMscURBQXFELHVCQUF1QixrQkFBa0Isc0JBQXNCLGtCQUFrQixnQkFBZ0Isd0NBQXdDLGtCQUFrQixrQkFBa0IscUJBQXFCLGtCQUFrQixtQkFBbUIsa0RBQWtELGtEQUFrRCxlQUFlLHNDQUFzQyxXQUFXLEVBQUUsaUJBQWlCLGVBQWUscUNBQXFDLGFBQWEsc0NBQXNDLFdBQVcsRUFBRSxtQkFBbUIsTUFBTSxhQUFhLG9CQUFvQiwwQkFBMEIsZ0NBQWdDLEdBQUcsYUFBYSxzQ0FBc0MsV0FBVyxFQUFFLDZhQUE2YSxnQkFBZ0IsZUFBZSxxQkFBcUIsK0JBQStCLG1CQUFtQiw2QkFBNkIseUJBQXlCLHFDQUFxQywyQkFBMkIsc0NBQXNDLDZCQUE2Qix3Q0FBd0MsbUNBQW1DLGdEQUFnRCxpQ0FBaUMsbUNBQW1DLHNCQUFzQixrQkFBa0Isd0JBQXdCLDJDQUEyQyxXQUFXLHNDQUFzQyxpREFBaUQsV0FBVyxrREFBa0QsNkNBQTZDLGNBQWMsMENBQTBDLDJCQUEyQixnQkFBZ0Isb0JBQW9CLDRDQUE0QyxnRUFBZ0UsMERBQTBELDhEQUE4RCxzREFBc0Qsc0VBQXNFLHNFQUFzRSwyQkFBMkIsNENBQTRDLGdEQUFnRCwwREFBMEQsaUVBQWlFLDZEQUE2RCwrRUFBK0UsMkJBQTJCLG9CQUFvQixrQ0FBa0MsZUFBZSxzQ0FBc0MsV0FBVyxFQUFFLGlEQUFpRCxlQUFlLHdCQUF3QixnQkFBZ0IscUJBQXFCLHNDQUFzQyw0Q0FBNEMscUJBQXFCLG1FQUFtRSxxQkFBcUIsMkJBQTJCLCtCQUErQixhQUFhLEVBQUUsbUJBQW1CLHFCQUFxQixVQUFVLEVBQUUsNkNBQTZDLHNGQUFzRixzQ0FBc0MsV0FBVyxFQUFFLFdBQVcsYUFBYSxzQ0FBc0MsV0FBVyxFQUFFLHFCQUFxQixzREFBc0QscUJBQU0sQ0FBQyxvQkFBb0IsbUVBQW1FLHFCQUFxQiwyQkFBMkIsK0JBQStCLGFBQWEsRUFBRSxtQkFBbUIscUJBQXFCLFVBQVUsRUFBRSw2Q0FBNkMsc0ZBQXNGLHNDQUFzQyxXQUFXLEVBQUUsWUFBWSxlQUFlLHNDQUFzQyxXQUFXLEVBQUUscUJBQXFCLGVBQWUsNkNBQTZDLGFBQWEsc0NBQXNDLFdBQVcsRUFBRSwrQkFBK0IsNEJBQTRCLGFBQWEsYUFBYSxTQUFTLFNBQVMsVUFBVSw4Q0FBOEMsYUFBYSxzQ0FBc0MsV0FBVyxFQUFFLHFEQUFxRCx3QkFBd0IsU0FBUyxZQUFZLGlCQUFpQixZQUFZLFNBQVMsWUFBWSxTQUFTLHdCQUF3Qix3QkFBd0IsV0FBVyxZQUFZLE9BQU8sU0FBUyxlQUFlLHNDQUFzQyxXQUFXLEVBQUUsZUFBZSxlQUFlLGlDQUFpQyxlQUFlLHNDQUFzQyxXQUFXLEVBQUUsMEJBQTBCLGVBQWUsdUJBQXVCLHNDQUFzQyxvQkFBb0IsY0FBYyx5QkFBeUIsa0JBQWtCLFlBQVksaUJBQWlCLFlBQVksY0FBYyxZQUFZLGFBQWEsWUFBWSxjQUFjLFlBQVksUUFBUSxjQUFjLGFBQWEsdUJBQXVCLG9DQUFvQyxlQUFlLHNDQUFzQyxXQUFXLEVBQUUsb0JBQW9CLGVBQWUsZUFBZSxlQUFlLGVBQWUsbUNBQW1DLGlCQUFpQiw0QkFBNEIsb0RBQW9ELE1BQU0sOEJBQThCLG1DQUFtQyxrREFBa0QsaUNBQWlDLEtBQUssK0JBQStCLHlCQUF5QixNQUFNLE1BQU0sTUFBTSx1QkFBdUIsT0FBTyw4QkFBOEIsSUFBSSw4QkFBOEIsSUFBSSxJQUFJLEtBQUssSUFBSSxJQUFJLElBQUksMENBQTBDLDhCQUE4QiwyQkFBMkIsZ0NBQWdDLHdCQUF3QiwwQkFBMEIsOEhBQThILGVBQWUsc0NBQXNDLFdBQVcsRUFBRSw0QkFBNEIsZUFBZSx5QkFBeUIsaUJBQWlCLHlCQUF5Qix3Q0FBd0MsZUFBZSxzQ0FBc0MsV0FBVyxFQUFFLHFCQUFxQixlQUFlLHlCQUF5QixrQkFBa0IscUJBQXFCLGlCQUFpQixZQUFZLGVBQWUsZUFBZSxpQkFBaUIsMENBQTBDLHlCQUF5QiwwQkFBMEIsb0RBQW9ELGFBQWEsbUJBQW1CLHNCQUFzQiw4RUFBOEUsT0FBTyxTQUFTLGlCQUFpQix1QkFBdUIsMEJBQTBCLGVBQWUsc0NBQXNDLFdBQVcsRUFBRSw2QkFBNkIsZUFBZSxlQUFlLGlDQUFpQywwQkFBMEIsaUJBQWlCLE1BQU0sMkZBQTJGLGNBQWMsTUFBTSxnREFBZ0QsZUFBZSxpQkFBaUIseUJBQXlCLE1BQU0sdUVBQXVFLDBDQUEwQyxhQUFhLHNDQUFzQyxXQUFXLEVBQUUsMEJBQTBCLE1BQU0sYUFBYSxrQ0FBa0MsMEJBQTBCLGtEQUFrRCw4Q0FBOEMsR0FBRyxlQUFlLHNDQUFzQyxXQUFXLEVBQUUsMEZBQTBGLGVBQWUsZUFBZSxlQUFlLGlFQUFpRSxvQkFBb0IsZ0NBQWdDLGtCQUFrQix5QkFBeUIsb0RBQW9ELDhCQUE4QixzQkFBc0IsdUJBQXVCLGtCQUFrQix1QkFBdUIsd0JBQXdCLHdCQUF3Qiw2QkFBNkIsNENBQTRDLGdDQUFnQywyQkFBMkIsTUFBTSwrREFBK0QsZ0NBQWdDLGVBQWUsc0NBQXNDLFdBQVcsRUFBRSx3QkFBd0IsZUFBZSxXQUFXLFlBQVksWUFBWSxZQUFZLHFCQUFxQixlQUFlLDRCQUE0QixvQkFBb0IsU0FBUyxzQkFBc0IsNEJBQTRCLDJCQUEyQiwwQkFBMEIsU0FBUyxTQUFTLHNCQUFzQiwyQkFBMkIsU0FBUyxPQUFPLGtDQUFrQyxZQUFZLG9DQUFvQyx3QkFBd0IsU0FBUyxjQUFjLFVBQVUscUJBQXFCLHlEQUF5RCxpQkFBaUIscUJBQXFCLFdBQVcscUJBQXFCLDhCQUE4QixpREFBaUQsV0FBVyxPQUFPLFNBQVMsV0FBVywrQkFBK0IsNkZBQTZGLFFBQVEsd0RBQXdELFNBQVMsMkJBQTJCLDhDQUE4QyxVQUFVLGdDQUFnQyxhQUFhLHNDQUFzQyxXQUFXLEVBQUUscUNBQXFDLHVCQUF1QixnQkFBZ0IsR0FBRyxNQUFNLEVBQUUsbUJBQW1CLEdBQUcsTUFBTSxRQUFRLEdBQUcsS0FBSyxFQUFFLDBCQUEwQixFQUFFLEdBQUcsRUFBRSxLQUFLLGdCQUFnQixNQUFNLFFBQVEsY0FBYyx3QkFBd0IsaUJBQWlCLDBCQUEwQiwwQkFBMEIsNkJBQTZCLDhCQUE4QixjQUFjLHNDQUFzQyxXQUFXLEVBQUUsMEJBQTBCLGVBQWUsNkJBQTZCLCtCQUErQixvQ0FBb0MsZUFBZSxzQ0FBc0MsV0FBVyxFQUFFLGlFQUFpRSxlQUFlLG9DQUFvQyxxREFBcUQsd0JBQXdCLGdGQUFnRixhQUFhLHNDQUFzQyxXQUFXLEVBQUUsa0JBQWtCLE1BQU0sYUFBYSw4QkFBOEIsMEJBQTBCLDBCQUEwQiw4QkFBOEIsOEJBQThCLDhCQUE4QixHQUFHLGVBQWUsc0NBQXNDLFdBQVcsRUFBRSwrRUFBK0UsZUFBZSxlQUFlLG9CQUFvQixHQUFHLEtBQUssbUJBQW1CLEdBQUcsSUFBSSwyQkFBMkIsd0NBQXdDLGdDQUFnQywwQkFBMEIsdUNBQXVDLDhCQUE4QiwrQkFBK0IsMERBQTBELHdDQUF3Qyw0QkFBNEIsaUNBQWlDLGtDQUFrQyxhQUFhLHNDQUFzQyxXQUFXLEVBQUUsd0JBQXdCLE1BQU0sYUFBYSx3QkFBd0Isa0JBQWtCLHdCQUF3QiwwQ0FBMEMsR0FBRyxhQUFhLHNDQUFzQyxXQUFXLEVBQUUsb0JBQW9CLE1BQU0sYUFBYSxzQkFBc0IsNEJBQTRCLGtDQUFrQyxHQUFHLGFBQWEsc0NBQXNDLFdBQVcsRUFBRSxpQkFBaUIsb0JBQW9CLFNBQVMsZ0NBQWdDLFdBQVcsa0JBQWtCLGlCQUFpQixZQUFZLFlBQVksV0FBVyxJQUFJLHFEQUFxRCxRQUFRLFFBQVEsaUJBQWlCLGlCQUFpQixtRUFBbUUsU0FBUyxLQUFLLFNBQVMsTUFBTSxRQUFRLHNDQUFzQyxXQUFXLEVBQUUsNmNBQTZjLCtCQUErQiwwREFBMEQsK0JBQStCLHlDQUF5QyxFQUFFLCtCQUErQiw0Q0FBNEMsK0JBQStCLDJCQUEyQixFQUFFLHdDQUF3QywrQkFBK0IsdUJBQXVCLEVBQUUsK0JBQStCLDZDQUE2QywrQkFBK0IsNEJBQTRCLEVBQUUsK0JBQStCLHdDQUF3QywrQkFBK0IsdUJBQXVCLEVBQUUsK0JBQStCLDJDQUEyQywrQkFBK0IsMEJBQTBCLEVBQUUsK0JBQStCLHFDQUFxQywrQkFBK0Isb0JBQW9CLEVBQUUsK0JBQStCLGdEQUFnRCwrQkFBK0IsK0JBQStCLEVBQUUsZ0RBQWdELCtCQUErQiwrQkFBK0IsRUFBRSwrQkFBK0IsdUNBQXVDLCtCQUErQixzQkFBc0IsRUFBRSwrQkFBK0IsK0NBQStDLCtCQUErQiw4QkFBOEIsRUFBRSwrQkFBK0IsNENBQTRDLCtCQUErQiwyQkFBMkIsRUFBRSwrQkFBK0Isb0NBQW9DLCtCQUErQixtQkFBbUIsRUFBRSwrQkFBK0IsMENBQTBDLCtCQUErQix5QkFBeUIsRUFBRSwrQkFBK0Isc0NBQXNDLCtCQUErQixxQkFBcUIsRUFBRSw4QkFBOEIsNENBQTRDLCtCQUErQiwyQkFBMkIsRUFBRSwrQkFBK0IsOENBQThDLCtCQUErQiw2QkFBNkIsRUFBRSwwQ0FBMEMsK0JBQStCLHlCQUF5QixFQUFFLHlDQUF5QywrQkFBK0Isd0JBQXdCLEVBQUUsK0JBQStCLDBDQUEwQywrQkFBK0IseUJBQXlCLEVBQUUsMkNBQTJDLCtCQUErQiwwQkFBMEIsRUFBRSxnREFBZ0QsK0JBQStCLCtCQUErQixFQUFFLGdDQUFnQyxtQ0FBbUMsK0JBQStCLGtCQUFrQixFQUFFLGlDQUFpQyxnQ0FBZ0MsK0JBQStCLGVBQWUsRUFBRSxpQ0FBaUMsbUNBQW1DLCtCQUErQixrQkFBa0IsRUFBRSxpQ0FBaUMsdUNBQXVDLCtCQUErQixzQkFBc0IsRUFBRSxpQ0FBaUMsaUNBQWlDLCtCQUErQixnQkFBZ0IsRUFBRSxjQUFjLHlGQUF5RixJQUFJLGlCQUFpQiIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcbmV4dFxcZGlzdFxcY29tcGlsZWRcXEBvcGVudGVsZW1ldHJ5XFxhcGlcXGluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIigoKT0+e1widXNlIHN0cmljdFwiO3ZhciBlPXs0OTE6KGUsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTp0cnVlfSk7dC5Db250ZXh0QVBJPXZvaWQgMDtjb25zdCBuPXIoMjIzKTtjb25zdCBhPXIoMTcyKTtjb25zdCBvPXIoOTMwKTtjb25zdCBpPVwiY29udGV4dFwiO2NvbnN0IGM9bmV3IG4uTm9vcENvbnRleHRNYW5hZ2VyO2NsYXNzIENvbnRleHRBUEl7Y29uc3RydWN0b3IoKXt9c3RhdGljIGdldEluc3RhbmNlKCl7aWYoIXRoaXMuX2luc3RhbmNlKXt0aGlzLl9pbnN0YW5jZT1uZXcgQ29udGV4dEFQSX1yZXR1cm4gdGhpcy5faW5zdGFuY2V9c2V0R2xvYmFsQ29udGV4dE1hbmFnZXIoZSl7cmV0dXJuKDAsYS5yZWdpc3Rlckdsb2JhbCkoaSxlLG8uRGlhZ0FQSS5pbnN0YW5jZSgpKX1hY3RpdmUoKXtyZXR1cm4gdGhpcy5fZ2V0Q29udGV4dE1hbmFnZXIoKS5hY3RpdmUoKX13aXRoKGUsdCxyLC4uLm4pe3JldHVybiB0aGlzLl9nZXRDb250ZXh0TWFuYWdlcigpLndpdGgoZSx0LHIsLi4ubil9YmluZChlLHQpe3JldHVybiB0aGlzLl9nZXRDb250ZXh0TWFuYWdlcigpLmJpbmQoZSx0KX1fZ2V0Q29udGV4dE1hbmFnZXIoKXtyZXR1cm4oMCxhLmdldEdsb2JhbCkoaSl8fGN9ZGlzYWJsZSgpe3RoaXMuX2dldENvbnRleHRNYW5hZ2VyKCkuZGlzYWJsZSgpOygwLGEudW5yZWdpc3Rlckdsb2JhbCkoaSxvLkRpYWdBUEkuaW5zdGFuY2UoKSl9fXQuQ29udGV4dEFQST1Db250ZXh0QVBJfSw5MzA6KGUsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTp0cnVlfSk7dC5EaWFnQVBJPXZvaWQgMDtjb25zdCBuPXIoNTYpO2NvbnN0IGE9cig5MTIpO2NvbnN0IG89cig5NTcpO2NvbnN0IGk9cigxNzIpO2NvbnN0IGM9XCJkaWFnXCI7Y2xhc3MgRGlhZ0FQSXtjb25zdHJ1Y3Rvcigpe2Z1bmN0aW9uIF9sb2dQcm94eShlKXtyZXR1cm4gZnVuY3Rpb24oLi4udCl7Y29uc3Qgcj0oMCxpLmdldEdsb2JhbCkoXCJkaWFnXCIpO2lmKCFyKXJldHVybjtyZXR1cm4gcltlXSguLi50KX19Y29uc3QgZT10aGlzO2NvbnN0IHNldExvZ2dlcj0odCxyPXtsb2dMZXZlbDpvLkRpYWdMb2dMZXZlbC5JTkZPfSk9Pnt2YXIgbixjLHM7aWYodD09PWUpe2NvbnN0IHQ9bmV3IEVycm9yKFwiQ2Fubm90IHVzZSBkaWFnIGFzIHRoZSBsb2dnZXIgZm9yIGl0c2VsZi4gUGxlYXNlIHVzZSBhIERpYWdMb2dnZXIgaW1wbGVtZW50YXRpb24gbGlrZSBDb25zb2xlRGlhZ0xvZ2dlciBvciBhIGN1c3RvbSBpbXBsZW1lbnRhdGlvblwiKTtlLmVycm9yKChuPXQuc3RhY2spIT09bnVsbCYmbiE9PXZvaWQgMD9uOnQubWVzc2FnZSk7cmV0dXJuIGZhbHNlfWlmKHR5cGVvZiByPT09XCJudW1iZXJcIil7cj17bG9nTGV2ZWw6cn19Y29uc3QgdT0oMCxpLmdldEdsb2JhbCkoXCJkaWFnXCIpO2NvbnN0IGw9KDAsYS5jcmVhdGVMb2dMZXZlbERpYWdMb2dnZXIpKChjPXIubG9nTGV2ZWwpIT09bnVsbCYmYyE9PXZvaWQgMD9jOm8uRGlhZ0xvZ0xldmVsLklORk8sdCk7aWYodSYmIXIuc3VwcHJlc3NPdmVycmlkZU1lc3NhZ2Upe2NvbnN0IGU9KHM9KG5ldyBFcnJvcikuc3RhY2spIT09bnVsbCYmcyE9PXZvaWQgMD9zOlwiPGZhaWxlZCB0byBnZW5lcmF0ZSBzdGFja3RyYWNlPlwiO3Uud2FybihgQ3VycmVudCBsb2dnZXIgd2lsbCBiZSBvdmVyd3JpdHRlbiBmcm9tICR7ZX1gKTtsLndhcm4oYEN1cnJlbnQgbG9nZ2VyIHdpbGwgb3ZlcndyaXRlIG9uZSBhbHJlYWR5IHJlZ2lzdGVyZWQgZnJvbSAke2V9YCl9cmV0dXJuKDAsaS5yZWdpc3Rlckdsb2JhbCkoXCJkaWFnXCIsbCxlLHRydWUpfTtlLnNldExvZ2dlcj1zZXRMb2dnZXI7ZS5kaXNhYmxlPSgpPT57KDAsaS51bnJlZ2lzdGVyR2xvYmFsKShjLGUpfTtlLmNyZWF0ZUNvbXBvbmVudExvZ2dlcj1lPT5uZXcgbi5EaWFnQ29tcG9uZW50TG9nZ2VyKGUpO2UudmVyYm9zZT1fbG9nUHJveHkoXCJ2ZXJib3NlXCIpO2UuZGVidWc9X2xvZ1Byb3h5KFwiZGVidWdcIik7ZS5pbmZvPV9sb2dQcm94eShcImluZm9cIik7ZS53YXJuPV9sb2dQcm94eShcIndhcm5cIik7ZS5lcnJvcj1fbG9nUHJveHkoXCJlcnJvclwiKX1zdGF0aWMgaW5zdGFuY2UoKXtpZighdGhpcy5faW5zdGFuY2Upe3RoaXMuX2luc3RhbmNlPW5ldyBEaWFnQVBJfXJldHVybiB0aGlzLl9pbnN0YW5jZX19dC5EaWFnQVBJPURpYWdBUEl9LDY1MzooZSx0LHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOnRydWV9KTt0Lk1ldHJpY3NBUEk9dm9pZCAwO2NvbnN0IG49cig2NjApO2NvbnN0IGE9cigxNzIpO2NvbnN0IG89cig5MzApO2NvbnN0IGk9XCJtZXRyaWNzXCI7Y2xhc3MgTWV0cmljc0FQSXtjb25zdHJ1Y3Rvcigpe31zdGF0aWMgZ2V0SW5zdGFuY2UoKXtpZighdGhpcy5faW5zdGFuY2Upe3RoaXMuX2luc3RhbmNlPW5ldyBNZXRyaWNzQVBJfXJldHVybiB0aGlzLl9pbnN0YW5jZX1zZXRHbG9iYWxNZXRlclByb3ZpZGVyKGUpe3JldHVybigwLGEucmVnaXN0ZXJHbG9iYWwpKGksZSxvLkRpYWdBUEkuaW5zdGFuY2UoKSl9Z2V0TWV0ZXJQcm92aWRlcigpe3JldHVybigwLGEuZ2V0R2xvYmFsKShpKXx8bi5OT09QX01FVEVSX1BST1ZJREVSfWdldE1ldGVyKGUsdCxyKXtyZXR1cm4gdGhpcy5nZXRNZXRlclByb3ZpZGVyKCkuZ2V0TWV0ZXIoZSx0LHIpfWRpc2FibGUoKXsoMCxhLnVucmVnaXN0ZXJHbG9iYWwpKGksby5EaWFnQVBJLmluc3RhbmNlKCkpfX10Lk1ldHJpY3NBUEk9TWV0cmljc0FQSX0sMTgxOihlLHQscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6dHJ1ZX0pO3QuUHJvcGFnYXRpb25BUEk9dm9pZCAwO2NvbnN0IG49cigxNzIpO2NvbnN0IGE9cig4NzQpO2NvbnN0IG89cigxOTQpO2NvbnN0IGk9cigyNzcpO2NvbnN0IGM9cigzNjkpO2NvbnN0IHM9cig5MzApO2NvbnN0IHU9XCJwcm9wYWdhdGlvblwiO2NvbnN0IGw9bmV3IGEuTm9vcFRleHRNYXBQcm9wYWdhdG9yO2NsYXNzIFByb3BhZ2F0aW9uQVBJe2NvbnN0cnVjdG9yKCl7dGhpcy5jcmVhdGVCYWdnYWdlPWMuY3JlYXRlQmFnZ2FnZTt0aGlzLmdldEJhZ2dhZ2U9aS5nZXRCYWdnYWdlO3RoaXMuZ2V0QWN0aXZlQmFnZ2FnZT1pLmdldEFjdGl2ZUJhZ2dhZ2U7dGhpcy5zZXRCYWdnYWdlPWkuc2V0QmFnZ2FnZTt0aGlzLmRlbGV0ZUJhZ2dhZ2U9aS5kZWxldGVCYWdnYWdlfXN0YXRpYyBnZXRJbnN0YW5jZSgpe2lmKCF0aGlzLl9pbnN0YW5jZSl7dGhpcy5faW5zdGFuY2U9bmV3IFByb3BhZ2F0aW9uQVBJfXJldHVybiB0aGlzLl9pbnN0YW5jZX1zZXRHbG9iYWxQcm9wYWdhdG9yKGUpe3JldHVybigwLG4ucmVnaXN0ZXJHbG9iYWwpKHUsZSxzLkRpYWdBUEkuaW5zdGFuY2UoKSl9aW5qZWN0KGUsdCxyPW8uZGVmYXVsdFRleHRNYXBTZXR0ZXIpe3JldHVybiB0aGlzLl9nZXRHbG9iYWxQcm9wYWdhdG9yKCkuaW5qZWN0KGUsdCxyKX1leHRyYWN0KGUsdCxyPW8uZGVmYXVsdFRleHRNYXBHZXR0ZXIpe3JldHVybiB0aGlzLl9nZXRHbG9iYWxQcm9wYWdhdG9yKCkuZXh0cmFjdChlLHQscil9ZmllbGRzKCl7cmV0dXJuIHRoaXMuX2dldEdsb2JhbFByb3BhZ2F0b3IoKS5maWVsZHMoKX1kaXNhYmxlKCl7KDAsbi51bnJlZ2lzdGVyR2xvYmFsKSh1LHMuRGlhZ0FQSS5pbnN0YW5jZSgpKX1fZ2V0R2xvYmFsUHJvcGFnYXRvcigpe3JldHVybigwLG4uZ2V0R2xvYmFsKSh1KXx8bH19dC5Qcm9wYWdhdGlvbkFQST1Qcm9wYWdhdGlvbkFQSX0sOTk3OihlLHQscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6dHJ1ZX0pO3QuVHJhY2VBUEk9dm9pZCAwO2NvbnN0IG49cigxNzIpO2NvbnN0IGE9cig4NDYpO2NvbnN0IG89cigxMzkpO2NvbnN0IGk9cig2MDcpO2NvbnN0IGM9cig5MzApO2NvbnN0IHM9XCJ0cmFjZVwiO2NsYXNzIFRyYWNlQVBJe2NvbnN0cnVjdG9yKCl7dGhpcy5fcHJveHlUcmFjZXJQcm92aWRlcj1uZXcgYS5Qcm94eVRyYWNlclByb3ZpZGVyO3RoaXMud3JhcFNwYW5Db250ZXh0PW8ud3JhcFNwYW5Db250ZXh0O3RoaXMuaXNTcGFuQ29udGV4dFZhbGlkPW8uaXNTcGFuQ29udGV4dFZhbGlkO3RoaXMuZGVsZXRlU3Bhbj1pLmRlbGV0ZVNwYW47dGhpcy5nZXRTcGFuPWkuZ2V0U3Bhbjt0aGlzLmdldEFjdGl2ZVNwYW49aS5nZXRBY3RpdmVTcGFuO3RoaXMuZ2V0U3BhbkNvbnRleHQ9aS5nZXRTcGFuQ29udGV4dDt0aGlzLnNldFNwYW49aS5zZXRTcGFuO3RoaXMuc2V0U3BhbkNvbnRleHQ9aS5zZXRTcGFuQ29udGV4dH1zdGF0aWMgZ2V0SW5zdGFuY2UoKXtpZighdGhpcy5faW5zdGFuY2Upe3RoaXMuX2luc3RhbmNlPW5ldyBUcmFjZUFQSX1yZXR1cm4gdGhpcy5faW5zdGFuY2V9c2V0R2xvYmFsVHJhY2VyUHJvdmlkZXIoZSl7Y29uc3QgdD0oMCxuLnJlZ2lzdGVyR2xvYmFsKShzLHRoaXMuX3Byb3h5VHJhY2VyUHJvdmlkZXIsYy5EaWFnQVBJLmluc3RhbmNlKCkpO2lmKHQpe3RoaXMuX3Byb3h5VHJhY2VyUHJvdmlkZXIuc2V0RGVsZWdhdGUoZSl9cmV0dXJuIHR9Z2V0VHJhY2VyUHJvdmlkZXIoKXtyZXR1cm4oMCxuLmdldEdsb2JhbCkocyl8fHRoaXMuX3Byb3h5VHJhY2VyUHJvdmlkZXJ9Z2V0VHJhY2VyKGUsdCl7cmV0dXJuIHRoaXMuZ2V0VHJhY2VyUHJvdmlkZXIoKS5nZXRUcmFjZXIoZSx0KX1kaXNhYmxlKCl7KDAsbi51bnJlZ2lzdGVyR2xvYmFsKShzLGMuRGlhZ0FQSS5pbnN0YW5jZSgpKTt0aGlzLl9wcm94eVRyYWNlclByb3ZpZGVyPW5ldyBhLlByb3h5VHJhY2VyUHJvdmlkZXJ9fXQuVHJhY2VBUEk9VHJhY2VBUEl9LDI3NzooZSx0LHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOnRydWV9KTt0LmRlbGV0ZUJhZ2dhZ2U9dC5zZXRCYWdnYWdlPXQuZ2V0QWN0aXZlQmFnZ2FnZT10LmdldEJhZ2dhZ2U9dm9pZCAwO2NvbnN0IG49cig0OTEpO2NvbnN0IGE9cig3ODApO2NvbnN0IG89KDAsYS5jcmVhdGVDb250ZXh0S2V5KShcIk9wZW5UZWxlbWV0cnkgQmFnZ2FnZSBLZXlcIik7ZnVuY3Rpb24gZ2V0QmFnZ2FnZShlKXtyZXR1cm4gZS5nZXRWYWx1ZShvKXx8dW5kZWZpbmVkfXQuZ2V0QmFnZ2FnZT1nZXRCYWdnYWdlO2Z1bmN0aW9uIGdldEFjdGl2ZUJhZ2dhZ2UoKXtyZXR1cm4gZ2V0QmFnZ2FnZShuLkNvbnRleHRBUEkuZ2V0SW5zdGFuY2UoKS5hY3RpdmUoKSl9dC5nZXRBY3RpdmVCYWdnYWdlPWdldEFjdGl2ZUJhZ2dhZ2U7ZnVuY3Rpb24gc2V0QmFnZ2FnZShlLHQpe3JldHVybiBlLnNldFZhbHVlKG8sdCl9dC5zZXRCYWdnYWdlPXNldEJhZ2dhZ2U7ZnVuY3Rpb24gZGVsZXRlQmFnZ2FnZShlKXtyZXR1cm4gZS5kZWxldGVWYWx1ZShvKX10LmRlbGV0ZUJhZ2dhZ2U9ZGVsZXRlQmFnZ2FnZX0sOTkzOihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOnRydWV9KTt0LkJhZ2dhZ2VJbXBsPXZvaWQgMDtjbGFzcyBCYWdnYWdlSW1wbHtjb25zdHJ1Y3RvcihlKXt0aGlzLl9lbnRyaWVzPWU/bmV3IE1hcChlKTpuZXcgTWFwfWdldEVudHJ5KGUpe2NvbnN0IHQ9dGhpcy5fZW50cmllcy5nZXQoZSk7aWYoIXQpe3JldHVybiB1bmRlZmluZWR9cmV0dXJuIE9iamVjdC5hc3NpZ24oe30sdCl9Z2V0QWxsRW50cmllcygpe3JldHVybiBBcnJheS5mcm9tKHRoaXMuX2VudHJpZXMuZW50cmllcygpKS5tYXAoKChbZSx0XSk9PltlLHRdKSl9c2V0RW50cnkoZSx0KXtjb25zdCByPW5ldyBCYWdnYWdlSW1wbCh0aGlzLl9lbnRyaWVzKTtyLl9lbnRyaWVzLnNldChlLHQpO3JldHVybiByfXJlbW92ZUVudHJ5KGUpe2NvbnN0IHQ9bmV3IEJhZ2dhZ2VJbXBsKHRoaXMuX2VudHJpZXMpO3QuX2VudHJpZXMuZGVsZXRlKGUpO3JldHVybiB0fXJlbW92ZUVudHJpZXMoLi4uZSl7Y29uc3QgdD1uZXcgQmFnZ2FnZUltcGwodGhpcy5fZW50cmllcyk7Zm9yKGNvbnN0IHIgb2YgZSl7dC5fZW50cmllcy5kZWxldGUocil9cmV0dXJuIHR9Y2xlYXIoKXtyZXR1cm4gbmV3IEJhZ2dhZ2VJbXBsfX10LkJhZ2dhZ2VJbXBsPUJhZ2dhZ2VJbXBsfSw4MzA6KGUsdCk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6dHJ1ZX0pO3QuYmFnZ2FnZUVudHJ5TWV0YWRhdGFTeW1ib2w9dm9pZCAwO3QuYmFnZ2FnZUVudHJ5TWV0YWRhdGFTeW1ib2w9U3ltYm9sKFwiQmFnZ2FnZUVudHJ5TWV0YWRhdGFcIil9LDM2OTooZSx0LHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOnRydWV9KTt0LmJhZ2dhZ2VFbnRyeU1ldGFkYXRhRnJvbVN0cmluZz10LmNyZWF0ZUJhZ2dhZ2U9dm9pZCAwO2NvbnN0IG49cig5MzApO2NvbnN0IGE9cig5OTMpO2NvbnN0IG89cig4MzApO2NvbnN0IGk9bi5EaWFnQVBJLmluc3RhbmNlKCk7ZnVuY3Rpb24gY3JlYXRlQmFnZ2FnZShlPXt9KXtyZXR1cm4gbmV3IGEuQmFnZ2FnZUltcGwobmV3IE1hcChPYmplY3QuZW50cmllcyhlKSkpfXQuY3JlYXRlQmFnZ2FnZT1jcmVhdGVCYWdnYWdlO2Z1bmN0aW9uIGJhZ2dhZ2VFbnRyeU1ldGFkYXRhRnJvbVN0cmluZyhlKXtpZih0eXBlb2YgZSE9PVwic3RyaW5nXCIpe2kuZXJyb3IoYENhbm5vdCBjcmVhdGUgYmFnZ2FnZSBtZXRhZGF0YSBmcm9tIHVua25vd24gdHlwZTogJHt0eXBlb2YgZX1gKTtlPVwiXCJ9cmV0dXJue19fVFlQRV9fOm8uYmFnZ2FnZUVudHJ5TWV0YWRhdGFTeW1ib2wsdG9TdHJpbmcoKXtyZXR1cm4gZX19fXQuYmFnZ2FnZUVudHJ5TWV0YWRhdGFGcm9tU3RyaW5nPWJhZ2dhZ2VFbnRyeU1ldGFkYXRhRnJvbVN0cmluZ30sNjc6KGUsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTp0cnVlfSk7dC5jb250ZXh0PXZvaWQgMDtjb25zdCBuPXIoNDkxKTt0LmNvbnRleHQ9bi5Db250ZXh0QVBJLmdldEluc3RhbmNlKCl9LDIyMzooZSx0LHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOnRydWV9KTt0Lk5vb3BDb250ZXh0TWFuYWdlcj12b2lkIDA7Y29uc3Qgbj1yKDc4MCk7Y2xhc3MgTm9vcENvbnRleHRNYW5hZ2Vye2FjdGl2ZSgpe3JldHVybiBuLlJPT1RfQ09OVEVYVH13aXRoKGUsdCxyLC4uLm4pe3JldHVybiB0LmNhbGwociwuLi5uKX1iaW5kKGUsdCl7cmV0dXJuIHR9ZW5hYmxlKCl7cmV0dXJuIHRoaXN9ZGlzYWJsZSgpe3JldHVybiB0aGlzfX10Lk5vb3BDb250ZXh0TWFuYWdlcj1Ob29wQ29udGV4dE1hbmFnZXJ9LDc4MDooZSx0KT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTp0cnVlfSk7dC5ST09UX0NPTlRFWFQ9dC5jcmVhdGVDb250ZXh0S2V5PXZvaWQgMDtmdW5jdGlvbiBjcmVhdGVDb250ZXh0S2V5KGUpe3JldHVybiBTeW1ib2wuZm9yKGUpfXQuY3JlYXRlQ29udGV4dEtleT1jcmVhdGVDb250ZXh0S2V5O2NsYXNzIEJhc2VDb250ZXh0e2NvbnN0cnVjdG9yKGUpe2NvbnN0IHQ9dGhpczt0Ll9jdXJyZW50Q29udGV4dD1lP25ldyBNYXAoZSk6bmV3IE1hcDt0LmdldFZhbHVlPWU9PnQuX2N1cnJlbnRDb250ZXh0LmdldChlKTt0LnNldFZhbHVlPShlLHIpPT57Y29uc3Qgbj1uZXcgQmFzZUNvbnRleHQodC5fY3VycmVudENvbnRleHQpO24uX2N1cnJlbnRDb250ZXh0LnNldChlLHIpO3JldHVybiBufTt0LmRlbGV0ZVZhbHVlPWU9Pntjb25zdCByPW5ldyBCYXNlQ29udGV4dCh0Ll9jdXJyZW50Q29udGV4dCk7ci5fY3VycmVudENvbnRleHQuZGVsZXRlKGUpO3JldHVybiByfX19dC5ST09UX0NPTlRFWFQ9bmV3IEJhc2VDb250ZXh0fSw1MDY6KGUsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTp0cnVlfSk7dC5kaWFnPXZvaWQgMDtjb25zdCBuPXIoOTMwKTt0LmRpYWc9bi5EaWFnQVBJLmluc3RhbmNlKCl9LDU2OihlLHQscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6dHJ1ZX0pO3QuRGlhZ0NvbXBvbmVudExvZ2dlcj12b2lkIDA7Y29uc3Qgbj1yKDE3Mik7Y2xhc3MgRGlhZ0NvbXBvbmVudExvZ2dlcntjb25zdHJ1Y3RvcihlKXt0aGlzLl9uYW1lc3BhY2U9ZS5uYW1lc3BhY2V8fFwiRGlhZ0NvbXBvbmVudExvZ2dlclwifWRlYnVnKC4uLmUpe3JldHVybiBsb2dQcm94eShcImRlYnVnXCIsdGhpcy5fbmFtZXNwYWNlLGUpfWVycm9yKC4uLmUpe3JldHVybiBsb2dQcm94eShcImVycm9yXCIsdGhpcy5fbmFtZXNwYWNlLGUpfWluZm8oLi4uZSl7cmV0dXJuIGxvZ1Byb3h5KFwiaW5mb1wiLHRoaXMuX25hbWVzcGFjZSxlKX13YXJuKC4uLmUpe3JldHVybiBsb2dQcm94eShcIndhcm5cIix0aGlzLl9uYW1lc3BhY2UsZSl9dmVyYm9zZSguLi5lKXtyZXR1cm4gbG9nUHJveHkoXCJ2ZXJib3NlXCIsdGhpcy5fbmFtZXNwYWNlLGUpfX10LkRpYWdDb21wb25lbnRMb2dnZXI9RGlhZ0NvbXBvbmVudExvZ2dlcjtmdW5jdGlvbiBsb2dQcm94eShlLHQscil7Y29uc3QgYT0oMCxuLmdldEdsb2JhbCkoXCJkaWFnXCIpO2lmKCFhKXtyZXR1cm59ci51bnNoaWZ0KHQpO3JldHVybiBhW2VdKC4uLnIpfX0sOTcyOihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOnRydWV9KTt0LkRpYWdDb25zb2xlTG9nZ2VyPXZvaWQgMDtjb25zdCByPVt7bjpcImVycm9yXCIsYzpcImVycm9yXCJ9LHtuOlwid2FyblwiLGM6XCJ3YXJuXCJ9LHtuOlwiaW5mb1wiLGM6XCJpbmZvXCJ9LHtuOlwiZGVidWdcIixjOlwiZGVidWdcIn0se246XCJ2ZXJib3NlXCIsYzpcInRyYWNlXCJ9XTtjbGFzcyBEaWFnQ29uc29sZUxvZ2dlcntjb25zdHJ1Y3Rvcigpe2Z1bmN0aW9uIF9jb25zb2xlRnVuYyhlKXtyZXR1cm4gZnVuY3Rpb24oLi4udCl7aWYoY29uc29sZSl7bGV0IHI9Y29uc29sZVtlXTtpZih0eXBlb2YgciE9PVwiZnVuY3Rpb25cIil7cj1jb25zb2xlLmxvZ31pZih0eXBlb2Ygcj09PVwiZnVuY3Rpb25cIil7cmV0dXJuIHIuYXBwbHkoY29uc29sZSx0KX19fX1mb3IobGV0IGU9MDtlPHIubGVuZ3RoO2UrKyl7dGhpc1tyW2VdLm5dPV9jb25zb2xlRnVuYyhyW2VdLmMpfX19dC5EaWFnQ29uc29sZUxvZ2dlcj1EaWFnQ29uc29sZUxvZ2dlcn0sOTEyOihlLHQscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6dHJ1ZX0pO3QuY3JlYXRlTG9nTGV2ZWxEaWFnTG9nZ2VyPXZvaWQgMDtjb25zdCBuPXIoOTU3KTtmdW5jdGlvbiBjcmVhdGVMb2dMZXZlbERpYWdMb2dnZXIoZSx0KXtpZihlPG4uRGlhZ0xvZ0xldmVsLk5PTkUpe2U9bi5EaWFnTG9nTGV2ZWwuTk9ORX1lbHNlIGlmKGU+bi5EaWFnTG9nTGV2ZWwuQUxMKXtlPW4uRGlhZ0xvZ0xldmVsLkFMTH10PXR8fHt9O2Z1bmN0aW9uIF9maWx0ZXJGdW5jKHIsbil7Y29uc3QgYT10W3JdO2lmKHR5cGVvZiBhPT09XCJmdW5jdGlvblwiJiZlPj1uKXtyZXR1cm4gYS5iaW5kKHQpfXJldHVybiBmdW5jdGlvbigpe319cmV0dXJue2Vycm9yOl9maWx0ZXJGdW5jKFwiZXJyb3JcIixuLkRpYWdMb2dMZXZlbC5FUlJPUiksd2FybjpfZmlsdGVyRnVuYyhcIndhcm5cIixuLkRpYWdMb2dMZXZlbC5XQVJOKSxpbmZvOl9maWx0ZXJGdW5jKFwiaW5mb1wiLG4uRGlhZ0xvZ0xldmVsLklORk8pLGRlYnVnOl9maWx0ZXJGdW5jKFwiZGVidWdcIixuLkRpYWdMb2dMZXZlbC5ERUJVRyksdmVyYm9zZTpfZmlsdGVyRnVuYyhcInZlcmJvc2VcIixuLkRpYWdMb2dMZXZlbC5WRVJCT1NFKX19dC5jcmVhdGVMb2dMZXZlbERpYWdMb2dnZXI9Y3JlYXRlTG9nTGV2ZWxEaWFnTG9nZ2VyfSw5NTc6KGUsdCk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6dHJ1ZX0pO3QuRGlhZ0xvZ0xldmVsPXZvaWQgMDt2YXIgcjsoZnVuY3Rpb24oZSl7ZVtlW1wiTk9ORVwiXT0wXT1cIk5PTkVcIjtlW2VbXCJFUlJPUlwiXT0zMF09XCJFUlJPUlwiO2VbZVtcIldBUk5cIl09NTBdPVwiV0FSTlwiO2VbZVtcIklORk9cIl09NjBdPVwiSU5GT1wiO2VbZVtcIkRFQlVHXCJdPTcwXT1cIkRFQlVHXCI7ZVtlW1wiVkVSQk9TRVwiXT04MF09XCJWRVJCT1NFXCI7ZVtlW1wiQUxMXCJdPTk5OTldPVwiQUxMXCJ9KShyPXQuRGlhZ0xvZ0xldmVsfHwodC5EaWFnTG9nTGV2ZWw9e30pKX0sMTcyOihlLHQscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6dHJ1ZX0pO3QudW5yZWdpc3Rlckdsb2JhbD10LmdldEdsb2JhbD10LnJlZ2lzdGVyR2xvYmFsPXZvaWQgMDtjb25zdCBuPXIoMjAwKTtjb25zdCBhPXIoNTIxKTtjb25zdCBvPXIoMTMwKTtjb25zdCBpPWEuVkVSU0lPTi5zcGxpdChcIi5cIilbMF07Y29uc3QgYz1TeW1ib2wuZm9yKGBvcGVudGVsZW1ldHJ5LmpzLmFwaS4ke2l9YCk7Y29uc3Qgcz1uLl9nbG9iYWxUaGlzO2Z1bmN0aW9uIHJlZ2lzdGVyR2xvYmFsKGUsdCxyLG49ZmFsc2Upe3ZhciBvO2NvbnN0IGk9c1tjXT0obz1zW2NdKSE9PW51bGwmJm8hPT12b2lkIDA/bzp7dmVyc2lvbjphLlZFUlNJT059O2lmKCFuJiZpW2VdKXtjb25zdCB0PW5ldyBFcnJvcihgQG9wZW50ZWxlbWV0cnkvYXBpOiBBdHRlbXB0ZWQgZHVwbGljYXRlIHJlZ2lzdHJhdGlvbiBvZiBBUEk6ICR7ZX1gKTtyLmVycm9yKHQuc3RhY2t8fHQubWVzc2FnZSk7cmV0dXJuIGZhbHNlfWlmKGkudmVyc2lvbiE9PWEuVkVSU0lPTil7Y29uc3QgdD1uZXcgRXJyb3IoYEBvcGVudGVsZW1ldHJ5L2FwaTogUmVnaXN0cmF0aW9uIG9mIHZlcnNpb24gdiR7aS52ZXJzaW9ufSBmb3IgJHtlfSBkb2VzIG5vdCBtYXRjaCBwcmV2aW91c2x5IHJlZ2lzdGVyZWQgQVBJIHYke2EuVkVSU0lPTn1gKTtyLmVycm9yKHQuc3RhY2t8fHQubWVzc2FnZSk7cmV0dXJuIGZhbHNlfWlbZV09dDtyLmRlYnVnKGBAb3BlbnRlbGVtZXRyeS9hcGk6IFJlZ2lzdGVyZWQgYSBnbG9iYWwgZm9yICR7ZX0gdiR7YS5WRVJTSU9OfS5gKTtyZXR1cm4gdHJ1ZX10LnJlZ2lzdGVyR2xvYmFsPXJlZ2lzdGVyR2xvYmFsO2Z1bmN0aW9uIGdldEdsb2JhbChlKXt2YXIgdCxyO2NvbnN0IG49KHQ9c1tjXSk9PT1udWxsfHx0PT09dm9pZCAwP3ZvaWQgMDp0LnZlcnNpb247aWYoIW58fCEoMCxvLmlzQ29tcGF0aWJsZSkobikpe3JldHVybn1yZXR1cm4ocj1zW2NdKT09PW51bGx8fHI9PT12b2lkIDA/dm9pZCAwOnJbZV19dC5nZXRHbG9iYWw9Z2V0R2xvYmFsO2Z1bmN0aW9uIHVucmVnaXN0ZXJHbG9iYWwoZSx0KXt0LmRlYnVnKGBAb3BlbnRlbGVtZXRyeS9hcGk6IFVucmVnaXN0ZXJpbmcgYSBnbG9iYWwgZm9yICR7ZX0gdiR7YS5WRVJTSU9OfS5gKTtjb25zdCByPXNbY107aWYocil7ZGVsZXRlIHJbZV19fXQudW5yZWdpc3Rlckdsb2JhbD11bnJlZ2lzdGVyR2xvYmFsfSwxMzA6KGUsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTp0cnVlfSk7dC5pc0NvbXBhdGlibGU9dC5fbWFrZUNvbXBhdGliaWxpdHlDaGVjaz12b2lkIDA7Y29uc3Qgbj1yKDUyMSk7Y29uc3QgYT0vXihcXGQrKVxcLihcXGQrKVxcLihcXGQrKSgtKC4rKSk/JC87ZnVuY3Rpb24gX21ha2VDb21wYXRpYmlsaXR5Q2hlY2soZSl7Y29uc3QgdD1uZXcgU2V0KFtlXSk7Y29uc3Qgcj1uZXcgU2V0O2NvbnN0IG49ZS5tYXRjaChhKTtpZighbil7cmV0dXJuKCk9PmZhbHNlfWNvbnN0IG89e21ham9yOituWzFdLG1pbm9yOituWzJdLHBhdGNoOituWzNdLHByZXJlbGVhc2U6bls0XX07aWYoby5wcmVyZWxlYXNlIT1udWxsKXtyZXR1cm4gZnVuY3Rpb24gaXNFeGFjdG1hdGNoKHQpe3JldHVybiB0PT09ZX19ZnVuY3Rpb24gX3JlamVjdChlKXtyLmFkZChlKTtyZXR1cm4gZmFsc2V9ZnVuY3Rpb24gX2FjY2VwdChlKXt0LmFkZChlKTtyZXR1cm4gdHJ1ZX1yZXR1cm4gZnVuY3Rpb24gaXNDb21wYXRpYmxlKGUpe2lmKHQuaGFzKGUpKXtyZXR1cm4gdHJ1ZX1pZihyLmhhcyhlKSl7cmV0dXJuIGZhbHNlfWNvbnN0IG49ZS5tYXRjaChhKTtpZighbil7cmV0dXJuIF9yZWplY3QoZSl9Y29uc3QgaT17bWFqb3I6K25bMV0sbWlub3I6K25bMl0scGF0Y2g6K25bM10scHJlcmVsZWFzZTpuWzRdfTtpZihpLnByZXJlbGVhc2UhPW51bGwpe3JldHVybiBfcmVqZWN0KGUpfWlmKG8ubWFqb3IhPT1pLm1ham9yKXtyZXR1cm4gX3JlamVjdChlKX1pZihvLm1ham9yPT09MCl7aWYoby5taW5vcj09PWkubWlub3ImJm8ucGF0Y2g8PWkucGF0Y2gpe3JldHVybiBfYWNjZXB0KGUpfXJldHVybiBfcmVqZWN0KGUpfWlmKG8ubWlub3I8PWkubWlub3Ipe3JldHVybiBfYWNjZXB0KGUpfXJldHVybiBfcmVqZWN0KGUpfX10Ll9tYWtlQ29tcGF0aWJpbGl0eUNoZWNrPV9tYWtlQ29tcGF0aWJpbGl0eUNoZWNrO3QuaXNDb21wYXRpYmxlPV9tYWtlQ29tcGF0aWJpbGl0eUNoZWNrKG4uVkVSU0lPTil9LDg4NjooZSx0LHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOnRydWV9KTt0Lm1ldHJpY3M9dm9pZCAwO2NvbnN0IG49cig2NTMpO3QubWV0cmljcz1uLk1ldHJpY3NBUEkuZ2V0SW5zdGFuY2UoKX0sOTAxOihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOnRydWV9KTt0LlZhbHVlVHlwZT12b2lkIDA7dmFyIHI7KGZ1bmN0aW9uKGUpe2VbZVtcIklOVFwiXT0wXT1cIklOVFwiO2VbZVtcIkRPVUJMRVwiXT0xXT1cIkRPVUJMRVwifSkocj10LlZhbHVlVHlwZXx8KHQuVmFsdWVUeXBlPXt9KSl9LDEwMjooZSx0KT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTp0cnVlfSk7dC5jcmVhdGVOb29wTWV0ZXI9dC5OT09QX09CU0VSVkFCTEVfVVBfRE9XTl9DT1VOVEVSX01FVFJJQz10Lk5PT1BfT0JTRVJWQUJMRV9HQVVHRV9NRVRSSUM9dC5OT09QX09CU0VSVkFCTEVfQ09VTlRFUl9NRVRSSUM9dC5OT09QX1VQX0RPV05fQ09VTlRFUl9NRVRSSUM9dC5OT09QX0hJU1RPR1JBTV9NRVRSSUM9dC5OT09QX0NPVU5URVJfTUVUUklDPXQuTk9PUF9NRVRFUj10Lk5vb3BPYnNlcnZhYmxlVXBEb3duQ291bnRlck1ldHJpYz10Lk5vb3BPYnNlcnZhYmxlR2F1Z2VNZXRyaWM9dC5Ob29wT2JzZXJ2YWJsZUNvdW50ZXJNZXRyaWM9dC5Ob29wT2JzZXJ2YWJsZU1ldHJpYz10Lk5vb3BIaXN0b2dyYW1NZXRyaWM9dC5Ob29wVXBEb3duQ291bnRlck1ldHJpYz10Lk5vb3BDb3VudGVyTWV0cmljPXQuTm9vcE1ldHJpYz10Lk5vb3BNZXRlcj12b2lkIDA7Y2xhc3MgTm9vcE1ldGVye2NvbnN0cnVjdG9yKCl7fWNyZWF0ZUhpc3RvZ3JhbShlLHIpe3JldHVybiB0Lk5PT1BfSElTVE9HUkFNX01FVFJJQ31jcmVhdGVDb3VudGVyKGUscil7cmV0dXJuIHQuTk9PUF9DT1VOVEVSX01FVFJJQ31jcmVhdGVVcERvd25Db3VudGVyKGUscil7cmV0dXJuIHQuTk9PUF9VUF9ET1dOX0NPVU5URVJfTUVUUklDfWNyZWF0ZU9ic2VydmFibGVHYXVnZShlLHIpe3JldHVybiB0Lk5PT1BfT0JTRVJWQUJMRV9HQVVHRV9NRVRSSUN9Y3JlYXRlT2JzZXJ2YWJsZUNvdW50ZXIoZSxyKXtyZXR1cm4gdC5OT09QX09CU0VSVkFCTEVfQ09VTlRFUl9NRVRSSUN9Y3JlYXRlT2JzZXJ2YWJsZVVwRG93bkNvdW50ZXIoZSxyKXtyZXR1cm4gdC5OT09QX09CU0VSVkFCTEVfVVBfRE9XTl9DT1VOVEVSX01FVFJJQ31hZGRCYXRjaE9ic2VydmFibGVDYWxsYmFjayhlLHQpe31yZW1vdmVCYXRjaE9ic2VydmFibGVDYWxsYmFjayhlKXt9fXQuTm9vcE1ldGVyPU5vb3BNZXRlcjtjbGFzcyBOb29wTWV0cmlje310Lk5vb3BNZXRyaWM9Tm9vcE1ldHJpYztjbGFzcyBOb29wQ291bnRlck1ldHJpYyBleHRlbmRzIE5vb3BNZXRyaWN7YWRkKGUsdCl7fX10Lk5vb3BDb3VudGVyTWV0cmljPU5vb3BDb3VudGVyTWV0cmljO2NsYXNzIE5vb3BVcERvd25Db3VudGVyTWV0cmljIGV4dGVuZHMgTm9vcE1ldHJpY3thZGQoZSx0KXt9fXQuTm9vcFVwRG93bkNvdW50ZXJNZXRyaWM9Tm9vcFVwRG93bkNvdW50ZXJNZXRyaWM7Y2xhc3MgTm9vcEhpc3RvZ3JhbU1ldHJpYyBleHRlbmRzIE5vb3BNZXRyaWN7cmVjb3JkKGUsdCl7fX10Lk5vb3BIaXN0b2dyYW1NZXRyaWM9Tm9vcEhpc3RvZ3JhbU1ldHJpYztjbGFzcyBOb29wT2JzZXJ2YWJsZU1ldHJpY3thZGRDYWxsYmFjayhlKXt9cmVtb3ZlQ2FsbGJhY2soZSl7fX10Lk5vb3BPYnNlcnZhYmxlTWV0cmljPU5vb3BPYnNlcnZhYmxlTWV0cmljO2NsYXNzIE5vb3BPYnNlcnZhYmxlQ291bnRlck1ldHJpYyBleHRlbmRzIE5vb3BPYnNlcnZhYmxlTWV0cmlje310Lk5vb3BPYnNlcnZhYmxlQ291bnRlck1ldHJpYz1Ob29wT2JzZXJ2YWJsZUNvdW50ZXJNZXRyaWM7Y2xhc3MgTm9vcE9ic2VydmFibGVHYXVnZU1ldHJpYyBleHRlbmRzIE5vb3BPYnNlcnZhYmxlTWV0cmlje310Lk5vb3BPYnNlcnZhYmxlR2F1Z2VNZXRyaWM9Tm9vcE9ic2VydmFibGVHYXVnZU1ldHJpYztjbGFzcyBOb29wT2JzZXJ2YWJsZVVwRG93bkNvdW50ZXJNZXRyaWMgZXh0ZW5kcyBOb29wT2JzZXJ2YWJsZU1ldHJpY3t9dC5Ob29wT2JzZXJ2YWJsZVVwRG93bkNvdW50ZXJNZXRyaWM9Tm9vcE9ic2VydmFibGVVcERvd25Db3VudGVyTWV0cmljO3QuTk9PUF9NRVRFUj1uZXcgTm9vcE1ldGVyO3QuTk9PUF9DT1VOVEVSX01FVFJJQz1uZXcgTm9vcENvdW50ZXJNZXRyaWM7dC5OT09QX0hJU1RPR1JBTV9NRVRSSUM9bmV3IE5vb3BIaXN0b2dyYW1NZXRyaWM7dC5OT09QX1VQX0RPV05fQ09VTlRFUl9NRVRSSUM9bmV3IE5vb3BVcERvd25Db3VudGVyTWV0cmljO3QuTk9PUF9PQlNFUlZBQkxFX0NPVU5URVJfTUVUUklDPW5ldyBOb29wT2JzZXJ2YWJsZUNvdW50ZXJNZXRyaWM7dC5OT09QX09CU0VSVkFCTEVfR0FVR0VfTUVUUklDPW5ldyBOb29wT2JzZXJ2YWJsZUdhdWdlTWV0cmljO3QuTk9PUF9PQlNFUlZBQkxFX1VQX0RPV05fQ09VTlRFUl9NRVRSSUM9bmV3IE5vb3BPYnNlcnZhYmxlVXBEb3duQ291bnRlck1ldHJpYztmdW5jdGlvbiBjcmVhdGVOb29wTWV0ZXIoKXtyZXR1cm4gdC5OT09QX01FVEVSfXQuY3JlYXRlTm9vcE1ldGVyPWNyZWF0ZU5vb3BNZXRlcn0sNjYwOihlLHQscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6dHJ1ZX0pO3QuTk9PUF9NRVRFUl9QUk9WSURFUj10Lk5vb3BNZXRlclByb3ZpZGVyPXZvaWQgMDtjb25zdCBuPXIoMTAyKTtjbGFzcyBOb29wTWV0ZXJQcm92aWRlcntnZXRNZXRlcihlLHQscil7cmV0dXJuIG4uTk9PUF9NRVRFUn19dC5Ob29wTWV0ZXJQcm92aWRlcj1Ob29wTWV0ZXJQcm92aWRlcjt0Lk5PT1BfTUVURVJfUFJPVklERVI9bmV3IE5vb3BNZXRlclByb3ZpZGVyfSwyMDA6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihlLHQscixuKXtpZihuPT09dW5kZWZpbmVkKW49cjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLHtlbnVtZXJhYmxlOnRydWUsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRbcl19fSl9OmZ1bmN0aW9uKGUsdCxyLG4pe2lmKG49PT11bmRlZmluZWQpbj1yO2Vbbl09dFtyXX0pO3ZhciBhPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiBlKWlmKHIhPT1cImRlZmF1bHRcIiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpKW4odCxlLHIpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6dHJ1ZX0pO2Eocig0NiksdCl9LDY1MTooZSx0KT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTp0cnVlfSk7dC5fZ2xvYmFsVGhpcz12b2lkIDA7dC5fZ2xvYmFsVGhpcz10eXBlb2YgZ2xvYmFsVGhpcz09PVwib2JqZWN0XCI/Z2xvYmFsVGhpczpnbG9iYWx9LDQ2OmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oZSx0LHIsbil7aWYobj09PXVuZGVmaW5lZCluPXI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbix7ZW51bWVyYWJsZTp0cnVlLGdldDpmdW5jdGlvbigpe3JldHVybiB0W3JdfX0pfTpmdW5jdGlvbihlLHQscixuKXtpZihuPT09dW5kZWZpbmVkKW49cjtlW25dPXRbcl19KTt2YXIgYT10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gZSlpZihyIT09XCJkZWZhdWx0XCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSluKHQsZSxyKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOnRydWV9KTthKHIoNjUxKSx0KX0sOTM5OihlLHQscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6dHJ1ZX0pO3QucHJvcGFnYXRpb249dm9pZCAwO2NvbnN0IG49cigxODEpO3QucHJvcGFnYXRpb249bi5Qcm9wYWdhdGlvbkFQSS5nZXRJbnN0YW5jZSgpfSw4NzQ6KGUsdCk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6dHJ1ZX0pO3QuTm9vcFRleHRNYXBQcm9wYWdhdG9yPXZvaWQgMDtjbGFzcyBOb29wVGV4dE1hcFByb3BhZ2F0b3J7aW5qZWN0KGUsdCl7fWV4dHJhY3QoZSx0KXtyZXR1cm4gZX1maWVsZHMoKXtyZXR1cm5bXX19dC5Ob29wVGV4dE1hcFByb3BhZ2F0b3I9Tm9vcFRleHRNYXBQcm9wYWdhdG9yfSwxOTQ6KGUsdCk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6dHJ1ZX0pO3QuZGVmYXVsdFRleHRNYXBTZXR0ZXI9dC5kZWZhdWx0VGV4dE1hcEdldHRlcj12b2lkIDA7dC5kZWZhdWx0VGV4dE1hcEdldHRlcj17Z2V0KGUsdCl7aWYoZT09bnVsbCl7cmV0dXJuIHVuZGVmaW5lZH1yZXR1cm4gZVt0XX0sa2V5cyhlKXtpZihlPT1udWxsKXtyZXR1cm5bXX1yZXR1cm4gT2JqZWN0LmtleXMoZSl9fTt0LmRlZmF1bHRUZXh0TWFwU2V0dGVyPXtzZXQoZSx0LHIpe2lmKGU9PW51bGwpe3JldHVybn1lW3RdPXJ9fX0sODQ1OihlLHQscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6dHJ1ZX0pO3QudHJhY2U9dm9pZCAwO2NvbnN0IG49cig5OTcpO3QudHJhY2U9bi5UcmFjZUFQSS5nZXRJbnN0YW5jZSgpfSw0MDM6KGUsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTp0cnVlfSk7dC5Ob25SZWNvcmRpbmdTcGFuPXZvaWQgMDtjb25zdCBuPXIoNDc2KTtjbGFzcyBOb25SZWNvcmRpbmdTcGFue2NvbnN0cnVjdG9yKGU9bi5JTlZBTElEX1NQQU5fQ09OVEVYVCl7dGhpcy5fc3BhbkNvbnRleHQ9ZX1zcGFuQ29udGV4dCgpe3JldHVybiB0aGlzLl9zcGFuQ29udGV4dH1zZXRBdHRyaWJ1dGUoZSx0KXtyZXR1cm4gdGhpc31zZXRBdHRyaWJ1dGVzKGUpe3JldHVybiB0aGlzfWFkZEV2ZW50KGUsdCl7cmV0dXJuIHRoaXN9c2V0U3RhdHVzKGUpe3JldHVybiB0aGlzfXVwZGF0ZU5hbWUoZSl7cmV0dXJuIHRoaXN9ZW5kKGUpe31pc1JlY29yZGluZygpe3JldHVybiBmYWxzZX1yZWNvcmRFeGNlcHRpb24oZSx0KXt9fXQuTm9uUmVjb3JkaW5nU3Bhbj1Ob25SZWNvcmRpbmdTcGFufSw2MTQ6KGUsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTp0cnVlfSk7dC5Ob29wVHJhY2VyPXZvaWQgMDtjb25zdCBuPXIoNDkxKTtjb25zdCBhPXIoNjA3KTtjb25zdCBvPXIoNDAzKTtjb25zdCBpPXIoMTM5KTtjb25zdCBjPW4uQ29udGV4dEFQSS5nZXRJbnN0YW5jZSgpO2NsYXNzIE5vb3BUcmFjZXJ7c3RhcnRTcGFuKGUsdCxyPWMuYWN0aXZlKCkpe2NvbnN0IG49Qm9vbGVhbih0PT09bnVsbHx8dD09PXZvaWQgMD92b2lkIDA6dC5yb290KTtpZihuKXtyZXR1cm4gbmV3IG8uTm9uUmVjb3JkaW5nU3Bhbn1jb25zdCBzPXImJigwLGEuZ2V0U3BhbkNvbnRleHQpKHIpO2lmKGlzU3BhbkNvbnRleHQocykmJigwLGkuaXNTcGFuQ29udGV4dFZhbGlkKShzKSl7cmV0dXJuIG5ldyBvLk5vblJlY29yZGluZ1NwYW4ocyl9ZWxzZXtyZXR1cm4gbmV3IG8uTm9uUmVjb3JkaW5nU3Bhbn19c3RhcnRBY3RpdmVTcGFuKGUsdCxyLG4pe2xldCBvO2xldCBpO2xldCBzO2lmKGFyZ3VtZW50cy5sZW5ndGg8Mil7cmV0dXJufWVsc2UgaWYoYXJndW1lbnRzLmxlbmd0aD09PTIpe3M9dH1lbHNlIGlmKGFyZ3VtZW50cy5sZW5ndGg9PT0zKXtvPXQ7cz1yfWVsc2V7bz10O2k9cjtzPW59Y29uc3QgdT1pIT09bnVsbCYmaSE9PXZvaWQgMD9pOmMuYWN0aXZlKCk7Y29uc3QgbD10aGlzLnN0YXJ0U3BhbihlLG8sdSk7Y29uc3QgZz0oMCxhLnNldFNwYW4pKHUsbCk7cmV0dXJuIGMud2l0aChnLHMsdW5kZWZpbmVkLGwpfX10Lk5vb3BUcmFjZXI9Tm9vcFRyYWNlcjtmdW5jdGlvbiBpc1NwYW5Db250ZXh0KGUpe3JldHVybiB0eXBlb2YgZT09PVwib2JqZWN0XCImJnR5cGVvZiBlW1wic3BhbklkXCJdPT09XCJzdHJpbmdcIiYmdHlwZW9mIGVbXCJ0cmFjZUlkXCJdPT09XCJzdHJpbmdcIiYmdHlwZW9mIGVbXCJ0cmFjZUZsYWdzXCJdPT09XCJudW1iZXJcIn19LDEyNDooZSx0LHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOnRydWV9KTt0Lk5vb3BUcmFjZXJQcm92aWRlcj12b2lkIDA7Y29uc3Qgbj1yKDYxNCk7Y2xhc3MgTm9vcFRyYWNlclByb3ZpZGVye2dldFRyYWNlcihlLHQscil7cmV0dXJuIG5ldyBuLk5vb3BUcmFjZXJ9fXQuTm9vcFRyYWNlclByb3ZpZGVyPU5vb3BUcmFjZXJQcm92aWRlcn0sMTI1OihlLHQscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6dHJ1ZX0pO3QuUHJveHlUcmFjZXI9dm9pZCAwO2NvbnN0IG49cig2MTQpO2NvbnN0IGE9bmV3IG4uTm9vcFRyYWNlcjtjbGFzcyBQcm94eVRyYWNlcntjb25zdHJ1Y3RvcihlLHQscixuKXt0aGlzLl9wcm92aWRlcj1lO3RoaXMubmFtZT10O3RoaXMudmVyc2lvbj1yO3RoaXMub3B0aW9ucz1ufXN0YXJ0U3BhbihlLHQscil7cmV0dXJuIHRoaXMuX2dldFRyYWNlcigpLnN0YXJ0U3BhbihlLHQscil9c3RhcnRBY3RpdmVTcGFuKGUsdCxyLG4pe2NvbnN0IGE9dGhpcy5fZ2V0VHJhY2VyKCk7cmV0dXJuIFJlZmxlY3QuYXBwbHkoYS5zdGFydEFjdGl2ZVNwYW4sYSxhcmd1bWVudHMpfV9nZXRUcmFjZXIoKXtpZih0aGlzLl9kZWxlZ2F0ZSl7cmV0dXJuIHRoaXMuX2RlbGVnYXRlfWNvbnN0IGU9dGhpcy5fcHJvdmlkZXIuZ2V0RGVsZWdhdGVUcmFjZXIodGhpcy5uYW1lLHRoaXMudmVyc2lvbix0aGlzLm9wdGlvbnMpO2lmKCFlKXtyZXR1cm4gYX10aGlzLl9kZWxlZ2F0ZT1lO3JldHVybiB0aGlzLl9kZWxlZ2F0ZX19dC5Qcm94eVRyYWNlcj1Qcm94eVRyYWNlcn0sODQ2OihlLHQscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6dHJ1ZX0pO3QuUHJveHlUcmFjZXJQcm92aWRlcj12b2lkIDA7Y29uc3Qgbj1yKDEyNSk7Y29uc3QgYT1yKDEyNCk7Y29uc3Qgbz1uZXcgYS5Ob29wVHJhY2VyUHJvdmlkZXI7Y2xhc3MgUHJveHlUcmFjZXJQcm92aWRlcntnZXRUcmFjZXIoZSx0LHIpe3ZhciBhO3JldHVybihhPXRoaXMuZ2V0RGVsZWdhdGVUcmFjZXIoZSx0LHIpKSE9PW51bGwmJmEhPT12b2lkIDA/YTpuZXcgbi5Qcm94eVRyYWNlcih0aGlzLGUsdCxyKX1nZXREZWxlZ2F0ZSgpe3ZhciBlO3JldHVybihlPXRoaXMuX2RlbGVnYXRlKSE9PW51bGwmJmUhPT12b2lkIDA/ZTpvfXNldERlbGVnYXRlKGUpe3RoaXMuX2RlbGVnYXRlPWV9Z2V0RGVsZWdhdGVUcmFjZXIoZSx0LHIpe3ZhciBuO3JldHVybihuPXRoaXMuX2RlbGVnYXRlKT09PW51bGx8fG49PT12b2lkIDA/dm9pZCAwOm4uZ2V0VHJhY2VyKGUsdCxyKX19dC5Qcm94eVRyYWNlclByb3ZpZGVyPVByb3h5VHJhY2VyUHJvdmlkZXJ9LDk5NjooZSx0KT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTp0cnVlfSk7dC5TYW1wbGluZ0RlY2lzaW9uPXZvaWQgMDt2YXIgcjsoZnVuY3Rpb24oZSl7ZVtlW1wiTk9UX1JFQ09SRFwiXT0wXT1cIk5PVF9SRUNPUkRcIjtlW2VbXCJSRUNPUkRcIl09MV09XCJSRUNPUkRcIjtlW2VbXCJSRUNPUkRfQU5EX1NBTVBMRURcIl09Ml09XCJSRUNPUkRfQU5EX1NBTVBMRURcIn0pKHI9dC5TYW1wbGluZ0RlY2lzaW9ufHwodC5TYW1wbGluZ0RlY2lzaW9uPXt9KSl9LDYwNzooZSx0LHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOnRydWV9KTt0LmdldFNwYW5Db250ZXh0PXQuc2V0U3BhbkNvbnRleHQ9dC5kZWxldGVTcGFuPXQuc2V0U3Bhbj10LmdldEFjdGl2ZVNwYW49dC5nZXRTcGFuPXZvaWQgMDtjb25zdCBuPXIoNzgwKTtjb25zdCBhPXIoNDAzKTtjb25zdCBvPXIoNDkxKTtjb25zdCBpPSgwLG4uY3JlYXRlQ29udGV4dEtleSkoXCJPcGVuVGVsZW1ldHJ5IENvbnRleHQgS2V5IFNQQU5cIik7ZnVuY3Rpb24gZ2V0U3BhbihlKXtyZXR1cm4gZS5nZXRWYWx1ZShpKXx8dW5kZWZpbmVkfXQuZ2V0U3Bhbj1nZXRTcGFuO2Z1bmN0aW9uIGdldEFjdGl2ZVNwYW4oKXtyZXR1cm4gZ2V0U3BhbihvLkNvbnRleHRBUEkuZ2V0SW5zdGFuY2UoKS5hY3RpdmUoKSl9dC5nZXRBY3RpdmVTcGFuPWdldEFjdGl2ZVNwYW47ZnVuY3Rpb24gc2V0U3BhbihlLHQpe3JldHVybiBlLnNldFZhbHVlKGksdCl9dC5zZXRTcGFuPXNldFNwYW47ZnVuY3Rpb24gZGVsZXRlU3BhbihlKXtyZXR1cm4gZS5kZWxldGVWYWx1ZShpKX10LmRlbGV0ZVNwYW49ZGVsZXRlU3BhbjtmdW5jdGlvbiBzZXRTcGFuQ29udGV4dChlLHQpe3JldHVybiBzZXRTcGFuKGUsbmV3IGEuTm9uUmVjb3JkaW5nU3Bhbih0KSl9dC5zZXRTcGFuQ29udGV4dD1zZXRTcGFuQ29udGV4dDtmdW5jdGlvbiBnZXRTcGFuQ29udGV4dChlKXt2YXIgdDtyZXR1cm4odD1nZXRTcGFuKGUpKT09PW51bGx8fHQ9PT12b2lkIDA/dm9pZCAwOnQuc3BhbkNvbnRleHQoKX10LmdldFNwYW5Db250ZXh0PWdldFNwYW5Db250ZXh0fSwzMjU6KGUsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTp0cnVlfSk7dC5UcmFjZVN0YXRlSW1wbD12b2lkIDA7Y29uc3Qgbj1yKDU2NCk7Y29uc3QgYT0zMjtjb25zdCBvPTUxMjtjb25zdCBpPVwiLFwiO2NvbnN0IGM9XCI9XCI7Y2xhc3MgVHJhY2VTdGF0ZUltcGx7Y29uc3RydWN0b3IoZSl7dGhpcy5faW50ZXJuYWxTdGF0ZT1uZXcgTWFwO2lmKGUpdGhpcy5fcGFyc2UoZSl9c2V0KGUsdCl7Y29uc3Qgcj10aGlzLl9jbG9uZSgpO2lmKHIuX2ludGVybmFsU3RhdGUuaGFzKGUpKXtyLl9pbnRlcm5hbFN0YXRlLmRlbGV0ZShlKX1yLl9pbnRlcm5hbFN0YXRlLnNldChlLHQpO3JldHVybiByfXVuc2V0KGUpe2NvbnN0IHQ9dGhpcy5fY2xvbmUoKTt0Ll9pbnRlcm5hbFN0YXRlLmRlbGV0ZShlKTtyZXR1cm4gdH1nZXQoZSl7cmV0dXJuIHRoaXMuX2ludGVybmFsU3RhdGUuZ2V0KGUpfXNlcmlhbGl6ZSgpe3JldHVybiB0aGlzLl9rZXlzKCkucmVkdWNlKCgoZSx0KT0+e2UucHVzaCh0K2MrdGhpcy5nZXQodCkpO3JldHVybiBlfSksW10pLmpvaW4oaSl9X3BhcnNlKGUpe2lmKGUubGVuZ3RoPm8pcmV0dXJuO3RoaXMuX2ludGVybmFsU3RhdGU9ZS5zcGxpdChpKS5yZXZlcnNlKCkucmVkdWNlKCgoZSx0KT0+e2NvbnN0IHI9dC50cmltKCk7Y29uc3QgYT1yLmluZGV4T2YoYyk7aWYoYSE9PS0xKXtjb25zdCBvPXIuc2xpY2UoMCxhKTtjb25zdCBpPXIuc2xpY2UoYSsxLHQubGVuZ3RoKTtpZigoMCxuLnZhbGlkYXRlS2V5KShvKSYmKDAsbi52YWxpZGF0ZVZhbHVlKShpKSl7ZS5zZXQobyxpKX1lbHNle319cmV0dXJuIGV9KSxuZXcgTWFwKTtpZih0aGlzLl9pbnRlcm5hbFN0YXRlLnNpemU+YSl7dGhpcy5faW50ZXJuYWxTdGF0ZT1uZXcgTWFwKEFycmF5LmZyb20odGhpcy5faW50ZXJuYWxTdGF0ZS5lbnRyaWVzKCkpLnJldmVyc2UoKS5zbGljZSgwLGEpKX19X2tleXMoKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9pbnRlcm5hbFN0YXRlLmtleXMoKSkucmV2ZXJzZSgpfV9jbG9uZSgpe2NvbnN0IGU9bmV3IFRyYWNlU3RhdGVJbXBsO2UuX2ludGVybmFsU3RhdGU9bmV3IE1hcCh0aGlzLl9pbnRlcm5hbFN0YXRlKTtyZXR1cm4gZX19dC5UcmFjZVN0YXRlSW1wbD1UcmFjZVN0YXRlSW1wbH0sNTY0OihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOnRydWV9KTt0LnZhbGlkYXRlVmFsdWU9dC52YWxpZGF0ZUtleT12b2lkIDA7Y29uc3Qgcj1cIltfMC05YS16LSovXVwiO2NvbnN0IG49YFthLXpdJHtyfXswLDI1NX1gO2NvbnN0IGE9YFthLXowLTldJHtyfXswLDI0MH1AW2Etel0ke3J9ezAsMTN9YDtjb25zdCBvPW5ldyBSZWdFeHAoYF4oPzoke259fCR7YX0pJGApO2NvbnN0IGk9L15bIC1+XXswLDI1NX1bIS1+XSQvO2NvbnN0IGM9Lyx8PS87ZnVuY3Rpb24gdmFsaWRhdGVLZXkoZSl7cmV0dXJuIG8udGVzdChlKX10LnZhbGlkYXRlS2V5PXZhbGlkYXRlS2V5O2Z1bmN0aW9uIHZhbGlkYXRlVmFsdWUoZSl7cmV0dXJuIGkudGVzdChlKSYmIWMudGVzdChlKX10LnZhbGlkYXRlVmFsdWU9dmFsaWRhdGVWYWx1ZX0sOTg6KGUsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTp0cnVlfSk7dC5jcmVhdGVUcmFjZVN0YXRlPXZvaWQgMDtjb25zdCBuPXIoMzI1KTtmdW5jdGlvbiBjcmVhdGVUcmFjZVN0YXRlKGUpe3JldHVybiBuZXcgbi5UcmFjZVN0YXRlSW1wbChlKX10LmNyZWF0ZVRyYWNlU3RhdGU9Y3JlYXRlVHJhY2VTdGF0ZX0sNDc2OihlLHQscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6dHJ1ZX0pO3QuSU5WQUxJRF9TUEFOX0NPTlRFWFQ9dC5JTlZBTElEX1RSQUNFSUQ9dC5JTlZBTElEX1NQQU5JRD12b2lkIDA7Y29uc3Qgbj1yKDQ3NSk7dC5JTlZBTElEX1NQQU5JRD1cIjAwMDAwMDAwMDAwMDAwMDBcIjt0LklOVkFMSURfVFJBQ0VJRD1cIjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwXCI7dC5JTlZBTElEX1NQQU5fQ09OVEVYVD17dHJhY2VJZDp0LklOVkFMSURfVFJBQ0VJRCxzcGFuSWQ6dC5JTlZBTElEX1NQQU5JRCx0cmFjZUZsYWdzOm4uVHJhY2VGbGFncy5OT05FfX0sMzU3OihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOnRydWV9KTt0LlNwYW5LaW5kPXZvaWQgMDt2YXIgcjsoZnVuY3Rpb24oZSl7ZVtlW1wiSU5URVJOQUxcIl09MF09XCJJTlRFUk5BTFwiO2VbZVtcIlNFUlZFUlwiXT0xXT1cIlNFUlZFUlwiO2VbZVtcIkNMSUVOVFwiXT0yXT1cIkNMSUVOVFwiO2VbZVtcIlBST0RVQ0VSXCJdPTNdPVwiUFJPRFVDRVJcIjtlW2VbXCJDT05TVU1FUlwiXT00XT1cIkNPTlNVTUVSXCJ9KShyPXQuU3BhbktpbmR8fCh0LlNwYW5LaW5kPXt9KSl9LDEzOTooZSx0LHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOnRydWV9KTt0LndyYXBTcGFuQ29udGV4dD10LmlzU3BhbkNvbnRleHRWYWxpZD10LmlzVmFsaWRTcGFuSWQ9dC5pc1ZhbGlkVHJhY2VJZD12b2lkIDA7Y29uc3Qgbj1yKDQ3Nik7Y29uc3QgYT1yKDQwMyk7Y29uc3Qgbz0vXihbMC05YS1mXXszMn0pJC9pO2NvbnN0IGk9L15bMC05YS1mXXsxNn0kL2k7ZnVuY3Rpb24gaXNWYWxpZFRyYWNlSWQoZSl7cmV0dXJuIG8udGVzdChlKSYmZSE9PW4uSU5WQUxJRF9UUkFDRUlEfXQuaXNWYWxpZFRyYWNlSWQ9aXNWYWxpZFRyYWNlSWQ7ZnVuY3Rpb24gaXNWYWxpZFNwYW5JZChlKXtyZXR1cm4gaS50ZXN0KGUpJiZlIT09bi5JTlZBTElEX1NQQU5JRH10LmlzVmFsaWRTcGFuSWQ9aXNWYWxpZFNwYW5JZDtmdW5jdGlvbiBpc1NwYW5Db250ZXh0VmFsaWQoZSl7cmV0dXJuIGlzVmFsaWRUcmFjZUlkKGUudHJhY2VJZCkmJmlzVmFsaWRTcGFuSWQoZS5zcGFuSWQpfXQuaXNTcGFuQ29udGV4dFZhbGlkPWlzU3BhbkNvbnRleHRWYWxpZDtmdW5jdGlvbiB3cmFwU3BhbkNvbnRleHQoZSl7cmV0dXJuIG5ldyBhLk5vblJlY29yZGluZ1NwYW4oZSl9dC53cmFwU3BhbkNvbnRleHQ9d3JhcFNwYW5Db250ZXh0fSw4NDc6KGUsdCk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6dHJ1ZX0pO3QuU3BhblN0YXR1c0NvZGU9dm9pZCAwO3ZhciByOyhmdW5jdGlvbihlKXtlW2VbXCJVTlNFVFwiXT0wXT1cIlVOU0VUXCI7ZVtlW1wiT0tcIl09MV09XCJPS1wiO2VbZVtcIkVSUk9SXCJdPTJdPVwiRVJST1JcIn0pKHI9dC5TcGFuU3RhdHVzQ29kZXx8KHQuU3BhblN0YXR1c0NvZGU9e30pKX0sNDc1OihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOnRydWV9KTt0LlRyYWNlRmxhZ3M9dm9pZCAwO3ZhciByOyhmdW5jdGlvbihlKXtlW2VbXCJOT05FXCJdPTBdPVwiTk9ORVwiO2VbZVtcIlNBTVBMRURcIl09MV09XCJTQU1QTEVEXCJ9KShyPXQuVHJhY2VGbGFnc3x8KHQuVHJhY2VGbGFncz17fSkpfSw1MjE6KGUsdCk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6dHJ1ZX0pO3QuVkVSU0lPTj12b2lkIDA7dC5WRVJTSU9OPVwiMS42LjBcIn19O3ZhciB0PXt9O2Z1bmN0aW9uIF9fbmNjd3Bja19yZXF1aXJlX18ocil7dmFyIG49dFtyXTtpZihuIT09dW5kZWZpbmVkKXtyZXR1cm4gbi5leHBvcnRzfXZhciBhPXRbcl09e2V4cG9ydHM6e319O3ZhciBvPXRydWU7dHJ5e2Vbcl0uY2FsbChhLmV4cG9ydHMsYSxhLmV4cG9ydHMsX19uY2N3cGNrX3JlcXVpcmVfXyk7bz1mYWxzZX1maW5hbGx5e2lmKG8pZGVsZXRlIHRbcl19cmV0dXJuIGEuZXhwb3J0c31pZih0eXBlb2YgX19uY2N3cGNrX3JlcXVpcmVfXyE9PVwidW5kZWZpbmVkXCIpX19uY2N3cGNrX3JlcXVpcmVfXy5hYj1fX2Rpcm5hbWUrXCIvXCI7dmFyIHI9e307KCgpPT57dmFyIGU9cjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6dHJ1ZX0pO2UudHJhY2U9ZS5wcm9wYWdhdGlvbj1lLm1ldHJpY3M9ZS5kaWFnPWUuY29udGV4dD1lLklOVkFMSURfU1BBTl9DT05URVhUPWUuSU5WQUxJRF9UUkFDRUlEPWUuSU5WQUxJRF9TUEFOSUQ9ZS5pc1ZhbGlkU3BhbklkPWUuaXNWYWxpZFRyYWNlSWQ9ZS5pc1NwYW5Db250ZXh0VmFsaWQ9ZS5jcmVhdGVUcmFjZVN0YXRlPWUuVHJhY2VGbGFncz1lLlNwYW5TdGF0dXNDb2RlPWUuU3BhbktpbmQ9ZS5TYW1wbGluZ0RlY2lzaW9uPWUuUHJveHlUcmFjZXJQcm92aWRlcj1lLlByb3h5VHJhY2VyPWUuZGVmYXVsdFRleHRNYXBTZXR0ZXI9ZS5kZWZhdWx0VGV4dE1hcEdldHRlcj1lLlZhbHVlVHlwZT1lLmNyZWF0ZU5vb3BNZXRlcj1lLkRpYWdMb2dMZXZlbD1lLkRpYWdDb25zb2xlTG9nZ2VyPWUuUk9PVF9DT05URVhUPWUuY3JlYXRlQ29udGV4dEtleT1lLmJhZ2dhZ2VFbnRyeU1ldGFkYXRhRnJvbVN0cmluZz12b2lkIDA7dmFyIHQ9X19uY2N3cGNrX3JlcXVpcmVfXygzNjkpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiYmFnZ2FnZUVudHJ5TWV0YWRhdGFGcm9tU3RyaW5nXCIse2VudW1lcmFibGU6dHJ1ZSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5iYWdnYWdlRW50cnlNZXRhZGF0YUZyb21TdHJpbmd9fSk7dmFyIG49X19uY2N3cGNrX3JlcXVpcmVfXyg3ODApO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiY3JlYXRlQ29udGV4dEtleVwiLHtlbnVtZXJhYmxlOnRydWUsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4uY3JlYXRlQ29udGV4dEtleX19KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIlJPT1RfQ09OVEVYVFwiLHtlbnVtZXJhYmxlOnRydWUsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4uUk9PVF9DT05URVhUfX0pO3ZhciBhPV9fbmNjd3Bja19yZXF1aXJlX18oOTcyKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIkRpYWdDb25zb2xlTG9nZ2VyXCIse2VudW1lcmFibGU6dHJ1ZSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5EaWFnQ29uc29sZUxvZ2dlcn19KTt2YXIgbz1fX25jY3dwY2tfcmVxdWlyZV9fKDk1Nyk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJEaWFnTG9nTGV2ZWxcIix7ZW51bWVyYWJsZTp0cnVlLGdldDpmdW5jdGlvbigpe3JldHVybiBvLkRpYWdMb2dMZXZlbH19KTt2YXIgaT1fX25jY3dwY2tfcmVxdWlyZV9fKDEwMik7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJjcmVhdGVOb29wTWV0ZXJcIix7ZW51bWVyYWJsZTp0cnVlLGdldDpmdW5jdGlvbigpe3JldHVybiBpLmNyZWF0ZU5vb3BNZXRlcn19KTt2YXIgYz1fX25jY3dwY2tfcmVxdWlyZV9fKDkwMSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJWYWx1ZVR5cGVcIix7ZW51bWVyYWJsZTp0cnVlLGdldDpmdW5jdGlvbigpe3JldHVybiBjLlZhbHVlVHlwZX19KTt2YXIgcz1fX25jY3dwY2tfcmVxdWlyZV9fKDE5NCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJkZWZhdWx0VGV4dE1hcEdldHRlclwiLHtlbnVtZXJhYmxlOnRydWUsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuZGVmYXVsdFRleHRNYXBHZXR0ZXJ9fSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJkZWZhdWx0VGV4dE1hcFNldHRlclwiLHtlbnVtZXJhYmxlOnRydWUsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuZGVmYXVsdFRleHRNYXBTZXR0ZXJ9fSk7dmFyIHU9X19uY2N3cGNrX3JlcXVpcmVfXygxMjUpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiUHJveHlUcmFjZXJcIix7ZW51bWVyYWJsZTp0cnVlLGdldDpmdW5jdGlvbigpe3JldHVybiB1LlByb3h5VHJhY2VyfX0pO3ZhciBsPV9fbmNjd3Bja19yZXF1aXJlX18oODQ2KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIlByb3h5VHJhY2VyUHJvdmlkZXJcIix7ZW51bWVyYWJsZTp0cnVlLGdldDpmdW5jdGlvbigpe3JldHVybiBsLlByb3h5VHJhY2VyUHJvdmlkZXJ9fSk7dmFyIGc9X19uY2N3cGNrX3JlcXVpcmVfXyg5OTYpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiU2FtcGxpbmdEZWNpc2lvblwiLHtlbnVtZXJhYmxlOnRydWUsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGcuU2FtcGxpbmdEZWNpc2lvbn19KTt2YXIgcD1fX25jY3dwY2tfcmVxdWlyZV9fKDM1Nyk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJTcGFuS2luZFwiLHtlbnVtZXJhYmxlOnRydWUsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHAuU3BhbktpbmR9fSk7dmFyIGQ9X19uY2N3cGNrX3JlcXVpcmVfXyg4NDcpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiU3BhblN0YXR1c0NvZGVcIix7ZW51bWVyYWJsZTp0cnVlLGdldDpmdW5jdGlvbigpe3JldHVybiBkLlNwYW5TdGF0dXNDb2RlfX0pO3ZhciBfPV9fbmNjd3Bja19yZXF1aXJlX18oNDc1KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIlRyYWNlRmxhZ3NcIix7ZW51bWVyYWJsZTp0cnVlLGdldDpmdW5jdGlvbigpe3JldHVybiBfLlRyYWNlRmxhZ3N9fSk7dmFyIGY9X19uY2N3cGNrX3JlcXVpcmVfXyg5OCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJjcmVhdGVUcmFjZVN0YXRlXCIse2VudW1lcmFibGU6dHJ1ZSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5jcmVhdGVUcmFjZVN0YXRlfX0pO3ZhciBiPV9fbmNjd3Bja19yZXF1aXJlX18oMTM5KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcImlzU3BhbkNvbnRleHRWYWxpZFwiLHtlbnVtZXJhYmxlOnRydWUsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGIuaXNTcGFuQ29udGV4dFZhbGlkfX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiaXNWYWxpZFRyYWNlSWRcIix7ZW51bWVyYWJsZTp0cnVlLGdldDpmdW5jdGlvbigpe3JldHVybiBiLmlzVmFsaWRUcmFjZUlkfX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiaXNWYWxpZFNwYW5JZFwiLHtlbnVtZXJhYmxlOnRydWUsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGIuaXNWYWxpZFNwYW5JZH19KTt2YXIgdj1fX25jY3dwY2tfcmVxdWlyZV9fKDQ3Nik7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJJTlZBTElEX1NQQU5JRFwiLHtlbnVtZXJhYmxlOnRydWUsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHYuSU5WQUxJRF9TUEFOSUR9fSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJJTlZBTElEX1RSQUNFSURcIix7ZW51bWVyYWJsZTp0cnVlLGdldDpmdW5jdGlvbigpe3JldHVybiB2LklOVkFMSURfVFJBQ0VJRH19KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIklOVkFMSURfU1BBTl9DT05URVhUXCIse2VudW1lcmFibGU6dHJ1ZSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdi5JTlZBTElEX1NQQU5fQ09OVEVYVH19KTtjb25zdCBPPV9fbmNjd3Bja19yZXF1aXJlX18oNjcpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiY29udGV4dFwiLHtlbnVtZXJhYmxlOnRydWUsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE8uY29udGV4dH19KTtjb25zdCBQPV9fbmNjd3Bja19yZXF1aXJlX18oNTA2KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcImRpYWdcIix7ZW51bWVyYWJsZTp0cnVlLGdldDpmdW5jdGlvbigpe3JldHVybiBQLmRpYWd9fSk7Y29uc3QgTj1fX25jY3dwY2tfcmVxdWlyZV9fKDg4Nik7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJtZXRyaWNzXCIse2VudW1lcmFibGU6dHJ1ZSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gTi5tZXRyaWNzfX0pO2NvbnN0IFM9X19uY2N3cGNrX3JlcXVpcmVfXyg5MzkpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvcGFnYXRpb25cIix7ZW51bWVyYWJsZTp0cnVlLGdldDpmdW5jdGlvbigpe3JldHVybiBTLnByb3BhZ2F0aW9ufX0pO2NvbnN0IEM9X19uY2N3cGNrX3JlcXVpcmVfXyg4NDUpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwidHJhY2VcIix7ZW51bWVyYWJsZTp0cnVlLGdldDpmdW5jdGlvbigpe3JldHVybiBDLnRyYWNlfX0pO2VbXCJkZWZhdWx0XCJdPXtjb250ZXh0Ok8uY29udGV4dCxkaWFnOlAuZGlhZyxtZXRyaWNzOk4ubWV0cmljcyxwcm9wYWdhdGlvbjpTLnByb3BhZ2F0aW9uLHRyYWNlOkMudHJhY2V9fSkoKTttb2R1bGUuZXhwb3J0cz1yfSkoKTsiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/compiled/@opentelemetry/api/index.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/compiled/cookie/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/next/dist/compiled/cookie/index.js ***!
  \*********************************************************/
/***/ ((module) => {

eval("var __dirname = \"/\";\n(()=>{\"use strict\";if(typeof __nccwpck_require__!==\"undefined\")__nccwpck_require__.ab=__dirname+\"/\";var e={};(()=>{var r=e;\n/*!\n * cookie\n * Copyright(c) 2012-2014 Roman Shtylman\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */r.parse=parse;r.serialize=serialize;var i=decodeURIComponent;var t=encodeURIComponent;var a=/; */;var n=/^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;function parse(e,r){if(typeof e!==\"string\"){throw new TypeError(\"argument str must be a string\")}var t={};var n=r||{};var o=e.split(a);var s=n.decode||i;for(var p=0;p<o.length;p++){var f=o[p];var u=f.indexOf(\"=\");if(u<0){continue}var v=f.substr(0,u).trim();var c=f.substr(++u,f.length).trim();if('\"'==c[0]){c=c.slice(1,-1)}if(undefined==t[v]){t[v]=tryDecode(c,s)}}return t}function serialize(e,r,i){var a=i||{};var o=a.encode||t;if(typeof o!==\"function\"){throw new TypeError(\"option encode is invalid\")}if(!n.test(e)){throw new TypeError(\"argument name is invalid\")}var s=o(r);if(s&&!n.test(s)){throw new TypeError(\"argument val is invalid\")}var p=e+\"=\"+s;if(null!=a.maxAge){var f=a.maxAge-0;if(isNaN(f)||!isFinite(f)){throw new TypeError(\"option maxAge is invalid\")}p+=\"; Max-Age=\"+Math.floor(f)}if(a.domain){if(!n.test(a.domain)){throw new TypeError(\"option domain is invalid\")}p+=\"; Domain=\"+a.domain}if(a.path){if(!n.test(a.path)){throw new TypeError(\"option path is invalid\")}p+=\"; Path=\"+a.path}if(a.expires){if(typeof a.expires.toUTCString!==\"function\"){throw new TypeError(\"option expires is invalid\")}p+=\"; Expires=\"+a.expires.toUTCString()}if(a.httpOnly){p+=\"; HttpOnly\"}if(a.secure){p+=\"; Secure\"}if(a.sameSite){var u=typeof a.sameSite===\"string\"?a.sameSite.toLowerCase():a.sameSite;switch(u){case true:p+=\"; SameSite=Strict\";break;case\"lax\":p+=\"; SameSite=Lax\";break;case\"strict\":p+=\"; SameSite=Strict\";break;case\"none\":p+=\"; SameSite=None\";break;default:throw new TypeError(\"option sameSite is invalid\")}}return p}function tryDecode(e,r){try{return r(e)}catch(r){return e}}})();module.exports=e})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jb21waWxlZC9jb29raWUvaW5kZXguanMiLCJtYXBwaW5ncyI6IjtBQUFBLE1BQU0sYUFBYSxtRUFBbUUsU0FBUyxLQUFLLFNBQVMsTUFBTTtBQUNuSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHNCQUFzQix5QkFBeUIseUJBQXlCLFNBQVMsR0FBRyw4Q0FBOEMsb0JBQW9CLHdCQUF3QixxREFBcUQsU0FBUyxZQUFZLGlCQUFpQixrQkFBa0IsWUFBWSxXQUFXLEtBQUssV0FBVyxxQkFBcUIsUUFBUSxTQUFTLDJCQUEyQixvQ0FBb0MsY0FBYyxnQkFBZ0Isb0JBQW9CLHFCQUFxQixTQUFTLDBCQUEwQixZQUFZLGtCQUFrQiwwQkFBMEIsZ0RBQWdELGVBQWUsZ0RBQWdELFdBQVcsa0JBQWtCLCtDQUErQyxjQUFjLG1CQUFtQixpQkFBaUIsMkJBQTJCLGdEQUFnRCxNQUFNLHdCQUF3QixhQUFhLHNCQUFzQixnREFBZ0QsTUFBTSxrQkFBa0IsV0FBVyxvQkFBb0IsOENBQThDLE1BQU0sY0FBYyxjQUFjLDhDQUE4QyxpREFBaUQsTUFBTSxrQ0FBa0MsZUFBZSxNQUFNLFVBQVUsYUFBYSxNQUFNLFFBQVEsZUFBZSx1RUFBdUUsVUFBVSxnQkFBZ0IsaUJBQWlCLE1BQU0sZ0JBQWdCLGNBQWMsTUFBTSxtQkFBbUIsaUJBQWlCLE1BQU0saUJBQWlCLGVBQWUsTUFBTSwyREFBMkQsU0FBUyx3QkFBd0IsSUFBSSxZQUFZLFNBQVMsV0FBVyxJQUFJLGlCQUFpQiIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcbmV4dFxcZGlzdFxcY29tcGlsZWRcXGNvb2tpZVxcaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiKCgpPT57XCJ1c2Ugc3RyaWN0XCI7aWYodHlwZW9mIF9fbmNjd3Bja19yZXF1aXJlX18hPT1cInVuZGVmaW5lZFwiKV9fbmNjd3Bja19yZXF1aXJlX18uYWI9X19kaXJuYW1lK1wiL1wiO3ZhciBlPXt9OygoKT0+e3ZhciByPWU7XG4vKiFcbiAqIGNvb2tpZVxuICogQ29weXJpZ2h0KGMpIDIwMTItMjAxNCBSb21hbiBTaHR5bG1hblxuICogQ29weXJpZ2h0KGMpIDIwMTUgRG91Z2xhcyBDaHJpc3RvcGhlciBXaWxzb25cbiAqIE1JVCBMaWNlbnNlZFxuICovci5wYXJzZT1wYXJzZTtyLnNlcmlhbGl6ZT1zZXJpYWxpemU7dmFyIGk9ZGVjb2RlVVJJQ29tcG9uZW50O3ZhciB0PWVuY29kZVVSSUNvbXBvbmVudDt2YXIgYT0vOyAqLzt2YXIgbj0vXltcXHUwMDA5XFx1MDAyMC1cXHUwMDdlXFx1MDA4MC1cXHUwMGZmXSskLztmdW5jdGlvbiBwYXJzZShlLHIpe2lmKHR5cGVvZiBlIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihcImFyZ3VtZW50IHN0ciBtdXN0IGJlIGEgc3RyaW5nXCIpfXZhciB0PXt9O3ZhciBuPXJ8fHt9O3ZhciBvPWUuc3BsaXQoYSk7dmFyIHM9bi5kZWNvZGV8fGk7Zm9yKHZhciBwPTA7cDxvLmxlbmd0aDtwKyspe3ZhciBmPW9bcF07dmFyIHU9Zi5pbmRleE9mKFwiPVwiKTtpZih1PDApe2NvbnRpbnVlfXZhciB2PWYuc3Vic3RyKDAsdSkudHJpbSgpO3ZhciBjPWYuc3Vic3RyKCsrdSxmLmxlbmd0aCkudHJpbSgpO2lmKCdcIic9PWNbMF0pe2M9Yy5zbGljZSgxLC0xKX1pZih1bmRlZmluZWQ9PXRbdl0pe3Rbdl09dHJ5RGVjb2RlKGMscyl9fXJldHVybiB0fWZ1bmN0aW9uIHNlcmlhbGl6ZShlLHIsaSl7dmFyIGE9aXx8e307dmFyIG89YS5lbmNvZGV8fHQ7aWYodHlwZW9mIG8hPT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJvcHRpb24gZW5jb2RlIGlzIGludmFsaWRcIil9aWYoIW4udGVzdChlKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcImFyZ3VtZW50IG5hbWUgaXMgaW52YWxpZFwiKX12YXIgcz1vKHIpO2lmKHMmJiFuLnRlc3Qocykpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJhcmd1bWVudCB2YWwgaXMgaW52YWxpZFwiKX12YXIgcD1lK1wiPVwiK3M7aWYobnVsbCE9YS5tYXhBZ2Upe3ZhciBmPWEubWF4QWdlLTA7aWYoaXNOYU4oZil8fCFpc0Zpbml0ZShmKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIm9wdGlvbiBtYXhBZ2UgaXMgaW52YWxpZFwiKX1wKz1cIjsgTWF4LUFnZT1cIitNYXRoLmZsb29yKGYpfWlmKGEuZG9tYWluKXtpZighbi50ZXN0KGEuZG9tYWluKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIm9wdGlvbiBkb21haW4gaXMgaW52YWxpZFwiKX1wKz1cIjsgRG9tYWluPVwiK2EuZG9tYWlufWlmKGEucGF0aCl7aWYoIW4udGVzdChhLnBhdGgpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwib3B0aW9uIHBhdGggaXMgaW52YWxpZFwiKX1wKz1cIjsgUGF0aD1cIithLnBhdGh9aWYoYS5leHBpcmVzKXtpZih0eXBlb2YgYS5leHBpcmVzLnRvVVRDU3RyaW5nIT09XCJmdW5jdGlvblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwib3B0aW9uIGV4cGlyZXMgaXMgaW52YWxpZFwiKX1wKz1cIjsgRXhwaXJlcz1cIithLmV4cGlyZXMudG9VVENTdHJpbmcoKX1pZihhLmh0dHBPbmx5KXtwKz1cIjsgSHR0cE9ubHlcIn1pZihhLnNlY3VyZSl7cCs9XCI7IFNlY3VyZVwifWlmKGEuc2FtZVNpdGUpe3ZhciB1PXR5cGVvZiBhLnNhbWVTaXRlPT09XCJzdHJpbmdcIj9hLnNhbWVTaXRlLnRvTG93ZXJDYXNlKCk6YS5zYW1lU2l0ZTtzd2l0Y2godSl7Y2FzZSB0cnVlOnArPVwiOyBTYW1lU2l0ZT1TdHJpY3RcIjticmVhaztjYXNlXCJsYXhcIjpwKz1cIjsgU2FtZVNpdGU9TGF4XCI7YnJlYWs7Y2FzZVwic3RyaWN0XCI6cCs9XCI7IFNhbWVTaXRlPVN0cmljdFwiO2JyZWFrO2Nhc2VcIm5vbmVcIjpwKz1cIjsgU2FtZVNpdGU9Tm9uZVwiO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IFR5cGVFcnJvcihcIm9wdGlvbiBzYW1lU2l0ZSBpcyBpbnZhbGlkXCIpfX1yZXR1cm4gcH1mdW5jdGlvbiB0cnlEZWNvZGUoZSxyKXt0cnl7cmV0dXJuIHIoZSl9Y2F0Y2gocil7cmV0dXJuIGV9fX0pKCk7bW9kdWxlLmV4cG9ydHM9ZX0pKCk7Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/compiled/cookie/index.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/compiled/p-queue/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/next/dist/compiled/p-queue/index.js ***!
  \**********************************************************/
/***/ ((module) => {

eval("var __dirname = \"/\";\n(()=>{\"use strict\";var e={993:e=>{var t=Object.prototype.hasOwnProperty,n=\"~\";function Events(){}if(Object.create){Events.prototype=Object.create(null);if(!(new Events).__proto__)n=false}function EE(e,t,n){this.fn=e;this.context=t;this.once=n||false}function addListener(e,t,r,i,s){if(typeof r!==\"function\"){throw new TypeError(\"The listener must be a function\")}var o=new EE(r,i||e,s),u=n?n+t:t;if(!e._events[u])e._events[u]=o,e._eventsCount++;else if(!e._events[u].fn)e._events[u].push(o);else e._events[u]=[e._events[u],o];return e}function clearEvent(e,t){if(--e._eventsCount===0)e._events=new Events;else delete e._events[t]}function EventEmitter(){this._events=new Events;this._eventsCount=0}EventEmitter.prototype.eventNames=function eventNames(){var e=[],r,i;if(this._eventsCount===0)return e;for(i in r=this._events){if(t.call(r,i))e.push(n?i.slice(1):i)}if(Object.getOwnPropertySymbols){return e.concat(Object.getOwnPropertySymbols(r))}return e};EventEmitter.prototype.listeners=function listeners(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,s=r.length,o=new Array(s);i<s;i++){o[i]=r[i].fn}return o};EventEmitter.prototype.listenerCount=function listenerCount(e){var t=n?n+e:e,r=this._events[t];if(!r)return 0;if(r.fn)return 1;return r.length};EventEmitter.prototype.emit=function emit(e,t,r,i,s,o){var u=n?n+e:e;if(!this._events[u])return false;var a=this._events[u],l=arguments.length,c,h;if(a.fn){if(a.once)this.removeListener(e,a.fn,undefined,true);switch(l){case 1:return a.fn.call(a.context),true;case 2:return a.fn.call(a.context,t),true;case 3:return a.fn.call(a.context,t,r),true;case 4:return a.fn.call(a.context,t,r,i),true;case 5:return a.fn.call(a.context,t,r,i,s),true;case 6:return a.fn.call(a.context,t,r,i,s,o),true}for(h=1,c=new Array(l-1);h<l;h++){c[h-1]=arguments[h]}a.fn.apply(a.context,c)}else{var _=a.length,f;for(h=0;h<_;h++){if(a[h].once)this.removeListener(e,a[h].fn,undefined,true);switch(l){case 1:a[h].fn.call(a[h].context);break;case 2:a[h].fn.call(a[h].context,t);break;case 3:a[h].fn.call(a[h].context,t,r);break;case 4:a[h].fn.call(a[h].context,t,r,i);break;default:if(!c)for(f=1,c=new Array(l-1);f<l;f++){c[f-1]=arguments[f]}a[h].fn.apply(a[h].context,c)}}}return true};EventEmitter.prototype.on=function on(e,t,n){return addListener(this,e,t,n,false)};EventEmitter.prototype.once=function once(e,t,n){return addListener(this,e,t,n,true)};EventEmitter.prototype.removeListener=function removeListener(e,t,r,i){var s=n?n+e:e;if(!this._events[s])return this;if(!t){clearEvent(this,s);return this}var o=this._events[s];if(o.fn){if(o.fn===t&&(!i||o.once)&&(!r||o.context===r)){clearEvent(this,s)}}else{for(var u=0,a=[],l=o.length;u<l;u++){if(o[u].fn!==t||i&&!o[u].once||r&&o[u].context!==r){a.push(o[u])}}if(a.length)this._events[s]=a.length===1?a[0]:a;else clearEvent(this,s)}return this};EventEmitter.prototype.removeAllListeners=function removeAllListeners(e){var t;if(e){t=n?n+e:e;if(this._events[t])clearEvent(this,t)}else{this._events=new Events;this._eventsCount=0}return this};EventEmitter.prototype.off=EventEmitter.prototype.removeListener;EventEmitter.prototype.addListener=EventEmitter.prototype.on;EventEmitter.prefixed=n;EventEmitter.EventEmitter=EventEmitter;if(true){e.exports=EventEmitter}},213:e=>{e.exports=(e,t)=>{t=t||(()=>{});return e.then((e=>new Promise((e=>{e(t())})).then((()=>e))),(e=>new Promise((e=>{e(t())})).then((()=>{throw e}))))}},574:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});function lowerBound(e,t,n){let r=0;let i=e.length;while(i>0){const s=i/2|0;let o=r+s;if(n(e[o],t)<=0){r=++o;i-=s+1}else{i=s}}return r}t[\"default\"]=lowerBound},821:(e,t,n)=>{Object.defineProperty(t,\"__esModule\",{value:true});const r=n(574);class PriorityQueue{constructor(){this._queue=[]}enqueue(e,t){t=Object.assign({priority:0},t);const n={priority:t.priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority){this._queue.push(n);return}const i=r.default(this._queue,n,((e,t)=>t.priority-e.priority));this._queue.splice(i,0,n)}dequeue(){const e=this._queue.shift();return e===null||e===void 0?void 0:e.run}filter(e){return this._queue.filter((t=>t.priority===e.priority)).map((e=>e.run))}get size(){return this._queue.length}}t[\"default\"]=PriorityQueue},816:(e,t,n)=>{const r=n(213);class TimeoutError extends Error{constructor(e){super(e);this.name=\"TimeoutError\"}}const pTimeout=(e,t,n)=>new Promise(((i,s)=>{if(typeof t!==\"number\"||t<0){throw new TypeError(\"Expected `milliseconds` to be a positive number\")}if(t===Infinity){i(e);return}const o=setTimeout((()=>{if(typeof n===\"function\"){try{i(n())}catch(e){s(e)}return}const r=typeof n===\"string\"?n:`Promise timed out after ${t} milliseconds`;const o=n instanceof Error?n:new TimeoutError(r);if(typeof e.cancel===\"function\"){e.cancel()}s(o)}),t);r(e.then(i,s),(()=>{clearTimeout(o)}))}));e.exports=pTimeout;e.exports[\"default\"]=pTimeout;e.exports.TimeoutError=TimeoutError}};var t={};function __nccwpck_require__(n){var r=t[n];if(r!==undefined){return r.exports}var i=t[n]={exports:{}};var s=true;try{e[n](i,i.exports,__nccwpck_require__);s=false}finally{if(s)delete t[n]}return i.exports}if(typeof __nccwpck_require__!==\"undefined\")__nccwpck_require__.ab=__dirname+\"/\";var n={};(()=>{var e=n;Object.defineProperty(e,\"__esModule\",{value:true});const t=__nccwpck_require__(993);const r=__nccwpck_require__(816);const i=__nccwpck_require__(821);const empty=()=>{};const s=new r.TimeoutError;class PQueue extends t{constructor(e){var t,n,r,s;super();this._intervalCount=0;this._intervalEnd=0;this._pendingCount=0;this._resolveEmpty=empty;this._resolveIdle=empty;e=Object.assign({carryoverConcurrencyCount:false,intervalCap:Infinity,interval:0,concurrency:Infinity,autoStart:true,queueClass:i.default},e);if(!(typeof e.intervalCap===\"number\"&&e.intervalCap>=1)){throw new TypeError(`Expected \\`intervalCap\\` to be a number from 1 and up, got \\`${(n=(t=e.intervalCap)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:\"\"}\\` (${typeof e.intervalCap})`)}if(e.interval===undefined||!(Number.isFinite(e.interval)&&e.interval>=0)){throw new TypeError(`Expected \\`interval\\` to be a finite number >= 0, got \\`${(s=(r=e.interval)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:\"\"}\\` (${typeof e.interval})`)}this._carryoverConcurrencyCount=e.carryoverConcurrencyCount;this._isIntervalIgnored=e.intervalCap===Infinity||e.interval===0;this._intervalCap=e.intervalCap;this._interval=e.interval;this._queue=new e.queueClass;this._queueClass=e.queueClass;this.concurrency=e.concurrency;this._timeout=e.timeout;this._throwOnTimeout=e.throwOnTimeout===true;this._isPaused=e.autoStart===false}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--;this._tryToStartAnother();this.emit(\"next\")}_resolvePromises(){this._resolveEmpty();this._resolveEmpty=empty;if(this._pendingCount===0){this._resolveIdle();this._resolveIdle=empty;this.emit(\"idle\")}}_onResumeInterval(){this._onInterval();this._initializeIntervalIfNeeded();this._timeoutId=undefined}_isIntervalPaused(){const e=Date.now();if(this._intervalId===undefined){const t=this._intervalEnd-e;if(t<0){this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}else{if(this._timeoutId===undefined){this._timeoutId=setTimeout((()=>{this._onResumeInterval()}),t)}return true}}return false}_tryToStartAnother(){if(this._queue.size===0){if(this._intervalId){clearInterval(this._intervalId)}this._intervalId=undefined;this._resolvePromises();return false}if(!this._isPaused){const e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const t=this._queue.dequeue();if(!t){return false}this.emit(\"active\");t();if(e){this._initializeIntervalIfNeeded()}return true}}return false}_initializeIntervalIfNeeded(){if(this._isIntervalIgnored||this._intervalId!==undefined){return}this._intervalId=setInterval((()=>{this._onInterval()}),this._interval);this._intervalEnd=Date.now()+this._interval}_onInterval(){if(this._intervalCount===0&&this._pendingCount===0&&this._intervalId){clearInterval(this._intervalId);this._intervalId=undefined}this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;this._processQueue()}_processQueue(){while(this._tryToStartAnother()){}}get concurrency(){return this._concurrency}set concurrency(e){if(!(typeof e===\"number\"&&e>=1)){throw new TypeError(`Expected \\`concurrency\\` to be a number from 1 and up, got \\`${e}\\` (${typeof e})`)}this._concurrency=e;this._processQueue()}async add(e,t={}){return new Promise(((n,i)=>{const run=async()=>{this._pendingCount++;this._intervalCount++;try{const o=this._timeout===undefined&&t.timeout===undefined?e():r.default(Promise.resolve(e()),t.timeout===undefined?this._timeout:t.timeout,(()=>{if(t.throwOnTimeout===undefined?this._throwOnTimeout:t.throwOnTimeout){i(s)}return undefined}));n(await o)}catch(e){i(e)}this._next()};this._queue.enqueue(run,t);this._tryToStartAnother();this.emit(\"add\")}))}async addAll(e,t){return Promise.all(e.map((async e=>this.add(e,t))))}start(){if(!this._isPaused){return this}this._isPaused=false;this._processQueue();return this}pause(){this._isPaused=true}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size===0){return}return new Promise((e=>{const t=this._resolveEmpty;this._resolveEmpty=()=>{t();e()}}))}async onIdle(){if(this._pendingCount===0&&this._queue.size===0){return}return new Promise((e=>{const t=this._resolveIdle;this._resolveIdle=()=>{t();e()}}))}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}}e[\"default\"]=PQueue})();module.exports=n})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jb21waWxlZC9wLXF1ZXVlL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7QUFBQSxNQUFNLGFBQWEsT0FBTyxRQUFRLDRDQUE0QyxtQkFBbUIsa0JBQWtCLHFDQUFxQyxtQ0FBbUMsbUJBQW1CLFVBQVUsZUFBZSxtQkFBbUIsZ0NBQWdDLDBCQUEwQix1REFBdUQsaUNBQWlDLGlEQUFpRCw4Q0FBOEMsbUNBQW1DLFNBQVMseUJBQXlCLDZDQUE2Qyx5QkFBeUIsd0JBQXdCLHdCQUF3QixvQkFBb0Isd0RBQXdELGFBQWEsa0NBQWtDLHlCQUF5QixzQ0FBc0MsaUNBQWlDLGlEQUFpRCxVQUFVLHVEQUF1RCxnQ0FBZ0MsZUFBZSxxQkFBcUIsc0NBQXNDLElBQUksS0FBSyxhQUFhLFVBQVUsK0RBQStELGdDQUFnQyxlQUFlLGlCQUFpQixpQkFBaUIsdURBQXVELGNBQWMsaUNBQWlDLDZDQUE2QyxTQUFTLHFEQUFxRCxVQUFVLHdDQUF3QywwQ0FBMEMsNENBQTRDLDhDQUE4QyxnREFBZ0Qsa0RBQWtELHlCQUF5QixJQUFJLEtBQUssb0JBQW9CLHdCQUF3QixLQUFLLGlCQUFpQixRQUFRLElBQUksS0FBSywyREFBMkQsVUFBVSxrQ0FBa0MsTUFBTSxvQ0FBb0MsTUFBTSxzQ0FBc0MsTUFBTSx3Q0FBd0MsTUFBTSx1Q0FBdUMsSUFBSSxLQUFLLG9CQUFvQixnQ0FBZ0MsYUFBYSw2Q0FBNkMsc0NBQXNDLGlEQUFpRCxxQ0FBcUMsdUVBQXVFLGNBQWMsZ0NBQWdDLE9BQU8sbUJBQW1CLFlBQVksc0JBQXNCLFNBQVMsZ0RBQWdELG9CQUFvQixLQUFLLDRCQUE0QixJQUFJLEtBQUssb0RBQW9ELGNBQWMsZ0RBQWdELHdCQUF3QixhQUFhLHlFQUF5RSxNQUFNLE1BQU0sVUFBVSxzQ0FBc0MsS0FBSyx3QkFBd0Isb0JBQW9CLGFBQWEsaUVBQWlFLDZEQUE2RCx3QkFBd0IsdUNBQXVDLEdBQUcsSUFBSSxFQUFFLHdCQUF3QixTQUFTLGtCQUFrQixZQUFZLEVBQUUsbUNBQW1DLE9BQU8sdUNBQXVDLE9BQU8sY0FBYyxRQUFRLE1BQU0sYUFBYSxzQ0FBc0MsV0FBVyxFQUFFLDJCQUEyQixRQUFRLGVBQWUsV0FBVyxjQUFjLFVBQVUsaUJBQWlCLE1BQU0sT0FBTyxLQUFLLEtBQUssU0FBUyx3QkFBd0IsZUFBZSxzQ0FBc0MsV0FBVyxFQUFFLGVBQWUsb0JBQW9CLGNBQWMsZUFBZSxhQUFhLGlCQUFpQixXQUFXLElBQUksU0FBUywyQkFBMkIsNkRBQTZELG9CQUFvQixPQUFPLGdFQUFnRSwwQkFBMEIsVUFBVSw0QkFBNEIseUNBQXlDLFVBQVUsd0VBQXdFLFdBQVcsMkJBQTJCLDJCQUEyQixlQUFlLGVBQWUsaUNBQWlDLGVBQWUsU0FBUywwQkFBMEIsNkNBQTZDLDZCQUE2Qix1RUFBdUUsaUJBQWlCLEtBQUssT0FBTyx5QkFBeUIsMEJBQTBCLElBQUksT0FBTyxTQUFTLEtBQUssT0FBTyx5REFBeUQsR0FBRyxjQUFjLGlEQUFpRCxpQ0FBaUMsV0FBVyxLQUFLLEtBQUssb0JBQW9CLGdCQUFnQixHQUFHLEdBQUcsbUJBQW1CLDhCQUE4QixzQ0FBc0MsU0FBUyxnQ0FBZ0MsV0FBVyxrQkFBa0IsaUJBQWlCLFlBQVksWUFBWSxXQUFXLElBQUksc0NBQXNDLFFBQVEsUUFBUSxpQkFBaUIsaUJBQWlCLG1FQUFtRSxTQUFTLEtBQUssU0FBUyxNQUFNLFFBQVEsc0NBQXNDLFdBQVcsRUFBRSxpQ0FBaUMsaUNBQWlDLGlDQUFpQyxtQkFBbUIsMkJBQTJCLHVCQUF1QixlQUFlLFlBQVksUUFBUSxzQkFBc0Isb0JBQW9CLHFCQUFxQix5QkFBeUIsd0JBQXdCLGlCQUFpQix5SEFBeUgsSUFBSSx5REFBeUQsb0ZBQW9GLHFGQUFxRixNQUFNLHFCQUFxQixJQUFJLDBFQUEwRSwrRUFBK0Usa0ZBQWtGLE1BQU0sa0JBQWtCLElBQUksNERBQTRELGlFQUFpRSxnQ0FBZ0MsMEJBQTBCLDZCQUE2Qiw4QkFBOEIsK0JBQStCLHdCQUF3Qiw2Q0FBNkMsbUNBQW1DLGdDQUFnQyxzRUFBc0Usa0NBQWtDLDRDQUE0QyxRQUFRLHFCQUFxQiwwQkFBMEIsa0JBQWtCLG1CQUFtQixxQkFBcUIseUJBQXlCLDJCQUEyQixvQkFBb0Isd0JBQXdCLG1CQUFtQixvQkFBb0IsbUJBQW1CLG1DQUFtQywwQkFBMEIsb0JBQW9CLG1CQUFtQixpQ0FBaUMsNEJBQTRCLFFBQVEseUVBQXlFLEtBQUssZ0NBQWdDLGlDQUFpQyx5QkFBeUIsS0FBSyxhQUFhLGFBQWEscUJBQXFCLHlCQUF5QixxQkFBcUIsZ0NBQWdDLDJCQUEyQix3QkFBd0IsYUFBYSxvQkFBb0Isa0NBQWtDLHFFQUFxRSw4QkFBOEIsT0FBTyxhQUFhLG9CQUFvQixJQUFJLE1BQU0sbUNBQW1DLGFBQWEsYUFBYSw4QkFBOEIsMERBQTBELE9BQU8sbUNBQW1DLG1CQUFtQixrQkFBa0IsNENBQTRDLGNBQWMsc0VBQXNFLGdDQUFnQywyQkFBMkIseUVBQXlFLHFCQUFxQixnQkFBZ0IsbUNBQW1DLGtCQUFrQix5QkFBeUIsbUJBQW1CLGlDQUFpQyxvRkFBb0YsRUFBRSxNQUFNLFNBQVMsSUFBSSxvQkFBb0IscUJBQXFCLGdCQUFnQixFQUFFLDRCQUE0QixvQkFBb0IscUJBQXFCLHNCQUFzQixJQUFJLGdKQUFnSix1RUFBdUUsS0FBSyxpQkFBaUIsR0FBRyxXQUFXLFNBQVMsS0FBSyxjQUFjLDJCQUEyQiwwQkFBMEIsaUJBQWlCLEdBQUcsa0JBQWtCLG9EQUFvRCxRQUFRLG9CQUFvQixZQUFZLHFCQUFxQixxQkFBcUIsWUFBWSxRQUFRLG9CQUFvQixRQUFRLGlDQUFpQyxnQkFBZ0IseUJBQXlCLE9BQU8sd0JBQXdCLDJCQUEyQix3QkFBd0IsSUFBSSxLQUFLLEdBQUcsZUFBZSxpREFBaUQsT0FBTyx3QkFBd0IsMEJBQTBCLHVCQUF1QixJQUFJLEtBQUssR0FBRyxXQUFXLHdCQUF3QixVQUFVLG9DQUFvQyxjQUFjLDBCQUEwQixlQUFlLHNCQUFzQixjQUFjLHFCQUFxQixlQUFlLGlCQUFpQixvQkFBb0IsSUFBSSxpQkFBaUIiLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXG5leHRcXGRpc3RcXGNvbXBpbGVkXFxwLXF1ZXVlXFxpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIoKCk9PntcInVzZSBzdHJpY3RcIjt2YXIgZT17OTkzOmU9Pnt2YXIgdD1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LG49XCJ+XCI7ZnVuY3Rpb24gRXZlbnRzKCl7fWlmKE9iamVjdC5jcmVhdGUpe0V2ZW50cy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShudWxsKTtpZighKG5ldyBFdmVudHMpLl9fcHJvdG9fXyluPWZhbHNlfWZ1bmN0aW9uIEVFKGUsdCxuKXt0aGlzLmZuPWU7dGhpcy5jb250ZXh0PXQ7dGhpcy5vbmNlPW58fGZhbHNlfWZ1bmN0aW9uIGFkZExpc3RlbmVyKGUsdCxyLGkscyl7aWYodHlwZW9mIHIhPT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJUaGUgbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpfXZhciBvPW5ldyBFRShyLGl8fGUscyksdT1uP24rdDp0O2lmKCFlLl9ldmVudHNbdV0pZS5fZXZlbnRzW3VdPW8sZS5fZXZlbnRzQ291bnQrKztlbHNlIGlmKCFlLl9ldmVudHNbdV0uZm4pZS5fZXZlbnRzW3VdLnB1c2gobyk7ZWxzZSBlLl9ldmVudHNbdV09W2UuX2V2ZW50c1t1XSxvXTtyZXR1cm4gZX1mdW5jdGlvbiBjbGVhckV2ZW50KGUsdCl7aWYoLS1lLl9ldmVudHNDb3VudD09PTApZS5fZXZlbnRzPW5ldyBFdmVudHM7ZWxzZSBkZWxldGUgZS5fZXZlbnRzW3RdfWZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpe3RoaXMuX2V2ZW50cz1uZXcgRXZlbnRzO3RoaXMuX2V2ZW50c0NvdW50PTB9RXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzPWZ1bmN0aW9uIGV2ZW50TmFtZXMoKXt2YXIgZT1bXSxyLGk7aWYodGhpcy5fZXZlbnRzQ291bnQ9PT0wKXJldHVybiBlO2ZvcihpIGluIHI9dGhpcy5fZXZlbnRzKXtpZih0LmNhbGwocixpKSllLnB1c2gobj9pLnNsaWNlKDEpOmkpfWlmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3JldHVybiBlLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHIpKX1yZXR1cm4gZX07RXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnM9ZnVuY3Rpb24gbGlzdGVuZXJzKGUpe3ZhciB0PW4/bitlOmUscj10aGlzLl9ldmVudHNbdF07aWYoIXIpcmV0dXJuW107aWYoci5mbilyZXR1cm5bci5mbl07Zm9yKHZhciBpPTAscz1yLmxlbmd0aCxvPW5ldyBBcnJheShzKTtpPHM7aSsrKXtvW2ldPXJbaV0uZm59cmV0dXJuIG99O0V2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudD1mdW5jdGlvbiBsaXN0ZW5lckNvdW50KGUpe3ZhciB0PW4/bitlOmUscj10aGlzLl9ldmVudHNbdF07aWYoIXIpcmV0dXJuIDA7aWYoci5mbilyZXR1cm4gMTtyZXR1cm4gci5sZW5ndGh9O0V2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbiBlbWl0KGUsdCxyLGkscyxvKXt2YXIgdT1uP24rZTplO2lmKCF0aGlzLl9ldmVudHNbdV0pcmV0dXJuIGZhbHNlO3ZhciBhPXRoaXMuX2V2ZW50c1t1XSxsPWFyZ3VtZW50cy5sZW5ndGgsYyxoO2lmKGEuZm4pe2lmKGEub25jZSl0aGlzLnJlbW92ZUxpc3RlbmVyKGUsYS5mbix1bmRlZmluZWQsdHJ1ZSk7c3dpdGNoKGwpe2Nhc2UgMTpyZXR1cm4gYS5mbi5jYWxsKGEuY29udGV4dCksdHJ1ZTtjYXNlIDI6cmV0dXJuIGEuZm4uY2FsbChhLmNvbnRleHQsdCksdHJ1ZTtjYXNlIDM6cmV0dXJuIGEuZm4uY2FsbChhLmNvbnRleHQsdCxyKSx0cnVlO2Nhc2UgNDpyZXR1cm4gYS5mbi5jYWxsKGEuY29udGV4dCx0LHIsaSksdHJ1ZTtjYXNlIDU6cmV0dXJuIGEuZm4uY2FsbChhLmNvbnRleHQsdCxyLGkscyksdHJ1ZTtjYXNlIDY6cmV0dXJuIGEuZm4uY2FsbChhLmNvbnRleHQsdCxyLGkscyxvKSx0cnVlfWZvcihoPTEsYz1uZXcgQXJyYXkobC0xKTtoPGw7aCsrKXtjW2gtMV09YXJndW1lbnRzW2hdfWEuZm4uYXBwbHkoYS5jb250ZXh0LGMpfWVsc2V7dmFyIF89YS5sZW5ndGgsZjtmb3IoaD0wO2g8XztoKyspe2lmKGFbaF0ub25jZSl0aGlzLnJlbW92ZUxpc3RlbmVyKGUsYVtoXS5mbix1bmRlZmluZWQsdHJ1ZSk7c3dpdGNoKGwpe2Nhc2UgMTphW2hdLmZuLmNhbGwoYVtoXS5jb250ZXh0KTticmVhaztjYXNlIDI6YVtoXS5mbi5jYWxsKGFbaF0uY29udGV4dCx0KTticmVhaztjYXNlIDM6YVtoXS5mbi5jYWxsKGFbaF0uY29udGV4dCx0LHIpO2JyZWFrO2Nhc2UgNDphW2hdLmZuLmNhbGwoYVtoXS5jb250ZXh0LHQscixpKTticmVhaztkZWZhdWx0OmlmKCFjKWZvcihmPTEsYz1uZXcgQXJyYXkobC0xKTtmPGw7ZisrKXtjW2YtMV09YXJndW1lbnRzW2ZdfWFbaF0uZm4uYXBwbHkoYVtoXS5jb250ZXh0LGMpfX19cmV0dXJuIHRydWV9O0V2ZW50RW1pdHRlci5wcm90b3R5cGUub249ZnVuY3Rpb24gb24oZSx0LG4pe3JldHVybiBhZGRMaXN0ZW5lcih0aGlzLGUsdCxuLGZhbHNlKX07RXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uIG9uY2UoZSx0LG4pe3JldHVybiBhZGRMaXN0ZW5lcih0aGlzLGUsdCxuLHRydWUpfTtFdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyPWZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKGUsdCxyLGkpe3ZhciBzPW4/bitlOmU7aWYoIXRoaXMuX2V2ZW50c1tzXSlyZXR1cm4gdGhpcztpZighdCl7Y2xlYXJFdmVudCh0aGlzLHMpO3JldHVybiB0aGlzfXZhciBvPXRoaXMuX2V2ZW50c1tzXTtpZihvLmZuKXtpZihvLmZuPT09dCYmKCFpfHxvLm9uY2UpJiYoIXJ8fG8uY29udGV4dD09PXIpKXtjbGVhckV2ZW50KHRoaXMscyl9fWVsc2V7Zm9yKHZhciB1PTAsYT1bXSxsPW8ubGVuZ3RoO3U8bDt1Kyspe2lmKG9bdV0uZm4hPT10fHxpJiYhb1t1XS5vbmNlfHxyJiZvW3VdLmNvbnRleHQhPT1yKXthLnB1c2gob1t1XSl9fWlmKGEubGVuZ3RoKXRoaXMuX2V2ZW50c1tzXT1hLmxlbmd0aD09PTE/YVswXTphO2Vsc2UgY2xlYXJFdmVudCh0aGlzLHMpfXJldHVybiB0aGlzfTtFdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1mdW5jdGlvbiByZW1vdmVBbGxMaXN0ZW5lcnMoZSl7dmFyIHQ7aWYoZSl7dD1uP24rZTplO2lmKHRoaXMuX2V2ZW50c1t0XSljbGVhckV2ZW50KHRoaXMsdCl9ZWxzZXt0aGlzLl9ldmVudHM9bmV3IEV2ZW50czt0aGlzLl9ldmVudHNDb3VudD0wfXJldHVybiB0aGlzfTtFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZj1FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyO0V2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXI9RXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbjtFdmVudEVtaXR0ZXIucHJlZml4ZWQ9bjtFdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyPUV2ZW50RW1pdHRlcjtpZih0cnVlKXtlLmV4cG9ydHM9RXZlbnRFbWl0dGVyfX0sMjEzOmU9PntlLmV4cG9ydHM9KGUsdCk9Pnt0PXR8fCgoKT0+e30pO3JldHVybiBlLnRoZW4oKGU9Pm5ldyBQcm9taXNlKChlPT57ZSh0KCkpfSkpLnRoZW4oKCgpPT5lKSkpLChlPT5uZXcgUHJvbWlzZSgoZT0+e2UodCgpKX0pKS50aGVuKCgoKT0+e3Rocm93IGV9KSkpKX19LDU3NDooZSx0KT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTp0cnVlfSk7ZnVuY3Rpb24gbG93ZXJCb3VuZChlLHQsbil7bGV0IHI9MDtsZXQgaT1lLmxlbmd0aDt3aGlsZShpPjApe2NvbnN0IHM9aS8yfDA7bGV0IG89citzO2lmKG4oZVtvXSx0KTw9MCl7cj0rK287aS09cysxfWVsc2V7aT1zfX1yZXR1cm4gcn10W1wiZGVmYXVsdFwiXT1sb3dlckJvdW5kfSw4MjE6KGUsdCxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTp0cnVlfSk7Y29uc3Qgcj1uKDU3NCk7Y2xhc3MgUHJpb3JpdHlRdWV1ZXtjb25zdHJ1Y3Rvcigpe3RoaXMuX3F1ZXVlPVtdfWVucXVldWUoZSx0KXt0PU9iamVjdC5hc3NpZ24oe3ByaW9yaXR5OjB9LHQpO2NvbnN0IG49e3ByaW9yaXR5OnQucHJpb3JpdHkscnVuOmV9O2lmKHRoaXMuc2l6ZSYmdGhpcy5fcXVldWVbdGhpcy5zaXplLTFdLnByaW9yaXR5Pj10LnByaW9yaXR5KXt0aGlzLl9xdWV1ZS5wdXNoKG4pO3JldHVybn1jb25zdCBpPXIuZGVmYXVsdCh0aGlzLl9xdWV1ZSxuLCgoZSx0KT0+dC5wcmlvcml0eS1lLnByaW9yaXR5KSk7dGhpcy5fcXVldWUuc3BsaWNlKGksMCxuKX1kZXF1ZXVlKCl7Y29uc3QgZT10aGlzLl9xdWV1ZS5zaGlmdCgpO3JldHVybiBlPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZS5ydW59ZmlsdGVyKGUpe3JldHVybiB0aGlzLl9xdWV1ZS5maWx0ZXIoKHQ9PnQucHJpb3JpdHk9PT1lLnByaW9yaXR5KSkubWFwKChlPT5lLnJ1bikpfWdldCBzaXplKCl7cmV0dXJuIHRoaXMuX3F1ZXVlLmxlbmd0aH19dFtcImRlZmF1bHRcIl09UHJpb3JpdHlRdWV1ZX0sODE2OihlLHQsbik9Pntjb25zdCByPW4oMjEzKTtjbGFzcyBUaW1lb3V0RXJyb3IgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihlKXtzdXBlcihlKTt0aGlzLm5hbWU9XCJUaW1lb3V0RXJyb3JcIn19Y29uc3QgcFRpbWVvdXQ9KGUsdCxuKT0+bmV3IFByb21pc2UoKChpLHMpPT57aWYodHlwZW9mIHQhPT1cIm51bWJlclwifHx0PDApe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJFeHBlY3RlZCBgbWlsbGlzZWNvbmRzYCB0byBiZSBhIHBvc2l0aXZlIG51bWJlclwiKX1pZih0PT09SW5maW5pdHkpe2koZSk7cmV0dXJufWNvbnN0IG89c2V0VGltZW91dCgoKCk9PntpZih0eXBlb2Ygbj09PVwiZnVuY3Rpb25cIil7dHJ5e2kobigpKX1jYXRjaChlKXtzKGUpfXJldHVybn1jb25zdCByPXR5cGVvZiBuPT09XCJzdHJpbmdcIj9uOmBQcm9taXNlIHRpbWVkIG91dCBhZnRlciAke3R9IG1pbGxpc2Vjb25kc2A7Y29uc3Qgbz1uIGluc3RhbmNlb2YgRXJyb3I/bjpuZXcgVGltZW91dEVycm9yKHIpO2lmKHR5cGVvZiBlLmNhbmNlbD09PVwiZnVuY3Rpb25cIil7ZS5jYW5jZWwoKX1zKG8pfSksdCk7cihlLnRoZW4oaSxzKSwoKCk9PntjbGVhclRpbWVvdXQobyl9KSl9KSk7ZS5leHBvcnRzPXBUaW1lb3V0O2UuZXhwb3J0c1tcImRlZmF1bHRcIl09cFRpbWVvdXQ7ZS5leHBvcnRzLlRpbWVvdXRFcnJvcj1UaW1lb3V0RXJyb3J9fTt2YXIgdD17fTtmdW5jdGlvbiBfX25jY3dwY2tfcmVxdWlyZV9fKG4pe3ZhciByPXRbbl07aWYociE9PXVuZGVmaW5lZCl7cmV0dXJuIHIuZXhwb3J0c312YXIgaT10W25dPXtleHBvcnRzOnt9fTt2YXIgcz10cnVlO3RyeXtlW25dKGksaS5leHBvcnRzLF9fbmNjd3Bja19yZXF1aXJlX18pO3M9ZmFsc2V9ZmluYWxseXtpZihzKWRlbGV0ZSB0W25dfXJldHVybiBpLmV4cG9ydHN9aWYodHlwZW9mIF9fbmNjd3Bja19yZXF1aXJlX18hPT1cInVuZGVmaW5lZFwiKV9fbmNjd3Bja19yZXF1aXJlX18uYWI9X19kaXJuYW1lK1wiL1wiO3ZhciBuPXt9OygoKT0+e3ZhciBlPW47T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOnRydWV9KTtjb25zdCB0PV9fbmNjd3Bja19yZXF1aXJlX18oOTkzKTtjb25zdCByPV9fbmNjd3Bja19yZXF1aXJlX18oODE2KTtjb25zdCBpPV9fbmNjd3Bja19yZXF1aXJlX18oODIxKTtjb25zdCBlbXB0eT0oKT0+e307Y29uc3Qgcz1uZXcgci5UaW1lb3V0RXJyb3I7Y2xhc3MgUFF1ZXVlIGV4dGVuZHMgdHtjb25zdHJ1Y3RvcihlKXt2YXIgdCxuLHIscztzdXBlcigpO3RoaXMuX2ludGVydmFsQ291bnQ9MDt0aGlzLl9pbnRlcnZhbEVuZD0wO3RoaXMuX3BlbmRpbmdDb3VudD0wO3RoaXMuX3Jlc29sdmVFbXB0eT1lbXB0eTt0aGlzLl9yZXNvbHZlSWRsZT1lbXB0eTtlPU9iamVjdC5hc3NpZ24oe2NhcnJ5b3ZlckNvbmN1cnJlbmN5Q291bnQ6ZmFsc2UsaW50ZXJ2YWxDYXA6SW5maW5pdHksaW50ZXJ2YWw6MCxjb25jdXJyZW5jeTpJbmZpbml0eSxhdXRvU3RhcnQ6dHJ1ZSxxdWV1ZUNsYXNzOmkuZGVmYXVsdH0sZSk7aWYoISh0eXBlb2YgZS5pbnRlcnZhbENhcD09PVwibnVtYmVyXCImJmUuaW50ZXJ2YWxDYXA+PTEpKXt0aHJvdyBuZXcgVHlwZUVycm9yKGBFeHBlY3RlZCBcXGBpbnRlcnZhbENhcFxcYCB0byBiZSBhIG51bWJlciBmcm9tIDEgYW5kIHVwLCBnb3QgXFxgJHsobj0odD1lLmludGVydmFsQ2FwKT09PW51bGx8fHQ9PT12b2lkIDA/dm9pZCAwOnQudG9TdHJpbmcoKSkhPT1udWxsJiZuIT09dm9pZCAwP246XCJcIn1cXGAgKCR7dHlwZW9mIGUuaW50ZXJ2YWxDYXB9KWApfWlmKGUuaW50ZXJ2YWw9PT11bmRlZmluZWR8fCEoTnVtYmVyLmlzRmluaXRlKGUuaW50ZXJ2YWwpJiZlLmludGVydmFsPj0wKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgXFxgaW50ZXJ2YWxcXGAgdG8gYmUgYSBmaW5pdGUgbnVtYmVyID49IDAsIGdvdCBcXGAkeyhzPShyPWUuaW50ZXJ2YWwpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci50b1N0cmluZygpKSE9PW51bGwmJnMhPT12b2lkIDA/czpcIlwifVxcYCAoJHt0eXBlb2YgZS5pbnRlcnZhbH0pYCl9dGhpcy5fY2FycnlvdmVyQ29uY3VycmVuY3lDb3VudD1lLmNhcnJ5b3ZlckNvbmN1cnJlbmN5Q291bnQ7dGhpcy5faXNJbnRlcnZhbElnbm9yZWQ9ZS5pbnRlcnZhbENhcD09PUluZmluaXR5fHxlLmludGVydmFsPT09MDt0aGlzLl9pbnRlcnZhbENhcD1lLmludGVydmFsQ2FwO3RoaXMuX2ludGVydmFsPWUuaW50ZXJ2YWw7dGhpcy5fcXVldWU9bmV3IGUucXVldWVDbGFzczt0aGlzLl9xdWV1ZUNsYXNzPWUucXVldWVDbGFzczt0aGlzLmNvbmN1cnJlbmN5PWUuY29uY3VycmVuY3k7dGhpcy5fdGltZW91dD1lLnRpbWVvdXQ7dGhpcy5fdGhyb3dPblRpbWVvdXQ9ZS50aHJvd09uVGltZW91dD09PXRydWU7dGhpcy5faXNQYXVzZWQ9ZS5hdXRvU3RhcnQ9PT1mYWxzZX1nZXQgX2RvZXNJbnRlcnZhbEFsbG93QW5vdGhlcigpe3JldHVybiB0aGlzLl9pc0ludGVydmFsSWdub3JlZHx8dGhpcy5faW50ZXJ2YWxDb3VudDx0aGlzLl9pbnRlcnZhbENhcH1nZXQgX2RvZXNDb25jdXJyZW50QWxsb3dBbm90aGVyKCl7cmV0dXJuIHRoaXMuX3BlbmRpbmdDb3VudDx0aGlzLl9jb25jdXJyZW5jeX1fbmV4dCgpe3RoaXMuX3BlbmRpbmdDb3VudC0tO3RoaXMuX3RyeVRvU3RhcnRBbm90aGVyKCk7dGhpcy5lbWl0KFwibmV4dFwiKX1fcmVzb2x2ZVByb21pc2VzKCl7dGhpcy5fcmVzb2x2ZUVtcHR5KCk7dGhpcy5fcmVzb2x2ZUVtcHR5PWVtcHR5O2lmKHRoaXMuX3BlbmRpbmdDb3VudD09PTApe3RoaXMuX3Jlc29sdmVJZGxlKCk7dGhpcy5fcmVzb2x2ZUlkbGU9ZW1wdHk7dGhpcy5lbWl0KFwiaWRsZVwiKX19X29uUmVzdW1lSW50ZXJ2YWwoKXt0aGlzLl9vbkludGVydmFsKCk7dGhpcy5faW5pdGlhbGl6ZUludGVydmFsSWZOZWVkZWQoKTt0aGlzLl90aW1lb3V0SWQ9dW5kZWZpbmVkfV9pc0ludGVydmFsUGF1c2VkKCl7Y29uc3QgZT1EYXRlLm5vdygpO2lmKHRoaXMuX2ludGVydmFsSWQ9PT11bmRlZmluZWQpe2NvbnN0IHQ9dGhpcy5faW50ZXJ2YWxFbmQtZTtpZih0PDApe3RoaXMuX2ludGVydmFsQ291bnQ9dGhpcy5fY2FycnlvdmVyQ29uY3VycmVuY3lDb3VudD90aGlzLl9wZW5kaW5nQ291bnQ6MH1lbHNle2lmKHRoaXMuX3RpbWVvdXRJZD09PXVuZGVmaW5lZCl7dGhpcy5fdGltZW91dElkPXNldFRpbWVvdXQoKCgpPT57dGhpcy5fb25SZXN1bWVJbnRlcnZhbCgpfSksdCl9cmV0dXJuIHRydWV9fXJldHVybiBmYWxzZX1fdHJ5VG9TdGFydEFub3RoZXIoKXtpZih0aGlzLl9xdWV1ZS5zaXplPT09MCl7aWYodGhpcy5faW50ZXJ2YWxJZCl7Y2xlYXJJbnRlcnZhbCh0aGlzLl9pbnRlcnZhbElkKX10aGlzLl9pbnRlcnZhbElkPXVuZGVmaW5lZDt0aGlzLl9yZXNvbHZlUHJvbWlzZXMoKTtyZXR1cm4gZmFsc2V9aWYoIXRoaXMuX2lzUGF1c2VkKXtjb25zdCBlPSF0aGlzLl9pc0ludGVydmFsUGF1c2VkKCk7aWYodGhpcy5fZG9lc0ludGVydmFsQWxsb3dBbm90aGVyJiZ0aGlzLl9kb2VzQ29uY3VycmVudEFsbG93QW5vdGhlcil7Y29uc3QgdD10aGlzLl9xdWV1ZS5kZXF1ZXVlKCk7aWYoIXQpe3JldHVybiBmYWxzZX10aGlzLmVtaXQoXCJhY3RpdmVcIik7dCgpO2lmKGUpe3RoaXMuX2luaXRpYWxpemVJbnRlcnZhbElmTmVlZGVkKCl9cmV0dXJuIHRydWV9fXJldHVybiBmYWxzZX1faW5pdGlhbGl6ZUludGVydmFsSWZOZWVkZWQoKXtpZih0aGlzLl9pc0ludGVydmFsSWdub3JlZHx8dGhpcy5faW50ZXJ2YWxJZCE9PXVuZGVmaW5lZCl7cmV0dXJufXRoaXMuX2ludGVydmFsSWQ9c2V0SW50ZXJ2YWwoKCgpPT57dGhpcy5fb25JbnRlcnZhbCgpfSksdGhpcy5faW50ZXJ2YWwpO3RoaXMuX2ludGVydmFsRW5kPURhdGUubm93KCkrdGhpcy5faW50ZXJ2YWx9X29uSW50ZXJ2YWwoKXtpZih0aGlzLl9pbnRlcnZhbENvdW50PT09MCYmdGhpcy5fcGVuZGluZ0NvdW50PT09MCYmdGhpcy5faW50ZXJ2YWxJZCl7Y2xlYXJJbnRlcnZhbCh0aGlzLl9pbnRlcnZhbElkKTt0aGlzLl9pbnRlcnZhbElkPXVuZGVmaW5lZH10aGlzLl9pbnRlcnZhbENvdW50PXRoaXMuX2NhcnJ5b3ZlckNvbmN1cnJlbmN5Q291bnQ/dGhpcy5fcGVuZGluZ0NvdW50OjA7dGhpcy5fcHJvY2Vzc1F1ZXVlKCl9X3Byb2Nlc3NRdWV1ZSgpe3doaWxlKHRoaXMuX3RyeVRvU3RhcnRBbm90aGVyKCkpe319Z2V0IGNvbmN1cnJlbmN5KCl7cmV0dXJuIHRoaXMuX2NvbmN1cnJlbmN5fXNldCBjb25jdXJyZW5jeShlKXtpZighKHR5cGVvZiBlPT09XCJudW1iZXJcIiYmZT49MSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkIFxcYGNvbmN1cnJlbmN5XFxgIHRvIGJlIGEgbnVtYmVyIGZyb20gMSBhbmQgdXAsIGdvdCBcXGAke2V9XFxgICgke3R5cGVvZiBlfSlgKX10aGlzLl9jb25jdXJyZW5jeT1lO3RoaXMuX3Byb2Nlc3NRdWV1ZSgpfWFzeW5jIGFkZChlLHQ9e30pe3JldHVybiBuZXcgUHJvbWlzZSgoKG4saSk9Pntjb25zdCBydW49YXN5bmMoKT0+e3RoaXMuX3BlbmRpbmdDb3VudCsrO3RoaXMuX2ludGVydmFsQ291bnQrKzt0cnl7Y29uc3Qgbz10aGlzLl90aW1lb3V0PT09dW5kZWZpbmVkJiZ0LnRpbWVvdXQ9PT11bmRlZmluZWQ/ZSgpOnIuZGVmYXVsdChQcm9taXNlLnJlc29sdmUoZSgpKSx0LnRpbWVvdXQ9PT11bmRlZmluZWQ/dGhpcy5fdGltZW91dDp0LnRpbWVvdXQsKCgpPT57aWYodC50aHJvd09uVGltZW91dD09PXVuZGVmaW5lZD90aGlzLl90aHJvd09uVGltZW91dDp0LnRocm93T25UaW1lb3V0KXtpKHMpfXJldHVybiB1bmRlZmluZWR9KSk7bihhd2FpdCBvKX1jYXRjaChlKXtpKGUpfXRoaXMuX25leHQoKX07dGhpcy5fcXVldWUuZW5xdWV1ZShydW4sdCk7dGhpcy5fdHJ5VG9TdGFydEFub3RoZXIoKTt0aGlzLmVtaXQoXCJhZGRcIil9KSl9YXN5bmMgYWRkQWxsKGUsdCl7cmV0dXJuIFByb21pc2UuYWxsKGUubWFwKChhc3luYyBlPT50aGlzLmFkZChlLHQpKSkpfXN0YXJ0KCl7aWYoIXRoaXMuX2lzUGF1c2VkKXtyZXR1cm4gdGhpc310aGlzLl9pc1BhdXNlZD1mYWxzZTt0aGlzLl9wcm9jZXNzUXVldWUoKTtyZXR1cm4gdGhpc31wYXVzZSgpe3RoaXMuX2lzUGF1c2VkPXRydWV9Y2xlYXIoKXt0aGlzLl9xdWV1ZT1uZXcgdGhpcy5fcXVldWVDbGFzc31hc3luYyBvbkVtcHR5KCl7aWYodGhpcy5fcXVldWUuc2l6ZT09PTApe3JldHVybn1yZXR1cm4gbmV3IFByb21pc2UoKGU9Pntjb25zdCB0PXRoaXMuX3Jlc29sdmVFbXB0eTt0aGlzLl9yZXNvbHZlRW1wdHk9KCk9Pnt0KCk7ZSgpfX0pKX1hc3luYyBvbklkbGUoKXtpZih0aGlzLl9wZW5kaW5nQ291bnQ9PT0wJiZ0aGlzLl9xdWV1ZS5zaXplPT09MCl7cmV0dXJufXJldHVybiBuZXcgUHJvbWlzZSgoZT0+e2NvbnN0IHQ9dGhpcy5fcmVzb2x2ZUlkbGU7dGhpcy5fcmVzb2x2ZUlkbGU9KCk9Pnt0KCk7ZSgpfX0pKX1nZXQgc2l6ZSgpe3JldHVybiB0aGlzLl9xdWV1ZS5zaXplfXNpemVCeShlKXtyZXR1cm4gdGhpcy5fcXVldWUuZmlsdGVyKGUpLmxlbmd0aH1nZXQgcGVuZGluZygpe3JldHVybiB0aGlzLl9wZW5kaW5nQ291bnR9Z2V0IGlzUGF1c2VkKCl7cmV0dXJuIHRoaXMuX2lzUGF1c2VkfWdldCB0aW1lb3V0KCl7cmV0dXJuIHRoaXMuX3RpbWVvdXR9c2V0IHRpbWVvdXQoZSl7dGhpcy5fdGltZW91dD1lfX1lW1wiZGVmYXVsdFwiXT1QUXVldWV9KSgpO21vZHVsZS5leHBvcnRzPW59KSgpOyJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/compiled/p-queue/index.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/compiled/react/cjs/react.react-server.development.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/next/dist/compiled/react/cjs/react.react-server.development.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("/**\n * @license React\n * react.react-server.development.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n true &&\n  (function () {\n    function noop() {}\n    function getIteratorFn(maybeIterable) {\n      if (null === maybeIterable || \"object\" !== typeof maybeIterable)\n        return null;\n      maybeIterable =\n        (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n        maybeIterable[\"@@iterator\"];\n      return \"function\" === typeof maybeIterable ? maybeIterable : null;\n    }\n    function testStringCoercion(value) {\n      return \"\" + value;\n    }\n    function checkKeyStringCoercion(value) {\n      try {\n        testStringCoercion(value);\n        var JSCompiler_inline_result = !1;\n      } catch (e) {\n        JSCompiler_inline_result = !0;\n      }\n      if (JSCompiler_inline_result) {\n        JSCompiler_inline_result = console;\n        var JSCompiler_temp_const = JSCompiler_inline_result.error;\n        var JSCompiler_inline_result$jscomp$0 =\n          (\"function\" === typeof Symbol &&\n            Symbol.toStringTag &&\n            value[Symbol.toStringTag]) ||\n          value.constructor.name ||\n          \"Object\";\n        JSCompiler_temp_const.call(\n          JSCompiler_inline_result,\n          \"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.\",\n          JSCompiler_inline_result$jscomp$0\n        );\n        return testStringCoercion(value);\n      }\n    }\n    function getComponentNameFromType(type) {\n      if (null == type) return null;\n      if (\"function\" === typeof type)\n        return type.$$typeof === REACT_CLIENT_REFERENCE\n          ? null\n          : type.displayName || type.name || null;\n      if (\"string\" === typeof type) return type;\n      switch (type) {\n        case REACT_FRAGMENT_TYPE:\n          return \"Fragment\";\n        case REACT_PROFILER_TYPE:\n          return \"Profiler\";\n        case REACT_STRICT_MODE_TYPE:\n          return \"StrictMode\";\n        case REACT_SUSPENSE_TYPE:\n          return \"Suspense\";\n        case REACT_SUSPENSE_LIST_TYPE:\n          return \"SuspenseList\";\n        case REACT_ACTIVITY_TYPE:\n          return \"Activity\";\n      }\n      if (\"object\" === typeof type)\n        switch (\n          (\"number\" === typeof type.tag &&\n            console.error(\n              \"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"\n            ),\n          type.$$typeof)\n        ) {\n          case REACT_PORTAL_TYPE:\n            return \"Portal\";\n          case REACT_CONTEXT_TYPE:\n            return type.displayName || \"Context\";\n          case REACT_CONSUMER_TYPE:\n            return (type._context.displayName || \"Context\") + \".Consumer\";\n          case REACT_FORWARD_REF_TYPE:\n            var innerType = type.render;\n            type = type.displayName;\n            type ||\n              ((type = innerType.displayName || innerType.name || \"\"),\n              (type = \"\" !== type ? \"ForwardRef(\" + type + \")\" : \"ForwardRef\"));\n            return type;\n          case REACT_MEMO_TYPE:\n            return (\n              (innerType = type.displayName || null),\n              null !== innerType\n                ? innerType\n                : getComponentNameFromType(type.type) || \"Memo\"\n            );\n          case REACT_LAZY_TYPE:\n            innerType = type._payload;\n            type = type._init;\n            try {\n              return getComponentNameFromType(type(innerType));\n            } catch (x) {}\n        }\n      return null;\n    }\n    function getTaskName(type) {\n      if (type === REACT_FRAGMENT_TYPE) return \"<>\";\n      if (\n        \"object\" === typeof type &&\n        null !== type &&\n        type.$$typeof === REACT_LAZY_TYPE\n      )\n        return \"<...>\";\n      try {\n        var name = getComponentNameFromType(type);\n        return name ? \"<\" + name + \">\" : \"<...>\";\n      } catch (x) {\n        return \"<...>\";\n      }\n    }\n    function getOwner() {\n      var dispatcher = ReactSharedInternals.A;\n      return null === dispatcher ? null : dispatcher.getOwner();\n    }\n    function UnknownOwner() {\n      return Error(\"react-stack-top-frame\");\n    }\n    function hasValidKey(config) {\n      if (hasOwnProperty.call(config, \"key\")) {\n        var getter = Object.getOwnPropertyDescriptor(config, \"key\").get;\n        if (getter && getter.isReactWarning) return !1;\n      }\n      return void 0 !== config.key;\n    }\n    function defineKeyPropWarningGetter(props, displayName) {\n      function warnAboutAccessingKey() {\n        specialPropKeyWarningShown ||\n          ((specialPropKeyWarningShown = !0),\n          console.error(\n            \"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)\",\n            displayName\n          ));\n      }\n      warnAboutAccessingKey.isReactWarning = !0;\n      Object.defineProperty(props, \"key\", {\n        get: warnAboutAccessingKey,\n        configurable: !0\n      });\n    }\n    function elementRefGetterWithDeprecationWarning() {\n      var componentName = getComponentNameFromType(this.type);\n      didWarnAboutElementRef[componentName] ||\n        ((didWarnAboutElementRef[componentName] = !0),\n        console.error(\n          \"Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.\"\n        ));\n      componentName = this.props.ref;\n      return void 0 !== componentName ? componentName : null;\n    }\n    function ReactElement(type, key, props, owner, debugStack, debugTask) {\n      var refProp = props.ref;\n      type = {\n        $$typeof: REACT_ELEMENT_TYPE,\n        type: type,\n        key: key,\n        props: props,\n        _owner: owner\n      };\n      null !== (void 0 !== refProp ? refProp : null)\n        ? Object.defineProperty(type, \"ref\", {\n            enumerable: !1,\n            get: elementRefGetterWithDeprecationWarning\n          })\n        : Object.defineProperty(type, \"ref\", { enumerable: !1, value: null });\n      type._store = {};\n      Object.defineProperty(type._store, \"validated\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: 0\n      });\n      Object.defineProperty(type, \"_debugInfo\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: null\n      });\n      Object.defineProperty(type, \"_debugStack\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: debugStack\n      });\n      Object.defineProperty(type, \"_debugTask\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: debugTask\n      });\n      Object.freeze && (Object.freeze(type.props), Object.freeze(type));\n      return type;\n    }\n    function cloneAndReplaceKey(oldElement, newKey) {\n      newKey = ReactElement(\n        oldElement.type,\n        newKey,\n        oldElement.props,\n        oldElement._owner,\n        oldElement._debugStack,\n        oldElement._debugTask\n      );\n      oldElement._store &&\n        (newKey._store.validated = oldElement._store.validated);\n      return newKey;\n    }\n    function isValidElement(object) {\n      return (\n        \"object\" === typeof object &&\n        null !== object &&\n        object.$$typeof === REACT_ELEMENT_TYPE\n      );\n    }\n    function escape(key) {\n      var escaperLookup = { \"=\": \"=0\", \":\": \"=2\" };\n      return (\n        \"$\" +\n        key.replace(/[=:]/g, function (match) {\n          return escaperLookup[match];\n        })\n      );\n    }\n    function getElementKey(element, index) {\n      return \"object\" === typeof element &&\n        null !== element &&\n        null != element.key\n        ? (checkKeyStringCoercion(element.key), escape(\"\" + element.key))\n        : index.toString(36);\n    }\n    function resolveThenable(thenable) {\n      switch (thenable.status) {\n        case \"fulfilled\":\n          return thenable.value;\n        case \"rejected\":\n          throw thenable.reason;\n        default:\n          switch (\n            (\"string\" === typeof thenable.status\n              ? thenable.then(noop, noop)\n              : ((thenable.status = \"pending\"),\n                thenable.then(\n                  function (fulfilledValue) {\n                    \"pending\" === thenable.status &&\n                      ((thenable.status = \"fulfilled\"),\n                      (thenable.value = fulfilledValue));\n                  },\n                  function (error) {\n                    \"pending\" === thenable.status &&\n                      ((thenable.status = \"rejected\"),\n                      (thenable.reason = error));\n                  }\n                )),\n            thenable.status)\n          ) {\n            case \"fulfilled\":\n              return thenable.value;\n            case \"rejected\":\n              throw thenable.reason;\n          }\n      }\n      throw thenable;\n    }\n    function mapIntoArray(children, array, escapedPrefix, nameSoFar, callback) {\n      var type = typeof children;\n      if (\"undefined\" === type || \"boolean\" === type) children = null;\n      var invokeCallback = !1;\n      if (null === children) invokeCallback = !0;\n      else\n        switch (type) {\n          case \"bigint\":\n          case \"string\":\n          case \"number\":\n            invokeCallback = !0;\n            break;\n          case \"object\":\n            switch (children.$$typeof) {\n              case REACT_ELEMENT_TYPE:\n              case REACT_PORTAL_TYPE:\n                invokeCallback = !0;\n                break;\n              case REACT_LAZY_TYPE:\n                return (\n                  (invokeCallback = children._init),\n                  mapIntoArray(\n                    invokeCallback(children._payload),\n                    array,\n                    escapedPrefix,\n                    nameSoFar,\n                    callback\n                  )\n                );\n            }\n        }\n      if (invokeCallback) {\n        invokeCallback = children;\n        callback = callback(invokeCallback);\n        var childKey =\n          \"\" === nameSoFar ? \".\" + getElementKey(invokeCallback, 0) : nameSoFar;\n        isArrayImpl(callback)\n          ? ((escapedPrefix = \"\"),\n            null != childKey &&\n              (escapedPrefix =\n                childKey.replace(userProvidedKeyEscapeRegex, \"$&/\") + \"/\"),\n            mapIntoArray(callback, array, escapedPrefix, \"\", function (c) {\n              return c;\n            }))\n          : null != callback &&\n            (isValidElement(callback) &&\n              (null != callback.key &&\n                ((invokeCallback && invokeCallback.key === callback.key) ||\n                  checkKeyStringCoercion(callback.key)),\n              (escapedPrefix = cloneAndReplaceKey(\n                callback,\n                escapedPrefix +\n                  (null == callback.key ||\n                  (invokeCallback && invokeCallback.key === callback.key)\n                    ? \"\"\n                    : (\"\" + callback.key).replace(\n                        userProvidedKeyEscapeRegex,\n                        \"$&/\"\n                      ) + \"/\") +\n                  childKey\n              )),\n              \"\" !== nameSoFar &&\n                null != invokeCallback &&\n                isValidElement(invokeCallback) &&\n                null == invokeCallback.key &&\n                invokeCallback._store &&\n                !invokeCallback._store.validated &&\n                (escapedPrefix._store.validated = 2),\n              (callback = escapedPrefix)),\n            array.push(callback));\n        return 1;\n      }\n      invokeCallback = 0;\n      childKey = \"\" === nameSoFar ? \".\" : nameSoFar + \":\";\n      if (isArrayImpl(children))\n        for (var i = 0; i < children.length; i++)\n          (nameSoFar = children[i]),\n            (type = childKey + getElementKey(nameSoFar, i)),\n            (invokeCallback += mapIntoArray(\n              nameSoFar,\n              array,\n              escapedPrefix,\n              type,\n              callback\n            ));\n      else if (((i = getIteratorFn(children)), \"function\" === typeof i))\n        for (\n          i === children.entries &&\n            (didWarnAboutMaps ||\n              console.warn(\n                \"Using Maps as children is not supported. Use an array of keyed ReactElements instead.\"\n              ),\n            (didWarnAboutMaps = !0)),\n            children = i.call(children),\n            i = 0;\n          !(nameSoFar = children.next()).done;\n\n        )\n          (nameSoFar = nameSoFar.value),\n            (type = childKey + getElementKey(nameSoFar, i++)),\n            (invokeCallback += mapIntoArray(\n              nameSoFar,\n              array,\n              escapedPrefix,\n              type,\n              callback\n            ));\n      else if (\"object\" === type) {\n        if (\"function\" === typeof children.then)\n          return mapIntoArray(\n            resolveThenable(children),\n            array,\n            escapedPrefix,\n            nameSoFar,\n            callback\n          );\n        array = String(children);\n        throw Error(\n          \"Objects are not valid as a React child (found: \" +\n            (\"[object Object]\" === array\n              ? \"object with keys {\" + Object.keys(children).join(\", \") + \"}\"\n              : array) +\n            \"). If you meant to render a collection of children, use an array instead.\"\n        );\n      }\n      return invokeCallback;\n    }\n    function mapChildren(children, func, context) {\n      if (null == children) return children;\n      var result = [],\n        count = 0;\n      mapIntoArray(children, result, \"\", \"\", function (child) {\n        return func.call(context, child, count++);\n      });\n      return result;\n    }\n    function resolveDispatcher() {\n      var dispatcher = ReactSharedInternals.H;\n      null === dispatcher &&\n        console.error(\n          \"Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\\n1. You might have mismatching versions of React and the renderer (such as React DOM)\\n2. You might be breaking the Rules of Hooks\\n3. You might have more than one copy of React in the same app\\nSee https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.\"\n        );\n      return dispatcher;\n    }\n    function lazyInitializer(payload) {\n      if (-1 === payload._status) {\n        var ioInfo = payload._ioInfo;\n        null != ioInfo && (ioInfo.start = ioInfo.end = performance.now());\n        ioInfo = payload._result;\n        var thenable = ioInfo();\n        thenable.then(\n          function (moduleObject) {\n            if (0 === payload._status || -1 === payload._status) {\n              payload._status = 1;\n              payload._result = moduleObject;\n              var _ioInfo = payload._ioInfo;\n              null != _ioInfo && (_ioInfo.end = performance.now());\n              void 0 === thenable.status &&\n                ((thenable.status = \"fulfilled\"),\n                (thenable.value = moduleObject));\n            }\n          },\n          function (error) {\n            if (0 === payload._status || -1 === payload._status) {\n              payload._status = 2;\n              payload._result = error;\n              var _ioInfo2 = payload._ioInfo;\n              null != _ioInfo2 && (_ioInfo2.end = performance.now());\n              void 0 === thenable.status &&\n                ((thenable.status = \"rejected\"), (thenable.reason = error));\n            }\n          }\n        );\n        ioInfo = payload._ioInfo;\n        if (null != ioInfo) {\n          ioInfo.value = thenable;\n          var displayName = thenable.displayName;\n          \"string\" === typeof displayName && (ioInfo.name = displayName);\n        }\n        -1 === payload._status &&\n          ((payload._status = 0), (payload._result = thenable));\n      }\n      if (1 === payload._status)\n        return (\n          (ioInfo = payload._result),\n          void 0 === ioInfo &&\n            console.error(\n              \"lazy: Expected the result of a dynamic import() call. Instead received: %s\\n\\nYour code should look like: \\n  const MyComponent = lazy(() => import('./MyComponent'))\\n\\nDid you accidentally put curly braces around the import?\",\n              ioInfo\n            ),\n          \"default\" in ioInfo ||\n            console.error(\n              \"lazy: Expected the result of a dynamic import() call. Instead received: %s\\n\\nYour code should look like: \\n  const MyComponent = lazy(() => import('./MyComponent'))\",\n              ioInfo\n            ),\n          ioInfo.default\n        );\n      throw payload._result;\n    }\n    function createCacheRoot() {\n      return new WeakMap();\n    }\n    function createCacheNode() {\n      return { s: 0, v: void 0, o: null, p: null };\n    }\n    var ReactSharedInternals = {\n        H: null,\n        A: null,\n        getCurrentStack: null,\n        recentlyCreatedOwnerStacks: 0\n      },\n      isArrayImpl = Array.isArray,\n      REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n      REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n      REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n      REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n      REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n      REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n      REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n      REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n      REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n      REACT_SUSPENSE_LIST_TYPE = Symbol.for(\"react.suspense_list\"),\n      REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n      REACT_LAZY_TYPE = Symbol.for(\"react.lazy\"),\n      REACT_ACTIVITY_TYPE = Symbol.for(\"react.activity\"),\n      MAYBE_ITERATOR_SYMBOL = Symbol.iterator,\n      REACT_CLIENT_REFERENCE = Symbol.for(\"react.client.reference\"),\n      hasOwnProperty = Object.prototype.hasOwnProperty,\n      assign = Object.assign,\n      createTask = console.createTask\n        ? console.createTask\n        : function () {\n            return null;\n          },\n      createFakeCallStack = {\n        react_stack_bottom_frame: function (callStackForError) {\n          return callStackForError();\n        }\n      },\n      specialPropKeyWarningShown,\n      didWarnAboutOldJSXRuntime;\n    var didWarnAboutElementRef = {};\n    var unknownOwnerDebugStack =\n      createFakeCallStack.react_stack_bottom_frame.bind(\n        createFakeCallStack,\n        UnknownOwner\n      )();\n    var unknownOwnerDebugTask = createTask(getTaskName(UnknownOwner));\n    var didWarnAboutMaps = !1,\n      userProvidedKeyEscapeRegex = /\\/+/g;\n    exports.Children = {\n      map: mapChildren,\n      forEach: function (children, forEachFunc, forEachContext) {\n        mapChildren(\n          children,\n          function () {\n            forEachFunc.apply(this, arguments);\n          },\n          forEachContext\n        );\n      },\n      count: function (children) {\n        var n = 0;\n        mapChildren(children, function () {\n          n++;\n        });\n        return n;\n      },\n      toArray: function (children) {\n        return (\n          mapChildren(children, function (child) {\n            return child;\n          }) || []\n        );\n      },\n      only: function (children) {\n        if (!isValidElement(children))\n          throw Error(\n            \"React.Children.only expected to receive a single React element child.\"\n          );\n        return children;\n      }\n    };\n    exports.Fragment = REACT_FRAGMENT_TYPE;\n    exports.Profiler = REACT_PROFILER_TYPE;\n    exports.StrictMode = REACT_STRICT_MODE_TYPE;\n    exports.Suspense = REACT_SUSPENSE_TYPE;\n    exports.__SERVER_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE =\n      ReactSharedInternals;\n    exports.cache = function (fn) {\n      return function () {\n        var dispatcher = ReactSharedInternals.A;\n        if (!dispatcher) return fn.apply(null, arguments);\n        var fnMap = dispatcher.getCacheForType(createCacheRoot);\n        dispatcher = fnMap.get(fn);\n        void 0 === dispatcher &&\n          ((dispatcher = createCacheNode()), fnMap.set(fn, dispatcher));\n        fnMap = 0;\n        for (var l = arguments.length; fnMap < l; fnMap++) {\n          var arg = arguments[fnMap];\n          if (\n            \"function\" === typeof arg ||\n            (\"object\" === typeof arg && null !== arg)\n          ) {\n            var objectCache = dispatcher.o;\n            null === objectCache &&\n              (dispatcher.o = objectCache = new WeakMap());\n            dispatcher = objectCache.get(arg);\n            void 0 === dispatcher &&\n              ((dispatcher = createCacheNode()),\n              objectCache.set(arg, dispatcher));\n          } else\n            (objectCache = dispatcher.p),\n              null === objectCache && (dispatcher.p = objectCache = new Map()),\n              (dispatcher = objectCache.get(arg)),\n              void 0 === dispatcher &&\n                ((dispatcher = createCacheNode()),\n                objectCache.set(arg, dispatcher));\n        }\n        if (1 === dispatcher.s) return dispatcher.v;\n        if (2 === dispatcher.s) throw dispatcher.v;\n        try {\n          var result = fn.apply(null, arguments);\n          fnMap = dispatcher;\n          fnMap.s = 1;\n          return (fnMap.v = result);\n        } catch (error) {\n          throw (\n            ((result = dispatcher), (result.s = 2), (result.v = error), error)\n          );\n        }\n      };\n    };\n    exports.cacheSignal = function () {\n      var dispatcher = ReactSharedInternals.A;\n      return dispatcher ? dispatcher.cacheSignal() : null;\n    };\n    exports.captureOwnerStack = function () {\n      var getCurrentStack = ReactSharedInternals.getCurrentStack;\n      return null === getCurrentStack ? null : getCurrentStack();\n    };\n    exports.cloneElement = function (element, config, children) {\n      if (null === element || void 0 === element)\n        throw Error(\n          \"The argument must be a React element, but you passed \" +\n            element +\n            \".\"\n        );\n      var props = assign({}, element.props),\n        key = element.key,\n        owner = element._owner;\n      if (null != config) {\n        var JSCompiler_inline_result;\n        a: {\n          if (\n            hasOwnProperty.call(config, \"ref\") &&\n            (JSCompiler_inline_result = Object.getOwnPropertyDescriptor(\n              config,\n              \"ref\"\n            ).get) &&\n            JSCompiler_inline_result.isReactWarning\n          ) {\n            JSCompiler_inline_result = !1;\n            break a;\n          }\n          JSCompiler_inline_result = void 0 !== config.ref;\n        }\n        JSCompiler_inline_result && (owner = getOwner());\n        hasValidKey(config) &&\n          (checkKeyStringCoercion(config.key), (key = \"\" + config.key));\n        for (propName in config)\n          !hasOwnProperty.call(config, propName) ||\n            \"key\" === propName ||\n            \"__self\" === propName ||\n            \"__source\" === propName ||\n            (\"ref\" === propName && void 0 === config.ref) ||\n            (props[propName] = config[propName]);\n      }\n      var propName = arguments.length - 2;\n      if (1 === propName) props.children = children;\n      else if (1 < propName) {\n        JSCompiler_inline_result = Array(propName);\n        for (var i = 0; i < propName; i++)\n          JSCompiler_inline_result[i] = arguments[i + 2];\n        props.children = JSCompiler_inline_result;\n      }\n      props = ReactElement(\n        element.type,\n        key,\n        props,\n        owner,\n        element._debugStack,\n        element._debugTask\n      );\n      for (key = 2; key < arguments.length; key++)\n        (owner = arguments[key]),\n          isValidElement(owner) && owner._store && (owner._store.validated = 1);\n      return props;\n    };\n    exports.createElement = function (type, config, children) {\n      for (var i = 2; i < arguments.length; i++) {\n        var node = arguments[i];\n        isValidElement(node) && node._store && (node._store.validated = 1);\n      }\n      i = {};\n      node = null;\n      if (null != config)\n        for (propName in (didWarnAboutOldJSXRuntime ||\n          !(\"__self\" in config) ||\n          \"key\" in config ||\n          ((didWarnAboutOldJSXRuntime = !0),\n          console.warn(\n            \"Your app (or one of its dependencies) is using an outdated JSX transform. Update to the modern JSX transform for faster performance: https://react.dev/link/new-jsx-transform\"\n          )),\n        hasValidKey(config) &&\n          (checkKeyStringCoercion(config.key), (node = \"\" + config.key)),\n        config))\n          hasOwnProperty.call(config, propName) &&\n            \"key\" !== propName &&\n            \"__self\" !== propName &&\n            \"__source\" !== propName &&\n            (i[propName] = config[propName]);\n      var childrenLength = arguments.length - 2;\n      if (1 === childrenLength) i.children = children;\n      else if (1 < childrenLength) {\n        for (\n          var childArray = Array(childrenLength), _i = 0;\n          _i < childrenLength;\n          _i++\n        )\n          childArray[_i] = arguments[_i + 2];\n        Object.freeze && Object.freeze(childArray);\n        i.children = childArray;\n      }\n      if (type && type.defaultProps)\n        for (propName in ((childrenLength = type.defaultProps), childrenLength))\n          void 0 === i[propName] && (i[propName] = childrenLength[propName]);\n      node &&\n        defineKeyPropWarningGetter(\n          i,\n          \"function\" === typeof type\n            ? type.displayName || type.name || \"Unknown\"\n            : type\n        );\n      var propName = 1e4 > ReactSharedInternals.recentlyCreatedOwnerStacks++;\n      return ReactElement(\n        type,\n        node,\n        i,\n        getOwner(),\n        propName ? Error(\"react-stack-top-frame\") : unknownOwnerDebugStack,\n        propName ? createTask(getTaskName(type)) : unknownOwnerDebugTask\n      );\n    };\n    exports.createRef = function () {\n      var refObject = { current: null };\n      Object.seal(refObject);\n      return refObject;\n    };\n    exports.forwardRef = function (render) {\n      null != render && render.$$typeof === REACT_MEMO_TYPE\n        ? console.error(\n            \"forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...)).\"\n          )\n        : \"function\" !== typeof render\n          ? console.error(\n              \"forwardRef requires a render function but was given %s.\",\n              null === render ? \"null\" : typeof render\n            )\n          : 0 !== render.length &&\n            2 !== render.length &&\n            console.error(\n              \"forwardRef render functions accept exactly two parameters: props and ref. %s\",\n              1 === render.length\n                ? \"Did you forget to use the ref parameter?\"\n                : \"Any additional parameter will be undefined.\"\n            );\n      null != render &&\n        null != render.defaultProps &&\n        console.error(\n          \"forwardRef render functions do not support defaultProps. Did you accidentally pass a React component?\"\n        );\n      var elementType = { $$typeof: REACT_FORWARD_REF_TYPE, render: render },\n        ownName;\n      Object.defineProperty(elementType, \"displayName\", {\n        enumerable: !1,\n        configurable: !0,\n        get: function () {\n          return ownName;\n        },\n        set: function (name) {\n          ownName = name;\n          render.name ||\n            render.displayName ||\n            (Object.defineProperty(render, \"name\", { value: name }),\n            (render.displayName = name));\n        }\n      });\n      return elementType;\n    };\n    exports.isValidElement = isValidElement;\n    exports.lazy = function (ctor) {\n      ctor = { _status: -1, _result: ctor };\n      var lazyType = {\n          $$typeof: REACT_LAZY_TYPE,\n          _payload: ctor,\n          _init: lazyInitializer\n        },\n        ioInfo = {\n          name: \"lazy\",\n          start: -1,\n          end: -1,\n          value: null,\n          owner: null,\n          debugStack: Error(\"react-stack-top-frame\"),\n          debugTask: console.createTask ? console.createTask(\"lazy()\") : null\n        };\n      ctor._ioInfo = ioInfo;\n      lazyType._debugInfo = [{ awaited: ioInfo }];\n      return lazyType;\n    };\n    exports.memo = function (type, compare) {\n      null == type &&\n        console.error(\n          \"memo: The first argument must be a component. Instead received: %s\",\n          null === type ? \"null\" : typeof type\n        );\n      compare = {\n        $$typeof: REACT_MEMO_TYPE,\n        type: type,\n        compare: void 0 === compare ? null : compare\n      };\n      var ownName;\n      Object.defineProperty(compare, \"displayName\", {\n        enumerable: !1,\n        configurable: !0,\n        get: function () {\n          return ownName;\n        },\n        set: function (name) {\n          ownName = name;\n          type.name ||\n            type.displayName ||\n            (Object.defineProperty(type, \"name\", { value: name }),\n            (type.displayName = name));\n        }\n      });\n      return compare;\n    };\n    exports.use = function (usable) {\n      return resolveDispatcher().use(usable);\n    };\n    exports.useCallback = function (callback, deps) {\n      return resolveDispatcher().useCallback(callback, deps);\n    };\n    exports.useDebugValue = function (value, formatterFn) {\n      return resolveDispatcher().useDebugValue(value, formatterFn);\n    };\n    exports.useId = function () {\n      return resolveDispatcher().useId();\n    };\n    exports.useMemo = function (create, deps) {\n      return resolveDispatcher().useMemo(create, deps);\n    };\n    exports.version = \"19.2.0-canary-0bdb9206-20250818\";\n  })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jb21waWxlZC9yZWFjdC9janMvcmVhY3QucmVhY3Qtc2VydmVyLmRldmVsb3BtZW50LmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFYTtBQUNiLEtBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLCtDQUErQyw2QkFBNkI7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHFCQUFxQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMseUNBQXlDO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksZ0JBQWdCO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLGdCQUFnQjtBQUNwQixJQUFJLGdCQUFnQjtBQUNwQixJQUFJLGtCQUFrQjtBQUN0QixJQUFJLGdCQUFnQjtBQUNwQixJQUFJLHVFQUF1RTtBQUMzRTtBQUNBLElBQUksYUFBYTtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLFdBQVc7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxtQkFBbUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0EsSUFBSSx5QkFBeUI7QUFDN0I7QUFDQTtBQUNBO0FBQ0EsSUFBSSxvQkFBb0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixjQUFjO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isd0JBQXdCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxxQkFBcUI7QUFDekIsc0JBQXNCLHNCQUFzQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxpQkFBaUI7QUFDckIsd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLElBQUksa0JBQWtCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGtEQUFrRDtBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsYUFBYTtBQUNsRTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxJQUFJLHNCQUFzQjtBQUMxQixJQUFJLFlBQVk7QUFDaEIsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGlCQUFpQjtBQUNoRDtBQUNBO0FBQ0EsSUFBSSxZQUFZO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELGFBQWE7QUFDaEU7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsSUFBSSxXQUFXO0FBQ2Y7QUFDQTtBQUNBLElBQUksbUJBQW1CO0FBQ3ZCO0FBQ0E7QUFDQSxJQUFJLHFCQUFxQjtBQUN6QjtBQUNBO0FBQ0EsSUFBSSxhQUFhO0FBQ2pCO0FBQ0E7QUFDQSxJQUFJLGVBQWU7QUFDbkI7QUFDQTtBQUNBLElBQUksZUFBZTtBQUNuQixHQUFHIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxuZXh0XFxkaXN0XFxjb21waWxlZFxccmVhY3RcXGNqc1xccmVhY3QucmVhY3Qtc2VydmVyLmRldmVsb3BtZW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2UgUmVhY3RcbiAqIHJlYWN0LnJlYWN0LXNlcnZlci5kZXZlbG9wbWVudC5qc1xuICpcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgJiZcbiAgKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBub29wKCkge31cbiAgICBmdW5jdGlvbiBnZXRJdGVyYXRvckZuKG1heWJlSXRlcmFibGUpIHtcbiAgICAgIGlmIChudWxsID09PSBtYXliZUl0ZXJhYmxlIHx8IFwib2JqZWN0XCIgIT09IHR5cGVvZiBtYXliZUl0ZXJhYmxlKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIG1heWJlSXRlcmFibGUgPVxuICAgICAgICAoTUFZQkVfSVRFUkFUT1JfU1lNQk9MICYmIG1heWJlSXRlcmFibGVbTUFZQkVfSVRFUkFUT1JfU1lNQk9MXSkgfHxcbiAgICAgICAgbWF5YmVJdGVyYWJsZVtcIkBAaXRlcmF0b3JcIl07XG4gICAgICByZXR1cm4gXCJmdW5jdGlvblwiID09PSB0eXBlb2YgbWF5YmVJdGVyYWJsZSA/IG1heWJlSXRlcmFibGUgOiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBcIlwiICsgdmFsdWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrS2V5U3RyaW5nQ29lcmNpb24odmFsdWUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSk7XG4gICAgICAgIHZhciBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSAhMTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gITA7XG4gICAgICB9XG4gICAgICBpZiAoSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0KSB7XG4gICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9IGNvbnNvbGU7XG4gICAgICAgIHZhciBKU0NvbXBpbGVyX3RlbXBfY29uc3QgPSBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQuZXJyb3I7XG4gICAgICAgIHZhciBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQkanNjb21wJDAgPVxuICAgICAgICAgIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBTeW1ib2wgJiZcbiAgICAgICAgICAgIFN5bWJvbC50b1N0cmluZ1RhZyAmJlxuICAgICAgICAgICAgdmFsdWVbU3ltYm9sLnRvU3RyaW5nVGFnXSkgfHxcbiAgICAgICAgICB2YWx1ZS5jb25zdHJ1Y3Rvci5uYW1lIHx8XG4gICAgICAgICAgXCJPYmplY3RcIjtcbiAgICAgICAgSlNDb21waWxlcl90ZW1wX2NvbnN0LmNhbGwoXG4gICAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0LFxuICAgICAgICAgIFwiVGhlIHByb3ZpZGVkIGtleSBpcyBhbiB1bnN1cHBvcnRlZCB0eXBlICVzLiBUaGlzIHZhbHVlIG11c3QgYmUgY29lcmNlZCB0byBhIHN0cmluZyBiZWZvcmUgdXNpbmcgaXQgaGVyZS5cIixcbiAgICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQkanNjb21wJDBcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKSB7XG4gICAgICBpZiAobnVsbCA9PSB0eXBlKSByZXR1cm4gbnVsbDtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0eXBlKVxuICAgICAgICByZXR1cm4gdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRVxuICAgICAgICAgID8gbnVsbFxuICAgICAgICAgIDogdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWUgfHwgbnVsbDtcbiAgICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgdHlwZSkgcmV0dXJuIHR5cGU7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBSRUFDVF9GUkFHTUVOVF9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIkZyYWdtZW50XCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfUFJPRklMRVJfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJQcm9maWxlclwiO1xuICAgICAgICBjYXNlIFJFQUNUX1NUUklDVF9NT0RFX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3RyaWN0TW9kZVwiO1xuICAgICAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3VzcGVuc2VcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3VzcGVuc2VMaXN0XCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfQUNUSVZJVFlfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJBY3Rpdml0eVwiO1xuICAgICAgfVxuICAgICAgaWYgKFwib2JqZWN0XCIgPT09IHR5cGVvZiB0eXBlKVxuICAgICAgICBzd2l0Y2ggKFxuICAgICAgICAgIChcIm51bWJlclwiID09PSB0eXBlb2YgdHlwZS50YWcgJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiUmVjZWl2ZWQgYW4gdW5leHBlY3RlZCBvYmplY3QgaW4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKCkuIFRoaXMgaXMgbGlrZWx5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICB0eXBlLiQkdHlwZW9mKVxuICAgICAgICApIHtcbiAgICAgICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgICAgICAgcmV0dXJuIFwiUG9ydGFsXCI7XG4gICAgICAgICAgY2FzZSBSRUFDVF9DT05URVhUX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gdHlwZS5kaXNwbGF5TmFtZSB8fCBcIkNvbnRleHRcIjtcbiAgICAgICAgICBjYXNlIFJFQUNUX0NPTlNVTUVSX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKHR5cGUuX2NvbnRleHQuZGlzcGxheU5hbWUgfHwgXCJDb250ZXh0XCIpICsgXCIuQ29uc3VtZXJcIjtcbiAgICAgICAgICBjYXNlIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEU6XG4gICAgICAgICAgICB2YXIgaW5uZXJUeXBlID0gdHlwZS5yZW5kZXI7XG4gICAgICAgICAgICB0eXBlID0gdHlwZS5kaXNwbGF5TmFtZTtcbiAgICAgICAgICAgIHR5cGUgfHxcbiAgICAgICAgICAgICAgKCh0eXBlID0gaW5uZXJUeXBlLmRpc3BsYXlOYW1lIHx8IGlubmVyVHlwZS5uYW1lIHx8IFwiXCIpLFxuICAgICAgICAgICAgICAodHlwZSA9IFwiXCIgIT09IHR5cGUgPyBcIkZvcndhcmRSZWYoXCIgKyB0eXBlICsgXCIpXCIgOiBcIkZvcndhcmRSZWZcIikpO1xuICAgICAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgICAgICAgY2FzZSBSRUFDVF9NRU1PX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAoaW5uZXJUeXBlID0gdHlwZS5kaXNwbGF5TmFtZSB8fCBudWxsKSxcbiAgICAgICAgICAgICAgbnVsbCAhPT0gaW5uZXJUeXBlXG4gICAgICAgICAgICAgICAgPyBpbm5lclR5cGVcbiAgICAgICAgICAgICAgICA6IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlLnR5cGUpIHx8IFwiTWVtb1wiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICAgICAgaW5uZXJUeXBlID0gdHlwZS5fcGF5bG9hZDtcbiAgICAgICAgICAgIHR5cGUgPSB0eXBlLl9pbml0O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcmV0dXJuIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKGlubmVyVHlwZSkpO1xuICAgICAgICAgICAgfSBjYXRjaCAoeCkge31cbiAgICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFRhc2tOYW1lKHR5cGUpIHtcbiAgICAgIGlmICh0eXBlID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFKSByZXR1cm4gXCI8PlwiO1xuICAgICAgaWYgKFxuICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgdHlwZSAmJlxuICAgICAgICBudWxsICE9PSB0eXBlICYmXG4gICAgICAgIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0xBWllfVFlQRVxuICAgICAgKVxuICAgICAgICByZXR1cm4gXCI8Li4uPlwiO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIG5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZSk7XG4gICAgICAgIHJldHVybiBuYW1lID8gXCI8XCIgKyBuYW1lICsgXCI+XCIgOiBcIjwuLi4+XCI7XG4gICAgICB9IGNhdGNoICh4KSB7XG4gICAgICAgIHJldHVybiBcIjwuLi4+XCI7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldE93bmVyKCkge1xuICAgICAgdmFyIGRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5BO1xuICAgICAgcmV0dXJuIG51bGwgPT09IGRpc3BhdGNoZXIgPyBudWxsIDogZGlzcGF0Y2hlci5nZXRPd25lcigpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBVbmtub3duT3duZXIoKSB7XG4gICAgICByZXR1cm4gRXJyb3IoXCJyZWFjdC1zdGFjay10b3AtZnJhbWVcIik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhc1ZhbGlkS2V5KGNvbmZpZykge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCBcImtleVwiKSkge1xuICAgICAgICB2YXIgZ2V0dGVyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb25maWcsIFwia2V5XCIpLmdldDtcbiAgICAgICAgaWYgKGdldHRlciAmJiBnZXR0ZXIuaXNSZWFjdFdhcm5pbmcpIHJldHVybiAhMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2b2lkIDAgIT09IGNvbmZpZy5rZXk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlZmluZUtleVByb3BXYXJuaW5nR2V0dGVyKHByb3BzLCBkaXNwbGF5TmFtZSkge1xuICAgICAgZnVuY3Rpb24gd2FybkFib3V0QWNjZXNzaW5nS2V5KCkge1xuICAgICAgICBzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93biB8fFxuICAgICAgICAgICgoc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd24gPSAhMCksXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXM6IGBrZXlgIGlzIG5vdCBhIHByb3AuIFRyeWluZyB0byBhY2Nlc3MgaXQgd2lsbCByZXN1bHQgaW4gYHVuZGVmaW5lZGAgYmVpbmcgcmV0dXJuZWQuIElmIHlvdSBuZWVkIHRvIGFjY2VzcyB0aGUgc2FtZSB2YWx1ZSB3aXRoaW4gdGhlIGNoaWxkIGNvbXBvbmVudCwgeW91IHNob3VsZCBwYXNzIGl0IGFzIGEgZGlmZmVyZW50IHByb3AuIChodHRwczovL3JlYWN0LmRldi9saW5rL3NwZWNpYWwtcHJvcHMpXCIsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZVxuICAgICAgICAgICkpO1xuICAgICAgfVxuICAgICAgd2FybkFib3V0QWNjZXNzaW5nS2V5LmlzUmVhY3RXYXJuaW5nID0gITA7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvcHMsIFwia2V5XCIsIHtcbiAgICAgICAgZ2V0OiB3YXJuQWJvdXRBY2Nlc3NpbmdLZXksXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITBcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlbGVtZW50UmVmR2V0dGVyV2l0aERlcHJlY2F0aW9uV2FybmluZygpIHtcbiAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHRoaXMudHlwZSk7XG4gICAgICBkaWRXYXJuQWJvdXRFbGVtZW50UmVmW2NvbXBvbmVudE5hbWVdIHx8XG4gICAgICAgICgoZGlkV2FybkFib3V0RWxlbWVudFJlZltjb21wb25lbnROYW1lXSA9ICEwKSxcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIkFjY2Vzc2luZyBlbGVtZW50LnJlZiB3YXMgcmVtb3ZlZCBpbiBSZWFjdCAxOS4gcmVmIGlzIG5vdyBhIHJlZ3VsYXIgcHJvcC4gSXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEpTWCBFbGVtZW50IHR5cGUgaW4gYSBmdXR1cmUgcmVsZWFzZS5cIlxuICAgICAgICApKTtcbiAgICAgIGNvbXBvbmVudE5hbWUgPSB0aGlzLnByb3BzLnJlZjtcbiAgICAgIHJldHVybiB2b2lkIDAgIT09IGNvbXBvbmVudE5hbWUgPyBjb21wb25lbnROYW1lIDogbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gUmVhY3RFbGVtZW50KHR5cGUsIGtleSwgcHJvcHMsIG93bmVyLCBkZWJ1Z1N0YWNrLCBkZWJ1Z1Rhc2spIHtcbiAgICAgIHZhciByZWZQcm9wID0gcHJvcHMucmVmO1xuICAgICAgdHlwZSA9IHtcbiAgICAgICAgJCR0eXBlb2Y6IFJFQUNUX0VMRU1FTlRfVFlQRSxcbiAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAga2V5OiBrZXksXG4gICAgICAgIHByb3BzOiBwcm9wcyxcbiAgICAgICAgX293bmVyOiBvd25lclxuICAgICAgfTtcbiAgICAgIG51bGwgIT09ICh2b2lkIDAgIT09IHJlZlByb3AgPyByZWZQcm9wIDogbnVsbClcbiAgICAgICAgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJyZWZcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgICAgICBnZXQ6IGVsZW1lbnRSZWZHZXR0ZXJXaXRoRGVwcmVjYXRpb25XYXJuaW5nXG4gICAgICAgICAgfSlcbiAgICAgICAgOiBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJyZWZcIiwgeyBlbnVtZXJhYmxlOiAhMSwgdmFsdWU6IG51bGwgfSk7XG4gICAgICB0eXBlLl9zdG9yZSA9IHt9O1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUuX3N0b3JlLCBcInZhbGlkYXRlZFwiLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITEsXG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICB3cml0YWJsZTogITAsXG4gICAgICAgIHZhbHVlOiAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBcIl9kZWJ1Z0luZm9cIiwge1xuICAgICAgICBjb25maWd1cmFibGU6ICExLFxuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgd3JpdGFibGU6ICEwLFxuICAgICAgICB2YWx1ZTogbnVsbFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJfZGVidWdTdGFja1wiLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITEsXG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICB3cml0YWJsZTogITAsXG4gICAgICAgIHZhbHVlOiBkZWJ1Z1N0YWNrXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBcIl9kZWJ1Z1Rhc2tcIiwge1xuICAgICAgICBjb25maWd1cmFibGU6ICExLFxuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgd3JpdGFibGU6ICEwLFxuICAgICAgICB2YWx1ZTogZGVidWdUYXNrXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5mcmVlemUgJiYgKE9iamVjdC5mcmVlemUodHlwZS5wcm9wcyksIE9iamVjdC5mcmVlemUodHlwZSkpO1xuICAgICAgcmV0dXJuIHR5cGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsb25lQW5kUmVwbGFjZUtleShvbGRFbGVtZW50LCBuZXdLZXkpIHtcbiAgICAgIG5ld0tleSA9IFJlYWN0RWxlbWVudChcbiAgICAgICAgb2xkRWxlbWVudC50eXBlLFxuICAgICAgICBuZXdLZXksXG4gICAgICAgIG9sZEVsZW1lbnQucHJvcHMsXG4gICAgICAgIG9sZEVsZW1lbnQuX293bmVyLFxuICAgICAgICBvbGRFbGVtZW50Ll9kZWJ1Z1N0YWNrLFxuICAgICAgICBvbGRFbGVtZW50Ll9kZWJ1Z1Rhc2tcbiAgICAgICk7XG4gICAgICBvbGRFbGVtZW50Ll9zdG9yZSAmJlxuICAgICAgICAobmV3S2V5Ll9zdG9yZS52YWxpZGF0ZWQgPSBvbGRFbGVtZW50Ll9zdG9yZS52YWxpZGF0ZWQpO1xuICAgICAgcmV0dXJuIG5ld0tleTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnQob2JqZWN0KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2Ygb2JqZWN0ICYmXG4gICAgICAgIG51bGwgIT09IG9iamVjdCAmJlxuICAgICAgICBvYmplY3QuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRVxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZXNjYXBlKGtleSkge1xuICAgICAgdmFyIGVzY2FwZXJMb29rdXAgPSB7IFwiPVwiOiBcIj0wXCIsIFwiOlwiOiBcIj0yXCIgfTtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIFwiJFwiICtcbiAgICAgICAga2V5LnJlcGxhY2UoL1s9Ol0vZywgZnVuY3Rpb24gKG1hdGNoKSB7XG4gICAgICAgICAgcmV0dXJuIGVzY2FwZXJMb29rdXBbbWF0Y2hdO1xuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0RWxlbWVudEtleShlbGVtZW50LCBpbmRleCkge1xuICAgICAgcmV0dXJuIFwib2JqZWN0XCIgPT09IHR5cGVvZiBlbGVtZW50ICYmXG4gICAgICAgIG51bGwgIT09IGVsZW1lbnQgJiZcbiAgICAgICAgbnVsbCAhPSBlbGVtZW50LmtleVxuICAgICAgICA/IChjaGVja0tleVN0cmluZ0NvZXJjaW9uKGVsZW1lbnQua2V5KSwgZXNjYXBlKFwiXCIgKyBlbGVtZW50LmtleSkpXG4gICAgICAgIDogaW5kZXgudG9TdHJpbmcoMzYpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXNvbHZlVGhlbmFibGUodGhlbmFibGUpIHtcbiAgICAgIHN3aXRjaCAodGhlbmFibGUuc3RhdHVzKSB7XG4gICAgICAgIGNhc2UgXCJmdWxmaWxsZWRcIjpcbiAgICAgICAgICByZXR1cm4gdGhlbmFibGUudmFsdWU7XG4gICAgICAgIGNhc2UgXCJyZWplY3RlZFwiOlxuICAgICAgICAgIHRocm93IHRoZW5hYmxlLnJlYXNvbjtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBzd2l0Y2ggKFxuICAgICAgICAgICAgKFwic3RyaW5nXCIgPT09IHR5cGVvZiB0aGVuYWJsZS5zdGF0dXNcbiAgICAgICAgICAgICAgPyB0aGVuYWJsZS50aGVuKG5vb3AsIG5vb3ApXG4gICAgICAgICAgICAgIDogKCh0aGVuYWJsZS5zdGF0dXMgPSBcInBlbmRpbmdcIiksXG4gICAgICAgICAgICAgICAgdGhlbmFibGUudGhlbihcbiAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChmdWxmaWxsZWRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBcInBlbmRpbmdcIiA9PT0gdGhlbmFibGUuc3RhdHVzICYmXG4gICAgICAgICAgICAgICAgICAgICAgKCh0aGVuYWJsZS5zdGF0dXMgPSBcImZ1bGZpbGxlZFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAodGhlbmFibGUudmFsdWUgPSBmdWxmaWxsZWRWYWx1ZSkpO1xuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBcInBlbmRpbmdcIiA9PT0gdGhlbmFibGUuc3RhdHVzICYmXG4gICAgICAgICAgICAgICAgICAgICAgKCh0aGVuYWJsZS5zdGF0dXMgPSBcInJlamVjdGVkXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICh0aGVuYWJsZS5yZWFzb24gPSBlcnJvcikpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgdGhlbmFibGUuc3RhdHVzKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgY2FzZSBcImZ1bGZpbGxlZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gdGhlbmFibGUudmFsdWU7XG4gICAgICAgICAgICBjYXNlIFwicmVqZWN0ZWRcIjpcbiAgICAgICAgICAgICAgdGhyb3cgdGhlbmFibGUucmVhc29uO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRocm93IHRoZW5hYmxlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXBJbnRvQXJyYXkoY2hpbGRyZW4sIGFycmF5LCBlc2NhcGVkUHJlZml4LCBuYW1lU29GYXIsIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiBjaGlsZHJlbjtcbiAgICAgIGlmIChcInVuZGVmaW5lZFwiID09PSB0eXBlIHx8IFwiYm9vbGVhblwiID09PSB0eXBlKSBjaGlsZHJlbiA9IG51bGw7XG4gICAgICB2YXIgaW52b2tlQ2FsbGJhY2sgPSAhMTtcbiAgICAgIGlmIChudWxsID09PSBjaGlsZHJlbikgaW52b2tlQ2FsbGJhY2sgPSAhMDtcbiAgICAgIGVsc2VcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgY2FzZSBcImJpZ2ludFwiOlxuICAgICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICBpbnZva2VDYWxsYmFjayA9ICEwO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAgc3dpdGNoIChjaGlsZHJlbi4kJHR5cGVvZikge1xuICAgICAgICAgICAgICBjYXNlIFJFQUNUX0VMRU1FTlRfVFlQRTpcbiAgICAgICAgICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgICAgICAgICAgICBpbnZva2VDYWxsYmFjayA9ICEwO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFJFQUNUX0xBWllfVFlQRTpcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgKGludm9rZUNhbGxiYWNrID0gY2hpbGRyZW4uX2luaXQpLFxuICAgICAgICAgICAgICAgICAgbWFwSW50b0FycmF5KFxuICAgICAgICAgICAgICAgICAgICBpbnZva2VDYWxsYmFjayhjaGlsZHJlbi5fcGF5bG9hZCksXG4gICAgICAgICAgICAgICAgICAgIGFycmF5LFxuICAgICAgICAgICAgICAgICAgICBlc2NhcGVkUHJlZml4LFxuICAgICAgICAgICAgICAgICAgICBuYW1lU29GYXIsXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgaWYgKGludm9rZUNhbGxiYWNrKSB7XG4gICAgICAgIGludm9rZUNhbGxiYWNrID0gY2hpbGRyZW47XG4gICAgICAgIGNhbGxiYWNrID0gY2FsbGJhY2soaW52b2tlQ2FsbGJhY2spO1xuICAgICAgICB2YXIgY2hpbGRLZXkgPVxuICAgICAgICAgIFwiXCIgPT09IG5hbWVTb0ZhciA/IFwiLlwiICsgZ2V0RWxlbWVudEtleShpbnZva2VDYWxsYmFjaywgMCkgOiBuYW1lU29GYXI7XG4gICAgICAgIGlzQXJyYXlJbXBsKGNhbGxiYWNrKVxuICAgICAgICAgID8gKChlc2NhcGVkUHJlZml4ID0gXCJcIiksXG4gICAgICAgICAgICBudWxsICE9IGNoaWxkS2V5ICYmXG4gICAgICAgICAgICAgIChlc2NhcGVkUHJlZml4ID1cbiAgICAgICAgICAgICAgICBjaGlsZEtleS5yZXBsYWNlKHVzZXJQcm92aWRlZEtleUVzY2FwZVJlZ2V4LCBcIiQmL1wiKSArIFwiL1wiKSxcbiAgICAgICAgICAgIG1hcEludG9BcnJheShjYWxsYmFjaywgYXJyYXksIGVzY2FwZWRQcmVmaXgsIFwiXCIsIGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgICAgIHJldHVybiBjO1xuICAgICAgICAgICAgfSkpXG4gICAgICAgICAgOiBudWxsICE9IGNhbGxiYWNrICYmXG4gICAgICAgICAgICAoaXNWYWxpZEVsZW1lbnQoY2FsbGJhY2spICYmXG4gICAgICAgICAgICAgIChudWxsICE9IGNhbGxiYWNrLmtleSAmJlxuICAgICAgICAgICAgICAgICgoaW52b2tlQ2FsbGJhY2sgJiYgaW52b2tlQ2FsbGJhY2sua2V5ID09PSBjYWxsYmFjay5rZXkpIHx8XG4gICAgICAgICAgICAgICAgICBjaGVja0tleVN0cmluZ0NvZXJjaW9uKGNhbGxiYWNrLmtleSkpLFxuICAgICAgICAgICAgICAoZXNjYXBlZFByZWZpeCA9IGNsb25lQW5kUmVwbGFjZUtleShcbiAgICAgICAgICAgICAgICBjYWxsYmFjayxcbiAgICAgICAgICAgICAgICBlc2NhcGVkUHJlZml4ICtcbiAgICAgICAgICAgICAgICAgIChudWxsID09IGNhbGxiYWNrLmtleSB8fFxuICAgICAgICAgICAgICAgICAgKGludm9rZUNhbGxiYWNrICYmIGludm9rZUNhbGxiYWNrLmtleSA9PT0gY2FsbGJhY2sua2V5KVxuICAgICAgICAgICAgICAgICAgICA/IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgOiAoXCJcIiArIGNhbGxiYWNrLmtleSkucmVwbGFjZShcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJQcm92aWRlZEtleUVzY2FwZVJlZ2V4LFxuICAgICAgICAgICAgICAgICAgICAgICAgXCIkJi9cIlxuICAgICAgICAgICAgICAgICAgICAgICkgKyBcIi9cIikgK1xuICAgICAgICAgICAgICAgICAgY2hpbGRLZXlcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIFwiXCIgIT09IG5hbWVTb0ZhciAmJlxuICAgICAgICAgICAgICAgIG51bGwgIT0gaW52b2tlQ2FsbGJhY2sgJiZcbiAgICAgICAgICAgICAgICBpc1ZhbGlkRWxlbWVudChpbnZva2VDYWxsYmFjaykgJiZcbiAgICAgICAgICAgICAgICBudWxsID09IGludm9rZUNhbGxiYWNrLmtleSAmJlxuICAgICAgICAgICAgICAgIGludm9rZUNhbGxiYWNrLl9zdG9yZSAmJlxuICAgICAgICAgICAgICAgICFpbnZva2VDYWxsYmFjay5fc3RvcmUudmFsaWRhdGVkICYmXG4gICAgICAgICAgICAgICAgKGVzY2FwZWRQcmVmaXguX3N0b3JlLnZhbGlkYXRlZCA9IDIpLFxuICAgICAgICAgICAgICAoY2FsbGJhY2sgPSBlc2NhcGVkUHJlZml4KSksXG4gICAgICAgICAgICBhcnJheS5wdXNoKGNhbGxiYWNrKSk7XG4gICAgICAgIHJldHVybiAxO1xuICAgICAgfVxuICAgICAgaW52b2tlQ2FsbGJhY2sgPSAwO1xuICAgICAgY2hpbGRLZXkgPSBcIlwiID09PSBuYW1lU29GYXIgPyBcIi5cIiA6IG5hbWVTb0ZhciArIFwiOlwiO1xuICAgICAgaWYgKGlzQXJyYXlJbXBsKGNoaWxkcmVuKSlcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKylcbiAgICAgICAgICAobmFtZVNvRmFyID0gY2hpbGRyZW5baV0pLFxuICAgICAgICAgICAgKHR5cGUgPSBjaGlsZEtleSArIGdldEVsZW1lbnRLZXkobmFtZVNvRmFyLCBpKSksXG4gICAgICAgICAgICAoaW52b2tlQ2FsbGJhY2sgKz0gbWFwSW50b0FycmF5KFxuICAgICAgICAgICAgICBuYW1lU29GYXIsXG4gICAgICAgICAgICAgIGFycmF5LFxuICAgICAgICAgICAgICBlc2NhcGVkUHJlZml4LFxuICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICBjYWxsYmFja1xuICAgICAgICAgICAgKSk7XG4gICAgICBlbHNlIGlmICgoKGkgPSBnZXRJdGVyYXRvckZuKGNoaWxkcmVuKSksIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGkpKVxuICAgICAgICBmb3IgKFxuICAgICAgICAgIGkgPT09IGNoaWxkcmVuLmVudHJpZXMgJiZcbiAgICAgICAgICAgIChkaWRXYXJuQWJvdXRNYXBzIHx8XG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICAgICBcIlVzaW5nIE1hcHMgYXMgY2hpbGRyZW4gaXMgbm90IHN1cHBvcnRlZC4gVXNlIGFuIGFycmF5IG9mIGtleWVkIFJlYWN0RWxlbWVudHMgaW5zdGVhZC5cIlxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgKGRpZFdhcm5BYm91dE1hcHMgPSAhMCkpLFxuICAgICAgICAgICAgY2hpbGRyZW4gPSBpLmNhbGwoY2hpbGRyZW4pLFxuICAgICAgICAgICAgaSA9IDA7XG4gICAgICAgICAgIShuYW1lU29GYXIgPSBjaGlsZHJlbi5uZXh0KCkpLmRvbmU7XG5cbiAgICAgICAgKVxuICAgICAgICAgIChuYW1lU29GYXIgPSBuYW1lU29GYXIudmFsdWUpLFxuICAgICAgICAgICAgKHR5cGUgPSBjaGlsZEtleSArIGdldEVsZW1lbnRLZXkobmFtZVNvRmFyLCBpKyspKSxcbiAgICAgICAgICAgIChpbnZva2VDYWxsYmFjayArPSBtYXBJbnRvQXJyYXkoXG4gICAgICAgICAgICAgIG5hbWVTb0ZhcixcbiAgICAgICAgICAgICAgYXJyYXksXG4gICAgICAgICAgICAgIGVzY2FwZWRQcmVmaXgsXG4gICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgIGNhbGxiYWNrXG4gICAgICAgICAgICApKTtcbiAgICAgIGVsc2UgaWYgKFwib2JqZWN0XCIgPT09IHR5cGUpIHtcbiAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGNoaWxkcmVuLnRoZW4pXG4gICAgICAgICAgcmV0dXJuIG1hcEludG9BcnJheShcbiAgICAgICAgICAgIHJlc29sdmVUaGVuYWJsZShjaGlsZHJlbiksXG4gICAgICAgICAgICBhcnJheSxcbiAgICAgICAgICAgIGVzY2FwZWRQcmVmaXgsXG4gICAgICAgICAgICBuYW1lU29GYXIsXG4gICAgICAgICAgICBjYWxsYmFja1xuICAgICAgICAgICk7XG4gICAgICAgIGFycmF5ID0gU3RyaW5nKGNoaWxkcmVuKTtcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgXCJPYmplY3RzIGFyZSBub3QgdmFsaWQgYXMgYSBSZWFjdCBjaGlsZCAoZm91bmQ6IFwiICtcbiAgICAgICAgICAgIChcIltvYmplY3QgT2JqZWN0XVwiID09PSBhcnJheVxuICAgICAgICAgICAgICA/IFwib2JqZWN0IHdpdGgga2V5cyB7XCIgKyBPYmplY3Qua2V5cyhjaGlsZHJlbikuam9pbihcIiwgXCIpICsgXCJ9XCJcbiAgICAgICAgICAgICAgOiBhcnJheSkgK1xuICAgICAgICAgICAgXCIpLiBJZiB5b3UgbWVhbnQgdG8gcmVuZGVyIGEgY29sbGVjdGlvbiBvZiBjaGlsZHJlbiwgdXNlIGFuIGFycmF5IGluc3RlYWQuXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpbnZva2VDYWxsYmFjaztcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFwQ2hpbGRyZW4oY2hpbGRyZW4sIGZ1bmMsIGNvbnRleHQpIHtcbiAgICAgIGlmIChudWxsID09IGNoaWxkcmVuKSByZXR1cm4gY2hpbGRyZW47XG4gICAgICB2YXIgcmVzdWx0ID0gW10sXG4gICAgICAgIGNvdW50ID0gMDtcbiAgICAgIG1hcEludG9BcnJheShjaGlsZHJlbiwgcmVzdWx0LCBcIlwiLCBcIlwiLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmMuY2FsbChjb250ZXh0LCBjaGlsZCwgY291bnQrKyk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc29sdmVEaXNwYXRjaGVyKCkge1xuICAgICAgdmFyIGRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgbnVsbCA9PT0gZGlzcGF0Y2hlciAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiSW52YWxpZCBob29rIGNhbGwuIEhvb2tzIGNhbiBvbmx5IGJlIGNhbGxlZCBpbnNpZGUgb2YgdGhlIGJvZHkgb2YgYSBmdW5jdGlvbiBjb21wb25lbnQuIFRoaXMgY291bGQgaGFwcGVuIGZvciBvbmUgb2YgdGhlIGZvbGxvd2luZyByZWFzb25zOlxcbjEuIFlvdSBtaWdodCBoYXZlIG1pc21hdGNoaW5nIHZlcnNpb25zIG9mIFJlYWN0IGFuZCB0aGUgcmVuZGVyZXIgKHN1Y2ggYXMgUmVhY3QgRE9NKVxcbjIuIFlvdSBtaWdodCBiZSBicmVha2luZyB0aGUgUnVsZXMgb2YgSG9va3NcXG4zLiBZb3UgbWlnaHQgaGF2ZSBtb3JlIHRoYW4gb25lIGNvcHkgb2YgUmVhY3QgaW4gdGhlIHNhbWUgYXBwXFxuU2VlIGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvaW52YWxpZC1ob29rLWNhbGwgZm9yIHRpcHMgYWJvdXQgaG93IHRvIGRlYnVnIGFuZCBmaXggdGhpcyBwcm9ibGVtLlwiXG4gICAgICAgICk7XG4gICAgICByZXR1cm4gZGlzcGF0Y2hlcjtcbiAgICB9XG4gICAgZnVuY3Rpb24gbGF6eUluaXRpYWxpemVyKHBheWxvYWQpIHtcbiAgICAgIGlmICgtMSA9PT0gcGF5bG9hZC5fc3RhdHVzKSB7XG4gICAgICAgIHZhciBpb0luZm8gPSBwYXlsb2FkLl9pb0luZm87XG4gICAgICAgIG51bGwgIT0gaW9JbmZvICYmIChpb0luZm8uc3RhcnQgPSBpb0luZm8uZW5kID0gcGVyZm9ybWFuY2Uubm93KCkpO1xuICAgICAgICBpb0luZm8gPSBwYXlsb2FkLl9yZXN1bHQ7XG4gICAgICAgIHZhciB0aGVuYWJsZSA9IGlvSW5mbygpO1xuICAgICAgICB0aGVuYWJsZS50aGVuKFxuICAgICAgICAgIGZ1bmN0aW9uIChtb2R1bGVPYmplY3QpIHtcbiAgICAgICAgICAgIGlmICgwID09PSBwYXlsb2FkLl9zdGF0dXMgfHwgLTEgPT09IHBheWxvYWQuX3N0YXR1cykge1xuICAgICAgICAgICAgICBwYXlsb2FkLl9zdGF0dXMgPSAxO1xuICAgICAgICAgICAgICBwYXlsb2FkLl9yZXN1bHQgPSBtb2R1bGVPYmplY3Q7XG4gICAgICAgICAgICAgIHZhciBfaW9JbmZvID0gcGF5bG9hZC5faW9JbmZvO1xuICAgICAgICAgICAgICBudWxsICE9IF9pb0luZm8gJiYgKF9pb0luZm8uZW5kID0gcGVyZm9ybWFuY2Uubm93KCkpO1xuICAgICAgICAgICAgICB2b2lkIDAgPT09IHRoZW5hYmxlLnN0YXR1cyAmJlxuICAgICAgICAgICAgICAgICgodGhlbmFibGUuc3RhdHVzID0gXCJmdWxmaWxsZWRcIiksXG4gICAgICAgICAgICAgICAgKHRoZW5hYmxlLnZhbHVlID0gbW9kdWxlT2JqZWN0KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmICgwID09PSBwYXlsb2FkLl9zdGF0dXMgfHwgLTEgPT09IHBheWxvYWQuX3N0YXR1cykge1xuICAgICAgICAgICAgICBwYXlsb2FkLl9zdGF0dXMgPSAyO1xuICAgICAgICAgICAgICBwYXlsb2FkLl9yZXN1bHQgPSBlcnJvcjtcbiAgICAgICAgICAgICAgdmFyIF9pb0luZm8yID0gcGF5bG9hZC5faW9JbmZvO1xuICAgICAgICAgICAgICBudWxsICE9IF9pb0luZm8yICYmIChfaW9JbmZvMi5lbmQgPSBwZXJmb3JtYW5jZS5ub3coKSk7XG4gICAgICAgICAgICAgIHZvaWQgMCA9PT0gdGhlbmFibGUuc3RhdHVzICYmXG4gICAgICAgICAgICAgICAgKCh0aGVuYWJsZS5zdGF0dXMgPSBcInJlamVjdGVkXCIpLCAodGhlbmFibGUucmVhc29uID0gZXJyb3IpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICAgIGlvSW5mbyA9IHBheWxvYWQuX2lvSW5mbztcbiAgICAgICAgaWYgKG51bGwgIT0gaW9JbmZvKSB7XG4gICAgICAgICAgaW9JbmZvLnZhbHVlID0gdGhlbmFibGU7XG4gICAgICAgICAgdmFyIGRpc3BsYXlOYW1lID0gdGhlbmFibGUuZGlzcGxheU5hbWU7XG4gICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGRpc3BsYXlOYW1lICYmIChpb0luZm8ubmFtZSA9IGRpc3BsYXlOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICAtMSA9PT0gcGF5bG9hZC5fc3RhdHVzICYmXG4gICAgICAgICAgKChwYXlsb2FkLl9zdGF0dXMgPSAwKSwgKHBheWxvYWQuX3Jlc3VsdCA9IHRoZW5hYmxlKSk7XG4gICAgICB9XG4gICAgICBpZiAoMSA9PT0gcGF5bG9hZC5fc3RhdHVzKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIChpb0luZm8gPSBwYXlsb2FkLl9yZXN1bHQpLFxuICAgICAgICAgIHZvaWQgMCA9PT0gaW9JbmZvICYmXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcImxhenk6IEV4cGVjdGVkIHRoZSByZXN1bHQgb2YgYSBkeW5hbWljIGltcG9ydCgpIGNhbGwuIEluc3RlYWQgcmVjZWl2ZWQ6ICVzXFxuXFxuWW91ciBjb2RlIHNob3VsZCBsb29rIGxpa2U6IFxcbiAgY29uc3QgTXlDb21wb25lbnQgPSBsYXp5KCgpID0+IGltcG9ydCgnLi9NeUNvbXBvbmVudCcpKVxcblxcbkRpZCB5b3UgYWNjaWRlbnRhbGx5IHB1dCBjdXJseSBicmFjZXMgYXJvdW5kIHRoZSBpbXBvcnQ/XCIsXG4gICAgICAgICAgICAgIGlvSW5mb1xuICAgICAgICAgICAgKSxcbiAgICAgICAgICBcImRlZmF1bHRcIiBpbiBpb0luZm8gfHxcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwibGF6eTogRXhwZWN0ZWQgdGhlIHJlc3VsdCBvZiBhIGR5bmFtaWMgaW1wb3J0KCkgY2FsbC4gSW5zdGVhZCByZWNlaXZlZDogJXNcXG5cXG5Zb3VyIGNvZGUgc2hvdWxkIGxvb2sgbGlrZTogXFxuICBjb25zdCBNeUNvbXBvbmVudCA9IGxhenkoKCkgPT4gaW1wb3J0KCcuL015Q29tcG9uZW50JykpXCIsXG4gICAgICAgICAgICAgIGlvSW5mb1xuICAgICAgICAgICAgKSxcbiAgICAgICAgICBpb0luZm8uZGVmYXVsdFxuICAgICAgICApO1xuICAgICAgdGhyb3cgcGF5bG9hZC5fcmVzdWx0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVDYWNoZVJvb3QoKSB7XG4gICAgICByZXR1cm4gbmV3IFdlYWtNYXAoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlQ2FjaGVOb2RlKCkge1xuICAgICAgcmV0dXJuIHsgczogMCwgdjogdm9pZCAwLCBvOiBudWxsLCBwOiBudWxsIH07XG4gICAgfVxuICAgIHZhciBSZWFjdFNoYXJlZEludGVybmFscyA9IHtcbiAgICAgICAgSDogbnVsbCxcbiAgICAgICAgQTogbnVsbCxcbiAgICAgICAgZ2V0Q3VycmVudFN0YWNrOiBudWxsLFxuICAgICAgICByZWNlbnRseUNyZWF0ZWRPd25lclN0YWNrczogMFxuICAgICAgfSxcbiAgICAgIGlzQXJyYXlJbXBsID0gQXJyYXkuaXNBcnJheSxcbiAgICAgIFJFQUNUX0VMRU1FTlRfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC50cmFuc2l0aW9uYWwuZWxlbWVudFwiKSxcbiAgICAgIFJFQUNUX1BPUlRBTF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnBvcnRhbFwiKSxcbiAgICAgIFJFQUNUX0ZSQUdNRU5UX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QuZnJhZ21lbnRcIiksXG4gICAgICBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnN0cmljdF9tb2RlXCIpLFxuICAgICAgUkVBQ1RfUFJPRklMRVJfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5wcm9maWxlclwiKSxcbiAgICAgIFJFQUNUX0NPTlNVTUVSX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QuY29uc3VtZXJcIiksXG4gICAgICBSRUFDVF9DT05URVhUX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QuY29udGV4dFwiKSxcbiAgICAgIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QuZm9yd2FyZF9yZWZcIiksXG4gICAgICBSRUFDVF9TVVNQRU5TRV9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnN1c3BlbnNlXCIpLFxuICAgICAgUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnN1c3BlbnNlX2xpc3RcIiksXG4gICAgICBSRUFDVF9NRU1PX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb1wiKSxcbiAgICAgIFJFQUNUX0xBWllfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5sYXp5XCIpLFxuICAgICAgUkVBQ1RfQUNUSVZJVFlfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5hY3Rpdml0eVwiKSxcbiAgICAgIE1BWUJFX0lURVJBVE9SX1NZTUJPTCA9IFN5bWJvbC5pdGVyYXRvcixcbiAgICAgIFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UgPSBTeW1ib2wuZm9yKFwicmVhY3QuY2xpZW50LnJlZmVyZW5jZVwiKSxcbiAgICAgIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxcbiAgICAgIGFzc2lnbiA9IE9iamVjdC5hc3NpZ24sXG4gICAgICBjcmVhdGVUYXNrID0gY29uc29sZS5jcmVhdGVUYXNrXG4gICAgICAgID8gY29uc29sZS5jcmVhdGVUYXNrXG4gICAgICAgIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfSxcbiAgICAgIGNyZWF0ZUZha2VDYWxsU3RhY2sgPSB7XG4gICAgICAgIHJlYWN0X3N0YWNrX2JvdHRvbV9mcmFtZTogZnVuY3Rpb24gKGNhbGxTdGFja0ZvckVycm9yKSB7XG4gICAgICAgICAgcmV0dXJuIGNhbGxTdGFja0ZvckVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93bixcbiAgICAgIGRpZFdhcm5BYm91dE9sZEpTWFJ1bnRpbWU7XG4gICAgdmFyIGRpZFdhcm5BYm91dEVsZW1lbnRSZWYgPSB7fTtcbiAgICB2YXIgdW5rbm93bk93bmVyRGVidWdTdGFjayA9XG4gICAgICBjcmVhdGVGYWtlQ2FsbFN0YWNrLnJlYWN0X3N0YWNrX2JvdHRvbV9mcmFtZS5iaW5kKFxuICAgICAgICBjcmVhdGVGYWtlQ2FsbFN0YWNrLFxuICAgICAgICBVbmtub3duT3duZXJcbiAgICAgICkoKTtcbiAgICB2YXIgdW5rbm93bk93bmVyRGVidWdUYXNrID0gY3JlYXRlVGFzayhnZXRUYXNrTmFtZShVbmtub3duT3duZXIpKTtcbiAgICB2YXIgZGlkV2FybkFib3V0TWFwcyA9ICExLFxuICAgICAgdXNlclByb3ZpZGVkS2V5RXNjYXBlUmVnZXggPSAvXFwvKy9nO1xuICAgIGV4cG9ydHMuQ2hpbGRyZW4gPSB7XG4gICAgICBtYXA6IG1hcENoaWxkcmVuLFxuICAgICAgZm9yRWFjaDogZnVuY3Rpb24gKGNoaWxkcmVuLCBmb3JFYWNoRnVuYywgZm9yRWFjaENvbnRleHQpIHtcbiAgICAgICAgbWFwQ2hpbGRyZW4oXG4gICAgICAgICAgY2hpbGRyZW4sXG4gICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZm9yRWFjaEZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZvckVhY2hDb250ZXh0XG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgY291bnQ6IGZ1bmN0aW9uIChjaGlsZHJlbikge1xuICAgICAgICB2YXIgbiA9IDA7XG4gICAgICAgIG1hcENoaWxkcmVuKGNoaWxkcmVuLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgbisrO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG47XG4gICAgICB9LFxuICAgICAgdG9BcnJheTogZnVuY3Rpb24gKGNoaWxkcmVuKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgbWFwQ2hpbGRyZW4oY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgICAgICAgIH0pIHx8IFtdXG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgb25seTogZnVuY3Rpb24gKGNoaWxkcmVuKSB7XG4gICAgICAgIGlmICghaXNWYWxpZEVsZW1lbnQoY2hpbGRyZW4pKVxuICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgXCJSZWFjdC5DaGlsZHJlbi5vbmx5IGV4cGVjdGVkIHRvIHJlY2VpdmUgYSBzaW5nbGUgUmVhY3QgZWxlbWVudCBjaGlsZC5cIlxuICAgICAgICAgICk7XG4gICAgICAgIHJldHVybiBjaGlsZHJlbjtcbiAgICAgIH1cbiAgICB9O1xuICAgIGV4cG9ydHMuRnJhZ21lbnQgPSBSRUFDVF9GUkFHTUVOVF9UWVBFO1xuICAgIGV4cG9ydHMuUHJvZmlsZXIgPSBSRUFDVF9QUk9GSUxFUl9UWVBFO1xuICAgIGV4cG9ydHMuU3RyaWN0TW9kZSA9IFJFQUNUX1NUUklDVF9NT0RFX1RZUEU7XG4gICAgZXhwb3J0cy5TdXNwZW5zZSA9IFJFQUNUX1NVU1BFTlNFX1RZUEU7XG4gICAgZXhwb3J0cy5fX1NFUlZFUl9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9XQVJOX1VTRVJTX1RIRVlfQ0FOTk9UX1VQR1JBREUgPVxuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHM7XG4gICAgZXhwb3J0cy5jYWNoZSA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5BO1xuICAgICAgICBpZiAoIWRpc3BhdGNoZXIpIHJldHVybiBmbi5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgICAgICB2YXIgZm5NYXAgPSBkaXNwYXRjaGVyLmdldENhY2hlRm9yVHlwZShjcmVhdGVDYWNoZVJvb3QpO1xuICAgICAgICBkaXNwYXRjaGVyID0gZm5NYXAuZ2V0KGZuKTtcbiAgICAgICAgdm9pZCAwID09PSBkaXNwYXRjaGVyICYmXG4gICAgICAgICAgKChkaXNwYXRjaGVyID0gY3JlYXRlQ2FjaGVOb2RlKCkpLCBmbk1hcC5zZXQoZm4sIGRpc3BhdGNoZXIpKTtcbiAgICAgICAgZm5NYXAgPSAwO1xuICAgICAgICBmb3IgKHZhciBsID0gYXJndW1lbnRzLmxlbmd0aDsgZm5NYXAgPCBsOyBmbk1hcCsrKSB7XG4gICAgICAgICAgdmFyIGFyZyA9IGFyZ3VtZW50c1tmbk1hcF07XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgYXJnIHx8XG4gICAgICAgICAgICAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIGFyZyAmJiBudWxsICE9PSBhcmcpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB2YXIgb2JqZWN0Q2FjaGUgPSBkaXNwYXRjaGVyLm87XG4gICAgICAgICAgICBudWxsID09PSBvYmplY3RDYWNoZSAmJlxuICAgICAgICAgICAgICAoZGlzcGF0Y2hlci5vID0gb2JqZWN0Q2FjaGUgPSBuZXcgV2Vha01hcCgpKTtcbiAgICAgICAgICAgIGRpc3BhdGNoZXIgPSBvYmplY3RDYWNoZS5nZXQoYXJnKTtcbiAgICAgICAgICAgIHZvaWQgMCA9PT0gZGlzcGF0Y2hlciAmJlxuICAgICAgICAgICAgICAoKGRpc3BhdGNoZXIgPSBjcmVhdGVDYWNoZU5vZGUoKSksXG4gICAgICAgICAgICAgIG9iamVjdENhY2hlLnNldChhcmcsIGRpc3BhdGNoZXIpKTtcbiAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgIChvYmplY3RDYWNoZSA9IGRpc3BhdGNoZXIucCksXG4gICAgICAgICAgICAgIG51bGwgPT09IG9iamVjdENhY2hlICYmIChkaXNwYXRjaGVyLnAgPSBvYmplY3RDYWNoZSA9IG5ldyBNYXAoKSksXG4gICAgICAgICAgICAgIChkaXNwYXRjaGVyID0gb2JqZWN0Q2FjaGUuZ2V0KGFyZykpLFxuICAgICAgICAgICAgICB2b2lkIDAgPT09IGRpc3BhdGNoZXIgJiZcbiAgICAgICAgICAgICAgICAoKGRpc3BhdGNoZXIgPSBjcmVhdGVDYWNoZU5vZGUoKSksXG4gICAgICAgICAgICAgICAgb2JqZWN0Q2FjaGUuc2V0KGFyZywgZGlzcGF0Y2hlcikpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgxID09PSBkaXNwYXRjaGVyLnMpIHJldHVybiBkaXNwYXRjaGVyLnY7XG4gICAgICAgIGlmICgyID09PSBkaXNwYXRjaGVyLnMpIHRocm93IGRpc3BhdGNoZXIudjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gZm4uYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgICAgICBmbk1hcCA9IGRpc3BhdGNoZXI7XG4gICAgICAgICAgZm5NYXAucyA9IDE7XG4gICAgICAgICAgcmV0dXJuIChmbk1hcC52ID0gcmVzdWx0KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICB0aHJvdyAoXG4gICAgICAgICAgICAoKHJlc3VsdCA9IGRpc3BhdGNoZXIpLCAocmVzdWx0LnMgPSAyKSwgKHJlc3VsdC52ID0gZXJyb3IpLCBlcnJvcilcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH07XG4gICAgZXhwb3J0cy5jYWNoZVNpZ25hbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBkaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuQTtcbiAgICAgIHJldHVybiBkaXNwYXRjaGVyID8gZGlzcGF0Y2hlci5jYWNoZVNpZ25hbCgpIDogbnVsbDtcbiAgICB9O1xuICAgIGV4cG9ydHMuY2FwdHVyZU93bmVyU3RhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgZ2V0Q3VycmVudFN0YWNrID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuZ2V0Q3VycmVudFN0YWNrO1xuICAgICAgcmV0dXJuIG51bGwgPT09IGdldEN1cnJlbnRTdGFjayA/IG51bGwgOiBnZXRDdXJyZW50U3RhY2soKTtcbiAgICB9O1xuICAgIGV4cG9ydHMuY2xvbmVFbGVtZW50ID0gZnVuY3Rpb24gKGVsZW1lbnQsIGNvbmZpZywgY2hpbGRyZW4pIHtcbiAgICAgIGlmIChudWxsID09PSBlbGVtZW50IHx8IHZvaWQgMCA9PT0gZWxlbWVudClcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgXCJUaGUgYXJndW1lbnQgbXVzdCBiZSBhIFJlYWN0IGVsZW1lbnQsIGJ1dCB5b3UgcGFzc2VkIFwiICtcbiAgICAgICAgICAgIGVsZW1lbnQgK1xuICAgICAgICAgICAgXCIuXCJcbiAgICAgICAgKTtcbiAgICAgIHZhciBwcm9wcyA9IGFzc2lnbih7fSwgZWxlbWVudC5wcm9wcyksXG4gICAgICAgIGtleSA9IGVsZW1lbnQua2V5LFxuICAgICAgICBvd25lciA9IGVsZW1lbnQuX293bmVyO1xuICAgICAgaWYgKG51bGwgIT0gY29uZmlnKSB7XG4gICAgICAgIHZhciBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQ7XG4gICAgICAgIGE6IHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgXCJyZWZcIikgJiZcbiAgICAgICAgICAgIChKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFxuICAgICAgICAgICAgICBjb25maWcsXG4gICAgICAgICAgICAgIFwicmVmXCJcbiAgICAgICAgICAgICkuZ2V0KSAmJlxuICAgICAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0LmlzUmVhY3RXYXJuaW5nXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSAhMTtcbiAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgfVxuICAgICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9IHZvaWQgMCAhPT0gY29uZmlnLnJlZjtcbiAgICAgICAgfVxuICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgJiYgKG93bmVyID0gZ2V0T3duZXIoKSk7XG4gICAgICAgIGhhc1ZhbGlkS2V5KGNvbmZpZykgJiZcbiAgICAgICAgICAoY2hlY2tLZXlTdHJpbmdDb2VyY2lvbihjb25maWcua2V5KSwgKGtleSA9IFwiXCIgKyBjb25maWcua2V5KSk7XG4gICAgICAgIGZvciAocHJvcE5hbWUgaW4gY29uZmlnKVxuICAgICAgICAgICFoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgcHJvcE5hbWUpIHx8XG4gICAgICAgICAgICBcImtleVwiID09PSBwcm9wTmFtZSB8fFxuICAgICAgICAgICAgXCJfX3NlbGZcIiA9PT0gcHJvcE5hbWUgfHxcbiAgICAgICAgICAgIFwiX19zb3VyY2VcIiA9PT0gcHJvcE5hbWUgfHxcbiAgICAgICAgICAgIChcInJlZlwiID09PSBwcm9wTmFtZSAmJiB2b2lkIDAgPT09IGNvbmZpZy5yZWYpIHx8XG4gICAgICAgICAgICAocHJvcHNbcHJvcE5hbWVdID0gY29uZmlnW3Byb3BOYW1lXSk7XG4gICAgICB9XG4gICAgICB2YXIgcHJvcE5hbWUgPSBhcmd1bWVudHMubGVuZ3RoIC0gMjtcbiAgICAgIGlmICgxID09PSBwcm9wTmFtZSkgcHJvcHMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICAgIGVsc2UgaWYgKDEgPCBwcm9wTmFtZSkge1xuICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSBBcnJheShwcm9wTmFtZSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcE5hbWU7IGkrKylcbiAgICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHRbaV0gPSBhcmd1bWVudHNbaSArIDJdO1xuICAgICAgICBwcm9wcy5jaGlsZHJlbiA9IEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdDtcbiAgICAgIH1cbiAgICAgIHByb3BzID0gUmVhY3RFbGVtZW50KFxuICAgICAgICBlbGVtZW50LnR5cGUsXG4gICAgICAgIGtleSxcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIG93bmVyLFxuICAgICAgICBlbGVtZW50Ll9kZWJ1Z1N0YWNrLFxuICAgICAgICBlbGVtZW50Ll9kZWJ1Z1Rhc2tcbiAgICAgICk7XG4gICAgICBmb3IgKGtleSA9IDI7IGtleSA8IGFyZ3VtZW50cy5sZW5ndGg7IGtleSsrKVxuICAgICAgICAob3duZXIgPSBhcmd1bWVudHNba2V5XSksXG4gICAgICAgICAgaXNWYWxpZEVsZW1lbnQob3duZXIpICYmIG93bmVyLl9zdG9yZSAmJiAob3duZXIuX3N0b3JlLnZhbGlkYXRlZCA9IDEpO1xuICAgICAgcmV0dXJuIHByb3BzO1xuICAgIH07XG4gICAgZXhwb3J0cy5jcmVhdGVFbGVtZW50ID0gZnVuY3Rpb24gKHR5cGUsIGNvbmZpZywgY2hpbGRyZW4pIHtcbiAgICAgIGZvciAodmFyIGkgPSAyOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBub2RlID0gYXJndW1lbnRzW2ldO1xuICAgICAgICBpc1ZhbGlkRWxlbWVudChub2RlKSAmJiBub2RlLl9zdG9yZSAmJiAobm9kZS5fc3RvcmUudmFsaWRhdGVkID0gMSk7XG4gICAgICB9XG4gICAgICBpID0ge307XG4gICAgICBub2RlID0gbnVsbDtcbiAgICAgIGlmIChudWxsICE9IGNvbmZpZylcbiAgICAgICAgZm9yIChwcm9wTmFtZSBpbiAoZGlkV2FybkFib3V0T2xkSlNYUnVudGltZSB8fFxuICAgICAgICAgICEoXCJfX3NlbGZcIiBpbiBjb25maWcpIHx8XG4gICAgICAgICAgXCJrZXlcIiBpbiBjb25maWcgfHxcbiAgICAgICAgICAoKGRpZFdhcm5BYm91dE9sZEpTWFJ1bnRpbWUgPSAhMCksXG4gICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgXCJZb3VyIGFwcCAob3Igb25lIG9mIGl0cyBkZXBlbmRlbmNpZXMpIGlzIHVzaW5nIGFuIG91dGRhdGVkIEpTWCB0cmFuc2Zvcm0uIFVwZGF0ZSB0byB0aGUgbW9kZXJuIEpTWCB0cmFuc2Zvcm0gZm9yIGZhc3RlciBwZXJmb3JtYW5jZTogaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9uZXctanN4LXRyYW5zZm9ybVwiXG4gICAgICAgICAgKSksXG4gICAgICAgIGhhc1ZhbGlkS2V5KGNvbmZpZykgJiZcbiAgICAgICAgICAoY2hlY2tLZXlTdHJpbmdDb2VyY2lvbihjb25maWcua2V5KSwgKG5vZGUgPSBcIlwiICsgY29uZmlnLmtleSkpLFxuICAgICAgICBjb25maWcpKVxuICAgICAgICAgIGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCBwcm9wTmFtZSkgJiZcbiAgICAgICAgICAgIFwia2V5XCIgIT09IHByb3BOYW1lICYmXG4gICAgICAgICAgICBcIl9fc2VsZlwiICE9PSBwcm9wTmFtZSAmJlxuICAgICAgICAgICAgXCJfX3NvdXJjZVwiICE9PSBwcm9wTmFtZSAmJlxuICAgICAgICAgICAgKGlbcHJvcE5hbWVdID0gY29uZmlnW3Byb3BOYW1lXSk7XG4gICAgICB2YXIgY2hpbGRyZW5MZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoIC0gMjtcbiAgICAgIGlmICgxID09PSBjaGlsZHJlbkxlbmd0aCkgaS5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgICAgZWxzZSBpZiAoMSA8IGNoaWxkcmVuTGVuZ3RoKSB7XG4gICAgICAgIGZvciAoXG4gICAgICAgICAgdmFyIGNoaWxkQXJyYXkgPSBBcnJheShjaGlsZHJlbkxlbmd0aCksIF9pID0gMDtcbiAgICAgICAgICBfaSA8IGNoaWxkcmVuTGVuZ3RoO1xuICAgICAgICAgIF9pKytcbiAgICAgICAgKVxuICAgICAgICAgIGNoaWxkQXJyYXlbX2ldID0gYXJndW1lbnRzW19pICsgMl07XG4gICAgICAgIE9iamVjdC5mcmVlemUgJiYgT2JqZWN0LmZyZWV6ZShjaGlsZEFycmF5KTtcbiAgICAgICAgaS5jaGlsZHJlbiA9IGNoaWxkQXJyYXk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZSAmJiB0eXBlLmRlZmF1bHRQcm9wcylcbiAgICAgICAgZm9yIChwcm9wTmFtZSBpbiAoKGNoaWxkcmVuTGVuZ3RoID0gdHlwZS5kZWZhdWx0UHJvcHMpLCBjaGlsZHJlbkxlbmd0aCkpXG4gICAgICAgICAgdm9pZCAwID09PSBpW3Byb3BOYW1lXSAmJiAoaVtwcm9wTmFtZV0gPSBjaGlsZHJlbkxlbmd0aFtwcm9wTmFtZV0pO1xuICAgICAgbm9kZSAmJlxuICAgICAgICBkZWZpbmVLZXlQcm9wV2FybmluZ0dldHRlcihcbiAgICAgICAgICBpLFxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHR5cGVcbiAgICAgICAgICAgID8gdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWUgfHwgXCJVbmtub3duXCJcbiAgICAgICAgICAgIDogdHlwZVxuICAgICAgICApO1xuICAgICAgdmFyIHByb3BOYW1lID0gMWU0ID4gUmVhY3RTaGFyZWRJbnRlcm5hbHMucmVjZW50bHlDcmVhdGVkT3duZXJTdGFja3MrKztcbiAgICAgIHJldHVybiBSZWFjdEVsZW1lbnQoXG4gICAgICAgIHR5cGUsXG4gICAgICAgIG5vZGUsXG4gICAgICAgIGksXG4gICAgICAgIGdldE93bmVyKCksXG4gICAgICAgIHByb3BOYW1lID8gRXJyb3IoXCJyZWFjdC1zdGFjay10b3AtZnJhbWVcIikgOiB1bmtub3duT3duZXJEZWJ1Z1N0YWNrLFxuICAgICAgICBwcm9wTmFtZSA/IGNyZWF0ZVRhc2soZ2V0VGFza05hbWUodHlwZSkpIDogdW5rbm93bk93bmVyRGVidWdUYXNrXG4gICAgICApO1xuICAgIH07XG4gICAgZXhwb3J0cy5jcmVhdGVSZWYgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcmVmT2JqZWN0ID0geyBjdXJyZW50OiBudWxsIH07XG4gICAgICBPYmplY3Quc2VhbChyZWZPYmplY3QpO1xuICAgICAgcmV0dXJuIHJlZk9iamVjdDtcbiAgICB9O1xuICAgIGV4cG9ydHMuZm9yd2FyZFJlZiA9IGZ1bmN0aW9uIChyZW5kZXIpIHtcbiAgICAgIG51bGwgIT0gcmVuZGVyICYmIHJlbmRlci4kJHR5cGVvZiA9PT0gUkVBQ1RfTUVNT19UWVBFXG4gICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiZm9yd2FyZFJlZiByZXF1aXJlcyBhIHJlbmRlciBmdW5jdGlvbiBidXQgcmVjZWl2ZWQgYSBgbWVtb2AgY29tcG9uZW50LiBJbnN0ZWFkIG9mIGZvcndhcmRSZWYobWVtbyguLi4pKSwgdXNlIG1lbW8oZm9yd2FyZFJlZiguLi4pKS5cIlxuICAgICAgICAgIClcbiAgICAgICAgOiBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiByZW5kZXJcbiAgICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiZm9yd2FyZFJlZiByZXF1aXJlcyBhIHJlbmRlciBmdW5jdGlvbiBidXQgd2FzIGdpdmVuICVzLlwiLFxuICAgICAgICAgICAgICBudWxsID09PSByZW5kZXIgPyBcIm51bGxcIiA6IHR5cGVvZiByZW5kZXJcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IDAgIT09IHJlbmRlci5sZW5ndGggJiZcbiAgICAgICAgICAgIDIgIT09IHJlbmRlci5sZW5ndGggJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiZm9yd2FyZFJlZiByZW5kZXIgZnVuY3Rpb25zIGFjY2VwdCBleGFjdGx5IHR3byBwYXJhbWV0ZXJzOiBwcm9wcyBhbmQgcmVmLiAlc1wiLFxuICAgICAgICAgICAgICAxID09PSByZW5kZXIubGVuZ3RoXG4gICAgICAgICAgICAgICAgPyBcIkRpZCB5b3UgZm9yZ2V0IHRvIHVzZSB0aGUgcmVmIHBhcmFtZXRlcj9cIlxuICAgICAgICAgICAgICAgIDogXCJBbnkgYWRkaXRpb25hbCBwYXJhbWV0ZXIgd2lsbCBiZSB1bmRlZmluZWQuXCJcbiAgICAgICAgICAgICk7XG4gICAgICBudWxsICE9IHJlbmRlciAmJlxuICAgICAgICBudWxsICE9IHJlbmRlci5kZWZhdWx0UHJvcHMgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcImZvcndhcmRSZWYgcmVuZGVyIGZ1bmN0aW9ucyBkbyBub3Qgc3VwcG9ydCBkZWZhdWx0UHJvcHMuIERpZCB5b3UgYWNjaWRlbnRhbGx5IHBhc3MgYSBSZWFjdCBjb21wb25lbnQ/XCJcbiAgICAgICAgKTtcbiAgICAgIHZhciBlbGVtZW50VHlwZSA9IHsgJCR0eXBlb2Y6IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUsIHJlbmRlcjogcmVuZGVyIH0sXG4gICAgICAgIG93bk5hbWU7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWxlbWVudFR5cGUsIFwiZGlzcGxheU5hbWVcIiwge1xuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMCxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIG93bk5hbWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICBvd25OYW1lID0gbmFtZTtcbiAgICAgICAgICByZW5kZXIubmFtZSB8fFxuICAgICAgICAgICAgcmVuZGVyLmRpc3BsYXlOYW1lIHx8XG4gICAgICAgICAgICAoT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlbmRlciwgXCJuYW1lXCIsIHsgdmFsdWU6IG5hbWUgfSksXG4gICAgICAgICAgICAocmVuZGVyLmRpc3BsYXlOYW1lID0gbmFtZSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBlbGVtZW50VHlwZTtcbiAgICB9O1xuICAgIGV4cG9ydHMuaXNWYWxpZEVsZW1lbnQgPSBpc1ZhbGlkRWxlbWVudDtcbiAgICBleHBvcnRzLmxhenkgPSBmdW5jdGlvbiAoY3Rvcikge1xuICAgICAgY3RvciA9IHsgX3N0YXR1czogLTEsIF9yZXN1bHQ6IGN0b3IgfTtcbiAgICAgIHZhciBsYXp5VHlwZSA9IHtcbiAgICAgICAgICAkJHR5cGVvZjogUkVBQ1RfTEFaWV9UWVBFLFxuICAgICAgICAgIF9wYXlsb2FkOiBjdG9yLFxuICAgICAgICAgIF9pbml0OiBsYXp5SW5pdGlhbGl6ZXJcbiAgICAgICAgfSxcbiAgICAgICAgaW9JbmZvID0ge1xuICAgICAgICAgIG5hbWU6IFwibGF6eVwiLFxuICAgICAgICAgIHN0YXJ0OiAtMSxcbiAgICAgICAgICBlbmQ6IC0xLFxuICAgICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICAgIG93bmVyOiBudWxsLFxuICAgICAgICAgIGRlYnVnU3RhY2s6IEVycm9yKFwicmVhY3Qtc3RhY2stdG9wLWZyYW1lXCIpLFxuICAgICAgICAgIGRlYnVnVGFzazogY29uc29sZS5jcmVhdGVUYXNrID8gY29uc29sZS5jcmVhdGVUYXNrKFwibGF6eSgpXCIpIDogbnVsbFxuICAgICAgICB9O1xuICAgICAgY3Rvci5faW9JbmZvID0gaW9JbmZvO1xuICAgICAgbGF6eVR5cGUuX2RlYnVnSW5mbyA9IFt7IGF3YWl0ZWQ6IGlvSW5mbyB9XTtcbiAgICAgIHJldHVybiBsYXp5VHlwZTtcbiAgICB9O1xuICAgIGV4cG9ydHMubWVtbyA9IGZ1bmN0aW9uICh0eXBlLCBjb21wYXJlKSB7XG4gICAgICBudWxsID09IHR5cGUgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIm1lbW86IFRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgY29tcG9uZW50LiBJbnN0ZWFkIHJlY2VpdmVkOiAlc1wiLFxuICAgICAgICAgIG51bGwgPT09IHR5cGUgPyBcIm51bGxcIiA6IHR5cGVvZiB0eXBlXG4gICAgICAgICk7XG4gICAgICBjb21wYXJlID0ge1xuICAgICAgICAkJHR5cGVvZjogUkVBQ1RfTUVNT19UWVBFLFxuICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICBjb21wYXJlOiB2b2lkIDAgPT09IGNvbXBhcmUgPyBudWxsIDogY29tcGFyZVxuICAgICAgfTtcbiAgICAgIHZhciBvd25OYW1lO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbXBhcmUsIFwiZGlzcGxheU5hbWVcIiwge1xuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMCxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIG93bk5hbWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICBvd25OYW1lID0gbmFtZTtcbiAgICAgICAgICB0eXBlLm5hbWUgfHxcbiAgICAgICAgICAgIHR5cGUuZGlzcGxheU5hbWUgfHxcbiAgICAgICAgICAgIChPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJuYW1lXCIsIHsgdmFsdWU6IG5hbWUgfSksXG4gICAgICAgICAgICAodHlwZS5kaXNwbGF5TmFtZSA9IG5hbWUpKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gY29tcGFyZTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlID0gZnVuY3Rpb24gKHVzYWJsZSkge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlKHVzYWJsZSk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZUNhbGxiYWNrID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBkZXBzKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VDYWxsYmFjayhjYWxsYmFjaywgZGVwcyk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZURlYnVnVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUsIGZvcm1hdHRlckZuKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VEZWJ1Z1ZhbHVlKHZhbHVlLCBmb3JtYXR0ZXJGbik7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZUlkID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlSWQoKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlTWVtbyA9IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZU1lbW8oY3JlYXRlLCBkZXBzKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudmVyc2lvbiA9IFwiMTkuMi4wLWNhbmFyeS0wYmRiOTIwNi0yMDI1MDgxOFwiO1xuICB9KSgpO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/compiled/react/cjs/react.react-server.development.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/compiled/react/react.react-server.js":
/*!*********************************************************************!*\
  !*** ./node_modules/next/dist/compiled/react/react.react-server.js ***!
  \*********************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\nif (false) {} else {\n  module.exports = __webpack_require__(/*! ./cjs/react.react-server.development.js */ \"(middleware)/./node_modules/next/dist/compiled/react/cjs/react.react-server.development.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jb21waWxlZC9yZWFjdC9yZWFjdC5yZWFjdC1zZXJ2ZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsSUFBSSxLQUFxQyxFQUFFLEVBRTFDLENBQUM7QUFDRixFQUFFLGlMQUFtRTtBQUNyRSIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcbmV4dFxcZGlzdFxcY29tcGlsZWRcXHJlYWN0XFxyZWFjdC5yZWFjdC1zZXJ2ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LnJlYWN0LXNlcnZlci5wcm9kdWN0aW9uLmpzJyk7XG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LnJlYWN0LXNlcnZlci5kZXZlbG9wbWVudC5qcycpO1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/compiled/react/react.react-server.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/compiled/ua-parser-js/ua-parser.js":
/*!*******************************************************************!*\
  !*** ./node_modules/next/dist/compiled/ua-parser-js/ua-parser.js ***!
  \*******************************************************************/
/***/ ((module, exports, __webpack_require__) => {

eval("var __dirname = \"/\";\nvar __WEBPACK_AMD_DEFINE_RESULT__;(()=>{var i={226:function(i,e){(function(o,a){\"use strict\";var r=\"1.0.35\",t=\"\",n=\"?\",s=\"function\",b=\"undefined\",w=\"object\",l=\"string\",d=\"major\",c=\"model\",u=\"name\",p=\"type\",m=\"vendor\",f=\"version\",h=\"architecture\",v=\"console\",g=\"mobile\",k=\"tablet\",x=\"smarttv\",_=\"wearable\",y=\"embedded\",q=350;var T=\"Amazon\",S=\"Apple\",z=\"ASUS\",N=\"BlackBerry\",A=\"Browser\",C=\"Chrome\",E=\"Edge\",O=\"Firefox\",U=\"Google\",j=\"Huawei\",P=\"LG\",R=\"Microsoft\",M=\"Motorola\",B=\"Opera\",V=\"Samsung\",D=\"Sharp\",I=\"Sony\",W=\"Viera\",F=\"Xiaomi\",G=\"Zebra\",H=\"Facebook\",L=\"Chromium OS\",Z=\"Mac OS\";var extend=function(i,e){var o={};for(var a in i){if(e[a]&&e[a].length%2===0){o[a]=e[a].concat(i[a])}else{o[a]=i[a]}}return o},enumerize=function(i){var e={};for(var o=0;o<i.length;o++){e[i[o].toUpperCase()]=i[o]}return e},has=function(i,e){return typeof i===l?lowerize(e).indexOf(lowerize(i))!==-1:false},lowerize=function(i){return i.toLowerCase()},majorize=function(i){return typeof i===l?i.replace(/[^\\d\\.]/g,t).split(\".\")[0]:a},trim=function(i,e){if(typeof i===l){i=i.replace(/^\\s\\s*/,t);return typeof e===b?i:i.substring(0,q)}};var rgxMapper=function(i,e){var o=0,r,t,n,b,l,d;while(o<e.length&&!l){var c=e[o],u=e[o+1];r=t=0;while(r<c.length&&!l){if(!c[r]){break}l=c[r++].exec(i);if(!!l){for(n=0;n<u.length;n++){d=l[++t];b=u[n];if(typeof b===w&&b.length>0){if(b.length===2){if(typeof b[1]==s){this[b[0]]=b[1].call(this,d)}else{this[b[0]]=b[1]}}else if(b.length===3){if(typeof b[1]===s&&!(b[1].exec&&b[1].test)){this[b[0]]=d?b[1].call(this,d,b[2]):a}else{this[b[0]]=d?d.replace(b[1],b[2]):a}}else if(b.length===4){this[b[0]]=d?b[3].call(this,d.replace(b[1],b[2])):a}}else{this[b]=d?d:a}}}}o+=2}},strMapper=function(i,e){for(var o in e){if(typeof e[o]===w&&e[o].length>0){for(var r=0;r<e[o].length;r++){if(has(e[o][r],i)){return o===n?a:o}}}else if(has(e[o],i)){return o===n?a:o}}return i};var $={\"1.0\":\"/8\",1.2:\"/1\",1.3:\"/3\",\"2.0\":\"/412\",\"2.0.2\":\"/416\",\"2.0.3\":\"/417\",\"2.0.4\":\"/419\",\"?\":\"/\"},X={ME:\"4.90\",\"NT 3.11\":\"NT3.51\",\"NT 4.0\":\"NT4.0\",2e3:\"NT 5.0\",XP:[\"NT 5.1\",\"NT 5.2\"],Vista:\"NT 6.0\",7:\"NT 6.1\",8:\"NT 6.2\",8.1:\"NT 6.3\",10:[\"NT 6.4\",\"NT 10.0\"],RT:\"ARM\"};var K={browser:[[/\\b(?:crmo|crios)\\/([\\w\\.]+)/i],[f,[u,\"Chrome\"]],[/edg(?:e|ios|a)?\\/([\\w\\.]+)/i],[f,[u,\"Edge\"]],[/(opera mini)\\/([-\\w\\.]+)/i,/(opera [mobiletab]{3,6})\\b.+version\\/([-\\w\\.]+)/i,/(opera)(?:.+version\\/|[\\/ ]+)([\\w\\.]+)/i],[u,f],[/opios[\\/ ]+([\\w\\.]+)/i],[f,[u,B+\" Mini\"]],[/\\bopr\\/([\\w\\.]+)/i],[f,[u,B]],[/(kindle)\\/([\\w\\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\\/ ]?([\\w\\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\\/ ]?([\\w\\.]*)/i,/(ba?idubrowser)[\\/ ]?([\\w\\.]+)/i,/(?:ms|\\()(ie) ([\\w\\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\\/([-\\w\\.]+)/i,/(heytap|ovi)browser\\/([\\d\\.]+)/i,/(weibo)__([\\d\\.]+)/i],[u,f],[/(?:\\buc? ?browser|(?:juc.+)ucweb)[\\/ ]?([\\w\\.]+)/i],[f,[u,\"UC\"+A]],[/microm.+\\bqbcore\\/([\\w\\.]+)/i,/\\bqbcore\\/([\\w\\.]+).+microm/i],[f,[u,\"WeChat(Win) Desktop\"]],[/micromessenger\\/([\\w\\.]+)/i],[f,[u,\"WeChat\"]],[/konqueror\\/([\\w\\.]+)/i],[f,[u,\"Konqueror\"]],[/trident.+rv[: ]([\\w\\.]{1,9})\\b.+like gecko/i],[f,[u,\"IE\"]],[/ya(?:search)?browser\\/([\\w\\.]+)/i],[f,[u,\"Yandex\"]],[/(avast|avg)\\/([\\w\\.]+)/i],[[u,/(.+)/,\"$1 Secure \"+A],f],[/\\bfocus\\/([\\w\\.]+)/i],[f,[u,O+\" Focus\"]],[/\\bopt\\/([\\w\\.]+)/i],[f,[u,B+\" Touch\"]],[/coc_coc\\w+\\/([\\w\\.]+)/i],[f,[u,\"Coc Coc\"]],[/dolfin\\/([\\w\\.]+)/i],[f,[u,\"Dolphin\"]],[/coast\\/([\\w\\.]+)/i],[f,[u,B+\" Coast\"]],[/miuibrowser\\/([\\w\\.]+)/i],[f,[u,\"MIUI \"+A]],[/fxios\\/([-\\w\\.]+)/i],[f,[u,O]],[/\\bqihu|(qi?ho?o?|360)browser/i],[[u,\"360 \"+A]],[/(oculus|samsung|sailfish|huawei)browser\\/([\\w\\.]+)/i],[[u,/(.+)/,\"$1 \"+A],f],[/(comodo_dragon)\\/([\\w\\.]+)/i],[[u,/_/g,\" \"],f],[/(electron)\\/([\\w\\.]+) safari/i,/(tesla)(?: qtcarbrowser|\\/(20\\d\\d\\.[-\\w\\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\\/ ]?([\\w\\.]+)/i],[u,f],[/(metasr)[\\/ ]?([\\w\\.]+)/i,/(lbbrowser)/i,/\\[(linkedin)app\\]/i],[u],[/((?:fban\\/fbios|fb_iab\\/fb4a)(?!.+fbav)|;fbav\\/([\\w\\.]+);)/i],[[u,H],f],[/(kakao(?:talk|story))[\\/ ]([\\w\\.]+)/i,/(naver)\\(.*?(\\d+\\.[\\w\\.]+).*\\)/i,/safari (line)\\/([\\w\\.]+)/i,/\\b(line)\\/([\\w\\.]+)\\/iab/i,/(chromium|instagram)[\\/ ]([-\\w\\.]+)/i],[u,f],[/\\bgsa\\/([\\w\\.]+) .*safari\\//i],[f,[u,\"GSA\"]],[/musical_ly(?:.+app_?version\\/|_)([\\w\\.]+)/i],[f,[u,\"TikTok\"]],[/headlesschrome(?:\\/([\\w\\.]+)| )/i],[f,[u,C+\" Headless\"]],[/ wv\\).+(chrome)\\/([\\w\\.]+)/i],[[u,C+\" WebView\"],f],[/droid.+ version\\/([\\w\\.]+)\\b.+(?:mobile safari|safari)/i],[f,[u,\"Android \"+A]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\/v?([\\w\\.]+)/i],[u,f],[/version\\/([\\w\\.\\,]+) .*mobile\\/\\w+ (safari)/i],[f,[u,\"Mobile Safari\"]],[/version\\/([\\w(\\.|\\,)]+) .*(mobile ?safari|safari)/i],[f,u],[/webkit.+?(mobile ?safari|safari)(\\/[\\w\\.]+)/i],[u,[f,strMapper,$]],[/(webkit|khtml)\\/([\\w\\.]+)/i],[u,f],[/(navigator|netscape\\d?)\\/([-\\w\\.]+)/i],[[u,\"Netscape\"],f],[/mobile vr; rv:([\\w\\.]+)\\).+firefox/i],[f,[u,O+\" Reality\"]],[/ekiohf.+(flow)\\/([\\w\\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\\/ ]?([\\w\\.\\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([-\\w\\.]+)$/i,/(firefox)\\/([\\w\\.]+)/i,/(mozilla)\\/([\\w\\.]+) .+rv\\:.+gecko\\/\\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\\. ]?browser)[-\\/ ]?v?([\\w\\.]+)/i,/(links) \\(([\\w\\.]+)/i,/panasonic;(viera)/i],[u,f],[/(cobalt)\\/([\\w\\.]+)/i],[u,[f,/master.|lts./,\"\"]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\\)]/i],[[h,\"amd64\"]],[/(ia32(?=;))/i],[[h,lowerize]],[/((?:i[346]|x)86)[;\\)]/i],[[h,\"ia32\"]],[/\\b(aarch64|arm(v?8e?l?|_?64))\\b/i],[[h,\"arm64\"]],[/\\b(arm(?:v[67])?ht?n?[fl]p?)\\b/i],[[h,\"armhf\"]],[/windows (ce|mobile); ppc;/i],[[h,\"arm\"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\\))/i],[[h,/ower/,t,lowerize]],[/(sun4\\w)[;\\)]/i],[[h,\"sparc\"]],[/((?:avr32|ia64(?=;))|68k(?=\\))|\\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\\b|pa-risc)/i],[[h,lowerize]]],device:[[/\\b(sch-i[89]0\\d|shw-m380s|sm-[ptx]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus 10)/i],[c,[m,V],[p,k]],[/\\b((?:s[cgp]h|gt|sm)-\\w+|sc[g-]?[\\d]+a?|galaxy nexus)/i,/samsung[- ]([-\\w]+)/i,/sec-(sgh\\w+)/i],[c,[m,V],[p,g]],[/(?:\\/|\\()(ip(?:hone|od)[\\w, ]*)(?:\\/|;)/i],[c,[m,S],[p,g]],[/\\((ipad);[-\\w\\),; ]+apple/i,/applecoremedia\\/[\\w\\.]+ \\((ipad)/i,/\\b(ipad)\\d\\d?,\\d\\d?[;\\]].+ios/i],[c,[m,S],[p,k]],[/(macintosh);/i],[c,[m,S]],[/\\b(sh-?[altvz]?\\d\\d[a-ekm]?)/i],[c,[m,D],[p,g]],[/\\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\\d{2})\\b(?!.+d\\/s)/i],[c,[m,j],[p,k]],[/(?:huawei|honor)([-\\w ]+)[;\\)]/i,/\\b(nexus 6p|\\w{2,4}e?-[atu]?[ln][\\dx][012359c][adn]?)\\b(?!.+d\\/s)/i],[c,[m,j],[p,g]],[/\\b(poco[\\w ]+)(?: bui|\\))/i,/\\b; (\\w+) build\\/hm\\1/i,/\\b(hm[-_ ]?note?[_ ]?(?:\\d\\w)?) bui/i,/\\b(redmi[\\-_ ]?(?:note|k)?[\\w_ ]+)(?: bui|\\))/i,/\\b(mi[-_ ]?(?:a\\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\\d?\\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\\))/i],[[c,/_/g,\" \"],[m,F],[p,g]],[/\\b(mi[-_ ]?(?:pad)(?:[\\w_ ]+))(?: bui|\\))/i],[[c,/_/g,\" \"],[m,F],[p,k]],[/; (\\w+) bui.+ oppo/i,/\\b(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007|a101op)\\b/i],[c,[m,\"OPPO\"],[p,g]],[/vivo (\\w+)(?: bui|\\))/i,/\\b(v[12]\\d{3}\\w?[at])(?: bui|;)/i],[c,[m,\"Vivo\"],[p,g]],[/\\b(rmx[12]\\d{3})(?: bui|;|\\))/i],[c,[m,\"Realme\"],[p,g]],[/\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\b[\\w ]+build\\//i,/\\bmot(?:orola)?[- ](\\w*)/i,/((?:moto[\\w\\(\\) ]+|xt\\d{3,4}|nexus 6)(?= bui|\\)))/i],[c,[m,M],[p,g]],[/\\b(mz60\\d|xoom[2 ]{0,2}) build\\//i],[c,[m,M],[p,k]],[/((?=lg)?[vl]k\\-?\\d{3}) bui| 3\\.[-\\w; ]{10}lg?-([06cv9]{3,4})/i],[c,[m,P],[p,k]],[/(lm(?:-?f100[nv]?|-[\\w\\.]+)(?= bui|\\))|nexus [45])/i,/\\blg[-e;\\/ ]+((?!browser|netcast|android tv)\\w+)/i,/\\blg-?([\\d\\w]+) bui/i],[c,[m,P],[p,g]],[/(ideatab[-\\w ]+)/i,/lenovo ?(s[56]000[-\\w]+|tab(?:[\\w ]+)|yt[-\\d\\w]{6}|tb[-\\d\\w]{6})/i],[c,[m,\"Lenovo\"],[p,k]],[/(?:maemo|nokia).*(n900|lumia \\d+)/i,/nokia[-_ ]?([-\\w\\.]*)/i],[[c,/_/g,\" \"],[m,\"Nokia\"],[p,g]],[/(pixel c)\\b/i],[c,[m,U],[p,k]],[/droid.+; (pixel[\\daxl ]{0,6})(?: bui|\\))/i],[c,[m,U],[p,g]],[/droid.+ (a?\\d[0-2]{2}so|[c-g]\\d{4}|so[-gl]\\w+|xq-a\\w[4-7][12])(?= bui|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i],[c,[m,I],[p,g]],[/sony tablet [ps]/i,/\\b(?:sony)?sgp\\w+(?: bui|\\))/i],[[c,\"Xperia Tablet\"],[m,I],[p,k]],[/ (kb2005|in20[12]5|be20[12][59])\\b/i,/(?:one)?(?:plus)? (a\\d0\\d\\d)(?: b|\\))/i],[c,[m,\"OnePlus\"],[p,g]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\\))/i,/(kf[a-z]+)( bui|\\)).+silk\\//i],[c,[m,T],[p,k]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\\)).+silk\\//i],[[c,/(.+)/g,\"Fire Phone $1\"],[m,T],[p,g]],[/(playbook);[-\\w\\),; ]+(rim)/i],[c,m,[p,k]],[/\\b((?:bb[a-f]|st[hv])100-\\d)/i,/\\(bb10; (\\w+)/i],[c,[m,N],[p,g]],[/(?:\\b|asus_)(transfo[prime ]{4,10} \\w+|eeepc|slider \\w+|nexus 7|padfone|p00[cj])/i],[c,[m,z],[p,k]],[/ (z[bes]6[027][012][km][ls]|zenfone \\d\\w?)\\b/i],[c,[m,z],[p,g]],[/(nexus 9)/i],[c,[m,\"HTC\"],[p,k]],[/(htc)[-;_ ]{1,2}([\\w ]+(?=\\)| bui)|\\w+)/i,/(zte)[- ]([\\w ]+?)(?: bui|\\/|\\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\\.))|sony(?!-bra))[-_ ]?([-\\w]*)/i],[m,[c,/_/g,\" \"],[p,g]],[/droid.+; ([ab][1-7]-?[0178a]\\d\\d?)/i],[c,[m,\"Acer\"],[p,k]],[/droid.+; (m[1-5] note) bui/i,/\\bmz-([-\\w]{2,})/i],[c,[m,\"Meizu\"],[p,g]],[/(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\\w]*)/i,/(hp) ([\\w ]+\\w)/i,/(asus)-?(\\w+)/i,/(microsoft); (lumia[\\w ]+)/i,/(lenovo)[-_ ]?([-\\w]+)/i,/(jolla)/i,/(oppo) ?([\\w ]+) bui/i],[m,c,[p,g]],[/(kobo)\\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\\/([\\w\\.]+)/i,/(nook)[\\w ]+build\\/(\\w+)/i,/(dell) (strea[kpr\\d ]*[\\dko])/i,/(le[- ]+pan)[- ]+(\\w{1,9}) bui/i,/(trinity)[- ]*(t\\d{3}) bui/i,/(gigaset)[- ]+(q\\w{1,9}) bui/i,/(vodafone) ([\\w ]+)(?:\\)| bui)/i],[m,c,[p,k]],[/(surface duo)/i],[c,[m,R],[p,k]],[/droid [\\d\\.]+; (fp\\du?)(?: b|\\))/i],[c,[m,\"Fairphone\"],[p,g]],[/(u304aa)/i],[c,[m,\"AT&T\"],[p,g]],[/\\bsie-(\\w*)/i],[c,[m,\"Siemens\"],[p,g]],[/\\b(rct\\w+) b/i],[c,[m,\"RCA\"],[p,k]],[/\\b(venue[\\d ]{2,7}) b/i],[c,[m,\"Dell\"],[p,k]],[/\\b(q(?:mv|ta)\\w+) b/i],[c,[m,\"Verizon\"],[p,k]],[/\\b(?:barnes[& ]+noble |bn[rt])([\\w\\+ ]*) b/i],[c,[m,\"Barnes & Noble\"],[p,k]],[/\\b(tm\\d{3}\\w+) b/i],[c,[m,\"NuVision\"],[p,k]],[/\\b(k88) b/i],[c,[m,\"ZTE\"],[p,k]],[/\\b(nx\\d{3}j) b/i],[c,[m,\"ZTE\"],[p,g]],[/\\b(gen\\d{3}) b.+49h/i],[c,[m,\"Swiss\"],[p,g]],[/\\b(zur\\d{3}) b/i],[c,[m,\"Swiss\"],[p,k]],[/\\b((zeki)?tb.*\\b) b/i],[c,[m,\"Zeki\"],[p,k]],[/\\b([yr]\\d{2}) b/i,/\\b(dragon[- ]+touch |dt)(\\w{5}) b/i],[[m,\"Dragon Touch\"],c,[p,k]],[/\\b(ns-?\\w{0,9}) b/i],[c,[m,\"Insignia\"],[p,k]],[/\\b((nxa|next)-?\\w{0,9}) b/i],[c,[m,\"NextBook\"],[p,k]],[/\\b(xtreme\\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[m,\"Voice\"],c,[p,g]],[/\\b(lvtel\\-)?(v1[12]) b/i],[[m,\"LvTel\"],c,[p,g]],[/\\b(ph-1) /i],[c,[m,\"Essential\"],[p,g]],[/\\b(v(100md|700na|7011|917g).*\\b) b/i],[c,[m,\"Envizen\"],[p,k]],[/\\b(trio[-\\w\\. ]+) b/i],[c,[m,\"MachSpeed\"],[p,k]],[/\\btu_(1491) b/i],[c,[m,\"Rotor\"],[p,k]],[/(shield[\\w ]+) b/i],[c,[m,\"Nvidia\"],[p,k]],[/(sprint) (\\w+)/i],[m,c,[p,g]],[/(kin\\.[onetw]{3})/i],[[c,/\\./g,\" \"],[m,R],[p,g]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i],[c,[m,G],[p,k]],[/droid.+; (ec30|ps20|tc[2-8]\\d[kx])\\)/i],[c,[m,G],[p,g]],[/smart-tv.+(samsung)/i],[m,[p,x]],[/hbbtv.+maple;(\\d+)/i],[[c,/^/,\"SmartTV\"],[m,V],[p,x]],[/(nux; netcast.+smarttv|lg (netcast\\.tv-201\\d|android tv))/i],[[m,P],[p,x]],[/(apple) ?tv/i],[m,[c,S+\" TV\"],[p,x]],[/crkey/i],[[c,C+\"cast\"],[m,U],[p,x]],[/droid.+aft(\\w)( bui|\\))/i],[c,[m,T],[p,x]],[/\\(dtv[\\);].+(aquos)/i,/(aquos-tv[\\w ]+)\\)/i],[c,[m,D],[p,x]],[/(bravia[\\w ]+)( bui|\\))/i],[c,[m,I],[p,x]],[/(mitv-\\w{5}) bui/i],[c,[m,F],[p,x]],[/Hbbtv.*(technisat) (.*);/i],[m,c,[p,x]],[/\\b(roku)[\\dx]*[\\)\\/]((?:dvp-)?[\\d\\.]*)/i,/hbbtv\\/\\d+\\.\\d+\\.\\d+ +\\([\\w\\+ ]*; *([\\w\\d][^;]*);([^;]*)/i],[[m,trim],[c,trim],[p,x]],[/\\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\\b/i],[[p,x]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[m,c,[p,v]],[/droid.+; (shield) bui/i],[c,[m,\"Nvidia\"],[p,v]],[/(playstation [345portablevi]+)/i],[c,[m,I],[p,v]],[/\\b(xbox(?: one)?(?!; xbox))[\\); ]/i],[c,[m,R],[p,v]],[/((pebble))app/i],[m,c,[p,_]],[/(watch)(?: ?os[,\\/]|\\d,\\d\\/)[\\d\\.]+/i],[c,[m,S],[p,_]],[/droid.+; (glass) \\d/i],[c,[m,U],[p,_]],[/droid.+; (wt63?0{2,3})\\)/i],[c,[m,G],[p,_]],[/(quest( 2| pro)?)/i],[c,[m,H],[p,_]],[/(tesla)(?: qtcarbrowser|\\/[-\\w\\.]+)/i],[m,[p,y]],[/(aeobc)\\b/i],[c,[m,T],[p,y]],[/droid .+?; ([^;]+?)(?: bui|\\) applew).+? mobile safari/i],[c,[p,g]],[/droid .+?; ([^;]+?)(?: bui|\\) applew).+?(?! mobile) safari/i],[c,[p,k]],[/\\b((tablet|tab)[;\\/]|focus\\/\\d(?!.+mobile))/i],[[p,k]],[/(phone|mobile(?:[;\\/]| [ \\w\\/\\.]*safari)|pda(?=.+windows ce))/i],[[p,g]],[/(android[-\\w\\. ]{0,9});.+buil/i],[c,[m,\"Generic\"]]],engine:[[/windows.+ edge\\/([\\w\\.]+)/i],[f,[u,E+\"HTML\"]],[/webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i],[f,[u,\"Blink\"]],[/(presto)\\/([\\w\\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\\/([\\w\\.]+)/i,/ekioh(flow)\\/([\\w\\.]+)/i,/(khtml|tasman|links)[\\/ ]\\(?([\\w\\.]+)/i,/(icab)[\\/ ]([23]\\.[\\d\\.]+)/i,/\\b(libweb)/i],[u,f],[/rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i],[f,u]],os:[[/microsoft (windows) (vista|xp)/i],[u,f],[/(windows) nt 6\\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\\/ ]?([\\d\\.\\w ]*)/i,/(windows)[\\/ ]?([ntce\\d\\. ]+\\w)(?!.+xbox)/i],[u,[f,strMapper,X]],[/(win(?=3|9|n)|win 9x )([nt\\d\\.]+)/i],[[u,\"Windows\"],[f,strMapper,X]],[/ip[honead]{2,4}\\b(?:.*os ([\\w]+) like mac|; opera)/i,/ios;fbsv\\/([\\d\\.]+)/i,/cfnetwork\\/.+darwin/i],[[f,/_/g,\".\"],[u,\"iOS\"]],[/(mac os x) ?([\\w\\. ]*)/i,/(macintosh|mac_powerpc\\b)(?!.+haiku)/i],[[u,Z],[f,/_/g,\".\"]],[/droid ([\\w\\.]+)\\b.+(android[- ]x86|harmonyos)/i],[f,u],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\\/ ]?([\\w\\.]*)/i,/(blackberry)\\w*\\/([\\w\\.]*)/i,/(tizen|kaios)[\\/ ]([\\w\\.]+)/i,/\\((series40);/i],[u,f],[/\\(bb(10);/i],[f,[u,N]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\\/ ]?([\\w\\.]*)/i],[f,[u,\"Symbian\"]],[/mozilla\\/[\\d\\.]+ \\((?:mobile|tablet|tv|mobile; [\\w ]+); rv:.+ gecko\\/([\\w\\.]+)/i],[f,[u,O+\" OS\"]],[/web0s;.+rt(tv)/i,/\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i],[f,[u,\"webOS\"]],[/watch(?: ?os[,\\/]|\\d,\\d\\/)([\\d\\.]+)/i],[f,[u,\"watchOS\"]],[/crkey\\/([\\d\\.]+)/i],[f,[u,C+\"cast\"]],[/(cros) [\\w]+(?:\\)| ([\\w\\.]+)\\b)/i],[[u,L],f],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\\/(\\d+\\.[\\w\\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\\);]+)/i,/\\b(joli|palm)\\b ?(?:os)?\\/?([\\w\\.]*)/i,/(mint)[\\/\\(\\) ]?(\\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\/ ]?(?!chrom|package)([-\\w\\.]*)/i,/(hurd|linux) ?([\\w\\.]*)/i,/(gnu) ?([\\w\\.]*)/i,/\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\/ ]?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i,/(haiku) (\\w+)/i],[u,f],[/(sunos) ?([\\w\\.\\d]*)/i],[[u,\"Solaris\"],f],[/((?:open)?solaris)[-\\/ ]?([\\w\\.]*)/i,/(aix) ((\\d)(?=\\.|\\)| )[\\w\\.])*/i,/\\b(beos|os\\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\\w\\.]*)/i],[u,f]]};var UAParser=function(i,e){if(typeof i===w){e=i;i=a}if(!(this instanceof UAParser)){return new UAParser(i,e).getResult()}var r=typeof o!==b&&o.navigator?o.navigator:a;var n=i||(r&&r.userAgent?r.userAgent:t);var v=r&&r.userAgentData?r.userAgentData:a;var x=e?extend(K,e):K;var _=r&&r.userAgent==n;this.getBrowser=function(){var i={};i[u]=a;i[f]=a;rgxMapper.call(i,n,x.browser);i[d]=majorize(i[f]);if(_&&r&&r.brave&&typeof r.brave.isBrave==s){i[u]=\"Brave\"}return i};this.getCPU=function(){var i={};i[h]=a;rgxMapper.call(i,n,x.cpu);return i};this.getDevice=function(){var i={};i[m]=a;i[c]=a;i[p]=a;rgxMapper.call(i,n,x.device);if(_&&!i[p]&&v&&v.mobile){i[p]=g}if(_&&i[c]==\"Macintosh\"&&r&&typeof r.standalone!==b&&r.maxTouchPoints&&r.maxTouchPoints>2){i[c]=\"iPad\";i[p]=k}return i};this.getEngine=function(){var i={};i[u]=a;i[f]=a;rgxMapper.call(i,n,x.engine);return i};this.getOS=function(){var i={};i[u]=a;i[f]=a;rgxMapper.call(i,n,x.os);if(_&&!i[u]&&v&&v.platform!=\"Unknown\"){i[u]=v.platform.replace(/chrome os/i,L).replace(/macos/i,Z)}return i};this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}};this.getUA=function(){return n};this.setUA=function(i){n=typeof i===l&&i.length>q?trim(i,q):i;return this};this.setUA(n);return this};UAParser.VERSION=r;UAParser.BROWSER=enumerize([u,f,d]);UAParser.CPU=enumerize([h]);UAParser.DEVICE=enumerize([c,m,p,v,g,x,k,_,y]);UAParser.ENGINE=UAParser.OS=enumerize([u,f]);if(typeof e!==b){if(\"object\"!==b&&i.exports){e=i.exports=UAParser}e.UAParser=UAParser}else{if(\"function\"===s&&__webpack_require__.amdO){!(__WEBPACK_AMD_DEFINE_RESULT__ = (function(){return UAParser}).call(exports, __webpack_require__, exports, module),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))}else if(typeof o!==b){o.UAParser=UAParser}}var Q=typeof o!==b&&(o.jQuery||o.Zepto);if(Q&&!Q.ua){var Y=new UAParser;Q.ua=Y.getResult();Q.ua.get=function(){return Y.getUA()};Q.ua.set=function(i){Y.setUA(i);var e=Y.getResult();for(var o in e){Q.ua[o]=e[o]}}}})(typeof window===\"object\"?window:this)}};var e={};function __nccwpck_require__(o){var a=e[o];if(a!==undefined){return a.exports}var r=e[o]={exports:{}};var t=true;try{i[o].call(r.exports,r,r.exports,__nccwpck_require__);t=false}finally{if(t)delete e[o]}return r.exports}if(typeof __nccwpck_require__!==\"undefined\")__nccwpck_require__.ab=__dirname+\"/\";var o=__nccwpck_require__(226);module.exports=o})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jb21waWxlZC91YS1wYXJzZXItanMvdWEtcGFyc2VyLmpzIiwibWFwcGluZ3MiOiI7QUFBQSx3Q0FBTSxPQUFPLGtCQUFrQixlQUFlLGFBQWEsdU9BQXVPLHFRQUFxUSx5QkFBeUIsU0FBUyxnQkFBZ0IsNEJBQTRCLHVCQUF1QixLQUFLLFdBQVcsU0FBUyx1QkFBdUIsU0FBUyxZQUFZLFdBQVcsS0FBSywyQkFBMkIsU0FBUyxtQkFBbUIsZ0VBQWdFLHNCQUFzQix1QkFBdUIsc0JBQXNCLDREQUE0RCxvQkFBb0IsaUJBQWlCLHdCQUF3Qix5Q0FBeUMsNEJBQTRCLG9CQUFvQixzQkFBc0Isb0JBQW9CLE1BQU0sc0JBQXNCLFVBQVUsTUFBTSxpQkFBaUIsUUFBUSxRQUFRLFdBQVcsS0FBSyxTQUFTLE9BQU8sNkJBQTZCLGlCQUFpQixtQkFBbUIsNkJBQTZCLEtBQUssaUJBQWlCLHNCQUFzQiw2Q0FBNkMsc0NBQXNDLEtBQUsscUNBQXFDLHNCQUFzQixxREFBcUQsS0FBSyxpQkFBaUIsTUFBTSx5QkFBeUIsZ0JBQWdCLG1DQUFtQyxZQUFZLGNBQWMsS0FBSyxtQkFBbUIsbUJBQW1CLHFCQUFxQixrQkFBa0IsVUFBVSxPQUFPLCtGQUErRixJQUFJLHNLQUFzSyxPQUFPLDJKQUEySixJQUFJLHczQkFBdzNCLElBQUkscTJCQUFxMkIsZ0JBQWdCLGtoQkFBa2hCLEdBQUcseVZBQXlWLDJmQUEyZixxSEFBcUgsZ0NBQWdDLHlDQUF5QyxnSkFBZ0osSUFBSSxtREFBbUQsNENBQTRDLHlDQUF5QywwQ0FBMEMsNkhBQTZILElBQUksV0FBVyxJQUFJLG9NQUFvTSxnQ0FBZ0MsU0FBUyxvRUFBb0UsMENBQTBDLDZHQUE2RyxFQUFFLDhEQUE4RCxzQkFBc0IsSUFBSSxxR0FBcUcsOFRBQThULGlDQUFpQyxFQUFFLDhHQUE4RyxFQUFFLGlCQUFpQix5Q0FBeUMsRUFBRSxVQUFVLHNLQUFzSyxJQUFJLDhEQUE4RCxJQUFJLGtEQUFrRCxFQUFFLGdCQUFnQixFQUFFLEdBQUcsYUFBYSxJQUFJLHFGQUFxRix5SkFBeUosRUFBRSxXQUFXLEVBQUUseUtBQXlLLGVBQWUsSUFBSSxxREFBcUQsRUFBRSxXQUFXLEVBQUUseURBQXlELElBQUkscVBBQXFQLEVBQUUsWUFBWSxFQUFFLHNLQUFzSyxTQUFTLGlFQUFpRSx3REFBd0QsTUFBTSxnTEFBZ0wsSUFBSSxJQUFJLDBHQUEwRyx1RUFBdUUsNkRBQTZELGlDQUFpQyxHQUFHLGdMQUFnTCwrUkFBK1IsSUFBSSw0QkFBNEIsRUFBRSw0QkFBNEIsSUFBSSwyR0FBMkcsaUxBQWlMLElBQUksc0tBQXNLLEVBQUUsZ0ZBQWdGLEVBQUUsdUNBQXVDLEVBQUUsNkNBQTZDLEVBQUUsdUZBQXVGLEVBQUUsbUNBQW1DLEVBQUUsZ0RBQWdELElBQUksb0RBQW9ELElBQUksK2JBQStiLEVBQUUsNENBQTRDLDBFQUEwRSxpR0FBaUcsaURBQWlELDBNQUEwTSw0R0FBNEcsRUFBRSxtREFBbUQsOEZBQThGLFdBQVcsSUFBSSxJQUFJLDJFQUEyRSxrRkFBa0Ysa0hBQWtILFdBQVcsd0hBQXdILHlDQUF5QyxRQUFRLElBQUksNkpBQTZKLElBQUksa0VBQWtFLElBQUksNEVBQTRFLDBEQUEwRCwwRUFBMEUsSUFBSSxFQUFFLHFYQUFxWCxJQUFJLDBGQUEwRixzTkFBc04sSUFBSSw2QkFBNkIsY0FBYyxnWEFBZ1gscUJBQXFCLDZDQUE2QyxrR0FBa0csU0FBUyxrREFBa0QsZ09BQWdPLGtIQUFrSCxZQUFZLCtGQUErRixvWEFBb1gsSUFBSSxtQ0FBbUMsSUFBSSw2UEFBNlAsMkJBQTJCLGlCQUFpQixJQUFJLElBQUksZ0NBQWdDLHFDQUFxQyw4Q0FBOEMsd0NBQXdDLDJDQUEyQyxzQkFBc0Isd0JBQXdCLDJCQUEyQixTQUFTLE9BQU8sT0FBTyw4QkFBOEIsb0JBQW9CLDZDQUE2QyxhQUFhLFVBQVUsdUJBQXVCLFNBQVMsT0FBTywwQkFBMEIsVUFBVSwwQkFBMEIsU0FBUyxPQUFPLE9BQU8sT0FBTyw2QkFBNkIsMEJBQTBCLE9BQU8sMkZBQTJGLFlBQVksT0FBTyxVQUFVLDBCQUEwQixTQUFTLE9BQU8sT0FBTyw2QkFBNkIsVUFBVSxzQkFBc0IsU0FBUyxPQUFPLE9BQU8seUJBQXlCLHVDQUF1Qyw0REFBNEQsVUFBVSwwQkFBMEIsT0FBTyw4SEFBOEgsc0JBQXNCLFVBQVUsdUJBQXVCLHVDQUF1QyxhQUFhLGNBQWMsYUFBYSxtQkFBbUIsb0NBQW9DLDRCQUE0QiwrQ0FBK0MsNkNBQTZDLGlCQUFpQiw0QkFBNEIscUJBQXFCLG9CQUFvQixLQUFLLEdBQUcsVUFBYSxNQUFNLHdCQUFVLEVBQUUsbUNBQVEsV0FBVyxnQkFBZ0I7QUFBQSxrR0FBRSxDQUFDLHNCQUFzQixxQkFBcUIsd0NBQXdDLGFBQWEsbUJBQW1CLG1CQUFtQixvQkFBb0Isa0JBQWtCLHFCQUFxQixXQUFXLG9CQUFvQixnQkFBZ0IsZ0JBQWdCLDBDQUEwQyxTQUFTLGdDQUFnQyxXQUFXLGtCQUFrQixpQkFBaUIsWUFBWSxZQUFZLFdBQVcsSUFBSSxxREFBcUQsUUFBUSxRQUFRLGlCQUFpQixpQkFBaUIsbUVBQW1FLFNBQVMsS0FBSywrQkFBK0IsaUJBQWlCIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxuZXh0XFxkaXN0XFxjb21waWxlZFxcdWEtcGFyc2VyLWpzXFx1YS1wYXJzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiKCgpPT57dmFyIGk9ezIyNjpmdW5jdGlvbihpLGUpeyhmdW5jdGlvbihvLGEpe1widXNlIHN0cmljdFwiO3ZhciByPVwiMS4wLjM1XCIsdD1cIlwiLG49XCI/XCIscz1cImZ1bmN0aW9uXCIsYj1cInVuZGVmaW5lZFwiLHc9XCJvYmplY3RcIixsPVwic3RyaW5nXCIsZD1cIm1ham9yXCIsYz1cIm1vZGVsXCIsdT1cIm5hbWVcIixwPVwidHlwZVwiLG09XCJ2ZW5kb3JcIixmPVwidmVyc2lvblwiLGg9XCJhcmNoaXRlY3R1cmVcIix2PVwiY29uc29sZVwiLGc9XCJtb2JpbGVcIixrPVwidGFibGV0XCIseD1cInNtYXJ0dHZcIixfPVwid2VhcmFibGVcIix5PVwiZW1iZWRkZWRcIixxPTM1MDt2YXIgVD1cIkFtYXpvblwiLFM9XCJBcHBsZVwiLHo9XCJBU1VTXCIsTj1cIkJsYWNrQmVycnlcIixBPVwiQnJvd3NlclwiLEM9XCJDaHJvbWVcIixFPVwiRWRnZVwiLE89XCJGaXJlZm94XCIsVT1cIkdvb2dsZVwiLGo9XCJIdWF3ZWlcIixQPVwiTEdcIixSPVwiTWljcm9zb2Z0XCIsTT1cIk1vdG9yb2xhXCIsQj1cIk9wZXJhXCIsVj1cIlNhbXN1bmdcIixEPVwiU2hhcnBcIixJPVwiU29ueVwiLFc9XCJWaWVyYVwiLEY9XCJYaWFvbWlcIixHPVwiWmVicmFcIixIPVwiRmFjZWJvb2tcIixMPVwiQ2hyb21pdW0gT1NcIixaPVwiTWFjIE9TXCI7dmFyIGV4dGVuZD1mdW5jdGlvbihpLGUpe3ZhciBvPXt9O2Zvcih2YXIgYSBpbiBpKXtpZihlW2FdJiZlW2FdLmxlbmd0aCUyPT09MCl7b1thXT1lW2FdLmNvbmNhdChpW2FdKX1lbHNle29bYV09aVthXX19cmV0dXJuIG99LGVudW1lcml6ZT1mdW5jdGlvbihpKXt2YXIgZT17fTtmb3IodmFyIG89MDtvPGkubGVuZ3RoO28rKyl7ZVtpW29dLnRvVXBwZXJDYXNlKCldPWlbb119cmV0dXJuIGV9LGhhcz1mdW5jdGlvbihpLGUpe3JldHVybiB0eXBlb2YgaT09PWw/bG93ZXJpemUoZSkuaW5kZXhPZihsb3dlcml6ZShpKSkhPT0tMTpmYWxzZX0sbG93ZXJpemU9ZnVuY3Rpb24oaSl7cmV0dXJuIGkudG9Mb3dlckNhc2UoKX0sbWFqb3JpemU9ZnVuY3Rpb24oaSl7cmV0dXJuIHR5cGVvZiBpPT09bD9pLnJlcGxhY2UoL1teXFxkXFwuXS9nLHQpLnNwbGl0KFwiLlwiKVswXTphfSx0cmltPWZ1bmN0aW9uKGksZSl7aWYodHlwZW9mIGk9PT1sKXtpPWkucmVwbGFjZSgvXlxcc1xccyovLHQpO3JldHVybiB0eXBlb2YgZT09PWI/aTppLnN1YnN0cmluZygwLHEpfX07dmFyIHJneE1hcHBlcj1mdW5jdGlvbihpLGUpe3ZhciBvPTAscix0LG4sYixsLGQ7d2hpbGUobzxlLmxlbmd0aCYmIWwpe3ZhciBjPWVbb10sdT1lW28rMV07cj10PTA7d2hpbGUocjxjLmxlbmd0aCYmIWwpe2lmKCFjW3JdKXticmVha31sPWNbcisrXS5leGVjKGkpO2lmKCEhbCl7Zm9yKG49MDtuPHUubGVuZ3RoO24rKyl7ZD1sWysrdF07Yj11W25dO2lmKHR5cGVvZiBiPT09dyYmYi5sZW5ndGg+MCl7aWYoYi5sZW5ndGg9PT0yKXtpZih0eXBlb2YgYlsxXT09cyl7dGhpc1tiWzBdXT1iWzFdLmNhbGwodGhpcyxkKX1lbHNle3RoaXNbYlswXV09YlsxXX19ZWxzZSBpZihiLmxlbmd0aD09PTMpe2lmKHR5cGVvZiBiWzFdPT09cyYmIShiWzFdLmV4ZWMmJmJbMV0udGVzdCkpe3RoaXNbYlswXV09ZD9iWzFdLmNhbGwodGhpcyxkLGJbMl0pOmF9ZWxzZXt0aGlzW2JbMF1dPWQ/ZC5yZXBsYWNlKGJbMV0sYlsyXSk6YX19ZWxzZSBpZihiLmxlbmd0aD09PTQpe3RoaXNbYlswXV09ZD9iWzNdLmNhbGwodGhpcyxkLnJlcGxhY2UoYlsxXSxiWzJdKSk6YX19ZWxzZXt0aGlzW2JdPWQ/ZDphfX19fW8rPTJ9fSxzdHJNYXBwZXI9ZnVuY3Rpb24oaSxlKXtmb3IodmFyIG8gaW4gZSl7aWYodHlwZW9mIGVbb109PT13JiZlW29dLmxlbmd0aD4wKXtmb3IodmFyIHI9MDtyPGVbb10ubGVuZ3RoO3IrKyl7aWYoaGFzKGVbb11bcl0saSkpe3JldHVybiBvPT09bj9hOm99fX1lbHNlIGlmKGhhcyhlW29dLGkpKXtyZXR1cm4gbz09PW4/YTpvfX1yZXR1cm4gaX07dmFyICQ9e1wiMS4wXCI6XCIvOFwiLDEuMjpcIi8xXCIsMS4zOlwiLzNcIixcIjIuMFwiOlwiLzQxMlwiLFwiMi4wLjJcIjpcIi80MTZcIixcIjIuMC4zXCI6XCIvNDE3XCIsXCIyLjAuNFwiOlwiLzQxOVwiLFwiP1wiOlwiL1wifSxYPXtNRTpcIjQuOTBcIixcIk5UIDMuMTFcIjpcIk5UMy41MVwiLFwiTlQgNC4wXCI6XCJOVDQuMFwiLDJlMzpcIk5UIDUuMFwiLFhQOltcIk5UIDUuMVwiLFwiTlQgNS4yXCJdLFZpc3RhOlwiTlQgNi4wXCIsNzpcIk5UIDYuMVwiLDg6XCJOVCA2LjJcIiw4LjE6XCJOVCA2LjNcIiwxMDpbXCJOVCA2LjRcIixcIk5UIDEwLjBcIl0sUlQ6XCJBUk1cIn07dmFyIEs9e2Jyb3dzZXI6W1svXFxiKD86Y3Jtb3xjcmlvcylcXC8oW1xcd1xcLl0rKS9pXSxbZixbdSxcIkNocm9tZVwiXV0sWy9lZGcoPzplfGlvc3xhKT9cXC8oW1xcd1xcLl0rKS9pXSxbZixbdSxcIkVkZ2VcIl1dLFsvKG9wZXJhIG1pbmkpXFwvKFstXFx3XFwuXSspL2ksLyhvcGVyYSBbbW9iaWxldGFiXXszLDZ9KVxcYi4rdmVyc2lvblxcLyhbLVxcd1xcLl0rKS9pLC8ob3BlcmEpKD86Lit2ZXJzaW9uXFwvfFtcXC8gXSspKFtcXHdcXC5dKykvaV0sW3UsZl0sWy9vcGlvc1tcXC8gXSsoW1xcd1xcLl0rKS9pXSxbZixbdSxCK1wiIE1pbmlcIl1dLFsvXFxib3ByXFwvKFtcXHdcXC5dKykvaV0sW2YsW3UsQl1dLFsvKGtpbmRsZSlcXC8oW1xcd1xcLl0rKS9pLC8obHVuYXNjYXBlfG1heHRob258bmV0ZnJvbnR8amFzbWluZXxibGF6ZXIpW1xcLyBdPyhbXFx3XFwuXSopL2ksLyhhdmFudCB8aWVtb2JpbGV8c2xpbSkoPzpicm93c2VyKT9bXFwvIF0/KFtcXHdcXC5dKikvaSwvKGJhP2lkdWJyb3dzZXIpW1xcLyBdPyhbXFx3XFwuXSspL2ksLyg/Om1zfFxcKCkoaWUpIChbXFx3XFwuXSspL2ksLyhmbG9ja3xyb2NrbWVsdHxtaWRvcml8ZXBpcGhhbnl8c2lsa3xza3lmaXJlfGJvbHR8aXJvbnx2aXZhbGRpfGlyaWRpdW18cGhhbnRvbWpzfGJvd3NlcnxxdWFya3xxdXB6aWxsYXxmYWxrb258cmVrb25xfHB1ZmZpbnxicmF2ZXx3aGFsZSg/IS4rbmF2ZXIpfHFxYnJvd3NlcmxpdGV8cXF8ZHVja2R1Y2tnbylcXC8oWy1cXHdcXC5dKykvaSwvKGhleXRhcHxvdmkpYnJvd3NlclxcLyhbXFxkXFwuXSspL2ksLyh3ZWlibylfXyhbXFxkXFwuXSspL2ldLFt1LGZdLFsvKD86XFxidWM/ID9icm93c2VyfCg/Omp1Yy4rKXVjd2ViKVtcXC8gXT8oW1xcd1xcLl0rKS9pXSxbZixbdSxcIlVDXCIrQV1dLFsvbWljcm9tLitcXGJxYmNvcmVcXC8oW1xcd1xcLl0rKS9pLC9cXGJxYmNvcmVcXC8oW1xcd1xcLl0rKS4rbWljcm9tL2ldLFtmLFt1LFwiV2VDaGF0KFdpbikgRGVza3RvcFwiXV0sWy9taWNyb21lc3NlbmdlclxcLyhbXFx3XFwuXSspL2ldLFtmLFt1LFwiV2VDaGF0XCJdXSxbL2tvbnF1ZXJvclxcLyhbXFx3XFwuXSspL2ldLFtmLFt1LFwiS29ucXVlcm9yXCJdXSxbL3RyaWRlbnQuK3J2WzogXShbXFx3XFwuXXsxLDl9KVxcYi4rbGlrZSBnZWNrby9pXSxbZixbdSxcIklFXCJdXSxbL3lhKD86c2VhcmNoKT9icm93c2VyXFwvKFtcXHdcXC5dKykvaV0sW2YsW3UsXCJZYW5kZXhcIl1dLFsvKGF2YXN0fGF2ZylcXC8oW1xcd1xcLl0rKS9pXSxbW3UsLyguKykvLFwiJDEgU2VjdXJlIFwiK0FdLGZdLFsvXFxiZm9jdXNcXC8oW1xcd1xcLl0rKS9pXSxbZixbdSxPK1wiIEZvY3VzXCJdXSxbL1xcYm9wdFxcLyhbXFx3XFwuXSspL2ldLFtmLFt1LEIrXCIgVG91Y2hcIl1dLFsvY29jX2NvY1xcdytcXC8oW1xcd1xcLl0rKS9pXSxbZixbdSxcIkNvYyBDb2NcIl1dLFsvZG9sZmluXFwvKFtcXHdcXC5dKykvaV0sW2YsW3UsXCJEb2xwaGluXCJdXSxbL2NvYXN0XFwvKFtcXHdcXC5dKykvaV0sW2YsW3UsQitcIiBDb2FzdFwiXV0sWy9taXVpYnJvd3NlclxcLyhbXFx3XFwuXSspL2ldLFtmLFt1LFwiTUlVSSBcIitBXV0sWy9meGlvc1xcLyhbLVxcd1xcLl0rKS9pXSxbZixbdSxPXV0sWy9cXGJxaWh1fChxaT9obz9vP3wzNjApYnJvd3Nlci9pXSxbW3UsXCIzNjAgXCIrQV1dLFsvKG9jdWx1c3xzYW1zdW5nfHNhaWxmaXNofGh1YXdlaSlicm93c2VyXFwvKFtcXHdcXC5dKykvaV0sW1t1LC8oLispLyxcIiQxIFwiK0FdLGZdLFsvKGNvbW9kb19kcmFnb24pXFwvKFtcXHdcXC5dKykvaV0sW1t1LC9fL2csXCIgXCJdLGZdLFsvKGVsZWN0cm9uKVxcLyhbXFx3XFwuXSspIHNhZmFyaS9pLC8odGVzbGEpKD86IHF0Y2FyYnJvd3NlcnxcXC8oMjBcXGRcXGRcXC5bLVxcd1xcLl0rKSkvaSwvbT8ocXFicm93c2VyfGJhaWR1Ym94YXBwfDIzNDVFeHBsb3JlcilbXFwvIF0/KFtcXHdcXC5dKykvaV0sW3UsZl0sWy8obWV0YXNyKVtcXC8gXT8oW1xcd1xcLl0rKS9pLC8obGJicm93c2VyKS9pLC9cXFsobGlua2VkaW4pYXBwXFxdL2ldLFt1XSxbLygoPzpmYmFuXFwvZmJpb3N8ZmJfaWFiXFwvZmI0YSkoPyEuK2ZiYXYpfDtmYmF2XFwvKFtcXHdcXC5dKyk7KS9pXSxbW3UsSF0sZl0sWy8oa2FrYW8oPzp0YWxrfHN0b3J5KSlbXFwvIF0oW1xcd1xcLl0rKS9pLC8obmF2ZXIpXFwoLio/KFxcZCtcXC5bXFx3XFwuXSspLipcXCkvaSwvc2FmYXJpIChsaW5lKVxcLyhbXFx3XFwuXSspL2ksL1xcYihsaW5lKVxcLyhbXFx3XFwuXSspXFwvaWFiL2ksLyhjaHJvbWl1bXxpbnN0YWdyYW0pW1xcLyBdKFstXFx3XFwuXSspL2ldLFt1LGZdLFsvXFxiZ3NhXFwvKFtcXHdcXC5dKykgLipzYWZhcmlcXC8vaV0sW2YsW3UsXCJHU0FcIl1dLFsvbXVzaWNhbF9seSg/Oi4rYXBwXz92ZXJzaW9uXFwvfF8pKFtcXHdcXC5dKykvaV0sW2YsW3UsXCJUaWtUb2tcIl1dLFsvaGVhZGxlc3NjaHJvbWUoPzpcXC8oW1xcd1xcLl0rKXwgKS9pXSxbZixbdSxDK1wiIEhlYWRsZXNzXCJdXSxbLyB3dlxcKS4rKGNocm9tZSlcXC8oW1xcd1xcLl0rKS9pXSxbW3UsQytcIiBXZWJWaWV3XCJdLGZdLFsvZHJvaWQuKyB2ZXJzaW9uXFwvKFtcXHdcXC5dKylcXGIuKyg/Om1vYmlsZSBzYWZhcml8c2FmYXJpKS9pXSxbZixbdSxcIkFuZHJvaWQgXCIrQV1dLFsvKGNocm9tZXxvbW5pd2VifGFyb3JhfFt0aXplbm9rYV17NX0gP2Jyb3dzZXIpXFwvdj8oW1xcd1xcLl0rKS9pXSxbdSxmXSxbL3ZlcnNpb25cXC8oW1xcd1xcLlxcLF0rKSAuKm1vYmlsZVxcL1xcdysgKHNhZmFyaSkvaV0sW2YsW3UsXCJNb2JpbGUgU2FmYXJpXCJdXSxbL3ZlcnNpb25cXC8oW1xcdyhcXC58XFwsKV0rKSAuKihtb2JpbGUgP3NhZmFyaXxzYWZhcmkpL2ldLFtmLHVdLFsvd2Via2l0Lis/KG1vYmlsZSA/c2FmYXJpfHNhZmFyaSkoXFwvW1xcd1xcLl0rKS9pXSxbdSxbZixzdHJNYXBwZXIsJF1dLFsvKHdlYmtpdHxraHRtbClcXC8oW1xcd1xcLl0rKS9pXSxbdSxmXSxbLyhuYXZpZ2F0b3J8bmV0c2NhcGVcXGQ/KVxcLyhbLVxcd1xcLl0rKS9pXSxbW3UsXCJOZXRzY2FwZVwiXSxmXSxbL21vYmlsZSB2cjsgcnY6KFtcXHdcXC5dKylcXCkuK2ZpcmVmb3gvaV0sW2YsW3UsTytcIiBSZWFsaXR5XCJdXSxbL2VraW9oZi4rKGZsb3cpXFwvKFtcXHdcXC5dKykvaSwvKHN3aWZ0Zm94KS9pLC8oaWNlZHJhZ29ufGljZXdlYXNlbHxjYW1pbm98Y2hpbWVyYXxmZW5uZWN8bWFlbW8gYnJvd3NlcnxtaW5pbW98Y29ua2Vyb3J8a2xhcilbXFwvIF0/KFtcXHdcXC5cXCtdKykvaSwvKHNlYW1vbmtleXxrLW1lbGVvbnxpY2VjYXR8aWNlYXBlfGZpcmViaXJkfHBob2VuaXh8cGFsZW1vb258YmFzaWxpc2t8d2F0ZXJmb3gpXFwvKFstXFx3XFwuXSspJC9pLC8oZmlyZWZveClcXC8oW1xcd1xcLl0rKS9pLC8obW96aWxsYSlcXC8oW1xcd1xcLl0rKSAuK3J2XFw6LitnZWNrb1xcL1xcZCsvaSwvKHBvbGFyaXN8bHlueHxkaWxsb3xpY2FifGRvcmlzfGFtYXlhfHczbXxuZXRzdXJmfHNsZWlwbmlyfG9iaWdvfG1vc2FpY3woPzpnb3xpY2V8dXApW1xcLiBdP2Jyb3dzZXIpWy1cXC8gXT92PyhbXFx3XFwuXSspL2ksLyhsaW5rcykgXFwoKFtcXHdcXC5dKykvaSwvcGFuYXNvbmljOyh2aWVyYSkvaV0sW3UsZl0sWy8oY29iYWx0KVxcLyhbXFx3XFwuXSspL2ldLFt1LFtmLC9tYXN0ZXIufGx0cy4vLFwiXCJdXV0sY3B1OltbLyg/OihhbWR8eCg/Oig/Ojg2fDY0KVstX10pP3x3b3d8d2luKTY0KVs7XFwpXS9pXSxbW2gsXCJhbWQ2NFwiXV0sWy8oaWEzMig/PTspKS9pXSxbW2gsbG93ZXJpemVdXSxbLygoPzppWzM0Nl18eCk4NilbO1xcKV0vaV0sW1toLFwiaWEzMlwiXV0sWy9cXGIoYWFyY2g2NHxhcm0odj84ZT9sP3xfPzY0KSlcXGIvaV0sW1toLFwiYXJtNjRcIl1dLFsvXFxiKGFybSg/OnZbNjddKT9odD9uP1tmbF1wPylcXGIvaV0sW1toLFwiYXJtaGZcIl1dLFsvd2luZG93cyAoY2V8bW9iaWxlKTsgcHBjOy9pXSxbW2gsXCJhcm1cIl1dLFsvKCg/OnBwY3xwb3dlcnBjKSg/OjY0KT8pKD86IG1hY3w7fFxcKSkvaV0sW1toLC9vd2VyLyx0LGxvd2VyaXplXV0sWy8oc3VuNFxcdylbO1xcKV0vaV0sW1toLFwic3BhcmNcIl1dLFsvKCg/OmF2cjMyfGlhNjQoPz07KSl8NjhrKD89XFwpKXxcXGJhcm0oPz12KD86WzEtN118WzUtN10xKWw/fDt8ZWFiaSl8KD89YXRtZWwgKWF2cnwoPzppcml4fG1pcHN8c3BhcmMpKD86NjQpP1xcYnxwYS1yaXNjKS9pXSxbW2gsbG93ZXJpemVdXV0sZGV2aWNlOltbL1xcYihzY2gtaVs4OV0wXFxkfHNody1tMzgwc3xzbS1bcHR4XVxcd3syLDR9fGd0LVtwbl1cXGR7Miw0fXxzZ2gtdDhbNTZdOXxuZXh1cyAxMCkvaV0sW2MsW20sVl0sW3Asa11dLFsvXFxiKCg/OnNbY2dwXWh8Z3R8c20pLVxcdyt8c2NbZy1dP1tcXGRdK2E/fGdhbGF4eSBuZXh1cykvaSwvc2Ftc3VuZ1stIF0oWy1cXHddKykvaSwvc2VjLShzZ2hcXHcrKS9pXSxbYyxbbSxWXSxbcCxnXV0sWy8oPzpcXC98XFwoKShpcCg/OmhvbmV8b2QpW1xcdywgXSopKD86XFwvfDspL2ldLFtjLFttLFNdLFtwLGddXSxbL1xcKChpcGFkKTtbLVxcd1xcKSw7IF0rYXBwbGUvaSwvYXBwbGVjb3JlbWVkaWFcXC9bXFx3XFwuXSsgXFwoKGlwYWQpL2ksL1xcYihpcGFkKVxcZFxcZD8sXFxkXFxkP1s7XFxdXS4raW9zL2ldLFtjLFttLFNdLFtwLGtdXSxbLyhtYWNpbnRvc2gpOy9pXSxbYyxbbSxTXV0sWy9cXGIoc2gtP1thbHR2el0/XFxkXFxkW2EtZWttXT8pL2ldLFtjLFttLERdLFtwLGddXSxbL1xcYigoPzphZ1tyc11bMjNdP3xiYWgyP3xzaHQ/fGJ0diktYT9bbHddXFxkezJ9KVxcYig/IS4rZFxcL3MpL2ldLFtjLFttLGpdLFtwLGtdXSxbLyg/Omh1YXdlaXxob25vcikoWy1cXHcgXSspWztcXCldL2ksL1xcYihuZXh1cyA2cHxcXHd7Miw0fWU/LVthdHVdP1tsbl1bXFxkeF1bMDEyMzU5Y11bYWRuXT8pXFxiKD8hLitkXFwvcykvaV0sW2MsW20sal0sW3AsZ11dLFsvXFxiKHBvY29bXFx3IF0rKSg/OiBidWl8XFwpKS9pLC9cXGI7IChcXHcrKSBidWlsZFxcL2htXFwxL2ksL1xcYihobVstXyBdP25vdGU/W18gXT8oPzpcXGRcXHcpPykgYnVpL2ksL1xcYihyZWRtaVtcXC1fIF0/KD86bm90ZXxrKT9bXFx3XyBdKykoPzogYnVpfFxcKSkvaSwvXFxiKG1pWy1fIF0/KD86YVxcZHxvbmV8b25lW18gXXBsdXN8bm90ZSBsdGV8bWF4fGNjKT9bXyBdPyg/OlxcZD9cXHc/KVtfIF0/KD86cGx1c3xzZXxsaXRlKT8pKD86IGJ1aXxcXCkpL2ldLFtbYywvXy9nLFwiIFwiXSxbbSxGXSxbcCxnXV0sWy9cXGIobWlbLV8gXT8oPzpwYWQpKD86W1xcd18gXSspKSg/OiBidWl8XFwpKS9pXSxbW2MsL18vZyxcIiBcIl0sW20sRl0sW3Asa11dLFsvOyAoXFx3KykgYnVpLisgb3Bwby9pLC9cXGIoY3BoWzEyXVxcZHszfXxwKD86YWZ8Y1thbF18ZFxcd3xlW2FyXSlbbXRdXFxkMHx4OTAwN3xhMTAxb3ApXFxiL2ldLFtjLFttLFwiT1BQT1wiXSxbcCxnXV0sWy92aXZvIChcXHcrKSg/OiBidWl8XFwpKS9pLC9cXGIodlsxMl1cXGR7M31cXHc/W2F0XSkoPzogYnVpfDspL2ldLFtjLFttLFwiVml2b1wiXSxbcCxnXV0sWy9cXGIocm14WzEyXVxcZHszfSkoPzogYnVpfDt8XFwpKS9pXSxbYyxbbSxcIlJlYWxtZVwiXSxbcCxnXV0sWy9cXGIobWlsZXN0b25lfGRyb2lkKD86WzItNHhdfCAoPzpiaW9uaWN8eDJ8cHJvfHJhenIpKT86PyggNGcpPylcXGJbXFx3IF0rYnVpbGRcXC8vaSwvXFxibW90KD86b3JvbGEpP1stIF0oXFx3KikvaSwvKCg/Om1vdG9bXFx3XFwoXFwpIF0rfHh0XFxkezMsNH18bmV4dXMgNikoPz0gYnVpfFxcKSkpL2ldLFtjLFttLE1dLFtwLGddXSxbL1xcYihtejYwXFxkfHhvb21bMiBdezAsMn0pIGJ1aWxkXFwvL2ldLFtjLFttLE1dLFtwLGtdXSxbLygoPz1sZyk/W3ZsXWtcXC0/XFxkezN9KSBidWl8IDNcXC5bLVxcdzsgXXsxMH1sZz8tKFswNmN2OV17Myw0fSkvaV0sW2MsW20sUF0sW3Asa11dLFsvKGxtKD86LT9mMTAwW252XT98LVtcXHdcXC5dKykoPz0gYnVpfFxcKSl8bmV4dXMgWzQ1XSkvaSwvXFxibGdbLWU7XFwvIF0rKCg/IWJyb3dzZXJ8bmV0Y2FzdHxhbmRyb2lkIHR2KVxcdyspL2ksL1xcYmxnLT8oW1xcZFxcd10rKSBidWkvaV0sW2MsW20sUF0sW3AsZ11dLFsvKGlkZWF0YWJbLVxcdyBdKykvaSwvbGVub3ZvID8oc1s1Nl0wMDBbLVxcd10rfHRhYig/OltcXHcgXSspfHl0Wy1cXGRcXHddezZ9fHRiWy1cXGRcXHddezZ9KS9pXSxbYyxbbSxcIkxlbm92b1wiXSxbcCxrXV0sWy8oPzptYWVtb3xub2tpYSkuKihuOTAwfGx1bWlhIFxcZCspL2ksL25va2lhWy1fIF0/KFstXFx3XFwuXSopL2ldLFtbYywvXy9nLFwiIFwiXSxbbSxcIk5va2lhXCJdLFtwLGddXSxbLyhwaXhlbCBjKVxcYi9pXSxbYyxbbSxVXSxbcCxrXV0sWy9kcm9pZC4rOyAocGl4ZWxbXFxkYXhsIF17MCw2fSkoPzogYnVpfFxcKSkvaV0sW2MsW20sVV0sW3AsZ11dLFsvZHJvaWQuKyAoYT9cXGRbMC0yXXsyfXNvfFtjLWddXFxkezR9fHNvWy1nbF1cXHcrfHhxLWFcXHdbNC03XVsxMl0pKD89IGJ1aXxcXCkuK2Nocm9tZVxcLyg/IVsxLTZdezAsMX1cXGRcXC4pKS9pXSxbYyxbbSxJXSxbcCxnXV0sWy9zb255IHRhYmxldCBbcHNdL2ksL1xcYig/OnNvbnkpP3NncFxcdysoPzogYnVpfFxcKSkvaV0sW1tjLFwiWHBlcmlhIFRhYmxldFwiXSxbbSxJXSxbcCxrXV0sWy8gKGtiMjAwNXxpbjIwWzEyXTV8YmUyMFsxMl1bNTldKVxcYi9pLC8oPzpvbmUpPyg/OnBsdXMpPyAoYVxcZDBcXGRcXGQpKD86IGJ8XFwpKS9pXSxbYyxbbSxcIk9uZVBsdXNcIl0sW3AsZ11dLFsvKGFsZXhhKXdlYm0vaSwvKGtmW2Etel17Mn13aXxhZW9bYy1yXXsyfSkoIGJ1aXxcXCkpL2ksLyhrZlthLXpdKykoIGJ1aXxcXCkpLitzaWxrXFwvL2ldLFtjLFttLFRdLFtwLGtdXSxbLygoPzpzZHxrZilbMDM0OWhpam9yc3R1d10rKSggYnVpfFxcKSkuK3NpbGtcXC8vaV0sW1tjLC8oLispL2csXCJGaXJlIFBob25lICQxXCJdLFttLFRdLFtwLGddXSxbLyhwbGF5Ym9vayk7Wy1cXHdcXCksOyBdKyhyaW0pL2ldLFtjLG0sW3Asa11dLFsvXFxiKCg/OmJiW2EtZl18c3RbaHZdKTEwMC1cXGQpL2ksL1xcKGJiMTA7IChcXHcrKS9pXSxbYyxbbSxOXSxbcCxnXV0sWy8oPzpcXGJ8YXN1c18pKHRyYW5zZm9bcHJpbWUgXXs0LDEwfSBcXHcrfGVlZXBjfHNsaWRlciBcXHcrfG5leHVzIDd8cGFkZm9uZXxwMDBbY2pdKS9pXSxbYyxbbSx6XSxbcCxrXV0sWy8gKHpbYmVzXTZbMDI3XVswMTJdW2ttXVtsc118emVuZm9uZSBcXGRcXHc/KVxcYi9pXSxbYyxbbSx6XSxbcCxnXV0sWy8obmV4dXMgOSkvaV0sW2MsW20sXCJIVENcIl0sW3Asa11dLFsvKGh0YylbLTtfIF17MSwyfShbXFx3IF0rKD89XFwpfCBidWkpfFxcdyspL2ksLyh6dGUpWy0gXShbXFx3IF0rPykoPzogYnVpfFxcL3xcXCkpL2ksLyhhbGNhdGVsfGdlZWtzcGhvbmV8bmV4aWFufHBhbmFzb25pYyg/ISg/Ojt8XFwuKSl8c29ueSg/IS1icmEpKVstXyBdPyhbLVxcd10qKS9pXSxbbSxbYywvXy9nLFwiIFwiXSxbcCxnXV0sWy9kcm9pZC4rOyAoW2FiXVsxLTddLT9bMDE3OGFdXFxkXFxkPykvaV0sW2MsW20sXCJBY2VyXCJdLFtwLGtdXSxbL2Ryb2lkLis7IChtWzEtNV0gbm90ZSkgYnVpL2ksL1xcYm16LShbLVxcd117Mix9KS9pXSxbYyxbbSxcIk1laXp1XCJdLFtwLGddXSxbLyhibGFja2JlcnJ5fGJlbnF8cGFsbSg/PVxcLSl8c29ueWVyaWNzc29ufGFjZXJ8YXN1c3xkZWxsfG1laXp1fG1vdG9yb2xhfHBvbHl0cm9uKVstXyBdPyhbLVxcd10qKS9pLC8oaHApIChbXFx3IF0rXFx3KS9pLC8oYXN1cyktPyhcXHcrKS9pLC8obWljcm9zb2Z0KTsgKGx1bWlhW1xcdyBdKykvaSwvKGxlbm92bylbLV8gXT8oWy1cXHddKykvaSwvKGpvbGxhKS9pLC8ob3BwbykgPyhbXFx3IF0rKSBidWkvaV0sW20sYyxbcCxnXV0sWy8oa29ibylcXHMoZXJlYWRlcnx0b3VjaCkvaSwvKGFyY2hvcykgKGdhbWVwYWQyPykvaSwvKGhwKS4rKHRvdWNocGFkKD8hLit0YWJsZXQpfHRhYmxldCkvaSwvKGtpbmRsZSlcXC8oW1xcd1xcLl0rKS9pLC8obm9vaylbXFx3IF0rYnVpbGRcXC8oXFx3KykvaSwvKGRlbGwpIChzdHJlYVtrcHJcXGQgXSpbXFxka29dKS9pLC8obGVbLSBdK3BhbilbLSBdKyhcXHd7MSw5fSkgYnVpL2ksLyh0cmluaXR5KVstIF0qKHRcXGR7M30pIGJ1aS9pLC8oZ2lnYXNldClbLSBdKyhxXFx3ezEsOX0pIGJ1aS9pLC8odm9kYWZvbmUpIChbXFx3IF0rKSg/OlxcKXwgYnVpKS9pXSxbbSxjLFtwLGtdXSxbLyhzdXJmYWNlIGR1bykvaV0sW2MsW20sUl0sW3Asa11dLFsvZHJvaWQgW1xcZFxcLl0rOyAoZnBcXGR1PykoPzogYnxcXCkpL2ldLFtjLFttLFwiRmFpcnBob25lXCJdLFtwLGddXSxbLyh1MzA0YWEpL2ldLFtjLFttLFwiQVQmVFwiXSxbcCxnXV0sWy9cXGJzaWUtKFxcdyopL2ldLFtjLFttLFwiU2llbWVuc1wiXSxbcCxnXV0sWy9cXGIocmN0XFx3KykgYi9pXSxbYyxbbSxcIlJDQVwiXSxbcCxrXV0sWy9cXGIodmVudWVbXFxkIF17Miw3fSkgYi9pXSxbYyxbbSxcIkRlbGxcIl0sW3Asa11dLFsvXFxiKHEoPzptdnx0YSlcXHcrKSBiL2ldLFtjLFttLFwiVmVyaXpvblwiXSxbcCxrXV0sWy9cXGIoPzpiYXJuZXNbJiBdK25vYmxlIHxibltydF0pKFtcXHdcXCsgXSopIGIvaV0sW2MsW20sXCJCYXJuZXMgJiBOb2JsZVwiXSxbcCxrXV0sWy9cXGIodG1cXGR7M31cXHcrKSBiL2ldLFtjLFttLFwiTnVWaXNpb25cIl0sW3Asa11dLFsvXFxiKGs4OCkgYi9pXSxbYyxbbSxcIlpURVwiXSxbcCxrXV0sWy9cXGIobnhcXGR7M31qKSBiL2ldLFtjLFttLFwiWlRFXCJdLFtwLGddXSxbL1xcYihnZW5cXGR7M30pIGIuKzQ5aC9pXSxbYyxbbSxcIlN3aXNzXCJdLFtwLGddXSxbL1xcYih6dXJcXGR7M30pIGIvaV0sW2MsW20sXCJTd2lzc1wiXSxbcCxrXV0sWy9cXGIoKHpla2kpP3RiLipcXGIpIGIvaV0sW2MsW20sXCJaZWtpXCJdLFtwLGtdXSxbL1xcYihbeXJdXFxkezJ9KSBiL2ksL1xcYihkcmFnb25bLSBdK3RvdWNoIHxkdCkoXFx3ezV9KSBiL2ldLFtbbSxcIkRyYWdvbiBUb3VjaFwiXSxjLFtwLGtdXSxbL1xcYihucy0/XFx3ezAsOX0pIGIvaV0sW2MsW20sXCJJbnNpZ25pYVwiXSxbcCxrXV0sWy9cXGIoKG54YXxuZXh0KS0/XFx3ezAsOX0pIGIvaV0sW2MsW20sXCJOZXh0Qm9va1wiXSxbcCxrXV0sWy9cXGIoeHRyZW1lXFxfKT8odigxWzA0NV18MlswMTVdfFszNDY5XTB8N1swNV0pKSBiL2ldLFtbbSxcIlZvaWNlXCJdLGMsW3AsZ11dLFsvXFxiKGx2dGVsXFwtKT8odjFbMTJdKSBiL2ldLFtbbSxcIkx2VGVsXCJdLGMsW3AsZ11dLFsvXFxiKHBoLTEpIC9pXSxbYyxbbSxcIkVzc2VudGlhbFwiXSxbcCxnXV0sWy9cXGIodigxMDBtZHw3MDBuYXw3MDExfDkxN2cpLipcXGIpIGIvaV0sW2MsW20sXCJFbnZpemVuXCJdLFtwLGtdXSxbL1xcYih0cmlvWy1cXHdcXC4gXSspIGIvaV0sW2MsW20sXCJNYWNoU3BlZWRcIl0sW3Asa11dLFsvXFxidHVfKDE0OTEpIGIvaV0sW2MsW20sXCJSb3RvclwiXSxbcCxrXV0sWy8oc2hpZWxkW1xcdyBdKykgYi9pXSxbYyxbbSxcIk52aWRpYVwiXSxbcCxrXV0sWy8oc3ByaW50KSAoXFx3KykvaV0sW20sYyxbcCxnXV0sWy8oa2luXFwuW29uZXR3XXszfSkvaV0sW1tjLC9cXC4vZyxcIiBcIl0sW20sUl0sW3AsZ11dLFsvZHJvaWQuKzsgKGNjNjY2Nj98ZXQ1WzE2XXxtY1syMzldWzIzXXg/fHZjOFswM114PylcXCkvaV0sW2MsW20sR10sW3Asa11dLFsvZHJvaWQuKzsgKGVjMzB8cHMyMHx0Y1syLThdXFxkW2t4XSlcXCkvaV0sW2MsW20sR10sW3AsZ11dLFsvc21hcnQtdHYuKyhzYW1zdW5nKS9pXSxbbSxbcCx4XV0sWy9oYmJ0di4rbWFwbGU7KFxcZCspL2ldLFtbYywvXi8sXCJTbWFydFRWXCJdLFttLFZdLFtwLHhdXSxbLyhudXg7IG5ldGNhc3QuK3NtYXJ0dHZ8bGcgKG5ldGNhc3RcXC50di0yMDFcXGR8YW5kcm9pZCB0dikpL2ldLFtbbSxQXSxbcCx4XV0sWy8oYXBwbGUpID90di9pXSxbbSxbYyxTK1wiIFRWXCJdLFtwLHhdXSxbL2Nya2V5L2ldLFtbYyxDK1wiY2FzdFwiXSxbbSxVXSxbcCx4XV0sWy9kcm9pZC4rYWZ0KFxcdykoIGJ1aXxcXCkpL2ldLFtjLFttLFRdLFtwLHhdXSxbL1xcKGR0dltcXCk7XS4rKGFxdW9zKS9pLC8oYXF1b3MtdHZbXFx3IF0rKVxcKS9pXSxbYyxbbSxEXSxbcCx4XV0sWy8oYnJhdmlhW1xcdyBdKykoIGJ1aXxcXCkpL2ldLFtjLFttLEldLFtwLHhdXSxbLyhtaXR2LVxcd3s1fSkgYnVpL2ldLFtjLFttLEZdLFtwLHhdXSxbL0hiYnR2LioodGVjaG5pc2F0KSAoLiopOy9pXSxbbSxjLFtwLHhdXSxbL1xcYihyb2t1KVtcXGR4XSpbXFwpXFwvXSgoPzpkdnAtKT9bXFxkXFwuXSopL2ksL2hiYnR2XFwvXFxkK1xcLlxcZCtcXC5cXGQrICtcXChbXFx3XFwrIF0qOyAqKFtcXHdcXGRdW147XSopOyhbXjtdKikvaV0sW1ttLHRyaW1dLFtjLHRyaW1dLFtwLHhdXSxbL1xcYihhbmRyb2lkIHR2fHNtYXJ0Wy0gXT90dnxvcGVyYSB0dnx0djsgcnY6KVxcYi9pXSxbW3AseF1dLFsvKG91eWEpL2ksLyhuaW50ZW5kbykgKFt3aWRzM3V0Y2hdKykvaV0sW20sYyxbcCx2XV0sWy9kcm9pZC4rOyAoc2hpZWxkKSBidWkvaV0sW2MsW20sXCJOdmlkaWFcIl0sW3Asdl1dLFsvKHBsYXlzdGF0aW9uIFszNDVwb3J0YWJsZXZpXSspL2ldLFtjLFttLEldLFtwLHZdXSxbL1xcYih4Ym94KD86IG9uZSk/KD8hOyB4Ym94KSlbXFwpOyBdL2ldLFtjLFttLFJdLFtwLHZdXSxbLygocGViYmxlKSlhcHAvaV0sW20sYyxbcCxfXV0sWy8od2F0Y2gpKD86ID9vc1ssXFwvXXxcXGQsXFxkXFwvKVtcXGRcXC5dKy9pXSxbYyxbbSxTXSxbcCxfXV0sWy9kcm9pZC4rOyAoZ2xhc3MpIFxcZC9pXSxbYyxbbSxVXSxbcCxfXV0sWy9kcm9pZC4rOyAod3Q2Mz8wezIsM30pXFwpL2ldLFtjLFttLEddLFtwLF9dXSxbLyhxdWVzdCggMnwgcHJvKT8pL2ldLFtjLFttLEhdLFtwLF9dXSxbLyh0ZXNsYSkoPzogcXRjYXJicm93c2VyfFxcL1stXFx3XFwuXSspL2ldLFttLFtwLHldXSxbLyhhZW9iYylcXGIvaV0sW2MsW20sVF0sW3AseV1dLFsvZHJvaWQgLis/OyAoW147XSs/KSg/OiBidWl8XFwpIGFwcGxldykuKz8gbW9iaWxlIHNhZmFyaS9pXSxbYyxbcCxnXV0sWy9kcm9pZCAuKz87IChbXjtdKz8pKD86IGJ1aXxcXCkgYXBwbGV3KS4rPyg/ISBtb2JpbGUpIHNhZmFyaS9pXSxbYyxbcCxrXV0sWy9cXGIoKHRhYmxldHx0YWIpWztcXC9dfGZvY3VzXFwvXFxkKD8hLittb2JpbGUpKS9pXSxbW3Asa11dLFsvKHBob25lfG1vYmlsZSg/Ols7XFwvXXwgWyBcXHdcXC9cXC5dKnNhZmFyaSl8cGRhKD89Lit3aW5kb3dzIGNlKSkvaV0sW1twLGddXSxbLyhhbmRyb2lkWy1cXHdcXC4gXXswLDl9KTsuK2J1aWwvaV0sW2MsW20sXCJHZW5lcmljXCJdXV0sZW5naW5lOltbL3dpbmRvd3MuKyBlZGdlXFwvKFtcXHdcXC5dKykvaV0sW2YsW3UsRStcIkhUTUxcIl1dLFsvd2Via2l0XFwvNTM3XFwuMzYuK2Nocm9tZVxcLyg/ITI3KShbXFx3XFwuXSspL2ldLFtmLFt1LFwiQmxpbmtcIl1dLFsvKHByZXN0bylcXC8oW1xcd1xcLl0rKS9pLC8od2Via2l0fHRyaWRlbnR8bmV0ZnJvbnR8bmV0c3VyZnxhbWF5YXxseW54fHczbXxnb2FubmEpXFwvKFtcXHdcXC5dKykvaSwvZWtpb2goZmxvdylcXC8oW1xcd1xcLl0rKS9pLC8oa2h0bWx8dGFzbWFufGxpbmtzKVtcXC8gXVxcKD8oW1xcd1xcLl0rKS9pLC8oaWNhYilbXFwvIF0oWzIzXVxcLltcXGRcXC5dKykvaSwvXFxiKGxpYndlYikvaV0sW3UsZl0sWy9ydlxcOihbXFx3XFwuXXsxLDl9KVxcYi4rKGdlY2tvKS9pXSxbZix1XV0sb3M6W1svbWljcm9zb2Z0ICh3aW5kb3dzKSAodmlzdGF8eHApL2ldLFt1LGZdLFsvKHdpbmRvd3MpIG50IDZcXC4yOyAoYXJtKS9pLC8od2luZG93cyAoPzpwaG9uZSg/OiBvcyk/fG1vYmlsZSkpW1xcLyBdPyhbXFxkXFwuXFx3IF0qKS9pLC8od2luZG93cylbXFwvIF0/KFtudGNlXFxkXFwuIF0rXFx3KSg/IS4reGJveCkvaV0sW3UsW2Ysc3RyTWFwcGVyLFhdXSxbLyh3aW4oPz0zfDl8bil8d2luIDl4ICkoW250XFxkXFwuXSspL2ldLFtbdSxcIldpbmRvd3NcIl0sW2Ysc3RyTWFwcGVyLFhdXSxbL2lwW2hvbmVhZF17Miw0fVxcYig/Oi4qb3MgKFtcXHddKykgbGlrZSBtYWN8OyBvcGVyYSkvaSwvaW9zO2Zic3ZcXC8oW1xcZFxcLl0rKS9pLC9jZm5ldHdvcmtcXC8uK2Rhcndpbi9pXSxbW2YsL18vZyxcIi5cIl0sW3UsXCJpT1NcIl1dLFsvKG1hYyBvcyB4KSA/KFtcXHdcXC4gXSopL2ksLyhtYWNpbnRvc2h8bWFjX3Bvd2VycGNcXGIpKD8hLitoYWlrdSkvaV0sW1t1LFpdLFtmLC9fL2csXCIuXCJdXSxbL2Ryb2lkIChbXFx3XFwuXSspXFxiLisoYW5kcm9pZFstIF14ODZ8aGFybW9ueW9zKS9pXSxbZix1XSxbLyhhbmRyb2lkfHdlYm9zfHFueHxiYWRhfHJpbSB0YWJsZXQgb3N8bWFlbW98bWVlZ298c2FpbGZpc2gpWy1cXC8gXT8oW1xcd1xcLl0qKS9pLC8oYmxhY2tiZXJyeSlcXHcqXFwvKFtcXHdcXC5dKikvaSwvKHRpemVufGthaW9zKVtcXC8gXShbXFx3XFwuXSspL2ksL1xcKChzZXJpZXM0MCk7L2ldLFt1LGZdLFsvXFwoYmIoMTApOy9pXSxbZixbdSxOXV0sWy8oPzpzeW1iaWFuID9vc3xzeW1ib3N8czYwKD89Oyl8c2VyaWVzNjApWy1cXC8gXT8oW1xcd1xcLl0qKS9pXSxbZixbdSxcIlN5bWJpYW5cIl1dLFsvbW96aWxsYVxcL1tcXGRcXC5dKyBcXCgoPzptb2JpbGV8dGFibGV0fHR2fG1vYmlsZTsgW1xcdyBdKyk7IHJ2Oi4rIGdlY2tvXFwvKFtcXHdcXC5dKykvaV0sW2YsW3UsTytcIiBPU1wiXV0sWy93ZWIwczsuK3J0KHR2KS9pLC9cXGIoPzpocCk/d29zKD86YnJvd3Nlcik/XFwvKFtcXHdcXC5dKykvaV0sW2YsW3UsXCJ3ZWJPU1wiXV0sWy93YXRjaCg/OiA/b3NbLFxcL118XFxkLFxcZFxcLykoW1xcZFxcLl0rKS9pXSxbZixbdSxcIndhdGNoT1NcIl1dLFsvY3JrZXlcXC8oW1xcZFxcLl0rKS9pXSxbZixbdSxDK1wiY2FzdFwiXV0sWy8oY3JvcykgW1xcd10rKD86XFwpfCAoW1xcd1xcLl0rKVxcYikvaV0sW1t1LExdLGZdLFsvcGFuYXNvbmljOyh2aWVyYSkvaSwvKG5ldHJhbmdlKW1taC9pLC8obmV0dHYpXFwvKFxcZCtcXC5bXFx3XFwuXSspL2ksLyhuaW50ZW5kb3xwbGF5c3RhdGlvbikgKFt3aWRzMzQ1cG9ydGFibGV2dWNoXSspL2ksLyh4Ym94KTsgK3hib3ggKFteXFwpO10rKS9pLC9cXGIoam9saXxwYWxtKVxcYiA/KD86b3MpP1xcLz8oW1xcd1xcLl0qKS9pLC8obWludClbXFwvXFwoXFwpIF0/KFxcdyopL2ksLyhtYWdlaWF8dmVjdG9ybGludXgpWzsgXS9pLC8oW2t4bG5dP3VidW50dXxkZWJpYW58c3VzZXxvcGVuc3VzZXxnZW50b298YXJjaCg/PSBsaW51eCl8c2xhY2t3YXJlfGZlZG9yYXxtYW5kcml2YXxjZW50b3N8cGNsaW51eG9zfHJlZCA/aGF0fHplbndhbGt8bGlucHVzfHJhc3BiaWFufHBsYW4gOXxtaW5peHxyaXNjIG9zfGNvbnRpa2l8ZGVlcGlufG1hbmphcm98ZWxlbWVudGFyeSBvc3xzYWJheW9ufGxpbnNwaXJlKSg/OiBnbnVcXC9saW51eCk/KD86IGVudGVycHJpc2UpPyg/OlstIF1saW51eCk/KD86LWdudSk/Wy1cXC8gXT8oPyFjaHJvbXxwYWNrYWdlKShbLVxcd1xcLl0qKS9pLC8oaHVyZHxsaW51eCkgPyhbXFx3XFwuXSopL2ksLyhnbnUpID8oW1xcd1xcLl0qKS9pLC9cXGIoWy1mcmVudG9wY2doc117MCw1fWJzZHxkcmFnb25mbHkpW1xcLyBdPyg/IWFtZHxbaXgzNDZdezEsMn04NikoW1xcd1xcLl0qKS9pLC8oaGFpa3UpIChcXHcrKS9pXSxbdSxmXSxbLyhzdW5vcykgPyhbXFx3XFwuXFxkXSopL2ldLFtbdSxcIlNvbGFyaXNcIl0sZl0sWy8oKD86b3Blbik/c29sYXJpcylbLVxcLyBdPyhbXFx3XFwuXSopL2ksLyhhaXgpICgoXFxkKSg/PVxcLnxcXCl8IClbXFx3XFwuXSkqL2ksL1xcYihiZW9zfG9zXFwvMnxhbWlnYW9zfG1vcnBob3N8b3BlbnZtc3xmdWNoc2lhfGhwLXV4fHNlcmVuaXR5b3MpL2ksLyh1bml4KSA/KFtcXHdcXC5dKikvaV0sW3UsZl1dfTt2YXIgVUFQYXJzZXI9ZnVuY3Rpb24oaSxlKXtpZih0eXBlb2YgaT09PXcpe2U9aTtpPWF9aWYoISh0aGlzIGluc3RhbmNlb2YgVUFQYXJzZXIpKXtyZXR1cm4gbmV3IFVBUGFyc2VyKGksZSkuZ2V0UmVzdWx0KCl9dmFyIHI9dHlwZW9mIG8hPT1iJiZvLm5hdmlnYXRvcj9vLm5hdmlnYXRvcjphO3ZhciBuPWl8fChyJiZyLnVzZXJBZ2VudD9yLnVzZXJBZ2VudDp0KTt2YXIgdj1yJiZyLnVzZXJBZ2VudERhdGE/ci51c2VyQWdlbnREYXRhOmE7dmFyIHg9ZT9leHRlbmQoSyxlKTpLO3ZhciBfPXImJnIudXNlckFnZW50PT1uO3RoaXMuZ2V0QnJvd3Nlcj1mdW5jdGlvbigpe3ZhciBpPXt9O2lbdV09YTtpW2ZdPWE7cmd4TWFwcGVyLmNhbGwoaSxuLHguYnJvd3Nlcik7aVtkXT1tYWpvcml6ZShpW2ZdKTtpZihfJiZyJiZyLmJyYXZlJiZ0eXBlb2Ygci5icmF2ZS5pc0JyYXZlPT1zKXtpW3VdPVwiQnJhdmVcIn1yZXR1cm4gaX07dGhpcy5nZXRDUFU9ZnVuY3Rpb24oKXt2YXIgaT17fTtpW2hdPWE7cmd4TWFwcGVyLmNhbGwoaSxuLHguY3B1KTtyZXR1cm4gaX07dGhpcy5nZXREZXZpY2U9ZnVuY3Rpb24oKXt2YXIgaT17fTtpW21dPWE7aVtjXT1hO2lbcF09YTtyZ3hNYXBwZXIuY2FsbChpLG4seC5kZXZpY2UpO2lmKF8mJiFpW3BdJiZ2JiZ2Lm1vYmlsZSl7aVtwXT1nfWlmKF8mJmlbY109PVwiTWFjaW50b3NoXCImJnImJnR5cGVvZiByLnN0YW5kYWxvbmUhPT1iJiZyLm1heFRvdWNoUG9pbnRzJiZyLm1heFRvdWNoUG9pbnRzPjIpe2lbY109XCJpUGFkXCI7aVtwXT1rfXJldHVybiBpfTt0aGlzLmdldEVuZ2luZT1mdW5jdGlvbigpe3ZhciBpPXt9O2lbdV09YTtpW2ZdPWE7cmd4TWFwcGVyLmNhbGwoaSxuLHguZW5naW5lKTtyZXR1cm4gaX07dGhpcy5nZXRPUz1mdW5jdGlvbigpe3ZhciBpPXt9O2lbdV09YTtpW2ZdPWE7cmd4TWFwcGVyLmNhbGwoaSxuLHgub3MpO2lmKF8mJiFpW3VdJiZ2JiZ2LnBsYXRmb3JtIT1cIlVua25vd25cIil7aVt1XT12LnBsYXRmb3JtLnJlcGxhY2UoL2Nocm9tZSBvcy9pLEwpLnJlcGxhY2UoL21hY29zL2ksWil9cmV0dXJuIGl9O3RoaXMuZ2V0UmVzdWx0PWZ1bmN0aW9uKCl7cmV0dXJue3VhOnRoaXMuZ2V0VUEoKSxicm93c2VyOnRoaXMuZ2V0QnJvd3NlcigpLGVuZ2luZTp0aGlzLmdldEVuZ2luZSgpLG9zOnRoaXMuZ2V0T1MoKSxkZXZpY2U6dGhpcy5nZXREZXZpY2UoKSxjcHU6dGhpcy5nZXRDUFUoKX19O3RoaXMuZ2V0VUE9ZnVuY3Rpb24oKXtyZXR1cm4gbn07dGhpcy5zZXRVQT1mdW5jdGlvbihpKXtuPXR5cGVvZiBpPT09bCYmaS5sZW5ndGg+cT90cmltKGkscSk6aTtyZXR1cm4gdGhpc307dGhpcy5zZXRVQShuKTtyZXR1cm4gdGhpc307VUFQYXJzZXIuVkVSU0lPTj1yO1VBUGFyc2VyLkJST1dTRVI9ZW51bWVyaXplKFt1LGYsZF0pO1VBUGFyc2VyLkNQVT1lbnVtZXJpemUoW2hdKTtVQVBhcnNlci5ERVZJQ0U9ZW51bWVyaXplKFtjLG0scCx2LGcseCxrLF8seV0pO1VBUGFyc2VyLkVOR0lORT1VQVBhcnNlci5PUz1lbnVtZXJpemUoW3UsZl0pO2lmKHR5cGVvZiBlIT09Yil7aWYoXCJvYmplY3RcIiE9PWImJmkuZXhwb3J0cyl7ZT1pLmV4cG9ydHM9VUFQYXJzZXJ9ZS5VQVBhcnNlcj1VQVBhcnNlcn1lbHNle2lmKHR5cGVvZiBkZWZpbmU9PT1zJiZkZWZpbmUuYW1kKXtkZWZpbmUoKGZ1bmN0aW9uKCl7cmV0dXJuIFVBUGFyc2VyfSkpfWVsc2UgaWYodHlwZW9mIG8hPT1iKXtvLlVBUGFyc2VyPVVBUGFyc2VyfX12YXIgUT10eXBlb2YgbyE9PWImJihvLmpRdWVyeXx8by5aZXB0byk7aWYoUSYmIVEudWEpe3ZhciBZPW5ldyBVQVBhcnNlcjtRLnVhPVkuZ2V0UmVzdWx0KCk7US51YS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gWS5nZXRVQSgpfTtRLnVhLnNldD1mdW5jdGlvbihpKXtZLnNldFVBKGkpO3ZhciBlPVkuZ2V0UmVzdWx0KCk7Zm9yKHZhciBvIGluIGUpe1EudWFbb109ZVtvXX19fX0pKHR5cGVvZiB3aW5kb3c9PT1cIm9iamVjdFwiP3dpbmRvdzp0aGlzKX19O3ZhciBlPXt9O2Z1bmN0aW9uIF9fbmNjd3Bja19yZXF1aXJlX18obyl7dmFyIGE9ZVtvXTtpZihhIT09dW5kZWZpbmVkKXtyZXR1cm4gYS5leHBvcnRzfXZhciByPWVbb109e2V4cG9ydHM6e319O3ZhciB0PXRydWU7dHJ5e2lbb10uY2FsbChyLmV4cG9ydHMscixyLmV4cG9ydHMsX19uY2N3cGNrX3JlcXVpcmVfXyk7dD1mYWxzZX1maW5hbGx5e2lmKHQpZGVsZXRlIGVbb119cmV0dXJuIHIuZXhwb3J0c31pZih0eXBlb2YgX19uY2N3cGNrX3JlcXVpcmVfXyE9PVwidW5kZWZpbmVkXCIpX19uY2N3cGNrX3JlcXVpcmVfXy5hYj1fX2Rpcm5hbWUrXCIvXCI7dmFyIG89X19uY2N3cGNrX3JlcXVpcmVfXygyMjYpO21vZHVsZS5leHBvcnRzPW99KSgpOyJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/compiled/ua-parser-js/ua-parser.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/api/headers.js":
/*!***************************************************!*\
  !*** ./node_modules/next/dist/esm/api/headers.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cookies: () => (/* reexport safe */ _server_request_cookies__WEBPACK_IMPORTED_MODULE_0__.cookies),\n/* harmony export */   draftMode: () => (/* reexport safe */ _server_request_draft_mode__WEBPACK_IMPORTED_MODULE_2__.draftMode),\n/* harmony export */   headers: () => (/* reexport safe */ _server_request_headers__WEBPACK_IMPORTED_MODULE_1__.headers)\n/* harmony export */ });\n/* harmony import */ var _server_request_cookies__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../server/request/cookies */ \"(middleware)/./node_modules/next/dist/esm/server/request/cookies.js\");\n/* harmony import */ var _server_request_headers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../server/request/headers */ \"(middleware)/./node_modules/next/dist/esm/server/request/headers.js\");\n/* harmony import */ var _server_request_draft_mode__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../server/request/draft-mode */ \"(middleware)/./node_modules/next/dist/esm/server/request/draft-mode.js\");\n\n\n\n\n//# sourceMappingURL=headers.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vYXBpL2hlYWRlcnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQTBDO0FBQ0E7QUFDRzs7QUFFN0MiLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXG5leHRcXGRpc3RcXGVzbVxcYXBpXFxoZWFkZXJzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gJy4uL3NlcnZlci9yZXF1ZXN0L2Nvb2tpZXMnO1xuZXhwb3J0ICogZnJvbSAnLi4vc2VydmVyL3JlcXVlc3QvaGVhZGVycyc7XG5leHBvcnQgKiBmcm9tICcuLi9zZXJ2ZXIvcmVxdWVzdC9kcmFmdC1tb2RlJztcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aGVhZGVycy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/api/headers.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/api/navigation.react-server.js":
/*!*******************************************************************!*\
  !*** ./node_modules/next/dist/esm/api/navigation.react-server.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ReadonlyURLSearchParams: () => (/* reexport safe */ _client_components_navigation_react_server__WEBPACK_IMPORTED_MODULE_0__.ReadonlyURLSearchParams),\n/* harmony export */   RedirectType: () => (/* reexport safe */ _client_components_navigation_react_server__WEBPACK_IMPORTED_MODULE_0__.RedirectType),\n/* harmony export */   forbidden: () => (/* reexport safe */ _client_components_navigation_react_server__WEBPACK_IMPORTED_MODULE_0__.forbidden),\n/* harmony export */   notFound: () => (/* reexport safe */ _client_components_navigation_react_server__WEBPACK_IMPORTED_MODULE_0__.notFound),\n/* harmony export */   permanentRedirect: () => (/* reexport safe */ _client_components_navigation_react_server__WEBPACK_IMPORTED_MODULE_0__.permanentRedirect),\n/* harmony export */   redirect: () => (/* reexport safe */ _client_components_navigation_react_server__WEBPACK_IMPORTED_MODULE_0__.redirect),\n/* harmony export */   unauthorized: () => (/* reexport safe */ _client_components_navigation_react_server__WEBPACK_IMPORTED_MODULE_0__.unauthorized),\n/* harmony export */   unstable_isUnrecognizedActionError: () => (/* reexport safe */ _client_components_navigation_react_server__WEBPACK_IMPORTED_MODULE_0__.unstable_isUnrecognizedActionError),\n/* harmony export */   unstable_rethrow: () => (/* reexport safe */ _client_components_navigation_react_server__WEBPACK_IMPORTED_MODULE_0__.unstable_rethrow)\n/* harmony export */ });\n/* harmony import */ var _client_components_navigation_react_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../client/components/navigation.react-server */ \"(middleware)/./node_modules/next/dist/esm/client/components/navigation.react-server.js\");\n\n\n//# sourceMappingURL=navigation.react-server.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vYXBpL25hdmlnYXRpb24ucmVhY3Qtc2VydmVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBNkQ7O0FBRTdEIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxuZXh0XFxkaXN0XFxlc21cXGFwaVxcbmF2aWdhdGlvbi5yZWFjdC1zZXJ2ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnLi4vY2xpZW50L2NvbXBvbmVudHMvbmF2aWdhdGlvbi5yZWFjdC1zZXJ2ZXInO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1uYXZpZ2F0aW9uLnJlYWN0LXNlcnZlci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/api/navigation.react-server.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/api/server.js":
/*!**************************************************!*\
  !*** ./node_modules/next/dist/esm/api/server.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ImageResponse: () => (/* reexport safe */ _server_web_exports_index__WEBPACK_IMPORTED_MODULE_0__.ImageResponse),\n/* harmony export */   NextRequest: () => (/* reexport safe */ _server_web_exports_index__WEBPACK_IMPORTED_MODULE_0__.NextRequest),\n/* harmony export */   NextResponse: () => (/* reexport safe */ _server_web_exports_index__WEBPACK_IMPORTED_MODULE_0__.NextResponse),\n/* harmony export */   URLPattern: () => (/* reexport safe */ _server_web_exports_index__WEBPACK_IMPORTED_MODULE_0__.URLPattern),\n/* harmony export */   after: () => (/* reexport safe */ _server_web_exports_index__WEBPACK_IMPORTED_MODULE_0__.after),\n/* harmony export */   connection: () => (/* reexport safe */ _server_web_exports_index__WEBPACK_IMPORTED_MODULE_0__.connection),\n/* harmony export */   unstable_rootParams: () => (/* reexport safe */ _server_web_exports_index__WEBPACK_IMPORTED_MODULE_0__.unstable_rootParams),\n/* harmony export */   userAgent: () => (/* reexport safe */ _server_web_exports_index__WEBPACK_IMPORTED_MODULE_0__.userAgent),\n/* harmony export */   userAgentFromString: () => (/* reexport safe */ _server_web_exports_index__WEBPACK_IMPORTED_MODULE_0__.userAgentFromString)\n/* harmony export */ });\n/* harmony import */ var _server_web_exports_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../server/web/exports/index */ \"(middleware)/./node_modules/next/dist/esm/server/web/exports/index.js\");\n\n\n//# sourceMappingURL=server.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vYXBpL3NlcnZlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQTRDOztBQUU1QyIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcbmV4dFxcZGlzdFxcZXNtXFxhcGlcXHNlcnZlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgKiBmcm9tICcuLi9zZXJ2ZXIvd2ViL2V4cG9ydHMvaW5kZXgnO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXJ2ZXIuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/api/server.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/build/output/log.js":
/*!********************************************************!*\
  !*** ./node_modules/next/dist/esm/build/output/log.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   bootstrap: () => (/* binding */ bootstrap),\n/* harmony export */   error: () => (/* binding */ error),\n/* harmony export */   event: () => (/* binding */ event),\n/* harmony export */   info: () => (/* binding */ info),\n/* harmony export */   prefixes: () => (/* binding */ prefixes),\n/* harmony export */   ready: () => (/* binding */ ready),\n/* harmony export */   trace: () => (/* binding */ trace),\n/* harmony export */   wait: () => (/* binding */ wait),\n/* harmony export */   warn: () => (/* binding */ warn),\n/* harmony export */   warnOnce: () => (/* binding */ warnOnce)\n/* harmony export */ });\n/* harmony import */ var _lib_picocolors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/picocolors */ \"(middleware)/./node_modules/next/dist/esm/lib/picocolors.js\");\n/* harmony import */ var _server_lib_lru_cache__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../server/lib/lru-cache */ \"(middleware)/./node_modules/next/dist/esm/server/lib/lru-cache.js\");\n\n\nconst prefixes = {\n    wait: (0,_lib_picocolors__WEBPACK_IMPORTED_MODULE_0__.white)((0,_lib_picocolors__WEBPACK_IMPORTED_MODULE_0__.bold)('')),\n    error: (0,_lib_picocolors__WEBPACK_IMPORTED_MODULE_0__.red)((0,_lib_picocolors__WEBPACK_IMPORTED_MODULE_0__.bold)('')),\n    warn: (0,_lib_picocolors__WEBPACK_IMPORTED_MODULE_0__.yellow)((0,_lib_picocolors__WEBPACK_IMPORTED_MODULE_0__.bold)('')),\n    ready: '',\n    info: (0,_lib_picocolors__WEBPACK_IMPORTED_MODULE_0__.white)((0,_lib_picocolors__WEBPACK_IMPORTED_MODULE_0__.bold)(' ')),\n    event: (0,_lib_picocolors__WEBPACK_IMPORTED_MODULE_0__.green)((0,_lib_picocolors__WEBPACK_IMPORTED_MODULE_0__.bold)('')),\n    trace: (0,_lib_picocolors__WEBPACK_IMPORTED_MODULE_0__.magenta)((0,_lib_picocolors__WEBPACK_IMPORTED_MODULE_0__.bold)(''))\n};\nconst LOGGING_METHOD = {\n    log: 'log',\n    warn: 'warn',\n    error: 'error'\n};\nfunction prefixedLog(prefixType, ...message) {\n    if ((message[0] === '' || message[0] === undefined) && message.length === 1) {\n        message.shift();\n    }\n    const consoleMethod = prefixType in LOGGING_METHOD ? LOGGING_METHOD[prefixType] : 'log';\n    const prefix = prefixes[prefixType];\n    // If there's no message, don't print the prefix but a new line\n    if (message.length === 0) {\n        console[consoleMethod]('');\n    } else {\n        // Ensure if there's ANSI escape codes it's concatenated into one string.\n        // Chrome DevTool can only handle color if it's in one string.\n        if (message.length === 1 && typeof message[0] === 'string') {\n            console[consoleMethod](' ' + prefix + ' ' + message[0]);\n        } else {\n            console[consoleMethod](' ' + prefix, ...message);\n        }\n    }\n}\nfunction bootstrap(...message) {\n    // logging format: ' <prefix> <message>'\n    // e.g. '  Compiled successfully'\n    // Add spaces to align with the indent of other logs\n    console.log('   ' + message.join(' '));\n}\nfunction wait(...message) {\n    prefixedLog('wait', ...message);\n}\nfunction error(...message) {\n    prefixedLog('error', ...message);\n}\nfunction warn(...message) {\n    prefixedLog('warn', ...message);\n}\nfunction ready(...message) {\n    prefixedLog('ready', ...message);\n}\nfunction info(...message) {\n    prefixedLog('info', ...message);\n}\nfunction event(...message) {\n    prefixedLog('event', ...message);\n}\nfunction trace(...message) {\n    prefixedLog('trace', ...message);\n}\nconst warnOnceCache = new _server_lib_lru_cache__WEBPACK_IMPORTED_MODULE_1__.LRUCache(10000, (value)=>value.length);\nfunction warnOnce(...message) {\n    const key = message.join(' ');\n    if (!warnOnceCache.has(key)) {\n        warnOnceCache.set(key, key);\n        warn(...message);\n    }\n}\n\n//# sourceMappingURL=log.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vYnVpbGQvb3V0cHV0L2xvZy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBZ0Y7QUFDMUI7QUFDL0M7QUFDUCxVQUFVLHNEQUFLLENBQUMscURBQUk7QUFDcEIsV0FBVyxvREFBRyxDQUFDLHFEQUFJO0FBQ25CLFVBQVUsdURBQU0sQ0FBQyxxREFBSTtBQUNyQjtBQUNBLFVBQVUsc0RBQUssQ0FBQyxxREFBSTtBQUNwQixXQUFXLHNEQUFLLENBQUMscURBQUk7QUFDckIsV0FBVyx3REFBTyxDQUFDLHFEQUFJO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLDBCQUEwQiwyREFBUTtBQUMzQjtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcbmV4dFxcZGlzdFxcZXNtXFxidWlsZFxcb3V0cHV0XFxsb2cuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYm9sZCwgZ3JlZW4sIG1hZ2VudGEsIHJlZCwgeWVsbG93LCB3aGl0ZSB9IGZyb20gJy4uLy4uL2xpYi9waWNvY29sb3JzJztcbmltcG9ydCB7IExSVUNhY2hlIH0gZnJvbSAnLi4vLi4vc2VydmVyL2xpYi9scnUtY2FjaGUnO1xuZXhwb3J0IGNvbnN0IHByZWZpeGVzID0ge1xuICAgIHdhaXQ6IHdoaXRlKGJvbGQoJ+KXiycpKSxcbiAgICBlcnJvcjogcmVkKGJvbGQoJ+KorycpKSxcbiAgICB3YXJuOiB5ZWxsb3coYm9sZCgn4pqgJykpLFxuICAgIHJlYWR5OiAn4payJyxcbiAgICBpbmZvOiB3aGl0ZShib2xkKCcgJykpLFxuICAgIGV2ZW50OiBncmVlbihib2xkKCfinJMnKSksXG4gICAgdHJhY2U6IG1hZ2VudGEoYm9sZCgnwrsnKSlcbn07XG5jb25zdCBMT0dHSU5HX01FVEhPRCA9IHtcbiAgICBsb2c6ICdsb2cnLFxuICAgIHdhcm46ICd3YXJuJyxcbiAgICBlcnJvcjogJ2Vycm9yJ1xufTtcbmZ1bmN0aW9uIHByZWZpeGVkTG9nKHByZWZpeFR5cGUsIC4uLm1lc3NhZ2UpIHtcbiAgICBpZiAoKG1lc3NhZ2VbMF0gPT09ICcnIHx8IG1lc3NhZ2VbMF0gPT09IHVuZGVmaW5lZCkgJiYgbWVzc2FnZS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgbWVzc2FnZS5zaGlmdCgpO1xuICAgIH1cbiAgICBjb25zdCBjb25zb2xlTWV0aG9kID0gcHJlZml4VHlwZSBpbiBMT0dHSU5HX01FVEhPRCA/IExPR0dJTkdfTUVUSE9EW3ByZWZpeFR5cGVdIDogJ2xvZyc7XG4gICAgY29uc3QgcHJlZml4ID0gcHJlZml4ZXNbcHJlZml4VHlwZV07XG4gICAgLy8gSWYgdGhlcmUncyBubyBtZXNzYWdlLCBkb24ndCBwcmludCB0aGUgcHJlZml4IGJ1dCBhIG5ldyBsaW5lXG4gICAgaWYgKG1lc3NhZ2UubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnNvbGVbY29uc29sZU1ldGhvZF0oJycpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEVuc3VyZSBpZiB0aGVyZSdzIEFOU0kgZXNjYXBlIGNvZGVzIGl0J3MgY29uY2F0ZW5hdGVkIGludG8gb25lIHN0cmluZy5cbiAgICAgICAgLy8gQ2hyb21lIERldlRvb2wgY2FuIG9ubHkgaGFuZGxlIGNvbG9yIGlmIGl0J3MgaW4gb25lIHN0cmluZy5cbiAgICAgICAgaWYgKG1lc3NhZ2UubGVuZ3RoID09PSAxICYmIHR5cGVvZiBtZXNzYWdlWzBdID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgY29uc29sZVtjb25zb2xlTWV0aG9kXSgnICcgKyBwcmVmaXggKyAnICcgKyBtZXNzYWdlWzBdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGVbY29uc29sZU1ldGhvZF0oJyAnICsgcHJlZml4LCAuLi5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBib290c3RyYXAoLi4ubWVzc2FnZSkge1xuICAgIC8vIGxvZ2dpbmcgZm9ybWF0OiAnIDxwcmVmaXg+IDxtZXNzYWdlPidcbiAgICAvLyBlLmcuICcg4pyTIENvbXBpbGVkIHN1Y2Nlc3NmdWxseSdcbiAgICAvLyBBZGQgc3BhY2VzIHRvIGFsaWduIHdpdGggdGhlIGluZGVudCBvZiBvdGhlciBsb2dzXG4gICAgY29uc29sZS5sb2coJyAgICcgKyBtZXNzYWdlLmpvaW4oJyAnKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gd2FpdCguLi5tZXNzYWdlKSB7XG4gICAgcHJlZml4ZWRMb2coJ3dhaXQnLCAuLi5tZXNzYWdlKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBlcnJvciguLi5tZXNzYWdlKSB7XG4gICAgcHJlZml4ZWRMb2coJ2Vycm9yJywgLi4ubWVzc2FnZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gd2FybiguLi5tZXNzYWdlKSB7XG4gICAgcHJlZml4ZWRMb2coJ3dhcm4nLCAuLi5tZXNzYWdlKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZWFkeSguLi5tZXNzYWdlKSB7XG4gICAgcHJlZml4ZWRMb2coJ3JlYWR5JywgLi4ubWVzc2FnZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaW5mbyguLi5tZXNzYWdlKSB7XG4gICAgcHJlZml4ZWRMb2coJ2luZm8nLCAuLi5tZXNzYWdlKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBldmVudCguLi5tZXNzYWdlKSB7XG4gICAgcHJlZml4ZWRMb2coJ2V2ZW50JywgLi4ubWVzc2FnZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gdHJhY2UoLi4ubWVzc2FnZSkge1xuICAgIHByZWZpeGVkTG9nKCd0cmFjZScsIC4uLm1lc3NhZ2UpO1xufVxuY29uc3Qgd2Fybk9uY2VDYWNoZSA9IG5ldyBMUlVDYWNoZSgxMDAwMCwgKHZhbHVlKT0+dmFsdWUubGVuZ3RoKTtcbmV4cG9ydCBmdW5jdGlvbiB3YXJuT25jZSguLi5tZXNzYWdlKSB7XG4gICAgY29uc3Qga2V5ID0gbWVzc2FnZS5qb2luKCcgJyk7XG4gICAgaWYgKCF3YXJuT25jZUNhY2hlLmhhcyhrZXkpKSB7XG4gICAgICAgIHdhcm5PbmNlQ2FjaGUuc2V0KGtleSwga2V5KTtcbiAgICAgICAgd2FybiguLi5tZXNzYWdlKTtcbiAgICB9XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvZy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/build/output/log.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/client/components/app-router-headers.js":
/*!****************************************************************************!*\
  !*** ./node_modules/next/dist/esm/client/components/app-router-headers.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ACTION_HEADER: () => (/* binding */ ACTION_HEADER),\n/* harmony export */   FLIGHT_HEADERS: () => (/* binding */ FLIGHT_HEADERS),\n/* harmony export */   NEXT_ACTION_NOT_FOUND_HEADER: () => (/* binding */ NEXT_ACTION_NOT_FOUND_HEADER),\n/* harmony export */   NEXT_DID_POSTPONE_HEADER: () => (/* binding */ NEXT_DID_POSTPONE_HEADER),\n/* harmony export */   NEXT_HMR_REFRESH_HASH_COOKIE: () => (/* binding */ NEXT_HMR_REFRESH_HASH_COOKIE),\n/* harmony export */   NEXT_HMR_REFRESH_HEADER: () => (/* binding */ NEXT_HMR_REFRESH_HEADER),\n/* harmony export */   NEXT_IS_PRERENDER_HEADER: () => (/* binding */ NEXT_IS_PRERENDER_HEADER),\n/* harmony export */   NEXT_REWRITTEN_PATH_HEADER: () => (/* binding */ NEXT_REWRITTEN_PATH_HEADER),\n/* harmony export */   NEXT_REWRITTEN_QUERY_HEADER: () => (/* binding */ NEXT_REWRITTEN_QUERY_HEADER),\n/* harmony export */   NEXT_ROUTER_PREFETCH_HEADER: () => (/* binding */ NEXT_ROUTER_PREFETCH_HEADER),\n/* harmony export */   NEXT_ROUTER_SEGMENT_PREFETCH_HEADER: () => (/* binding */ NEXT_ROUTER_SEGMENT_PREFETCH_HEADER),\n/* harmony export */   NEXT_ROUTER_STALE_TIME_HEADER: () => (/* binding */ NEXT_ROUTER_STALE_TIME_HEADER),\n/* harmony export */   NEXT_ROUTER_STATE_TREE_HEADER: () => (/* binding */ NEXT_ROUTER_STATE_TREE_HEADER),\n/* harmony export */   NEXT_RSC_UNION_QUERY: () => (/* binding */ NEXT_RSC_UNION_QUERY),\n/* harmony export */   NEXT_URL: () => (/* binding */ NEXT_URL),\n/* harmony export */   RSC_CONTENT_TYPE_HEADER: () => (/* binding */ RSC_CONTENT_TYPE_HEADER),\n/* harmony export */   RSC_HEADER: () => (/* binding */ RSC_HEADER)\n/* harmony export */ });\nconst RSC_HEADER = 'rsc';\nconst ACTION_HEADER = 'next-action';\n// TODO: Instead of sending the full router state, we only need to send the\n// segment path. Saves bytes. Then we could also use this field for segment\n// prefetches, which also need to specify a particular segment.\nconst NEXT_ROUTER_STATE_TREE_HEADER = 'next-router-state-tree';\nconst NEXT_ROUTER_PREFETCH_HEADER = 'next-router-prefetch';\n// This contains the path to the segment being prefetched.\n// TODO: If we change next-router-state-tree to be a segment path, we can use\n// that instead. Then next-router-prefetch and next-router-segment-prefetch can\n// be merged into a single enum.\nconst NEXT_ROUTER_SEGMENT_PREFETCH_HEADER = 'next-router-segment-prefetch';\nconst NEXT_HMR_REFRESH_HEADER = 'next-hmr-refresh';\nconst NEXT_HMR_REFRESH_HASH_COOKIE = '__next_hmr_refresh_hash__';\nconst NEXT_URL = 'next-url';\nconst RSC_CONTENT_TYPE_HEADER = 'text/x-component';\nconst FLIGHT_HEADERS = [\n    RSC_HEADER,\n    NEXT_ROUTER_STATE_TREE_HEADER,\n    NEXT_ROUTER_PREFETCH_HEADER,\n    NEXT_HMR_REFRESH_HEADER,\n    NEXT_ROUTER_SEGMENT_PREFETCH_HEADER\n];\nconst NEXT_RSC_UNION_QUERY = '_rsc';\nconst NEXT_ROUTER_STALE_TIME_HEADER = 'x-nextjs-stale-time';\nconst NEXT_DID_POSTPONE_HEADER = 'x-nextjs-postponed';\nconst NEXT_REWRITTEN_PATH_HEADER = 'x-nextjs-rewritten-path';\nconst NEXT_REWRITTEN_QUERY_HEADER = 'x-nextjs-rewritten-query';\nconst NEXT_IS_PRERENDER_HEADER = 'x-nextjs-prerender';\nconst NEXT_ACTION_NOT_FOUND_HEADER = 'x-nextjs-action-not-found'; //# sourceMappingURL=app-router-headers.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vY2xpZW50L2NvbXBvbmVudHMvYXBwLXJvdXRlci1oZWFkZXJzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQU8sTUFBTUEsYUFBYSxNQUFjO0FBQ2pDLE1BQU1DLGdCQUFnQixjQUFzQjtBQUNuRCwyRUFBMkU7QUFDM0UsMkVBQTJFO0FBQzNFLCtEQUErRDtBQUN4RCxNQUFNQyxnQ0FBZ0MseUJBQWlDO0FBQ3ZFLE1BQU1DLDhCQUE4Qix1QkFBK0I7QUFDMUUsMERBQTBEO0FBQzFELDZFQUE2RTtBQUM3RSwrRUFBK0U7QUFDL0UsZ0NBQWdDO0FBQ3pCLE1BQU1DLHNDQUNYLCtCQUF1QztBQUNsQyxNQUFNQywwQkFBMEIsbUJBQTJCO0FBQzNELE1BQU1DLCtCQUErQiw0QkFBb0M7QUFDekUsTUFBTUMsV0FBVyxXQUFtQjtBQUNwQyxNQUFNQywwQkFBMEIsbUJBQTJCO0FBRTNELE1BQU1DLGlCQUFpQjtJQUM1QlQ7SUFDQUU7SUFDQUM7SUFDQUU7SUFDQUQ7Q0FDRCxDQUFTO0FBRUgsTUFBTU0sdUJBQXVCLE9BQWU7QUFFNUMsTUFBTUMsZ0NBQWdDLHNCQUE4QjtBQUNwRSxNQUFNQywyQkFBMkIscUJBQTZCO0FBQzlELE1BQU1DLDZCQUE2QiwwQkFBa0M7QUFDckUsTUFBTUMsOEJBQThCLDJCQUFtQztBQUN2RSxNQUFNQywyQkFBMkIscUJBQTZCO0FBQzlELE1BQU1DLCtCQUErQiw0QkFBb0MiLCJzb3VyY2VzIjpbIkQ6XFxzcmNcXGNsaWVudFxcY29tcG9uZW50c1xcYXBwLXJvdXRlci1oZWFkZXJzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBSU0NfSEVBREVSID0gJ3JzYycgYXMgY29uc3RcbmV4cG9ydCBjb25zdCBBQ1RJT05fSEVBREVSID0gJ25leHQtYWN0aW9uJyBhcyBjb25zdFxuLy8gVE9ETzogSW5zdGVhZCBvZiBzZW5kaW5nIHRoZSBmdWxsIHJvdXRlciBzdGF0ZSwgd2Ugb25seSBuZWVkIHRvIHNlbmQgdGhlXG4vLyBzZWdtZW50IHBhdGguIFNhdmVzIGJ5dGVzLiBUaGVuIHdlIGNvdWxkIGFsc28gdXNlIHRoaXMgZmllbGQgZm9yIHNlZ21lbnRcbi8vIHByZWZldGNoZXMsIHdoaWNoIGFsc28gbmVlZCB0byBzcGVjaWZ5IGEgcGFydGljdWxhciBzZWdtZW50LlxuZXhwb3J0IGNvbnN0IE5FWFRfUk9VVEVSX1NUQVRFX1RSRUVfSEVBREVSID0gJ25leHQtcm91dGVyLXN0YXRlLXRyZWUnIGFzIGNvbnN0XG5leHBvcnQgY29uc3QgTkVYVF9ST1VURVJfUFJFRkVUQ0hfSEVBREVSID0gJ25leHQtcm91dGVyLXByZWZldGNoJyBhcyBjb25zdFxuLy8gVGhpcyBjb250YWlucyB0aGUgcGF0aCB0byB0aGUgc2VnbWVudCBiZWluZyBwcmVmZXRjaGVkLlxuLy8gVE9ETzogSWYgd2UgY2hhbmdlIG5leHQtcm91dGVyLXN0YXRlLXRyZWUgdG8gYmUgYSBzZWdtZW50IHBhdGgsIHdlIGNhbiB1c2Vcbi8vIHRoYXQgaW5zdGVhZC4gVGhlbiBuZXh0LXJvdXRlci1wcmVmZXRjaCBhbmQgbmV4dC1yb3V0ZXItc2VnbWVudC1wcmVmZXRjaCBjYW5cbi8vIGJlIG1lcmdlZCBpbnRvIGEgc2luZ2xlIGVudW0uXG5leHBvcnQgY29uc3QgTkVYVF9ST1VURVJfU0VHTUVOVF9QUkVGRVRDSF9IRUFERVIgPVxuICAnbmV4dC1yb3V0ZXItc2VnbWVudC1wcmVmZXRjaCcgYXMgY29uc3RcbmV4cG9ydCBjb25zdCBORVhUX0hNUl9SRUZSRVNIX0hFQURFUiA9ICduZXh0LWhtci1yZWZyZXNoJyBhcyBjb25zdFxuZXhwb3J0IGNvbnN0IE5FWFRfSE1SX1JFRlJFU0hfSEFTSF9DT09LSUUgPSAnX19uZXh0X2htcl9yZWZyZXNoX2hhc2hfXycgYXMgY29uc3RcbmV4cG9ydCBjb25zdCBORVhUX1VSTCA9ICduZXh0LXVybCcgYXMgY29uc3RcbmV4cG9ydCBjb25zdCBSU0NfQ09OVEVOVF9UWVBFX0hFQURFUiA9ICd0ZXh0L3gtY29tcG9uZW50JyBhcyBjb25zdFxuXG5leHBvcnQgY29uc3QgRkxJR0hUX0hFQURFUlMgPSBbXG4gIFJTQ19IRUFERVIsXG4gIE5FWFRfUk9VVEVSX1NUQVRFX1RSRUVfSEVBREVSLFxuICBORVhUX1JPVVRFUl9QUkVGRVRDSF9IRUFERVIsXG4gIE5FWFRfSE1SX1JFRlJFU0hfSEVBREVSLFxuICBORVhUX1JPVVRFUl9TRUdNRU5UX1BSRUZFVENIX0hFQURFUixcbl0gYXMgY29uc3RcblxuZXhwb3J0IGNvbnN0IE5FWFRfUlNDX1VOSU9OX1FVRVJZID0gJ19yc2MnIGFzIGNvbnN0XG5cbmV4cG9ydCBjb25zdCBORVhUX1JPVVRFUl9TVEFMRV9USU1FX0hFQURFUiA9ICd4LW5leHRqcy1zdGFsZS10aW1lJyBhcyBjb25zdFxuZXhwb3J0IGNvbnN0IE5FWFRfRElEX1BPU1RQT05FX0hFQURFUiA9ICd4LW5leHRqcy1wb3N0cG9uZWQnIGFzIGNvbnN0XG5leHBvcnQgY29uc3QgTkVYVF9SRVdSSVRURU5fUEFUSF9IRUFERVIgPSAneC1uZXh0anMtcmV3cml0dGVuLXBhdGgnIGFzIGNvbnN0XG5leHBvcnQgY29uc3QgTkVYVF9SRVdSSVRURU5fUVVFUllfSEVBREVSID0gJ3gtbmV4dGpzLXJld3JpdHRlbi1xdWVyeScgYXMgY29uc3RcbmV4cG9ydCBjb25zdCBORVhUX0lTX1BSRVJFTkRFUl9IRUFERVIgPSAneC1uZXh0anMtcHJlcmVuZGVyJyBhcyBjb25zdFxuZXhwb3J0IGNvbnN0IE5FWFRfQUNUSU9OX05PVF9GT1VORF9IRUFERVIgPSAneC1uZXh0anMtYWN0aW9uLW5vdC1mb3VuZCcgYXMgY29uc3RcbiJdLCJuYW1lcyI6WyJSU0NfSEVBREVSIiwiQUNUSU9OX0hFQURFUiIsIk5FWFRfUk9VVEVSX1NUQVRFX1RSRUVfSEVBREVSIiwiTkVYVF9ST1VURVJfUFJFRkVUQ0hfSEVBREVSIiwiTkVYVF9ST1VURVJfU0VHTUVOVF9QUkVGRVRDSF9IRUFERVIiLCJORVhUX0hNUl9SRUZSRVNIX0hFQURFUiIsIk5FWFRfSE1SX1JFRlJFU0hfSEFTSF9DT09LSUUiLCJORVhUX1VSTCIsIlJTQ19DT05URU5UX1RZUEVfSEVBREVSIiwiRkxJR0hUX0hFQURFUlMiLCJORVhUX1JTQ19VTklPTl9RVUVSWSIsIk5FWFRfUk9VVEVSX1NUQUxFX1RJTUVfSEVBREVSIiwiTkVYVF9ESURfUE9TVFBPTkVfSEVBREVSIiwiTkVYVF9SRVdSSVRURU5fUEFUSF9IRUFERVIiLCJORVhUX1JFV1JJVFRFTl9RVUVSWV9IRUFERVIiLCJORVhUX0lTX1BSRVJFTkRFUl9IRUFERVIiLCJORVhUX0FDVElPTl9OT1RfRk9VTkRfSEVBREVSIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/client/components/app-router-headers.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/client/components/forbidden.js":
/*!*******************************************************************!*\
  !*** ./node_modules/next/dist/esm/client/components/forbidden.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   forbidden: () => (/* binding */ forbidden)\n/* harmony export */ });\n/* harmony import */ var _http_access_fallback_http_access_fallback__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./http-access-fallback/http-access-fallback */ \"(middleware)/./node_modules/next/dist/esm/client/components/http-access-fallback/http-access-fallback.js\");\n\n// TODO: Add `forbidden` docs\n/**\n * @experimental\n * This function allows you to render the [forbidden.js file](https://nextjs.org/docs/app/api-reference/file-conventions/forbidden)\n * within a route segment as well as inject a tag.\n *\n * `forbidden()` can be used in\n * [Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components),\n * [Route Handlers](https://nextjs.org/docs/app/building-your-application/routing/route-handlers), and\n * [Server Actions](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations).\n *\n * Read more: [Next.js Docs: `forbidden`](https://nextjs.org/docs/app/api-reference/functions/forbidden)\n */ const DIGEST = \"\" + _http_access_fallback_http_access_fallback__WEBPACK_IMPORTED_MODULE_0__.HTTP_ERROR_FALLBACK_ERROR_CODE + \";403\";\nfunction forbidden() {\n    if (true) {\n        throw Object.defineProperty(new Error(\"`forbidden()` is experimental and only allowed to be enabled when `experimental.authInterrupts` is enabled.\"), \"__NEXT_ERROR_CODE\", {\n            value: \"E488\",\n            enumerable: false,\n            configurable: true\n        });\n    }\n    // eslint-disable-next-line no-throw-literal\n    const error = Object.defineProperty(new Error(DIGEST), \"__NEXT_ERROR_CODE\", {\n        value: \"E394\",\n        enumerable: false,\n        configurable: true\n    });\n    error.digest = DIGEST;\n    throw error;\n} //# sourceMappingURL=forbidden.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vY2xpZW50L2NvbXBvbmVudHMvZm9yYmlkZGVuLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBR29EO0FBRXBELDZCQUE2QjtBQUM3Qjs7Ozs7Ozs7Ozs7Q0FXQyxHQUVELE1BQU1DLFNBQVUsS0FBRUQsc0dBQThCQSxHQUFDO0FBRTFDLFNBQVNFO0lBQ2QsSUFBSSxJQUFnRCxFQUFFO1FBQ3BELE1BQU0scUJBRUwsQ0FGSyxJQUFJSSxNQUNQLGdIQURHO21CQUFBO3dCQUFBOzBCQUFBO1FBRU47SUFDRjtJQUVBLDRDQUE0QztJQUM1QyxNQUFNQyxRQUFRLHFCQUFpQixDQUFqQixJQUFJRCxNQUFNTCxTQUFWO2VBQUE7b0JBQUE7c0JBQUE7SUFBZ0I7SUFDNUJNLE1BQWtDQyxNQUFNLEdBQUdQO0lBQzdDLE1BQU1NO0FBQ1IiLCJzb3VyY2VzIjpbIkQ6XFxzcmNcXGNsaWVudFxcY29tcG9uZW50c1xcZm9yYmlkZGVuLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEhUVFBfRVJST1JfRkFMTEJBQ0tfRVJST1JfQ09ERSxcbiAgdHlwZSBIVFRQQWNjZXNzRmFsbGJhY2tFcnJvcixcbn0gZnJvbSAnLi9odHRwLWFjY2Vzcy1mYWxsYmFjay9odHRwLWFjY2Vzcy1mYWxsYmFjaydcblxuLy8gVE9ETzogQWRkIGBmb3JiaWRkZW5gIGRvY3Ncbi8qKlxuICogQGV4cGVyaW1lbnRhbFxuICogVGhpcyBmdW5jdGlvbiBhbGxvd3MgeW91IHRvIHJlbmRlciB0aGUgW2ZvcmJpZGRlbi5qcyBmaWxlXShodHRwczovL25leHRqcy5vcmcvZG9jcy9hcHAvYXBpLXJlZmVyZW5jZS9maWxlLWNvbnZlbnRpb25zL2ZvcmJpZGRlbilcbiAqIHdpdGhpbiBhIHJvdXRlIHNlZ21lbnQgYXMgd2VsbCBhcyBpbmplY3QgYSB0YWcuXG4gKlxuICogYGZvcmJpZGRlbigpYCBjYW4gYmUgdXNlZCBpblxuICogW1NlcnZlciBDb21wb25lbnRzXShodHRwczovL25leHRqcy5vcmcvZG9jcy9hcHAvYnVpbGRpbmcteW91ci1hcHBsaWNhdGlvbi9yZW5kZXJpbmcvc2VydmVyLWNvbXBvbmVudHMpLFxuICogW1JvdXRlIEhhbmRsZXJzXShodHRwczovL25leHRqcy5vcmcvZG9jcy9hcHAvYnVpbGRpbmcteW91ci1hcHBsaWNhdGlvbi9yb3V0aW5nL3JvdXRlLWhhbmRsZXJzKSwgYW5kXG4gKiBbU2VydmVyIEFjdGlvbnNdKGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL2FwcC9idWlsZGluZy15b3VyLWFwcGxpY2F0aW9uL2RhdGEtZmV0Y2hpbmcvc2VydmVyLWFjdGlvbnMtYW5kLW11dGF0aW9ucykuXG4gKlxuICogUmVhZCBtb3JlOiBbTmV4dC5qcyBEb2NzOiBgZm9yYmlkZGVuYF0oaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvYXBwL2FwaS1yZWZlcmVuY2UvZnVuY3Rpb25zL2ZvcmJpZGRlbilcbiAqL1xuXG5jb25zdCBESUdFU1QgPSBgJHtIVFRQX0VSUk9SX0ZBTExCQUNLX0VSUk9SX0NPREV9OzQwM2BcblxuZXhwb3J0IGZ1bmN0aW9uIGZvcmJpZGRlbigpOiBuZXZlciB7XG4gIGlmICghcHJvY2Vzcy5lbnYuX19ORVhUX0VYUEVSSU1FTlRBTF9BVVRIX0lOVEVSUlVQVFMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgXFxgZm9yYmlkZGVuKClcXGAgaXMgZXhwZXJpbWVudGFsIGFuZCBvbmx5IGFsbG93ZWQgdG8gYmUgZW5hYmxlZCB3aGVuIFxcYGV4cGVyaW1lbnRhbC5hdXRoSW50ZXJydXB0c1xcYCBpcyBlbmFibGVkLmBcbiAgICApXG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdGhyb3ctbGl0ZXJhbFxuICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihESUdFU1QpIGFzIEhUVFBBY2Nlc3NGYWxsYmFja0Vycm9yXG4gIDsoZXJyb3IgYXMgSFRUUEFjY2Vzc0ZhbGxiYWNrRXJyb3IpLmRpZ2VzdCA9IERJR0VTVFxuICB0aHJvdyBlcnJvclxufVxuIl0sIm5hbWVzIjpbIkhUVFBfRVJST1JfRkFMTEJBQ0tfRVJST1JfQ09ERSIsIkRJR0VTVCIsImZvcmJpZGRlbiIsInByb2Nlc3MiLCJlbnYiLCJfX05FWFRfRVhQRVJJTUVOVEFMX0FVVEhfSU5URVJSVVBUUyIsIkVycm9yIiwiZXJyb3IiLCJkaWdlc3QiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/client/components/forbidden.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/client/components/hooks-server-context.js":
/*!******************************************************************************!*\
  !*** ./node_modules/next/dist/esm/client/components/hooks-server-context.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DynamicServerError: () => (/* binding */ DynamicServerError),\n/* harmony export */   isDynamicServerError: () => (/* binding */ isDynamicServerError)\n/* harmony export */ });\nconst DYNAMIC_ERROR_CODE = 'DYNAMIC_SERVER_USAGE';\nclass DynamicServerError extends Error {\n    constructor(description){\n        super(\"Dynamic server usage: \" + description), this.description = description, this.digest = DYNAMIC_ERROR_CODE;\n    }\n}\nfunction isDynamicServerError(err) {\n    if (typeof err !== 'object' || err === null || !('digest' in err) || typeof err.digest !== 'string') {\n        return false;\n    }\n    return err.digest === DYNAMIC_ERROR_CODE;\n} //# sourceMappingURL=hooks-server-context.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vY2xpZW50L2NvbXBvbmVudHMvaG9va3Mtc2VydmVyLWNvbnRleHQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxNQUFNQSxxQkFBcUI7QUFFcEIsTUFBTUMsMkJBQTJCQztJQUd0Q0MsWUFBNEJDLFdBQW1CLENBQUU7UUFDL0MsS0FBSyxDQUFFLDJCQUF3QkEsY0FBQUEsSUFBQUEsQ0FETEEsV0FBQUEsR0FBQUEsYUFBQUEsSUFBQUEsQ0FGNUJDLE1BQUFBLEdBQW9DTDtJQUlwQztBQUNGO0FBRU8sU0FBU00scUJBQXFCQyxHQUFZO0lBQy9DLElBQ0UsT0FBT0EsUUFBUSxZQUNmQSxRQUFRLFFBQ1IsQ0FBRSxhQUFZQSxHQUFBQSxDQUFFLElBQ2hCLE9BQU9BLElBQUlGLE1BQU0sS0FBSyxVQUN0QjtRQUNBLE9BQU87SUFDVDtJQUVBLE9BQU9FLElBQUlGLE1BQU0sS0FBS0w7QUFDeEIiLCJzb3VyY2VzIjpbIkQ6XFxzcmNcXGNsaWVudFxcY29tcG9uZW50c1xcaG9va3Mtc2VydmVyLWNvbnRleHQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgRFlOQU1JQ19FUlJPUl9DT0RFID0gJ0RZTkFNSUNfU0VSVkVSX1VTQUdFJ1xuXG5leHBvcnQgY2xhc3MgRHluYW1pY1NlcnZlckVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBkaWdlc3Q6IHR5cGVvZiBEWU5BTUlDX0VSUk9SX0NPREUgPSBEWU5BTUlDX0VSUk9SX0NPREVcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgZGVzY3JpcHRpb246IHN0cmluZykge1xuICAgIHN1cGVyKGBEeW5hbWljIHNlcnZlciB1c2FnZTogJHtkZXNjcmlwdGlvbn1gKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0R5bmFtaWNTZXJ2ZXJFcnJvcihlcnI6IHVua25vd24pOiBlcnIgaXMgRHluYW1pY1NlcnZlckVycm9yIHtcbiAgaWYgKFxuICAgIHR5cGVvZiBlcnIgIT09ICdvYmplY3QnIHx8XG4gICAgZXJyID09PSBudWxsIHx8XG4gICAgISgnZGlnZXN0JyBpbiBlcnIpIHx8XG4gICAgdHlwZW9mIGVyci5kaWdlc3QgIT09ICdzdHJpbmcnXG4gICkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgcmV0dXJuIGVyci5kaWdlc3QgPT09IERZTkFNSUNfRVJST1JfQ09ERVxufVxuIl0sIm5hbWVzIjpbIkRZTkFNSUNfRVJST1JfQ09ERSIsIkR5bmFtaWNTZXJ2ZXJFcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJkZXNjcmlwdGlvbiIsImRpZ2VzdCIsImlzRHluYW1pY1NlcnZlckVycm9yIiwiZXJyIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/client/components/hooks-server-context.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/client/components/http-access-fallback/http-access-fallback.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/next/dist/esm/client/components/http-access-fallback/http-access-fallback.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HTTPAccessErrorStatus: () => (/* binding */ HTTPAccessErrorStatus),\n/* harmony export */   HTTP_ERROR_FALLBACK_ERROR_CODE: () => (/* binding */ HTTP_ERROR_FALLBACK_ERROR_CODE),\n/* harmony export */   getAccessFallbackErrorTypeByStatus: () => (/* binding */ getAccessFallbackErrorTypeByStatus),\n/* harmony export */   getAccessFallbackHTTPStatus: () => (/* binding */ getAccessFallbackHTTPStatus),\n/* harmony export */   isHTTPAccessFallbackError: () => (/* binding */ isHTTPAccessFallbackError)\n/* harmony export */ });\nconst HTTPAccessErrorStatus = {\n    NOT_FOUND: 404,\n    FORBIDDEN: 403,\n    UNAUTHORIZED: 401\n};\nconst ALLOWED_CODES = new Set(Object.values(HTTPAccessErrorStatus));\nconst HTTP_ERROR_FALLBACK_ERROR_CODE = 'NEXT_HTTP_ERROR_FALLBACK';\n/**\n * Checks an error to determine if it's an error generated by\n * the HTTP navigation APIs `notFound()`, `forbidden()` or `unauthorized()`.\n *\n * @param error the error that may reference a HTTP access error\n * @returns true if the error is a HTTP access error\n */ function isHTTPAccessFallbackError(error) {\n    if (typeof error !== 'object' || error === null || !('digest' in error) || typeof error.digest !== 'string') {\n        return false;\n    }\n    const [prefix, httpStatus] = error.digest.split(';');\n    return prefix === HTTP_ERROR_FALLBACK_ERROR_CODE && ALLOWED_CODES.has(Number(httpStatus));\n}\nfunction getAccessFallbackHTTPStatus(error) {\n    const httpStatus = error.digest.split(';')[1];\n    return Number(httpStatus);\n}\nfunction getAccessFallbackErrorTypeByStatus(status) {\n    switch(status){\n        case 401:\n            return 'unauthorized';\n        case 403:\n            return 'forbidden';\n        case 404:\n            return 'not-found';\n        default:\n            return;\n    }\n} //# sourceMappingURL=http-access-fallback.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vY2xpZW50L2NvbXBvbmVudHMvaHR0cC1hY2Nlc3MtZmFsbGJhY2svaHR0cC1hY2Nlc3MtZmFsbGJhY2suanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBTyxNQUFNQSx3QkFBd0I7SUFDbkNDLFdBQVc7SUFDWEMsV0FBVztJQUNYQyxjQUFjO0FBQ2hCLEVBQUM7QUFFRCxNQUFNQyxnQkFBZ0IsSUFBSUMsSUFBSUMsT0FBT0MsTUFBTSxDQUFDUDtBQUVyQyxNQUFNUSxpQ0FBaUMsMkJBQTBCO0FBTXhFOzs7Ozs7Q0FNQyxHQUNNLFNBQVNDLDBCQUNkQyxLQUFjO0lBRWQsSUFDRSxPQUFPQSxVQUFVLFlBQ2pCQSxVQUFVLFFBQ1YsQ0FBRSxhQUFZQSxLQUFBQSxDQUFJLElBQ2xCLE9BQU9BLE1BQU1DLE1BQU0sS0FBSyxVQUN4QjtRQUNBLE9BQU87SUFDVDtJQUNBLE1BQU0sQ0FBQ0MsUUFBUUMsV0FBVyxHQUFHSCxNQUFNQyxNQUFNLENBQUNHLEtBQUssQ0FBQztJQUVoRCxPQUNFRixXQUFXSixrQ0FDWEosY0FBY1csR0FBRyxDQUFDQyxPQUFPSDtBQUU3QjtBQUVPLFNBQVNJLDRCQUNkUCxLQUE4QjtJQUU5QixNQUFNRyxhQUFhSCxNQUFNQyxNQUFNLENBQUNHLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRTtJQUM3QyxPQUFPRSxPQUFPSDtBQUNoQjtBQUVPLFNBQVNLLG1DQUNkQyxNQUFjO0lBRWQsT0FBUUE7UUFDTixLQUFLO1lBQ0gsT0FBTztRQUNULEtBQUs7WUFDSCxPQUFPO1FBQ1QsS0FBSztZQUNILE9BQU87UUFDVDtZQUNFO0lBQ0o7QUFDRiIsInNvdXJjZXMiOlsiRDpcXHNyY1xcY2xpZW50XFxjb21wb25lbnRzXFxodHRwLWFjY2Vzcy1mYWxsYmFja1xcaHR0cC1hY2Nlc3MtZmFsbGJhY2sudHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IEhUVFBBY2Nlc3NFcnJvclN0YXR1cyA9IHtcbiAgTk9UX0ZPVU5EOiA0MDQsXG4gIEZPUkJJRERFTjogNDAzLFxuICBVTkFVVEhPUklaRUQ6IDQwMSxcbn1cblxuY29uc3QgQUxMT1dFRF9DT0RFUyA9IG5ldyBTZXQoT2JqZWN0LnZhbHVlcyhIVFRQQWNjZXNzRXJyb3JTdGF0dXMpKVxuXG5leHBvcnQgY29uc3QgSFRUUF9FUlJPUl9GQUxMQkFDS19FUlJPUl9DT0RFID0gJ05FWFRfSFRUUF9FUlJPUl9GQUxMQkFDSydcblxuZXhwb3J0IHR5cGUgSFRUUEFjY2Vzc0ZhbGxiYWNrRXJyb3IgPSBFcnJvciAmIHtcbiAgZGlnZXN0OiBgJHt0eXBlb2YgSFRUUF9FUlJPUl9GQUxMQkFDS19FUlJPUl9DT0RFfTske3N0cmluZ31gXG59XG5cbi8qKlxuICogQ2hlY2tzIGFuIGVycm9yIHRvIGRldGVybWluZSBpZiBpdCdzIGFuIGVycm9yIGdlbmVyYXRlZCBieVxuICogdGhlIEhUVFAgbmF2aWdhdGlvbiBBUElzIGBub3RGb3VuZCgpYCwgYGZvcmJpZGRlbigpYCBvciBgdW5hdXRob3JpemVkKClgLlxuICpcbiAqIEBwYXJhbSBlcnJvciB0aGUgZXJyb3IgdGhhdCBtYXkgcmVmZXJlbmNlIGEgSFRUUCBhY2Nlc3MgZXJyb3JcbiAqIEByZXR1cm5zIHRydWUgaWYgdGhlIGVycm9yIGlzIGEgSFRUUCBhY2Nlc3MgZXJyb3JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzSFRUUEFjY2Vzc0ZhbGxiYWNrRXJyb3IoXG4gIGVycm9yOiB1bmtub3duXG4pOiBlcnJvciBpcyBIVFRQQWNjZXNzRmFsbGJhY2tFcnJvciB7XG4gIGlmIChcbiAgICB0eXBlb2YgZXJyb3IgIT09ICdvYmplY3QnIHx8XG4gICAgZXJyb3IgPT09IG51bGwgfHxcbiAgICAhKCdkaWdlc3QnIGluIGVycm9yKSB8fFxuICAgIHR5cGVvZiBlcnJvci5kaWdlc3QgIT09ICdzdHJpbmcnXG4gICkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG4gIGNvbnN0IFtwcmVmaXgsIGh0dHBTdGF0dXNdID0gZXJyb3IuZGlnZXN0LnNwbGl0KCc7JylcblxuICByZXR1cm4gKFxuICAgIHByZWZpeCA9PT0gSFRUUF9FUlJPUl9GQUxMQkFDS19FUlJPUl9DT0RFICYmXG4gICAgQUxMT1dFRF9DT0RFUy5oYXMoTnVtYmVyKGh0dHBTdGF0dXMpKVxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRBY2Nlc3NGYWxsYmFja0hUVFBTdGF0dXMoXG4gIGVycm9yOiBIVFRQQWNjZXNzRmFsbGJhY2tFcnJvclxuKTogbnVtYmVyIHtcbiAgY29uc3QgaHR0cFN0YXR1cyA9IGVycm9yLmRpZ2VzdC5zcGxpdCgnOycpWzFdXG4gIHJldHVybiBOdW1iZXIoaHR0cFN0YXR1cylcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEFjY2Vzc0ZhbGxiYWNrRXJyb3JUeXBlQnlTdGF0dXMoXG4gIHN0YXR1czogbnVtYmVyXG4pOiAnbm90LWZvdW5kJyB8ICdmb3JiaWRkZW4nIHwgJ3VuYXV0aG9yaXplZCcgfCB1bmRlZmluZWQge1xuICBzd2l0Y2ggKHN0YXR1cykge1xuICAgIGNhc2UgNDAxOlxuICAgICAgcmV0dXJuICd1bmF1dGhvcml6ZWQnXG4gICAgY2FzZSA0MDM6XG4gICAgICByZXR1cm4gJ2ZvcmJpZGRlbidcbiAgICBjYXNlIDQwNDpcbiAgICAgIHJldHVybiAnbm90LWZvdW5kJ1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm5cbiAgfVxufVxuIl0sIm5hbWVzIjpbIkhUVFBBY2Nlc3NFcnJvclN0YXR1cyIsIk5PVF9GT1VORCIsIkZPUkJJRERFTiIsIlVOQVVUSE9SSVpFRCIsIkFMTE9XRURfQ09ERVMiLCJTZXQiLCJPYmplY3QiLCJ2YWx1ZXMiLCJIVFRQX0VSUk9SX0ZBTExCQUNLX0VSUk9SX0NPREUiLCJpc0hUVFBBY2Nlc3NGYWxsYmFja0Vycm9yIiwiZXJyb3IiLCJkaWdlc3QiLCJwcmVmaXgiLCJodHRwU3RhdHVzIiwic3BsaXQiLCJoYXMiLCJOdW1iZXIiLCJnZXRBY2Nlc3NGYWxsYmFja0hUVFBTdGF0dXMiLCJnZXRBY2Nlc3NGYWxsYmFja0Vycm9yVHlwZUJ5U3RhdHVzIiwic3RhdHVzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/client/components/http-access-fallback/http-access-fallback.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/client/components/is-next-router-error.js":
/*!******************************************************************************!*\
  !*** ./node_modules/next/dist/esm/client/components/is-next-router-error.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isNextRouterError: () => (/* binding */ isNextRouterError)\n/* harmony export */ });\n/* harmony import */ var _http_access_fallback_http_access_fallback__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./http-access-fallback/http-access-fallback */ \"(middleware)/./node_modules/next/dist/esm/client/components/http-access-fallback/http-access-fallback.js\");\n/* harmony import */ var _redirect_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./redirect-error */ \"(middleware)/./node_modules/next/dist/esm/client/components/redirect-error.js\");\n\n\n/**\n * Returns true if the error is a navigation signal error. These errors are\n * thrown by user code to perform navigation operations and interrupt the React\n * render.\n */ function isNextRouterError(error) {\n    return (0,_redirect_error__WEBPACK_IMPORTED_MODULE_1__.isRedirectError)(error) || (0,_http_access_fallback_http_access_fallback__WEBPACK_IMPORTED_MODULE_0__.isHTTPAccessFallbackError)(error);\n} //# sourceMappingURL=is-next-router-error.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vY2xpZW50L2NvbXBvbmVudHMvaXMtbmV4dC1yb3V0ZXItZXJyb3IuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBR29EO0FBQ2tCO0FBRXRFOzs7O0NBSUMsR0FDTSxTQUFTRSxrQkFDZEMsS0FBYztJQUVkLE9BQU9GLGdFQUFlQSxDQUFDRSxVQUFVSCxxR0FBeUJBLENBQUNHO0FBQzdEIiwic291cmNlcyI6WyJEOlxcc3JjXFxjbGllbnRcXGNvbXBvbmVudHNcXGlzLW5leHQtcm91dGVyLWVycm9yLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGlzSFRUUEFjY2Vzc0ZhbGxiYWNrRXJyb3IsXG4gIHR5cGUgSFRUUEFjY2Vzc0ZhbGxiYWNrRXJyb3IsXG59IGZyb20gJy4vaHR0cC1hY2Nlc3MtZmFsbGJhY2svaHR0cC1hY2Nlc3MtZmFsbGJhY2snXG5pbXBvcnQgeyBpc1JlZGlyZWN0RXJyb3IsIHR5cGUgUmVkaXJlY3RFcnJvciB9IGZyb20gJy4vcmVkaXJlY3QtZXJyb3InXG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBlcnJvciBpcyBhIG5hdmlnYXRpb24gc2lnbmFsIGVycm9yLiBUaGVzZSBlcnJvcnMgYXJlXG4gKiB0aHJvd24gYnkgdXNlciBjb2RlIHRvIHBlcmZvcm0gbmF2aWdhdGlvbiBvcGVyYXRpb25zIGFuZCBpbnRlcnJ1cHQgdGhlIFJlYWN0XG4gKiByZW5kZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc05leHRSb3V0ZXJFcnJvcihcbiAgZXJyb3I6IHVua25vd25cbik6IGVycm9yIGlzIFJlZGlyZWN0RXJyb3IgfCBIVFRQQWNjZXNzRmFsbGJhY2tFcnJvciB7XG4gIHJldHVybiBpc1JlZGlyZWN0RXJyb3IoZXJyb3IpIHx8IGlzSFRUUEFjY2Vzc0ZhbGxiYWNrRXJyb3IoZXJyb3IpXG59XG4iXSwibmFtZXMiOlsiaXNIVFRQQWNjZXNzRmFsbGJhY2tFcnJvciIsImlzUmVkaXJlY3RFcnJvciIsImlzTmV4dFJvdXRlckVycm9yIiwiZXJyb3IiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/client/components/is-next-router-error.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/client/components/navigation.react-server.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/next/dist/esm/client/components/navigation.react-server.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ReadonlyURLSearchParams: () => (/* binding */ ReadonlyURLSearchParams),\n/* harmony export */   RedirectType: () => (/* reexport safe */ _redirect_error__WEBPACK_IMPORTED_MODULE_1__.RedirectType),\n/* harmony export */   forbidden: () => (/* reexport safe */ _forbidden__WEBPACK_IMPORTED_MODULE_3__.forbidden),\n/* harmony export */   notFound: () => (/* reexport safe */ _not_found__WEBPACK_IMPORTED_MODULE_2__.notFound),\n/* harmony export */   permanentRedirect: () => (/* reexport safe */ _redirect__WEBPACK_IMPORTED_MODULE_0__.permanentRedirect),\n/* harmony export */   redirect: () => (/* reexport safe */ _redirect__WEBPACK_IMPORTED_MODULE_0__.redirect),\n/* harmony export */   unauthorized: () => (/* reexport safe */ _unauthorized__WEBPACK_IMPORTED_MODULE_4__.unauthorized),\n/* harmony export */   unstable_isUnrecognizedActionError: () => (/* binding */ unstable_isUnrecognizedActionError),\n/* harmony export */   unstable_rethrow: () => (/* reexport safe */ _unstable_rethrow__WEBPACK_IMPORTED_MODULE_5__.unstable_rethrow)\n/* harmony export */ });\n/* harmony import */ var _redirect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./redirect */ \"(middleware)/./node_modules/next/dist/esm/client/components/redirect.js\");\n/* harmony import */ var _redirect_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./redirect-error */ \"(middleware)/./node_modules/next/dist/esm/client/components/redirect-error.js\");\n/* harmony import */ var _not_found__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./not-found */ \"(middleware)/./node_modules/next/dist/esm/client/components/not-found.js\");\n/* harmony import */ var _forbidden__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./forbidden */ \"(middleware)/./node_modules/next/dist/esm/client/components/forbidden.js\");\n/* harmony import */ var _unauthorized__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./unauthorized */ \"(middleware)/./node_modules/next/dist/esm/client/components/unauthorized.js\");\n/* harmony import */ var _unstable_rethrow__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./unstable-rethrow */ \"(middleware)/./node_modules/next/dist/esm/client/components/unstable-rethrow.js\");\n/** @internal */ class ReadonlyURLSearchParamsError extends Error {\n    constructor(){\n        super('Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams');\n    }\n}\nclass ReadonlyURLSearchParams extends URLSearchParams {\n    /** @deprecated Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams */ append() {\n        throw new ReadonlyURLSearchParamsError();\n    }\n    /** @deprecated Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams */ delete() {\n        throw new ReadonlyURLSearchParamsError();\n    }\n    /** @deprecated Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams */ set() {\n        throw new ReadonlyURLSearchParamsError();\n    }\n    /** @deprecated Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams */ sort() {\n        throw new ReadonlyURLSearchParamsError();\n    }\n}\nfunction unstable_isUnrecognizedActionError() {\n    throw Object.defineProperty(new Error('`unstable_isUnrecognizedActionError` can only be used on the client.'), \"__NEXT_ERROR_CODE\", {\n        value: \"E776\",\n        enumerable: false,\n        configurable: true\n    });\n}\n\n\n\n\n\n\n //# sourceMappingURL=navigation.react-server.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vY2xpZW50L2NvbXBvbmVudHMvbmF2aWdhdGlvbi5yZWFjdC1zZXJ2ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsY0FBYyxHQUNkLE1BQU1BLHFDQUFxQ0M7SUFDekNDLGFBQWM7UUFDWixLQUFLLENBQ0g7SUFFSjtBQUNGO0FBRUEsTUFBTUMsZ0NBQWdDQztJQUNwQyx3S0FBd0ssR0FDeEtDLFNBQVM7UUFDUCxNQUFNLElBQUlMO0lBQ1o7SUFDQSx3S0FBd0ssR0FDeEtNLFNBQVM7UUFDUCxNQUFNLElBQUlOO0lBQ1o7SUFDQSx3S0FBd0ssR0FDeEtPLE1BQU07UUFDSixNQUFNLElBQUlQO0lBQ1o7SUFDQSx3S0FBd0ssR0FDeEtRLE9BQU87UUFDTCxNQUFNLElBQUlSO0lBQ1o7QUFDRjtBQUVPLFNBQVNTO0lBQ2QsTUFBTSxxQkFFTCxDQUZLLElBQUlSLE1BQ1IseUVBREk7ZUFBQTtvQkFBQTtzQkFBQTtJQUVOO0FBQ0Y7QUFFd0Q7QUFDVDtBQUNUO0FBQ0M7QUFDTTtBQUNRO0FBQ25CIiwic291cmNlcyI6WyJEOlxcc3JjXFxjbGllbnRcXGNvbXBvbmVudHNcXG5hdmlnYXRpb24ucmVhY3Qtc2VydmVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBAaW50ZXJuYWwgKi9cbmNsYXNzIFJlYWRvbmx5VVJMU2VhcmNoUGFyYW1zRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKFxuICAgICAgJ01ldGhvZCB1bmF2YWlsYWJsZSBvbiBgUmVhZG9ubHlVUkxTZWFyY2hQYXJhbXNgLiBSZWFkIG1vcmU6IGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL2FwcC9hcGktcmVmZXJlbmNlL2Z1bmN0aW9ucy91c2Utc2VhcmNoLXBhcmFtcyN1cGRhdGluZy1zZWFyY2hwYXJhbXMnXG4gICAgKVxuICB9XG59XG5cbmNsYXNzIFJlYWRvbmx5VVJMU2VhcmNoUGFyYW1zIGV4dGVuZHMgVVJMU2VhcmNoUGFyYW1zIHtcbiAgLyoqIEBkZXByZWNhdGVkIE1ldGhvZCB1bmF2YWlsYWJsZSBvbiBgUmVhZG9ubHlVUkxTZWFyY2hQYXJhbXNgLiBSZWFkIG1vcmU6IGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL2FwcC9hcGktcmVmZXJlbmNlL2Z1bmN0aW9ucy91c2Utc2VhcmNoLXBhcmFtcyN1cGRhdGluZy1zZWFyY2hwYXJhbXMgKi9cbiAgYXBwZW5kKCkge1xuICAgIHRocm93IG5ldyBSZWFkb25seVVSTFNlYXJjaFBhcmFtc0Vycm9yKClcbiAgfVxuICAvKiogQGRlcHJlY2F0ZWQgTWV0aG9kIHVuYXZhaWxhYmxlIG9uIGBSZWFkb25seVVSTFNlYXJjaFBhcmFtc2AuIFJlYWQgbW9yZTogaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvYXBwL2FwaS1yZWZlcmVuY2UvZnVuY3Rpb25zL3VzZS1zZWFyY2gtcGFyYW1zI3VwZGF0aW5nLXNlYXJjaHBhcmFtcyAqL1xuICBkZWxldGUoKSB7XG4gICAgdGhyb3cgbmV3IFJlYWRvbmx5VVJMU2VhcmNoUGFyYW1zRXJyb3IoKVxuICB9XG4gIC8qKiBAZGVwcmVjYXRlZCBNZXRob2QgdW5hdmFpbGFibGUgb24gYFJlYWRvbmx5VVJMU2VhcmNoUGFyYW1zYC4gUmVhZCBtb3JlOiBodHRwczovL25leHRqcy5vcmcvZG9jcy9hcHAvYXBpLXJlZmVyZW5jZS9mdW5jdGlvbnMvdXNlLXNlYXJjaC1wYXJhbXMjdXBkYXRpbmctc2VhcmNocGFyYW1zICovXG4gIHNldCgpIHtcbiAgICB0aHJvdyBuZXcgUmVhZG9ubHlVUkxTZWFyY2hQYXJhbXNFcnJvcigpXG4gIH1cbiAgLyoqIEBkZXByZWNhdGVkIE1ldGhvZCB1bmF2YWlsYWJsZSBvbiBgUmVhZG9ubHlVUkxTZWFyY2hQYXJhbXNgLiBSZWFkIG1vcmU6IGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL2FwcC9hcGktcmVmZXJlbmNlL2Z1bmN0aW9ucy91c2Utc2VhcmNoLXBhcmFtcyN1cGRhdGluZy1zZWFyY2hwYXJhbXMgKi9cbiAgc29ydCgpIHtcbiAgICB0aHJvdyBuZXcgUmVhZG9ubHlVUkxTZWFyY2hQYXJhbXNFcnJvcigpXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVuc3RhYmxlX2lzVW5yZWNvZ25pemVkQWN0aW9uRXJyb3IoKTogYm9vbGVhbiB7XG4gIHRocm93IG5ldyBFcnJvcihcbiAgICAnYHVuc3RhYmxlX2lzVW5yZWNvZ25pemVkQWN0aW9uRXJyb3JgIGNhbiBvbmx5IGJlIHVzZWQgb24gdGhlIGNsaWVudC4nXG4gIClcbn1cblxuZXhwb3J0IHsgcmVkaXJlY3QsIHBlcm1hbmVudFJlZGlyZWN0IH0gZnJvbSAnLi9yZWRpcmVjdCdcbmV4cG9ydCB7IFJlZGlyZWN0VHlwZSB9IGZyb20gJy4vcmVkaXJlY3QtZXJyb3InXG5leHBvcnQgeyBub3RGb3VuZCB9IGZyb20gJy4vbm90LWZvdW5kJ1xuZXhwb3J0IHsgZm9yYmlkZGVuIH0gZnJvbSAnLi9mb3JiaWRkZW4nXG5leHBvcnQgeyB1bmF1dGhvcml6ZWQgfSBmcm9tICcuL3VuYXV0aG9yaXplZCdcbmV4cG9ydCB7IHVuc3RhYmxlX3JldGhyb3cgfSBmcm9tICcuL3Vuc3RhYmxlLXJldGhyb3cnXG5leHBvcnQgeyBSZWFkb25seVVSTFNlYXJjaFBhcmFtcyB9XG4iXSwibmFtZXMiOlsiUmVhZG9ubHlVUkxTZWFyY2hQYXJhbXNFcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJSZWFkb25seVVSTFNlYXJjaFBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsImFwcGVuZCIsImRlbGV0ZSIsInNldCIsInNvcnQiLCJ1bnN0YWJsZV9pc1VucmVjb2duaXplZEFjdGlvbkVycm9yIiwicmVkaXJlY3QiLCJwZXJtYW5lbnRSZWRpcmVjdCIsIlJlZGlyZWN0VHlwZSIsIm5vdEZvdW5kIiwiZm9yYmlkZGVuIiwidW5hdXRob3JpemVkIiwidW5zdGFibGVfcmV0aHJvdyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/client/components/navigation.react-server.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/client/components/not-found.js":
/*!*******************************************************************!*\
  !*** ./node_modules/next/dist/esm/client/components/not-found.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   notFound: () => (/* binding */ notFound)\n/* harmony export */ });\n/* harmony import */ var _http_access_fallback_http_access_fallback__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./http-access-fallback/http-access-fallback */ \"(middleware)/./node_modules/next/dist/esm/client/components/http-access-fallback/http-access-fallback.js\");\n\n/**\n * This function allows you to render the [not-found.js file](https://nextjs.org/docs/app/api-reference/file-conventions/not-found)\n * within a route segment as well as inject a tag.\n *\n * `notFound()` can be used in\n * [Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components),\n * [Route Handlers](https://nextjs.org/docs/app/building-your-application/routing/route-handlers), and\n * [Server Actions](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations).\n *\n * - In a Server Component, this will insert a `<meta name=\"robots\" content=\"noindex\" />` meta tag and set the status code to 404.\n * - In a Route Handler or Server Action, it will serve a 404 to the caller.\n *\n * Read more: [Next.js Docs: `notFound`](https://nextjs.org/docs/app/api-reference/functions/not-found)\n */ const DIGEST = \"\" + _http_access_fallback_http_access_fallback__WEBPACK_IMPORTED_MODULE_0__.HTTP_ERROR_FALLBACK_ERROR_CODE + \";404\";\nfunction notFound() {\n    // eslint-disable-next-line no-throw-literal\n    const error = Object.defineProperty(new Error(DIGEST), \"__NEXT_ERROR_CODE\", {\n        value: \"E394\",\n        enumerable: false,\n        configurable: true\n    });\n    error.digest = DIGEST;\n    throw error;\n} //# sourceMappingURL=not-found.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vY2xpZW50L2NvbXBvbmVudHMvbm90LWZvdW5kLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBR29EO0FBRXBEOzs7Ozs7Ozs7Ozs7O0NBYUMsR0FFRCxNQUFNQyxTQUFVLEtBQUVELHNHQUE4QkEsR0FBQztBQUUxQyxTQUFTRTtJQUNkLDRDQUE0QztJQUM1QyxNQUFNQyxRQUFRLHFCQUFpQixDQUFqQixJQUFJQyxNQUFNSCxTQUFWO2VBQUE7b0JBQUE7c0JBQUE7SUFBZ0I7SUFDNUJFLE1BQWtDRSxNQUFNLEdBQUdKO0lBRTdDLE1BQU1FO0FBQ1IiLCJzb3VyY2VzIjpbIkQ6XFxzcmNcXGNsaWVudFxcY29tcG9uZW50c1xcbm90LWZvdW5kLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEhUVFBfRVJST1JfRkFMTEJBQ0tfRVJST1JfQ09ERSxcbiAgdHlwZSBIVFRQQWNjZXNzRmFsbGJhY2tFcnJvcixcbn0gZnJvbSAnLi9odHRwLWFjY2Vzcy1mYWxsYmFjay9odHRwLWFjY2Vzcy1mYWxsYmFjaydcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGFsbG93cyB5b3UgdG8gcmVuZGVyIHRoZSBbbm90LWZvdW5kLmpzIGZpbGVdKGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL2FwcC9hcGktcmVmZXJlbmNlL2ZpbGUtY29udmVudGlvbnMvbm90LWZvdW5kKVxuICogd2l0aGluIGEgcm91dGUgc2VnbWVudCBhcyB3ZWxsIGFzIGluamVjdCBhIHRhZy5cbiAqXG4gKiBgbm90Rm91bmQoKWAgY2FuIGJlIHVzZWQgaW5cbiAqIFtTZXJ2ZXIgQ29tcG9uZW50c10oaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvYXBwL2J1aWxkaW5nLXlvdXItYXBwbGljYXRpb24vcmVuZGVyaW5nL3NlcnZlci1jb21wb25lbnRzKSxcbiAqIFtSb3V0ZSBIYW5kbGVyc10oaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvYXBwL2J1aWxkaW5nLXlvdXItYXBwbGljYXRpb24vcm91dGluZy9yb3V0ZS1oYW5kbGVycyksIGFuZFxuICogW1NlcnZlciBBY3Rpb25zXShodHRwczovL25leHRqcy5vcmcvZG9jcy9hcHAvYnVpbGRpbmcteW91ci1hcHBsaWNhdGlvbi9kYXRhLWZldGNoaW5nL3NlcnZlci1hY3Rpb25zLWFuZC1tdXRhdGlvbnMpLlxuICpcbiAqIC0gSW4gYSBTZXJ2ZXIgQ29tcG9uZW50LCB0aGlzIHdpbGwgaW5zZXJ0IGEgYDxtZXRhIG5hbWU9XCJyb2JvdHNcIiBjb250ZW50PVwibm9pbmRleFwiIC8+YCBtZXRhIHRhZyBhbmQgc2V0IHRoZSBzdGF0dXMgY29kZSB0byA0MDQuXG4gKiAtIEluIGEgUm91dGUgSGFuZGxlciBvciBTZXJ2ZXIgQWN0aW9uLCBpdCB3aWxsIHNlcnZlIGEgNDA0IHRvIHRoZSBjYWxsZXIuXG4gKlxuICogUmVhZCBtb3JlOiBbTmV4dC5qcyBEb2NzOiBgbm90Rm91bmRgXShodHRwczovL25leHRqcy5vcmcvZG9jcy9hcHAvYXBpLXJlZmVyZW5jZS9mdW5jdGlvbnMvbm90LWZvdW5kKVxuICovXG5cbmNvbnN0IERJR0VTVCA9IGAke0hUVFBfRVJST1JfRkFMTEJBQ0tfRVJST1JfQ09ERX07NDA0YFxuXG5leHBvcnQgZnVuY3Rpb24gbm90Rm91bmQoKTogbmV2ZXIge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdGhyb3ctbGl0ZXJhbFxuICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihESUdFU1QpIGFzIEhUVFBBY2Nlc3NGYWxsYmFja0Vycm9yXG4gIDsoZXJyb3IgYXMgSFRUUEFjY2Vzc0ZhbGxiYWNrRXJyb3IpLmRpZ2VzdCA9IERJR0VTVFxuXG4gIHRocm93IGVycm9yXG59XG4iXSwibmFtZXMiOlsiSFRUUF9FUlJPUl9GQUxMQkFDS19FUlJPUl9DT0RFIiwiRElHRVNUIiwibm90Rm91bmQiLCJlcnJvciIsIkVycm9yIiwiZGlnZXN0Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/client/components/not-found.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/client/components/redirect-error.js":
/*!************************************************************************!*\
  !*** ./node_modules/next/dist/esm/client/components/redirect-error.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   REDIRECT_ERROR_CODE: () => (/* binding */ REDIRECT_ERROR_CODE),\n/* harmony export */   RedirectType: () => (/* binding */ RedirectType),\n/* harmony export */   isRedirectError: () => (/* binding */ isRedirectError)\n/* harmony export */ });\n/* harmony import */ var _redirect_status_code__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./redirect-status-code */ \"(middleware)/./node_modules/next/dist/esm/client/components/redirect-status-code.js\");\n\nconst REDIRECT_ERROR_CODE = 'NEXT_REDIRECT';\nvar RedirectType = /*#__PURE__*/ function(RedirectType) {\n    RedirectType[\"push\"] = \"push\";\n    RedirectType[\"replace\"] = \"replace\";\n    return RedirectType;\n}({});\n/**\n * Checks an error to determine if it's an error generated by the\n * `redirect(url)` helper.\n *\n * @param error the error that may reference a redirect error\n * @returns true if the error is a redirect error\n */ function isRedirectError(error) {\n    if (typeof error !== 'object' || error === null || !('digest' in error) || typeof error.digest !== 'string') {\n        return false;\n    }\n    const digest = error.digest.split(';');\n    const [errorCode, type] = digest;\n    const destination = digest.slice(2, -2).join(';');\n    const status = digest.at(-2);\n    const statusCode = Number(status);\n    return errorCode === REDIRECT_ERROR_CODE && (type === 'replace' || type === 'push') && typeof destination === 'string' && !isNaN(statusCode) && statusCode in _redirect_status_code__WEBPACK_IMPORTED_MODULE_0__.RedirectStatusCode;\n} //# sourceMappingURL=redirect-error.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vY2xpZW50L2NvbXBvbmVudHMvcmVkaXJlY3QtZXJyb3IuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUEyRDtBQUVwRCxNQUFNQyxzQkFBc0IsZ0JBQWU7QUFFM0MsSUFBS0MsZUFBQUEsV0FBQUEsR0FBQUEsU0FBQUEsWUFBQUE7OztXQUFBQTtNQUdYO0FBTUQ7Ozs7OztDQU1DLEdBQ00sU0FBU0MsZ0JBQWdCQyxLQUFjO0lBQzVDLElBQ0UsT0FBT0EsVUFBVSxZQUNqQkEsVUFBVSxRQUNWLENBQUUsYUFBWUEsS0FBQUEsQ0FBSSxJQUNsQixPQUFPQSxNQUFNQyxNQUFNLEtBQUssVUFDeEI7UUFDQSxPQUFPO0lBQ1Q7SUFFQSxNQUFNQSxTQUFTRCxNQUFNQyxNQUFNLENBQUNDLEtBQUssQ0FBQztJQUNsQyxNQUFNLENBQUNDLFdBQVdDLEtBQUssR0FBR0g7SUFDMUIsTUFBTUksY0FBY0osT0FBT0ssS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHQyxJQUFJLENBQUM7SUFDN0MsTUFBTUMsU0FBU1AsT0FBT1EsRUFBRSxDQUFDLENBQUM7SUFFMUIsTUFBTUMsYUFBYUMsT0FBT0g7SUFFMUIsT0FDRUwsY0FBY04sdUJBQ2JPLENBQUFBLFNBQVMsYUFBYUEsU0FBUyxPQUFLLElBQ3JDLE9BQU9DLGdCQUFnQixZQUN2QixDQUFDTyxNQUFNRixlQUNQQSxjQUFjZCxxRUFBa0JBO0FBRXBDIiwic291cmNlcyI6WyJEOlxcc3JjXFxjbGllbnRcXGNvbXBvbmVudHNcXHJlZGlyZWN0LWVycm9yLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlZGlyZWN0U3RhdHVzQ29kZSB9IGZyb20gJy4vcmVkaXJlY3Qtc3RhdHVzLWNvZGUnXG5cbmV4cG9ydCBjb25zdCBSRURJUkVDVF9FUlJPUl9DT0RFID0gJ05FWFRfUkVESVJFQ1QnXG5cbmV4cG9ydCBlbnVtIFJlZGlyZWN0VHlwZSB7XG4gIHB1c2ggPSAncHVzaCcsXG4gIHJlcGxhY2UgPSAncmVwbGFjZScsXG59XG5cbmV4cG9ydCB0eXBlIFJlZGlyZWN0RXJyb3IgPSBFcnJvciAmIHtcbiAgZGlnZXN0OiBgJHt0eXBlb2YgUkVESVJFQ1RfRVJST1JfQ09ERX07JHtSZWRpcmVjdFR5cGV9OyR7c3RyaW5nfTske1JlZGlyZWN0U3RhdHVzQ29kZX07YFxufVxuXG4vKipcbiAqIENoZWNrcyBhbiBlcnJvciB0byBkZXRlcm1pbmUgaWYgaXQncyBhbiBlcnJvciBnZW5lcmF0ZWQgYnkgdGhlXG4gKiBgcmVkaXJlY3QodXJsKWAgaGVscGVyLlxuICpcbiAqIEBwYXJhbSBlcnJvciB0aGUgZXJyb3IgdGhhdCBtYXkgcmVmZXJlbmNlIGEgcmVkaXJlY3QgZXJyb3JcbiAqIEByZXR1cm5zIHRydWUgaWYgdGhlIGVycm9yIGlzIGEgcmVkaXJlY3QgZXJyb3JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzUmVkaXJlY3RFcnJvcihlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIFJlZGlyZWN0RXJyb3Ige1xuICBpZiAoXG4gICAgdHlwZW9mIGVycm9yICE9PSAnb2JqZWN0JyB8fFxuICAgIGVycm9yID09PSBudWxsIHx8XG4gICAgISgnZGlnZXN0JyBpbiBlcnJvcikgfHxcbiAgICB0eXBlb2YgZXJyb3IuZGlnZXN0ICE9PSAnc3RyaW5nJ1xuICApIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGNvbnN0IGRpZ2VzdCA9IGVycm9yLmRpZ2VzdC5zcGxpdCgnOycpXG4gIGNvbnN0IFtlcnJvckNvZGUsIHR5cGVdID0gZGlnZXN0XG4gIGNvbnN0IGRlc3RpbmF0aW9uID0gZGlnZXN0LnNsaWNlKDIsIC0yKS5qb2luKCc7JylcbiAgY29uc3Qgc3RhdHVzID0gZGlnZXN0LmF0KC0yKVxuXG4gIGNvbnN0IHN0YXR1c0NvZGUgPSBOdW1iZXIoc3RhdHVzKVxuXG4gIHJldHVybiAoXG4gICAgZXJyb3JDb2RlID09PSBSRURJUkVDVF9FUlJPUl9DT0RFICYmXG4gICAgKHR5cGUgPT09ICdyZXBsYWNlJyB8fCB0eXBlID09PSAncHVzaCcpICYmXG4gICAgdHlwZW9mIGRlc3RpbmF0aW9uID09PSAnc3RyaW5nJyAmJlxuICAgICFpc05hTihzdGF0dXNDb2RlKSAmJlxuICAgIHN0YXR1c0NvZGUgaW4gUmVkaXJlY3RTdGF0dXNDb2RlXG4gIClcbn1cbiJdLCJuYW1lcyI6WyJSZWRpcmVjdFN0YXR1c0NvZGUiLCJSRURJUkVDVF9FUlJPUl9DT0RFIiwiUmVkaXJlY3RUeXBlIiwiaXNSZWRpcmVjdEVycm9yIiwiZXJyb3IiLCJkaWdlc3QiLCJzcGxpdCIsImVycm9yQ29kZSIsInR5cGUiLCJkZXN0aW5hdGlvbiIsInNsaWNlIiwiam9pbiIsInN0YXR1cyIsImF0Iiwic3RhdHVzQ29kZSIsIk51bWJlciIsImlzTmFOIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/client/components/redirect-error.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/client/components/redirect-status-code.js":
/*!******************************************************************************!*\
  !*** ./node_modules/next/dist/esm/client/components/redirect-status-code.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RedirectStatusCode: () => (/* binding */ RedirectStatusCode)\n/* harmony export */ });\nvar RedirectStatusCode = /*#__PURE__*/ function(RedirectStatusCode) {\n    RedirectStatusCode[RedirectStatusCode[\"SeeOther\"] = 303] = \"SeeOther\";\n    RedirectStatusCode[RedirectStatusCode[\"TemporaryRedirect\"] = 307] = \"TemporaryRedirect\";\n    RedirectStatusCode[RedirectStatusCode[\"PermanentRedirect\"] = 308] = \"PermanentRedirect\";\n    return RedirectStatusCode;\n}({}); //# sourceMappingURL=redirect-status-code.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vY2xpZW50L2NvbXBvbmVudHMvcmVkaXJlY3Qtc3RhdHVzLWNvZGUuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPLElBQUtBLHFCQUFBQSxXQUFBQSxHQUFBQSxTQUFBQSxrQkFBQUE7Ozs7V0FBQUE7TUFJWCIsInNvdXJjZXMiOlsiRDpcXHNyY1xcY2xpZW50XFxjb21wb25lbnRzXFxyZWRpcmVjdC1zdGF0dXMtY29kZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZW51bSBSZWRpcmVjdFN0YXR1c0NvZGUge1xuICBTZWVPdGhlciA9IDMwMyxcbiAgVGVtcG9yYXJ5UmVkaXJlY3QgPSAzMDcsXG4gIFBlcm1hbmVudFJlZGlyZWN0ID0gMzA4LFxufVxuIl0sIm5hbWVzIjpbIlJlZGlyZWN0U3RhdHVzQ29kZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/client/components/redirect-status-code.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/client/components/redirect.js":
/*!******************************************************************!*\
  !*** ./node_modules/next/dist/esm/client/components/redirect.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getRedirectError: () => (/* binding */ getRedirectError),\n/* harmony export */   getRedirectStatusCodeFromError: () => (/* binding */ getRedirectStatusCodeFromError),\n/* harmony export */   getRedirectTypeFromError: () => (/* binding */ getRedirectTypeFromError),\n/* harmony export */   getURLFromRedirectError: () => (/* binding */ getURLFromRedirectError),\n/* harmony export */   permanentRedirect: () => (/* binding */ permanentRedirect),\n/* harmony export */   redirect: () => (/* binding */ redirect)\n/* harmony export */ });\n/* harmony import */ var _redirect_status_code__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./redirect-status-code */ \"(middleware)/./node_modules/next/dist/esm/client/components/redirect-status-code.js\");\n/* harmony import */ var _redirect_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./redirect-error */ \"(middleware)/./node_modules/next/dist/esm/client/components/redirect-error.js\");\n\n\nconst actionAsyncStorage =  true ? (__webpack_require__(/*! ../../server/app-render/action-async-storage.external */ \"(shared)/./node_modules/next/dist/esm/server/app-render/action-async-storage.external.js\").actionAsyncStorage) : 0;\nfunction getRedirectError(url, type, statusCode) {\n    if (statusCode === void 0) statusCode = _redirect_status_code__WEBPACK_IMPORTED_MODULE_0__.RedirectStatusCode.TemporaryRedirect;\n    const error = Object.defineProperty(new Error(_redirect_error__WEBPACK_IMPORTED_MODULE_1__.REDIRECT_ERROR_CODE), \"__NEXT_ERROR_CODE\", {\n        value: \"E394\",\n        enumerable: false,\n        configurable: true\n    });\n    error.digest = _redirect_error__WEBPACK_IMPORTED_MODULE_1__.REDIRECT_ERROR_CODE + \";\" + type + \";\" + url + \";\" + statusCode + \";\";\n    return error;\n}\n/**\n * This function allows you to redirect the user to another URL. It can be used in\n * [Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components),\n * [Route Handlers](https://nextjs.org/docs/app/building-your-application/routing/route-handlers), and\n * [Server Actions](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations).\n *\n * - In a Server Component, this will insert a meta tag to redirect the user to the target page.\n * - In a Route Handler or Server Action, it will serve a 307/303 to the caller.\n * - In a Server Action, type defaults to 'push' and 'replace' elsewhere.\n *\n * Read more: [Next.js Docs: `redirect`](https://nextjs.org/docs/app/api-reference/functions/redirect)\n */ function redirect(/** The URL to redirect to */ url, type) {\n    var _actionAsyncStorage_getStore;\n    type != null ? type : type = (actionAsyncStorage == null ? void 0 : (_actionAsyncStorage_getStore = actionAsyncStorage.getStore()) == null ? void 0 : _actionAsyncStorage_getStore.isAction) ? _redirect_error__WEBPACK_IMPORTED_MODULE_1__.RedirectType.push : _redirect_error__WEBPACK_IMPORTED_MODULE_1__.RedirectType.replace;\n    throw getRedirectError(url, type, _redirect_status_code__WEBPACK_IMPORTED_MODULE_0__.RedirectStatusCode.TemporaryRedirect);\n}\n/**\n * This function allows you to redirect the user to another URL. It can be used in\n * [Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components),\n * [Route Handlers](https://nextjs.org/docs/app/building-your-application/routing/route-handlers), and\n * [Server Actions](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations).\n *\n * - In a Server Component, this will insert a meta tag to redirect the user to the target page.\n * - In a Route Handler or Server Action, it will serve a 308/303 to the caller.\n *\n * Read more: [Next.js Docs: `redirect`](https://nextjs.org/docs/app/api-reference/functions/redirect)\n */ function permanentRedirect(/** The URL to redirect to */ url, type) {\n    if (type === void 0) type = _redirect_error__WEBPACK_IMPORTED_MODULE_1__.RedirectType.replace;\n    throw getRedirectError(url, type, _redirect_status_code__WEBPACK_IMPORTED_MODULE_0__.RedirectStatusCode.PermanentRedirect);\n}\nfunction getURLFromRedirectError(error) {\n    if (!(0,_redirect_error__WEBPACK_IMPORTED_MODULE_1__.isRedirectError)(error)) return null;\n    // Slices off the beginning of the digest that contains the code and the\n    // separating ';'.\n    return error.digest.split(';').slice(2, -2).join(';');\n}\nfunction getRedirectTypeFromError(error) {\n    if (!(0,_redirect_error__WEBPACK_IMPORTED_MODULE_1__.isRedirectError)(error)) {\n        throw Object.defineProperty(new Error('Not a redirect error'), \"__NEXT_ERROR_CODE\", {\n            value: \"E260\",\n            enumerable: false,\n            configurable: true\n        });\n    }\n    return error.digest.split(';', 2)[1];\n}\nfunction getRedirectStatusCodeFromError(error) {\n    if (!(0,_redirect_error__WEBPACK_IMPORTED_MODULE_1__.isRedirectError)(error)) {\n        throw Object.defineProperty(new Error('Not a redirect error'), \"__NEXT_ERROR_CODE\", {\n            value: \"E260\",\n            enumerable: false,\n            configurable: true\n        });\n    }\n    return Number(error.digest.split(';').at(-2));\n} //# sourceMappingURL=redirect.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vY2xpZW50L2NvbXBvbmVudHMvcmVkaXJlY3QuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBMkQ7QUFNbEM7QUFFekIsTUFBTUkscUJBQ0osS0FBNkIsR0FFdkJFLGlNQUNrQixHQUNwQkMsQ0FBU0E7QUFFUixTQUFTQyxpQkFDZEMsR0FBVyxFQUNYQyxJQUFrQixFQUNsQkMsVUFBcUU7SUFBckVBLElBQUFBLGVBQUFBLEtBQUFBLEdBQUFBLGFBQWlDWCxxRUFBa0JBLENBQUNZLGlCQUFpQjtJQUVyRSxNQUFNQyxRQUFRLHFCQUE4QixDQUE5QixJQUFJQyxNQUFNWCxnRUFBbUJBLEdBQTdCO2VBQUE7b0JBQUE7c0JBQUE7SUFBNkI7SUFDM0NVLE1BQU1FLE1BQU0sR0FBTVosZ0VBQW1CQSxHQUFDLE1BQUdPLE9BQUssTUFBR0QsTUFBSSxNQUFHRSxhQUFXO0lBQ25FLE9BQU9FO0FBQ1Q7QUFFQTs7Ozs7Ozs7Ozs7Q0FXQyxHQUNNLFNBQVNHLFNBQ2QsMkJBQTJCLEdBQzNCUCxHQUFXLEVBQ1hDLElBQW1CO1FBRVZOO0lBQVRNLFFBQUFBLE9BQUFBLE9BQUFBLE9BQVNOLENBQUFBLHNCQUFBQSxPQUFBQSxLQUFBQSxJQUFBQSxDQUFBQSwrQkFBQUEsbUJBQW9CYSxRQUFRLHVCQUE1QmIsNkJBQWdDYyxRQUFBQSxJQUNyQ2pCLHlEQUFZQSxDQUFDa0IsSUFBSSxHQUNqQmxCLHlEQUFZQSxDQUFDbUIsT0FBTztJQUV4QixNQUFNWixpQkFBaUJDLEtBQUtDLE1BQU1WLHFFQUFrQkEsQ0FBQ1ksaUJBQWlCO0FBQ3hFO0FBRUE7Ozs7Ozs7Ozs7Q0FVQyxHQUNNLFNBQVNTLGtCQUNkLDJCQUEyQixHQUMzQlosR0FBVyxFQUNYQyxJQUF5QztJQUF6Q0EsSUFBQUEsU0FBQUEsS0FBQUEsR0FBQUEsT0FBcUJULHlEQUFZQSxDQUFDbUIsT0FBTztJQUV6QyxNQUFNWixpQkFBaUJDLEtBQUtDLE1BQU1WLHFFQUFrQkEsQ0FBQ3NCLGlCQUFpQjtBQUN4RTtBQVVPLFNBQVNDLHdCQUF3QlYsS0FBYztJQUNwRCxJQUFJLENBQUNYLGdFQUFlQSxDQUFDVyxRQUFRLE9BQU87SUFFcEMsd0VBQXdFO0lBQ3hFLGtCQUFrQjtJQUNsQixPQUFPQSxNQUFNRSxNQUFNLENBQUNTLEtBQUssQ0FBQyxLQUFLQyxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUdDLElBQUksQ0FBQztBQUNuRDtBQUVPLFNBQVNDLHlCQUF5QmQsS0FBb0I7SUFDM0QsSUFBSSxDQUFDWCxnRUFBZUEsQ0FBQ1csUUFBUTtRQUMzQixNQUFNLHFCQUFpQyxDQUFqQyxJQUFJQyxNQUFNLHlCQUFWO21CQUFBO3dCQUFBOzBCQUFBO1FBQWdDO0lBQ3hDO0lBRUEsT0FBT0QsTUFBTUUsTUFBTSxDQUFDUyxLQUFLLENBQUMsS0FBSyxFQUFFLENBQUMsRUFBRTtBQUN0QztBQUVPLFNBQVNJLCtCQUErQmYsS0FBb0I7SUFDakUsSUFBSSxDQUFDWCxnRUFBZUEsQ0FBQ1csUUFBUTtRQUMzQixNQUFNLHFCQUFpQyxDQUFqQyxJQUFJQyxNQUFNLHlCQUFWO21CQUFBO3dCQUFBOzBCQUFBO1FBQWdDO0lBQ3hDO0lBRUEsT0FBT2UsT0FBT2hCLE1BQU1FLE1BQU0sQ0FBQ1MsS0FBSyxDQUFDLEtBQUtNLEVBQUUsQ0FBQyxDQUFDO0FBQzVDIiwic291cmNlcyI6WyJEOlxcc3JjXFxjbGllbnRcXGNvbXBvbmVudHNcXHJlZGlyZWN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlZGlyZWN0U3RhdHVzQ29kZSB9IGZyb20gJy4vcmVkaXJlY3Qtc3RhdHVzLWNvZGUnXG5pbXBvcnQge1xuICBSZWRpcmVjdFR5cGUsXG4gIHR5cGUgUmVkaXJlY3RFcnJvcixcbiAgaXNSZWRpcmVjdEVycm9yLFxuICBSRURJUkVDVF9FUlJPUl9DT0RFLFxufSBmcm9tICcuL3JlZGlyZWN0LWVycm9yJ1xuXG5jb25zdCBhY3Rpb25Bc3luY1N0b3JhZ2UgPVxuICB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJ1xuICAgID8gKFxuICAgICAgICByZXF1aXJlKCcuLi8uLi9zZXJ2ZXIvYXBwLXJlbmRlci9hY3Rpb24tYXN5bmMtc3RvcmFnZS5leHRlcm5hbCcpIGFzIHR5cGVvZiBpbXBvcnQoJy4uLy4uL3NlcnZlci9hcHAtcmVuZGVyL2FjdGlvbi1hc3luYy1zdG9yYWdlLmV4dGVybmFsJylcbiAgICAgICkuYWN0aW9uQXN5bmNTdG9yYWdlXG4gICAgOiB1bmRlZmluZWRcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJlZGlyZWN0RXJyb3IoXG4gIHVybDogc3RyaW5nLFxuICB0eXBlOiBSZWRpcmVjdFR5cGUsXG4gIHN0YXR1c0NvZGU6IFJlZGlyZWN0U3RhdHVzQ29kZSA9IFJlZGlyZWN0U3RhdHVzQ29kZS5UZW1wb3JhcnlSZWRpcmVjdFxuKTogUmVkaXJlY3RFcnJvciB7XG4gIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKFJFRElSRUNUX0VSUk9SX0NPREUpIGFzIFJlZGlyZWN0RXJyb3JcbiAgZXJyb3IuZGlnZXN0ID0gYCR7UkVESVJFQ1RfRVJST1JfQ09ERX07JHt0eXBlfTske3VybH07JHtzdGF0dXNDb2RlfTtgXG4gIHJldHVybiBlcnJvclxufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gYWxsb3dzIHlvdSB0byByZWRpcmVjdCB0aGUgdXNlciB0byBhbm90aGVyIFVSTC4gSXQgY2FuIGJlIHVzZWQgaW5cbiAqIFtTZXJ2ZXIgQ29tcG9uZW50c10oaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvYXBwL2J1aWxkaW5nLXlvdXItYXBwbGljYXRpb24vcmVuZGVyaW5nL3NlcnZlci1jb21wb25lbnRzKSxcbiAqIFtSb3V0ZSBIYW5kbGVyc10oaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvYXBwL2J1aWxkaW5nLXlvdXItYXBwbGljYXRpb24vcm91dGluZy9yb3V0ZS1oYW5kbGVycyksIGFuZFxuICogW1NlcnZlciBBY3Rpb25zXShodHRwczovL25leHRqcy5vcmcvZG9jcy9hcHAvYnVpbGRpbmcteW91ci1hcHBsaWNhdGlvbi9kYXRhLWZldGNoaW5nL3NlcnZlci1hY3Rpb25zLWFuZC1tdXRhdGlvbnMpLlxuICpcbiAqIC0gSW4gYSBTZXJ2ZXIgQ29tcG9uZW50LCB0aGlzIHdpbGwgaW5zZXJ0IGEgbWV0YSB0YWcgdG8gcmVkaXJlY3QgdGhlIHVzZXIgdG8gdGhlIHRhcmdldCBwYWdlLlxuICogLSBJbiBhIFJvdXRlIEhhbmRsZXIgb3IgU2VydmVyIEFjdGlvbiwgaXQgd2lsbCBzZXJ2ZSBhIDMwNy8zMDMgdG8gdGhlIGNhbGxlci5cbiAqIC0gSW4gYSBTZXJ2ZXIgQWN0aW9uLCB0eXBlIGRlZmF1bHRzIHRvICdwdXNoJyBhbmQgJ3JlcGxhY2UnIGVsc2V3aGVyZS5cbiAqXG4gKiBSZWFkIG1vcmU6IFtOZXh0LmpzIERvY3M6IGByZWRpcmVjdGBdKGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL2FwcC9hcGktcmVmZXJlbmNlL2Z1bmN0aW9ucy9yZWRpcmVjdClcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlZGlyZWN0KFxuICAvKiogVGhlIFVSTCB0byByZWRpcmVjdCB0byAqL1xuICB1cmw6IHN0cmluZyxcbiAgdHlwZT86IFJlZGlyZWN0VHlwZVxuKTogbmV2ZXIge1xuICB0eXBlID8/PSBhY3Rpb25Bc3luY1N0b3JhZ2U/LmdldFN0b3JlKCk/LmlzQWN0aW9uXG4gICAgPyBSZWRpcmVjdFR5cGUucHVzaFxuICAgIDogUmVkaXJlY3RUeXBlLnJlcGxhY2VcblxuICB0aHJvdyBnZXRSZWRpcmVjdEVycm9yKHVybCwgdHlwZSwgUmVkaXJlY3RTdGF0dXNDb2RlLlRlbXBvcmFyeVJlZGlyZWN0KVxufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gYWxsb3dzIHlvdSB0byByZWRpcmVjdCB0aGUgdXNlciB0byBhbm90aGVyIFVSTC4gSXQgY2FuIGJlIHVzZWQgaW5cbiAqIFtTZXJ2ZXIgQ29tcG9uZW50c10oaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvYXBwL2J1aWxkaW5nLXlvdXItYXBwbGljYXRpb24vcmVuZGVyaW5nL3NlcnZlci1jb21wb25lbnRzKSxcbiAqIFtSb3V0ZSBIYW5kbGVyc10oaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvYXBwL2J1aWxkaW5nLXlvdXItYXBwbGljYXRpb24vcm91dGluZy9yb3V0ZS1oYW5kbGVycyksIGFuZFxuICogW1NlcnZlciBBY3Rpb25zXShodHRwczovL25leHRqcy5vcmcvZG9jcy9hcHAvYnVpbGRpbmcteW91ci1hcHBsaWNhdGlvbi9kYXRhLWZldGNoaW5nL3NlcnZlci1hY3Rpb25zLWFuZC1tdXRhdGlvbnMpLlxuICpcbiAqIC0gSW4gYSBTZXJ2ZXIgQ29tcG9uZW50LCB0aGlzIHdpbGwgaW5zZXJ0IGEgbWV0YSB0YWcgdG8gcmVkaXJlY3QgdGhlIHVzZXIgdG8gdGhlIHRhcmdldCBwYWdlLlxuICogLSBJbiBhIFJvdXRlIEhhbmRsZXIgb3IgU2VydmVyIEFjdGlvbiwgaXQgd2lsbCBzZXJ2ZSBhIDMwOC8zMDMgdG8gdGhlIGNhbGxlci5cbiAqXG4gKiBSZWFkIG1vcmU6IFtOZXh0LmpzIERvY3M6IGByZWRpcmVjdGBdKGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL2FwcC9hcGktcmVmZXJlbmNlL2Z1bmN0aW9ucy9yZWRpcmVjdClcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBlcm1hbmVudFJlZGlyZWN0KFxuICAvKiogVGhlIFVSTCB0byByZWRpcmVjdCB0byAqL1xuICB1cmw6IHN0cmluZyxcbiAgdHlwZTogUmVkaXJlY3RUeXBlID0gUmVkaXJlY3RUeXBlLnJlcGxhY2Vcbik6IG5ldmVyIHtcbiAgdGhyb3cgZ2V0UmVkaXJlY3RFcnJvcih1cmwsIHR5cGUsIFJlZGlyZWN0U3RhdHVzQ29kZS5QZXJtYW5lbnRSZWRpcmVjdClcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBlbmNvZGVkIFVSTCBmcm9tIHRoZSBlcnJvciBpZiBpdCdzIGEgUmVkaXJlY3RFcnJvciwgbnVsbFxuICogb3RoZXJ3aXNlLiBOb3RlIHRoYXQgdGhpcyBkb2VzIG5vdCB2YWxpZGF0ZSB0aGUgVVJMIHJldHVybmVkLlxuICpcbiAqIEBwYXJhbSBlcnJvciB0aGUgZXJyb3IgdGhhdCBtYXkgYmUgYSByZWRpcmVjdCBlcnJvclxuICogQHJldHVybiB0aGUgdXJsIGlmIHRoZSBlcnJvciB3YXMgYSByZWRpcmVjdCBlcnJvclxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VVJMRnJvbVJlZGlyZWN0RXJyb3IoZXJyb3I6IFJlZGlyZWN0RXJyb3IpOiBzdHJpbmdcbmV4cG9ydCBmdW5jdGlvbiBnZXRVUkxGcm9tUmVkaXJlY3RFcnJvcihlcnJvcjogdW5rbm93bik6IHN0cmluZyB8IG51bGwge1xuICBpZiAoIWlzUmVkaXJlY3RFcnJvcihlcnJvcikpIHJldHVybiBudWxsXG5cbiAgLy8gU2xpY2VzIG9mZiB0aGUgYmVnaW5uaW5nIG9mIHRoZSBkaWdlc3QgdGhhdCBjb250YWlucyB0aGUgY29kZSBhbmQgdGhlXG4gIC8vIHNlcGFyYXRpbmcgJzsnLlxuICByZXR1cm4gZXJyb3IuZGlnZXN0LnNwbGl0KCc7Jykuc2xpY2UoMiwgLTIpLmpvaW4oJzsnKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVkaXJlY3RUeXBlRnJvbUVycm9yKGVycm9yOiBSZWRpcmVjdEVycm9yKTogUmVkaXJlY3RUeXBlIHtcbiAgaWYgKCFpc1JlZGlyZWN0RXJyb3IoZXJyb3IpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgYSByZWRpcmVjdCBlcnJvcicpXG4gIH1cblxuICByZXR1cm4gZXJyb3IuZGlnZXN0LnNwbGl0KCc7JywgMilbMV0gYXMgUmVkaXJlY3RUeXBlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSZWRpcmVjdFN0YXR1c0NvZGVGcm9tRXJyb3IoZXJyb3I6IFJlZGlyZWN0RXJyb3IpOiBudW1iZXIge1xuICBpZiAoIWlzUmVkaXJlY3RFcnJvcihlcnJvcikpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBhIHJlZGlyZWN0IGVycm9yJylcbiAgfVxuXG4gIHJldHVybiBOdW1iZXIoZXJyb3IuZGlnZXN0LnNwbGl0KCc7JykuYXQoLTIpKVxufVxuIl0sIm5hbWVzIjpbIlJlZGlyZWN0U3RhdHVzQ29kZSIsIlJlZGlyZWN0VHlwZSIsImlzUmVkaXJlY3RFcnJvciIsIlJFRElSRUNUX0VSUk9SX0NPREUiLCJhY3Rpb25Bc3luY1N0b3JhZ2UiLCJ3aW5kb3ciLCJyZXF1aXJlIiwidW5kZWZpbmVkIiwiZ2V0UmVkaXJlY3RFcnJvciIsInVybCIsInR5cGUiLCJzdGF0dXNDb2RlIiwiVGVtcG9yYXJ5UmVkaXJlY3QiLCJlcnJvciIsIkVycm9yIiwiZGlnZXN0IiwicmVkaXJlY3QiLCJnZXRTdG9yZSIsImlzQWN0aW9uIiwicHVzaCIsInJlcGxhY2UiLCJwZXJtYW5lbnRSZWRpcmVjdCIsIlBlcm1hbmVudFJlZGlyZWN0IiwiZ2V0VVJMRnJvbVJlZGlyZWN0RXJyb3IiLCJzcGxpdCIsInNsaWNlIiwiam9pbiIsImdldFJlZGlyZWN0VHlwZUZyb21FcnJvciIsImdldFJlZGlyZWN0U3RhdHVzQ29kZUZyb21FcnJvciIsIk51bWJlciIsImF0Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/client/components/redirect.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/client/components/static-generation-bailout.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/next/dist/esm/client/components/static-generation-bailout.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StaticGenBailoutError: () => (/* binding */ StaticGenBailoutError),\n/* harmony export */   isStaticGenBailoutError: () => (/* binding */ isStaticGenBailoutError)\n/* harmony export */ });\nconst NEXT_STATIC_GEN_BAILOUT = 'NEXT_STATIC_GEN_BAILOUT';\nclass StaticGenBailoutError extends Error {\n    constructor(...args){\n        super(...args), this.code = NEXT_STATIC_GEN_BAILOUT;\n    }\n}\nfunction isStaticGenBailoutError(error) {\n    if (typeof error !== 'object' || error === null || !('code' in error)) {\n        return false;\n    }\n    return error.code === NEXT_STATIC_GEN_BAILOUT;\n} //# sourceMappingURL=static-generation-bailout.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vY2xpZW50L2NvbXBvbmVudHMvc3RhdGljLWdlbmVyYXRpb24tYmFpbG91dC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLE1BQU1BLDBCQUEwQjtBQUV6QixNQUFNQyw4QkFBOEJDOztRQUFwQyxxQkFDV0MsSUFBQUEsR0FBT0g7O0FBQ3pCO0FBRU8sU0FBU0ksd0JBQ2RDLEtBQWM7SUFFZCxJQUFJLE9BQU9BLFVBQVUsWUFBWUEsVUFBVSxRQUFRLENBQUUsV0FBVUEsS0FBQUEsQ0FBSSxFQUFJO1FBQ3JFLE9BQU87SUFDVDtJQUVBLE9BQU9BLE1BQU1GLElBQUksS0FBS0g7QUFDeEIiLCJzb3VyY2VzIjpbIkQ6XFxzcmNcXGNsaWVudFxcY29tcG9uZW50c1xcc3RhdGljLWdlbmVyYXRpb24tYmFpbG91dC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBORVhUX1NUQVRJQ19HRU5fQkFJTE9VVCA9ICdORVhUX1NUQVRJQ19HRU5fQkFJTE9VVCdcblxuZXhwb3J0IGNsYXNzIFN0YXRpY0dlbkJhaWxvdXRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgcHVibGljIHJlYWRvbmx5IGNvZGUgPSBORVhUX1NUQVRJQ19HRU5fQkFJTE9VVFxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNTdGF0aWNHZW5CYWlsb3V0RXJyb3IoXG4gIGVycm9yOiB1bmtub3duXG4pOiBlcnJvciBpcyBTdGF0aWNHZW5CYWlsb3V0RXJyb3Ige1xuICBpZiAodHlwZW9mIGVycm9yICE9PSAnb2JqZWN0JyB8fCBlcnJvciA9PT0gbnVsbCB8fCAhKCdjb2RlJyBpbiBlcnJvcikpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIHJldHVybiBlcnJvci5jb2RlID09PSBORVhUX1NUQVRJQ19HRU5fQkFJTE9VVFxufVxuIl0sIm5hbWVzIjpbIk5FWFRfU1RBVElDX0dFTl9CQUlMT1VUIiwiU3RhdGljR2VuQmFpbG91dEVycm9yIiwiRXJyb3IiLCJjb2RlIiwiaXNTdGF0aWNHZW5CYWlsb3V0RXJyb3IiLCJlcnJvciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/client/components/static-generation-bailout.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/client/components/unauthorized.js":
/*!**********************************************************************!*\
  !*** ./node_modules/next/dist/esm/client/components/unauthorized.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   unauthorized: () => (/* binding */ unauthorized)\n/* harmony export */ });\n/* harmony import */ var _http_access_fallback_http_access_fallback__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./http-access-fallback/http-access-fallback */ \"(middleware)/./node_modules/next/dist/esm/client/components/http-access-fallback/http-access-fallback.js\");\n\n// TODO: Add `unauthorized` docs\n/**\n * @experimental\n * This function allows you to render the [unauthorized.js file](https://nextjs.org/docs/app/api-reference/file-conventions/unauthorized)\n * within a route segment as well as inject a tag.\n *\n * `unauthorized()` can be used in\n * [Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components),\n * [Route Handlers](https://nextjs.org/docs/app/building-your-application/routing/route-handlers), and\n * [Server Actions](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations).\n *\n *\n * Read more: [Next.js Docs: `unauthorized`](https://nextjs.org/docs/app/api-reference/functions/unauthorized)\n */ const DIGEST = \"\" + _http_access_fallback_http_access_fallback__WEBPACK_IMPORTED_MODULE_0__.HTTP_ERROR_FALLBACK_ERROR_CODE + \";401\";\nfunction unauthorized() {\n    if (true) {\n        throw Object.defineProperty(new Error(\"`unauthorized()` is experimental and only allowed to be used when `experimental.authInterrupts` is enabled.\"), \"__NEXT_ERROR_CODE\", {\n            value: \"E411\",\n            enumerable: false,\n            configurable: true\n        });\n    }\n    // eslint-disable-next-line no-throw-literal\n    const error = Object.defineProperty(new Error(DIGEST), \"__NEXT_ERROR_CODE\", {\n        value: \"E394\",\n        enumerable: false,\n        configurable: true\n    });\n    error.digest = DIGEST;\n    throw error;\n} //# sourceMappingURL=unauthorized.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vY2xpZW50L2NvbXBvbmVudHMvdW5hdXRob3JpemVkLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBR29EO0FBRXBELGdDQUFnQztBQUNoQzs7Ozs7Ozs7Ozs7O0NBWUMsR0FFRCxNQUFNQyxTQUFVLEtBQUVELHNHQUE4QkEsR0FBQztBQUUxQyxTQUFTRTtJQUNkLElBQUksSUFBZ0QsRUFBRTtRQUNwRCxNQUFNLHFCQUVMLENBRkssSUFBSUksTUFDUCxnSEFERzttQkFBQTt3QkFBQTswQkFBQTtRQUVOO0lBQ0Y7SUFFQSw0Q0FBNEM7SUFDNUMsTUFBTUMsUUFBUSxxQkFBaUIsQ0FBakIsSUFBSUQsTUFBTUwsU0FBVjtlQUFBO29CQUFBO3NCQUFBO0lBQWdCO0lBQzVCTSxNQUFrQ0MsTUFBTSxHQUFHUDtJQUM3QyxNQUFNTTtBQUNSIiwic291cmNlcyI6WyJEOlxcc3JjXFxjbGllbnRcXGNvbXBvbmVudHNcXHVuYXV0aG9yaXplZC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBIVFRQX0VSUk9SX0ZBTExCQUNLX0VSUk9SX0NPREUsXG4gIHR5cGUgSFRUUEFjY2Vzc0ZhbGxiYWNrRXJyb3IsXG59IGZyb20gJy4vaHR0cC1hY2Nlc3MtZmFsbGJhY2svaHR0cC1hY2Nlc3MtZmFsbGJhY2snXG5cbi8vIFRPRE86IEFkZCBgdW5hdXRob3JpemVkYCBkb2NzXG4vKipcbiAqIEBleHBlcmltZW50YWxcbiAqIFRoaXMgZnVuY3Rpb24gYWxsb3dzIHlvdSB0byByZW5kZXIgdGhlIFt1bmF1dGhvcml6ZWQuanMgZmlsZV0oaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvYXBwL2FwaS1yZWZlcmVuY2UvZmlsZS1jb252ZW50aW9ucy91bmF1dGhvcml6ZWQpXG4gKiB3aXRoaW4gYSByb3V0ZSBzZWdtZW50IGFzIHdlbGwgYXMgaW5qZWN0IGEgdGFnLlxuICpcbiAqIGB1bmF1dGhvcml6ZWQoKWAgY2FuIGJlIHVzZWQgaW5cbiAqIFtTZXJ2ZXIgQ29tcG9uZW50c10oaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvYXBwL2J1aWxkaW5nLXlvdXItYXBwbGljYXRpb24vcmVuZGVyaW5nL3NlcnZlci1jb21wb25lbnRzKSxcbiAqIFtSb3V0ZSBIYW5kbGVyc10oaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvYXBwL2J1aWxkaW5nLXlvdXItYXBwbGljYXRpb24vcm91dGluZy9yb3V0ZS1oYW5kbGVycyksIGFuZFxuICogW1NlcnZlciBBY3Rpb25zXShodHRwczovL25leHRqcy5vcmcvZG9jcy9hcHAvYnVpbGRpbmcteW91ci1hcHBsaWNhdGlvbi9kYXRhLWZldGNoaW5nL3NlcnZlci1hY3Rpb25zLWFuZC1tdXRhdGlvbnMpLlxuICpcbiAqXG4gKiBSZWFkIG1vcmU6IFtOZXh0LmpzIERvY3M6IGB1bmF1dGhvcml6ZWRgXShodHRwczovL25leHRqcy5vcmcvZG9jcy9hcHAvYXBpLXJlZmVyZW5jZS9mdW5jdGlvbnMvdW5hdXRob3JpemVkKVxuICovXG5cbmNvbnN0IERJR0VTVCA9IGAke0hUVFBfRVJST1JfRkFMTEJBQ0tfRVJST1JfQ09ERX07NDAxYFxuXG5leHBvcnQgZnVuY3Rpb24gdW5hdXRob3JpemVkKCk6IG5ldmVyIHtcbiAgaWYgKCFwcm9jZXNzLmVudi5fX05FWFRfRVhQRVJJTUVOVEFMX0FVVEhfSU5URVJSVVBUUykge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBcXGB1bmF1dGhvcml6ZWQoKVxcYCBpcyBleHBlcmltZW50YWwgYW5kIG9ubHkgYWxsb3dlZCB0byBiZSB1c2VkIHdoZW4gXFxgZXhwZXJpbWVudGFsLmF1dGhJbnRlcnJ1cHRzXFxgIGlzIGVuYWJsZWQuYFxuICAgIClcbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby10aHJvdy1saXRlcmFsXG4gIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKERJR0VTVCkgYXMgSFRUUEFjY2Vzc0ZhbGxiYWNrRXJyb3JcbiAgOyhlcnJvciBhcyBIVFRQQWNjZXNzRmFsbGJhY2tFcnJvcikuZGlnZXN0ID0gRElHRVNUXG4gIHRocm93IGVycm9yXG59XG4iXSwibmFtZXMiOlsiSFRUUF9FUlJPUl9GQUxMQkFDS19FUlJPUl9DT0RFIiwiRElHRVNUIiwidW5hdXRob3JpemVkIiwicHJvY2VzcyIsImVudiIsIl9fTkVYVF9FWFBFUklNRU5UQUxfQVVUSF9JTlRFUlJVUFRTIiwiRXJyb3IiLCJlcnJvciIsImRpZ2VzdCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/client/components/unauthorized.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/client/components/unstable-rethrow.js":
/*!**************************************************************************!*\
  !*** ./node_modules/next/dist/esm/client/components/unstable-rethrow.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   unstable_rethrow: () => (/* binding */ unstable_rethrow)\n/* harmony export */ });\n/**\n * This function should be used to rethrow internal Next.js errors so that they can be handled by the framework.\n * When wrapping an API that uses errors to interrupt control flow, you should use this function before you do any error handling.\n * This function will rethrow the error if it is a Next.js error so it can be handled, otherwise it will do nothing.\n *\n * Read more: [Next.js Docs: `unstable_rethrow`](https://nextjs.org/docs/app/api-reference/functions/unstable_rethrow)\n */ const unstable_rethrow =  true ? (__webpack_require__(/*! ./unstable-rethrow.server */ \"(middleware)/./node_modules/next/dist/esm/client/components/unstable-rethrow.server.js\").unstable_rethrow) : 0; //# sourceMappingURL=unstable-rethrow.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vY2xpZW50L2NvbXBvbmVudHMvdW5zdGFibGUtcmV0aHJvdy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7Ozs7OztDQU1DLEdBQ00sTUFBTUEsbUJBQ1gsS0FBNkIsR0FFdkJFLGlLQUNnQixHQUVoQkEsQ0FDZ0IiLCJzb3VyY2VzIjpbIkQ6XFxzcmNcXGNsaWVudFxcY29tcG9uZW50c1xcdW5zdGFibGUtcmV0aHJvdy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRoaXMgZnVuY3Rpb24gc2hvdWxkIGJlIHVzZWQgdG8gcmV0aHJvdyBpbnRlcm5hbCBOZXh0LmpzIGVycm9ycyBzbyB0aGF0IHRoZXkgY2FuIGJlIGhhbmRsZWQgYnkgdGhlIGZyYW1ld29yay5cbiAqIFdoZW4gd3JhcHBpbmcgYW4gQVBJIHRoYXQgdXNlcyBlcnJvcnMgdG8gaW50ZXJydXB0IGNvbnRyb2wgZmxvdywgeW91IHNob3VsZCB1c2UgdGhpcyBmdW5jdGlvbiBiZWZvcmUgeW91IGRvIGFueSBlcnJvciBoYW5kbGluZy5cbiAqIFRoaXMgZnVuY3Rpb24gd2lsbCByZXRocm93IHRoZSBlcnJvciBpZiBpdCBpcyBhIE5leHQuanMgZXJyb3Igc28gaXQgY2FuIGJlIGhhbmRsZWQsIG90aGVyd2lzZSBpdCB3aWxsIGRvIG5vdGhpbmcuXG4gKlxuICogUmVhZCBtb3JlOiBbTmV4dC5qcyBEb2NzOiBgdW5zdGFibGVfcmV0aHJvd2BdKGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL2FwcC9hcGktcmVmZXJlbmNlL2Z1bmN0aW9ucy91bnN0YWJsZV9yZXRocm93KVxuICovXG5leHBvcnQgY29uc3QgdW5zdGFibGVfcmV0aHJvdyA9XG4gIHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnXG4gICAgPyAoXG4gICAgICAgIHJlcXVpcmUoJy4vdW5zdGFibGUtcmV0aHJvdy5zZXJ2ZXInKSBhcyB0eXBlb2YgaW1wb3J0KCcuL3Vuc3RhYmxlLXJldGhyb3cuc2VydmVyJylcbiAgICAgICkudW5zdGFibGVfcmV0aHJvd1xuICAgIDogKFxuICAgICAgICByZXF1aXJlKCcuL3Vuc3RhYmxlLXJldGhyb3cuYnJvd3NlcicpIGFzIHR5cGVvZiBpbXBvcnQoJy4vdW5zdGFibGUtcmV0aHJvdy5icm93c2VyJylcbiAgICAgICkudW5zdGFibGVfcmV0aHJvd1xuIl0sIm5hbWVzIjpbInVuc3RhYmxlX3JldGhyb3ciLCJ3aW5kb3ciLCJyZXF1aXJlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/client/components/unstable-rethrow.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/client/components/unstable-rethrow.server.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/next/dist/esm/client/components/unstable-rethrow.server.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   unstable_rethrow: () => (/* binding */ unstable_rethrow)\n/* harmony export */ });\n/* harmony import */ var _server_dynamic_rendering_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../server/dynamic-rendering-utils */ \"(middleware)/./node_modules/next/dist/esm/server/dynamic-rendering-utils.js\");\n/* harmony import */ var _server_lib_router_utils_is_postpone__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../server/lib/router-utils/is-postpone */ \"(middleware)/./node_modules/next/dist/esm/server/lib/router-utils/is-postpone.js\");\n/* harmony import */ var _shared_lib_lazy_dynamic_bailout_to_csr__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shared/lib/lazy-dynamic/bailout-to-csr */ \"(middleware)/./node_modules/next/dist/esm/shared/lib/lazy-dynamic/bailout-to-csr.js\");\n/* harmony import */ var _is_next_router_error__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./is-next-router-error */ \"(middleware)/./node_modules/next/dist/esm/client/components/is-next-router-error.js\");\n/* harmony import */ var _server_app_render_dynamic_rendering__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../server/app-render/dynamic-rendering */ \"(middleware)/./node_modules/next/dist/esm/server/app-render/dynamic-rendering.js\");\n/* harmony import */ var _hooks_server_context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./hooks-server-context */ \"(middleware)/./node_modules/next/dist/esm/client/components/hooks-server-context.js\");\n\n\n\n\n\n\nfunction unstable_rethrow(error) {\n    if ((0,_is_next_router_error__WEBPACK_IMPORTED_MODULE_3__.isNextRouterError)(error) || (0,_shared_lib_lazy_dynamic_bailout_to_csr__WEBPACK_IMPORTED_MODULE_2__.isBailoutToCSRError)(error) || (0,_hooks_server_context__WEBPACK_IMPORTED_MODULE_5__.isDynamicServerError)(error) || (0,_server_app_render_dynamic_rendering__WEBPACK_IMPORTED_MODULE_4__.isDynamicPostpone)(error) || (0,_server_lib_router_utils_is_postpone__WEBPACK_IMPORTED_MODULE_1__.isPostpone)(error) || (0,_server_dynamic_rendering_utils__WEBPACK_IMPORTED_MODULE_0__.isHangingPromiseRejectionError)(error)) {\n        throw error;\n    }\n    if (error instanceof Error && 'cause' in error) {\n        unstable_rethrow(error.cause);\n    }\n} //# sourceMappingURL=unstable-rethrow.server.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vY2xpZW50L2NvbXBvbmVudHMvdW5zdGFibGUtcmV0aHJvdy5zZXJ2ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFxRjtBQUNmO0FBQ1k7QUFDeEI7QUFDbUI7QUFDaEI7QUFFdEQsU0FBU00saUJBQWlCQyxLQUFjO0lBQzdDLElBQ0VKLHdFQUFpQkEsQ0FBQ0ksVUFDbEJMLDRGQUFtQkEsQ0FBQ0ssVUFDcEJGLDJFQUFvQkEsQ0FBQ0UsVUFDckJILHVGQUFpQkEsQ0FBQ0csVUFDbEJOLGdGQUFVQSxDQUFDTSxVQUNYUCwrRkFBOEJBLENBQUNPLFFBQy9CO1FBQ0EsTUFBTUE7SUFDUjtJQUVBLElBQUlBLGlCQUFpQkMsU0FBUyxXQUFXRCxPQUFPO1FBQzlDRCxpQkFBaUJDLE1BQU1FLEtBQUs7SUFDOUI7QUFDRiIsInNvdXJjZXMiOlsiRDpcXHNyY1xcY2xpZW50XFxjb21wb25lbnRzXFx1bnN0YWJsZS1yZXRocm93LnNlcnZlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0hhbmdpbmdQcm9taXNlUmVqZWN0aW9uRXJyb3IgfSBmcm9tICcuLi8uLi9zZXJ2ZXIvZHluYW1pYy1yZW5kZXJpbmctdXRpbHMnXG5pbXBvcnQgeyBpc1Bvc3Rwb25lIH0gZnJvbSAnLi4vLi4vc2VydmVyL2xpYi9yb3V0ZXItdXRpbHMvaXMtcG9zdHBvbmUnXG5pbXBvcnQgeyBpc0JhaWxvdXRUb0NTUkVycm9yIH0gZnJvbSAnLi4vLi4vc2hhcmVkL2xpYi9sYXp5LWR5bmFtaWMvYmFpbG91dC10by1jc3InXG5pbXBvcnQgeyBpc05leHRSb3V0ZXJFcnJvciB9IGZyb20gJy4vaXMtbmV4dC1yb3V0ZXItZXJyb3InXG5pbXBvcnQgeyBpc0R5bmFtaWNQb3N0cG9uZSB9IGZyb20gJy4uLy4uL3NlcnZlci9hcHAtcmVuZGVyL2R5bmFtaWMtcmVuZGVyaW5nJ1xuaW1wb3J0IHsgaXNEeW5hbWljU2VydmVyRXJyb3IgfSBmcm9tICcuL2hvb2tzLXNlcnZlci1jb250ZXh0J1xuXG5leHBvcnQgZnVuY3Rpb24gdW5zdGFibGVfcmV0aHJvdyhlcnJvcjogdW5rbm93bik6IHZvaWQge1xuICBpZiAoXG4gICAgaXNOZXh0Um91dGVyRXJyb3IoZXJyb3IpIHx8XG4gICAgaXNCYWlsb3V0VG9DU1JFcnJvcihlcnJvcikgfHxcbiAgICBpc0R5bmFtaWNTZXJ2ZXJFcnJvcihlcnJvcikgfHxcbiAgICBpc0R5bmFtaWNQb3N0cG9uZShlcnJvcikgfHxcbiAgICBpc1Bvc3Rwb25lKGVycm9yKSB8fFxuICAgIGlzSGFuZ2luZ1Byb21pc2VSZWplY3Rpb25FcnJvcihlcnJvcilcbiAgKSB7XG4gICAgdGhyb3cgZXJyb3JcbiAgfVxuXG4gIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmICdjYXVzZScgaW4gZXJyb3IpIHtcbiAgICB1bnN0YWJsZV9yZXRocm93KGVycm9yLmNhdXNlKVxuICB9XG59XG4iXSwibmFtZXMiOlsiaXNIYW5naW5nUHJvbWlzZVJlamVjdGlvbkVycm9yIiwiaXNQb3N0cG9uZSIsImlzQmFpbG91dFRvQ1NSRXJyb3IiLCJpc05leHRSb3V0ZXJFcnJvciIsImlzRHluYW1pY1Bvc3Rwb25lIiwiaXNEeW5hbWljU2VydmVyRXJyb3IiLCJ1bnN0YWJsZV9yZXRocm93IiwiZXJyb3IiLCJFcnJvciIsImNhdXNlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/client/components/unstable-rethrow.server.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/lib/constants.js":
/*!*****************************************************!*\
  !*** ./node_modules/next/dist/esm/lib/constants.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ACTION_SUFFIX: () => (/* binding */ ACTION_SUFFIX),\n/* harmony export */   APP_DIR_ALIAS: () => (/* binding */ APP_DIR_ALIAS),\n/* harmony export */   CACHE_ONE_YEAR: () => (/* binding */ CACHE_ONE_YEAR),\n/* harmony export */   DOT_NEXT_ALIAS: () => (/* binding */ DOT_NEXT_ALIAS),\n/* harmony export */   ESLINT_DEFAULT_DIRS: () => (/* binding */ ESLINT_DEFAULT_DIRS),\n/* harmony export */   GSP_NO_RETURNED_VALUE: () => (/* binding */ GSP_NO_RETURNED_VALUE),\n/* harmony export */   GSSP_COMPONENT_MEMBER_ERROR: () => (/* binding */ GSSP_COMPONENT_MEMBER_ERROR),\n/* harmony export */   GSSP_NO_RETURNED_VALUE: () => (/* binding */ GSSP_NO_RETURNED_VALUE),\n/* harmony export */   HTML_CONTENT_TYPE_HEADER: () => (/* binding */ HTML_CONTENT_TYPE_HEADER),\n/* harmony export */   INFINITE_CACHE: () => (/* binding */ INFINITE_CACHE),\n/* harmony export */   INSTRUMENTATION_HOOK_FILENAME: () => (/* binding */ INSTRUMENTATION_HOOK_FILENAME),\n/* harmony export */   JSON_CONTENT_TYPE_HEADER: () => (/* binding */ JSON_CONTENT_TYPE_HEADER),\n/* harmony export */   MATCHED_PATH_HEADER: () => (/* binding */ MATCHED_PATH_HEADER),\n/* harmony export */   MIDDLEWARE_FILENAME: () => (/* binding */ MIDDLEWARE_FILENAME),\n/* harmony export */   MIDDLEWARE_LOCATION_REGEXP: () => (/* binding */ MIDDLEWARE_LOCATION_REGEXP),\n/* harmony export */   NEXT_BODY_SUFFIX: () => (/* binding */ NEXT_BODY_SUFFIX),\n/* harmony export */   NEXT_CACHE_IMPLICIT_TAG_ID: () => (/* binding */ NEXT_CACHE_IMPLICIT_TAG_ID),\n/* harmony export */   NEXT_CACHE_REVALIDATED_TAGS_HEADER: () => (/* binding */ NEXT_CACHE_REVALIDATED_TAGS_HEADER),\n/* harmony export */   NEXT_CACHE_REVALIDATE_TAG_TOKEN_HEADER: () => (/* binding */ NEXT_CACHE_REVALIDATE_TAG_TOKEN_HEADER),\n/* harmony export */   NEXT_CACHE_SOFT_TAG_MAX_LENGTH: () => (/* binding */ NEXT_CACHE_SOFT_TAG_MAX_LENGTH),\n/* harmony export */   NEXT_CACHE_TAGS_HEADER: () => (/* binding */ NEXT_CACHE_TAGS_HEADER),\n/* harmony export */   NEXT_CACHE_TAG_MAX_ITEMS: () => (/* binding */ NEXT_CACHE_TAG_MAX_ITEMS),\n/* harmony export */   NEXT_CACHE_TAG_MAX_LENGTH: () => (/* binding */ NEXT_CACHE_TAG_MAX_LENGTH),\n/* harmony export */   NEXT_DATA_SUFFIX: () => (/* binding */ NEXT_DATA_SUFFIX),\n/* harmony export */   NEXT_INTERCEPTION_MARKER_PREFIX: () => (/* binding */ NEXT_INTERCEPTION_MARKER_PREFIX),\n/* harmony export */   NEXT_META_SUFFIX: () => (/* binding */ NEXT_META_SUFFIX),\n/* harmony export */   NEXT_QUERY_PARAM_PREFIX: () => (/* binding */ NEXT_QUERY_PARAM_PREFIX),\n/* harmony export */   NEXT_RESUME_HEADER: () => (/* binding */ NEXT_RESUME_HEADER),\n/* harmony export */   NON_STANDARD_NODE_ENV: () => (/* binding */ NON_STANDARD_NODE_ENV),\n/* harmony export */   PAGES_DIR_ALIAS: () => (/* binding */ PAGES_DIR_ALIAS),\n/* harmony export */   PRERENDER_REVALIDATE_HEADER: () => (/* binding */ PRERENDER_REVALIDATE_HEADER),\n/* harmony export */   PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER: () => (/* binding */ PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER),\n/* harmony export */   PUBLIC_DIR_MIDDLEWARE_CONFLICT: () => (/* binding */ PUBLIC_DIR_MIDDLEWARE_CONFLICT),\n/* harmony export */   ROOT_DIR_ALIAS: () => (/* binding */ ROOT_DIR_ALIAS),\n/* harmony export */   RSC_ACTION_CLIENT_WRAPPER_ALIAS: () => (/* binding */ RSC_ACTION_CLIENT_WRAPPER_ALIAS),\n/* harmony export */   RSC_ACTION_ENCRYPTION_ALIAS: () => (/* binding */ RSC_ACTION_ENCRYPTION_ALIAS),\n/* harmony export */   RSC_ACTION_PROXY_ALIAS: () => (/* binding */ RSC_ACTION_PROXY_ALIAS),\n/* harmony export */   RSC_ACTION_VALIDATE_ALIAS: () => (/* binding */ RSC_ACTION_VALIDATE_ALIAS),\n/* harmony export */   RSC_CACHE_WRAPPER_ALIAS: () => (/* binding */ RSC_CACHE_WRAPPER_ALIAS),\n/* harmony export */   RSC_DYNAMIC_IMPORT_WRAPPER_ALIAS: () => (/* binding */ RSC_DYNAMIC_IMPORT_WRAPPER_ALIAS),\n/* harmony export */   RSC_MOD_REF_PROXY_ALIAS: () => (/* binding */ RSC_MOD_REF_PROXY_ALIAS),\n/* harmony export */   RSC_PREFETCH_SUFFIX: () => (/* binding */ RSC_PREFETCH_SUFFIX),\n/* harmony export */   RSC_SEGMENTS_DIR_SUFFIX: () => (/* binding */ RSC_SEGMENTS_DIR_SUFFIX),\n/* harmony export */   RSC_SEGMENT_SUFFIX: () => (/* binding */ RSC_SEGMENT_SUFFIX),\n/* harmony export */   RSC_SUFFIX: () => (/* binding */ RSC_SUFFIX),\n/* harmony export */   SERVER_PROPS_EXPORT_ERROR: () => (/* binding */ SERVER_PROPS_EXPORT_ERROR),\n/* harmony export */   SERVER_PROPS_GET_INIT_PROPS_CONFLICT: () => (/* binding */ SERVER_PROPS_GET_INIT_PROPS_CONFLICT),\n/* harmony export */   SERVER_PROPS_SSG_CONFLICT: () => (/* binding */ SERVER_PROPS_SSG_CONFLICT),\n/* harmony export */   SERVER_RUNTIME: () => (/* binding */ SERVER_RUNTIME),\n/* harmony export */   SSG_FALLBACK_EXPORT_ERROR: () => (/* binding */ SSG_FALLBACK_EXPORT_ERROR),\n/* harmony export */   SSG_GET_INITIAL_PROPS_CONFLICT: () => (/* binding */ SSG_GET_INITIAL_PROPS_CONFLICT),\n/* harmony export */   STATIC_STATUS_PAGE_GET_INITIAL_PROPS_ERROR: () => (/* binding */ STATIC_STATUS_PAGE_GET_INITIAL_PROPS_ERROR),\n/* harmony export */   TEXT_PLAIN_CONTENT_TYPE_HEADER: () => (/* binding */ TEXT_PLAIN_CONTENT_TYPE_HEADER),\n/* harmony export */   UNSTABLE_REVALIDATE_RENAME_ERROR: () => (/* binding */ UNSTABLE_REVALIDATE_RENAME_ERROR),\n/* harmony export */   WEBPACK_LAYERS: () => (/* binding */ WEBPACK_LAYERS),\n/* harmony export */   WEBPACK_RESOURCE_QUERIES: () => (/* binding */ WEBPACK_RESOURCE_QUERIES)\n/* harmony export */ });\nconst TEXT_PLAIN_CONTENT_TYPE_HEADER = 'text/plain';\nconst HTML_CONTENT_TYPE_HEADER = 'text/html; charset=utf-8';\nconst JSON_CONTENT_TYPE_HEADER = 'application/json; charset=utf-8';\nconst NEXT_QUERY_PARAM_PREFIX = 'nxtP';\nconst NEXT_INTERCEPTION_MARKER_PREFIX = 'nxtI';\nconst MATCHED_PATH_HEADER = 'x-matched-path';\nconst PRERENDER_REVALIDATE_HEADER = 'x-prerender-revalidate';\nconst PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER = 'x-prerender-revalidate-if-generated';\nconst RSC_PREFETCH_SUFFIX = '.prefetch.rsc';\nconst RSC_SEGMENTS_DIR_SUFFIX = '.segments';\nconst RSC_SEGMENT_SUFFIX = '.segment.rsc';\nconst RSC_SUFFIX = '.rsc';\nconst ACTION_SUFFIX = '.action';\nconst NEXT_DATA_SUFFIX = '.json';\nconst NEXT_META_SUFFIX = '.meta';\nconst NEXT_BODY_SUFFIX = '.body';\nconst NEXT_CACHE_TAGS_HEADER = 'x-next-cache-tags';\nconst NEXT_CACHE_REVALIDATED_TAGS_HEADER = 'x-next-revalidated-tags';\nconst NEXT_CACHE_REVALIDATE_TAG_TOKEN_HEADER = 'x-next-revalidate-tag-token';\nconst NEXT_RESUME_HEADER = 'next-resume';\n// if these change make sure we update the related\n// documentation as well\nconst NEXT_CACHE_TAG_MAX_ITEMS = 128;\nconst NEXT_CACHE_TAG_MAX_LENGTH = 256;\nconst NEXT_CACHE_SOFT_TAG_MAX_LENGTH = 1024;\nconst NEXT_CACHE_IMPLICIT_TAG_ID = '_N_T_';\n// in seconds\nconst CACHE_ONE_YEAR = 31536000;\n// in seconds, represents revalidate=false. I.e. never revaliate.\n// We use this value since it can be represented as a V8 SMI for optimal performance.\n// It can also be serialized as JSON if it ever leaks accidentally as an actual value.\nconst INFINITE_CACHE = 0xfffffffe;\n// Patterns to detect middleware files\nconst MIDDLEWARE_FILENAME = 'middleware';\nconst MIDDLEWARE_LOCATION_REGEXP = `(?:src/)?${MIDDLEWARE_FILENAME}`;\n// Pattern to detect instrumentation hooks file\nconst INSTRUMENTATION_HOOK_FILENAME = 'instrumentation';\n// Because on Windows absolute paths in the generated code can break because of numbers, eg 1 in the path,\n// we have to use a private alias\nconst PAGES_DIR_ALIAS = 'private-next-pages';\nconst DOT_NEXT_ALIAS = 'private-dot-next';\nconst ROOT_DIR_ALIAS = 'private-next-root-dir';\nconst APP_DIR_ALIAS = 'private-next-app-dir';\nconst RSC_MOD_REF_PROXY_ALIAS = 'next/dist/build/webpack/loaders/next-flight-loader/module-proxy';\nconst RSC_ACTION_VALIDATE_ALIAS = 'private-next-rsc-action-validate';\nconst RSC_ACTION_PROXY_ALIAS = 'private-next-rsc-server-reference';\nconst RSC_CACHE_WRAPPER_ALIAS = 'private-next-rsc-cache-wrapper';\nconst RSC_DYNAMIC_IMPORT_WRAPPER_ALIAS = 'private-next-rsc-track-dynamic-import';\nconst RSC_ACTION_ENCRYPTION_ALIAS = 'private-next-rsc-action-encryption';\nconst RSC_ACTION_CLIENT_WRAPPER_ALIAS = 'private-next-rsc-action-client-wrapper';\nconst PUBLIC_DIR_MIDDLEWARE_CONFLICT = `You can not have a '_next' folder inside of your public folder. This conflicts with the internal '/_next' route. https://nextjs.org/docs/messages/public-next-folder-conflict`;\nconst SSG_GET_INITIAL_PROPS_CONFLICT = `You can not use getInitialProps with getStaticProps. To use SSG, please remove your getInitialProps`;\nconst SERVER_PROPS_GET_INIT_PROPS_CONFLICT = `You can not use getInitialProps with getServerSideProps. Please remove getInitialProps.`;\nconst SERVER_PROPS_SSG_CONFLICT = `You can not use getStaticProps or getStaticPaths with getServerSideProps. To use SSG, please remove getServerSideProps`;\nconst STATIC_STATUS_PAGE_GET_INITIAL_PROPS_ERROR = `can not have getInitialProps/getServerSideProps, https://nextjs.org/docs/messages/404-get-initial-props`;\nconst SERVER_PROPS_EXPORT_ERROR = `pages with \\`getServerSideProps\\` can not be exported. See more info here: https://nextjs.org/docs/messages/gssp-export`;\nconst GSP_NO_RETURNED_VALUE = 'Your `getStaticProps` function did not return an object. Did you forget to add a `return`?';\nconst GSSP_NO_RETURNED_VALUE = 'Your `getServerSideProps` function did not return an object. Did you forget to add a `return`?';\nconst UNSTABLE_REVALIDATE_RENAME_ERROR = 'The `unstable_revalidate` property is available for general use.\\n' + 'Please use `revalidate` instead.';\nconst GSSP_COMPONENT_MEMBER_ERROR = `can not be attached to a page's component and must be exported from the page. See more info here: https://nextjs.org/docs/messages/gssp-component-member`;\nconst NON_STANDARD_NODE_ENV = `You are using a non-standard \"NODE_ENV\" value in your environment. This creates inconsistencies in the project and is strongly advised against. Read more: https://nextjs.org/docs/messages/non-standard-node-env`;\nconst SSG_FALLBACK_EXPORT_ERROR = `Pages with \\`fallback\\` enabled in \\`getStaticPaths\\` can not be exported. See more info here: https://nextjs.org/docs/messages/ssg-fallback-true-export`;\nconst ESLINT_DEFAULT_DIRS = [\n    'app',\n    'pages',\n    'components',\n    'lib',\n    'src'\n];\nconst SERVER_RUNTIME = {\n    edge: 'edge',\n    experimentalEdge: 'experimental-edge',\n    nodejs: 'nodejs'\n};\n/**\n * The names of the webpack layers. These layers are the primitives for the\n * webpack chunks.\n */ const WEBPACK_LAYERS_NAMES = {\n    /**\n   * The layer for the shared code between the client and server bundles.\n   */ shared: 'shared',\n    /**\n   * The layer for server-only runtime and picking up `react-server` export conditions.\n   * Including app router RSC pages and app router custom routes and metadata routes.\n   */ reactServerComponents: 'rsc',\n    /**\n   * Server Side Rendering layer for app (ssr).\n   */ serverSideRendering: 'ssr',\n    /**\n   * The browser client bundle layer for actions.\n   */ actionBrowser: 'action-browser',\n    /**\n   * The Node.js bundle layer for the API routes.\n   */ apiNode: 'api-node',\n    /**\n   * The Edge Lite bundle layer for the API routes.\n   */ apiEdge: 'api-edge',\n    /**\n   * The layer for the middleware code.\n   */ middleware: 'middleware',\n    /**\n   * The layer for the instrumentation hooks.\n   */ instrument: 'instrument',\n    /**\n   * The layer for assets on the edge.\n   */ edgeAsset: 'edge-asset',\n    /**\n   * The browser client bundle layer for App directory.\n   */ appPagesBrowser: 'app-pages-browser',\n    /**\n   * The browser client bundle layer for Pages directory.\n   */ pagesDirBrowser: 'pages-dir-browser',\n    /**\n   * The Edge Lite bundle layer for Pages directory.\n   */ pagesDirEdge: 'pages-dir-edge',\n    /**\n   * The Node.js bundle layer for Pages directory.\n   */ pagesDirNode: 'pages-dir-node'\n};\nconst WEBPACK_LAYERS = {\n    ...WEBPACK_LAYERS_NAMES,\n    GROUP: {\n        builtinReact: [\n            WEBPACK_LAYERS_NAMES.reactServerComponents,\n            WEBPACK_LAYERS_NAMES.actionBrowser\n        ],\n        serverOnly: [\n            WEBPACK_LAYERS_NAMES.reactServerComponents,\n            WEBPACK_LAYERS_NAMES.actionBrowser,\n            WEBPACK_LAYERS_NAMES.instrument,\n            WEBPACK_LAYERS_NAMES.middleware\n        ],\n        neutralTarget: [\n            // pages api\n            WEBPACK_LAYERS_NAMES.apiNode,\n            WEBPACK_LAYERS_NAMES.apiEdge\n        ],\n        clientOnly: [\n            WEBPACK_LAYERS_NAMES.serverSideRendering,\n            WEBPACK_LAYERS_NAMES.appPagesBrowser\n        ],\n        bundled: [\n            WEBPACK_LAYERS_NAMES.reactServerComponents,\n            WEBPACK_LAYERS_NAMES.actionBrowser,\n            WEBPACK_LAYERS_NAMES.serverSideRendering,\n            WEBPACK_LAYERS_NAMES.appPagesBrowser,\n            WEBPACK_LAYERS_NAMES.shared,\n            WEBPACK_LAYERS_NAMES.instrument,\n            WEBPACK_LAYERS_NAMES.middleware\n        ],\n        appPages: [\n            // app router pages and layouts\n            WEBPACK_LAYERS_NAMES.reactServerComponents,\n            WEBPACK_LAYERS_NAMES.serverSideRendering,\n            WEBPACK_LAYERS_NAMES.appPagesBrowser,\n            WEBPACK_LAYERS_NAMES.actionBrowser\n        ]\n    }\n};\nconst WEBPACK_RESOURCE_QUERIES = {\n    edgeSSREntry: '__next_edge_ssr_entry__',\n    metadata: '__next_metadata__',\n    metadataRoute: '__next_metadata_route__',\n    metadataImageMeta: '__next_metadata_image_meta__'\n};\n\n\n//# sourceMappingURL=constants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vbGliL2NvbnN0YW50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFPO0FBQ0EsNkNBQTZDO0FBQzdDLG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ1A7QUFDQTtBQUNPO0FBQ0E7QUFDQTtBQUNBO0FBQ1A7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDTztBQUNBLCtDQUErQyxvQkFBb0I7QUFDMUU7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDb0Q7O0FBRXBEIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxuZXh0XFxkaXN0XFxlc21cXGxpYlxcY29uc3RhbnRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBURVhUX1BMQUlOX0NPTlRFTlRfVFlQRV9IRUFERVIgPSAndGV4dC9wbGFpbic7XG5leHBvcnQgY29uc3QgSFRNTF9DT05URU5UX1RZUEVfSEVBREVSID0gJ3RleHQvaHRtbDsgY2hhcnNldD11dGYtOCc7XG5leHBvcnQgY29uc3QgSlNPTl9DT05URU5UX1RZUEVfSEVBREVSID0gJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgnO1xuZXhwb3J0IGNvbnN0IE5FWFRfUVVFUllfUEFSQU1fUFJFRklYID0gJ254dFAnO1xuZXhwb3J0IGNvbnN0IE5FWFRfSU5URVJDRVBUSU9OX01BUktFUl9QUkVGSVggPSAnbnh0SSc7XG5leHBvcnQgY29uc3QgTUFUQ0hFRF9QQVRIX0hFQURFUiA9ICd4LW1hdGNoZWQtcGF0aCc7XG5leHBvcnQgY29uc3QgUFJFUkVOREVSX1JFVkFMSURBVEVfSEVBREVSID0gJ3gtcHJlcmVuZGVyLXJldmFsaWRhdGUnO1xuZXhwb3J0IGNvbnN0IFBSRVJFTkRFUl9SRVZBTElEQVRFX09OTFlfR0VORVJBVEVEX0hFQURFUiA9ICd4LXByZXJlbmRlci1yZXZhbGlkYXRlLWlmLWdlbmVyYXRlZCc7XG5leHBvcnQgY29uc3QgUlNDX1BSRUZFVENIX1NVRkZJWCA9ICcucHJlZmV0Y2gucnNjJztcbmV4cG9ydCBjb25zdCBSU0NfU0VHTUVOVFNfRElSX1NVRkZJWCA9ICcuc2VnbWVudHMnO1xuZXhwb3J0IGNvbnN0IFJTQ19TRUdNRU5UX1NVRkZJWCA9ICcuc2VnbWVudC5yc2MnO1xuZXhwb3J0IGNvbnN0IFJTQ19TVUZGSVggPSAnLnJzYyc7XG5leHBvcnQgY29uc3QgQUNUSU9OX1NVRkZJWCA9ICcuYWN0aW9uJztcbmV4cG9ydCBjb25zdCBORVhUX0RBVEFfU1VGRklYID0gJy5qc29uJztcbmV4cG9ydCBjb25zdCBORVhUX01FVEFfU1VGRklYID0gJy5tZXRhJztcbmV4cG9ydCBjb25zdCBORVhUX0JPRFlfU1VGRklYID0gJy5ib2R5JztcbmV4cG9ydCBjb25zdCBORVhUX0NBQ0hFX1RBR1NfSEVBREVSID0gJ3gtbmV4dC1jYWNoZS10YWdzJztcbmV4cG9ydCBjb25zdCBORVhUX0NBQ0hFX1JFVkFMSURBVEVEX1RBR1NfSEVBREVSID0gJ3gtbmV4dC1yZXZhbGlkYXRlZC10YWdzJztcbmV4cG9ydCBjb25zdCBORVhUX0NBQ0hFX1JFVkFMSURBVEVfVEFHX1RPS0VOX0hFQURFUiA9ICd4LW5leHQtcmV2YWxpZGF0ZS10YWctdG9rZW4nO1xuZXhwb3J0IGNvbnN0IE5FWFRfUkVTVU1FX0hFQURFUiA9ICduZXh0LXJlc3VtZSc7XG4vLyBpZiB0aGVzZSBjaGFuZ2UgbWFrZSBzdXJlIHdlIHVwZGF0ZSB0aGUgcmVsYXRlZFxuLy8gZG9jdW1lbnRhdGlvbiBhcyB3ZWxsXG5leHBvcnQgY29uc3QgTkVYVF9DQUNIRV9UQUdfTUFYX0lURU1TID0gMTI4O1xuZXhwb3J0IGNvbnN0IE5FWFRfQ0FDSEVfVEFHX01BWF9MRU5HVEggPSAyNTY7XG5leHBvcnQgY29uc3QgTkVYVF9DQUNIRV9TT0ZUX1RBR19NQVhfTEVOR1RIID0gMTAyNDtcbmV4cG9ydCBjb25zdCBORVhUX0NBQ0hFX0lNUExJQ0lUX1RBR19JRCA9ICdfTl9UXyc7XG4vLyBpbiBzZWNvbmRzXG5leHBvcnQgY29uc3QgQ0FDSEVfT05FX1lFQVIgPSAzMTUzNjAwMDtcbi8vIGluIHNlY29uZHMsIHJlcHJlc2VudHMgcmV2YWxpZGF0ZT1mYWxzZS4gSS5lLiBuZXZlciByZXZhbGlhdGUuXG4vLyBXZSB1c2UgdGhpcyB2YWx1ZSBzaW5jZSBpdCBjYW4gYmUgcmVwcmVzZW50ZWQgYXMgYSBWOCBTTUkgZm9yIG9wdGltYWwgcGVyZm9ybWFuY2UuXG4vLyBJdCBjYW4gYWxzbyBiZSBzZXJpYWxpemVkIGFzIEpTT04gaWYgaXQgZXZlciBsZWFrcyBhY2NpZGVudGFsbHkgYXMgYW4gYWN0dWFsIHZhbHVlLlxuZXhwb3J0IGNvbnN0IElORklOSVRFX0NBQ0hFID0gMHhmZmZmZmZmZTtcbi8vIFBhdHRlcm5zIHRvIGRldGVjdCBtaWRkbGV3YXJlIGZpbGVzXG5leHBvcnQgY29uc3QgTUlERExFV0FSRV9GSUxFTkFNRSA9ICdtaWRkbGV3YXJlJztcbmV4cG9ydCBjb25zdCBNSURETEVXQVJFX0xPQ0FUSU9OX1JFR0VYUCA9IGAoPzpzcmMvKT8ke01JRERMRVdBUkVfRklMRU5BTUV9YDtcbi8vIFBhdHRlcm4gdG8gZGV0ZWN0IGluc3RydW1lbnRhdGlvbiBob29rcyBmaWxlXG5leHBvcnQgY29uc3QgSU5TVFJVTUVOVEFUSU9OX0hPT0tfRklMRU5BTUUgPSAnaW5zdHJ1bWVudGF0aW9uJztcbi8vIEJlY2F1c2Ugb24gV2luZG93cyBhYnNvbHV0ZSBwYXRocyBpbiB0aGUgZ2VuZXJhdGVkIGNvZGUgY2FuIGJyZWFrIGJlY2F1c2Ugb2YgbnVtYmVycywgZWcgMSBpbiB0aGUgcGF0aCxcbi8vIHdlIGhhdmUgdG8gdXNlIGEgcHJpdmF0ZSBhbGlhc1xuZXhwb3J0IGNvbnN0IFBBR0VTX0RJUl9BTElBUyA9ICdwcml2YXRlLW5leHQtcGFnZXMnO1xuZXhwb3J0IGNvbnN0IERPVF9ORVhUX0FMSUFTID0gJ3ByaXZhdGUtZG90LW5leHQnO1xuZXhwb3J0IGNvbnN0IFJPT1RfRElSX0FMSUFTID0gJ3ByaXZhdGUtbmV4dC1yb290LWRpcic7XG5leHBvcnQgY29uc3QgQVBQX0RJUl9BTElBUyA9ICdwcml2YXRlLW5leHQtYXBwLWRpcic7XG5leHBvcnQgY29uc3QgUlNDX01PRF9SRUZfUFJPWFlfQUxJQVMgPSAnbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1sb2FkZXIvbW9kdWxlLXByb3h5JztcbmV4cG9ydCBjb25zdCBSU0NfQUNUSU9OX1ZBTElEQVRFX0FMSUFTID0gJ3ByaXZhdGUtbmV4dC1yc2MtYWN0aW9uLXZhbGlkYXRlJztcbmV4cG9ydCBjb25zdCBSU0NfQUNUSU9OX1BST1hZX0FMSUFTID0gJ3ByaXZhdGUtbmV4dC1yc2Mtc2VydmVyLXJlZmVyZW5jZSc7XG5leHBvcnQgY29uc3QgUlNDX0NBQ0hFX1dSQVBQRVJfQUxJQVMgPSAncHJpdmF0ZS1uZXh0LXJzYy1jYWNoZS13cmFwcGVyJztcbmV4cG9ydCBjb25zdCBSU0NfRFlOQU1JQ19JTVBPUlRfV1JBUFBFUl9BTElBUyA9ICdwcml2YXRlLW5leHQtcnNjLXRyYWNrLWR5bmFtaWMtaW1wb3J0JztcbmV4cG9ydCBjb25zdCBSU0NfQUNUSU9OX0VOQ1JZUFRJT05fQUxJQVMgPSAncHJpdmF0ZS1uZXh0LXJzYy1hY3Rpb24tZW5jcnlwdGlvbic7XG5leHBvcnQgY29uc3QgUlNDX0FDVElPTl9DTElFTlRfV1JBUFBFUl9BTElBUyA9ICdwcml2YXRlLW5leHQtcnNjLWFjdGlvbi1jbGllbnQtd3JhcHBlcic7XG5leHBvcnQgY29uc3QgUFVCTElDX0RJUl9NSURETEVXQVJFX0NPTkZMSUNUID0gYFlvdSBjYW4gbm90IGhhdmUgYSAnX25leHQnIGZvbGRlciBpbnNpZGUgb2YgeW91ciBwdWJsaWMgZm9sZGVyLiBUaGlzIGNvbmZsaWN0cyB3aXRoIHRoZSBpbnRlcm5hbCAnL19uZXh0JyByb3V0ZS4gaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvbWVzc2FnZXMvcHVibGljLW5leHQtZm9sZGVyLWNvbmZsaWN0YDtcbmV4cG9ydCBjb25zdCBTU0dfR0VUX0lOSVRJQUxfUFJPUFNfQ09ORkxJQ1QgPSBgWW91IGNhbiBub3QgdXNlIGdldEluaXRpYWxQcm9wcyB3aXRoIGdldFN0YXRpY1Byb3BzLiBUbyB1c2UgU1NHLCBwbGVhc2UgcmVtb3ZlIHlvdXIgZ2V0SW5pdGlhbFByb3BzYDtcbmV4cG9ydCBjb25zdCBTRVJWRVJfUFJPUFNfR0VUX0lOSVRfUFJPUFNfQ09ORkxJQ1QgPSBgWW91IGNhbiBub3QgdXNlIGdldEluaXRpYWxQcm9wcyB3aXRoIGdldFNlcnZlclNpZGVQcm9wcy4gUGxlYXNlIHJlbW92ZSBnZXRJbml0aWFsUHJvcHMuYDtcbmV4cG9ydCBjb25zdCBTRVJWRVJfUFJPUFNfU1NHX0NPTkZMSUNUID0gYFlvdSBjYW4gbm90IHVzZSBnZXRTdGF0aWNQcm9wcyBvciBnZXRTdGF0aWNQYXRocyB3aXRoIGdldFNlcnZlclNpZGVQcm9wcy4gVG8gdXNlIFNTRywgcGxlYXNlIHJlbW92ZSBnZXRTZXJ2ZXJTaWRlUHJvcHNgO1xuZXhwb3J0IGNvbnN0IFNUQVRJQ19TVEFUVVNfUEFHRV9HRVRfSU5JVElBTF9QUk9QU19FUlJPUiA9IGBjYW4gbm90IGhhdmUgZ2V0SW5pdGlhbFByb3BzL2dldFNlcnZlclNpZGVQcm9wcywgaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvbWVzc2FnZXMvNDA0LWdldC1pbml0aWFsLXByb3BzYDtcbmV4cG9ydCBjb25zdCBTRVJWRVJfUFJPUFNfRVhQT1JUX0VSUk9SID0gYHBhZ2VzIHdpdGggXFxgZ2V0U2VydmVyU2lkZVByb3BzXFxgIGNhbiBub3QgYmUgZXhwb3J0ZWQuIFNlZSBtb3JlIGluZm8gaGVyZTogaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvbWVzc2FnZXMvZ3NzcC1leHBvcnRgO1xuZXhwb3J0IGNvbnN0IEdTUF9OT19SRVRVUk5FRF9WQUxVRSA9ICdZb3VyIGBnZXRTdGF0aWNQcm9wc2AgZnVuY3Rpb24gZGlkIG5vdCByZXR1cm4gYW4gb2JqZWN0LiBEaWQgeW91IGZvcmdldCB0byBhZGQgYSBgcmV0dXJuYD8nO1xuZXhwb3J0IGNvbnN0IEdTU1BfTk9fUkVUVVJORURfVkFMVUUgPSAnWW91ciBgZ2V0U2VydmVyU2lkZVByb3BzYCBmdW5jdGlvbiBkaWQgbm90IHJldHVybiBhbiBvYmplY3QuIERpZCB5b3UgZm9yZ2V0IHRvIGFkZCBhIGByZXR1cm5gPyc7XG5leHBvcnQgY29uc3QgVU5TVEFCTEVfUkVWQUxJREFURV9SRU5BTUVfRVJST1IgPSAnVGhlIGB1bnN0YWJsZV9yZXZhbGlkYXRlYCBwcm9wZXJ0eSBpcyBhdmFpbGFibGUgZm9yIGdlbmVyYWwgdXNlLlxcbicgKyAnUGxlYXNlIHVzZSBgcmV2YWxpZGF0ZWAgaW5zdGVhZC4nO1xuZXhwb3J0IGNvbnN0IEdTU1BfQ09NUE9ORU5UX01FTUJFUl9FUlJPUiA9IGBjYW4gbm90IGJlIGF0dGFjaGVkIHRvIGEgcGFnZSdzIGNvbXBvbmVudCBhbmQgbXVzdCBiZSBleHBvcnRlZCBmcm9tIHRoZSBwYWdlLiBTZWUgbW9yZSBpbmZvIGhlcmU6IGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL21lc3NhZ2VzL2dzc3AtY29tcG9uZW50LW1lbWJlcmA7XG5leHBvcnQgY29uc3QgTk9OX1NUQU5EQVJEX05PREVfRU5WID0gYFlvdSBhcmUgdXNpbmcgYSBub24tc3RhbmRhcmQgXCJOT0RFX0VOVlwiIHZhbHVlIGluIHlvdXIgZW52aXJvbm1lbnQuIFRoaXMgY3JlYXRlcyBpbmNvbnNpc3RlbmNpZXMgaW4gdGhlIHByb2plY3QgYW5kIGlzIHN0cm9uZ2x5IGFkdmlzZWQgYWdhaW5zdC4gUmVhZCBtb3JlOiBodHRwczovL25leHRqcy5vcmcvZG9jcy9tZXNzYWdlcy9ub24tc3RhbmRhcmQtbm9kZS1lbnZgO1xuZXhwb3J0IGNvbnN0IFNTR19GQUxMQkFDS19FWFBPUlRfRVJST1IgPSBgUGFnZXMgd2l0aCBcXGBmYWxsYmFja1xcYCBlbmFibGVkIGluIFxcYGdldFN0YXRpY1BhdGhzXFxgIGNhbiBub3QgYmUgZXhwb3J0ZWQuIFNlZSBtb3JlIGluZm8gaGVyZTogaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvbWVzc2FnZXMvc3NnLWZhbGxiYWNrLXRydWUtZXhwb3J0YDtcbmV4cG9ydCBjb25zdCBFU0xJTlRfREVGQVVMVF9ESVJTID0gW1xuICAgICdhcHAnLFxuICAgICdwYWdlcycsXG4gICAgJ2NvbXBvbmVudHMnLFxuICAgICdsaWInLFxuICAgICdzcmMnXG5dO1xuZXhwb3J0IGNvbnN0IFNFUlZFUl9SVU5USU1FID0ge1xuICAgIGVkZ2U6ICdlZGdlJyxcbiAgICBleHBlcmltZW50YWxFZGdlOiAnZXhwZXJpbWVudGFsLWVkZ2UnLFxuICAgIG5vZGVqczogJ25vZGVqcydcbn07XG4vKipcbiAqIFRoZSBuYW1lcyBvZiB0aGUgd2VicGFjayBsYXllcnMuIFRoZXNlIGxheWVycyBhcmUgdGhlIHByaW1pdGl2ZXMgZm9yIHRoZVxuICogd2VicGFjayBjaHVua3MuXG4gKi8gY29uc3QgV0VCUEFDS19MQVlFUlNfTkFNRVMgPSB7XG4gICAgLyoqXG4gICAqIFRoZSBsYXllciBmb3IgdGhlIHNoYXJlZCBjb2RlIGJldHdlZW4gdGhlIGNsaWVudCBhbmQgc2VydmVyIGJ1bmRsZXMuXG4gICAqLyBzaGFyZWQ6ICdzaGFyZWQnLFxuICAgIC8qKlxuICAgKiBUaGUgbGF5ZXIgZm9yIHNlcnZlci1vbmx5IHJ1bnRpbWUgYW5kIHBpY2tpbmcgdXAgYHJlYWN0LXNlcnZlcmAgZXhwb3J0IGNvbmRpdGlvbnMuXG4gICAqIEluY2x1ZGluZyBhcHAgcm91dGVyIFJTQyBwYWdlcyBhbmQgYXBwIHJvdXRlciBjdXN0b20gcm91dGVzIGFuZCBtZXRhZGF0YSByb3V0ZXMuXG4gICAqLyByZWFjdFNlcnZlckNvbXBvbmVudHM6ICdyc2MnLFxuICAgIC8qKlxuICAgKiBTZXJ2ZXIgU2lkZSBSZW5kZXJpbmcgbGF5ZXIgZm9yIGFwcCAoc3NyKS5cbiAgICovIHNlcnZlclNpZGVSZW5kZXJpbmc6ICdzc3InLFxuICAgIC8qKlxuICAgKiBUaGUgYnJvd3NlciBjbGllbnQgYnVuZGxlIGxheWVyIGZvciBhY3Rpb25zLlxuICAgKi8gYWN0aW9uQnJvd3NlcjogJ2FjdGlvbi1icm93c2VyJyxcbiAgICAvKipcbiAgICogVGhlIE5vZGUuanMgYnVuZGxlIGxheWVyIGZvciB0aGUgQVBJIHJvdXRlcy5cbiAgICovIGFwaU5vZGU6ICdhcGktbm9kZScsXG4gICAgLyoqXG4gICAqIFRoZSBFZGdlIExpdGUgYnVuZGxlIGxheWVyIGZvciB0aGUgQVBJIHJvdXRlcy5cbiAgICovIGFwaUVkZ2U6ICdhcGktZWRnZScsXG4gICAgLyoqXG4gICAqIFRoZSBsYXllciBmb3IgdGhlIG1pZGRsZXdhcmUgY29kZS5cbiAgICovIG1pZGRsZXdhcmU6ICdtaWRkbGV3YXJlJyxcbiAgICAvKipcbiAgICogVGhlIGxheWVyIGZvciB0aGUgaW5zdHJ1bWVudGF0aW9uIGhvb2tzLlxuICAgKi8gaW5zdHJ1bWVudDogJ2luc3RydW1lbnQnLFxuICAgIC8qKlxuICAgKiBUaGUgbGF5ZXIgZm9yIGFzc2V0cyBvbiB0aGUgZWRnZS5cbiAgICovIGVkZ2VBc3NldDogJ2VkZ2UtYXNzZXQnLFxuICAgIC8qKlxuICAgKiBUaGUgYnJvd3NlciBjbGllbnQgYnVuZGxlIGxheWVyIGZvciBBcHAgZGlyZWN0b3J5LlxuICAgKi8gYXBwUGFnZXNCcm93c2VyOiAnYXBwLXBhZ2VzLWJyb3dzZXInLFxuICAgIC8qKlxuICAgKiBUaGUgYnJvd3NlciBjbGllbnQgYnVuZGxlIGxheWVyIGZvciBQYWdlcyBkaXJlY3RvcnkuXG4gICAqLyBwYWdlc0RpckJyb3dzZXI6ICdwYWdlcy1kaXItYnJvd3NlcicsXG4gICAgLyoqXG4gICAqIFRoZSBFZGdlIExpdGUgYnVuZGxlIGxheWVyIGZvciBQYWdlcyBkaXJlY3RvcnkuXG4gICAqLyBwYWdlc0RpckVkZ2U6ICdwYWdlcy1kaXItZWRnZScsXG4gICAgLyoqXG4gICAqIFRoZSBOb2RlLmpzIGJ1bmRsZSBsYXllciBmb3IgUGFnZXMgZGlyZWN0b3J5LlxuICAgKi8gcGFnZXNEaXJOb2RlOiAncGFnZXMtZGlyLW5vZGUnXG59O1xuY29uc3QgV0VCUEFDS19MQVlFUlMgPSB7XG4gICAgLi4uV0VCUEFDS19MQVlFUlNfTkFNRVMsXG4gICAgR1JPVVA6IHtcbiAgICAgICAgYnVpbHRpblJlYWN0OiBbXG4gICAgICAgICAgICBXRUJQQUNLX0xBWUVSU19OQU1FUy5yZWFjdFNlcnZlckNvbXBvbmVudHMsXG4gICAgICAgICAgICBXRUJQQUNLX0xBWUVSU19OQU1FUy5hY3Rpb25Ccm93c2VyXG4gICAgICAgIF0sXG4gICAgICAgIHNlcnZlck9ubHk6IFtcbiAgICAgICAgICAgIFdFQlBBQ0tfTEFZRVJTX05BTUVTLnJlYWN0U2VydmVyQ29tcG9uZW50cyxcbiAgICAgICAgICAgIFdFQlBBQ0tfTEFZRVJTX05BTUVTLmFjdGlvbkJyb3dzZXIsXG4gICAgICAgICAgICBXRUJQQUNLX0xBWUVSU19OQU1FUy5pbnN0cnVtZW50LFxuICAgICAgICAgICAgV0VCUEFDS19MQVlFUlNfTkFNRVMubWlkZGxld2FyZVxuICAgICAgICBdLFxuICAgICAgICBuZXV0cmFsVGFyZ2V0OiBbXG4gICAgICAgICAgICAvLyBwYWdlcyBhcGlcbiAgICAgICAgICAgIFdFQlBBQ0tfTEFZRVJTX05BTUVTLmFwaU5vZGUsXG4gICAgICAgICAgICBXRUJQQUNLX0xBWUVSU19OQU1FUy5hcGlFZGdlXG4gICAgICAgIF0sXG4gICAgICAgIGNsaWVudE9ubHk6IFtcbiAgICAgICAgICAgIFdFQlBBQ0tfTEFZRVJTX05BTUVTLnNlcnZlclNpZGVSZW5kZXJpbmcsXG4gICAgICAgICAgICBXRUJQQUNLX0xBWUVSU19OQU1FUy5hcHBQYWdlc0Jyb3dzZXJcbiAgICAgICAgXSxcbiAgICAgICAgYnVuZGxlZDogW1xuICAgICAgICAgICAgV0VCUEFDS19MQVlFUlNfTkFNRVMucmVhY3RTZXJ2ZXJDb21wb25lbnRzLFxuICAgICAgICAgICAgV0VCUEFDS19MQVlFUlNfTkFNRVMuYWN0aW9uQnJvd3NlcixcbiAgICAgICAgICAgIFdFQlBBQ0tfTEFZRVJTX05BTUVTLnNlcnZlclNpZGVSZW5kZXJpbmcsXG4gICAgICAgICAgICBXRUJQQUNLX0xBWUVSU19OQU1FUy5hcHBQYWdlc0Jyb3dzZXIsXG4gICAgICAgICAgICBXRUJQQUNLX0xBWUVSU19OQU1FUy5zaGFyZWQsXG4gICAgICAgICAgICBXRUJQQUNLX0xBWUVSU19OQU1FUy5pbnN0cnVtZW50LFxuICAgICAgICAgICAgV0VCUEFDS19MQVlFUlNfTkFNRVMubWlkZGxld2FyZVxuICAgICAgICBdLFxuICAgICAgICBhcHBQYWdlczogW1xuICAgICAgICAgICAgLy8gYXBwIHJvdXRlciBwYWdlcyBhbmQgbGF5b3V0c1xuICAgICAgICAgICAgV0VCUEFDS19MQVlFUlNfTkFNRVMucmVhY3RTZXJ2ZXJDb21wb25lbnRzLFxuICAgICAgICAgICAgV0VCUEFDS19MQVlFUlNfTkFNRVMuc2VydmVyU2lkZVJlbmRlcmluZyxcbiAgICAgICAgICAgIFdFQlBBQ0tfTEFZRVJTX05BTUVTLmFwcFBhZ2VzQnJvd3NlcixcbiAgICAgICAgICAgIFdFQlBBQ0tfTEFZRVJTX05BTUVTLmFjdGlvbkJyb3dzZXJcbiAgICAgICAgXVxuICAgIH1cbn07XG5jb25zdCBXRUJQQUNLX1JFU09VUkNFX1FVRVJJRVMgPSB7XG4gICAgZWRnZVNTUkVudHJ5OiAnX19uZXh0X2VkZ2Vfc3NyX2VudHJ5X18nLFxuICAgIG1ldGFkYXRhOiAnX19uZXh0X21ldGFkYXRhX18nLFxuICAgIG1ldGFkYXRhUm91dGU6ICdfX25leHRfbWV0YWRhdGFfcm91dGVfXycsXG4gICAgbWV0YWRhdGFJbWFnZU1ldGE6ICdfX25leHRfbWV0YWRhdGFfaW1hZ2VfbWV0YV9fJ1xufTtcbmV4cG9ydCB7IFdFQlBBQ0tfTEFZRVJTLCBXRUJQQUNLX1JFU09VUkNFX1FVRVJJRVMgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/lib/constants.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/lib/framework/boundary-constants.js":
/*!************************************************************************!*\
  !*** ./node_modules/next/dist/esm/lib/framework/boundary-constants.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   METADATA_BOUNDARY_NAME: () => (/* binding */ METADATA_BOUNDARY_NAME),\n/* harmony export */   OUTLET_BOUNDARY_NAME: () => (/* binding */ OUTLET_BOUNDARY_NAME),\n/* harmony export */   ROOT_LAYOUT_BOUNDARY_NAME: () => (/* binding */ ROOT_LAYOUT_BOUNDARY_NAME),\n/* harmony export */   VIEWPORT_BOUNDARY_NAME: () => (/* binding */ VIEWPORT_BOUNDARY_NAME)\n/* harmony export */ });\nconst METADATA_BOUNDARY_NAME = '__next_metadata_boundary__';\nconst VIEWPORT_BOUNDARY_NAME = '__next_viewport_boundary__';\nconst OUTLET_BOUNDARY_NAME = '__next_outlet_boundary__';\nconst ROOT_LAYOUT_BOUNDARY_NAME = '__next_root_layout_boundary__';\n\n//# sourceMappingURL=boundary-constants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vbGliL2ZyYW1ld29yay9ib3VuZGFyeS1jb25zdGFudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFPO0FBQ0E7QUFDQTtBQUNBOztBQUVQIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxuZXh0XFxkaXN0XFxlc21cXGxpYlxcZnJhbWV3b3JrXFxib3VuZGFyeS1jb25zdGFudHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IE1FVEFEQVRBX0JPVU5EQVJZX05BTUUgPSAnX19uZXh0X21ldGFkYXRhX2JvdW5kYXJ5X18nO1xuZXhwb3J0IGNvbnN0IFZJRVdQT1JUX0JPVU5EQVJZX05BTUUgPSAnX19uZXh0X3ZpZXdwb3J0X2JvdW5kYXJ5X18nO1xuZXhwb3J0IGNvbnN0IE9VVExFVF9CT1VOREFSWV9OQU1FID0gJ19fbmV4dF9vdXRsZXRfYm91bmRhcnlfXyc7XG5leHBvcnQgY29uc3QgUk9PVF9MQVlPVVRfQk9VTkRBUllfTkFNRSA9ICdfX25leHRfcm9vdF9sYXlvdXRfYm91bmRhcnlfXyc7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJvdW5kYXJ5LWNvbnN0YW50cy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/lib/framework/boundary-constants.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/lib/picocolors.js":
/*!******************************************************!*\
  !*** ./node_modules/next/dist/esm/lib/picocolors.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   bgBlack: () => (/* binding */ bgBlack),\n/* harmony export */   bgBlue: () => (/* binding */ bgBlue),\n/* harmony export */   bgCyan: () => (/* binding */ bgCyan),\n/* harmony export */   bgGreen: () => (/* binding */ bgGreen),\n/* harmony export */   bgMagenta: () => (/* binding */ bgMagenta),\n/* harmony export */   bgRed: () => (/* binding */ bgRed),\n/* harmony export */   bgWhite: () => (/* binding */ bgWhite),\n/* harmony export */   bgYellow: () => (/* binding */ bgYellow),\n/* harmony export */   black: () => (/* binding */ black),\n/* harmony export */   blue: () => (/* binding */ blue),\n/* harmony export */   bold: () => (/* binding */ bold),\n/* harmony export */   cyan: () => (/* binding */ cyan),\n/* harmony export */   dim: () => (/* binding */ dim),\n/* harmony export */   gray: () => (/* binding */ gray),\n/* harmony export */   green: () => (/* binding */ green),\n/* harmony export */   hidden: () => (/* binding */ hidden),\n/* harmony export */   inverse: () => (/* binding */ inverse),\n/* harmony export */   italic: () => (/* binding */ italic),\n/* harmony export */   magenta: () => (/* binding */ magenta),\n/* harmony export */   purple: () => (/* binding */ purple),\n/* harmony export */   red: () => (/* binding */ red),\n/* harmony export */   reset: () => (/* binding */ reset),\n/* harmony export */   strikethrough: () => (/* binding */ strikethrough),\n/* harmony export */   underline: () => (/* binding */ underline),\n/* harmony export */   white: () => (/* binding */ white),\n/* harmony export */   yellow: () => (/* binding */ yellow)\n/* harmony export */ });\n// ISC License\n// Copyright (c) 2021 Alexey Raspopov, Kostiantyn Denysov, Anton Verinov\n// Permission to use, copy, modify, and/or distribute this software for any\n// purpose with or without fee is hereby granted, provided that the above\n// copyright notice and this permission notice appear in all copies.\n// THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES\n// WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF\n// MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR\n// ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES\n// WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN\n// ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF\n// OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n//\n// https://github.com/alexeyraspopov/picocolors/blob/b6261487e7b81aaab2440e397a356732cad9e342/picocolors.js#L1\nvar _globalThis;\nconst { env, stdout } = ((_globalThis = globalThis) == null ? void 0 : _globalThis.process) ?? {};\nconst enabled = env && !env.NO_COLOR && (env.FORCE_COLOR || (stdout == null ? void 0 : stdout.isTTY) && !env.CI && env.TERM !== 'dumb');\nconst replaceClose = (str, close, replace, index)=>{\n    const start = str.substring(0, index) + replace;\n    const end = str.substring(index + close.length);\n    const nextIndex = end.indexOf(close);\n    return ~nextIndex ? start + replaceClose(end, close, replace, nextIndex) : start + end;\n};\nconst formatter = (open, close, replace = open)=>{\n    if (!enabled) return String;\n    return (input)=>{\n        const string = '' + input;\n        const index = string.indexOf(close, open.length);\n        return ~index ? open + replaceClose(string, close, replace, index) + close : open + string + close;\n    };\n};\nconst reset = enabled ? (s)=>`\\x1b[0m${s}\\x1b[0m` : String;\nconst bold = formatter('\\x1b[1m', '\\x1b[22m', '\\x1b[22m\\x1b[1m');\nconst dim = formatter('\\x1b[2m', '\\x1b[22m', '\\x1b[22m\\x1b[2m');\nconst italic = formatter('\\x1b[3m', '\\x1b[23m');\nconst underline = formatter('\\x1b[4m', '\\x1b[24m');\nconst inverse = formatter('\\x1b[7m', '\\x1b[27m');\nconst hidden = formatter('\\x1b[8m', '\\x1b[28m');\nconst strikethrough = formatter('\\x1b[9m', '\\x1b[29m');\nconst black = formatter('\\x1b[30m', '\\x1b[39m');\nconst red = formatter('\\x1b[31m', '\\x1b[39m');\nconst green = formatter('\\x1b[32m', '\\x1b[39m');\nconst yellow = formatter('\\x1b[33m', '\\x1b[39m');\nconst blue = formatter('\\x1b[34m', '\\x1b[39m');\nconst magenta = formatter('\\x1b[35m', '\\x1b[39m');\nconst purple = formatter('\\x1b[38;2;173;127;168m', '\\x1b[39m');\nconst cyan = formatter('\\x1b[36m', '\\x1b[39m');\nconst white = formatter('\\x1b[37m', '\\x1b[39m');\nconst gray = formatter('\\x1b[90m', '\\x1b[39m');\nconst bgBlack = formatter('\\x1b[40m', '\\x1b[49m');\nconst bgRed = formatter('\\x1b[41m', '\\x1b[49m');\nconst bgGreen = formatter('\\x1b[42m', '\\x1b[49m');\nconst bgYellow = formatter('\\x1b[43m', '\\x1b[49m');\nconst bgBlue = formatter('\\x1b[44m', '\\x1b[49m');\nconst bgMagenta = formatter('\\x1b[45m', '\\x1b[49m');\nconst bgCyan = formatter('\\x1b[46m', '\\x1b[49m');\nconst bgWhite = formatter('\\x1b[47m', '\\x1b[49m');\n\n//# sourceMappingURL=picocolors.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vbGliL3BpY29jb2xvcnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLGNBQWM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sdUNBQXVDLEVBQUU7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsRUFBRSxJQUFJLElBQUk7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFUCIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcbmV4dFxcZGlzdFxcZXNtXFxsaWJcXHBpY29jb2xvcnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSVNDIExpY2Vuc2Vcbi8vIENvcHlyaWdodCAoYykgMjAyMSBBbGV4ZXkgUmFzcG9wb3YsIEtvc3RpYW50eW4gRGVueXNvdiwgQW50b24gVmVyaW5vdlxuLy8gUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XG4vLyBwdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQsIHByb3ZpZGVkIHRoYXQgdGhlIGFib3ZlXG4vLyBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIGFwcGVhciBpbiBhbGwgY29waWVzLlxuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVNcbi8vIFdJVEggUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SXG4vLyBBTlkgU1BFQ0lBTCwgRElSRUNULCBJTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTXG4vLyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NIExPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU5cbi8vIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUiBPVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GXG4vLyBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUiBQRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxuLy9cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbGV4ZXlyYXNwb3Bvdi9waWNvY29sb3JzL2Jsb2IvYjYyNjE0ODdlN2I4MWFhYWIyNDQwZTM5N2EzNTY3MzJjYWQ5ZTM0Mi9waWNvY29sb3JzLmpzI0wxXG52YXIgX2dsb2JhbFRoaXM7XG5jb25zdCB7IGVudiwgc3Rkb3V0IH0gPSAoKF9nbG9iYWxUaGlzID0gZ2xvYmFsVGhpcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9nbG9iYWxUaGlzLnByb2Nlc3MpID8/IHt9O1xuY29uc3QgZW5hYmxlZCA9IGVudiAmJiAhZW52Lk5PX0NPTE9SICYmIChlbnYuRk9SQ0VfQ09MT1IgfHwgKHN0ZG91dCA9PSBudWxsID8gdm9pZCAwIDogc3Rkb3V0LmlzVFRZKSAmJiAhZW52LkNJICYmIGVudi5URVJNICE9PSAnZHVtYicpO1xuY29uc3QgcmVwbGFjZUNsb3NlID0gKHN0ciwgY2xvc2UsIHJlcGxhY2UsIGluZGV4KT0+e1xuICAgIGNvbnN0IHN0YXJ0ID0gc3RyLnN1YnN0cmluZygwLCBpbmRleCkgKyByZXBsYWNlO1xuICAgIGNvbnN0IGVuZCA9IHN0ci5zdWJzdHJpbmcoaW5kZXggKyBjbG9zZS5sZW5ndGgpO1xuICAgIGNvbnN0IG5leHRJbmRleCA9IGVuZC5pbmRleE9mKGNsb3NlKTtcbiAgICByZXR1cm4gfm5leHRJbmRleCA/IHN0YXJ0ICsgcmVwbGFjZUNsb3NlKGVuZCwgY2xvc2UsIHJlcGxhY2UsIG5leHRJbmRleCkgOiBzdGFydCArIGVuZDtcbn07XG5jb25zdCBmb3JtYXR0ZXIgPSAob3BlbiwgY2xvc2UsIHJlcGxhY2UgPSBvcGVuKT0+e1xuICAgIGlmICghZW5hYmxlZCkgcmV0dXJuIFN0cmluZztcbiAgICByZXR1cm4gKGlucHV0KT0+e1xuICAgICAgICBjb25zdCBzdHJpbmcgPSAnJyArIGlucHV0O1xuICAgICAgICBjb25zdCBpbmRleCA9IHN0cmluZy5pbmRleE9mKGNsb3NlLCBvcGVuLmxlbmd0aCk7XG4gICAgICAgIHJldHVybiB+aW5kZXggPyBvcGVuICsgcmVwbGFjZUNsb3NlKHN0cmluZywgY2xvc2UsIHJlcGxhY2UsIGluZGV4KSArIGNsb3NlIDogb3BlbiArIHN0cmluZyArIGNsb3NlO1xuICAgIH07XG59O1xuZXhwb3J0IGNvbnN0IHJlc2V0ID0gZW5hYmxlZCA/IChzKT0+YFxceDFiWzBtJHtzfVxceDFiWzBtYCA6IFN0cmluZztcbmV4cG9ydCBjb25zdCBib2xkID0gZm9ybWF0dGVyKCdcXHgxYlsxbScsICdcXHgxYlsyMm0nLCAnXFx4MWJbMjJtXFx4MWJbMW0nKTtcbmV4cG9ydCBjb25zdCBkaW0gPSBmb3JtYXR0ZXIoJ1xceDFiWzJtJywgJ1xceDFiWzIybScsICdcXHgxYlsyMm1cXHgxYlsybScpO1xuZXhwb3J0IGNvbnN0IGl0YWxpYyA9IGZvcm1hdHRlcignXFx4MWJbM20nLCAnXFx4MWJbMjNtJyk7XG5leHBvcnQgY29uc3QgdW5kZXJsaW5lID0gZm9ybWF0dGVyKCdcXHgxYls0bScsICdcXHgxYlsyNG0nKTtcbmV4cG9ydCBjb25zdCBpbnZlcnNlID0gZm9ybWF0dGVyKCdcXHgxYls3bScsICdcXHgxYlsyN20nKTtcbmV4cG9ydCBjb25zdCBoaWRkZW4gPSBmb3JtYXR0ZXIoJ1xceDFiWzhtJywgJ1xceDFiWzI4bScpO1xuZXhwb3J0IGNvbnN0IHN0cmlrZXRocm91Z2ggPSBmb3JtYXR0ZXIoJ1xceDFiWzltJywgJ1xceDFiWzI5bScpO1xuZXhwb3J0IGNvbnN0IGJsYWNrID0gZm9ybWF0dGVyKCdcXHgxYlszMG0nLCAnXFx4MWJbMzltJyk7XG5leHBvcnQgY29uc3QgcmVkID0gZm9ybWF0dGVyKCdcXHgxYlszMW0nLCAnXFx4MWJbMzltJyk7XG5leHBvcnQgY29uc3QgZ3JlZW4gPSBmb3JtYXR0ZXIoJ1xceDFiWzMybScsICdcXHgxYlszOW0nKTtcbmV4cG9ydCBjb25zdCB5ZWxsb3cgPSBmb3JtYXR0ZXIoJ1xceDFiWzMzbScsICdcXHgxYlszOW0nKTtcbmV4cG9ydCBjb25zdCBibHVlID0gZm9ybWF0dGVyKCdcXHgxYlszNG0nLCAnXFx4MWJbMzltJyk7XG5leHBvcnQgY29uc3QgbWFnZW50YSA9IGZvcm1hdHRlcignXFx4MWJbMzVtJywgJ1xceDFiWzM5bScpO1xuZXhwb3J0IGNvbnN0IHB1cnBsZSA9IGZvcm1hdHRlcignXFx4MWJbMzg7MjsxNzM7MTI3OzE2OG0nLCAnXFx4MWJbMzltJyk7XG5leHBvcnQgY29uc3QgY3lhbiA9IGZvcm1hdHRlcignXFx4MWJbMzZtJywgJ1xceDFiWzM5bScpO1xuZXhwb3J0IGNvbnN0IHdoaXRlID0gZm9ybWF0dGVyKCdcXHgxYlszN20nLCAnXFx4MWJbMzltJyk7XG5leHBvcnQgY29uc3QgZ3JheSA9IGZvcm1hdHRlcignXFx4MWJbOTBtJywgJ1xceDFiWzM5bScpO1xuZXhwb3J0IGNvbnN0IGJnQmxhY2sgPSBmb3JtYXR0ZXIoJ1xceDFiWzQwbScsICdcXHgxYls0OW0nKTtcbmV4cG9ydCBjb25zdCBiZ1JlZCA9IGZvcm1hdHRlcignXFx4MWJbNDFtJywgJ1xceDFiWzQ5bScpO1xuZXhwb3J0IGNvbnN0IGJnR3JlZW4gPSBmb3JtYXR0ZXIoJ1xceDFiWzQybScsICdcXHgxYls0OW0nKTtcbmV4cG9ydCBjb25zdCBiZ1llbGxvdyA9IGZvcm1hdHRlcignXFx4MWJbNDNtJywgJ1xceDFiWzQ5bScpO1xuZXhwb3J0IGNvbnN0IGJnQmx1ZSA9IGZvcm1hdHRlcignXFx4MWJbNDRtJywgJ1xceDFiWzQ5bScpO1xuZXhwb3J0IGNvbnN0IGJnTWFnZW50YSA9IGZvcm1hdHRlcignXFx4MWJbNDVtJywgJ1xceDFiWzQ5bScpO1xuZXhwb3J0IGNvbnN0IGJnQ3lhbiA9IGZvcm1hdHRlcignXFx4MWJbNDZtJywgJ1xceDFiWzQ5bScpO1xuZXhwb3J0IGNvbnN0IGJnV2hpdGUgPSBmb3JtYXR0ZXIoJ1xceDFiWzQ3bScsICdcXHgxYls0OW0nKTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGljb2NvbG9ycy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/lib/picocolors.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/lib/scheduler.js":
/*!*****************************************************!*\
  !*** ./node_modules/next/dist/esm/lib/scheduler.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   atLeastOneTask: () => (/* binding */ atLeastOneTask),\n/* harmony export */   scheduleImmediate: () => (/* binding */ scheduleImmediate),\n/* harmony export */   scheduleOnNextTick: () => (/* binding */ scheduleOnNextTick),\n/* harmony export */   waitAtLeastOneReactRenderTask: () => (/* binding */ waitAtLeastOneReactRenderTask)\n/* harmony export */ });\n/**\n * Schedules a function to be called on the next tick after the other promises\n * have been resolved.\n *\n * @param cb the function to schedule\n */ const scheduleOnNextTick = (cb)=>{\n    // We use Promise.resolve().then() here so that the operation is scheduled at\n    // the end of the promise job queue, we then add it to the next process tick\n    // to ensure it's evaluated afterwards.\n    //\n    // This was inspired by the implementation of the DataLoader interface: https://github.com/graphql/dataloader/blob/d336bd15282664e0be4b4a657cb796f09bafbc6b/src/index.js#L213-L255\n    //\n    Promise.resolve().then(()=>{\n        if (true) {\n            setTimeout(cb, 0);\n        } else {}\n    });\n};\n/**\n * Schedules a function to be called using `setImmediate` or `setTimeout` if\n * `setImmediate` is not available (like in the Edge runtime).\n *\n * @param cb the function to schedule\n */ const scheduleImmediate = (cb)=>{\n    if (true) {\n        setTimeout(cb, 0);\n    } else {}\n};\n/**\n * returns a promise than resolves in a future task. There is no guarantee that the task it resolves in\n * will be the next task but if you await it you can at least be sure that the current task is over and\n * most usefully that the entire microtask queue of the current task has been emptied.\n */ function atLeastOneTask() {\n    return new Promise((resolve)=>scheduleImmediate(resolve));\n}\n/**\n * This utility function is extracted to make it easier to find places where we are doing\n * specific timing tricks to try to schedule work after React has rendered. This is especially\n * important at the moment because Next.js uses the edge builds of React which use setTimeout to\n * schedule work when you might expect that something like setImmediate would do the trick.\n *\n * Long term we should switch to the node versions of React rendering when possible and then\n * update this to use setImmediate rather than setTimeout\n */ function waitAtLeastOneReactRenderTask() {\n    if (true) {\n        return new Promise((r)=>setTimeout(r, 0));\n    } else {}\n}\n\n//# sourceMappingURL=scheduler.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vbGliL3NjaGVkdWxlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksSUFBbUM7QUFDL0M7QUFDQSxVQUFVLEtBQUssRUFFTjtBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFXO0FBQ1gsUUFBUSxJQUFtQztBQUMzQztBQUNBLE1BQU0sS0FBSyxFQUVOO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQVc7QUFDWCxRQUFRLElBQW1DO0FBQzNDO0FBQ0EsTUFBTSxLQUFLLEVBRU47QUFDTDs7QUFFQSIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcbmV4dFxcZGlzdFxcZXNtXFxsaWJcXHNjaGVkdWxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFNjaGVkdWxlcyBhIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBvbiB0aGUgbmV4dCB0aWNrIGFmdGVyIHRoZSBvdGhlciBwcm9taXNlc1xuICogaGF2ZSBiZWVuIHJlc29sdmVkLlxuICpcbiAqIEBwYXJhbSBjYiB0aGUgZnVuY3Rpb24gdG8gc2NoZWR1bGVcbiAqLyBleHBvcnQgY29uc3Qgc2NoZWR1bGVPbk5leHRUaWNrID0gKGNiKT0+e1xuICAgIC8vIFdlIHVzZSBQcm9taXNlLnJlc29sdmUoKS50aGVuKCkgaGVyZSBzbyB0aGF0IHRoZSBvcGVyYXRpb24gaXMgc2NoZWR1bGVkIGF0XG4gICAgLy8gdGhlIGVuZCBvZiB0aGUgcHJvbWlzZSBqb2IgcXVldWUsIHdlIHRoZW4gYWRkIGl0IHRvIHRoZSBuZXh0IHByb2Nlc3MgdGlja1xuICAgIC8vIHRvIGVuc3VyZSBpdCdzIGV2YWx1YXRlZCBhZnRlcndhcmRzLlxuICAgIC8vXG4gICAgLy8gVGhpcyB3YXMgaW5zcGlyZWQgYnkgdGhlIGltcGxlbWVudGF0aW9uIG9mIHRoZSBEYXRhTG9hZGVyIGludGVyZmFjZTogaHR0cHM6Ly9naXRodWIuY29tL2dyYXBocWwvZGF0YWxvYWRlci9ibG9iL2QzMzZiZDE1MjgyNjY0ZTBiZTRiNGE2NTdjYjc5NmYwOWJhZmJjNmIvc3JjL2luZGV4LmpzI0wyMTMtTDI1NVxuICAgIC8vXG4gICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKT0+e1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTkVYVF9SVU5USU1FID09PSAnZWRnZScpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoY2IsIDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHJvY2Vzcy5uZXh0VGljayhjYik7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG4vKipcbiAqIFNjaGVkdWxlcyBhIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB1c2luZyBgc2V0SW1tZWRpYXRlYCBvciBgc2V0VGltZW91dGAgaWZcbiAqIGBzZXRJbW1lZGlhdGVgIGlzIG5vdCBhdmFpbGFibGUgKGxpa2UgaW4gdGhlIEVkZ2UgcnVudGltZSkuXG4gKlxuICogQHBhcmFtIGNiIHRoZSBmdW5jdGlvbiB0byBzY2hlZHVsZVxuICovIGV4cG9ydCBjb25zdCBzY2hlZHVsZUltbWVkaWF0ZSA9IChjYik9PntcbiAgICBpZiAocHJvY2Vzcy5lbnYuTkVYVF9SVU5USU1FID09PSAnZWRnZScpIHtcbiAgICAgICAgc2V0VGltZW91dChjYiwgMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgc2V0SW1tZWRpYXRlKGNiKTtcbiAgICB9XG59O1xuLyoqXG4gKiByZXR1cm5zIGEgcHJvbWlzZSB0aGFuIHJlc29sdmVzIGluIGEgZnV0dXJlIHRhc2suIFRoZXJlIGlzIG5vIGd1YXJhbnRlZSB0aGF0IHRoZSB0YXNrIGl0IHJlc29sdmVzIGluXG4gKiB3aWxsIGJlIHRoZSBuZXh0IHRhc2sgYnV0IGlmIHlvdSBhd2FpdCBpdCB5b3UgY2FuIGF0IGxlYXN0IGJlIHN1cmUgdGhhdCB0aGUgY3VycmVudCB0YXNrIGlzIG92ZXIgYW5kXG4gKiBtb3N0IHVzZWZ1bGx5IHRoYXQgdGhlIGVudGlyZSBtaWNyb3Rhc2sgcXVldWUgb2YgdGhlIGN1cnJlbnQgdGFzayBoYXMgYmVlbiBlbXB0aWVkLlxuICovIGV4cG9ydCBmdW5jdGlvbiBhdExlYXN0T25lVGFzaygpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpPT5zY2hlZHVsZUltbWVkaWF0ZShyZXNvbHZlKSk7XG59XG4vKipcbiAqIFRoaXMgdXRpbGl0eSBmdW5jdGlvbiBpcyBleHRyYWN0ZWQgdG8gbWFrZSBpdCBlYXNpZXIgdG8gZmluZCBwbGFjZXMgd2hlcmUgd2UgYXJlIGRvaW5nXG4gKiBzcGVjaWZpYyB0aW1pbmcgdHJpY2tzIHRvIHRyeSB0byBzY2hlZHVsZSB3b3JrIGFmdGVyIFJlYWN0IGhhcyByZW5kZXJlZC4gVGhpcyBpcyBlc3BlY2lhbGx5XG4gKiBpbXBvcnRhbnQgYXQgdGhlIG1vbWVudCBiZWNhdXNlIE5leHQuanMgdXNlcyB0aGUgZWRnZSBidWlsZHMgb2YgUmVhY3Qgd2hpY2ggdXNlIHNldFRpbWVvdXQgdG9cbiAqIHNjaGVkdWxlIHdvcmsgd2hlbiB5b3UgbWlnaHQgZXhwZWN0IHRoYXQgc29tZXRoaW5nIGxpa2Ugc2V0SW1tZWRpYXRlIHdvdWxkIGRvIHRoZSB0cmljay5cbiAqXG4gKiBMb25nIHRlcm0gd2Ugc2hvdWxkIHN3aXRjaCB0byB0aGUgbm9kZSB2ZXJzaW9ucyBvZiBSZWFjdCByZW5kZXJpbmcgd2hlbiBwb3NzaWJsZSBhbmQgdGhlblxuICogdXBkYXRlIHRoaXMgdG8gdXNlIHNldEltbWVkaWF0ZSByYXRoZXIgdGhhbiBzZXRUaW1lb3V0XG4gKi8gZXhwb3J0IGZ1bmN0aW9uIHdhaXRBdExlYXN0T25lUmVhY3RSZW5kZXJUYXNrKCkge1xuICAgIGlmIChwcm9jZXNzLmVudi5ORVhUX1JVTlRJTUUgPT09ICdlZGdlJykge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHIpPT5zZXRUaW1lb3V0KHIsIDApKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHIpPT5zZXRJbW1lZGlhdGUocikpO1xuICAgIH1cbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/lib/scheduler.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/after/after-context.js":
/*!******************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/after/after-context.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AfterContext: () => (/* binding */ AfterContext)\n/* harmony export */ });\n/* harmony import */ var next_dist_compiled_p_queue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/compiled/p-queue */ \"(middleware)/./node_modules/next/dist/compiled/p-queue/index.js\");\n/* harmony import */ var next_dist_compiled_p_queue__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_compiled_p_queue__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _shared_lib_invariant_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/lib/invariant-error */ \"(middleware)/./node_modules/next/dist/esm/shared/lib/invariant-error.js\");\n/* harmony import */ var _shared_lib_is_thenable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shared/lib/is-thenable */ \"(middleware)/./node_modules/next/dist/esm/shared/lib/is-thenable.js\");\n/* harmony import */ var _app_render_work_async_storage_external__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../app-render/work-async-storage.external */ \"(shared)/./node_modules/next/dist/esm/server/app-render/work-async-storage.external.js\");\n/* harmony import */ var _revalidation_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../revalidation-utils */ \"(middleware)/./node_modules/next/dist/esm/server/revalidation-utils.js\");\n/* harmony import */ var _app_render_async_local_storage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../app-render/async-local-storage */ \"(middleware)/./node_modules/next/dist/esm/server/app-render/async-local-storage.js\");\n/* harmony import */ var _app_render_work_unit_async_storage_external__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../app-render/work-unit-async-storage.external */ \"(shared)/./node_modules/next/dist/esm/server/app-render/work-unit-async-storage.external.js\");\n/* harmony import */ var _app_render_after_task_async_storage_external__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../app-render/after-task-async-storage.external */ \"(middleware)/./node_modules/next/dist/esm/server/app-render/after-task-async-storage.external.js\");\n\n\n\n\n\n\n\n\nclass AfterContext {\n    constructor({ waitUntil, onClose, onTaskError }){\n        this.workUnitStores = new Set();\n        this.waitUntil = waitUntil;\n        this.onClose = onClose;\n        this.onTaskError = onTaskError;\n        this.callbackQueue = new (next_dist_compiled_p_queue__WEBPACK_IMPORTED_MODULE_0___default())();\n        this.callbackQueue.pause();\n    }\n    after(task) {\n        if ((0,_shared_lib_is_thenable__WEBPACK_IMPORTED_MODULE_2__.isThenable)(task)) {\n            if (!this.waitUntil) {\n                errorWaitUntilNotAvailable();\n            }\n            this.waitUntil(task.catch((error)=>this.reportTaskError('promise', error)));\n        } else if (typeof task === 'function') {\n            // TODO(after): implement tracing\n            this.addCallback(task);\n        } else {\n            throw Object.defineProperty(new Error('`after()`: Argument must be a promise or a function'), \"__NEXT_ERROR_CODE\", {\n                value: \"E50\",\n                enumerable: false,\n                configurable: true\n            });\n        }\n    }\n    addCallback(callback) {\n        // if something is wrong, throw synchronously, bubbling up to the `after` callsite.\n        if (!this.waitUntil) {\n            errorWaitUntilNotAvailable();\n        }\n        const workUnitStore = _app_render_work_unit_async_storage_external__WEBPACK_IMPORTED_MODULE_6__.workUnitAsyncStorage.getStore();\n        if (workUnitStore) {\n            this.workUnitStores.add(workUnitStore);\n        }\n        const afterTaskStore = _app_render_after_task_async_storage_external__WEBPACK_IMPORTED_MODULE_7__.afterTaskAsyncStorage.getStore();\n        // This is used for checking if request APIs can be called inside `after`.\n        // Note that we need to check the phase in which the *topmost* `after` was called (which should be \"action\"),\n        // not the current phase (which might be \"after\" if we're in a nested after).\n        // Otherwise, we might allow `after(() => headers())`, but not `after(() => after(() => headers()))`.\n        const rootTaskSpawnPhase = afterTaskStore ? afterTaskStore.rootTaskSpawnPhase // nested after\n         : workUnitStore == null ? void 0 : workUnitStore.phase // topmost after\n        ;\n        // this should only happen once.\n        if (!this.runCallbacksOnClosePromise) {\n            this.runCallbacksOnClosePromise = this.runCallbacksOnClose();\n            this.waitUntil(this.runCallbacksOnClosePromise);\n        }\n        // Bind the callback to the current execution context (i.e. preserve all currently available ALS-es).\n        // We do this because we want all of these to be equivalent in every regard except timing:\n        //   after(() => x())\n        //   after(x())\n        //   await x()\n        const wrappedCallback = (0,_app_render_async_local_storage__WEBPACK_IMPORTED_MODULE_5__.bindSnapshot)(async ()=>{\n            try {\n                await _app_render_after_task_async_storage_external__WEBPACK_IMPORTED_MODULE_7__.afterTaskAsyncStorage.run({\n                    rootTaskSpawnPhase\n                }, ()=>callback());\n            } catch (error) {\n                this.reportTaskError('function', error);\n            }\n        });\n        this.callbackQueue.add(wrappedCallback);\n    }\n    async runCallbacksOnClose() {\n        await new Promise((resolve)=>this.onClose(resolve));\n        return this.runCallbacks();\n    }\n    async runCallbacks() {\n        if (this.callbackQueue.size === 0) return;\n        for (const workUnitStore of this.workUnitStores){\n            workUnitStore.phase = 'after';\n        }\n        const workStore = _app_render_work_async_storage_external__WEBPACK_IMPORTED_MODULE_3__.workAsyncStorage.getStore();\n        if (!workStore) {\n            throw Object.defineProperty(new _shared_lib_invariant_error__WEBPACK_IMPORTED_MODULE_1__.InvariantError('Missing workStore in AfterContext.runCallbacks'), \"__NEXT_ERROR_CODE\", {\n                value: \"E547\",\n                enumerable: false,\n                configurable: true\n            });\n        }\n        return (0,_revalidation_utils__WEBPACK_IMPORTED_MODULE_4__.withExecuteRevalidates)(workStore, ()=>{\n            this.callbackQueue.start();\n            return this.callbackQueue.onIdle();\n        });\n    }\n    reportTaskError(taskKind, error) {\n        // TODO(after): this is fine for now, but will need better intergration with our error reporting.\n        // TODO(after): should we log this if we have a onTaskError callback?\n        console.error(taskKind === 'promise' ? `A promise passed to \\`after()\\` rejected:` : `An error occurred in a function passed to \\`after()\\`:`, error);\n        if (this.onTaskError) {\n            // this is very defensive, but we really don't want anything to blow up in an error handler\n            try {\n                this.onTaskError == null ? void 0 : this.onTaskError.call(this, error);\n            } catch (handlerError) {\n                console.error(Object.defineProperty(new _shared_lib_invariant_error__WEBPACK_IMPORTED_MODULE_1__.InvariantError('`onTaskError` threw while handling an error thrown from an `after` task', {\n                    cause: handlerError\n                }), \"__NEXT_ERROR_CODE\", {\n                    value: \"E569\",\n                    enumerable: false,\n                    configurable: true\n                }));\n            }\n        }\n    }\n}\nfunction errorWaitUntilNotAvailable() {\n    throw Object.defineProperty(new Error('`after()` will not work correctly, because `waitUntil` is not available in the current environment.'), \"__NEXT_ERROR_CODE\", {\n        value: \"E91\",\n        enumerable: false,\n        configurable: true\n    });\n}\n\n//# sourceMappingURL=after-context.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL2FmdGVyL2FmdGVyLWNvbnRleHQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFzRDtBQUNZO0FBQ1I7QUFDbUI7QUFDZDtBQUNFO0FBQ3FCO0FBQ0U7QUFDakY7QUFDUCxrQkFBa0IsaUNBQWlDO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLG1FQUFZO0FBQzdDO0FBQ0E7QUFDQTtBQUNBLFlBQVksbUVBQVU7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qiw4RkFBb0I7QUFDbEQ7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGdHQUFxQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDZFQUFZO0FBQzVDO0FBQ0Esc0JBQXNCLGdHQUFxQjtBQUMzQztBQUNBLGlCQUFpQjtBQUNqQixjQUFjO0FBQ2Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHFGQUFnQjtBQUMxQztBQUNBLDRDQUE0Qyx1RUFBYztBQUMxRDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxlQUFlLDJFQUFzQjtBQUNyQztBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZCx3REFBd0QsdUVBQWM7QUFDdEU7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQSIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcbmV4dFxcZGlzdFxcZXNtXFxzZXJ2ZXJcXGFmdGVyXFxhZnRlci1jb250ZXh0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQcm9taXNlUXVldWUgZnJvbSAnbmV4dC9kaXN0L2NvbXBpbGVkL3AtcXVldWUnO1xuaW1wb3J0IHsgSW52YXJpYW50RXJyb3IgfSBmcm9tICcuLi8uLi9zaGFyZWQvbGliL2ludmFyaWFudC1lcnJvcic7XG5pbXBvcnQgeyBpc1RoZW5hYmxlIH0gZnJvbSAnLi4vLi4vc2hhcmVkL2xpYi9pcy10aGVuYWJsZSc7XG5pbXBvcnQgeyB3b3JrQXN5bmNTdG9yYWdlIH0gZnJvbSAnLi4vYXBwLXJlbmRlci93b3JrLWFzeW5jLXN0b3JhZ2UuZXh0ZXJuYWwnO1xuaW1wb3J0IHsgd2l0aEV4ZWN1dGVSZXZhbGlkYXRlcyB9IGZyb20gJy4uL3JldmFsaWRhdGlvbi11dGlscyc7XG5pbXBvcnQgeyBiaW5kU25hcHNob3QgfSBmcm9tICcuLi9hcHAtcmVuZGVyL2FzeW5jLWxvY2FsLXN0b3JhZ2UnO1xuaW1wb3J0IHsgd29ya1VuaXRBc3luY1N0b3JhZ2UgfSBmcm9tICcuLi9hcHAtcmVuZGVyL3dvcmstdW5pdC1hc3luYy1zdG9yYWdlLmV4dGVybmFsJztcbmltcG9ydCB7IGFmdGVyVGFza0FzeW5jU3RvcmFnZSB9IGZyb20gJy4uL2FwcC1yZW5kZXIvYWZ0ZXItdGFzay1hc3luYy1zdG9yYWdlLmV4dGVybmFsJztcbmV4cG9ydCBjbGFzcyBBZnRlckNvbnRleHQge1xuICAgIGNvbnN0cnVjdG9yKHsgd2FpdFVudGlsLCBvbkNsb3NlLCBvblRhc2tFcnJvciB9KXtcbiAgICAgICAgdGhpcy53b3JrVW5pdFN0b3JlcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgdGhpcy53YWl0VW50aWwgPSB3YWl0VW50aWw7XG4gICAgICAgIHRoaXMub25DbG9zZSA9IG9uQ2xvc2U7XG4gICAgICAgIHRoaXMub25UYXNrRXJyb3IgPSBvblRhc2tFcnJvcjtcbiAgICAgICAgdGhpcy5jYWxsYmFja1F1ZXVlID0gbmV3IFByb21pc2VRdWV1ZSgpO1xuICAgICAgICB0aGlzLmNhbGxiYWNrUXVldWUucGF1c2UoKTtcbiAgICB9XG4gICAgYWZ0ZXIodGFzaykge1xuICAgICAgICBpZiAoaXNUaGVuYWJsZSh0YXNrKSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLndhaXRVbnRpbCkge1xuICAgICAgICAgICAgICAgIGVycm9yV2FpdFVudGlsTm90QXZhaWxhYmxlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLndhaXRVbnRpbCh0YXNrLmNhdGNoKChlcnJvcik9PnRoaXMucmVwb3J0VGFza0Vycm9yKCdwcm9taXNlJywgZXJyb3IpKSk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRhc2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIC8vIFRPRE8oYWZ0ZXIpOiBpbXBsZW1lbnQgdHJhY2luZ1xuICAgICAgICAgICAgdGhpcy5hZGRDYWxsYmFjayh0YXNrKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXcgRXJyb3IoJ2BhZnRlcigpYDogQXJndW1lbnQgbXVzdCBiZSBhIHByb21pc2Ugb3IgYSBmdW5jdGlvbicpLCBcIl9fTkVYVF9FUlJPUl9DT0RFXCIsIHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJFNTBcIixcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZENhbGxiYWNrKGNhbGxiYWNrKSB7XG4gICAgICAgIC8vIGlmIHNvbWV0aGluZyBpcyB3cm9uZywgdGhyb3cgc3luY2hyb25vdXNseSwgYnViYmxpbmcgdXAgdG8gdGhlIGBhZnRlcmAgY2FsbHNpdGUuXG4gICAgICAgIGlmICghdGhpcy53YWl0VW50aWwpIHtcbiAgICAgICAgICAgIGVycm9yV2FpdFVudGlsTm90QXZhaWxhYmxlKCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgd29ya1VuaXRTdG9yZSA9IHdvcmtVbml0QXN5bmNTdG9yYWdlLmdldFN0b3JlKCk7XG4gICAgICAgIGlmICh3b3JrVW5pdFN0b3JlKSB7XG4gICAgICAgICAgICB0aGlzLndvcmtVbml0U3RvcmVzLmFkZCh3b3JrVW5pdFN0b3JlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhZnRlclRhc2tTdG9yZSA9IGFmdGVyVGFza0FzeW5jU3RvcmFnZS5nZXRTdG9yZSgpO1xuICAgICAgICAvLyBUaGlzIGlzIHVzZWQgZm9yIGNoZWNraW5nIGlmIHJlcXVlc3QgQVBJcyBjYW4gYmUgY2FsbGVkIGluc2lkZSBgYWZ0ZXJgLlxuICAgICAgICAvLyBOb3RlIHRoYXQgd2UgbmVlZCB0byBjaGVjayB0aGUgcGhhc2UgaW4gd2hpY2ggdGhlICp0b3Btb3N0KiBgYWZ0ZXJgIHdhcyBjYWxsZWQgKHdoaWNoIHNob3VsZCBiZSBcImFjdGlvblwiKSxcbiAgICAgICAgLy8gbm90IHRoZSBjdXJyZW50IHBoYXNlICh3aGljaCBtaWdodCBiZSBcImFmdGVyXCIgaWYgd2UncmUgaW4gYSBuZXN0ZWQgYWZ0ZXIpLlxuICAgICAgICAvLyBPdGhlcndpc2UsIHdlIG1pZ2h0IGFsbG93IGBhZnRlcigoKSA9PiBoZWFkZXJzKCkpYCwgYnV0IG5vdCBgYWZ0ZXIoKCkgPT4gYWZ0ZXIoKCkgPT4gaGVhZGVycygpKSlgLlxuICAgICAgICBjb25zdCByb290VGFza1NwYXduUGhhc2UgPSBhZnRlclRhc2tTdG9yZSA/IGFmdGVyVGFza1N0b3JlLnJvb3RUYXNrU3Bhd25QaGFzZSAvLyBuZXN0ZWQgYWZ0ZXJcbiAgICAgICAgIDogd29ya1VuaXRTdG9yZSA9PSBudWxsID8gdm9pZCAwIDogd29ya1VuaXRTdG9yZS5waGFzZSAvLyB0b3Btb3N0IGFmdGVyXG4gICAgICAgIDtcbiAgICAgICAgLy8gdGhpcyBzaG91bGQgb25seSBoYXBwZW4gb25jZS5cbiAgICAgICAgaWYgKCF0aGlzLnJ1bkNhbGxiYWNrc09uQ2xvc2VQcm9taXNlKSB7XG4gICAgICAgICAgICB0aGlzLnJ1bkNhbGxiYWNrc09uQ2xvc2VQcm9taXNlID0gdGhpcy5ydW5DYWxsYmFja3NPbkNsb3NlKCk7XG4gICAgICAgICAgICB0aGlzLndhaXRVbnRpbCh0aGlzLnJ1bkNhbGxiYWNrc09uQ2xvc2VQcm9taXNlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBCaW5kIHRoZSBjYWxsYmFjayB0byB0aGUgY3VycmVudCBleGVjdXRpb24gY29udGV4dCAoaS5lLiBwcmVzZXJ2ZSBhbGwgY3VycmVudGx5IGF2YWlsYWJsZSBBTFMtZXMpLlxuICAgICAgICAvLyBXZSBkbyB0aGlzIGJlY2F1c2Ugd2Ugd2FudCBhbGwgb2YgdGhlc2UgdG8gYmUgZXF1aXZhbGVudCBpbiBldmVyeSByZWdhcmQgZXhjZXB0IHRpbWluZzpcbiAgICAgICAgLy8gICBhZnRlcigoKSA9PiB4KCkpXG4gICAgICAgIC8vICAgYWZ0ZXIoeCgpKVxuICAgICAgICAvLyAgIGF3YWl0IHgoKVxuICAgICAgICBjb25zdCB3cmFwcGVkQ2FsbGJhY2sgPSBiaW5kU25hcHNob3QoYXN5bmMgKCk9PntcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgYWZ0ZXJUYXNrQXN5bmNTdG9yYWdlLnJ1bih7XG4gICAgICAgICAgICAgICAgICAgIHJvb3RUYXNrU3Bhd25QaGFzZVxuICAgICAgICAgICAgICAgIH0sICgpPT5jYWxsYmFjaygpKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXBvcnRUYXNrRXJyb3IoJ2Z1bmN0aW9uJywgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jYWxsYmFja1F1ZXVlLmFkZCh3cmFwcGVkQ2FsbGJhY2spO1xuICAgIH1cbiAgICBhc3luYyBydW5DYWxsYmFja3NPbkNsb3NlKCkge1xuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSk9PnRoaXMub25DbG9zZShyZXNvbHZlKSk7XG4gICAgICAgIHJldHVybiB0aGlzLnJ1bkNhbGxiYWNrcygpO1xuICAgIH1cbiAgICBhc3luYyBydW5DYWxsYmFja3MoKSB7XG4gICAgICAgIGlmICh0aGlzLmNhbGxiYWNrUXVldWUuc2l6ZSA9PT0gMCkgcmV0dXJuO1xuICAgICAgICBmb3IgKGNvbnN0IHdvcmtVbml0U3RvcmUgb2YgdGhpcy53b3JrVW5pdFN0b3Jlcyl7XG4gICAgICAgICAgICB3b3JrVW5pdFN0b3JlLnBoYXNlID0gJ2FmdGVyJztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB3b3JrU3RvcmUgPSB3b3JrQXN5bmNTdG9yYWdlLmdldFN0b3JlKCk7XG4gICAgICAgIGlmICghd29ya1N0b3JlKSB7XG4gICAgICAgICAgICB0aHJvdyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3IEludmFyaWFudEVycm9yKCdNaXNzaW5nIHdvcmtTdG9yZSBpbiBBZnRlckNvbnRleHQucnVuQ2FsbGJhY2tzJyksIFwiX19ORVhUX0VSUk9SX0NPREVcIiwge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBcIkU1NDdcIixcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3aXRoRXhlY3V0ZVJldmFsaWRhdGVzKHdvcmtTdG9yZSwgKCk9PntcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tRdWV1ZS5zdGFydCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FsbGJhY2tRdWV1ZS5vbklkbGUoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlcG9ydFRhc2tFcnJvcih0YXNrS2luZCwgZXJyb3IpIHtcbiAgICAgICAgLy8gVE9ETyhhZnRlcik6IHRoaXMgaXMgZmluZSBmb3Igbm93LCBidXQgd2lsbCBuZWVkIGJldHRlciBpbnRlcmdyYXRpb24gd2l0aCBvdXIgZXJyb3IgcmVwb3J0aW5nLlxuICAgICAgICAvLyBUT0RPKGFmdGVyKTogc2hvdWxkIHdlIGxvZyB0aGlzIGlmIHdlIGhhdmUgYSBvblRhc2tFcnJvciBjYWxsYmFjaz9cbiAgICAgICAgY29uc29sZS5lcnJvcih0YXNrS2luZCA9PT0gJ3Byb21pc2UnID8gYEEgcHJvbWlzZSBwYXNzZWQgdG8gXFxgYWZ0ZXIoKVxcYCByZWplY3RlZDpgIDogYEFuIGVycm9yIG9jY3VycmVkIGluIGEgZnVuY3Rpb24gcGFzc2VkIHRvIFxcYGFmdGVyKClcXGA6YCwgZXJyb3IpO1xuICAgICAgICBpZiAodGhpcy5vblRhc2tFcnJvcikge1xuICAgICAgICAgICAgLy8gdGhpcyBpcyB2ZXJ5IGRlZmVuc2l2ZSwgYnV0IHdlIHJlYWxseSBkb24ndCB3YW50IGFueXRoaW5nIHRvIGJsb3cgdXAgaW4gYW4gZXJyb3IgaGFuZGxlclxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uVGFza0Vycm9yID09IG51bGwgPyB2b2lkIDAgOiB0aGlzLm9uVGFza0Vycm9yLmNhbGwodGhpcywgZXJyb3IpO1xuICAgICAgICAgICAgfSBjYXRjaCAoaGFuZGxlckVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3IEludmFyaWFudEVycm9yKCdgb25UYXNrRXJyb3JgIHRocmV3IHdoaWxlIGhhbmRsaW5nIGFuIGVycm9yIHRocm93biBmcm9tIGFuIGBhZnRlcmAgdGFzaycsIHtcbiAgICAgICAgICAgICAgICAgICAgY2F1c2U6IGhhbmRsZXJFcnJvclxuICAgICAgICAgICAgICAgIH0pLCBcIl9fTkVYVF9FUlJPUl9DT0RFXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiRTU2OVwiLFxuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gZXJyb3JXYWl0VW50aWxOb3RBdmFpbGFibGUoKSB7XG4gICAgdGhyb3cgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ldyBFcnJvcignYGFmdGVyKClgIHdpbGwgbm90IHdvcmsgY29ycmVjdGx5LCBiZWNhdXNlIGB3YWl0VW50aWxgIGlzIG5vdCBhdmFpbGFibGUgaW4gdGhlIGN1cnJlbnQgZW52aXJvbm1lbnQuJyksIFwiX19ORVhUX0VSUk9SX0NPREVcIiwge1xuICAgICAgICB2YWx1ZTogXCJFOTFcIixcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hZnRlci1jb250ZXh0LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/after/after-context.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/after/after.js":
/*!**********************************************************!*\
  !*** ./node_modules/next/dist/esm/server/after/after.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   after: () => (/* binding */ after)\n/* harmony export */ });\n/* harmony import */ var _app_render_work_async_storage_external__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../app-render/work-async-storage.external */ \"(shared)/./node_modules/next/dist/esm/server/app-render/work-async-storage.external.js\");\n\n/**\n * This function allows you to schedule callbacks to be executed after the current request finishes.\n */ function after(task) {\n    const workStore = _app_render_work_async_storage_external__WEBPACK_IMPORTED_MODULE_0__.workAsyncStorage.getStore();\n    if (!workStore) {\n        // TODO(after): the linked docs page talks about *dynamic* APIs, which after soon won't be anymore\n        throw Object.defineProperty(new Error('`after` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context'), \"__NEXT_ERROR_CODE\", {\n            value: \"E468\",\n            enumerable: false,\n            configurable: true\n        });\n    }\n    const { afterContext } = workStore;\n    return afterContext.after(task);\n}\n\n//# sourceMappingURL=after.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL2FmdGVyL2FmdGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTZFO0FBQzdFO0FBQ0E7QUFDQSxJQUFXO0FBQ1gsc0JBQXNCLHFGQUFnQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxZQUFZLGVBQWU7QUFDM0I7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcbmV4dFxcZGlzdFxcZXNtXFxzZXJ2ZXJcXGFmdGVyXFxhZnRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB3b3JrQXN5bmNTdG9yYWdlIH0gZnJvbSAnLi4vYXBwLXJlbmRlci93b3JrLWFzeW5jLXN0b3JhZ2UuZXh0ZXJuYWwnO1xuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGFsbG93cyB5b3UgdG8gc2NoZWR1bGUgY2FsbGJhY2tzIHRvIGJlIGV4ZWN1dGVkIGFmdGVyIHRoZSBjdXJyZW50IHJlcXVlc3QgZmluaXNoZXMuXG4gKi8gZXhwb3J0IGZ1bmN0aW9uIGFmdGVyKHRhc2spIHtcbiAgICBjb25zdCB3b3JrU3RvcmUgPSB3b3JrQXN5bmNTdG9yYWdlLmdldFN0b3JlKCk7XG4gICAgaWYgKCF3b3JrU3RvcmUpIHtcbiAgICAgICAgLy8gVE9ETyhhZnRlcik6IHRoZSBsaW5rZWQgZG9jcyBwYWdlIHRhbGtzIGFib3V0ICpkeW5hbWljKiBBUElzLCB3aGljaCBhZnRlciBzb29uIHdvbid0IGJlIGFueW1vcmVcbiAgICAgICAgdGhyb3cgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ldyBFcnJvcignYGFmdGVyYCB3YXMgY2FsbGVkIG91dHNpZGUgYSByZXF1ZXN0IHNjb3BlLiBSZWFkIG1vcmU6IGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL21lc3NhZ2VzL25leHQtZHluYW1pYy1hcGktd3JvbmctY29udGV4dCcpLCBcIl9fTkVYVF9FUlJPUl9DT0RFXCIsIHtcbiAgICAgICAgICAgIHZhbHVlOiBcIkU0NjhcIixcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCB7IGFmdGVyQ29udGV4dCB9ID0gd29ya1N0b3JlO1xuICAgIHJldHVybiBhZnRlckNvbnRleHQuYWZ0ZXIodGFzayk7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFmdGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/after/after.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/after/builtin-request-context.js":
/*!****************************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/after/builtin-request-context.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createLocalRequestContext: () => (/* binding */ createLocalRequestContext),\n/* harmony export */   getBuiltinRequestContext: () => (/* binding */ getBuiltinRequestContext)\n/* harmony export */ });\n/* harmony import */ var _app_render_async_local_storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../app-render/async-local-storage */ \"(middleware)/./node_modules/next/dist/esm/server/app-render/async-local-storage.js\");\n\nfunction getBuiltinRequestContext() {\n    const _globalThis = globalThis;\n    const ctx = _globalThis[NEXT_REQUEST_CONTEXT_SYMBOL];\n    return ctx == null ? void 0 : ctx.get();\n}\nconst NEXT_REQUEST_CONTEXT_SYMBOL = Symbol.for('@next/request-context');\n/** \"@next/request-context\" has a different signature from AsyncLocalStorage,\n * matching [AsyncContext.Variable](https://github.com/tc39/proposal-async-context).\n * We don't need a full AsyncContext adapter here, just having `.get()` is enough\n */ function createLocalRequestContext() {\n    const storage = (0,_app_render_async_local_storage__WEBPACK_IMPORTED_MODULE_0__.createAsyncLocalStorage)();\n    return {\n        get: ()=>storage.getStore(),\n        run: (value, callback)=>storage.run(value, callback)\n    };\n}\n\n//# sourceMappingURL=builtin-request-context.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL2FmdGVyL2J1aWx0aW4tcmVxdWVzdC1jb250ZXh0LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE0RTtBQUNyRTtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFXO0FBQ1gsb0JBQW9CLHdGQUF1QjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxuZXh0XFxkaXN0XFxlc21cXHNlcnZlclxcYWZ0ZXJcXGJ1aWx0aW4tcmVxdWVzdC1jb250ZXh0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUFzeW5jTG9jYWxTdG9yYWdlIH0gZnJvbSAnLi4vYXBwLXJlbmRlci9hc3luYy1sb2NhbC1zdG9yYWdlJztcbmV4cG9ydCBmdW5jdGlvbiBnZXRCdWlsdGluUmVxdWVzdENvbnRleHQoKSB7XG4gICAgY29uc3QgX2dsb2JhbFRoaXMgPSBnbG9iYWxUaGlzO1xuICAgIGNvbnN0IGN0eCA9IF9nbG9iYWxUaGlzW05FWFRfUkVRVUVTVF9DT05URVhUX1NZTUJPTF07XG4gICAgcmV0dXJuIGN0eCA9PSBudWxsID8gdm9pZCAwIDogY3R4LmdldCgpO1xufVxuY29uc3QgTkVYVF9SRVFVRVNUX0NPTlRFWFRfU1lNQk9MID0gU3ltYm9sLmZvcignQG5leHQvcmVxdWVzdC1jb250ZXh0Jyk7XG4vKiogXCJAbmV4dC9yZXF1ZXN0LWNvbnRleHRcIiBoYXMgYSBkaWZmZXJlbnQgc2lnbmF0dXJlIGZyb20gQXN5bmNMb2NhbFN0b3JhZ2UsXG4gKiBtYXRjaGluZyBbQXN5bmNDb250ZXh0LlZhcmlhYmxlXShodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1hc3luYy1jb250ZXh0KS5cbiAqIFdlIGRvbid0IG5lZWQgYSBmdWxsIEFzeW5jQ29udGV4dCBhZGFwdGVyIGhlcmUsIGp1c3QgaGF2aW5nIGAuZ2V0KClgIGlzIGVub3VnaFxuICovIGV4cG9ydCBmdW5jdGlvbiBjcmVhdGVMb2NhbFJlcXVlc3RDb250ZXh0KCkge1xuICAgIGNvbnN0IHN0b3JhZ2UgPSBjcmVhdGVBc3luY0xvY2FsU3RvcmFnZSgpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGdldDogKCk9PnN0b3JhZ2UuZ2V0U3RvcmUoKSxcbiAgICAgICAgcnVuOiAodmFsdWUsIGNhbGxiYWNrKT0+c3RvcmFnZS5ydW4odmFsdWUsIGNhbGxiYWNrKVxuICAgIH07XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1aWx0aW4tcmVxdWVzdC1jb250ZXh0LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/after/builtin-request-context.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/after/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/next/dist/esm/server/after/index.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   after: () => (/* reexport safe */ _after__WEBPACK_IMPORTED_MODULE_0__.after)\n/* harmony export */ });\n/* harmony import */ var _after__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./after */ \"(middleware)/./node_modules/next/dist/esm/server/after/after.js\");\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL2FmdGVyL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXdCOztBQUV4QiIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcbmV4dFxcZGlzdFxcZXNtXFxzZXJ2ZXJcXGFmdGVyXFxpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgKiBmcm9tICcuL2FmdGVyJztcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/after/index.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/api-utils/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/api-utils/index.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ApiError: () => (/* binding */ ApiError),\n/* harmony export */   COOKIE_NAME_PRERENDER_BYPASS: () => (/* binding */ COOKIE_NAME_PRERENDER_BYPASS),\n/* harmony export */   COOKIE_NAME_PRERENDER_DATA: () => (/* binding */ COOKIE_NAME_PRERENDER_DATA),\n/* harmony export */   RESPONSE_LIMIT_DEFAULT: () => (/* binding */ RESPONSE_LIMIT_DEFAULT),\n/* harmony export */   SYMBOL_CLEARED_COOKIES: () => (/* binding */ SYMBOL_CLEARED_COOKIES),\n/* harmony export */   SYMBOL_PREVIEW_DATA: () => (/* binding */ SYMBOL_PREVIEW_DATA),\n/* harmony export */   checkIsOnDemandRevalidate: () => (/* binding */ checkIsOnDemandRevalidate),\n/* harmony export */   clearPreviewData: () => (/* binding */ clearPreviewData),\n/* harmony export */   redirect: () => (/* binding */ redirect),\n/* harmony export */   sendError: () => (/* binding */ sendError),\n/* harmony export */   sendStatusCode: () => (/* binding */ sendStatusCode),\n/* harmony export */   setLazyProp: () => (/* binding */ setLazyProp),\n/* harmony export */   wrapApiHandler: () => (/* binding */ wrapApiHandler)\n/* harmony export */ });\n/* harmony import */ var _web_spec_extension_adapters_headers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../web/spec-extension/adapters/headers */ \"(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/adapters/headers.js\");\n/* harmony import */ var _lib_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../lib/constants */ \"(middleware)/./node_modules/next/dist/esm/lib/constants.js\");\n/* harmony import */ var _lib_trace_tracer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/trace/tracer */ \"(middleware)/./node_modules/next/dist/esm/server/lib/trace/tracer.js\");\n/* harmony import */ var _lib_trace_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/trace/constants */ \"(middleware)/./node_modules/next/dist/esm/server/lib/trace/constants.js\");\n\n\n\n\nfunction wrapApiHandler(page, handler) {\n    return (...args)=>{\n        (0,_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_2__.getTracer)().setRootSpanAttribute('next.route', page);\n        // Call API route method\n        return (0,_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_2__.getTracer)().trace(_lib_trace_constants__WEBPACK_IMPORTED_MODULE_3__.NodeSpan.runHandler, {\n            spanName: `executing api route (pages) ${page}`\n        }, ()=>handler(...args));\n    };\n}\n/**\n *\n * @param res response object\n * @param statusCode `HTTP` status code of response\n */ function sendStatusCode(res, statusCode) {\n    res.statusCode = statusCode;\n    return res;\n}\n/**\n *\n * @param res response object\n * @param [statusOrUrl] `HTTP` status code of redirect\n * @param url URL of redirect\n */ function redirect(res, statusOrUrl, url) {\n    if (typeof statusOrUrl === 'string') {\n        url = statusOrUrl;\n        statusOrUrl = 307;\n    }\n    if (typeof statusOrUrl !== 'number' || typeof url !== 'string') {\n        throw Object.defineProperty(new Error(`Invalid redirect arguments. Please use a single argument URL, e.g. res.redirect('/destination') or use a status code and URL, e.g. res.redirect(307, '/destination').`), \"__NEXT_ERROR_CODE\", {\n            value: \"E389\",\n            enumerable: false,\n            configurable: true\n        });\n    }\n    res.writeHead(statusOrUrl, {\n        Location: url\n    });\n    res.write(url);\n    res.end();\n    return res;\n}\nfunction checkIsOnDemandRevalidate(req, previewProps) {\n    const headers = _web_spec_extension_adapters_headers__WEBPACK_IMPORTED_MODULE_0__.HeadersAdapter.from(req.headers);\n    const previewModeId = headers.get(_lib_constants__WEBPACK_IMPORTED_MODULE_1__.PRERENDER_REVALIDATE_HEADER);\n    const isOnDemandRevalidate = previewModeId === previewProps.previewModeId;\n    const revalidateOnlyGenerated = headers.has(_lib_constants__WEBPACK_IMPORTED_MODULE_1__.PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER);\n    return {\n        isOnDemandRevalidate,\n        revalidateOnlyGenerated\n    };\n}\nconst COOKIE_NAME_PRERENDER_BYPASS = `__prerender_bypass`;\nconst COOKIE_NAME_PRERENDER_DATA = `__next_preview_data`;\nconst RESPONSE_LIMIT_DEFAULT = 4 * 1024 * 1024;\nconst SYMBOL_PREVIEW_DATA = Symbol(COOKIE_NAME_PRERENDER_DATA);\nconst SYMBOL_CLEARED_COOKIES = Symbol(COOKIE_NAME_PRERENDER_BYPASS);\nfunction clearPreviewData(res, options = {}) {\n    if (SYMBOL_CLEARED_COOKIES in res) {\n        return res;\n    }\n    const { serialize } = __webpack_require__(/*! next/dist/compiled/cookie */ \"(middleware)/./node_modules/next/dist/compiled/cookie/index.js\");\n    const previous = res.getHeader('Set-Cookie');\n    res.setHeader(`Set-Cookie`, [\n        ...typeof previous === 'string' ? [\n            previous\n        ] : Array.isArray(previous) ? previous : [],\n        serialize(COOKIE_NAME_PRERENDER_BYPASS, '', {\n            // To delete a cookie, set `expires` to a date in the past:\n            // https://tools.ietf.org/html/rfc6265#section-4.1.1\n            // `Max-Age: 0` is not valid, thus ignored, and the cookie is persisted.\n            expires: new Date(0),\n            httpOnly: true,\n            sameSite:  false ? 0 : 'lax',\n            secure: \"development\" !== 'development',\n            path: '/',\n            ...options.path !== undefined ? {\n                path: options.path\n            } : undefined\n        }),\n        serialize(COOKIE_NAME_PRERENDER_DATA, '', {\n            // To delete a cookie, set `expires` to a date in the past:\n            // https://tools.ietf.org/html/rfc6265#section-4.1.1\n            // `Max-Age: 0` is not valid, thus ignored, and the cookie is persisted.\n            expires: new Date(0),\n            httpOnly: true,\n            sameSite:  false ? 0 : 'lax',\n            secure: \"development\" !== 'development',\n            path: '/',\n            ...options.path !== undefined ? {\n                path: options.path\n            } : undefined\n        })\n    ]);\n    Object.defineProperty(res, SYMBOL_CLEARED_COOKIES, {\n        value: true,\n        enumerable: false\n    });\n    return res;\n}\n/**\n * Custom error class\n */ class ApiError extends Error {\n    constructor(statusCode, message){\n        super(message);\n        this.statusCode = statusCode;\n    }\n}\n/**\n * Sends error in `response`\n * @param res response object\n * @param statusCode of response\n * @param message of response\n */ function sendError(res, statusCode, message) {\n    res.statusCode = statusCode;\n    res.statusMessage = message;\n    res.end(message);\n}\n/**\n * Execute getter function only if its needed\n * @param LazyProps `req` and `params` for lazyProp\n * @param prop name of property\n * @param getter function to get data\n */ function setLazyProp({ req }, prop, getter) {\n    const opts = {\n        configurable: true,\n        enumerable: true\n    };\n    const optsReset = {\n        ...opts,\n        writable: true\n    };\n    Object.defineProperty(req, prop, {\n        ...opts,\n        get: ()=>{\n            const value = getter();\n            // we set the property on the object to avoid recalculating it\n            Object.defineProperty(req, prop, {\n                ...optsReset,\n                value\n            });\n            return value;\n        },\n        set: (value)=>{\n            Object.defineProperty(req, prop, {\n                ...optsReset,\n                value\n            });\n        }\n    });\n}\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL2FwaS11dGlscy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF3RTtBQUNzQztBQUM5RDtBQUNFO0FBQzNDO0FBQ1A7QUFDQSxRQUFRLDREQUFTO0FBQ2pCO0FBQ0EsZUFBZSw0REFBUyxTQUFTLDBEQUFRO0FBQ3pDLHFEQUFxRCxLQUFLO0FBQzFELFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxvQkFBb0IsZ0ZBQWM7QUFDbEMsc0NBQXNDLHVFQUEyQjtBQUNqRTtBQUNBLGdEQUFnRCxzRkFBMEM7QUFDMUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkM7QUFDbEQ7QUFDQTtBQUNBO0FBQ0EsWUFBWSxZQUFZLEVBQUUsbUJBQU8sQ0FBQyxpR0FBMkI7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixNQUFzQyxHQUFHLENBQU07QUFDckUsb0JBQW9CLGFBQW9CO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZCxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLE1BQXNDLEdBQUcsQ0FBTTtBQUNyRSxvQkFBb0IsYUFBb0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFXLHVCQUF1QixLQUFLO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsS0FBSztBQUNMOztBQUVBIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxuZXh0XFxkaXN0XFxlc21cXHNlcnZlclxcYXBpLXV0aWxzXFxpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIZWFkZXJzQWRhcHRlciB9IGZyb20gJy4uL3dlYi9zcGVjLWV4dGVuc2lvbi9hZGFwdGVycy9oZWFkZXJzJztcbmltcG9ydCB7IFBSRVJFTkRFUl9SRVZBTElEQVRFX0hFQURFUiwgUFJFUkVOREVSX1JFVkFMSURBVEVfT05MWV9HRU5FUkFURURfSEVBREVSIH0gZnJvbSAnLi4vLi4vbGliL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBnZXRUcmFjZXIgfSBmcm9tICcuLi9saWIvdHJhY2UvdHJhY2VyJztcbmltcG9ydCB7IE5vZGVTcGFuIH0gZnJvbSAnLi4vbGliL3RyYWNlL2NvbnN0YW50cyc7XG5leHBvcnQgZnVuY3Rpb24gd3JhcEFwaUhhbmRsZXIocGFnZSwgaGFuZGxlcikge1xuICAgIHJldHVybiAoLi4uYXJncyk9PntcbiAgICAgICAgZ2V0VHJhY2VyKCkuc2V0Um9vdFNwYW5BdHRyaWJ1dGUoJ25leHQucm91dGUnLCBwYWdlKTtcbiAgICAgICAgLy8gQ2FsbCBBUEkgcm91dGUgbWV0aG9kXG4gICAgICAgIHJldHVybiBnZXRUcmFjZXIoKS50cmFjZShOb2RlU3Bhbi5ydW5IYW5kbGVyLCB7XG4gICAgICAgICAgICBzcGFuTmFtZTogYGV4ZWN1dGluZyBhcGkgcm91dGUgKHBhZ2VzKSAke3BhZ2V9YFxuICAgICAgICB9LCAoKT0+aGFuZGxlciguLi5hcmdzKSk7XG4gICAgfTtcbn1cbi8qKlxuICpcbiAqIEBwYXJhbSByZXMgcmVzcG9uc2Ugb2JqZWN0XG4gKiBAcGFyYW0gc3RhdHVzQ29kZSBgSFRUUGAgc3RhdHVzIGNvZGUgb2YgcmVzcG9uc2VcbiAqLyBleHBvcnQgZnVuY3Rpb24gc2VuZFN0YXR1c0NvZGUocmVzLCBzdGF0dXNDb2RlKSB7XG4gICAgcmVzLnN0YXR1c0NvZGUgPSBzdGF0dXNDb2RlO1xuICAgIHJldHVybiByZXM7XG59XG4vKipcbiAqXG4gKiBAcGFyYW0gcmVzIHJlc3BvbnNlIG9iamVjdFxuICogQHBhcmFtIFtzdGF0dXNPclVybF0gYEhUVFBgIHN0YXR1cyBjb2RlIG9mIHJlZGlyZWN0XG4gKiBAcGFyYW0gdXJsIFVSTCBvZiByZWRpcmVjdFxuICovIGV4cG9ydCBmdW5jdGlvbiByZWRpcmVjdChyZXMsIHN0YXR1c09yVXJsLCB1cmwpIHtcbiAgICBpZiAodHlwZW9mIHN0YXR1c09yVXJsID09PSAnc3RyaW5nJykge1xuICAgICAgICB1cmwgPSBzdGF0dXNPclVybDtcbiAgICAgICAgc3RhdHVzT3JVcmwgPSAzMDc7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc3RhdHVzT3JVcmwgIT09ICdudW1iZXInIHx8IHR5cGVvZiB1cmwgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRocm93IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXcgRXJyb3IoYEludmFsaWQgcmVkaXJlY3QgYXJndW1lbnRzLiBQbGVhc2UgdXNlIGEgc2luZ2xlIGFyZ3VtZW50IFVSTCwgZS5nLiByZXMucmVkaXJlY3QoJy9kZXN0aW5hdGlvbicpIG9yIHVzZSBhIHN0YXR1cyBjb2RlIGFuZCBVUkwsIGUuZy4gcmVzLnJlZGlyZWN0KDMwNywgJy9kZXN0aW5hdGlvbicpLmApLCBcIl9fTkVYVF9FUlJPUl9DT0RFXCIsIHtcbiAgICAgICAgICAgIHZhbHVlOiBcIkUzODlcIixcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXMud3JpdGVIZWFkKHN0YXR1c09yVXJsLCB7XG4gICAgICAgIExvY2F0aW9uOiB1cmxcbiAgICB9KTtcbiAgICByZXMud3JpdGUodXJsKTtcbiAgICByZXMuZW5kKCk7XG4gICAgcmV0dXJuIHJlcztcbn1cbmV4cG9ydCBmdW5jdGlvbiBjaGVja0lzT25EZW1hbmRSZXZhbGlkYXRlKHJlcSwgcHJldmlld1Byb3BzKSB7XG4gICAgY29uc3QgaGVhZGVycyA9IEhlYWRlcnNBZGFwdGVyLmZyb20ocmVxLmhlYWRlcnMpO1xuICAgIGNvbnN0IHByZXZpZXdNb2RlSWQgPSBoZWFkZXJzLmdldChQUkVSRU5ERVJfUkVWQUxJREFURV9IRUFERVIpO1xuICAgIGNvbnN0IGlzT25EZW1hbmRSZXZhbGlkYXRlID0gcHJldmlld01vZGVJZCA9PT0gcHJldmlld1Byb3BzLnByZXZpZXdNb2RlSWQ7XG4gICAgY29uc3QgcmV2YWxpZGF0ZU9ubHlHZW5lcmF0ZWQgPSBoZWFkZXJzLmhhcyhQUkVSRU5ERVJfUkVWQUxJREFURV9PTkxZX0dFTkVSQVRFRF9IRUFERVIpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGlzT25EZW1hbmRSZXZhbGlkYXRlLFxuICAgICAgICByZXZhbGlkYXRlT25seUdlbmVyYXRlZFxuICAgIH07XG59XG5leHBvcnQgY29uc3QgQ09PS0lFX05BTUVfUFJFUkVOREVSX0JZUEFTUyA9IGBfX3ByZXJlbmRlcl9ieXBhc3NgO1xuZXhwb3J0IGNvbnN0IENPT0tJRV9OQU1FX1BSRVJFTkRFUl9EQVRBID0gYF9fbmV4dF9wcmV2aWV3X2RhdGFgO1xuZXhwb3J0IGNvbnN0IFJFU1BPTlNFX0xJTUlUX0RFRkFVTFQgPSA0ICogMTAyNCAqIDEwMjQ7XG5leHBvcnQgY29uc3QgU1lNQk9MX1BSRVZJRVdfREFUQSA9IFN5bWJvbChDT09LSUVfTkFNRV9QUkVSRU5ERVJfREFUQSk7XG5leHBvcnQgY29uc3QgU1lNQk9MX0NMRUFSRURfQ09PS0lFUyA9IFN5bWJvbChDT09LSUVfTkFNRV9QUkVSRU5ERVJfQllQQVNTKTtcbmV4cG9ydCBmdW5jdGlvbiBjbGVhclByZXZpZXdEYXRhKHJlcywgb3B0aW9ucyA9IHt9KSB7XG4gICAgaWYgKFNZTUJPTF9DTEVBUkVEX0NPT0tJRVMgaW4gcmVzKSB7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIGNvbnN0IHsgc2VyaWFsaXplIH0gPSByZXF1aXJlKCduZXh0L2Rpc3QvY29tcGlsZWQvY29va2llJyk7XG4gICAgY29uc3QgcHJldmlvdXMgPSByZXMuZ2V0SGVhZGVyKCdTZXQtQ29va2llJyk7XG4gICAgcmVzLnNldEhlYWRlcihgU2V0LUNvb2tpZWAsIFtcbiAgICAgICAgLi4udHlwZW9mIHByZXZpb3VzID09PSAnc3RyaW5nJyA/IFtcbiAgICAgICAgICAgIHByZXZpb3VzXG4gICAgICAgIF0gOiBBcnJheS5pc0FycmF5KHByZXZpb3VzKSA/IHByZXZpb3VzIDogW10sXG4gICAgICAgIHNlcmlhbGl6ZShDT09LSUVfTkFNRV9QUkVSRU5ERVJfQllQQVNTLCAnJywge1xuICAgICAgICAgICAgLy8gVG8gZGVsZXRlIGEgY29va2llLCBzZXQgYGV4cGlyZXNgIHRvIGEgZGF0ZSBpbiB0aGUgcGFzdDpcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2MjY1I3NlY3Rpb24tNC4xLjFcbiAgICAgICAgICAgIC8vIGBNYXgtQWdlOiAwYCBpcyBub3QgdmFsaWQsIHRodXMgaWdub3JlZCwgYW5kIHRoZSBjb29raWUgaXMgcGVyc2lzdGVkLlxuICAgICAgICAgICAgZXhwaXJlczogbmV3IERhdGUoMCksXG4gICAgICAgICAgICBodHRwT25seTogdHJ1ZSxcbiAgICAgICAgICAgIHNhbWVTaXRlOiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ2RldmVsb3BtZW50JyA/ICdub25lJyA6ICdsYXgnLFxuICAgICAgICAgICAgc2VjdXJlOiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ2RldmVsb3BtZW50JyxcbiAgICAgICAgICAgIHBhdGg6ICcvJyxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMucGF0aCAhPT0gdW5kZWZpbmVkID8ge1xuICAgICAgICAgICAgICAgIHBhdGg6IG9wdGlvbnMucGF0aFxuICAgICAgICAgICAgfSA6IHVuZGVmaW5lZFxuICAgICAgICB9KSxcbiAgICAgICAgc2VyaWFsaXplKENPT0tJRV9OQU1FX1BSRVJFTkRFUl9EQVRBLCAnJywge1xuICAgICAgICAgICAgLy8gVG8gZGVsZXRlIGEgY29va2llLCBzZXQgYGV4cGlyZXNgIHRvIGEgZGF0ZSBpbiB0aGUgcGFzdDpcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2MjY1I3NlY3Rpb24tNC4xLjFcbiAgICAgICAgICAgIC8vIGBNYXgtQWdlOiAwYCBpcyBub3QgdmFsaWQsIHRodXMgaWdub3JlZCwgYW5kIHRoZSBjb29raWUgaXMgcGVyc2lzdGVkLlxuICAgICAgICAgICAgZXhwaXJlczogbmV3IERhdGUoMCksXG4gICAgICAgICAgICBodHRwT25seTogdHJ1ZSxcbiAgICAgICAgICAgIHNhbWVTaXRlOiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ2RldmVsb3BtZW50JyA/ICdub25lJyA6ICdsYXgnLFxuICAgICAgICAgICAgc2VjdXJlOiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ2RldmVsb3BtZW50JyxcbiAgICAgICAgICAgIHBhdGg6ICcvJyxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMucGF0aCAhPT0gdW5kZWZpbmVkID8ge1xuICAgICAgICAgICAgICAgIHBhdGg6IG9wdGlvbnMucGF0aFxuICAgICAgICAgICAgfSA6IHVuZGVmaW5lZFxuICAgICAgICB9KVxuICAgIF0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXMsIFNZTUJPTF9DTEVBUkVEX0NPT0tJRVMsIHtcbiAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlXG4gICAgfSk7XG4gICAgcmV0dXJuIHJlcztcbn1cbi8qKlxuICogQ3VzdG9tIGVycm9yIGNsYXNzXG4gKi8gZXhwb3J0IGNsYXNzIEFwaUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHN0YXR1c0NvZGUsIG1lc3NhZ2Upe1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5zdGF0dXNDb2RlID0gc3RhdHVzQ29kZTtcbiAgICB9XG59XG4vKipcbiAqIFNlbmRzIGVycm9yIGluIGByZXNwb25zZWBcbiAqIEBwYXJhbSByZXMgcmVzcG9uc2Ugb2JqZWN0XG4gKiBAcGFyYW0gc3RhdHVzQ29kZSBvZiByZXNwb25zZVxuICogQHBhcmFtIG1lc3NhZ2Ugb2YgcmVzcG9uc2VcbiAqLyBleHBvcnQgZnVuY3Rpb24gc2VuZEVycm9yKHJlcywgc3RhdHVzQ29kZSwgbWVzc2FnZSkge1xuICAgIHJlcy5zdGF0dXNDb2RlID0gc3RhdHVzQ29kZTtcbiAgICByZXMuc3RhdHVzTWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgcmVzLmVuZChtZXNzYWdlKTtcbn1cbi8qKlxuICogRXhlY3V0ZSBnZXR0ZXIgZnVuY3Rpb24gb25seSBpZiBpdHMgbmVlZGVkXG4gKiBAcGFyYW0gTGF6eVByb3BzIGByZXFgIGFuZCBgcGFyYW1zYCBmb3IgbGF6eVByb3BcbiAqIEBwYXJhbSBwcm9wIG5hbWUgb2YgcHJvcGVydHlcbiAqIEBwYXJhbSBnZXR0ZXIgZnVuY3Rpb24gdG8gZ2V0IGRhdGFcbiAqLyBleHBvcnQgZnVuY3Rpb24gc2V0TGF6eVByb3AoeyByZXEgfSwgcHJvcCwgZ2V0dGVyKSB7XG4gICAgY29uc3Qgb3B0cyA9IHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfTtcbiAgICBjb25zdCBvcHRzUmVzZXQgPSB7XG4gICAgICAgIC4uLm9wdHMsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVxLCBwcm9wLCB7XG4gICAgICAgIC4uLm9wdHMsXG4gICAgICAgIGdldDogKCk9PntcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZ2V0dGVyKCk7XG4gICAgICAgICAgICAvLyB3ZSBzZXQgdGhlIHByb3BlcnR5IG9uIHRoZSBvYmplY3QgdG8gYXZvaWQgcmVjYWxjdWxhdGluZyBpdFxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlcSwgcHJvcCwge1xuICAgICAgICAgICAgICAgIC4uLm9wdHNSZXNldCxcbiAgICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogKHZhbHVlKT0+e1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlcSwgcHJvcCwge1xuICAgICAgICAgICAgICAgIC4uLm9wdHNSZXNldCxcbiAgICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/api-utils/index.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/app-render/after-task-async-storage-instance.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/app-render/after-task-async-storage-instance.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   afterTaskAsyncStorageInstance: () => (/* binding */ afterTaskAsyncStorageInstance)\n/* harmony export */ });\n/* harmony import */ var _async_local_storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./async-local-storage */ \"(middleware)/./node_modules/next/dist/esm/server/app-render/async-local-storage.js\");\n\nconst afterTaskAsyncStorageInstance = (0,_async_local_storage__WEBPACK_IMPORTED_MODULE_0__.createAsyncLocalStorage)();\n\n//# sourceMappingURL=after-task-async-storage-instance.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL2FwcC1yZW5kZXIvYWZ0ZXItdGFzay1hc3luYy1zdG9yYWdlLWluc3RhbmNlLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWdFO0FBQ3pELHNDQUFzQyw2RUFBdUI7O0FBRXBFIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxuZXh0XFxkaXN0XFxlc21cXHNlcnZlclxcYXBwLXJlbmRlclxcYWZ0ZXItdGFzay1hc3luYy1zdG9yYWdlLWluc3RhbmNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUFzeW5jTG9jYWxTdG9yYWdlIH0gZnJvbSAnLi9hc3luYy1sb2NhbC1zdG9yYWdlJztcbmV4cG9ydCBjb25zdCBhZnRlclRhc2tBc3luY1N0b3JhZ2VJbnN0YW5jZSA9IGNyZWF0ZUFzeW5jTG9jYWxTdG9yYWdlKCk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFmdGVyLXRhc2stYXN5bmMtc3RvcmFnZS1pbnN0YW5jZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/app-render/after-task-async-storage-instance.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/app-render/after-task-async-storage.external.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/app-render/after-task-async-storage.external.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   afterTaskAsyncStorage: () => (/* reexport safe */ _after_task_async_storage_instance__WEBPACK_IMPORTED_MODULE_0__.afterTaskAsyncStorageInstance)\n/* harmony export */ });\n/* harmony import */ var _after_task_async_storage_instance__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./after-task-async-storage-instance */ \"(middleware)/./node_modules/next/dist/esm/server/app-render/after-task-async-storage-instance.js\");\n// Share the instance module in the next-shared layer\n\n\n\n//# sourceMappingURL=after-task-async-storage.external.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL2FwcC1yZW5kZXIvYWZ0ZXItdGFzay1hc3luYy1zdG9yYWdlLmV4dGVybmFsLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFHRTtBQUMrQjs7QUFFakMiLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXG5leHRcXGRpc3RcXGVzbVxcc2VydmVyXFxhcHAtcmVuZGVyXFxhZnRlci10YXNrLWFzeW5jLXN0b3JhZ2UuZXh0ZXJuYWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gU2hhcmUgdGhlIGluc3RhbmNlIG1vZHVsZSBpbiB0aGUgbmV4dC1zaGFyZWQgbGF5ZXJcbmltcG9ydCB7IGFmdGVyVGFza0FzeW5jU3RvcmFnZUluc3RhbmNlIGFzIGFmdGVyVGFza0FzeW5jU3RvcmFnZSB9IGZyb20gJy4vYWZ0ZXItdGFzay1hc3luYy1zdG9yYWdlLWluc3RhbmNlJyB3aXRoIHtcbiAgICAndHVyYm9wYWNrLXRyYW5zaXRpb24nOiAnbmV4dC1zaGFyZWQnXG59O1xuZXhwb3J0IHsgYWZ0ZXJUYXNrQXN5bmNTdG9yYWdlIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFmdGVyLXRhc2stYXN5bmMtc3RvcmFnZS5leHRlcm5hbC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/app-render/after-task-async-storage.external.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/app-render/async-local-storage.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/app-render/async-local-storage.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   bindSnapshot: () => (/* binding */ bindSnapshot),\n/* harmony export */   createAsyncLocalStorage: () => (/* binding */ createAsyncLocalStorage),\n/* harmony export */   createSnapshot: () => (/* binding */ createSnapshot)\n/* harmony export */ });\nconst sharedAsyncLocalStorageNotAvailableError = Object.defineProperty(new Error('Invariant: AsyncLocalStorage accessed in runtime where it is not available'), \"__NEXT_ERROR_CODE\", {\n    value: \"E504\",\n    enumerable: false,\n    configurable: true\n});\nclass FakeAsyncLocalStorage {\n    disable() {\n        throw sharedAsyncLocalStorageNotAvailableError;\n    }\n    getStore() {\n        // This fake implementation of AsyncLocalStorage always returns `undefined`.\n        return undefined;\n    }\n    run() {\n        throw sharedAsyncLocalStorageNotAvailableError;\n    }\n    exit() {\n        throw sharedAsyncLocalStorageNotAvailableError;\n    }\n    enterWith() {\n        throw sharedAsyncLocalStorageNotAvailableError;\n    }\n    static bind(fn) {\n        return fn;\n    }\n}\nconst maybeGlobalAsyncLocalStorage = typeof globalThis !== 'undefined' && globalThis.AsyncLocalStorage;\nfunction createAsyncLocalStorage() {\n    if (maybeGlobalAsyncLocalStorage) {\n        return new maybeGlobalAsyncLocalStorage();\n    }\n    return new FakeAsyncLocalStorage();\n}\nfunction bindSnapshot(fn) {\n    if (maybeGlobalAsyncLocalStorage) {\n        return maybeGlobalAsyncLocalStorage.bind(fn);\n    }\n    return FakeAsyncLocalStorage.bind(fn);\n}\nfunction createSnapshot() {\n    if (maybeGlobalAsyncLocalStorage) {\n        return maybeGlobalAsyncLocalStorage.snapshot();\n    }\n    return function(fn, ...args) {\n        return fn(...args);\n    };\n}\n\n//# sourceMappingURL=async-local-storage.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL2FwcC1yZW5kZXIvYXN5bmMtbG9jYWwtc3RvcmFnZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXG5leHRcXGRpc3RcXGVzbVxcc2VydmVyXFxhcHAtcmVuZGVyXFxhc3luYy1sb2NhbC1zdG9yYWdlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHNoYXJlZEFzeW5jTG9jYWxTdG9yYWdlTm90QXZhaWxhYmxlRXJyb3IgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3IEVycm9yKCdJbnZhcmlhbnQ6IEFzeW5jTG9jYWxTdG9yYWdlIGFjY2Vzc2VkIGluIHJ1bnRpbWUgd2hlcmUgaXQgaXMgbm90IGF2YWlsYWJsZScpLCBcIl9fTkVYVF9FUlJPUl9DT0RFXCIsIHtcbiAgICB2YWx1ZTogXCJFNTA0XCIsXG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG59KTtcbmNsYXNzIEZha2VBc3luY0xvY2FsU3RvcmFnZSB7XG4gICAgZGlzYWJsZSgpIHtcbiAgICAgICAgdGhyb3cgc2hhcmVkQXN5bmNMb2NhbFN0b3JhZ2VOb3RBdmFpbGFibGVFcnJvcjtcbiAgICB9XG4gICAgZ2V0U3RvcmUoKSB7XG4gICAgICAgIC8vIFRoaXMgZmFrZSBpbXBsZW1lbnRhdGlvbiBvZiBBc3luY0xvY2FsU3RvcmFnZSBhbHdheXMgcmV0dXJucyBgdW5kZWZpbmVkYC5cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcnVuKCkge1xuICAgICAgICB0aHJvdyBzaGFyZWRBc3luY0xvY2FsU3RvcmFnZU5vdEF2YWlsYWJsZUVycm9yO1xuICAgIH1cbiAgICBleGl0KCkge1xuICAgICAgICB0aHJvdyBzaGFyZWRBc3luY0xvY2FsU3RvcmFnZU5vdEF2YWlsYWJsZUVycm9yO1xuICAgIH1cbiAgICBlbnRlcldpdGgoKSB7XG4gICAgICAgIHRocm93IHNoYXJlZEFzeW5jTG9jYWxTdG9yYWdlTm90QXZhaWxhYmxlRXJyb3I7XG4gICAgfVxuICAgIHN0YXRpYyBiaW5kKGZuKSB7XG4gICAgICAgIHJldHVybiBmbjtcbiAgICB9XG59XG5jb25zdCBtYXliZUdsb2JhbEFzeW5jTG9jYWxTdG9yYWdlID0gdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnICYmIGdsb2JhbFRoaXMuQXN5bmNMb2NhbFN0b3JhZ2U7XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQXN5bmNMb2NhbFN0b3JhZ2UoKSB7XG4gICAgaWYgKG1heWJlR2xvYmFsQXN5bmNMb2NhbFN0b3JhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBtYXliZUdsb2JhbEFzeW5jTG9jYWxTdG9yYWdlKCk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgRmFrZUFzeW5jTG9jYWxTdG9yYWdlKCk7XG59XG5leHBvcnQgZnVuY3Rpb24gYmluZFNuYXBzaG90KGZuKSB7XG4gICAgaWYgKG1heWJlR2xvYmFsQXN5bmNMb2NhbFN0b3JhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG1heWJlR2xvYmFsQXN5bmNMb2NhbFN0b3JhZ2UuYmluZChmbik7XG4gICAgfVxuICAgIHJldHVybiBGYWtlQXN5bmNMb2NhbFN0b3JhZ2UuYmluZChmbik7XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU25hcHNob3QoKSB7XG4gICAgaWYgKG1heWJlR2xvYmFsQXN5bmNMb2NhbFN0b3JhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG1heWJlR2xvYmFsQXN5bmNMb2NhbFN0b3JhZ2Uuc25hcHNob3QoKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGZuLCAuLi5hcmdzKSB7XG4gICAgICAgIHJldHVybiBmbiguLi5hcmdzKTtcbiAgICB9O1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hc3luYy1sb2NhbC1zdG9yYWdlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/app-render/async-local-storage.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/app-render/dynamic-rendering.js":
/*!***************************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/app-render/dynamic-rendering.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Postpone: () => (/* binding */ Postpone),\n/* harmony export */   PreludeState: () => (/* binding */ PreludeState),\n/* harmony export */   abortAndThrowOnSynchronousRequestDataAccess: () => (/* binding */ abortAndThrowOnSynchronousRequestDataAccess),\n/* harmony export */   abortOnSynchronousPlatformIOAccess: () => (/* binding */ abortOnSynchronousPlatformIOAccess),\n/* harmony export */   accessedDynamicData: () => (/* binding */ accessedDynamicData),\n/* harmony export */   annotateDynamicAccess: () => (/* binding */ annotateDynamicAccess),\n/* harmony export */   consumeDynamicAccess: () => (/* binding */ consumeDynamicAccess),\n/* harmony export */   createDynamicTrackingState: () => (/* binding */ createDynamicTrackingState),\n/* harmony export */   createDynamicValidationState: () => (/* binding */ createDynamicValidationState),\n/* harmony export */   createHangingInputAbortSignal: () => (/* binding */ createHangingInputAbortSignal),\n/* harmony export */   createRenderInBrowserAbortSignal: () => (/* binding */ createRenderInBrowserAbortSignal),\n/* harmony export */   delayUntilRuntimeStage: () => (/* binding */ delayUntilRuntimeStage),\n/* harmony export */   formatDynamicAPIAccesses: () => (/* binding */ formatDynamicAPIAccesses),\n/* harmony export */   getFirstDynamicReason: () => (/* binding */ getFirstDynamicReason),\n/* harmony export */   isDynamicPostpone: () => (/* binding */ isDynamicPostpone),\n/* harmony export */   isPrerenderInterruptedError: () => (/* binding */ isPrerenderInterruptedError),\n/* harmony export */   logDisallowedDynamicError: () => (/* binding */ logDisallowedDynamicError),\n/* harmony export */   markCurrentScopeAsDynamic: () => (/* binding */ markCurrentScopeAsDynamic),\n/* harmony export */   postponeWithTracking: () => (/* binding */ postponeWithTracking),\n/* harmony export */   throwIfDisallowedDynamic: () => (/* binding */ throwIfDisallowedDynamic),\n/* harmony export */   throwToInterruptStaticGeneration: () => (/* binding */ throwToInterruptStaticGeneration),\n/* harmony export */   trackAllowedDynamicAccess: () => (/* binding */ trackAllowedDynamicAccess),\n/* harmony export */   trackDynamicDataInDynamicRender: () => (/* binding */ trackDynamicDataInDynamicRender),\n/* harmony export */   trackSynchronousPlatformIOAccessInDev: () => (/* binding */ trackSynchronousPlatformIOAccessInDev),\n/* harmony export */   trackSynchronousRequestDataAccessInDev: () => (/* binding */ trackSynchronousRequestDataAccessInDev),\n/* harmony export */   useDynamicRouteParams: () => (/* binding */ useDynamicRouteParams),\n/* harmony export */   warnOnSyncDynamicError: () => (/* binding */ warnOnSyncDynamicError)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(middleware)/./node_modules/next/dist/compiled/react/react.react-server.js\");\n/* harmony import */ var _client_components_hooks_server_context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../client/components/hooks-server-context */ \"(middleware)/./node_modules/next/dist/esm/client/components/hooks-server-context.js\");\n/* harmony import */ var _client_components_static_generation_bailout__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../client/components/static-generation-bailout */ \"(middleware)/./node_modules/next/dist/esm/client/components/static-generation-bailout.js\");\n/* harmony import */ var _work_unit_async_storage_external__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./work-unit-async-storage.external */ \"(shared)/./node_modules/next/dist/esm/server/app-render/work-unit-async-storage.external.js\");\n/* harmony import */ var _app_render_work_async_storage_external__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../app-render/work-async-storage.external */ \"(shared)/./node_modules/next/dist/esm/server/app-render/work-async-storage.external.js\");\n/* harmony import */ var _dynamic_rendering_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../dynamic-rendering-utils */ \"(middleware)/./node_modules/next/dist/esm/server/dynamic-rendering-utils.js\");\n/* harmony import */ var _lib_framework_boundary_constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../lib/framework/boundary-constants */ \"(middleware)/./node_modules/next/dist/esm/lib/framework/boundary-constants.js\");\n/* harmony import */ var _lib_scheduler__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../lib/scheduler */ \"(middleware)/./node_modules/next/dist/esm/lib/scheduler.js\");\n/* harmony import */ var _shared_lib_lazy_dynamic_bailout_to_csr__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../shared/lib/lazy-dynamic/bailout-to-csr */ \"(middleware)/./node_modules/next/dist/esm/shared/lib/lazy-dynamic/bailout-to-csr.js\");\n/* harmony import */ var _shared_lib_invariant_error__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../shared/lib/invariant-error */ \"(middleware)/./node_modules/next/dist/esm/shared/lib/invariant-error.js\");\n/**\n * The functions provided by this module are used to communicate certain properties\n * about the currently running code so that Next.js can make decisions on how to handle\n * the current execution in different rendering modes such as pre-rendering, resuming, and SSR.\n *\n * Today Next.js treats all code as potentially static. Certain APIs may only make sense when dynamically rendering.\n * Traditionally this meant deopting the entire render to dynamic however with PPR we can now deopt parts\n * of a React tree as dynamic while still keeping other parts static. There are really two different kinds of\n * Dynamic indications.\n *\n * The first is simply an intention to be dynamic. unstable_noStore is an example of this where\n * the currently executing code simply declares that the current scope is dynamic but if you use it\n * inside unstable_cache it can still be cached. This type of indication can be removed if we ever\n * make the default dynamic to begin with because the only way you would ever be static is inside\n * a cache scope which this indication does not affect.\n *\n * The second is an indication that a dynamic data source was read. This is a stronger form of dynamic\n * because it means that it is inappropriate to cache this at all. using a dynamic data source inside\n * unstable_cache should error. If you want to use some dynamic data inside unstable_cache you should\n * read that data outside the cache and pass it in as an argument to the cached function.\n */ // Once postpone is in stable we should switch to importing the postpone export directly\n\n\n\n\n\n\n\n\n\n\nconst hasPostpone = typeof react__WEBPACK_IMPORTED_MODULE_0__.unstable_postpone === 'function';\nfunction createDynamicTrackingState(isDebugDynamicAccesses) {\n    return {\n        isDebugDynamicAccesses,\n        dynamicAccesses: [],\n        syncDynamicErrorWithStack: null\n    };\n}\nfunction createDynamicValidationState() {\n    return {\n        hasSuspenseAboveBody: false,\n        hasDynamicMetadata: false,\n        hasDynamicViewport: false,\n        hasAllowedDynamic: false,\n        dynamicErrors: []\n    };\n}\nfunction getFirstDynamicReason(trackingState) {\n    var _trackingState_dynamicAccesses_;\n    return (_trackingState_dynamicAccesses_ = trackingState.dynamicAccesses[0]) == null ? void 0 : _trackingState_dynamicAccesses_.expression;\n}\n/**\n * This function communicates that the current scope should be treated as dynamic.\n *\n * In most cases this function is a no-op but if called during\n * a PPR prerender it will postpone the current sub-tree and calling\n * it during a normal prerender will cause the entire prerender to abort\n */ function markCurrentScopeAsDynamic(store, workUnitStore, expression) {\n    if (workUnitStore) {\n        switch(workUnitStore.type){\n            case 'cache':\n            case 'unstable-cache':\n                // Inside cache scopes, marking a scope as dynamic has no effect,\n                // because the outer cache scope creates a cache boundary. This is\n                // subtly different from reading a dynamic data source, which is\n                // forbidden inside a cache scope.\n                return;\n            case 'private-cache':\n                // A private cache scope is already dynamic by definition.\n                return;\n            case 'prerender-legacy':\n            case 'prerender-ppr':\n            case 'request':\n                break;\n            default:\n                workUnitStore;\n        }\n    }\n    // If we're forcing dynamic rendering or we're forcing static rendering, we\n    // don't need to do anything here because the entire page is already dynamic\n    // or it's static and it should not throw or postpone here.\n    if (store.forceDynamic || store.forceStatic) return;\n    if (store.dynamicShouldError) {\n        throw Object.defineProperty(new _client_components_static_generation_bailout__WEBPACK_IMPORTED_MODULE_2__.StaticGenBailoutError(`Route ${store.route} with \\`dynamic = \"error\"\\` couldn't be rendered statically because it used \\`${expression}\\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`), \"__NEXT_ERROR_CODE\", {\n            value: \"E553\",\n            enumerable: false,\n            configurable: true\n        });\n    }\n    if (workUnitStore) {\n        switch(workUnitStore.type){\n            case 'prerender-ppr':\n                return postponeWithTracking(store.route, expression, workUnitStore.dynamicTracking);\n            case 'prerender-legacy':\n                workUnitStore.revalidate = 0;\n                // We aren't prerendering, but we are generating a static page. We need\n                // to bail out of static generation.\n                const err = Object.defineProperty(new _client_components_hooks_server_context__WEBPACK_IMPORTED_MODULE_1__.DynamicServerError(`Route ${store.route} couldn't be rendered statically because it used ${expression}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E550\",\n                    enumerable: false,\n                    configurable: true\n                });\n                store.dynamicUsageDescription = expression;\n                store.dynamicUsageStack = err.stack;\n                throw err;\n            case 'request':\n                if (true) {\n                    workUnitStore.usedDynamic = true;\n                }\n                break;\n            default:\n                workUnitStore;\n        }\n    }\n}\n/**\n * This function is meant to be used when prerendering without cacheComponents or PPR.\n * When called during a build it will cause Next.js to consider the route as dynamic.\n *\n * @internal\n */ function throwToInterruptStaticGeneration(expression, store, prerenderStore) {\n    // We aren't prerendering but we are generating a static page. We need to bail out of static generation\n    const err = Object.defineProperty(new _client_components_hooks_server_context__WEBPACK_IMPORTED_MODULE_1__.DynamicServerError(`Route ${store.route} couldn't be rendered statically because it used \\`${expression}\\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`), \"__NEXT_ERROR_CODE\", {\n        value: \"E558\",\n        enumerable: false,\n        configurable: true\n    });\n    prerenderStore.revalidate = 0;\n    store.dynamicUsageDescription = expression;\n    store.dynamicUsageStack = err.stack;\n    throw err;\n}\n/**\n * This function should be used to track whether something dynamic happened even when\n * we are in a dynamic render. This is useful for Dev where all renders are dynamic but\n * we still track whether dynamic APIs were accessed for helpful messaging\n *\n * @internal\n */ function trackDynamicDataInDynamicRender(workUnitStore) {\n    switch(workUnitStore.type){\n        case 'cache':\n        case 'unstable-cache':\n            // Inside cache scopes, marking a scope as dynamic has no effect,\n            // because the outer cache scope creates a cache boundary. This is\n            // subtly different from reading a dynamic data source, which is\n            // forbidden inside a cache scope.\n            return;\n        case 'private-cache':\n            // A private cache scope is already dynamic by definition.\n            return;\n        case 'prerender':\n        case 'prerender-runtime':\n        case 'prerender-legacy':\n        case 'prerender-ppr':\n        case 'prerender-client':\n            break;\n        case 'request':\n            if (true) {\n                workUnitStore.usedDynamic = true;\n            }\n            break;\n        default:\n            workUnitStore;\n    }\n}\nfunction abortOnSynchronousDynamicDataAccess(route, expression, prerenderStore) {\n    const reason = `Route ${route} needs to bail out of prerendering at this point because it used ${expression}.`;\n    const error = createPrerenderInterruptedError(reason);\n    prerenderStore.controller.abort(error);\n    const dynamicTracking = prerenderStore.dynamicTracking;\n    if (dynamicTracking) {\n        dynamicTracking.dynamicAccesses.push({\n            // When we aren't debugging, we don't need to create another error for the\n            // stack trace.\n            stack: dynamicTracking.isDebugDynamicAccesses ? new Error().stack : undefined,\n            expression\n        });\n    }\n}\nfunction abortOnSynchronousPlatformIOAccess(route, expression, errorWithStack, prerenderStore) {\n    const dynamicTracking = prerenderStore.dynamicTracking;\n    abortOnSynchronousDynamicDataAccess(route, expression, prerenderStore);\n    // It is important that we set this tracking value after aborting. Aborts are executed\n    // synchronously except for the case where you abort during render itself. By setting this\n    // value late we can use it to determine if any of the aborted tasks are the task that\n    // called the sync IO expression in the first place.\n    if (dynamicTracking) {\n        if (dynamicTracking.syncDynamicErrorWithStack === null) {\n            dynamicTracking.syncDynamicErrorWithStack = errorWithStack;\n        }\n    }\n}\nfunction trackSynchronousPlatformIOAccessInDev(requestStore) {\n    // We don't actually have a controller to abort but we do the semantic equivalent by\n    // advancing the request store out of prerender mode\n    requestStore.prerenderPhase = false;\n}\n/**\n * use this function when prerendering with cacheComponents. If we are doing a\n * prospective prerender we don't actually abort because we want to discover\n * all caches for the shell. If this is the actual prerender we do abort.\n *\n * This function accepts a prerenderStore but the caller should ensure we're\n * actually running in cacheComponents mode.\n *\n * @internal\n */ function abortAndThrowOnSynchronousRequestDataAccess(route, expression, errorWithStack, prerenderStore) {\n    const prerenderSignal = prerenderStore.controller.signal;\n    if (prerenderSignal.aborted === false) {\n        // TODO it would be better to move this aborted check into the callsite so we can avoid making\n        // the error object when it isn't relevant to the aborting of the prerender however\n        // since we need the throw semantics regardless of whether we abort it is easier to land\n        // this way. See how this was handled with `abortOnSynchronousPlatformIOAccess` for a closer\n        // to ideal implementation\n        abortOnSynchronousDynamicDataAccess(route, expression, prerenderStore);\n        // It is important that we set this tracking value after aborting. Aborts are executed\n        // synchronously except for the case where you abort during render itself. By setting this\n        // value late we can use it to determine if any of the aborted tasks are the task that\n        // called the sync IO expression in the first place.\n        const dynamicTracking = prerenderStore.dynamicTracking;\n        if (dynamicTracking) {\n            if (dynamicTracking.syncDynamicErrorWithStack === null) {\n                dynamicTracking.syncDynamicErrorWithStack = errorWithStack;\n            }\n        }\n    }\n    throw createPrerenderInterruptedError(`Route ${route} needs to bail out of prerendering at this point because it used ${expression}.`);\n}\n/**\n * Use this function when dynamically prerendering with dynamicIO.\n * We don't want to error, because it's better to return something\n * (and we've already aborted the render at the point where the sync dynamic error occured),\n * but we should log an error server-side.\n * @internal\n */ function warnOnSyncDynamicError(dynamicTracking) {\n    if (dynamicTracking.syncDynamicErrorWithStack) {\n        // the server did something sync dynamic, likely\n        // leading to an early termination of the prerender.\n        console.error(dynamicTracking.syncDynamicErrorWithStack);\n    }\n}\n// For now these implementations are the same so we just reexport\nconst trackSynchronousRequestDataAccessInDev = trackSynchronousPlatformIOAccessInDev;\nfunction Postpone({ reason, route }) {\n    const prerenderStore = _work_unit_async_storage_external__WEBPACK_IMPORTED_MODULE_3__.workUnitAsyncStorage.getStore();\n    const dynamicTracking = prerenderStore && prerenderStore.type === 'prerender-ppr' ? prerenderStore.dynamicTracking : null;\n    postponeWithTracking(route, reason, dynamicTracking);\n}\nfunction postponeWithTracking(route, expression, dynamicTracking) {\n    assertPostpone();\n    if (dynamicTracking) {\n        dynamicTracking.dynamicAccesses.push({\n            // When we aren't debugging, we don't need to create another error for the\n            // stack trace.\n            stack: dynamicTracking.isDebugDynamicAccesses ? new Error().stack : undefined,\n            expression\n        });\n    }\n    react__WEBPACK_IMPORTED_MODULE_0__.unstable_postpone(createPostponeReason(route, expression));\n}\nfunction createPostponeReason(route, expression) {\n    return `Route ${route} needs to bail out of prerendering at this point because it used ${expression}. ` + `React throws this special object to indicate where. It should not be caught by ` + `your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`;\n}\nfunction isDynamicPostpone(err) {\n    if (typeof err === 'object' && err !== null && typeof err.message === 'string') {\n        return isDynamicPostponeReason(err.message);\n    }\n    return false;\n}\nfunction isDynamicPostponeReason(reason) {\n    return reason.includes('needs to bail out of prerendering at this point because it used') && reason.includes('Learn more: https://nextjs.org/docs/messages/ppr-caught-error');\n}\nif (isDynamicPostponeReason(createPostponeReason('%%%', '^^^')) === false) {\n    throw Object.defineProperty(new Error('Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js'), \"__NEXT_ERROR_CODE\", {\n        value: \"E296\",\n        enumerable: false,\n        configurable: true\n    });\n}\nconst NEXT_PRERENDER_INTERRUPTED = 'NEXT_PRERENDER_INTERRUPTED';\nfunction createPrerenderInterruptedError(message) {\n    const error = Object.defineProperty(new Error(message), \"__NEXT_ERROR_CODE\", {\n        value: \"E394\",\n        enumerable: false,\n        configurable: true\n    });\n    error.digest = NEXT_PRERENDER_INTERRUPTED;\n    return error;\n}\nfunction isPrerenderInterruptedError(error) {\n    return typeof error === 'object' && error !== null && error.digest === NEXT_PRERENDER_INTERRUPTED && 'name' in error && 'message' in error && error instanceof Error;\n}\nfunction accessedDynamicData(dynamicAccesses) {\n    return dynamicAccesses.length > 0;\n}\nfunction consumeDynamicAccess(serverDynamic, clientDynamic) {\n    // We mutate because we only call this once we are no longer writing\n    // to the dynamicTrackingState and it's more efficient than creating a new\n    // array.\n    serverDynamic.dynamicAccesses.push(...clientDynamic.dynamicAccesses);\n    return serverDynamic.dynamicAccesses;\n}\nfunction formatDynamicAPIAccesses(dynamicAccesses) {\n    return dynamicAccesses.filter((access)=>typeof access.stack === 'string' && access.stack.length > 0).map(({ expression, stack })=>{\n        stack = stack.split('\\n') // Remove the \"Error: \" prefix from the first line of the stack trace as\n        // well as the first 4 lines of the stack trace which is the distance\n        // from the user code and the `new Error().stack` call.\n        .slice(4).filter((line)=>{\n            // Exclude Next.js internals from the stack trace.\n            if (line.includes('node_modules/next/')) {\n                return false;\n            }\n            // Exclude anonymous functions from the stack trace.\n            if (line.includes(' (<anonymous>)')) {\n                return false;\n            }\n            // Exclude Node.js internals from the stack trace.\n            if (line.includes(' (node:')) {\n                return false;\n            }\n            return true;\n        }).join('\\n');\n        return `Dynamic API Usage Debug - ${expression}:\\n${stack}`;\n    });\n}\nfunction assertPostpone() {\n    if (!hasPostpone) {\n        throw Object.defineProperty(new Error(`Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js`), \"__NEXT_ERROR_CODE\", {\n            value: \"E224\",\n            enumerable: false,\n            configurable: true\n        });\n    }\n}\n/**\n * This is a bit of a hack to allow us to abort a render using a Postpone instance instead of an Error which changes React's\n * abort semantics slightly.\n */ function createRenderInBrowserAbortSignal() {\n    const controller = new AbortController();\n    controller.abort(Object.defineProperty(new _shared_lib_lazy_dynamic_bailout_to_csr__WEBPACK_IMPORTED_MODULE_8__.BailoutToCSRError('Render in Browser'), \"__NEXT_ERROR_CODE\", {\n        value: \"E721\",\n        enumerable: false,\n        configurable: true\n    }));\n    return controller.signal;\n}\n/**\n * In a prerender, we may end up with hanging Promises as inputs due them\n * stalling on connection() or because they're loading dynamic data. In that\n * case we need to abort the encoding of arguments since they'll never complete.\n */ function createHangingInputAbortSignal(workUnitStore) {\n    switch(workUnitStore.type){\n        case 'prerender':\n        case 'prerender-runtime':\n            const controller = new AbortController();\n            if (workUnitStore.cacheSignal) {\n                // If we have a cacheSignal it means we're in a prospective render. If\n                // the input we're waiting on is coming from another cache, we do want\n                // to wait for it so that we can resolve this cache entry too.\n                workUnitStore.cacheSignal.inputReady().then(()=>{\n                    controller.abort();\n                });\n            } else {\n                // Otherwise we're in the final render and we should already have all\n                // our caches filled.\n                // If the prerender uses stages, we have wait until the runtime stage,\n                // at which point all runtime inputs will be resolved.\n                // (otherwise, a runtime prerender might consider `cookies()` hanging\n                //  even though they'd resolve in the next task.)\n                //\n                // We might still be waiting on some microtasks so we\n                // wait one tick before giving up. When we give up, we still want to\n                // render the content of this cache as deeply as we can so that we can\n                // suspend as deeply as possible in the tree or not at all if we don't\n                // end up waiting for the input.\n                const runtimeStagePromise = (0,_work_unit_async_storage_external__WEBPACK_IMPORTED_MODULE_3__.getRuntimeStagePromise)(workUnitStore);\n                if (runtimeStagePromise) {\n                    runtimeStagePromise.then(()=>(0,_lib_scheduler__WEBPACK_IMPORTED_MODULE_7__.scheduleOnNextTick)(()=>controller.abort()));\n                } else {\n                    (0,_lib_scheduler__WEBPACK_IMPORTED_MODULE_7__.scheduleOnNextTick)(()=>controller.abort());\n                }\n            }\n            return controller.signal;\n        case 'prerender-client':\n        case 'prerender-ppr':\n        case 'prerender-legacy':\n        case 'request':\n        case 'cache':\n        case 'private-cache':\n        case 'unstable-cache':\n            return undefined;\n        default:\n            workUnitStore;\n    }\n}\nfunction annotateDynamicAccess(expression, prerenderStore) {\n    const dynamicTracking = prerenderStore.dynamicTracking;\n    if (dynamicTracking) {\n        dynamicTracking.dynamicAccesses.push({\n            stack: dynamicTracking.isDebugDynamicAccesses ? new Error().stack : undefined,\n            expression\n        });\n    }\n}\nfunction useDynamicRouteParams(expression) {\n    const workStore = _app_render_work_async_storage_external__WEBPACK_IMPORTED_MODULE_4__.workAsyncStorage.getStore();\n    const workUnitStore = _work_unit_async_storage_external__WEBPACK_IMPORTED_MODULE_3__.workUnitAsyncStorage.getStore();\n    if (workStore && workUnitStore) {\n        switch(workUnitStore.type){\n            case 'prerender-client':\n            case 'prerender':\n                {\n                    const fallbackParams = workUnitStore.fallbackRouteParams;\n                    if (fallbackParams && fallbackParams.size > 0) {\n                        // We are in a prerender with cacheComponents semantics. We are going to\n                        // hang here and never resolve. This will cause the currently\n                        // rendering component to effectively be a dynamic hole.\n                        react__WEBPACK_IMPORTED_MODULE_0__.use((0,_dynamic_rendering_utils__WEBPACK_IMPORTED_MODULE_5__.makeHangingPromise)(workUnitStore.renderSignal, workStore.route, expression));\n                    }\n                    break;\n                }\n            case 'prerender-ppr':\n                {\n                    const fallbackParams = workUnitStore.fallbackRouteParams;\n                    if (fallbackParams && fallbackParams.size > 0) {\n                        return postponeWithTracking(workStore.route, expression, workUnitStore.dynamicTracking);\n                    }\n                    break;\n                }\n            case 'prerender-runtime':\n                throw Object.defineProperty(new _shared_lib_invariant_error__WEBPACK_IMPORTED_MODULE_9__.InvariantError(`\\`${expression}\\` was called during a runtime prerender. Next.js should be preventing ${expression} from being included in server components statically, but did not in this case.`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E771\",\n                    enumerable: false,\n                    configurable: true\n                });\n            case 'cache':\n            case 'private-cache':\n                throw Object.defineProperty(new _shared_lib_invariant_error__WEBPACK_IMPORTED_MODULE_9__.InvariantError(`\\`${expression}\\` was called inside a cache scope. Next.js should be preventing ${expression} from being included in server components statically, but did not in this case.`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E745\",\n                    enumerable: false,\n                    configurable: true\n                });\n            case 'prerender-legacy':\n            case 'request':\n            case 'unstable-cache':\n                break;\n            default:\n                workUnitStore;\n        }\n    }\n}\nconst hasSuspenseRegex = /\\n\\s+at Suspense \\(<anonymous>\\)/;\n// Common implicit body tags that React will treat as body when placed directly in html\nconst bodyAndImplicitTags = 'body|div|main|section|article|aside|header|footer|nav|form|p|span|h1|h2|h3|h4|h5|h6';\n// Detects when RootLayoutBoundary (our framework marker component) appears\n// after Suspense in the component stack, indicating the root layout is wrapped\n// within a Suspense boundary. Ensures no body/html/implicit-body components are in between.\n//\n// Example matches:\n//   at Suspense (<anonymous>)\n//   at __next_root_layout_boundary__ (<anonymous>)\n//\n// Or with other components in between (but not body/html/implicit-body):\n//   at Suspense (<anonymous>)\n//   at SomeComponent (<anonymous>)\n//   at __next_root_layout_boundary__ (<anonymous>)\nconst hasSuspenseBeforeRootLayoutWithoutBodyOrImplicitBodyRegex = new RegExp(`\\\\n\\\\s+at Suspense \\\\(<anonymous>\\\\)(?:(?!\\\\n\\\\s+at (?:${bodyAndImplicitTags}) \\\\(<anonymous>\\\\))[\\\\s\\\\S])*?\\\\n\\\\s+at ${_lib_framework_boundary_constants__WEBPACK_IMPORTED_MODULE_6__.ROOT_LAYOUT_BOUNDARY_NAME} \\\\([^\\\\n]*\\\\)`);\nconst hasMetadataRegex = new RegExp(`\\\\n\\\\s+at ${_lib_framework_boundary_constants__WEBPACK_IMPORTED_MODULE_6__.METADATA_BOUNDARY_NAME}[\\\\n\\\\s]`);\nconst hasViewportRegex = new RegExp(`\\\\n\\\\s+at ${_lib_framework_boundary_constants__WEBPACK_IMPORTED_MODULE_6__.VIEWPORT_BOUNDARY_NAME}[\\\\n\\\\s]`);\nconst hasOutletRegex = new RegExp(`\\\\n\\\\s+at ${_lib_framework_boundary_constants__WEBPACK_IMPORTED_MODULE_6__.OUTLET_BOUNDARY_NAME}[\\\\n\\\\s]`);\nfunction trackAllowedDynamicAccess(workStore, componentStack, dynamicValidation, clientDynamic) {\n    if (hasOutletRegex.test(componentStack)) {\n        // We don't need to track that this is dynamic. It is only so when something else is also dynamic.\n        return;\n    } else if (hasMetadataRegex.test(componentStack)) {\n        dynamicValidation.hasDynamicMetadata = true;\n        return;\n    } else if (hasViewportRegex.test(componentStack)) {\n        dynamicValidation.hasDynamicViewport = true;\n        return;\n    } else if (hasSuspenseBeforeRootLayoutWithoutBodyOrImplicitBodyRegex.test(componentStack)) {\n        // For Suspense within body, the prelude wouldn't be empty so it wouldn't violate the empty static shells rule.\n        // But if you have Suspense above body, the prelude is empty but we allow that because having Suspense\n        // is an explicit signal from the user that they acknowledge the empty shell and want dynamic rendering.\n        dynamicValidation.hasAllowedDynamic = true;\n        dynamicValidation.hasSuspenseAboveBody = true;\n        return;\n    } else if (hasSuspenseRegex.test(componentStack)) {\n        // this error had a Suspense boundary above it so we don't need to report it as a source\n        // of disallowed\n        dynamicValidation.hasAllowedDynamic = true;\n        return;\n    } else if (clientDynamic.syncDynamicErrorWithStack) {\n        // This task was the task that called the sync error.\n        dynamicValidation.dynamicErrors.push(clientDynamic.syncDynamicErrorWithStack);\n        return;\n    } else {\n        const message = `Route \"${workStore.route}\": A component accessed data, headers, params, searchParams, or a short-lived cache without a Suspense boundary nor a \"use cache\" above it. See more info: https://nextjs.org/docs/messages/next-prerender-missing-suspense`;\n        const error = createErrorWithComponentOrOwnerStack(message, componentStack);\n        dynamicValidation.dynamicErrors.push(error);\n        return;\n    }\n}\n/**\n * In dev mode, we prefer using the owner stack, otherwise the provided\n * component stack is used.\n */ function createErrorWithComponentOrOwnerStack(message, componentStack) {\n    const ownerStack =  true && react__WEBPACK_IMPORTED_MODULE_0__.captureOwnerStack ? react__WEBPACK_IMPORTED_MODULE_0__.captureOwnerStack() : null;\n    const error = Object.defineProperty(new Error(message), \"__NEXT_ERROR_CODE\", {\n        value: \"E394\",\n        enumerable: false,\n        configurable: true\n    });\n    error.stack = error.name + ': ' + message + (ownerStack ?? componentStack);\n    return error;\n}\nvar PreludeState = /*#__PURE__*/ function(PreludeState) {\n    PreludeState[PreludeState[\"Full\"] = 0] = \"Full\";\n    PreludeState[PreludeState[\"Empty\"] = 1] = \"Empty\";\n    PreludeState[PreludeState[\"Errored\"] = 2] = \"Errored\";\n    return PreludeState;\n}({});\nfunction logDisallowedDynamicError(workStore, error) {\n    console.error(error);\n    if (!workStore.dev) {\n        if (workStore.hasReadableErrorStacks) {\n            console.error(`To get a more detailed stack trace and pinpoint the issue, start the app in development mode by running \\`next dev\\`, then open \"${workStore.route}\" in your browser to investigate the error.`);\n        } else {\n            console.error(`To get a more detailed stack trace and pinpoint the issue, try one of the following:\n  - Start the app in development mode by running \\`next dev\\`, then open \"${workStore.route}\" in your browser to investigate the error.\n  - Rerun the production build with \\`next build --debug-prerender\\` to generate better stack traces.`);\n        }\n    }\n}\nfunction throwIfDisallowedDynamic(workStore, prelude, dynamicValidation, serverDynamic) {\n    if (prelude !== 0) {\n        if (dynamicValidation.hasSuspenseAboveBody) {\n            // This route has opted into allowing fully dynamic rendering\n            // by including a Suspense boundary above the body. In this case\n            // a lack of a shell is not considered disallowed so we simply return\n            return;\n        }\n        if (serverDynamic.syncDynamicErrorWithStack) {\n            // There is no shell and the server did something sync dynamic likely\n            // leading to an early termination of the prerender before the shell\n            // could be completed. We terminate the build/validating render.\n            logDisallowedDynamicError(workStore, serverDynamic.syncDynamicErrorWithStack);\n            throw new _client_components_static_generation_bailout__WEBPACK_IMPORTED_MODULE_2__.StaticGenBailoutError();\n        }\n        // We didn't have any sync bailouts but there may be user code which\n        // blocked the root. We would have captured these during the prerender\n        // and can log them here and then terminate the build/validating render\n        const dynamicErrors = dynamicValidation.dynamicErrors;\n        if (dynamicErrors.length > 0) {\n            for(let i = 0; i < dynamicErrors.length; i++){\n                logDisallowedDynamicError(workStore, dynamicErrors[i]);\n            }\n            throw new _client_components_static_generation_bailout__WEBPACK_IMPORTED_MODULE_2__.StaticGenBailoutError();\n        }\n        // If we got this far then the only other thing that could be blocking\n        // the root is dynamic Viewport. If this is dynamic then\n        // you need to opt into that by adding a Suspense boundary above the body\n        // to indicate your are ok with fully dynamic rendering.\n        if (dynamicValidation.hasDynamicViewport) {\n            console.error(`Route \"${workStore.route}\" has a \\`generateViewport\\` that depends on Request data (\\`cookies()\\`, etc...) or uncached external data (\\`fetch(...)\\`, etc...) without explicitly allowing fully dynamic rendering. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-viewport`);\n            throw new _client_components_static_generation_bailout__WEBPACK_IMPORTED_MODULE_2__.StaticGenBailoutError();\n        }\n        if (prelude === 1) {\n            // If we ever get this far then we messed up the tracking of invalid dynamic.\n            // We still adhere to the constraint that you must produce a shell but invite the\n            // user to report this as a bug in Next.js.\n            console.error(`Route \"${workStore.route}\" did not produce a static shell and Next.js was unable to determine a reason. This is a bug in Next.js.`);\n            throw new _client_components_static_generation_bailout__WEBPACK_IMPORTED_MODULE_2__.StaticGenBailoutError();\n        }\n    } else {\n        if (dynamicValidation.hasAllowedDynamic === false && dynamicValidation.hasDynamicMetadata) {\n            console.error(`Route \"${workStore.route}\" has a \\`generateMetadata\\` that depends on Request data (\\`cookies()\\`, etc...) or uncached external data (\\`fetch(...)\\`, etc...) when the rest of the route does not. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-metadata`);\n            throw new _client_components_static_generation_bailout__WEBPACK_IMPORTED_MODULE_2__.StaticGenBailoutError();\n        }\n    }\n}\nfunction delayUntilRuntimeStage(prerenderStore, result) {\n    if (prerenderStore.runtimeStagePromise) {\n        return prerenderStore.runtimeStagePromise.then(()=>result);\n    }\n    return result;\n} //# sourceMappingURL=dynamic-rendering.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL2FwcC1yZW5kZXIvZHluYW1pYy1yZW5kZXJpbmcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQW9CQyxHQVdELHdGQUF3RjtBQUMvRDtBQUV3RDtBQUNRO0FBSTlDO0FBQ2lDO0FBQ2I7QUFNaEI7QUFDUztBQUN3QjtBQUNmO0FBRWpFLE1BQU1jLGNBQWMsT0FBT2Qsa0NBQUtBLENBQUNlLGlCQUFpQixLQUFLO0FBd0NoRCxTQUFTQywyQkFDZEMsc0JBQTJDO0lBRTNDLE9BQU87UUFDTEE7UUFDQUMsaUJBQWlCLEVBQUU7UUFDbkJDLDJCQUEyQjtJQUM3QjtBQUNGO0FBRU8sU0FBU0M7SUFDZCxPQUFPO1FBQ0xDLHNCQUFzQjtRQUN0QkMsb0JBQW9CO1FBQ3BCQyxvQkFBb0I7UUFDcEJDLG1CQUFtQjtRQUNuQkMsZUFBZSxFQUFFO0lBQ25CO0FBQ0Y7QUFFTyxTQUFTQyxzQkFDZEMsYUFBbUM7UUFFNUJBO0lBQVAsUUFBT0Esa0NBQUFBLGNBQWNULGVBQWUsQ0FBQyxPQUFFLGdCQUFoQ1MsZ0NBQWtDQyxVQUFVO0FBQ3JEO0FBRUE7Ozs7OztDQU1DLEdBQ00sU0FBU0MsMEJBQ2RDLEtBQWdCLEVBQ2hCQyxhQUF1RSxFQUN2RUgsVUFBa0I7SUFFbEIsSUFBSUcsZUFBZTtRQUNqQixPQUFRQSxjQUFjQyxJQUFJO1lBQ3hCLEtBQUs7WUFDTCxLQUFLO2dCQUNILGlFQUFpRTtnQkFDakUsa0VBQWtFO2dCQUNsRSxnRUFBZ0U7Z0JBQ2hFLGtDQUFrQztnQkFDbEM7WUFDRixLQUFLO2dCQUNILDBEQUEwRDtnQkFDMUQ7WUFDRixLQUFLO1lBQ0wsS0FBSztZQUNMLEtBQUs7Z0JBQ0g7WUFDRjtnQkFDRUQ7UUFDSjtJQUNGO0lBRUEsMkVBQTJFO0lBQzNFLDRFQUE0RTtJQUM1RSwyREFBMkQ7SUFDM0QsSUFBSUQsTUFBTUcsWUFBWSxJQUFJSCxNQUFNSSxXQUFXLEVBQUU7SUFFN0MsSUFBSUosTUFBTUssa0JBQWtCLEVBQUU7UUFDNUIsTUFBTSxxQkFFTCxDQUZLLElBQUlqQywrRkFBcUJBLENBQzdCLENBQUMsTUFBTSxFQUFFNEIsTUFBTU0sS0FBSyxDQUFDLDhFQUE4RSxFQUFFUixXQUFXLDRIQUE0SCxDQUFDLEdBRHpPO21CQUFBO3dCQUFBOzBCQUFBO1FBRU47SUFDRjtJQUVBLElBQUlHLGVBQWU7UUFDakIsT0FBUUEsY0FBY0MsSUFBSTtZQUN4QixLQUFLO2dCQUNILE9BQU9LLHFCQUNMUCxNQUFNTSxLQUFLLEVBQ1hSLFlBQ0FHLGNBQWNPLGVBQWU7WUFFakMsS0FBSztnQkFDSFAsY0FBY1EsVUFBVSxHQUFHO2dCQUUzQix1RUFBdUU7Z0JBQ3ZFLG9DQUFvQztnQkFDcEMsTUFBTUMsTUFBTSxxQkFFWCxDQUZXLElBQUl2Qyx1RkFBa0JBLENBQ2hDLENBQUMsTUFBTSxFQUFFNkIsTUFBTU0sS0FBSyxDQUFDLGlEQUFpRCxFQUFFUixXQUFXLDJFQUEyRSxDQUFDLEdBRHJKOzJCQUFBO2dDQUFBO2tDQUFBO2dCQUVaO2dCQUNBRSxNQUFNVyx1QkFBdUIsR0FBR2I7Z0JBQ2hDRSxNQUFNWSxpQkFBaUIsR0FBR0YsSUFBSUcsS0FBSztnQkFFbkMsTUFBTUg7WUFDUixLQUFLO2dCQUNILElBQUlJLElBQW9CLEVBQW1CO29CQUN6Q2IsY0FBY2dCLFdBQVcsR0FBRztnQkFDOUI7Z0JBQ0E7WUFDRjtnQkFDRWhCO1FBQ0o7SUFDRjtBQUNGO0FBRUE7Ozs7O0NBS0MsR0FDTSxTQUFTaUIsaUNBQ2RwQixVQUFrQixFQUNsQkUsS0FBZ0IsRUFDaEJtQixjQUFvQztJQUVwQyx1R0FBdUc7SUFDdkcsTUFBTVQsTUFBTSxxQkFFWCxDQUZXLElBQUl2Qyx1RkFBa0JBLENBQ2hDLENBQUMsTUFBTSxFQUFFNkIsTUFBTU0sS0FBSyxDQUFDLG1EQUFtRCxFQUFFUixXQUFXLDZFQUE2RSxDQUFDLEdBRHpKO2VBQUE7b0JBQUE7c0JBQUE7SUFFWjtJQUVBcUIsZUFBZVYsVUFBVSxHQUFHO0lBRTVCVCxNQUFNVyx1QkFBdUIsR0FBR2I7SUFDaENFLE1BQU1ZLGlCQUFpQixHQUFHRixJQUFJRyxLQUFLO0lBRW5DLE1BQU1IO0FBQ1I7QUFFQTs7Ozs7O0NBTUMsR0FDTSxTQUFTVSxnQ0FBZ0NuQixhQUE0QjtJQUMxRSxPQUFRQSxjQUFjQyxJQUFJO1FBQ3hCLEtBQUs7UUFDTCxLQUFLO1lBQ0gsaUVBQWlFO1lBQ2pFLGtFQUFrRTtZQUNsRSxnRUFBZ0U7WUFDaEUsa0NBQWtDO1lBQ2xDO1FBQ0YsS0FBSztZQUNILDBEQUEwRDtZQUMxRDtRQUNGLEtBQUs7UUFDTCxLQUFLO1FBQ0wsS0FBSztRQUNMLEtBQUs7UUFDTCxLQUFLO1lBQ0g7UUFDRixLQUFLO1lBQ0gsSUFBSVksSUFBb0IsRUFBbUI7Z0JBQ3pDYixjQUFjZ0IsV0FBVyxHQUFHO1lBQzlCO1lBQ0E7UUFDRjtZQUNFaEI7SUFDSjtBQUNGO0FBRUEsU0FBU29CLG9DQUNQZixLQUFhLEVBQ2JSLFVBQWtCLEVBQ2xCcUIsY0FBb0M7SUFFcEMsTUFBTUcsU0FBUyxDQUFDLE1BQU0sRUFBRWhCLE1BQU0saUVBQWlFLEVBQUVSLFdBQVcsQ0FBQyxDQUFDO0lBRTlHLE1BQU15QixRQUFRQyxnQ0FBZ0NGO0lBRTlDSCxlQUFlTSxVQUFVLENBQUNDLEtBQUssQ0FBQ0g7SUFFaEMsTUFBTWYsa0JBQWtCVyxlQUFlWCxlQUFlO0lBQ3RELElBQUlBLGlCQUFpQjtRQUNuQkEsZ0JBQWdCcEIsZUFBZSxDQUFDdUMsSUFBSSxDQUFDO1lBQ25DLDBFQUEwRTtZQUMxRSxlQUFlO1lBQ2ZkLE9BQU9MLGdCQUFnQnJCLHNCQUFzQixHQUN6QyxJQUFJeUMsUUFBUWYsS0FBSyxHQUNqQmdCO1lBQ0ovQjtRQUNGO0lBQ0Y7QUFDRjtBQUVPLFNBQVNnQyxtQ0FDZHhCLEtBQWEsRUFDYlIsVUFBa0IsRUFDbEJpQyxjQUFxQixFQUNyQlosY0FBb0M7SUFFcEMsTUFBTVgsa0JBQWtCVyxlQUFlWCxlQUFlO0lBQ3REYSxvQ0FBb0NmLE9BQU9SLFlBQVlxQjtJQUN2RCxzRkFBc0Y7SUFDdEYsMEZBQTBGO0lBQzFGLHNGQUFzRjtJQUN0RixvREFBb0Q7SUFDcEQsSUFBSVgsaUJBQWlCO1FBQ25CLElBQUlBLGdCQUFnQm5CLHlCQUF5QixLQUFLLE1BQU07WUFDdERtQixnQkFBZ0JuQix5QkFBeUIsR0FBRzBDO1FBQzlDO0lBQ0Y7QUFDRjtBQUVPLFNBQVNDLHNDQUNkQyxZQUEwQjtJQUUxQixvRkFBb0Y7SUFDcEYsb0RBQW9EO0lBQ3BEQSxhQUFhQyxjQUFjLEdBQUc7QUFDaEM7QUFFQTs7Ozs7Ozs7O0NBU0MsR0FDTSxTQUFTQyw0Q0FDZDdCLEtBQWEsRUFDYlIsVUFBa0IsRUFDbEJpQyxjQUFxQixFQUNyQlosY0FBb0M7SUFFcEMsTUFBTWlCLGtCQUFrQmpCLGVBQWVNLFVBQVUsQ0FBQ1ksTUFBTTtJQUN4RCxJQUFJRCxnQkFBZ0JFLE9BQU8sS0FBSyxPQUFPO1FBQ3JDLDhGQUE4RjtRQUM5RixtRkFBbUY7UUFDbkYsd0ZBQXdGO1FBQ3hGLDRGQUE0RjtRQUM1RiwwQkFBMEI7UUFDMUJqQixvQ0FBb0NmLE9BQU9SLFlBQVlxQjtRQUN2RCxzRkFBc0Y7UUFDdEYsMEZBQTBGO1FBQzFGLHNGQUFzRjtRQUN0RixvREFBb0Q7UUFDcEQsTUFBTVgsa0JBQWtCVyxlQUFlWCxlQUFlO1FBQ3RELElBQUlBLGlCQUFpQjtZQUNuQixJQUFJQSxnQkFBZ0JuQix5QkFBeUIsS0FBSyxNQUFNO2dCQUN0RG1CLGdCQUFnQm5CLHlCQUF5QixHQUFHMEM7WUFDOUM7UUFDRjtJQUNGO0lBQ0EsTUFBTVAsZ0NBQ0osQ0FBQyxNQUFNLEVBQUVsQixNQUFNLGlFQUFpRSxFQUFFUixXQUFXLENBQUMsQ0FBQztBQUVuRztBQUVBOzs7Ozs7Q0FNQyxHQUNNLFNBQVN5Qyx1QkFBdUIvQixlQUFxQztJQUMxRSxJQUFJQSxnQkFBZ0JuQix5QkFBeUIsRUFBRTtRQUM3QyxnREFBZ0Q7UUFDaEQsb0RBQW9EO1FBQ3BEbUQsUUFBUWpCLEtBQUssQ0FBQ2YsZ0JBQWdCbkIseUJBQXlCO0lBQ3pEO0FBQ0Y7QUFFQSxpRUFBaUU7QUFDMUQsTUFBTW9ELHlDQUNYVCxzQ0FBcUM7QUFTaEMsU0FBU1UsU0FBUyxFQUFFcEIsTUFBTSxFQUFFaEIsS0FBSyxFQUFpQjtJQUN2RCxNQUFNYSxpQkFBaUI3QyxtRkFBb0JBLENBQUNxRSxRQUFRO0lBQ3BELE1BQU1uQyxrQkFDSlcsa0JBQWtCQSxlQUFlakIsSUFBSSxLQUFLLGtCQUN0Q2lCLGVBQWVYLGVBQWUsR0FDOUI7SUFDTkQscUJBQXFCRCxPQUFPZ0IsUUFBUWQ7QUFDdEM7QUFFTyxTQUFTRCxxQkFDZEQsS0FBYSxFQUNiUixVQUFrQixFQUNsQlUsZUFBNEM7SUFFNUNvQztJQUNBLElBQUlwQyxpQkFBaUI7UUFDbkJBLGdCQUFnQnBCLGVBQWUsQ0FBQ3VDLElBQUksQ0FBQztZQUNuQywwRUFBMEU7WUFDMUUsZUFBZTtZQUNmZCxPQUFPTCxnQkFBZ0JyQixzQkFBc0IsR0FDekMsSUFBSXlDLFFBQVFmLEtBQUssR0FDakJnQjtZQUNKL0I7UUFDRjtJQUNGO0lBRUE1QixrQ0FBS0EsQ0FBQ2UsaUJBQWlCLENBQUM0RCxxQkFBcUJ2QyxPQUFPUjtBQUN0RDtBQUVBLFNBQVMrQyxxQkFBcUJ2QyxLQUFhLEVBQUVSLFVBQWtCO0lBQzdELE9BQ0UsQ0FBQyxNQUFNLEVBQUVRLE1BQU0saUVBQWlFLEVBQUVSLFdBQVcsRUFBRSxDQUFDLEdBQ2hHLENBQUMsK0VBQStFLENBQUMsR0FDakYsQ0FBQyxpRkFBaUYsQ0FBQztBQUV2RjtBQUVPLFNBQVNnRCxrQkFBa0JwQyxHQUFZO0lBQzVDLElBQ0UsT0FBT0EsUUFBUSxZQUNmQSxRQUFRLFFBQ1IsT0FBUUEsSUFBWXFDLE9BQU8sS0FBSyxVQUNoQztRQUNBLE9BQU9DLHdCQUF5QnRDLElBQVlxQyxPQUFPO0lBQ3JEO0lBQ0EsT0FBTztBQUNUO0FBRUEsU0FBU0Msd0JBQXdCMUIsTUFBYztJQUM3QyxPQUNFQSxPQUFPMkIsUUFBUSxDQUNiLHNFQUVGM0IsT0FBTzJCLFFBQVEsQ0FDYjtBQUdOO0FBRUEsSUFBSUQsd0JBQXdCSCxxQkFBcUIsT0FBTyxZQUFZLE9BQU87SUFDekUsTUFBTSxxQkFFTCxDQUZLLElBQUlqQixNQUNSLDJGQURJO2VBQUE7b0JBQUE7c0JBQUE7SUFFTjtBQUNGO0FBRUEsTUFBTXNCLDZCQUE2QjtBQUVuQyxTQUFTMUIsZ0NBQWdDdUIsT0FBZTtJQUN0RCxNQUFNeEIsUUFBUSxxQkFBa0IsQ0FBbEIsSUFBSUssTUFBTW1CLFVBQVY7ZUFBQTtvQkFBQTtzQkFBQTtJQUFpQjtJQUM3QnhCLE1BQWM0QixNQUFNLEdBQUdEO0lBQ3pCLE9BQU8zQjtBQUNUO0FBTU8sU0FBUzZCLDRCQUNkN0IsS0FBYztJQUVkLE9BQ0UsT0FBT0EsVUFBVSxZQUNqQkEsVUFBVSxRQUNUQSxNQUFjNEIsTUFBTSxLQUFLRCw4QkFDMUIsVUFBVTNCLFNBQ1YsYUFBYUEsU0FDYkEsaUJBQWlCSztBQUVyQjtBQUVPLFNBQVN5QixvQkFDZGpFLGVBQXFDO0lBRXJDLE9BQU9BLGdCQUFnQmtFLE1BQU0sR0FBRztBQUNsQztBQUVPLFNBQVNDLHFCQUNkQyxhQUFtQyxFQUNuQ0MsYUFBbUM7SUFFbkMsb0VBQW9FO0lBQ3BFLDBFQUEwRTtJQUMxRSxTQUFTO0lBQ1RELGNBQWNwRSxlQUFlLENBQUN1QyxJQUFJLElBQUk4QixjQUFjckUsZUFBZTtJQUNuRSxPQUFPb0UsY0FBY3BFLGVBQWU7QUFDdEM7QUFFTyxTQUFTc0UseUJBQ2R0RSxlQUFxQztJQUVyQyxPQUFPQSxnQkFDSnVFLE1BQU0sQ0FDTCxDQUFDQyxTQUNDLE9BQU9BLE9BQU8vQyxLQUFLLEtBQUssWUFBWStDLE9BQU8vQyxLQUFLLENBQUN5QyxNQUFNLEdBQUcsR0FFN0RPLEdBQUcsQ0FBQyxDQUFDLEVBQUUvRCxVQUFVLEVBQUVlLEtBQUssRUFBRTtRQUN6QkEsUUFBUUEsTUFDTGlELEtBQUssQ0FBQyxNQUNQLHdFQUF3RTtRQUN4RSxxRUFBcUU7UUFDckUsdURBQXVEO1NBQ3REQyxLQUFLLENBQUMsR0FDTkosTUFBTSxDQUFDLENBQUNLO1lBQ1Asa0RBQWtEO1lBQ2xELElBQUlBLEtBQUtmLFFBQVEsQ0FBQyx1QkFBdUI7Z0JBQ3ZDLE9BQU87WUFDVDtZQUVBLG9EQUFvRDtZQUNwRCxJQUFJZSxLQUFLZixRQUFRLENBQUMsbUJBQW1CO2dCQUNuQyxPQUFPO1lBQ1Q7WUFFQSxrREFBa0Q7WUFDbEQsSUFBSWUsS0FBS2YsUUFBUSxDQUFDLFlBQVk7Z0JBQzVCLE9BQU87WUFDVDtZQUVBLE9BQU87UUFDVCxHQUNDZ0IsSUFBSSxDQUFDO1FBQ1IsT0FBTyxDQUFDLDBCQUEwQixFQUFFbkUsV0FBVyxHQUFHLEVBQUVlLE9BQU87SUFDN0Q7QUFDSjtBQUVBLFNBQVMrQjtJQUNQLElBQUksQ0FBQzVELGFBQWE7UUFDaEIsTUFBTSxxQkFFTCxDQUZLLElBQUk0QyxNQUNSLENBQUMsZ0lBQWdJLENBQUMsR0FEOUg7bUJBQUE7d0JBQUE7MEJBQUE7UUFFTjtJQUNGO0FBQ0Y7QUFFQTs7O0NBR0MsR0FDTSxTQUFTc0M7SUFDZCxNQUFNekMsYUFBYSxJQUFJMEM7SUFDdkIxQyxXQUFXQyxLQUFLLENBQUMscUJBQTBDLENBQTFDLElBQUk1QyxzRkFBaUJBLENBQUMsc0JBQXRCO2VBQUE7b0JBQUE7c0JBQUE7SUFBeUM7SUFDMUQsT0FBTzJDLFdBQVdZLE1BQU07QUFDMUI7QUFFQTs7OztDQUlDLEdBQ00sU0FBUytCLDhCQUNkbkUsYUFBNEI7SUFFNUIsT0FBUUEsY0FBY0MsSUFBSTtRQUN4QixLQUFLO1FBQ0wsS0FBSztZQUNILE1BQU11QixhQUFhLElBQUkwQztZQUV2QixJQUFJbEUsY0FBY29FLFdBQVcsRUFBRTtnQkFDN0Isc0VBQXNFO2dCQUN0RSxzRUFBc0U7Z0JBQ3RFLDhEQUE4RDtnQkFDOURwRSxjQUFjb0UsV0FBVyxDQUFDQyxVQUFVLEdBQUdDLElBQUksQ0FBQztvQkFDMUM5QyxXQUFXQyxLQUFLO2dCQUNsQjtZQUNGLE9BQU87Z0JBQ0wscUVBQXFFO2dCQUNyRSxxQkFBcUI7Z0JBQ3JCLHNFQUFzRTtnQkFDdEUsc0RBQXNEO2dCQUN0RCxxRUFBcUU7Z0JBQ3JFLGlEQUFpRDtnQkFDakQsRUFBRTtnQkFDRixxREFBcUQ7Z0JBQ3JELG9FQUFvRTtnQkFDcEUsc0VBQXNFO2dCQUN0RSxzRUFBc0U7Z0JBQ3RFLGdDQUFnQztnQkFDaEMsTUFBTThDLHNCQUFzQm5HLHlGQUFzQkEsQ0FBQzRCO2dCQUNuRCxJQUFJdUUscUJBQXFCO29CQUN2QkEsb0JBQW9CRCxJQUFJLENBQUMsSUFDdkIxRixrRUFBa0JBLENBQUMsSUFBTTRDLFdBQVdDLEtBQUs7Z0JBRTdDLE9BQU87b0JBQ0w3QyxrRUFBa0JBLENBQUMsSUFBTTRDLFdBQVdDLEtBQUs7Z0JBQzNDO1lBQ0Y7WUFFQSxPQUFPRCxXQUFXWSxNQUFNO1FBQzFCLEtBQUs7UUFDTCxLQUFLO1FBQ0wsS0FBSztRQUNMLEtBQUs7UUFDTCxLQUFLO1FBQ0wsS0FBSztRQUNMLEtBQUs7WUFDSCxPQUFPUjtRQUNUO1lBQ0U1QjtJQUNKO0FBQ0Y7QUFFTyxTQUFTd0Usc0JBQ2QzRSxVQUFrQixFQUNsQnFCLGNBQW9DO0lBRXBDLE1BQU1YLGtCQUFrQlcsZUFBZVgsZUFBZTtJQUN0RCxJQUFJQSxpQkFBaUI7UUFDbkJBLGdCQUFnQnBCLGVBQWUsQ0FBQ3VDLElBQUksQ0FBQztZQUNuQ2QsT0FBT0wsZ0JBQWdCckIsc0JBQXNCLEdBQ3pDLElBQUl5QyxRQUFRZixLQUFLLEdBQ2pCZ0I7WUFDSi9CO1FBQ0Y7SUFDRjtBQUNGO0FBRU8sU0FBUzRFLHNCQUFzQjVFLFVBQWtCO0lBQ3RELE1BQU02RSxZQUFZcEcscUZBQWdCQSxDQUFDb0UsUUFBUTtJQUMzQyxNQUFNMUMsZ0JBQWdCM0IsbUZBQW9CQSxDQUFDcUUsUUFBUTtJQUNuRCxJQUFJZ0MsYUFBYTFFLGVBQWU7UUFDOUIsT0FBUUEsY0FBY0MsSUFBSTtZQUN4QixLQUFLO1lBQ0wsS0FBSztnQkFBYTtvQkFDaEIsTUFBTTBFLGlCQUFpQjNFLGNBQWM0RSxtQkFBbUI7b0JBQ3hELElBQUlELGtCQUFrQkEsZUFBZUUsSUFBSSxHQUFHLEdBQUc7d0JBQzdDLHdFQUF3RTt3QkFDeEUsNkRBQTZEO3dCQUM3RCx3REFBd0Q7d0JBQ3hENUcsc0NBQVMsQ0FDUE0sNEVBQWtCQSxDQUNoQnlCLGNBQWMrRSxZQUFZLEVBQzFCTCxVQUFVckUsS0FBSyxFQUNmUjtvQkFHTjtvQkFDQTtnQkFDRjtZQUNBLEtBQUs7Z0JBQWlCO29CQUNwQixNQUFNOEUsaUJBQWlCM0UsY0FBYzRFLG1CQUFtQjtvQkFDeEQsSUFBSUQsa0JBQWtCQSxlQUFlRSxJQUFJLEdBQUcsR0FBRzt3QkFDN0MsT0FBT3ZFLHFCQUNMb0UsVUFBVXJFLEtBQUssRUFDZlIsWUFDQUcsY0FBY08sZUFBZTtvQkFFakM7b0JBQ0E7Z0JBQ0Y7WUFDQSxLQUFLO2dCQUNILE1BQU0scUJBRUwsQ0FGSyxJQUFJekIsdUVBQWNBLENBQ3RCLENBQUMsRUFBRSxFQUFFZSxXQUFXLHVFQUF1RSxFQUFFQSxXQUFXLCtFQUErRSxDQUFDLEdBRGhMOzJCQUFBO2dDQUFBO2tDQUFBO2dCQUVOO1lBQ0YsS0FBSztZQUNMLEtBQUs7Z0JBQ0gsTUFBTSxxQkFFTCxDQUZLLElBQUlmLHVFQUFjQSxDQUN0QixDQUFDLEVBQUUsRUFBRWUsV0FBVyxpRUFBaUUsRUFBRUEsV0FBVywrRUFBK0UsQ0FBQyxHQUQxSzsyQkFBQTtnQ0FBQTtrQ0FBQTtnQkFFTjtZQUNGLEtBQUs7WUFDTCxLQUFLO1lBQ0wsS0FBSztnQkFDSDtZQUNGO2dCQUNFRztRQUNKO0lBQ0Y7QUFDRjtBQUVBLE1BQU1nRixtQkFBbUI7QUFFekIsdUZBQXVGO0FBQ3ZGLE1BQU1DLHNCQUNKO0FBRUYsMkVBQTJFO0FBQzNFLCtFQUErRTtBQUMvRSw0RkFBNEY7QUFDNUYsRUFBRTtBQUNGLG1CQUFtQjtBQUNuQiw4QkFBOEI7QUFDOUIsbURBQW1EO0FBQ25ELEVBQUU7QUFDRix5RUFBeUU7QUFDekUsOEJBQThCO0FBQzlCLG1DQUFtQztBQUNuQyxtREFBbUQ7QUFDbkQsTUFBTUMsNERBQTRELElBQUlDLE9BQ3BFLENBQUMsdURBQXVELEVBQUVGLG9CQUFvQix5Q0FBeUMsRUFBRXRHLHdGQUF5QkEsQ0FBQyxjQUFjLENBQUM7QUFHcEssTUFBTXlHLG1CQUFtQixJQUFJRCxPQUMzQixDQUFDLFVBQVUsRUFBRTNHLHFGQUFzQkEsQ0FBQyxRQUFRLENBQUM7QUFFL0MsTUFBTTZHLG1CQUFtQixJQUFJRixPQUMzQixDQUFDLFVBQVUsRUFBRTFHLHFGQUFzQkEsQ0FBQyxRQUFRLENBQUM7QUFFL0MsTUFBTTZHLGlCQUFpQixJQUFJSCxPQUFPLENBQUMsVUFBVSxFQUFFekcsbUZBQW9CQSxDQUFDLFFBQVEsQ0FBQztBQUV0RSxTQUFTNkcsMEJBQ2RiLFNBQW9CLEVBQ3BCYyxjQUFzQixFQUN0QkMsaUJBQXlDLEVBQ3pDakMsYUFBbUM7SUFFbkMsSUFBSThCLGVBQWVJLElBQUksQ0FBQ0YsaUJBQWlCO1FBQ3ZDLGtHQUFrRztRQUNsRztJQUNGLE9BQU8sSUFBSUosaUJBQWlCTSxJQUFJLENBQUNGLGlCQUFpQjtRQUNoREMsa0JBQWtCbEcsa0JBQWtCLEdBQUc7UUFDdkM7SUFDRixPQUFPLElBQUk4RixpQkFBaUJLLElBQUksQ0FBQ0YsaUJBQWlCO1FBQ2hEQyxrQkFBa0JqRyxrQkFBa0IsR0FBRztRQUN2QztJQUNGLE9BQU8sSUFDTDBGLDBEQUEwRFEsSUFBSSxDQUM1REYsaUJBRUY7UUFDQSwrR0FBK0c7UUFDL0csc0dBQXNHO1FBQ3RHLHdHQUF3RztRQUN4R0Msa0JBQWtCaEcsaUJBQWlCLEdBQUc7UUFDdENnRyxrQkFBa0JuRyxvQkFBb0IsR0FBRztRQUN6QztJQUNGLE9BQU8sSUFBSTBGLGlCQUFpQlUsSUFBSSxDQUFDRixpQkFBaUI7UUFDaEQsd0ZBQXdGO1FBQ3hGLGdCQUFnQjtRQUNoQkMsa0JBQWtCaEcsaUJBQWlCLEdBQUc7UUFDdEM7SUFDRixPQUFPLElBQUkrRCxjQUFjcEUseUJBQXlCLEVBQUU7UUFDbEQscURBQXFEO1FBQ3JEcUcsa0JBQWtCL0YsYUFBYSxDQUFDZ0MsSUFBSSxDQUNsQzhCLGNBQWNwRSx5QkFBeUI7UUFFekM7SUFDRixPQUFPO1FBQ0wsTUFBTTBELFVBQVUsQ0FBQyxPQUFPLEVBQUU0QixVQUFVckUsS0FBSyxDQUFDLDJOQUEyTixDQUFDO1FBQ3RRLE1BQU1pQixRQUFRcUUscUNBQXFDN0MsU0FBUzBDO1FBQzVEQyxrQkFBa0IvRixhQUFhLENBQUNnQyxJQUFJLENBQUNKO1FBQ3JDO0lBQ0Y7QUFDRjtBQUVBOzs7Q0FHQyxHQUNELFNBQVNxRSxxQ0FDUDdDLE9BQWUsRUFDZjBDLGNBQXNCO0lBRXRCLE1BQU1JLGFBQ0ovRSxLQUFvQixJQUFxQjVDLG9EQUF1QixHQUM1REEsb0RBQXVCLEtBQ3ZCO0lBRU4sTUFBTXFELFFBQVEscUJBQWtCLENBQWxCLElBQUlLLE1BQU1tQixVQUFWO2VBQUE7b0JBQUE7c0JBQUE7SUFBaUI7SUFDL0J4QixNQUFNVixLQUFLLEdBQUdVLE1BQU13RSxJQUFJLEdBQUcsT0FBT2hELFVBQVc4QyxDQUFBQSxjQUFjSixjQUFBQSxDQUFhO0lBQ3hFLE9BQU9sRTtBQUNUO0FBRU8sSUFBS3lFLGVBQUFBLFdBQUFBLEdBQUFBLFNBQUFBLFlBQUFBOzs7O1dBQUFBO01BSVg7QUFFTSxTQUFTQywwQkFDZHRCLFNBQW9CLEVBQ3BCcEQsS0FBWTtJQUVaaUIsUUFBUWpCLEtBQUssQ0FBQ0E7SUFFZCxJQUFJLENBQUNvRCxVQUFVdUIsR0FBRyxFQUFFO1FBQ2xCLElBQUl2QixVQUFVd0Isc0JBQXNCLEVBQUU7WUFDcEMzRCxRQUFRakIsS0FBSyxDQUNYLENBQUMsaUlBQWlJLEVBQUVvRCxVQUFVckUsS0FBSyxDQUFDLDJDQUEyQyxDQUFDO1FBRXBNLE9BQU87WUFDTGtDLFFBQVFqQixLQUFLLENBQUMsQ0FBQzswRUFDcUQsRUFBRW9ELFVBQVVyRSxLQUFLLENBQUM7cUdBQ1MsQ0FBQztRQUNsRztJQUNGO0FBQ0Y7QUFFTyxTQUFTOEYseUJBQ2R6QixTQUFvQixFQUNwQjBCLE9BQXFCLEVBQ3JCWCxpQkFBeUMsRUFDekNsQyxhQUFtQztJQUVuQyxJQUFJNkMsWUFBQUEsR0FBK0I7UUFDakMsSUFBSVgsa0JBQWtCbkcsb0JBQW9CLEVBQUU7WUFDMUMsNkRBQTZEO1lBQzdELGdFQUFnRTtZQUNoRSxxRUFBcUU7WUFDckU7UUFDRjtRQUVBLElBQUlpRSxjQUFjbkUseUJBQXlCLEVBQUU7WUFDM0MscUVBQXFFO1lBQ3JFLG9FQUFvRTtZQUNwRSxnRUFBZ0U7WUFDaEU0RywwQkFDRXRCLFdBQ0FuQixjQUFjbkUseUJBQXlCO1lBRXpDLE1BQU0sSUFBSWpCLCtGQUFxQkE7UUFDakM7UUFFQSxvRUFBb0U7UUFDcEUsc0VBQXNFO1FBQ3RFLHVFQUF1RTtRQUN2RSxNQUFNdUIsZ0JBQWdCK0Ysa0JBQWtCL0YsYUFBYTtRQUNyRCxJQUFJQSxjQUFjMkQsTUFBTSxHQUFHLEdBQUc7WUFDNUIsSUFBSyxJQUFJZ0QsSUFBSSxHQUFHQSxJQUFJM0csY0FBYzJELE1BQU0sRUFBRWdELElBQUs7Z0JBQzdDTCwwQkFBMEJ0QixXQUFXaEYsYUFBYSxDQUFDMkcsRUFBRTtZQUN2RDtZQUVBLE1BQU0sSUFBSWxJLCtGQUFxQkE7UUFDakM7UUFFQSxzRUFBc0U7UUFDdEUsd0RBQXdEO1FBQ3hELHlFQUF5RTtRQUN6RSx3REFBd0Q7UUFDeEQsSUFBSXNILGtCQUFrQmpHLGtCQUFrQixFQUFFO1lBQ3hDK0MsUUFBUWpCLEtBQUssQ0FDWCxDQUFDLE9BQU8sRUFBRW9ELFVBQVVyRSxLQUFLLENBQUMsOFFBQThRLENBQUM7WUFFM1MsTUFBTSxJQUFJbEMsK0ZBQXFCQTtRQUNqQztRQUVBLElBQUlpSSxZQUFBQSxHQUFnQztZQUNsQyw2RUFBNkU7WUFDN0UsaUZBQWlGO1lBQ2pGLDJDQUEyQztZQUMzQzdELFFBQVFqQixLQUFLLENBQ1gsQ0FBQyxPQUFPLEVBQUVvRCxVQUFVckUsS0FBSyxDQUFDLHdHQUF3RyxDQUFDO1lBRXJJLE1BQU0sSUFBSWxDLCtGQUFxQkE7UUFDakM7SUFDRixPQUFPO1FBQ0wsSUFDRXNILGtCQUFrQmhHLGlCQUFpQixLQUFLLFNBQ3hDZ0csa0JBQWtCbEcsa0JBQWtCLEVBQ3BDO1lBQ0FnRCxRQUFRakIsS0FBSyxDQUNYLENBQUMsT0FBTyxFQUFFb0QsVUFBVXJFLEtBQUssQ0FBQyw4UEFBOFAsQ0FBQztZQUUzUixNQUFNLElBQUlsQywrRkFBcUJBO1FBQ2pDO0lBQ0Y7QUFDRjtBQUVPLFNBQVNtSSx1QkFDZHBGLGNBQTJDLEVBQzNDcUYsTUFBa0I7SUFFbEIsSUFBSXJGLGVBQWVxRCxtQkFBbUIsRUFBRTtRQUN0QyxPQUFPckQsZUFBZXFELG1CQUFtQixDQUFDRCxJQUFJLENBQUMsSUFBTWlDO0lBQ3ZEO0lBQ0EsT0FBT0E7QUFDVCIsInNvdXJjZXMiOlsiRDpcXHNyY1xcc2VydmVyXFxhcHAtcmVuZGVyXFxkeW5hbWljLXJlbmRlcmluZy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRoZSBmdW5jdGlvbnMgcHJvdmlkZWQgYnkgdGhpcyBtb2R1bGUgYXJlIHVzZWQgdG8gY29tbXVuaWNhdGUgY2VydGFpbiBwcm9wZXJ0aWVzXG4gKiBhYm91dCB0aGUgY3VycmVudGx5IHJ1bm5pbmcgY29kZSBzbyB0aGF0IE5leHQuanMgY2FuIG1ha2UgZGVjaXNpb25zIG9uIGhvdyB0byBoYW5kbGVcbiAqIHRoZSBjdXJyZW50IGV4ZWN1dGlvbiBpbiBkaWZmZXJlbnQgcmVuZGVyaW5nIG1vZGVzIHN1Y2ggYXMgcHJlLXJlbmRlcmluZywgcmVzdW1pbmcsIGFuZCBTU1IuXG4gKlxuICogVG9kYXkgTmV4dC5qcyB0cmVhdHMgYWxsIGNvZGUgYXMgcG90ZW50aWFsbHkgc3RhdGljLiBDZXJ0YWluIEFQSXMgbWF5IG9ubHkgbWFrZSBzZW5zZSB3aGVuIGR5bmFtaWNhbGx5IHJlbmRlcmluZy5cbiAqIFRyYWRpdGlvbmFsbHkgdGhpcyBtZWFudCBkZW9wdGluZyB0aGUgZW50aXJlIHJlbmRlciB0byBkeW5hbWljIGhvd2V2ZXIgd2l0aCBQUFIgd2UgY2FuIG5vdyBkZW9wdCBwYXJ0c1xuICogb2YgYSBSZWFjdCB0cmVlIGFzIGR5bmFtaWMgd2hpbGUgc3RpbGwga2VlcGluZyBvdGhlciBwYXJ0cyBzdGF0aWMuIFRoZXJlIGFyZSByZWFsbHkgdHdvIGRpZmZlcmVudCBraW5kcyBvZlxuICogRHluYW1pYyBpbmRpY2F0aW9ucy5cbiAqXG4gKiBUaGUgZmlyc3QgaXMgc2ltcGx5IGFuIGludGVudGlvbiB0byBiZSBkeW5hbWljLiB1bnN0YWJsZV9ub1N0b3JlIGlzIGFuIGV4YW1wbGUgb2YgdGhpcyB3aGVyZVxuICogdGhlIGN1cnJlbnRseSBleGVjdXRpbmcgY29kZSBzaW1wbHkgZGVjbGFyZXMgdGhhdCB0aGUgY3VycmVudCBzY29wZSBpcyBkeW5hbWljIGJ1dCBpZiB5b3UgdXNlIGl0XG4gKiBpbnNpZGUgdW5zdGFibGVfY2FjaGUgaXQgY2FuIHN0aWxsIGJlIGNhY2hlZC4gVGhpcyB0eXBlIG9mIGluZGljYXRpb24gY2FuIGJlIHJlbW92ZWQgaWYgd2UgZXZlclxuICogbWFrZSB0aGUgZGVmYXVsdCBkeW5hbWljIHRvIGJlZ2luIHdpdGggYmVjYXVzZSB0aGUgb25seSB3YXkgeW91IHdvdWxkIGV2ZXIgYmUgc3RhdGljIGlzIGluc2lkZVxuICogYSBjYWNoZSBzY29wZSB3aGljaCB0aGlzIGluZGljYXRpb24gZG9lcyBub3QgYWZmZWN0LlxuICpcbiAqIFRoZSBzZWNvbmQgaXMgYW4gaW5kaWNhdGlvbiB0aGF0IGEgZHluYW1pYyBkYXRhIHNvdXJjZSB3YXMgcmVhZC4gVGhpcyBpcyBhIHN0cm9uZ2VyIGZvcm0gb2YgZHluYW1pY1xuICogYmVjYXVzZSBpdCBtZWFucyB0aGF0IGl0IGlzIGluYXBwcm9wcmlhdGUgdG8gY2FjaGUgdGhpcyBhdCBhbGwuIHVzaW5nIGEgZHluYW1pYyBkYXRhIHNvdXJjZSBpbnNpZGVcbiAqIHVuc3RhYmxlX2NhY2hlIHNob3VsZCBlcnJvci4gSWYgeW91IHdhbnQgdG8gdXNlIHNvbWUgZHluYW1pYyBkYXRhIGluc2lkZSB1bnN0YWJsZV9jYWNoZSB5b3Ugc2hvdWxkXG4gKiByZWFkIHRoYXQgZGF0YSBvdXRzaWRlIHRoZSBjYWNoZSBhbmQgcGFzcyBpdCBpbiBhcyBhbiBhcmd1bWVudCB0byB0aGUgY2FjaGVkIGZ1bmN0aW9uLlxuICovXG5cbmltcG9ydCB0eXBlIHsgV29ya1N0b3JlIH0gZnJvbSAnLi4vYXBwLXJlbmRlci93b3JrLWFzeW5jLXN0b3JhZ2UuZXh0ZXJuYWwnXG5pbXBvcnQgdHlwZSB7XG4gIFdvcmtVbml0U3RvcmUsXG4gIFJlcXVlc3RTdG9yZSxcbiAgUHJlcmVuZGVyU3RvcmVMZWdhY3ksXG4gIFByZXJlbmRlclN0b3JlTW9kZXJuLFxuICBQcmVyZW5kZXJTdG9yZU1vZGVyblJ1bnRpbWUsXG59IGZyb20gJy4uL2FwcC1yZW5kZXIvd29yay11bml0LWFzeW5jLXN0b3JhZ2UuZXh0ZXJuYWwnXG5cbi8vIE9uY2UgcG9zdHBvbmUgaXMgaW4gc3RhYmxlIHdlIHNob3VsZCBzd2l0Y2ggdG8gaW1wb3J0aW5nIHRoZSBwb3N0cG9uZSBleHBvcnQgZGlyZWN0bHlcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHsgRHluYW1pY1NlcnZlckVycm9yIH0gZnJvbSAnLi4vLi4vY2xpZW50L2NvbXBvbmVudHMvaG9va3Mtc2VydmVyLWNvbnRleHQnXG5pbXBvcnQgeyBTdGF0aWNHZW5CYWlsb3V0RXJyb3IgfSBmcm9tICcuLi8uLi9jbGllbnQvY29tcG9uZW50cy9zdGF0aWMtZ2VuZXJhdGlvbi1iYWlsb3V0J1xuaW1wb3J0IHtcbiAgZ2V0UnVudGltZVN0YWdlUHJvbWlzZSxcbiAgd29ya1VuaXRBc3luY1N0b3JhZ2UsXG59IGZyb20gJy4vd29yay11bml0LWFzeW5jLXN0b3JhZ2UuZXh0ZXJuYWwnXG5pbXBvcnQgeyB3b3JrQXN5bmNTdG9yYWdlIH0gZnJvbSAnLi4vYXBwLXJlbmRlci93b3JrLWFzeW5jLXN0b3JhZ2UuZXh0ZXJuYWwnXG5pbXBvcnQgeyBtYWtlSGFuZ2luZ1Byb21pc2UgfSBmcm9tICcuLi9keW5hbWljLXJlbmRlcmluZy11dGlscydcbmltcG9ydCB7XG4gIE1FVEFEQVRBX0JPVU5EQVJZX05BTUUsXG4gIFZJRVdQT1JUX0JPVU5EQVJZX05BTUUsXG4gIE9VVExFVF9CT1VOREFSWV9OQU1FLFxuICBST09UX0xBWU9VVF9CT1VOREFSWV9OQU1FLFxufSBmcm9tICcuLi8uLi9saWIvZnJhbWV3b3JrL2JvdW5kYXJ5LWNvbnN0YW50cydcbmltcG9ydCB7IHNjaGVkdWxlT25OZXh0VGljayB9IGZyb20gJy4uLy4uL2xpYi9zY2hlZHVsZXInXG5pbXBvcnQgeyBCYWlsb3V0VG9DU1JFcnJvciB9IGZyb20gJy4uLy4uL3NoYXJlZC9saWIvbGF6eS1keW5hbWljL2JhaWxvdXQtdG8tY3NyJ1xuaW1wb3J0IHsgSW52YXJpYW50RXJyb3IgfSBmcm9tICcuLi8uLi9zaGFyZWQvbGliL2ludmFyaWFudC1lcnJvcidcblxuY29uc3QgaGFzUG9zdHBvbmUgPSB0eXBlb2YgUmVhY3QudW5zdGFibGVfcG9zdHBvbmUgPT09ICdmdW5jdGlvbidcblxuZXhwb3J0IHR5cGUgRHluYW1pY0FjY2VzcyA9IHtcbiAgLyoqXG4gICAqIElmIGRlYnVnZ2luZywgdGhpcyB3aWxsIGNvbnRhaW4gdGhlIHN0YWNrIHRyYWNlIG9mIHdoZXJlIHRoZSBkeW5hbWljIGFjY2Vzc1xuICAgKiBvY2N1cnJlZC4gVGhpcyBpcyB1c2VkIHRvIHByb3ZpZGUgbW9yZSBpbmZvcm1hdGlvbiB0byB0aGUgdXNlciBhYm91dCB3aHlcbiAgICogdGhlaXIgcGFnZSBpcyBiZWluZyByZW5kZXJlZCBkeW5hbWljYWxseS5cbiAgICovXG4gIHN0YWNrPzogc3RyaW5nXG5cbiAgLyoqXG4gICAqIFRoZSBleHByZXNzaW9uIHRoYXQgd2FzIGFjY2Vzc2VkIGR5bmFtaWNhbGx5LlxuICAgKi9cbiAgZXhwcmVzc2lvbjogc3RyaW5nXG59XG5cbi8vIFN0b3JlcyBkeW5hbWljIHJlYXNvbnMgdXNlZCBkdXJpbmcgYW4gUlNDIHJlbmRlci5cbmV4cG9ydCB0eXBlIER5bmFtaWNUcmFja2luZ1N0YXRlID0ge1xuICAvKipcbiAgICogV2hlbiB0cnVlLCBzdGFjayBpbmZvcm1hdGlvbiB3aWxsIGFsc28gYmUgdHJhY2tlZCBkdXJpbmcgZHluYW1pYyBhY2Nlc3MuXG4gICAqL1xuICByZWFkb25seSBpc0RlYnVnRHluYW1pY0FjY2Vzc2VzOiBib29sZWFuIHwgdW5kZWZpbmVkXG5cbiAgLyoqXG4gICAqIFRoZSBkeW5hbWljIGFjY2Vzc2VzIHRoYXQgb2NjdXJyZWQgZHVyaW5nIHRoZSByZW5kZXIuXG4gICAqL1xuICByZWFkb25seSBkeW5hbWljQWNjZXNzZXM6IEFycmF5PER5bmFtaWNBY2Nlc3M+XG5cbiAgc3luY0R5bmFtaWNFcnJvcldpdGhTdGFjazogbnVsbCB8IEVycm9yXG59XG5cbi8vIFN0b3JlcyBkeW5hbWljIHJlYXNvbnMgdXNlZCBkdXJpbmcgYW4gU1NSIHJlbmRlci5cbmV4cG9ydCB0eXBlIER5bmFtaWNWYWxpZGF0aW9uU3RhdGUgPSB7XG4gIGhhc1N1c3BlbnNlQWJvdmVCb2R5OiBib29sZWFuXG4gIGhhc0R5bmFtaWNNZXRhZGF0YTogYm9vbGVhblxuICBoYXNEeW5hbWljVmlld3BvcnQ6IGJvb2xlYW5cbiAgaGFzQWxsb3dlZER5bmFtaWM6IGJvb2xlYW5cbiAgZHluYW1pY0Vycm9yczogQXJyYXk8RXJyb3I+XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVEeW5hbWljVHJhY2tpbmdTdGF0ZShcbiAgaXNEZWJ1Z0R5bmFtaWNBY2Nlc3NlczogYm9vbGVhbiB8IHVuZGVmaW5lZFxuKTogRHluYW1pY1RyYWNraW5nU3RhdGUge1xuICByZXR1cm4ge1xuICAgIGlzRGVidWdEeW5hbWljQWNjZXNzZXMsXG4gICAgZHluYW1pY0FjY2Vzc2VzOiBbXSxcbiAgICBzeW5jRHluYW1pY0Vycm9yV2l0aFN0YWNrOiBudWxsLFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVEeW5hbWljVmFsaWRhdGlvblN0YXRlKCk6IER5bmFtaWNWYWxpZGF0aW9uU3RhdGUge1xuICByZXR1cm4ge1xuICAgIGhhc1N1c3BlbnNlQWJvdmVCb2R5OiBmYWxzZSxcbiAgICBoYXNEeW5hbWljTWV0YWRhdGE6IGZhbHNlLFxuICAgIGhhc0R5bmFtaWNWaWV3cG9ydDogZmFsc2UsXG4gICAgaGFzQWxsb3dlZER5bmFtaWM6IGZhbHNlLFxuICAgIGR5bmFtaWNFcnJvcnM6IFtdLFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRGaXJzdER5bmFtaWNSZWFzb24oXG4gIHRyYWNraW5nU3RhdGU6IER5bmFtaWNUcmFja2luZ1N0YXRlXG4pOiB1bmRlZmluZWQgfCBzdHJpbmcge1xuICByZXR1cm4gdHJhY2tpbmdTdGF0ZS5keW5hbWljQWNjZXNzZXNbMF0/LmV4cHJlc3Npb25cbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGNvbW11bmljYXRlcyB0aGF0IHRoZSBjdXJyZW50IHNjb3BlIHNob3VsZCBiZSB0cmVhdGVkIGFzIGR5bmFtaWMuXG4gKlxuICogSW4gbW9zdCBjYXNlcyB0aGlzIGZ1bmN0aW9uIGlzIGEgbm8tb3AgYnV0IGlmIGNhbGxlZCBkdXJpbmdcbiAqIGEgUFBSIHByZXJlbmRlciBpdCB3aWxsIHBvc3Rwb25lIHRoZSBjdXJyZW50IHN1Yi10cmVlIGFuZCBjYWxsaW5nXG4gKiBpdCBkdXJpbmcgYSBub3JtYWwgcHJlcmVuZGVyIHdpbGwgY2F1c2UgdGhlIGVudGlyZSBwcmVyZW5kZXIgdG8gYWJvcnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hcmtDdXJyZW50U2NvcGVBc0R5bmFtaWMoXG4gIHN0b3JlOiBXb3JrU3RvcmUsXG4gIHdvcmtVbml0U3RvcmU6IHVuZGVmaW5lZCB8IEV4Y2x1ZGU8V29ya1VuaXRTdG9yZSwgUHJlcmVuZGVyU3RvcmVNb2Rlcm4+LFxuICBleHByZXNzaW9uOiBzdHJpbmdcbik6IHZvaWQge1xuICBpZiAod29ya1VuaXRTdG9yZSkge1xuICAgIHN3aXRjaCAod29ya1VuaXRTdG9yZS50eXBlKSB7XG4gICAgICBjYXNlICdjYWNoZSc6XG4gICAgICBjYXNlICd1bnN0YWJsZS1jYWNoZSc6XG4gICAgICAgIC8vIEluc2lkZSBjYWNoZSBzY29wZXMsIG1hcmtpbmcgYSBzY29wZSBhcyBkeW5hbWljIGhhcyBubyBlZmZlY3QsXG4gICAgICAgIC8vIGJlY2F1c2UgdGhlIG91dGVyIGNhY2hlIHNjb3BlIGNyZWF0ZXMgYSBjYWNoZSBib3VuZGFyeS4gVGhpcyBpc1xuICAgICAgICAvLyBzdWJ0bHkgZGlmZmVyZW50IGZyb20gcmVhZGluZyBhIGR5bmFtaWMgZGF0YSBzb3VyY2UsIHdoaWNoIGlzXG4gICAgICAgIC8vIGZvcmJpZGRlbiBpbnNpZGUgYSBjYWNoZSBzY29wZS5cbiAgICAgICAgcmV0dXJuXG4gICAgICBjYXNlICdwcml2YXRlLWNhY2hlJzpcbiAgICAgICAgLy8gQSBwcml2YXRlIGNhY2hlIHNjb3BlIGlzIGFscmVhZHkgZHluYW1pYyBieSBkZWZpbml0aW9uLlxuICAgICAgICByZXR1cm5cbiAgICAgIGNhc2UgJ3ByZXJlbmRlci1sZWdhY3knOlxuICAgICAgY2FzZSAncHJlcmVuZGVyLXBwcic6XG4gICAgICBjYXNlICdyZXF1ZXN0JzpcbiAgICAgICAgYnJlYWtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHdvcmtVbml0U3RvcmUgc2F0aXNmaWVzIG5ldmVyXG4gICAgfVxuICB9XG5cbiAgLy8gSWYgd2UncmUgZm9yY2luZyBkeW5hbWljIHJlbmRlcmluZyBvciB3ZSdyZSBmb3JjaW5nIHN0YXRpYyByZW5kZXJpbmcsIHdlXG4gIC8vIGRvbid0IG5lZWQgdG8gZG8gYW55dGhpbmcgaGVyZSBiZWNhdXNlIHRoZSBlbnRpcmUgcGFnZSBpcyBhbHJlYWR5IGR5bmFtaWNcbiAgLy8gb3IgaXQncyBzdGF0aWMgYW5kIGl0IHNob3VsZCBub3QgdGhyb3cgb3IgcG9zdHBvbmUgaGVyZS5cbiAgaWYgKHN0b3JlLmZvcmNlRHluYW1pYyB8fCBzdG9yZS5mb3JjZVN0YXRpYykgcmV0dXJuXG5cbiAgaWYgKHN0b3JlLmR5bmFtaWNTaG91bGRFcnJvcikge1xuICAgIHRocm93IG5ldyBTdGF0aWNHZW5CYWlsb3V0RXJyb3IoXG4gICAgICBgUm91dGUgJHtzdG9yZS5yb3V0ZX0gd2l0aCBcXGBkeW5hbWljID0gXCJlcnJvclwiXFxgIGNvdWxkbid0IGJlIHJlbmRlcmVkIHN0YXRpY2FsbHkgYmVjYXVzZSBpdCB1c2VkIFxcYCR7ZXhwcmVzc2lvbn1cXGAuIFNlZSBtb3JlIGluZm8gaGVyZTogaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvYXBwL2J1aWxkaW5nLXlvdXItYXBwbGljYXRpb24vcmVuZGVyaW5nL3N0YXRpYy1hbmQtZHluYW1pYyNkeW5hbWljLXJlbmRlcmluZ2BcbiAgICApXG4gIH1cblxuICBpZiAod29ya1VuaXRTdG9yZSkge1xuICAgIHN3aXRjaCAod29ya1VuaXRTdG9yZS50eXBlKSB7XG4gICAgICBjYXNlICdwcmVyZW5kZXItcHByJzpcbiAgICAgICAgcmV0dXJuIHBvc3Rwb25lV2l0aFRyYWNraW5nKFxuICAgICAgICAgIHN0b3JlLnJvdXRlLFxuICAgICAgICAgIGV4cHJlc3Npb24sXG4gICAgICAgICAgd29ya1VuaXRTdG9yZS5keW5hbWljVHJhY2tpbmdcbiAgICAgICAgKVxuICAgICAgY2FzZSAncHJlcmVuZGVyLWxlZ2FjeSc6XG4gICAgICAgIHdvcmtVbml0U3RvcmUucmV2YWxpZGF0ZSA9IDBcblxuICAgICAgICAvLyBXZSBhcmVuJ3QgcHJlcmVuZGVyaW5nLCBidXQgd2UgYXJlIGdlbmVyYXRpbmcgYSBzdGF0aWMgcGFnZS4gV2UgbmVlZFxuICAgICAgICAvLyB0byBiYWlsIG91dCBvZiBzdGF0aWMgZ2VuZXJhdGlvbi5cbiAgICAgICAgY29uc3QgZXJyID0gbmV3IER5bmFtaWNTZXJ2ZXJFcnJvcihcbiAgICAgICAgICBgUm91dGUgJHtzdG9yZS5yb3V0ZX0gY291bGRuJ3QgYmUgcmVuZGVyZWQgc3RhdGljYWxseSBiZWNhdXNlIGl0IHVzZWQgJHtleHByZXNzaW9ufS4gU2VlIG1vcmUgaW5mbyBoZXJlOiBodHRwczovL25leHRqcy5vcmcvZG9jcy9tZXNzYWdlcy9keW5hbWljLXNlcnZlci1lcnJvcmBcbiAgICAgICAgKVxuICAgICAgICBzdG9yZS5keW5hbWljVXNhZ2VEZXNjcmlwdGlvbiA9IGV4cHJlc3Npb25cbiAgICAgICAgc3RvcmUuZHluYW1pY1VzYWdlU3RhY2sgPSBlcnIuc3RhY2tcblxuICAgICAgICB0aHJvdyBlcnJcbiAgICAgIGNhc2UgJ3JlcXVlc3QnOlxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIHdvcmtVbml0U3RvcmUudXNlZER5bmFtaWMgPSB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHdvcmtVbml0U3RvcmUgc2F0aXNmaWVzIG5ldmVyXG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBpcyBtZWFudCB0byBiZSB1c2VkIHdoZW4gcHJlcmVuZGVyaW5nIHdpdGhvdXQgY2FjaGVDb21wb25lbnRzIG9yIFBQUi5cbiAqIFdoZW4gY2FsbGVkIGR1cmluZyBhIGJ1aWxkIGl0IHdpbGwgY2F1c2UgTmV4dC5qcyB0byBjb25zaWRlciB0aGUgcm91dGUgYXMgZHluYW1pYy5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRocm93VG9JbnRlcnJ1cHRTdGF0aWNHZW5lcmF0aW9uKFxuICBleHByZXNzaW9uOiBzdHJpbmcsXG4gIHN0b3JlOiBXb3JrU3RvcmUsXG4gIHByZXJlbmRlclN0b3JlOiBQcmVyZW5kZXJTdG9yZUxlZ2FjeVxuKTogbmV2ZXIge1xuICAvLyBXZSBhcmVuJ3QgcHJlcmVuZGVyaW5nIGJ1dCB3ZSBhcmUgZ2VuZXJhdGluZyBhIHN0YXRpYyBwYWdlLiBXZSBuZWVkIHRvIGJhaWwgb3V0IG9mIHN0YXRpYyBnZW5lcmF0aW9uXG4gIGNvbnN0IGVyciA9IG5ldyBEeW5hbWljU2VydmVyRXJyb3IoXG4gICAgYFJvdXRlICR7c3RvcmUucm91dGV9IGNvdWxkbid0IGJlIHJlbmRlcmVkIHN0YXRpY2FsbHkgYmVjYXVzZSBpdCB1c2VkIFxcYCR7ZXhwcmVzc2lvbn1cXGAuIFNlZSBtb3JlIGluZm8gaGVyZTogaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvbWVzc2FnZXMvZHluYW1pYy1zZXJ2ZXItZXJyb3JgXG4gIClcblxuICBwcmVyZW5kZXJTdG9yZS5yZXZhbGlkYXRlID0gMFxuXG4gIHN0b3JlLmR5bmFtaWNVc2FnZURlc2NyaXB0aW9uID0gZXhwcmVzc2lvblxuICBzdG9yZS5keW5hbWljVXNhZ2VTdGFjayA9IGVyci5zdGFja1xuXG4gIHRocm93IGVyclxufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gc2hvdWxkIGJlIHVzZWQgdG8gdHJhY2sgd2hldGhlciBzb21ldGhpbmcgZHluYW1pYyBoYXBwZW5lZCBldmVuIHdoZW5cbiAqIHdlIGFyZSBpbiBhIGR5bmFtaWMgcmVuZGVyLiBUaGlzIGlzIHVzZWZ1bCBmb3IgRGV2IHdoZXJlIGFsbCByZW5kZXJzIGFyZSBkeW5hbWljIGJ1dFxuICogd2Ugc3RpbGwgdHJhY2sgd2hldGhlciBkeW5hbWljIEFQSXMgd2VyZSBhY2Nlc3NlZCBmb3IgaGVscGZ1bCBtZXNzYWdpbmdcbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYWNrRHluYW1pY0RhdGFJbkR5bmFtaWNSZW5kZXIod29ya1VuaXRTdG9yZTogV29ya1VuaXRTdG9yZSkge1xuICBzd2l0Y2ggKHdvcmtVbml0U3RvcmUudHlwZSkge1xuICAgIGNhc2UgJ2NhY2hlJzpcbiAgICBjYXNlICd1bnN0YWJsZS1jYWNoZSc6XG4gICAgICAvLyBJbnNpZGUgY2FjaGUgc2NvcGVzLCBtYXJraW5nIGEgc2NvcGUgYXMgZHluYW1pYyBoYXMgbm8gZWZmZWN0LFxuICAgICAgLy8gYmVjYXVzZSB0aGUgb3V0ZXIgY2FjaGUgc2NvcGUgY3JlYXRlcyBhIGNhY2hlIGJvdW5kYXJ5LiBUaGlzIGlzXG4gICAgICAvLyBzdWJ0bHkgZGlmZmVyZW50IGZyb20gcmVhZGluZyBhIGR5bmFtaWMgZGF0YSBzb3VyY2UsIHdoaWNoIGlzXG4gICAgICAvLyBmb3JiaWRkZW4gaW5zaWRlIGEgY2FjaGUgc2NvcGUuXG4gICAgICByZXR1cm5cbiAgICBjYXNlICdwcml2YXRlLWNhY2hlJzpcbiAgICAgIC8vIEEgcHJpdmF0ZSBjYWNoZSBzY29wZSBpcyBhbHJlYWR5IGR5bmFtaWMgYnkgZGVmaW5pdGlvbi5cbiAgICAgIHJldHVyblxuICAgIGNhc2UgJ3ByZXJlbmRlcic6XG4gICAgY2FzZSAncHJlcmVuZGVyLXJ1bnRpbWUnOlxuICAgIGNhc2UgJ3ByZXJlbmRlci1sZWdhY3knOlxuICAgIGNhc2UgJ3ByZXJlbmRlci1wcHInOlxuICAgIGNhc2UgJ3ByZXJlbmRlci1jbGllbnQnOlxuICAgICAgYnJlYWtcbiAgICBjYXNlICdyZXF1ZXN0JzpcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHdvcmtVbml0U3RvcmUudXNlZER5bmFtaWMgPSB0cnVlXG4gICAgICB9XG4gICAgICBicmVha1xuICAgIGRlZmF1bHQ6XG4gICAgICB3b3JrVW5pdFN0b3JlIHNhdGlzZmllcyBuZXZlclxuICB9XG59XG5cbmZ1bmN0aW9uIGFib3J0T25TeW5jaHJvbm91c0R5bmFtaWNEYXRhQWNjZXNzKFxuICByb3V0ZTogc3RyaW5nLFxuICBleHByZXNzaW9uOiBzdHJpbmcsXG4gIHByZXJlbmRlclN0b3JlOiBQcmVyZW5kZXJTdG9yZU1vZGVyblxuKTogdm9pZCB7XG4gIGNvbnN0IHJlYXNvbiA9IGBSb3V0ZSAke3JvdXRlfSBuZWVkcyB0byBiYWlsIG91dCBvZiBwcmVyZW5kZXJpbmcgYXQgdGhpcyBwb2ludCBiZWNhdXNlIGl0IHVzZWQgJHtleHByZXNzaW9ufS5gXG5cbiAgY29uc3QgZXJyb3IgPSBjcmVhdGVQcmVyZW5kZXJJbnRlcnJ1cHRlZEVycm9yKHJlYXNvbilcblxuICBwcmVyZW5kZXJTdG9yZS5jb250cm9sbGVyLmFib3J0KGVycm9yKVxuXG4gIGNvbnN0IGR5bmFtaWNUcmFja2luZyA9IHByZXJlbmRlclN0b3JlLmR5bmFtaWNUcmFja2luZ1xuICBpZiAoZHluYW1pY1RyYWNraW5nKSB7XG4gICAgZHluYW1pY1RyYWNraW5nLmR5bmFtaWNBY2Nlc3Nlcy5wdXNoKHtcbiAgICAgIC8vIFdoZW4gd2UgYXJlbid0IGRlYnVnZ2luZywgd2UgZG9uJ3QgbmVlZCB0byBjcmVhdGUgYW5vdGhlciBlcnJvciBmb3IgdGhlXG4gICAgICAvLyBzdGFjayB0cmFjZS5cbiAgICAgIHN0YWNrOiBkeW5hbWljVHJhY2tpbmcuaXNEZWJ1Z0R5bmFtaWNBY2Nlc3Nlc1xuICAgICAgICA/IG5ldyBFcnJvcigpLnN0YWNrXG4gICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgZXhwcmVzc2lvbixcbiAgICB9KVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhYm9ydE9uU3luY2hyb25vdXNQbGF0Zm9ybUlPQWNjZXNzKFxuICByb3V0ZTogc3RyaW5nLFxuICBleHByZXNzaW9uOiBzdHJpbmcsXG4gIGVycm9yV2l0aFN0YWNrOiBFcnJvcixcbiAgcHJlcmVuZGVyU3RvcmU6IFByZXJlbmRlclN0b3JlTW9kZXJuXG4pOiB2b2lkIHtcbiAgY29uc3QgZHluYW1pY1RyYWNraW5nID0gcHJlcmVuZGVyU3RvcmUuZHluYW1pY1RyYWNraW5nXG4gIGFib3J0T25TeW5jaHJvbm91c0R5bmFtaWNEYXRhQWNjZXNzKHJvdXRlLCBleHByZXNzaW9uLCBwcmVyZW5kZXJTdG9yZSlcbiAgLy8gSXQgaXMgaW1wb3J0YW50IHRoYXQgd2Ugc2V0IHRoaXMgdHJhY2tpbmcgdmFsdWUgYWZ0ZXIgYWJvcnRpbmcuIEFib3J0cyBhcmUgZXhlY3V0ZWRcbiAgLy8gc3luY2hyb25vdXNseSBleGNlcHQgZm9yIHRoZSBjYXNlIHdoZXJlIHlvdSBhYm9ydCBkdXJpbmcgcmVuZGVyIGl0c2VsZi4gQnkgc2V0dGluZyB0aGlzXG4gIC8vIHZhbHVlIGxhdGUgd2UgY2FuIHVzZSBpdCB0byBkZXRlcm1pbmUgaWYgYW55IG9mIHRoZSBhYm9ydGVkIHRhc2tzIGFyZSB0aGUgdGFzayB0aGF0XG4gIC8vIGNhbGxlZCB0aGUgc3luYyBJTyBleHByZXNzaW9uIGluIHRoZSBmaXJzdCBwbGFjZS5cbiAgaWYgKGR5bmFtaWNUcmFja2luZykge1xuICAgIGlmIChkeW5hbWljVHJhY2tpbmcuc3luY0R5bmFtaWNFcnJvcldpdGhTdGFjayA9PT0gbnVsbCkge1xuICAgICAgZHluYW1pY1RyYWNraW5nLnN5bmNEeW5hbWljRXJyb3JXaXRoU3RhY2sgPSBlcnJvcldpdGhTdGFja1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdHJhY2tTeW5jaHJvbm91c1BsYXRmb3JtSU9BY2Nlc3NJbkRldihcbiAgcmVxdWVzdFN0b3JlOiBSZXF1ZXN0U3RvcmVcbik6IHZvaWQge1xuICAvLyBXZSBkb24ndCBhY3R1YWxseSBoYXZlIGEgY29udHJvbGxlciB0byBhYm9ydCBidXQgd2UgZG8gdGhlIHNlbWFudGljIGVxdWl2YWxlbnQgYnlcbiAgLy8gYWR2YW5jaW5nIHRoZSByZXF1ZXN0IHN0b3JlIG91dCBvZiBwcmVyZW5kZXIgbW9kZVxuICByZXF1ZXN0U3RvcmUucHJlcmVuZGVyUGhhc2UgPSBmYWxzZVxufVxuXG4vKipcbiAqIHVzZSB0aGlzIGZ1bmN0aW9uIHdoZW4gcHJlcmVuZGVyaW5nIHdpdGggY2FjaGVDb21wb25lbnRzLiBJZiB3ZSBhcmUgZG9pbmcgYVxuICogcHJvc3BlY3RpdmUgcHJlcmVuZGVyIHdlIGRvbid0IGFjdHVhbGx5IGFib3J0IGJlY2F1c2Ugd2Ugd2FudCB0byBkaXNjb3ZlclxuICogYWxsIGNhY2hlcyBmb3IgdGhlIHNoZWxsLiBJZiB0aGlzIGlzIHRoZSBhY3R1YWwgcHJlcmVuZGVyIHdlIGRvIGFib3J0LlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gYWNjZXB0cyBhIHByZXJlbmRlclN0b3JlIGJ1dCB0aGUgY2FsbGVyIHNob3VsZCBlbnN1cmUgd2UncmVcbiAqIGFjdHVhbGx5IHJ1bm5pbmcgaW4gY2FjaGVDb21wb25lbnRzIG1vZGUuXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhYm9ydEFuZFRocm93T25TeW5jaHJvbm91c1JlcXVlc3REYXRhQWNjZXNzKFxuICByb3V0ZTogc3RyaW5nLFxuICBleHByZXNzaW9uOiBzdHJpbmcsXG4gIGVycm9yV2l0aFN0YWNrOiBFcnJvcixcbiAgcHJlcmVuZGVyU3RvcmU6IFByZXJlbmRlclN0b3JlTW9kZXJuXG4pOiBuZXZlciB7XG4gIGNvbnN0IHByZXJlbmRlclNpZ25hbCA9IHByZXJlbmRlclN0b3JlLmNvbnRyb2xsZXIuc2lnbmFsXG4gIGlmIChwcmVyZW5kZXJTaWduYWwuYWJvcnRlZCA9PT0gZmFsc2UpIHtcbiAgICAvLyBUT0RPIGl0IHdvdWxkIGJlIGJldHRlciB0byBtb3ZlIHRoaXMgYWJvcnRlZCBjaGVjayBpbnRvIHRoZSBjYWxsc2l0ZSBzbyB3ZSBjYW4gYXZvaWQgbWFraW5nXG4gICAgLy8gdGhlIGVycm9yIG9iamVjdCB3aGVuIGl0IGlzbid0IHJlbGV2YW50IHRvIHRoZSBhYm9ydGluZyBvZiB0aGUgcHJlcmVuZGVyIGhvd2V2ZXJcbiAgICAvLyBzaW5jZSB3ZSBuZWVkIHRoZSB0aHJvdyBzZW1hbnRpY3MgcmVnYXJkbGVzcyBvZiB3aGV0aGVyIHdlIGFib3J0IGl0IGlzIGVhc2llciB0byBsYW5kXG4gICAgLy8gdGhpcyB3YXkuIFNlZSBob3cgdGhpcyB3YXMgaGFuZGxlZCB3aXRoIGBhYm9ydE9uU3luY2hyb25vdXNQbGF0Zm9ybUlPQWNjZXNzYCBmb3IgYSBjbG9zZXJcbiAgICAvLyB0byBpZGVhbCBpbXBsZW1lbnRhdGlvblxuICAgIGFib3J0T25TeW5jaHJvbm91c0R5bmFtaWNEYXRhQWNjZXNzKHJvdXRlLCBleHByZXNzaW9uLCBwcmVyZW5kZXJTdG9yZSlcbiAgICAvLyBJdCBpcyBpbXBvcnRhbnQgdGhhdCB3ZSBzZXQgdGhpcyB0cmFja2luZyB2YWx1ZSBhZnRlciBhYm9ydGluZy4gQWJvcnRzIGFyZSBleGVjdXRlZFxuICAgIC8vIHN5bmNocm9ub3VzbHkgZXhjZXB0IGZvciB0aGUgY2FzZSB3aGVyZSB5b3UgYWJvcnQgZHVyaW5nIHJlbmRlciBpdHNlbGYuIEJ5IHNldHRpbmcgdGhpc1xuICAgIC8vIHZhbHVlIGxhdGUgd2UgY2FuIHVzZSBpdCB0byBkZXRlcm1pbmUgaWYgYW55IG9mIHRoZSBhYm9ydGVkIHRhc2tzIGFyZSB0aGUgdGFzayB0aGF0XG4gICAgLy8gY2FsbGVkIHRoZSBzeW5jIElPIGV4cHJlc3Npb24gaW4gdGhlIGZpcnN0IHBsYWNlLlxuICAgIGNvbnN0IGR5bmFtaWNUcmFja2luZyA9IHByZXJlbmRlclN0b3JlLmR5bmFtaWNUcmFja2luZ1xuICAgIGlmIChkeW5hbWljVHJhY2tpbmcpIHtcbiAgICAgIGlmIChkeW5hbWljVHJhY2tpbmcuc3luY0R5bmFtaWNFcnJvcldpdGhTdGFjayA9PT0gbnVsbCkge1xuICAgICAgICBkeW5hbWljVHJhY2tpbmcuc3luY0R5bmFtaWNFcnJvcldpdGhTdGFjayA9IGVycm9yV2l0aFN0YWNrXG4gICAgICB9XG4gICAgfVxuICB9XG4gIHRocm93IGNyZWF0ZVByZXJlbmRlckludGVycnVwdGVkRXJyb3IoXG4gICAgYFJvdXRlICR7cm91dGV9IG5lZWRzIHRvIGJhaWwgb3V0IG9mIHByZXJlbmRlcmluZyBhdCB0aGlzIHBvaW50IGJlY2F1c2UgaXQgdXNlZCAke2V4cHJlc3Npb259LmBcbiAgKVxufVxuXG4vKipcbiAqIFVzZSB0aGlzIGZ1bmN0aW9uIHdoZW4gZHluYW1pY2FsbHkgcHJlcmVuZGVyaW5nIHdpdGggZHluYW1pY0lPLlxuICogV2UgZG9uJ3Qgd2FudCB0byBlcnJvciwgYmVjYXVzZSBpdCdzIGJldHRlciB0byByZXR1cm4gc29tZXRoaW5nXG4gKiAoYW5kIHdlJ3ZlIGFscmVhZHkgYWJvcnRlZCB0aGUgcmVuZGVyIGF0IHRoZSBwb2ludCB3aGVyZSB0aGUgc3luYyBkeW5hbWljIGVycm9yIG9jY3VyZWQpLFxuICogYnV0IHdlIHNob3VsZCBsb2cgYW4gZXJyb3Igc2VydmVyLXNpZGUuXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdhcm5PblN5bmNEeW5hbWljRXJyb3IoZHluYW1pY1RyYWNraW5nOiBEeW5hbWljVHJhY2tpbmdTdGF0ZSkge1xuICBpZiAoZHluYW1pY1RyYWNraW5nLnN5bmNEeW5hbWljRXJyb3JXaXRoU3RhY2spIHtcbiAgICAvLyB0aGUgc2VydmVyIGRpZCBzb21ldGhpbmcgc3luYyBkeW5hbWljLCBsaWtlbHlcbiAgICAvLyBsZWFkaW5nIHRvIGFuIGVhcmx5IHRlcm1pbmF0aW9uIG9mIHRoZSBwcmVyZW5kZXIuXG4gICAgY29uc29sZS5lcnJvcihkeW5hbWljVHJhY2tpbmcuc3luY0R5bmFtaWNFcnJvcldpdGhTdGFjaylcbiAgfVxufVxuXG4vLyBGb3Igbm93IHRoZXNlIGltcGxlbWVudGF0aW9ucyBhcmUgdGhlIHNhbWUgc28gd2UganVzdCByZWV4cG9ydFxuZXhwb3J0IGNvbnN0IHRyYWNrU3luY2hyb25vdXNSZXF1ZXN0RGF0YUFjY2Vzc0luRGV2ID1cbiAgdHJhY2tTeW5jaHJvbm91c1BsYXRmb3JtSU9BY2Nlc3NJbkRldlxuXG4vKipcbiAqIFRoaXMgY29tcG9uZW50IHdpbGwgY2FsbCBgUmVhY3QucG9zdHBvbmVgIHRoYXQgdGhyb3dzIHRoZSBwb3N0cG9uZWQgZXJyb3IuXG4gKi9cbnR5cGUgUG9zdHBvbmVQcm9wcyA9IHtcbiAgcmVhc29uOiBzdHJpbmdcbiAgcm91dGU6IHN0cmluZ1xufVxuZXhwb3J0IGZ1bmN0aW9uIFBvc3Rwb25lKHsgcmVhc29uLCByb3V0ZSB9OiBQb3N0cG9uZVByb3BzKTogbmV2ZXIge1xuICBjb25zdCBwcmVyZW5kZXJTdG9yZSA9IHdvcmtVbml0QXN5bmNTdG9yYWdlLmdldFN0b3JlKClcbiAgY29uc3QgZHluYW1pY1RyYWNraW5nID1cbiAgICBwcmVyZW5kZXJTdG9yZSAmJiBwcmVyZW5kZXJTdG9yZS50eXBlID09PSAncHJlcmVuZGVyLXBwcidcbiAgICAgID8gcHJlcmVuZGVyU3RvcmUuZHluYW1pY1RyYWNraW5nXG4gICAgICA6IG51bGxcbiAgcG9zdHBvbmVXaXRoVHJhY2tpbmcocm91dGUsIHJlYXNvbiwgZHluYW1pY1RyYWNraW5nKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcG9zdHBvbmVXaXRoVHJhY2tpbmcoXG4gIHJvdXRlOiBzdHJpbmcsXG4gIGV4cHJlc3Npb246IHN0cmluZyxcbiAgZHluYW1pY1RyYWNraW5nOiBudWxsIHwgRHluYW1pY1RyYWNraW5nU3RhdGVcbik6IG5ldmVyIHtcbiAgYXNzZXJ0UG9zdHBvbmUoKVxuICBpZiAoZHluYW1pY1RyYWNraW5nKSB7XG4gICAgZHluYW1pY1RyYWNraW5nLmR5bmFtaWNBY2Nlc3Nlcy5wdXNoKHtcbiAgICAgIC8vIFdoZW4gd2UgYXJlbid0IGRlYnVnZ2luZywgd2UgZG9uJ3QgbmVlZCB0byBjcmVhdGUgYW5vdGhlciBlcnJvciBmb3IgdGhlXG4gICAgICAvLyBzdGFjayB0cmFjZS5cbiAgICAgIHN0YWNrOiBkeW5hbWljVHJhY2tpbmcuaXNEZWJ1Z0R5bmFtaWNBY2Nlc3Nlc1xuICAgICAgICA/IG5ldyBFcnJvcigpLnN0YWNrXG4gICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgZXhwcmVzc2lvbixcbiAgICB9KVxuICB9XG5cbiAgUmVhY3QudW5zdGFibGVfcG9zdHBvbmUoY3JlYXRlUG9zdHBvbmVSZWFzb24ocm91dGUsIGV4cHJlc3Npb24pKVxufVxuXG5mdW5jdGlvbiBjcmVhdGVQb3N0cG9uZVJlYXNvbihyb3V0ZTogc3RyaW5nLCBleHByZXNzaW9uOiBzdHJpbmcpIHtcbiAgcmV0dXJuIChcbiAgICBgUm91dGUgJHtyb3V0ZX0gbmVlZHMgdG8gYmFpbCBvdXQgb2YgcHJlcmVuZGVyaW5nIGF0IHRoaXMgcG9pbnQgYmVjYXVzZSBpdCB1c2VkICR7ZXhwcmVzc2lvbn0uIGAgK1xuICAgIGBSZWFjdCB0aHJvd3MgdGhpcyBzcGVjaWFsIG9iamVjdCB0byBpbmRpY2F0ZSB3aGVyZS4gSXQgc2hvdWxkIG5vdCBiZSBjYXVnaHQgYnkgYCArXG4gICAgYHlvdXIgb3duIHRyeS9jYXRjaC4gTGVhcm4gbW9yZTogaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvbWVzc2FnZXMvcHByLWNhdWdodC1lcnJvcmBcbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNEeW5hbWljUG9zdHBvbmUoZXJyOiB1bmtub3duKSB7XG4gIGlmIChcbiAgICB0eXBlb2YgZXJyID09PSAnb2JqZWN0JyAmJlxuICAgIGVyciAhPT0gbnVsbCAmJlxuICAgIHR5cGVvZiAoZXJyIGFzIGFueSkubWVzc2FnZSA9PT0gJ3N0cmluZydcbiAgKSB7XG4gICAgcmV0dXJuIGlzRHluYW1pY1Bvc3Rwb25lUmVhc29uKChlcnIgYXMgYW55KS5tZXNzYWdlKVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG5mdW5jdGlvbiBpc0R5bmFtaWNQb3N0cG9uZVJlYXNvbihyZWFzb246IHN0cmluZykge1xuICByZXR1cm4gKFxuICAgIHJlYXNvbi5pbmNsdWRlcyhcbiAgICAgICduZWVkcyB0byBiYWlsIG91dCBvZiBwcmVyZW5kZXJpbmcgYXQgdGhpcyBwb2ludCBiZWNhdXNlIGl0IHVzZWQnXG4gICAgKSAmJlxuICAgIHJlYXNvbi5pbmNsdWRlcyhcbiAgICAgICdMZWFybiBtb3JlOiBodHRwczovL25leHRqcy5vcmcvZG9jcy9tZXNzYWdlcy9wcHItY2F1Z2h0LWVycm9yJ1xuICAgIClcbiAgKVxufVxuXG5pZiAoaXNEeW5hbWljUG9zdHBvbmVSZWFzb24oY3JlYXRlUG9zdHBvbmVSZWFzb24oJyUlJScsICdeXl4nKSkgPT09IGZhbHNlKSB7XG4gIHRocm93IG5ldyBFcnJvcihcbiAgICAnSW52YXJpYW50OiBpc0R5bmFtaWNQb3N0cG9uZSBtaXNpZGVudGlmaWVkIGEgcG9zdHBvbmUgcmVhc29uLiBUaGlzIGlzIGEgYnVnIGluIE5leHQuanMnXG4gIClcbn1cblxuY29uc3QgTkVYVF9QUkVSRU5ERVJfSU5URVJSVVBURUQgPSAnTkVYVF9QUkVSRU5ERVJfSU5URVJSVVBURUQnXG5cbmZ1bmN0aW9uIGNyZWF0ZVByZXJlbmRlckludGVycnVwdGVkRXJyb3IobWVzc2FnZTogc3RyaW5nKTogRXJyb3Ige1xuICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihtZXNzYWdlKVxuICA7KGVycm9yIGFzIGFueSkuZGlnZXN0ID0gTkVYVF9QUkVSRU5ERVJfSU5URVJSVVBURURcbiAgcmV0dXJuIGVycm9yXG59XG5cbnR5cGUgRGlnZXN0RXJyb3IgPSBFcnJvciAmIHtcbiAgZGlnZXN0OiBzdHJpbmdcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzUHJlcmVuZGVySW50ZXJydXB0ZWRFcnJvcihcbiAgZXJyb3I6IHVua25vd25cbik6IGVycm9yIGlzIERpZ2VzdEVycm9yIHtcbiAgcmV0dXJuIChcbiAgICB0eXBlb2YgZXJyb3IgPT09ICdvYmplY3QnICYmXG4gICAgZXJyb3IgIT09IG51bGwgJiZcbiAgICAoZXJyb3IgYXMgYW55KS5kaWdlc3QgPT09IE5FWFRfUFJFUkVOREVSX0lOVEVSUlVQVEVEICYmXG4gICAgJ25hbWUnIGluIGVycm9yICYmXG4gICAgJ21lc3NhZ2UnIGluIGVycm9yICYmXG4gICAgZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhY2Nlc3NlZER5bmFtaWNEYXRhKFxuICBkeW5hbWljQWNjZXNzZXM6IEFycmF5PER5bmFtaWNBY2Nlc3M+XG4pOiBib29sZWFuIHtcbiAgcmV0dXJuIGR5bmFtaWNBY2Nlc3Nlcy5sZW5ndGggPiAwXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb25zdW1lRHluYW1pY0FjY2VzcyhcbiAgc2VydmVyRHluYW1pYzogRHluYW1pY1RyYWNraW5nU3RhdGUsXG4gIGNsaWVudER5bmFtaWM6IER5bmFtaWNUcmFja2luZ1N0YXRlXG4pOiBEeW5hbWljVHJhY2tpbmdTdGF0ZVsnZHluYW1pY0FjY2Vzc2VzJ10ge1xuICAvLyBXZSBtdXRhdGUgYmVjYXVzZSB3ZSBvbmx5IGNhbGwgdGhpcyBvbmNlIHdlIGFyZSBubyBsb25nZXIgd3JpdGluZ1xuICAvLyB0byB0aGUgZHluYW1pY1RyYWNraW5nU3RhdGUgYW5kIGl0J3MgbW9yZSBlZmZpY2llbnQgdGhhbiBjcmVhdGluZyBhIG5ld1xuICAvLyBhcnJheS5cbiAgc2VydmVyRHluYW1pYy5keW5hbWljQWNjZXNzZXMucHVzaCguLi5jbGllbnREeW5hbWljLmR5bmFtaWNBY2Nlc3NlcylcbiAgcmV0dXJuIHNlcnZlckR5bmFtaWMuZHluYW1pY0FjY2Vzc2VzXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXREeW5hbWljQVBJQWNjZXNzZXMoXG4gIGR5bmFtaWNBY2Nlc3NlczogQXJyYXk8RHluYW1pY0FjY2Vzcz5cbik6IHN0cmluZ1tdIHtcbiAgcmV0dXJuIGR5bmFtaWNBY2Nlc3Nlc1xuICAgIC5maWx0ZXIoXG4gICAgICAoYWNjZXNzKTogYWNjZXNzIGlzIFJlcXVpcmVkPER5bmFtaWNBY2Nlc3M+ID0+XG4gICAgICAgIHR5cGVvZiBhY2Nlc3Muc3RhY2sgPT09ICdzdHJpbmcnICYmIGFjY2Vzcy5zdGFjay5sZW5ndGggPiAwXG4gICAgKVxuICAgIC5tYXAoKHsgZXhwcmVzc2lvbiwgc3RhY2sgfSkgPT4ge1xuICAgICAgc3RhY2sgPSBzdGFja1xuICAgICAgICAuc3BsaXQoJ1xcbicpXG4gICAgICAgIC8vIFJlbW92ZSB0aGUgXCJFcnJvcjogXCIgcHJlZml4IGZyb20gdGhlIGZpcnN0IGxpbmUgb2YgdGhlIHN0YWNrIHRyYWNlIGFzXG4gICAgICAgIC8vIHdlbGwgYXMgdGhlIGZpcnN0IDQgbGluZXMgb2YgdGhlIHN0YWNrIHRyYWNlIHdoaWNoIGlzIHRoZSBkaXN0YW5jZVxuICAgICAgICAvLyBmcm9tIHRoZSB1c2VyIGNvZGUgYW5kIHRoZSBgbmV3IEVycm9yKCkuc3RhY2tgIGNhbGwuXG4gICAgICAgIC5zbGljZSg0KVxuICAgICAgICAuZmlsdGVyKChsaW5lKSA9PiB7XG4gICAgICAgICAgLy8gRXhjbHVkZSBOZXh0LmpzIGludGVybmFscyBmcm9tIHRoZSBzdGFjayB0cmFjZS5cbiAgICAgICAgICBpZiAobGluZS5pbmNsdWRlcygnbm9kZV9tb2R1bGVzL25leHQvJykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEV4Y2x1ZGUgYW5vbnltb3VzIGZ1bmN0aW9ucyBmcm9tIHRoZSBzdGFjayB0cmFjZS5cbiAgICAgICAgICBpZiAobGluZS5pbmNsdWRlcygnICg8YW5vbnltb3VzPiknKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gRXhjbHVkZSBOb2RlLmpzIGludGVybmFscyBmcm9tIHRoZSBzdGFjayB0cmFjZS5cbiAgICAgICAgICBpZiAobGluZS5pbmNsdWRlcygnIChub2RlOicpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9KVxuICAgICAgICAuam9pbignXFxuJylcbiAgICAgIHJldHVybiBgRHluYW1pYyBBUEkgVXNhZ2UgRGVidWcgLSAke2V4cHJlc3Npb259OlxcbiR7c3RhY2t9YFxuICAgIH0pXG59XG5cbmZ1bmN0aW9uIGFzc2VydFBvc3Rwb25lKCkge1xuICBpZiAoIWhhc1Bvc3Rwb25lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYEludmFyaWFudDogUmVhY3QudW5zdGFibGVfcG9zdHBvbmUgaXMgbm90IGRlZmluZWQuIFRoaXMgc3VnZ2VzdHMgdGhlIHdyb25nIHZlcnNpb24gb2YgUmVhY3Qgd2FzIGxvYWRlZC4gVGhpcyBpcyBhIGJ1ZyBpbiBOZXh0LmpzYFxuICAgIClcbiAgfVxufVxuXG4vKipcbiAqIFRoaXMgaXMgYSBiaXQgb2YgYSBoYWNrIHRvIGFsbG93IHVzIHRvIGFib3J0IGEgcmVuZGVyIHVzaW5nIGEgUG9zdHBvbmUgaW5zdGFuY2UgaW5zdGVhZCBvZiBhbiBFcnJvciB3aGljaCBjaGFuZ2VzIFJlYWN0J3NcbiAqIGFib3J0IHNlbWFudGljcyBzbGlnaHRseS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVJlbmRlckluQnJvd3NlckFib3J0U2lnbmFsKCk6IEFib3J0U2lnbmFsIHtcbiAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKVxuICBjb250cm9sbGVyLmFib3J0KG5ldyBCYWlsb3V0VG9DU1JFcnJvcignUmVuZGVyIGluIEJyb3dzZXInKSlcbiAgcmV0dXJuIGNvbnRyb2xsZXIuc2lnbmFsXG59XG5cbi8qKlxuICogSW4gYSBwcmVyZW5kZXIsIHdlIG1heSBlbmQgdXAgd2l0aCBoYW5naW5nIFByb21pc2VzIGFzIGlucHV0cyBkdWUgdGhlbVxuICogc3RhbGxpbmcgb24gY29ubmVjdGlvbigpIG9yIGJlY2F1c2UgdGhleSdyZSBsb2FkaW5nIGR5bmFtaWMgZGF0YS4gSW4gdGhhdFxuICogY2FzZSB3ZSBuZWVkIHRvIGFib3J0IHRoZSBlbmNvZGluZyBvZiBhcmd1bWVudHMgc2luY2UgdGhleSdsbCBuZXZlciBjb21wbGV0ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUhhbmdpbmdJbnB1dEFib3J0U2lnbmFsKFxuICB3b3JrVW5pdFN0b3JlOiBXb3JrVW5pdFN0b3JlXG4pOiBBYm9ydFNpZ25hbCB8IHVuZGVmaW5lZCB7XG4gIHN3aXRjaCAod29ya1VuaXRTdG9yZS50eXBlKSB7XG4gICAgY2FzZSAncHJlcmVuZGVyJzpcbiAgICBjYXNlICdwcmVyZW5kZXItcnVudGltZSc6XG4gICAgICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpXG5cbiAgICAgIGlmICh3b3JrVW5pdFN0b3JlLmNhY2hlU2lnbmFsKSB7XG4gICAgICAgIC8vIElmIHdlIGhhdmUgYSBjYWNoZVNpZ25hbCBpdCBtZWFucyB3ZSdyZSBpbiBhIHByb3NwZWN0aXZlIHJlbmRlci4gSWZcbiAgICAgICAgLy8gdGhlIGlucHV0IHdlJ3JlIHdhaXRpbmcgb24gaXMgY29taW5nIGZyb20gYW5vdGhlciBjYWNoZSwgd2UgZG8gd2FudFxuICAgICAgICAvLyB0byB3YWl0IGZvciBpdCBzbyB0aGF0IHdlIGNhbiByZXNvbHZlIHRoaXMgY2FjaGUgZW50cnkgdG9vLlxuICAgICAgICB3b3JrVW5pdFN0b3JlLmNhY2hlU2lnbmFsLmlucHV0UmVhZHkoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICBjb250cm9sbGVyLmFib3J0KClcbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE90aGVyd2lzZSB3ZSdyZSBpbiB0aGUgZmluYWwgcmVuZGVyIGFuZCB3ZSBzaG91bGQgYWxyZWFkeSBoYXZlIGFsbFxuICAgICAgICAvLyBvdXIgY2FjaGVzIGZpbGxlZC5cbiAgICAgICAgLy8gSWYgdGhlIHByZXJlbmRlciB1c2VzIHN0YWdlcywgd2UgaGF2ZSB3YWl0IHVudGlsIHRoZSBydW50aW1lIHN0YWdlLFxuICAgICAgICAvLyBhdCB3aGljaCBwb2ludCBhbGwgcnVudGltZSBpbnB1dHMgd2lsbCBiZSByZXNvbHZlZC5cbiAgICAgICAgLy8gKG90aGVyd2lzZSwgYSBydW50aW1lIHByZXJlbmRlciBtaWdodCBjb25zaWRlciBgY29va2llcygpYCBoYW5naW5nXG4gICAgICAgIC8vICBldmVuIHRob3VnaCB0aGV5J2QgcmVzb2x2ZSBpbiB0aGUgbmV4dCB0YXNrLilcbiAgICAgICAgLy9cbiAgICAgICAgLy8gV2UgbWlnaHQgc3RpbGwgYmUgd2FpdGluZyBvbiBzb21lIG1pY3JvdGFza3Mgc28gd2VcbiAgICAgICAgLy8gd2FpdCBvbmUgdGljayBiZWZvcmUgZ2l2aW5nIHVwLiBXaGVuIHdlIGdpdmUgdXAsIHdlIHN0aWxsIHdhbnQgdG9cbiAgICAgICAgLy8gcmVuZGVyIHRoZSBjb250ZW50IG9mIHRoaXMgY2FjaGUgYXMgZGVlcGx5IGFzIHdlIGNhbiBzbyB0aGF0IHdlIGNhblxuICAgICAgICAvLyBzdXNwZW5kIGFzIGRlZXBseSBhcyBwb3NzaWJsZSBpbiB0aGUgdHJlZSBvciBub3QgYXQgYWxsIGlmIHdlIGRvbid0XG4gICAgICAgIC8vIGVuZCB1cCB3YWl0aW5nIGZvciB0aGUgaW5wdXQuXG4gICAgICAgIGNvbnN0IHJ1bnRpbWVTdGFnZVByb21pc2UgPSBnZXRSdW50aW1lU3RhZ2VQcm9taXNlKHdvcmtVbml0U3RvcmUpXG4gICAgICAgIGlmIChydW50aW1lU3RhZ2VQcm9taXNlKSB7XG4gICAgICAgICAgcnVudGltZVN0YWdlUHJvbWlzZS50aGVuKCgpID0+XG4gICAgICAgICAgICBzY2hlZHVsZU9uTmV4dFRpY2soKCkgPT4gY29udHJvbGxlci5hYm9ydCgpKVxuICAgICAgICAgIClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzY2hlZHVsZU9uTmV4dFRpY2soKCkgPT4gY29udHJvbGxlci5hYm9ydCgpKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250cm9sbGVyLnNpZ25hbFxuICAgIGNhc2UgJ3ByZXJlbmRlci1jbGllbnQnOlxuICAgIGNhc2UgJ3ByZXJlbmRlci1wcHInOlxuICAgIGNhc2UgJ3ByZXJlbmRlci1sZWdhY3knOlxuICAgIGNhc2UgJ3JlcXVlc3QnOlxuICAgIGNhc2UgJ2NhY2hlJzpcbiAgICBjYXNlICdwcml2YXRlLWNhY2hlJzpcbiAgICBjYXNlICd1bnN0YWJsZS1jYWNoZSc6XG4gICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgZGVmYXVsdDpcbiAgICAgIHdvcmtVbml0U3RvcmUgc2F0aXNmaWVzIG5ldmVyXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFubm90YXRlRHluYW1pY0FjY2VzcyhcbiAgZXhwcmVzc2lvbjogc3RyaW5nLFxuICBwcmVyZW5kZXJTdG9yZTogUHJlcmVuZGVyU3RvcmVNb2Rlcm5cbikge1xuICBjb25zdCBkeW5hbWljVHJhY2tpbmcgPSBwcmVyZW5kZXJTdG9yZS5keW5hbWljVHJhY2tpbmdcbiAgaWYgKGR5bmFtaWNUcmFja2luZykge1xuICAgIGR5bmFtaWNUcmFja2luZy5keW5hbWljQWNjZXNzZXMucHVzaCh7XG4gICAgICBzdGFjazogZHluYW1pY1RyYWNraW5nLmlzRGVidWdEeW5hbWljQWNjZXNzZXNcbiAgICAgICAgPyBuZXcgRXJyb3IoKS5zdGFja1xuICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgIGV4cHJlc3Npb24sXG4gICAgfSlcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlRHluYW1pY1JvdXRlUGFyYW1zKGV4cHJlc3Npb246IHN0cmluZykge1xuICBjb25zdCB3b3JrU3RvcmUgPSB3b3JrQXN5bmNTdG9yYWdlLmdldFN0b3JlKClcbiAgY29uc3Qgd29ya1VuaXRTdG9yZSA9IHdvcmtVbml0QXN5bmNTdG9yYWdlLmdldFN0b3JlKClcbiAgaWYgKHdvcmtTdG9yZSAmJiB3b3JrVW5pdFN0b3JlKSB7XG4gICAgc3dpdGNoICh3b3JrVW5pdFN0b3JlLnR5cGUpIHtcbiAgICAgIGNhc2UgJ3ByZXJlbmRlci1jbGllbnQnOlxuICAgICAgY2FzZSAncHJlcmVuZGVyJzoge1xuICAgICAgICBjb25zdCBmYWxsYmFja1BhcmFtcyA9IHdvcmtVbml0U3RvcmUuZmFsbGJhY2tSb3V0ZVBhcmFtc1xuICAgICAgICBpZiAoZmFsbGJhY2tQYXJhbXMgJiYgZmFsbGJhY2tQYXJhbXMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAvLyBXZSBhcmUgaW4gYSBwcmVyZW5kZXIgd2l0aCBjYWNoZUNvbXBvbmVudHMgc2VtYW50aWNzLiBXZSBhcmUgZ29pbmcgdG9cbiAgICAgICAgICAvLyBoYW5nIGhlcmUgYW5kIG5ldmVyIHJlc29sdmUuIFRoaXMgd2lsbCBjYXVzZSB0aGUgY3VycmVudGx5XG4gICAgICAgICAgLy8gcmVuZGVyaW5nIGNvbXBvbmVudCB0byBlZmZlY3RpdmVseSBiZSBhIGR5bmFtaWMgaG9sZS5cbiAgICAgICAgICBSZWFjdC51c2UoXG4gICAgICAgICAgICBtYWtlSGFuZ2luZ1Byb21pc2UoXG4gICAgICAgICAgICAgIHdvcmtVbml0U3RvcmUucmVuZGVyU2lnbmFsLFxuICAgICAgICAgICAgICB3b3JrU3RvcmUucm91dGUsXG4gICAgICAgICAgICAgIGV4cHJlc3Npb25cbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3ByZXJlbmRlci1wcHInOiB7XG4gICAgICAgIGNvbnN0IGZhbGxiYWNrUGFyYW1zID0gd29ya1VuaXRTdG9yZS5mYWxsYmFja1JvdXRlUGFyYW1zXG4gICAgICAgIGlmIChmYWxsYmFja1BhcmFtcyAmJiBmYWxsYmFja1BhcmFtcy5zaXplID4gMCkge1xuICAgICAgICAgIHJldHVybiBwb3N0cG9uZVdpdGhUcmFja2luZyhcbiAgICAgICAgICAgIHdvcmtTdG9yZS5yb3V0ZSxcbiAgICAgICAgICAgIGV4cHJlc3Npb24sXG4gICAgICAgICAgICB3b3JrVW5pdFN0b3JlLmR5bmFtaWNUcmFja2luZ1xuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgY2FzZSAncHJlcmVuZGVyLXJ1bnRpbWUnOlxuICAgICAgICB0aHJvdyBuZXcgSW52YXJpYW50RXJyb3IoXG4gICAgICAgICAgYFxcYCR7ZXhwcmVzc2lvbn1cXGAgd2FzIGNhbGxlZCBkdXJpbmcgYSBydW50aW1lIHByZXJlbmRlci4gTmV4dC5qcyBzaG91bGQgYmUgcHJldmVudGluZyAke2V4cHJlc3Npb259IGZyb20gYmVpbmcgaW5jbHVkZWQgaW4gc2VydmVyIGNvbXBvbmVudHMgc3RhdGljYWxseSwgYnV0IGRpZCBub3QgaW4gdGhpcyBjYXNlLmBcbiAgICAgICAgKVxuICAgICAgY2FzZSAnY2FjaGUnOlxuICAgICAgY2FzZSAncHJpdmF0ZS1jYWNoZSc6XG4gICAgICAgIHRocm93IG5ldyBJbnZhcmlhbnRFcnJvcihcbiAgICAgICAgICBgXFxgJHtleHByZXNzaW9ufVxcYCB3YXMgY2FsbGVkIGluc2lkZSBhIGNhY2hlIHNjb3BlLiBOZXh0LmpzIHNob3VsZCBiZSBwcmV2ZW50aW5nICR7ZXhwcmVzc2lvbn0gZnJvbSBiZWluZyBpbmNsdWRlZCBpbiBzZXJ2ZXIgY29tcG9uZW50cyBzdGF0aWNhbGx5LCBidXQgZGlkIG5vdCBpbiB0aGlzIGNhc2UuYFxuICAgICAgICApXG4gICAgICBjYXNlICdwcmVyZW5kZXItbGVnYWN5JzpcbiAgICAgIGNhc2UgJ3JlcXVlc3QnOlxuICAgICAgY2FzZSAndW5zdGFibGUtY2FjaGUnOlxuICAgICAgICBicmVha1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgd29ya1VuaXRTdG9yZSBzYXRpc2ZpZXMgbmV2ZXJcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgaGFzU3VzcGVuc2VSZWdleCA9IC9cXG5cXHMrYXQgU3VzcGVuc2UgXFwoPGFub255bW91cz5cXCkvXG5cbi8vIENvbW1vbiBpbXBsaWNpdCBib2R5IHRhZ3MgdGhhdCBSZWFjdCB3aWxsIHRyZWF0IGFzIGJvZHkgd2hlbiBwbGFjZWQgZGlyZWN0bHkgaW4gaHRtbFxuY29uc3QgYm9keUFuZEltcGxpY2l0VGFncyA9XG4gICdib2R5fGRpdnxtYWlufHNlY3Rpb258YXJ0aWNsZXxhc2lkZXxoZWFkZXJ8Zm9vdGVyfG5hdnxmb3JtfHB8c3BhbnxoMXxoMnxoM3xoNHxoNXxoNidcblxuLy8gRGV0ZWN0cyB3aGVuIFJvb3RMYXlvdXRCb3VuZGFyeSAob3VyIGZyYW1ld29yayBtYXJrZXIgY29tcG9uZW50KSBhcHBlYXJzXG4vLyBhZnRlciBTdXNwZW5zZSBpbiB0aGUgY29tcG9uZW50IHN0YWNrLCBpbmRpY2F0aW5nIHRoZSByb290IGxheW91dCBpcyB3cmFwcGVkXG4vLyB3aXRoaW4gYSBTdXNwZW5zZSBib3VuZGFyeS4gRW5zdXJlcyBubyBib2R5L2h0bWwvaW1wbGljaXQtYm9keSBjb21wb25lbnRzIGFyZSBpbiBiZXR3ZWVuLlxuLy9cbi8vIEV4YW1wbGUgbWF0Y2hlczpcbi8vICAgYXQgU3VzcGVuc2UgKDxhbm9ueW1vdXM+KVxuLy8gICBhdCBfX25leHRfcm9vdF9sYXlvdXRfYm91bmRhcnlfXyAoPGFub255bW91cz4pXG4vL1xuLy8gT3Igd2l0aCBvdGhlciBjb21wb25lbnRzIGluIGJldHdlZW4gKGJ1dCBub3QgYm9keS9odG1sL2ltcGxpY2l0LWJvZHkpOlxuLy8gICBhdCBTdXNwZW5zZSAoPGFub255bW91cz4pXG4vLyAgIGF0IFNvbWVDb21wb25lbnQgKDxhbm9ueW1vdXM+KVxuLy8gICBhdCBfX25leHRfcm9vdF9sYXlvdXRfYm91bmRhcnlfXyAoPGFub255bW91cz4pXG5jb25zdCBoYXNTdXNwZW5zZUJlZm9yZVJvb3RMYXlvdXRXaXRob3V0Qm9keU9ySW1wbGljaXRCb2R5UmVnZXggPSBuZXcgUmVnRXhwKFxuICBgXFxcXG5cXFxccythdCBTdXNwZW5zZSBcXFxcKDxhbm9ueW1vdXM+XFxcXCkoPzooPyFcXFxcblxcXFxzK2F0ICg/OiR7Ym9keUFuZEltcGxpY2l0VGFnc30pIFxcXFwoPGFub255bW91cz5cXFxcKSlbXFxcXHNcXFxcU10pKj9cXFxcblxcXFxzK2F0ICR7Uk9PVF9MQVlPVVRfQk9VTkRBUllfTkFNRX0gXFxcXChbXlxcXFxuXSpcXFxcKWBcbilcblxuY29uc3QgaGFzTWV0YWRhdGFSZWdleCA9IG5ldyBSZWdFeHAoXG4gIGBcXFxcblxcXFxzK2F0ICR7TUVUQURBVEFfQk9VTkRBUllfTkFNRX1bXFxcXG5cXFxcc11gXG4pXG5jb25zdCBoYXNWaWV3cG9ydFJlZ2V4ID0gbmV3IFJlZ0V4cChcbiAgYFxcXFxuXFxcXHMrYXQgJHtWSUVXUE9SVF9CT1VOREFSWV9OQU1FfVtcXFxcblxcXFxzXWBcbilcbmNvbnN0IGhhc091dGxldFJlZ2V4ID0gbmV3IFJlZ0V4cChgXFxcXG5cXFxccythdCAke09VVExFVF9CT1VOREFSWV9OQU1FfVtcXFxcblxcXFxzXWApXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFja0FsbG93ZWREeW5hbWljQWNjZXNzKFxuICB3b3JrU3RvcmU6IFdvcmtTdG9yZSxcbiAgY29tcG9uZW50U3RhY2s6IHN0cmluZyxcbiAgZHluYW1pY1ZhbGlkYXRpb246IER5bmFtaWNWYWxpZGF0aW9uU3RhdGUsXG4gIGNsaWVudER5bmFtaWM6IER5bmFtaWNUcmFja2luZ1N0YXRlXG4pIHtcbiAgaWYgKGhhc091dGxldFJlZ2V4LnRlc3QoY29tcG9uZW50U3RhY2spKSB7XG4gICAgLy8gV2UgZG9uJ3QgbmVlZCB0byB0cmFjayB0aGF0IHRoaXMgaXMgZHluYW1pYy4gSXQgaXMgb25seSBzbyB3aGVuIHNvbWV0aGluZyBlbHNlIGlzIGFsc28gZHluYW1pYy5cbiAgICByZXR1cm5cbiAgfSBlbHNlIGlmIChoYXNNZXRhZGF0YVJlZ2V4LnRlc3QoY29tcG9uZW50U3RhY2spKSB7XG4gICAgZHluYW1pY1ZhbGlkYXRpb24uaGFzRHluYW1pY01ldGFkYXRhID0gdHJ1ZVxuICAgIHJldHVyblxuICB9IGVsc2UgaWYgKGhhc1ZpZXdwb3J0UmVnZXgudGVzdChjb21wb25lbnRTdGFjaykpIHtcbiAgICBkeW5hbWljVmFsaWRhdGlvbi5oYXNEeW5hbWljVmlld3BvcnQgPSB0cnVlXG4gICAgcmV0dXJuXG4gIH0gZWxzZSBpZiAoXG4gICAgaGFzU3VzcGVuc2VCZWZvcmVSb290TGF5b3V0V2l0aG91dEJvZHlPckltcGxpY2l0Qm9keVJlZ2V4LnRlc3QoXG4gICAgICBjb21wb25lbnRTdGFja1xuICAgIClcbiAgKSB7XG4gICAgLy8gRm9yIFN1c3BlbnNlIHdpdGhpbiBib2R5LCB0aGUgcHJlbHVkZSB3b3VsZG4ndCBiZSBlbXB0eSBzbyBpdCB3b3VsZG4ndCB2aW9sYXRlIHRoZSBlbXB0eSBzdGF0aWMgc2hlbGxzIHJ1bGUuXG4gICAgLy8gQnV0IGlmIHlvdSBoYXZlIFN1c3BlbnNlIGFib3ZlIGJvZHksIHRoZSBwcmVsdWRlIGlzIGVtcHR5IGJ1dCB3ZSBhbGxvdyB0aGF0IGJlY2F1c2UgaGF2aW5nIFN1c3BlbnNlXG4gICAgLy8gaXMgYW4gZXhwbGljaXQgc2lnbmFsIGZyb20gdGhlIHVzZXIgdGhhdCB0aGV5IGFja25vd2xlZGdlIHRoZSBlbXB0eSBzaGVsbCBhbmQgd2FudCBkeW5hbWljIHJlbmRlcmluZy5cbiAgICBkeW5hbWljVmFsaWRhdGlvbi5oYXNBbGxvd2VkRHluYW1pYyA9IHRydWVcbiAgICBkeW5hbWljVmFsaWRhdGlvbi5oYXNTdXNwZW5zZUFib3ZlQm9keSA9IHRydWVcbiAgICByZXR1cm5cbiAgfSBlbHNlIGlmIChoYXNTdXNwZW5zZVJlZ2V4LnRlc3QoY29tcG9uZW50U3RhY2spKSB7XG4gICAgLy8gdGhpcyBlcnJvciBoYWQgYSBTdXNwZW5zZSBib3VuZGFyeSBhYm92ZSBpdCBzbyB3ZSBkb24ndCBuZWVkIHRvIHJlcG9ydCBpdCBhcyBhIHNvdXJjZVxuICAgIC8vIG9mIGRpc2FsbG93ZWRcbiAgICBkeW5hbWljVmFsaWRhdGlvbi5oYXNBbGxvd2VkRHluYW1pYyA9IHRydWVcbiAgICByZXR1cm5cbiAgfSBlbHNlIGlmIChjbGllbnREeW5hbWljLnN5bmNEeW5hbWljRXJyb3JXaXRoU3RhY2spIHtcbiAgICAvLyBUaGlzIHRhc2sgd2FzIHRoZSB0YXNrIHRoYXQgY2FsbGVkIHRoZSBzeW5jIGVycm9yLlxuICAgIGR5bmFtaWNWYWxpZGF0aW9uLmR5bmFtaWNFcnJvcnMucHVzaChcbiAgICAgIGNsaWVudER5bmFtaWMuc3luY0R5bmFtaWNFcnJvcldpdGhTdGFja1xuICAgIClcbiAgICByZXR1cm5cbiAgfSBlbHNlIHtcbiAgICBjb25zdCBtZXNzYWdlID0gYFJvdXRlIFwiJHt3b3JrU3RvcmUucm91dGV9XCI6IEEgY29tcG9uZW50IGFjY2Vzc2VkIGRhdGEsIGhlYWRlcnMsIHBhcmFtcywgc2VhcmNoUGFyYW1zLCBvciBhIHNob3J0LWxpdmVkIGNhY2hlIHdpdGhvdXQgYSBTdXNwZW5zZSBib3VuZGFyeSBub3IgYSBcInVzZSBjYWNoZVwiIGFib3ZlIGl0LiBTZWUgbW9yZSBpbmZvOiBodHRwczovL25leHRqcy5vcmcvZG9jcy9tZXNzYWdlcy9uZXh0LXByZXJlbmRlci1taXNzaW5nLXN1c3BlbnNlYFxuICAgIGNvbnN0IGVycm9yID0gY3JlYXRlRXJyb3JXaXRoQ29tcG9uZW50T3JPd25lclN0YWNrKG1lc3NhZ2UsIGNvbXBvbmVudFN0YWNrKVxuICAgIGR5bmFtaWNWYWxpZGF0aW9uLmR5bmFtaWNFcnJvcnMucHVzaChlcnJvcilcbiAgICByZXR1cm5cbiAgfVxufVxuXG4vKipcbiAqIEluIGRldiBtb2RlLCB3ZSBwcmVmZXIgdXNpbmcgdGhlIG93bmVyIHN0YWNrLCBvdGhlcndpc2UgdGhlIHByb3ZpZGVkXG4gKiBjb21wb25lbnQgc3RhY2sgaXMgdXNlZC5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlRXJyb3JXaXRoQ29tcG9uZW50T3JPd25lclN0YWNrKFxuICBtZXNzYWdlOiBzdHJpbmcsXG4gIGNvbXBvbmVudFN0YWNrOiBzdHJpbmdcbikge1xuICBjb25zdCBvd25lclN0YWNrID1cbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIFJlYWN0LmNhcHR1cmVPd25lclN0YWNrXG4gICAgICA/IFJlYWN0LmNhcHR1cmVPd25lclN0YWNrKClcbiAgICAgIDogbnVsbFxuXG4gIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKG1lc3NhZ2UpXG4gIGVycm9yLnN0YWNrID0gZXJyb3IubmFtZSArICc6ICcgKyBtZXNzYWdlICsgKG93bmVyU3RhY2sgPz8gY29tcG9uZW50U3RhY2spXG4gIHJldHVybiBlcnJvclxufVxuXG5leHBvcnQgZW51bSBQcmVsdWRlU3RhdGUge1xuICBGdWxsID0gMCxcbiAgRW1wdHkgPSAxLFxuICBFcnJvcmVkID0gMixcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvZ0Rpc2FsbG93ZWREeW5hbWljRXJyb3IoXG4gIHdvcmtTdG9yZTogV29ya1N0b3JlLFxuICBlcnJvcjogRXJyb3Jcbik6IHZvaWQge1xuICBjb25zb2xlLmVycm9yKGVycm9yKVxuXG4gIGlmICghd29ya1N0b3JlLmRldikge1xuICAgIGlmICh3b3JrU3RvcmUuaGFzUmVhZGFibGVFcnJvclN0YWNrcykge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgYFRvIGdldCBhIG1vcmUgZGV0YWlsZWQgc3RhY2sgdHJhY2UgYW5kIHBpbnBvaW50IHRoZSBpc3N1ZSwgc3RhcnQgdGhlIGFwcCBpbiBkZXZlbG9wbWVudCBtb2RlIGJ5IHJ1bm5pbmcgXFxgbmV4dCBkZXZcXGAsIHRoZW4gb3BlbiBcIiR7d29ya1N0b3JlLnJvdXRlfVwiIGluIHlvdXIgYnJvd3NlciB0byBpbnZlc3RpZ2F0ZSB0aGUgZXJyb3IuYFxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBUbyBnZXQgYSBtb3JlIGRldGFpbGVkIHN0YWNrIHRyYWNlIGFuZCBwaW5wb2ludCB0aGUgaXNzdWUsIHRyeSBvbmUgb2YgdGhlIGZvbGxvd2luZzpcbiAgLSBTdGFydCB0aGUgYXBwIGluIGRldmVsb3BtZW50IG1vZGUgYnkgcnVubmluZyBcXGBuZXh0IGRldlxcYCwgdGhlbiBvcGVuIFwiJHt3b3JrU3RvcmUucm91dGV9XCIgaW4geW91ciBicm93c2VyIHRvIGludmVzdGlnYXRlIHRoZSBlcnJvci5cbiAgLSBSZXJ1biB0aGUgcHJvZHVjdGlvbiBidWlsZCB3aXRoIFxcYG5leHQgYnVpbGQgLS1kZWJ1Zy1wcmVyZW5kZXJcXGAgdG8gZ2VuZXJhdGUgYmV0dGVyIHN0YWNrIHRyYWNlcy5gKVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdGhyb3dJZkRpc2FsbG93ZWREeW5hbWljKFxuICB3b3JrU3RvcmU6IFdvcmtTdG9yZSxcbiAgcHJlbHVkZTogUHJlbHVkZVN0YXRlLFxuICBkeW5hbWljVmFsaWRhdGlvbjogRHluYW1pY1ZhbGlkYXRpb25TdGF0ZSxcbiAgc2VydmVyRHluYW1pYzogRHluYW1pY1RyYWNraW5nU3RhdGVcbik6IHZvaWQge1xuICBpZiAocHJlbHVkZSAhPT0gUHJlbHVkZVN0YXRlLkZ1bGwpIHtcbiAgICBpZiAoZHluYW1pY1ZhbGlkYXRpb24uaGFzU3VzcGVuc2VBYm92ZUJvZHkpIHtcbiAgICAgIC8vIFRoaXMgcm91dGUgaGFzIG9wdGVkIGludG8gYWxsb3dpbmcgZnVsbHkgZHluYW1pYyByZW5kZXJpbmdcbiAgICAgIC8vIGJ5IGluY2x1ZGluZyBhIFN1c3BlbnNlIGJvdW5kYXJ5IGFib3ZlIHRoZSBib2R5LiBJbiB0aGlzIGNhc2VcbiAgICAgIC8vIGEgbGFjayBvZiBhIHNoZWxsIGlzIG5vdCBjb25zaWRlcmVkIGRpc2FsbG93ZWQgc28gd2Ugc2ltcGx5IHJldHVyblxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKHNlcnZlckR5bmFtaWMuc3luY0R5bmFtaWNFcnJvcldpdGhTdGFjaykge1xuICAgICAgLy8gVGhlcmUgaXMgbm8gc2hlbGwgYW5kIHRoZSBzZXJ2ZXIgZGlkIHNvbWV0aGluZyBzeW5jIGR5bmFtaWMgbGlrZWx5XG4gICAgICAvLyBsZWFkaW5nIHRvIGFuIGVhcmx5IHRlcm1pbmF0aW9uIG9mIHRoZSBwcmVyZW5kZXIgYmVmb3JlIHRoZSBzaGVsbFxuICAgICAgLy8gY291bGQgYmUgY29tcGxldGVkLiBXZSB0ZXJtaW5hdGUgdGhlIGJ1aWxkL3ZhbGlkYXRpbmcgcmVuZGVyLlxuICAgICAgbG9nRGlzYWxsb3dlZER5bmFtaWNFcnJvcihcbiAgICAgICAgd29ya1N0b3JlLFxuICAgICAgICBzZXJ2ZXJEeW5hbWljLnN5bmNEeW5hbWljRXJyb3JXaXRoU3RhY2tcbiAgICAgIClcbiAgICAgIHRocm93IG5ldyBTdGF0aWNHZW5CYWlsb3V0RXJyb3IoKVxuICAgIH1cblxuICAgIC8vIFdlIGRpZG4ndCBoYXZlIGFueSBzeW5jIGJhaWxvdXRzIGJ1dCB0aGVyZSBtYXkgYmUgdXNlciBjb2RlIHdoaWNoXG4gICAgLy8gYmxvY2tlZCB0aGUgcm9vdC4gV2Ugd291bGQgaGF2ZSBjYXB0dXJlZCB0aGVzZSBkdXJpbmcgdGhlIHByZXJlbmRlclxuICAgIC8vIGFuZCBjYW4gbG9nIHRoZW0gaGVyZSBhbmQgdGhlbiB0ZXJtaW5hdGUgdGhlIGJ1aWxkL3ZhbGlkYXRpbmcgcmVuZGVyXG4gICAgY29uc3QgZHluYW1pY0Vycm9ycyA9IGR5bmFtaWNWYWxpZGF0aW9uLmR5bmFtaWNFcnJvcnNcbiAgICBpZiAoZHluYW1pY0Vycm9ycy5sZW5ndGggPiAwKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGR5bmFtaWNFcnJvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbG9nRGlzYWxsb3dlZER5bmFtaWNFcnJvcih3b3JrU3RvcmUsIGR5bmFtaWNFcnJvcnNbaV0pXG4gICAgICB9XG5cbiAgICAgIHRocm93IG5ldyBTdGF0aWNHZW5CYWlsb3V0RXJyb3IoKVxuICAgIH1cblxuICAgIC8vIElmIHdlIGdvdCB0aGlzIGZhciB0aGVuIHRoZSBvbmx5IG90aGVyIHRoaW5nIHRoYXQgY291bGQgYmUgYmxvY2tpbmdcbiAgICAvLyB0aGUgcm9vdCBpcyBkeW5hbWljIFZpZXdwb3J0LiBJZiB0aGlzIGlzIGR5bmFtaWMgdGhlblxuICAgIC8vIHlvdSBuZWVkIHRvIG9wdCBpbnRvIHRoYXQgYnkgYWRkaW5nIGEgU3VzcGVuc2UgYm91bmRhcnkgYWJvdmUgdGhlIGJvZHlcbiAgICAvLyB0byBpbmRpY2F0ZSB5b3VyIGFyZSBvayB3aXRoIGZ1bGx5IGR5bmFtaWMgcmVuZGVyaW5nLlxuICAgIGlmIChkeW5hbWljVmFsaWRhdGlvbi5oYXNEeW5hbWljVmlld3BvcnQpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgIGBSb3V0ZSBcIiR7d29ya1N0b3JlLnJvdXRlfVwiIGhhcyBhIFxcYGdlbmVyYXRlVmlld3BvcnRcXGAgdGhhdCBkZXBlbmRzIG9uIFJlcXVlc3QgZGF0YSAoXFxgY29va2llcygpXFxgLCBldGMuLi4pIG9yIHVuY2FjaGVkIGV4dGVybmFsIGRhdGEgKFxcYGZldGNoKC4uLilcXGAsIGV0Yy4uLikgd2l0aG91dCBleHBsaWNpdGx5IGFsbG93aW5nIGZ1bGx5IGR5bmFtaWMgcmVuZGVyaW5nLiBTZWUgbW9yZSBpbmZvIGhlcmU6IGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL21lc3NhZ2VzL25leHQtcHJlcmVuZGVyLWR5bmFtaWMtdmlld3BvcnRgXG4gICAgICApXG4gICAgICB0aHJvdyBuZXcgU3RhdGljR2VuQmFpbG91dEVycm9yKClcbiAgICB9XG5cbiAgICBpZiAocHJlbHVkZSA9PT0gUHJlbHVkZVN0YXRlLkVtcHR5KSB7XG4gICAgICAvLyBJZiB3ZSBldmVyIGdldCB0aGlzIGZhciB0aGVuIHdlIG1lc3NlZCB1cCB0aGUgdHJhY2tpbmcgb2YgaW52YWxpZCBkeW5hbWljLlxuICAgICAgLy8gV2Ugc3RpbGwgYWRoZXJlIHRvIHRoZSBjb25zdHJhaW50IHRoYXQgeW91IG11c3QgcHJvZHVjZSBhIHNoZWxsIGJ1dCBpbnZpdGUgdGhlXG4gICAgICAvLyB1c2VyIHRvIHJlcG9ydCB0aGlzIGFzIGEgYnVnIGluIE5leHQuanMuXG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICBgUm91dGUgXCIke3dvcmtTdG9yZS5yb3V0ZX1cIiBkaWQgbm90IHByb2R1Y2UgYSBzdGF0aWMgc2hlbGwgYW5kIE5leHQuanMgd2FzIHVuYWJsZSB0byBkZXRlcm1pbmUgYSByZWFzb24uIFRoaXMgaXMgYSBidWcgaW4gTmV4dC5qcy5gXG4gICAgICApXG4gICAgICB0aHJvdyBuZXcgU3RhdGljR2VuQmFpbG91dEVycm9yKClcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKFxuICAgICAgZHluYW1pY1ZhbGlkYXRpb24uaGFzQWxsb3dlZER5bmFtaWMgPT09IGZhbHNlICYmXG4gICAgICBkeW5hbWljVmFsaWRhdGlvbi5oYXNEeW5hbWljTWV0YWRhdGFcbiAgICApIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgIGBSb3V0ZSBcIiR7d29ya1N0b3JlLnJvdXRlfVwiIGhhcyBhIFxcYGdlbmVyYXRlTWV0YWRhdGFcXGAgdGhhdCBkZXBlbmRzIG9uIFJlcXVlc3QgZGF0YSAoXFxgY29va2llcygpXFxgLCBldGMuLi4pIG9yIHVuY2FjaGVkIGV4dGVybmFsIGRhdGEgKFxcYGZldGNoKC4uLilcXGAsIGV0Yy4uLikgd2hlbiB0aGUgcmVzdCBvZiB0aGUgcm91dGUgZG9lcyBub3QuIFNlZSBtb3JlIGluZm8gaGVyZTogaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvbWVzc2FnZXMvbmV4dC1wcmVyZW5kZXItZHluYW1pYy1tZXRhZGF0YWBcbiAgICAgIClcbiAgICAgIHRocm93IG5ldyBTdGF0aWNHZW5CYWlsb3V0RXJyb3IoKVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVsYXlVbnRpbFJ1bnRpbWVTdGFnZTxUPihcbiAgcHJlcmVuZGVyU3RvcmU6IFByZXJlbmRlclN0b3JlTW9kZXJuUnVudGltZSxcbiAgcmVzdWx0OiBQcm9taXNlPFQ+XG4pOiBQcm9taXNlPFQ+IHtcbiAgaWYgKHByZXJlbmRlclN0b3JlLnJ1bnRpbWVTdGFnZVByb21pc2UpIHtcbiAgICByZXR1cm4gcHJlcmVuZGVyU3RvcmUucnVudGltZVN0YWdlUHJvbWlzZS50aGVuKCgpID0+IHJlc3VsdClcbiAgfVxuICByZXR1cm4gcmVzdWx0XG59XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJEeW5hbWljU2VydmVyRXJyb3IiLCJTdGF0aWNHZW5CYWlsb3V0RXJyb3IiLCJnZXRSdW50aW1lU3RhZ2VQcm9taXNlIiwid29ya1VuaXRBc3luY1N0b3JhZ2UiLCJ3b3JrQXN5bmNTdG9yYWdlIiwibWFrZUhhbmdpbmdQcm9taXNlIiwiTUVUQURBVEFfQk9VTkRBUllfTkFNRSIsIlZJRVdQT1JUX0JPVU5EQVJZX05BTUUiLCJPVVRMRVRfQk9VTkRBUllfTkFNRSIsIlJPT1RfTEFZT1VUX0JPVU5EQVJZX05BTUUiLCJzY2hlZHVsZU9uTmV4dFRpY2siLCJCYWlsb3V0VG9DU1JFcnJvciIsIkludmFyaWFudEVycm9yIiwiaGFzUG9zdHBvbmUiLCJ1bnN0YWJsZV9wb3N0cG9uZSIsImNyZWF0ZUR5bmFtaWNUcmFja2luZ1N0YXRlIiwiaXNEZWJ1Z0R5bmFtaWNBY2Nlc3NlcyIsImR5bmFtaWNBY2Nlc3NlcyIsInN5bmNEeW5hbWljRXJyb3JXaXRoU3RhY2siLCJjcmVhdGVEeW5hbWljVmFsaWRhdGlvblN0YXRlIiwiaGFzU3VzcGVuc2VBYm92ZUJvZHkiLCJoYXNEeW5hbWljTWV0YWRhdGEiLCJoYXNEeW5hbWljVmlld3BvcnQiLCJoYXNBbGxvd2VkRHluYW1pYyIsImR5bmFtaWNFcnJvcnMiLCJnZXRGaXJzdER5bmFtaWNSZWFzb24iLCJ0cmFja2luZ1N0YXRlIiwiZXhwcmVzc2lvbiIsIm1hcmtDdXJyZW50U2NvcGVBc0R5bmFtaWMiLCJzdG9yZSIsIndvcmtVbml0U3RvcmUiLCJ0eXBlIiwiZm9yY2VEeW5hbWljIiwiZm9yY2VTdGF0aWMiLCJkeW5hbWljU2hvdWxkRXJyb3IiLCJyb3V0ZSIsInBvc3Rwb25lV2l0aFRyYWNraW5nIiwiZHluYW1pY1RyYWNraW5nIiwicmV2YWxpZGF0ZSIsImVyciIsImR5bmFtaWNVc2FnZURlc2NyaXB0aW9uIiwiZHluYW1pY1VzYWdlU3RhY2siLCJzdGFjayIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsInVzZWREeW5hbWljIiwidGhyb3dUb0ludGVycnVwdFN0YXRpY0dlbmVyYXRpb24iLCJwcmVyZW5kZXJTdG9yZSIsInRyYWNrRHluYW1pY0RhdGFJbkR5bmFtaWNSZW5kZXIiLCJhYm9ydE9uU3luY2hyb25vdXNEeW5hbWljRGF0YUFjY2VzcyIsInJlYXNvbiIsImVycm9yIiwiY3JlYXRlUHJlcmVuZGVySW50ZXJydXB0ZWRFcnJvciIsImNvbnRyb2xsZXIiLCJhYm9ydCIsInB1c2giLCJFcnJvciIsInVuZGVmaW5lZCIsImFib3J0T25TeW5jaHJvbm91c1BsYXRmb3JtSU9BY2Nlc3MiLCJlcnJvcldpdGhTdGFjayIsInRyYWNrU3luY2hyb25vdXNQbGF0Zm9ybUlPQWNjZXNzSW5EZXYiLCJyZXF1ZXN0U3RvcmUiLCJwcmVyZW5kZXJQaGFzZSIsImFib3J0QW5kVGhyb3dPblN5bmNocm9ub3VzUmVxdWVzdERhdGFBY2Nlc3MiLCJwcmVyZW5kZXJTaWduYWwiLCJzaWduYWwiLCJhYm9ydGVkIiwid2Fybk9uU3luY0R5bmFtaWNFcnJvciIsImNvbnNvbGUiLCJ0cmFja1N5bmNocm9ub3VzUmVxdWVzdERhdGFBY2Nlc3NJbkRldiIsIlBvc3Rwb25lIiwiZ2V0U3RvcmUiLCJhc3NlcnRQb3N0cG9uZSIsImNyZWF0ZVBvc3Rwb25lUmVhc29uIiwiaXNEeW5hbWljUG9zdHBvbmUiLCJtZXNzYWdlIiwiaXNEeW5hbWljUG9zdHBvbmVSZWFzb24iLCJpbmNsdWRlcyIsIk5FWFRfUFJFUkVOREVSX0lOVEVSUlVQVEVEIiwiZGlnZXN0IiwiaXNQcmVyZW5kZXJJbnRlcnJ1cHRlZEVycm9yIiwiYWNjZXNzZWREeW5hbWljRGF0YSIsImxlbmd0aCIsImNvbnN1bWVEeW5hbWljQWNjZXNzIiwic2VydmVyRHluYW1pYyIsImNsaWVudER5bmFtaWMiLCJmb3JtYXREeW5hbWljQVBJQWNjZXNzZXMiLCJmaWx0ZXIiLCJhY2Nlc3MiLCJtYXAiLCJzcGxpdCIsInNsaWNlIiwibGluZSIsImpvaW4iLCJjcmVhdGVSZW5kZXJJbkJyb3dzZXJBYm9ydFNpZ25hbCIsIkFib3J0Q29udHJvbGxlciIsImNyZWF0ZUhhbmdpbmdJbnB1dEFib3J0U2lnbmFsIiwiY2FjaGVTaWduYWwiLCJpbnB1dFJlYWR5IiwidGhlbiIsInJ1bnRpbWVTdGFnZVByb21pc2UiLCJhbm5vdGF0ZUR5bmFtaWNBY2Nlc3MiLCJ1c2VEeW5hbWljUm91dGVQYXJhbXMiLCJ3b3JrU3RvcmUiLCJmYWxsYmFja1BhcmFtcyIsImZhbGxiYWNrUm91dGVQYXJhbXMiLCJzaXplIiwidXNlIiwicmVuZGVyU2lnbmFsIiwiaGFzU3VzcGVuc2VSZWdleCIsImJvZHlBbmRJbXBsaWNpdFRhZ3MiLCJoYXNTdXNwZW5zZUJlZm9yZVJvb3RMYXlvdXRXaXRob3V0Qm9keU9ySW1wbGljaXRCb2R5UmVnZXgiLCJSZWdFeHAiLCJoYXNNZXRhZGF0YVJlZ2V4IiwiaGFzVmlld3BvcnRSZWdleCIsImhhc091dGxldFJlZ2V4IiwidHJhY2tBbGxvd2VkRHluYW1pY0FjY2VzcyIsImNvbXBvbmVudFN0YWNrIiwiZHluYW1pY1ZhbGlkYXRpb24iLCJ0ZXN0IiwiY3JlYXRlRXJyb3JXaXRoQ29tcG9uZW50T3JPd25lclN0YWNrIiwib3duZXJTdGFjayIsImNhcHR1cmVPd25lclN0YWNrIiwibmFtZSIsIlByZWx1ZGVTdGF0ZSIsImxvZ0Rpc2FsbG93ZWREeW5hbWljRXJyb3IiLCJkZXYiLCJoYXNSZWFkYWJsZUVycm9yU3RhY2tzIiwidGhyb3dJZkRpc2FsbG93ZWREeW5hbWljIiwicHJlbHVkZSIsImkiLCJkZWxheVVudGlsUnVudGltZVN0YWdlIiwicmVzdWx0Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/app-render/dynamic-rendering.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/async-storage/draft-mode-provider.js":
/*!********************************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/async-storage/draft-mode-provider.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DraftModeProvider: () => (/* binding */ DraftModeProvider)\n/* harmony export */ });\n/* harmony import */ var _api_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../api-utils */ \"(middleware)/./node_modules/next/dist/esm/server/api-utils/index.js\");\n\nclass DraftModeProvider {\n    constructor(previewProps, req, cookies, mutableCookies){\n        var _cookies_get;\n        // The logic for draftMode() is very similar to tryGetPreviewData()\n        // but Draft Mode does not have any data associated with it.\n        const isOnDemandRevalidate = previewProps && (0,_api_utils__WEBPACK_IMPORTED_MODULE_0__.checkIsOnDemandRevalidate)(req, previewProps).isOnDemandRevalidate;\n        const cookieValue = (_cookies_get = cookies.get(_api_utils__WEBPACK_IMPORTED_MODULE_0__.COOKIE_NAME_PRERENDER_BYPASS)) == null ? void 0 : _cookies_get.value;\n        this._isEnabled = Boolean(!isOnDemandRevalidate && cookieValue && previewProps && (cookieValue === previewProps.previewModeId || // In dev mode, the cookie can be actual hash value preview id but the preview props can still be `development-id`.\n         true && previewProps.previewModeId === 'development-id'));\n        this._previewModeId = previewProps == null ? void 0 : previewProps.previewModeId;\n        this._mutableCookies = mutableCookies;\n    }\n    get isEnabled() {\n        return this._isEnabled;\n    }\n    enable() {\n        if (!this._previewModeId) {\n            throw Object.defineProperty(new Error('Invariant: previewProps missing previewModeId this should never happen'), \"__NEXT_ERROR_CODE\", {\n                value: \"E93\",\n                enumerable: false,\n                configurable: true\n            });\n        }\n        this._mutableCookies.set({\n            name: _api_utils__WEBPACK_IMPORTED_MODULE_0__.COOKIE_NAME_PRERENDER_BYPASS,\n            value: this._previewModeId,\n            httpOnly: true,\n            sameSite:  false ? 0 : 'lax',\n            secure: \"development\" !== 'development',\n            path: '/'\n        });\n        this._isEnabled = true;\n    }\n    disable() {\n        // To delete a cookie, set `expires` to a date in the past:\n        // https://tools.ietf.org/html/rfc6265#section-4.1.1\n        // `Max-Age: 0` is not valid, thus ignored, and the cookie is persisted.\n        this._mutableCookies.set({\n            name: _api_utils__WEBPACK_IMPORTED_MODULE_0__.COOKIE_NAME_PRERENDER_BYPASS,\n            value: '',\n            httpOnly: true,\n            sameSite:  false ? 0 : 'lax',\n            secure: \"development\" !== 'development',\n            path: '/',\n            expires: new Date(0)\n        });\n        this._isEnabled = false;\n    }\n}\n\n//# sourceMappingURL=draft-mode-provider.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL2FzeW5jLXN0b3JhZ2UvZHJhZnQtbW9kZS1wcm92aWRlci5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUF1RjtBQUNoRjtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELHFFQUF5QjtBQUM5RSx3REFBd0Qsb0VBQTRCO0FBQ3BGO0FBQ0EsUUFBUSxLQUFxQztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGtCQUFrQixvRUFBNEI7QUFDOUM7QUFDQTtBQUNBLHNCQUFzQixNQUFzQyxHQUFHLENBQU07QUFDckUsb0JBQW9CLGFBQW9CO0FBQ3hDO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLG9FQUE0QjtBQUM5QztBQUNBO0FBQ0Esc0JBQXNCLE1BQXNDLEdBQUcsQ0FBTTtBQUNyRSxvQkFBb0IsYUFBb0I7QUFDeEM7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXG5leHRcXGRpc3RcXGVzbVxcc2VydmVyXFxhc3luYy1zdG9yYWdlXFxkcmFmdC1tb2RlLXByb3ZpZGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENPT0tJRV9OQU1FX1BSRVJFTkRFUl9CWVBBU1MsIGNoZWNrSXNPbkRlbWFuZFJldmFsaWRhdGUgfSBmcm9tICcuLi9hcGktdXRpbHMnO1xuZXhwb3J0IGNsYXNzIERyYWZ0TW9kZVByb3ZpZGVyIHtcbiAgICBjb25zdHJ1Y3RvcihwcmV2aWV3UHJvcHMsIHJlcSwgY29va2llcywgbXV0YWJsZUNvb2tpZXMpe1xuICAgICAgICB2YXIgX2Nvb2tpZXNfZ2V0O1xuICAgICAgICAvLyBUaGUgbG9naWMgZm9yIGRyYWZ0TW9kZSgpIGlzIHZlcnkgc2ltaWxhciB0byB0cnlHZXRQcmV2aWV3RGF0YSgpXG4gICAgICAgIC8vIGJ1dCBEcmFmdCBNb2RlIGRvZXMgbm90IGhhdmUgYW55IGRhdGEgYXNzb2NpYXRlZCB3aXRoIGl0LlxuICAgICAgICBjb25zdCBpc09uRGVtYW5kUmV2YWxpZGF0ZSA9IHByZXZpZXdQcm9wcyAmJiBjaGVja0lzT25EZW1hbmRSZXZhbGlkYXRlKHJlcSwgcHJldmlld1Byb3BzKS5pc09uRGVtYW5kUmV2YWxpZGF0ZTtcbiAgICAgICAgY29uc3QgY29va2llVmFsdWUgPSAoX2Nvb2tpZXNfZ2V0ID0gY29va2llcy5nZXQoQ09PS0lFX05BTUVfUFJFUkVOREVSX0JZUEFTUykpID09IG51bGwgPyB2b2lkIDAgOiBfY29va2llc19nZXQudmFsdWU7XG4gICAgICAgIHRoaXMuX2lzRW5hYmxlZCA9IEJvb2xlYW4oIWlzT25EZW1hbmRSZXZhbGlkYXRlICYmIGNvb2tpZVZhbHVlICYmIHByZXZpZXdQcm9wcyAmJiAoY29va2llVmFsdWUgPT09IHByZXZpZXdQcm9wcy5wcmV2aWV3TW9kZUlkIHx8IC8vIEluIGRldiBtb2RlLCB0aGUgY29va2llIGNhbiBiZSBhY3R1YWwgaGFzaCB2YWx1ZSBwcmV2aWV3IGlkIGJ1dCB0aGUgcHJldmlldyBwcm9wcyBjYW4gc3RpbGwgYmUgYGRldmVsb3BtZW50LWlkYC5cbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBwcmV2aWV3UHJvcHMucHJldmlld01vZGVJZCA9PT0gJ2RldmVsb3BtZW50LWlkJykpO1xuICAgICAgICB0aGlzLl9wcmV2aWV3TW9kZUlkID0gcHJldmlld1Byb3BzID09IG51bGwgPyB2b2lkIDAgOiBwcmV2aWV3UHJvcHMucHJldmlld01vZGVJZDtcbiAgICAgICAgdGhpcy5fbXV0YWJsZUNvb2tpZXMgPSBtdXRhYmxlQ29va2llcztcbiAgICB9XG4gICAgZ2V0IGlzRW5hYmxlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRW5hYmxlZDtcbiAgICB9XG4gICAgZW5hYmxlKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3ByZXZpZXdNb2RlSWQpIHtcbiAgICAgICAgICAgIHRocm93IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXcgRXJyb3IoJ0ludmFyaWFudDogcHJldmlld1Byb3BzIG1pc3NpbmcgcHJldmlld01vZGVJZCB0aGlzIHNob3VsZCBuZXZlciBoYXBwZW4nKSwgXCJfX05FWFRfRVJST1JfQ09ERVwiLCB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiRTkzXCIsXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9tdXRhYmxlQ29va2llcy5zZXQoe1xuICAgICAgICAgICAgbmFtZTogQ09PS0lFX05BTUVfUFJFUkVOREVSX0JZUEFTUyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLl9wcmV2aWV3TW9kZUlkLFxuICAgICAgICAgICAgaHR0cE9ubHk6IHRydWUsXG4gICAgICAgICAgICBzYW1lU2l0ZTogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdkZXZlbG9wbWVudCcgPyAnbm9uZScgOiAnbGF4JyxcbiAgICAgICAgICAgIHNlY3VyZTogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdkZXZlbG9wbWVudCcsXG4gICAgICAgICAgICBwYXRoOiAnLydcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2lzRW5hYmxlZCA9IHRydWU7XG4gICAgfVxuICAgIGRpc2FibGUoKSB7XG4gICAgICAgIC8vIFRvIGRlbGV0ZSBhIGNvb2tpZSwgc2V0IGBleHBpcmVzYCB0byBhIGRhdGUgaW4gdGhlIHBhc3Q6XG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2MjY1I3NlY3Rpb24tNC4xLjFcbiAgICAgICAgLy8gYE1heC1BZ2U6IDBgIGlzIG5vdCB2YWxpZCwgdGh1cyBpZ25vcmVkLCBhbmQgdGhlIGNvb2tpZSBpcyBwZXJzaXN0ZWQuXG4gICAgICAgIHRoaXMuX211dGFibGVDb29raWVzLnNldCh7XG4gICAgICAgICAgICBuYW1lOiBDT09LSUVfTkFNRV9QUkVSRU5ERVJfQllQQVNTLFxuICAgICAgICAgICAgdmFsdWU6ICcnLFxuICAgICAgICAgICAgaHR0cE9ubHk6IHRydWUsXG4gICAgICAgICAgICBzYW1lU2l0ZTogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdkZXZlbG9wbWVudCcgPyAnbm9uZScgOiAnbGF4JyxcbiAgICAgICAgICAgIHNlY3VyZTogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdkZXZlbG9wbWVudCcsXG4gICAgICAgICAgICBwYXRoOiAnLycsXG4gICAgICAgICAgICBleHBpcmVzOiBuZXcgRGF0ZSgwKVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5faXNFbmFibGVkID0gZmFsc2U7XG4gICAgfVxufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kcmFmdC1tb2RlLXByb3ZpZGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/async-storage/draft-mode-provider.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/async-storage/request-store.js":
/*!**************************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/async-storage/request-store.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createRequestStoreForAPI: () => (/* binding */ createRequestStoreForAPI),\n/* harmony export */   createRequestStoreForRender: () => (/* binding */ createRequestStoreForRender),\n/* harmony export */   synchronizeMutableCookies: () => (/* binding */ synchronizeMutableCookies)\n/* harmony export */ });\n/* harmony import */ var _client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../client/components/app-router-headers */ \"(middleware)/./node_modules/next/dist/esm/client/components/app-router-headers.js\");\n/* harmony import */ var _web_spec_extension_adapters_headers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../web/spec-extension/adapters/headers */ \"(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/adapters/headers.js\");\n/* harmony import */ var _web_spec_extension_adapters_request_cookies__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../web/spec-extension/adapters/request-cookies */ \"(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/adapters/request-cookies.js\");\n/* harmony import */ var _web_spec_extension_cookies__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../web/spec-extension/cookies */ \"(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/cookies.js\");\n/* harmony import */ var _draft_mode_provider__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./draft-mode-provider */ \"(middleware)/./node_modules/next/dist/esm/server/async-storage/draft-mode-provider.js\");\n/* harmony import */ var _web_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../web/utils */ \"(middleware)/./node_modules/next/dist/esm/server/web/utils.js\");\n\n\n\n\n\n\nfunction getHeaders(headers) {\n    const cleaned = _web_spec_extension_adapters_headers__WEBPACK_IMPORTED_MODULE_1__.HeadersAdapter.from(headers);\n    for (const header of _client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_0__.FLIGHT_HEADERS){\n        cleaned.delete(header);\n    }\n    return _web_spec_extension_adapters_headers__WEBPACK_IMPORTED_MODULE_1__.HeadersAdapter.seal(cleaned);\n}\nfunction getMutableCookies(headers, onUpdateCookies) {\n    const cookies = new _web_spec_extension_cookies__WEBPACK_IMPORTED_MODULE_3__.RequestCookies(_web_spec_extension_adapters_headers__WEBPACK_IMPORTED_MODULE_1__.HeadersAdapter.from(headers));\n    return _web_spec_extension_adapters_request_cookies__WEBPACK_IMPORTED_MODULE_2__.MutableRequestCookiesAdapter.wrap(cookies, onUpdateCookies);\n}\n/**\n * If middleware set cookies in this request (indicated by `x-middleware-set-cookie`),\n * then merge those into the existing cookie object, so that when `cookies()` is accessed\n * it's able to read the newly set cookies.\n */ function mergeMiddlewareCookies(req, existingCookies) {\n    if ('x-middleware-set-cookie' in req.headers && typeof req.headers['x-middleware-set-cookie'] === 'string') {\n        const setCookieValue = req.headers['x-middleware-set-cookie'];\n        const responseHeaders = new Headers();\n        for (const cookie of (0,_web_utils__WEBPACK_IMPORTED_MODULE_5__.splitCookiesString)(setCookieValue)){\n            responseHeaders.append('set-cookie', cookie);\n        }\n        const responseCookies = new _web_spec_extension_cookies__WEBPACK_IMPORTED_MODULE_3__.ResponseCookies(responseHeaders);\n        // Transfer cookies from ResponseCookies to RequestCookies\n        for (const cookie of responseCookies.getAll()){\n            existingCookies.set(cookie);\n        }\n    }\n}\nfunction createRequestStoreForRender(req, res, url, rootParams, implicitTags, onUpdateCookies, previewProps, isHmrRefresh, serverComponentsHmrCache, renderResumeDataCache, devFallbackParams) {\n    return createRequestStoreImpl(// Pages start in render phase by default\n    'render', req, res, url, rootParams, implicitTags, onUpdateCookies, renderResumeDataCache, previewProps, isHmrRefresh, serverComponentsHmrCache, devFallbackParams);\n}\nfunction createRequestStoreForAPI(req, url, implicitTags, onUpdateCookies, previewProps) {\n    return createRequestStoreImpl(// API routes start in action phase by default\n    'action', req, undefined, url, {}, implicitTags, onUpdateCookies, undefined, previewProps, false, undefined, null);\n}\nfunction createRequestStoreImpl(phase, req, res, url, rootParams, implicitTags, onUpdateCookies, renderResumeDataCache, previewProps, isHmrRefresh, serverComponentsHmrCache, devFallbackParams) {\n    function defaultOnUpdateCookies(cookies) {\n        if (res) {\n            res.setHeader('Set-Cookie', cookies);\n        }\n    }\n    const cache = {};\n    return {\n        type: 'request',\n        phase,\n        implicitTags,\n        // Rather than just using the whole `url` here, we pull the parts we want\n        // to ensure we don't use parts of the URL that we shouldn't. This also\n        // lets us avoid requiring an empty string for `search` in the type.\n        url: {\n            pathname: url.pathname,\n            search: url.search ?? ''\n        },\n        rootParams,\n        get headers () {\n            if (!cache.headers) {\n                // Seal the headers object that'll freeze out any methods that could\n                // mutate the underlying data.\n                cache.headers = getHeaders(req.headers);\n            }\n            return cache.headers;\n        },\n        get cookies () {\n            if (!cache.cookies) {\n                // if middleware is setting cookie(s), then include those in\n                // the initial cached cookies so they can be read in render\n                const requestCookies = new _web_spec_extension_cookies__WEBPACK_IMPORTED_MODULE_3__.RequestCookies(_web_spec_extension_adapters_headers__WEBPACK_IMPORTED_MODULE_1__.HeadersAdapter.from(req.headers));\n                mergeMiddlewareCookies(req, requestCookies);\n                // Seal the cookies object that'll freeze out any methods that could\n                // mutate the underlying data.\n                cache.cookies = _web_spec_extension_adapters_request_cookies__WEBPACK_IMPORTED_MODULE_2__.RequestCookiesAdapter.seal(requestCookies);\n            }\n            return cache.cookies;\n        },\n        set cookies (value){\n            cache.cookies = value;\n        },\n        get mutableCookies () {\n            if (!cache.mutableCookies) {\n                const mutableCookies = getMutableCookies(req.headers, onUpdateCookies || (res ? defaultOnUpdateCookies : undefined));\n                mergeMiddlewareCookies(req, mutableCookies);\n                cache.mutableCookies = mutableCookies;\n            }\n            return cache.mutableCookies;\n        },\n        get userspaceMutableCookies () {\n            if (!cache.userspaceMutableCookies) {\n                const userspaceMutableCookies = (0,_web_spec_extension_adapters_request_cookies__WEBPACK_IMPORTED_MODULE_2__.createCookiesWithMutableAccessCheck)(this);\n                cache.userspaceMutableCookies = userspaceMutableCookies;\n            }\n            return cache.userspaceMutableCookies;\n        },\n        get draftMode () {\n            if (!cache.draftMode) {\n                cache.draftMode = new _draft_mode_provider__WEBPACK_IMPORTED_MODULE_4__.DraftModeProvider(previewProps, req, this.cookies, this.mutableCookies);\n            }\n            return cache.draftMode;\n        },\n        renderResumeDataCache: renderResumeDataCache ?? null,\n        isHmrRefresh,\n        serverComponentsHmrCache: serverComponentsHmrCache || globalThis.__serverComponentsHmrCache,\n        devFallbackParams\n    };\n}\nfunction synchronizeMutableCookies(store) {\n    // TODO: does this need to update headers as well?\n    store.cookies = _web_spec_extension_adapters_request_cookies__WEBPACK_IMPORTED_MODULE_2__.RequestCookiesAdapter.seal((0,_web_spec_extension_adapters_request_cookies__WEBPACK_IMPORTED_MODULE_2__.responseCookiesToRequestCookies)(store.mutableCookies));\n}\n\n//# sourceMappingURL=request-store.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL2FzeW5jLXN0b3JhZ2UvcmVxdWVzdC1zdG9yZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBNEU7QUFDSjtBQUNtSDtBQUMzRztBQUN0QjtBQUNSO0FBQ2xEO0FBQ0Esb0JBQW9CLGdGQUFjO0FBQ2xDLHlCQUF5QixpRkFBYztBQUN2QztBQUNBO0FBQ0EsV0FBVyxnRkFBYztBQUN6QjtBQUNBO0FBQ0Esd0JBQXdCLHVFQUFjLENBQUMsZ0ZBQWM7QUFDckQsV0FBVyxzR0FBNEI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLDhEQUFrQjtBQUMvQztBQUNBO0FBQ0Esb0NBQW9DLHdFQUFlO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyx1RUFBYyxDQUFDLGdGQUFjO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQywrRkFBcUI7QUFDckQ7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxnREFBZ0QsaUhBQW1DO0FBQ25GO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0Esc0NBQXNDLG1FQUFpQjtBQUN2RDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxvQkFBb0IsK0ZBQXFCLE1BQU0sNkdBQStCO0FBQzlFOztBQUVBIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxuZXh0XFxkaXN0XFxlc21cXHNlcnZlclxcYXN5bmMtc3RvcmFnZVxccmVxdWVzdC1zdG9yZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBGTElHSFRfSEVBREVSUyB9IGZyb20gJy4uLy4uL2NsaWVudC9jb21wb25lbnRzL2FwcC1yb3V0ZXItaGVhZGVycyc7XG5pbXBvcnQgeyBIZWFkZXJzQWRhcHRlciB9IGZyb20gJy4uL3dlYi9zcGVjLWV4dGVuc2lvbi9hZGFwdGVycy9oZWFkZXJzJztcbmltcG9ydCB7IE11dGFibGVSZXF1ZXN0Q29va2llc0FkYXB0ZXIsIFJlcXVlc3RDb29raWVzQWRhcHRlciwgcmVzcG9uc2VDb29raWVzVG9SZXF1ZXN0Q29va2llcywgY3JlYXRlQ29va2llc1dpdGhNdXRhYmxlQWNjZXNzQ2hlY2sgfSBmcm9tICcuLi93ZWIvc3BlYy1leHRlbnNpb24vYWRhcHRlcnMvcmVxdWVzdC1jb29raWVzJztcbmltcG9ydCB7IFJlc3BvbnNlQ29va2llcywgUmVxdWVzdENvb2tpZXMgfSBmcm9tICcuLi93ZWIvc3BlYy1leHRlbnNpb24vY29va2llcyc7XG5pbXBvcnQgeyBEcmFmdE1vZGVQcm92aWRlciB9IGZyb20gJy4vZHJhZnQtbW9kZS1wcm92aWRlcic7XG5pbXBvcnQgeyBzcGxpdENvb2tpZXNTdHJpbmcgfSBmcm9tICcuLi93ZWIvdXRpbHMnO1xuZnVuY3Rpb24gZ2V0SGVhZGVycyhoZWFkZXJzKSB7XG4gICAgY29uc3QgY2xlYW5lZCA9IEhlYWRlcnNBZGFwdGVyLmZyb20oaGVhZGVycyk7XG4gICAgZm9yIChjb25zdCBoZWFkZXIgb2YgRkxJR0hUX0hFQURFUlMpe1xuICAgICAgICBjbGVhbmVkLmRlbGV0ZShoZWFkZXIpO1xuICAgIH1cbiAgICByZXR1cm4gSGVhZGVyc0FkYXB0ZXIuc2VhbChjbGVhbmVkKTtcbn1cbmZ1bmN0aW9uIGdldE11dGFibGVDb29raWVzKGhlYWRlcnMsIG9uVXBkYXRlQ29va2llcykge1xuICAgIGNvbnN0IGNvb2tpZXMgPSBuZXcgUmVxdWVzdENvb2tpZXMoSGVhZGVyc0FkYXB0ZXIuZnJvbShoZWFkZXJzKSk7XG4gICAgcmV0dXJuIE11dGFibGVSZXF1ZXN0Q29va2llc0FkYXB0ZXIud3JhcChjb29raWVzLCBvblVwZGF0ZUNvb2tpZXMpO1xufVxuLyoqXG4gKiBJZiBtaWRkbGV3YXJlIHNldCBjb29raWVzIGluIHRoaXMgcmVxdWVzdCAoaW5kaWNhdGVkIGJ5IGB4LW1pZGRsZXdhcmUtc2V0LWNvb2tpZWApLFxuICogdGhlbiBtZXJnZSB0aG9zZSBpbnRvIHRoZSBleGlzdGluZyBjb29raWUgb2JqZWN0LCBzbyB0aGF0IHdoZW4gYGNvb2tpZXMoKWAgaXMgYWNjZXNzZWRcbiAqIGl0J3MgYWJsZSB0byByZWFkIHRoZSBuZXdseSBzZXQgY29va2llcy5cbiAqLyBmdW5jdGlvbiBtZXJnZU1pZGRsZXdhcmVDb29raWVzKHJlcSwgZXhpc3RpbmdDb29raWVzKSB7XG4gICAgaWYgKCd4LW1pZGRsZXdhcmUtc2V0LWNvb2tpZScgaW4gcmVxLmhlYWRlcnMgJiYgdHlwZW9mIHJlcS5oZWFkZXJzWyd4LW1pZGRsZXdhcmUtc2V0LWNvb2tpZSddID09PSAnc3RyaW5nJykge1xuICAgICAgICBjb25zdCBzZXRDb29raWVWYWx1ZSA9IHJlcS5oZWFkZXJzWyd4LW1pZGRsZXdhcmUtc2V0LWNvb2tpZSddO1xuICAgICAgICBjb25zdCByZXNwb25zZUhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xuICAgICAgICBmb3IgKGNvbnN0IGNvb2tpZSBvZiBzcGxpdENvb2tpZXNTdHJpbmcoc2V0Q29va2llVmFsdWUpKXtcbiAgICAgICAgICAgIHJlc3BvbnNlSGVhZGVycy5hcHBlbmQoJ3NldC1jb29raWUnLCBjb29raWUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlQ29va2llcyA9IG5ldyBSZXNwb25zZUNvb2tpZXMocmVzcG9uc2VIZWFkZXJzKTtcbiAgICAgICAgLy8gVHJhbnNmZXIgY29va2llcyBmcm9tIFJlc3BvbnNlQ29va2llcyB0byBSZXF1ZXN0Q29va2llc1xuICAgICAgICBmb3IgKGNvbnN0IGNvb2tpZSBvZiByZXNwb25zZUNvb2tpZXMuZ2V0QWxsKCkpe1xuICAgICAgICAgICAgZXhpc3RpbmdDb29raWVzLnNldChjb29raWUpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVJlcXVlc3RTdG9yZUZvclJlbmRlcihyZXEsIHJlcywgdXJsLCByb290UGFyYW1zLCBpbXBsaWNpdFRhZ3MsIG9uVXBkYXRlQ29va2llcywgcHJldmlld1Byb3BzLCBpc0htclJlZnJlc2gsIHNlcnZlckNvbXBvbmVudHNIbXJDYWNoZSwgcmVuZGVyUmVzdW1lRGF0YUNhY2hlLCBkZXZGYWxsYmFja1BhcmFtcykge1xuICAgIHJldHVybiBjcmVhdGVSZXF1ZXN0U3RvcmVJbXBsKC8vIFBhZ2VzIHN0YXJ0IGluIHJlbmRlciBwaGFzZSBieSBkZWZhdWx0XG4gICAgJ3JlbmRlcicsIHJlcSwgcmVzLCB1cmwsIHJvb3RQYXJhbXMsIGltcGxpY2l0VGFncywgb25VcGRhdGVDb29raWVzLCByZW5kZXJSZXN1bWVEYXRhQ2FjaGUsIHByZXZpZXdQcm9wcywgaXNIbXJSZWZyZXNoLCBzZXJ2ZXJDb21wb25lbnRzSG1yQ2FjaGUsIGRldkZhbGxiYWNrUGFyYW1zKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVSZXF1ZXN0U3RvcmVGb3JBUEkocmVxLCB1cmwsIGltcGxpY2l0VGFncywgb25VcGRhdGVDb29raWVzLCBwcmV2aWV3UHJvcHMpIHtcbiAgICByZXR1cm4gY3JlYXRlUmVxdWVzdFN0b3JlSW1wbCgvLyBBUEkgcm91dGVzIHN0YXJ0IGluIGFjdGlvbiBwaGFzZSBieSBkZWZhdWx0XG4gICAgJ2FjdGlvbicsIHJlcSwgdW5kZWZpbmVkLCB1cmwsIHt9LCBpbXBsaWNpdFRhZ3MsIG9uVXBkYXRlQ29va2llcywgdW5kZWZpbmVkLCBwcmV2aWV3UHJvcHMsIGZhbHNlLCB1bmRlZmluZWQsIG51bGwpO1xufVxuZnVuY3Rpb24gY3JlYXRlUmVxdWVzdFN0b3JlSW1wbChwaGFzZSwgcmVxLCByZXMsIHVybCwgcm9vdFBhcmFtcywgaW1wbGljaXRUYWdzLCBvblVwZGF0ZUNvb2tpZXMsIHJlbmRlclJlc3VtZURhdGFDYWNoZSwgcHJldmlld1Byb3BzLCBpc0htclJlZnJlc2gsIHNlcnZlckNvbXBvbmVudHNIbXJDYWNoZSwgZGV2RmFsbGJhY2tQYXJhbXMpIHtcbiAgICBmdW5jdGlvbiBkZWZhdWx0T25VcGRhdGVDb29raWVzKGNvb2tpZXMpIHtcbiAgICAgICAgaWYgKHJlcykge1xuICAgICAgICAgICAgcmVzLnNldEhlYWRlcignU2V0LUNvb2tpZScsIGNvb2tpZXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGNhY2hlID0ge307XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ3JlcXVlc3QnLFxuICAgICAgICBwaGFzZSxcbiAgICAgICAgaW1wbGljaXRUYWdzLFxuICAgICAgICAvLyBSYXRoZXIgdGhhbiBqdXN0IHVzaW5nIHRoZSB3aG9sZSBgdXJsYCBoZXJlLCB3ZSBwdWxsIHRoZSBwYXJ0cyB3ZSB3YW50XG4gICAgICAgIC8vIHRvIGVuc3VyZSB3ZSBkb24ndCB1c2UgcGFydHMgb2YgdGhlIFVSTCB0aGF0IHdlIHNob3VsZG4ndC4gVGhpcyBhbHNvXG4gICAgICAgIC8vIGxldHMgdXMgYXZvaWQgcmVxdWlyaW5nIGFuIGVtcHR5IHN0cmluZyBmb3IgYHNlYXJjaGAgaW4gdGhlIHR5cGUuXG4gICAgICAgIHVybDoge1xuICAgICAgICAgICAgcGF0aG5hbWU6IHVybC5wYXRobmFtZSxcbiAgICAgICAgICAgIHNlYXJjaDogdXJsLnNlYXJjaCA/PyAnJ1xuICAgICAgICB9LFxuICAgICAgICByb290UGFyYW1zLFxuICAgICAgICBnZXQgaGVhZGVycyAoKSB7XG4gICAgICAgICAgICBpZiAoIWNhY2hlLmhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICAvLyBTZWFsIHRoZSBoZWFkZXJzIG9iamVjdCB0aGF0J2xsIGZyZWV6ZSBvdXQgYW55IG1ldGhvZHMgdGhhdCBjb3VsZFxuICAgICAgICAgICAgICAgIC8vIG11dGF0ZSB0aGUgdW5kZXJseWluZyBkYXRhLlxuICAgICAgICAgICAgICAgIGNhY2hlLmhlYWRlcnMgPSBnZXRIZWFkZXJzKHJlcS5oZWFkZXJzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjYWNoZS5oZWFkZXJzO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgY29va2llcyAoKSB7XG4gICAgICAgICAgICBpZiAoIWNhY2hlLmNvb2tpZXMpIHtcbiAgICAgICAgICAgICAgICAvLyBpZiBtaWRkbGV3YXJlIGlzIHNldHRpbmcgY29va2llKHMpLCB0aGVuIGluY2x1ZGUgdGhvc2UgaW5cbiAgICAgICAgICAgICAgICAvLyB0aGUgaW5pdGlhbCBjYWNoZWQgY29va2llcyBzbyB0aGV5IGNhbiBiZSByZWFkIGluIHJlbmRlclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlcXVlc3RDb29raWVzID0gbmV3IFJlcXVlc3RDb29raWVzKEhlYWRlcnNBZGFwdGVyLmZyb20ocmVxLmhlYWRlcnMpKTtcbiAgICAgICAgICAgICAgICBtZXJnZU1pZGRsZXdhcmVDb29raWVzKHJlcSwgcmVxdWVzdENvb2tpZXMpO1xuICAgICAgICAgICAgICAgIC8vIFNlYWwgdGhlIGNvb2tpZXMgb2JqZWN0IHRoYXQnbGwgZnJlZXplIG91dCBhbnkgbWV0aG9kcyB0aGF0IGNvdWxkXG4gICAgICAgICAgICAgICAgLy8gbXV0YXRlIHRoZSB1bmRlcmx5aW5nIGRhdGEuXG4gICAgICAgICAgICAgICAgY2FjaGUuY29va2llcyA9IFJlcXVlc3RDb29raWVzQWRhcHRlci5zZWFsKHJlcXVlc3RDb29raWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjYWNoZS5jb29raWVzO1xuICAgICAgICB9LFxuICAgICAgICBzZXQgY29va2llcyAodmFsdWUpe1xuICAgICAgICAgICAgY2FjaGUuY29va2llcyA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgbXV0YWJsZUNvb2tpZXMgKCkge1xuICAgICAgICAgICAgaWYgKCFjYWNoZS5tdXRhYmxlQ29va2llcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG11dGFibGVDb29raWVzID0gZ2V0TXV0YWJsZUNvb2tpZXMocmVxLmhlYWRlcnMsIG9uVXBkYXRlQ29va2llcyB8fCAocmVzID8gZGVmYXVsdE9uVXBkYXRlQ29va2llcyA6IHVuZGVmaW5lZCkpO1xuICAgICAgICAgICAgICAgIG1lcmdlTWlkZGxld2FyZUNvb2tpZXMocmVxLCBtdXRhYmxlQ29va2llcyk7XG4gICAgICAgICAgICAgICAgY2FjaGUubXV0YWJsZUNvb2tpZXMgPSBtdXRhYmxlQ29va2llcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjYWNoZS5tdXRhYmxlQ29va2llcztcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IHVzZXJzcGFjZU11dGFibGVDb29raWVzICgpIHtcbiAgICAgICAgICAgIGlmICghY2FjaGUudXNlcnNwYWNlTXV0YWJsZUNvb2tpZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB1c2Vyc3BhY2VNdXRhYmxlQ29va2llcyA9IGNyZWF0ZUNvb2tpZXNXaXRoTXV0YWJsZUFjY2Vzc0NoZWNrKHRoaXMpO1xuICAgICAgICAgICAgICAgIGNhY2hlLnVzZXJzcGFjZU11dGFibGVDb29raWVzID0gdXNlcnNwYWNlTXV0YWJsZUNvb2tpZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2FjaGUudXNlcnNwYWNlTXV0YWJsZUNvb2tpZXM7XG4gICAgICAgIH0sXG4gICAgICAgIGdldCBkcmFmdE1vZGUgKCkge1xuICAgICAgICAgICAgaWYgKCFjYWNoZS5kcmFmdE1vZGUpIHtcbiAgICAgICAgICAgICAgICBjYWNoZS5kcmFmdE1vZGUgPSBuZXcgRHJhZnRNb2RlUHJvdmlkZXIocHJldmlld1Byb3BzLCByZXEsIHRoaXMuY29va2llcywgdGhpcy5tdXRhYmxlQ29va2llcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2FjaGUuZHJhZnRNb2RlO1xuICAgICAgICB9LFxuICAgICAgICByZW5kZXJSZXN1bWVEYXRhQ2FjaGU6IHJlbmRlclJlc3VtZURhdGFDYWNoZSA/PyBudWxsLFxuICAgICAgICBpc0htclJlZnJlc2gsXG4gICAgICAgIHNlcnZlckNvbXBvbmVudHNIbXJDYWNoZTogc2VydmVyQ29tcG9uZW50c0htckNhY2hlIHx8IGdsb2JhbFRoaXMuX19zZXJ2ZXJDb21wb25lbnRzSG1yQ2FjaGUsXG4gICAgICAgIGRldkZhbGxiYWNrUGFyYW1zXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzeW5jaHJvbml6ZU11dGFibGVDb29raWVzKHN0b3JlKSB7XG4gICAgLy8gVE9ETzogZG9lcyB0aGlzIG5lZWQgdG8gdXBkYXRlIGhlYWRlcnMgYXMgd2VsbD9cbiAgICBzdG9yZS5jb29raWVzID0gUmVxdWVzdENvb2tpZXNBZGFwdGVyLnNlYWwocmVzcG9uc2VDb29raWVzVG9SZXF1ZXN0Q29va2llcyhzdG9yZS5tdXRhYmxlQ29va2llcykpO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXF1ZXN0LXN0b3JlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/async-storage/request-store.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/async-storage/work-store.js":
/*!***********************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/async-storage/work-store.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createWorkStore: () => (/* binding */ createWorkStore)\n/* harmony export */ });\n/* harmony import */ var _after_after_context__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../after/after-context */ \"(middleware)/./node_modules/next/dist/esm/server/after/after-context.js\");\n/* harmony import */ var _shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/lib/router/utils/app-paths */ \"(middleware)/./node_modules/next/dist/esm/shared/lib/router/utils/app-paths.js\");\n/* harmony import */ var _lib_lazy_result__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/lazy-result */ \"(middleware)/./node_modules/next/dist/esm/server/lib/lazy-result.js\");\n/* harmony import */ var _use_cache_handlers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../use-cache/handlers */ \"(middleware)/./node_modules/next/dist/esm/server/use-cache/handlers.js\");\n/* harmony import */ var _app_render_async_local_storage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../app-render/async-local-storage */ \"(middleware)/./node_modules/next/dist/esm/server/app-render/async-local-storage.js\");\n\n\n\n\n\nfunction createWorkStore({ page, renderOpts, isPrefetchRequest, buildId, previouslyRevalidatedTags }) {\n    /**\n   * Rules of Static & Dynamic HTML:\n   *\n   *    1.) We must generate static HTML unless the caller explicitly opts\n   *        in to dynamic HTML support.\n   *\n   *    2.) If dynamic HTML support is requested, we must honor that request\n   *        or throw an error. It is the sole responsibility of the caller to\n   *        ensure they aren't e.g. requesting dynamic HTML for an AMP page.\n   *\n   *    3.) If the request is in draft mode, we must generate dynamic HTML.\n   *\n   *    4.) If the request is a server action, we must generate dynamic HTML.\n   *\n   * These rules help ensure that other existing features like request caching,\n   * coalescing, and ISR continue working as intended.\n   */ const isStaticGeneration = !renderOpts.shouldWaitOnAllReady && !renderOpts.supportsDynamicResponse && !renderOpts.isDraftMode && !renderOpts.isPossibleServerAction;\n    const isDevelopment = renderOpts.dev ?? false;\n    const shouldTrackFetchMetrics = isDevelopment || // The only times we want to track fetch metrics outside of development is\n    // when we are performing a static generation and we either are in debug\n    // mode, or tracking fetch metrics was specifically opted into.\n    isStaticGeneration && (!!process.env.NEXT_DEBUG_BUILD || process.env.NEXT_SSG_FETCH_METRICS === '1');\n    const store = {\n        isStaticGeneration,\n        page,\n        route: (0,_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_1__.normalizeAppPath)(page),\n        incrementalCache: // we fallback to a global incremental cache for edge-runtime locally\n        // so that it can access the fs cache without mocks\n        renderOpts.incrementalCache || globalThis.__incrementalCache,\n        cacheLifeProfiles: renderOpts.cacheLifeProfiles,\n        isRevalidate: renderOpts.isRevalidate,\n        isBuildTimePrerendering: renderOpts.nextExport,\n        hasReadableErrorStacks: renderOpts.hasReadableErrorStacks,\n        fetchCache: renderOpts.fetchCache,\n        isOnDemandRevalidate: renderOpts.isOnDemandRevalidate,\n        isDraftMode: renderOpts.isDraftMode,\n        isPrefetchRequest,\n        buildId,\n        reactLoadableManifest: (renderOpts == null ? void 0 : renderOpts.reactLoadableManifest) || {},\n        assetPrefix: (renderOpts == null ? void 0 : renderOpts.assetPrefix) || '',\n        afterContext: createAfterContext(renderOpts),\n        cacheComponentsEnabled: renderOpts.experimental.cacheComponents,\n        dev: isDevelopment,\n        previouslyRevalidatedTags,\n        refreshTagsByCacheKind: createRefreshTagsByCacheKind(),\n        runInCleanSnapshot: (0,_app_render_async_local_storage__WEBPACK_IMPORTED_MODULE_4__.createSnapshot)(),\n        shouldTrackFetchMetrics\n    };\n    // TODO: remove this when we resolve accessing the store outside the execution context\n    renderOpts.store = store;\n    return store;\n}\nfunction createAfterContext(renderOpts) {\n    const { waitUntil, onClose, onAfterTaskError } = renderOpts;\n    return new _after_after_context__WEBPACK_IMPORTED_MODULE_0__.AfterContext({\n        waitUntil,\n        onClose,\n        onTaskError: onAfterTaskError\n    });\n}\n/**\n * Creates a map with lazy results that refresh tags for the respective cache\n * kind when they're awaited for the first time.\n */ function createRefreshTagsByCacheKind() {\n    const refreshTagsByCacheKind = new Map();\n    const cacheHandlers = (0,_use_cache_handlers__WEBPACK_IMPORTED_MODULE_3__.getCacheHandlerEntries)();\n    if (cacheHandlers) {\n        for (const [kind, cacheHandler] of cacheHandlers){\n            if ('refreshTags' in cacheHandler) {\n                refreshTagsByCacheKind.set(kind, (0,_lib_lazy_result__WEBPACK_IMPORTED_MODULE_2__.createLazyResult)(async ()=>cacheHandler.refreshTags()));\n            }\n        }\n    }\n    return refreshTagsByCacheKind;\n}\n\n//# sourceMappingURL=work-store.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL2FzeW5jLXN0b3JhZ2Uvd29yay1zdG9yZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBc0Q7QUFDcUI7QUFDckI7QUFDUztBQUNJO0FBQzVELDJCQUEyQix5RUFBeUU7QUFDM0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG9GQUFnQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxR0FBcUc7QUFDckc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLCtFQUFjO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSx1Q0FBdUM7QUFDbkQsZUFBZSw4REFBWTtBQUMzQjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDJFQUFzQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsa0VBQWdCO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXG5leHRcXGRpc3RcXGVzbVxcc2VydmVyXFxhc3luYy1zdG9yYWdlXFx3b3JrLXN0b3JlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFmdGVyQ29udGV4dCB9IGZyb20gJy4uL2FmdGVyL2FmdGVyLWNvbnRleHQnO1xuaW1wb3J0IHsgbm9ybWFsaXplQXBwUGF0aCB9IGZyb20gJy4uLy4uL3NoYXJlZC9saWIvcm91dGVyL3V0aWxzL2FwcC1wYXRocyc7XG5pbXBvcnQgeyBjcmVhdGVMYXp5UmVzdWx0IH0gZnJvbSAnLi4vbGliL2xhenktcmVzdWx0JztcbmltcG9ydCB7IGdldENhY2hlSGFuZGxlckVudHJpZXMgfSBmcm9tICcuLi91c2UtY2FjaGUvaGFuZGxlcnMnO1xuaW1wb3J0IHsgY3JlYXRlU25hcHNob3QgfSBmcm9tICcuLi9hcHAtcmVuZGVyL2FzeW5jLWxvY2FsLXN0b3JhZ2UnO1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVdvcmtTdG9yZSh7IHBhZ2UsIHJlbmRlck9wdHMsIGlzUHJlZmV0Y2hSZXF1ZXN0LCBidWlsZElkLCBwcmV2aW91c2x5UmV2YWxpZGF0ZWRUYWdzIH0pIHtcbiAgICAvKipcbiAgICogUnVsZXMgb2YgU3RhdGljICYgRHluYW1pYyBIVE1MOlxuICAgKlxuICAgKiAgICAxLikgV2UgbXVzdCBnZW5lcmF0ZSBzdGF0aWMgSFRNTCB1bmxlc3MgdGhlIGNhbGxlciBleHBsaWNpdGx5IG9wdHNcbiAgICogICAgICAgIGluIHRvIGR5bmFtaWMgSFRNTCBzdXBwb3J0LlxuICAgKlxuICAgKiAgICAyLikgSWYgZHluYW1pYyBIVE1MIHN1cHBvcnQgaXMgcmVxdWVzdGVkLCB3ZSBtdXN0IGhvbm9yIHRoYXQgcmVxdWVzdFxuICAgKiAgICAgICAgb3IgdGhyb3cgYW4gZXJyb3IuIEl0IGlzIHRoZSBzb2xlIHJlc3BvbnNpYmlsaXR5IG9mIHRoZSBjYWxsZXIgdG9cbiAgICogICAgICAgIGVuc3VyZSB0aGV5IGFyZW4ndCBlLmcuIHJlcXVlc3RpbmcgZHluYW1pYyBIVE1MIGZvciBhbiBBTVAgcGFnZS5cbiAgICpcbiAgICogICAgMy4pIElmIHRoZSByZXF1ZXN0IGlzIGluIGRyYWZ0IG1vZGUsIHdlIG11c3QgZ2VuZXJhdGUgZHluYW1pYyBIVE1MLlxuICAgKlxuICAgKiAgICA0LikgSWYgdGhlIHJlcXVlc3QgaXMgYSBzZXJ2ZXIgYWN0aW9uLCB3ZSBtdXN0IGdlbmVyYXRlIGR5bmFtaWMgSFRNTC5cbiAgICpcbiAgICogVGhlc2UgcnVsZXMgaGVscCBlbnN1cmUgdGhhdCBvdGhlciBleGlzdGluZyBmZWF0dXJlcyBsaWtlIHJlcXVlc3QgY2FjaGluZyxcbiAgICogY29hbGVzY2luZywgYW5kIElTUiBjb250aW51ZSB3b3JraW5nIGFzIGludGVuZGVkLlxuICAgKi8gY29uc3QgaXNTdGF0aWNHZW5lcmF0aW9uID0gIXJlbmRlck9wdHMuc2hvdWxkV2FpdE9uQWxsUmVhZHkgJiYgIXJlbmRlck9wdHMuc3VwcG9ydHNEeW5hbWljUmVzcG9uc2UgJiYgIXJlbmRlck9wdHMuaXNEcmFmdE1vZGUgJiYgIXJlbmRlck9wdHMuaXNQb3NzaWJsZVNlcnZlckFjdGlvbjtcbiAgICBjb25zdCBpc0RldmVsb3BtZW50ID0gcmVuZGVyT3B0cy5kZXYgPz8gZmFsc2U7XG4gICAgY29uc3Qgc2hvdWxkVHJhY2tGZXRjaE1ldHJpY3MgPSBpc0RldmVsb3BtZW50IHx8IC8vIFRoZSBvbmx5IHRpbWVzIHdlIHdhbnQgdG8gdHJhY2sgZmV0Y2ggbWV0cmljcyBvdXRzaWRlIG9mIGRldmVsb3BtZW50IGlzXG4gICAgLy8gd2hlbiB3ZSBhcmUgcGVyZm9ybWluZyBhIHN0YXRpYyBnZW5lcmF0aW9uIGFuZCB3ZSBlaXRoZXIgYXJlIGluIGRlYnVnXG4gICAgLy8gbW9kZSwgb3IgdHJhY2tpbmcgZmV0Y2ggbWV0cmljcyB3YXMgc3BlY2lmaWNhbGx5IG9wdGVkIGludG8uXG4gICAgaXNTdGF0aWNHZW5lcmF0aW9uICYmICghIXByb2Nlc3MuZW52Lk5FWFRfREVCVUdfQlVJTEQgfHwgcHJvY2Vzcy5lbnYuTkVYVF9TU0dfRkVUQ0hfTUVUUklDUyA9PT0gJzEnKTtcbiAgICBjb25zdCBzdG9yZSA9IHtcbiAgICAgICAgaXNTdGF0aWNHZW5lcmF0aW9uLFxuICAgICAgICBwYWdlLFxuICAgICAgICByb3V0ZTogbm9ybWFsaXplQXBwUGF0aChwYWdlKSxcbiAgICAgICAgaW5jcmVtZW50YWxDYWNoZTogLy8gd2UgZmFsbGJhY2sgdG8gYSBnbG9iYWwgaW5jcmVtZW50YWwgY2FjaGUgZm9yIGVkZ2UtcnVudGltZSBsb2NhbGx5XG4gICAgICAgIC8vIHNvIHRoYXQgaXQgY2FuIGFjY2VzcyB0aGUgZnMgY2FjaGUgd2l0aG91dCBtb2Nrc1xuICAgICAgICByZW5kZXJPcHRzLmluY3JlbWVudGFsQ2FjaGUgfHwgZ2xvYmFsVGhpcy5fX2luY3JlbWVudGFsQ2FjaGUsXG4gICAgICAgIGNhY2hlTGlmZVByb2ZpbGVzOiByZW5kZXJPcHRzLmNhY2hlTGlmZVByb2ZpbGVzLFxuICAgICAgICBpc1JldmFsaWRhdGU6IHJlbmRlck9wdHMuaXNSZXZhbGlkYXRlLFxuICAgICAgICBpc0J1aWxkVGltZVByZXJlbmRlcmluZzogcmVuZGVyT3B0cy5uZXh0RXhwb3J0LFxuICAgICAgICBoYXNSZWFkYWJsZUVycm9yU3RhY2tzOiByZW5kZXJPcHRzLmhhc1JlYWRhYmxlRXJyb3JTdGFja3MsXG4gICAgICAgIGZldGNoQ2FjaGU6IHJlbmRlck9wdHMuZmV0Y2hDYWNoZSxcbiAgICAgICAgaXNPbkRlbWFuZFJldmFsaWRhdGU6IHJlbmRlck9wdHMuaXNPbkRlbWFuZFJldmFsaWRhdGUsXG4gICAgICAgIGlzRHJhZnRNb2RlOiByZW5kZXJPcHRzLmlzRHJhZnRNb2RlLFxuICAgICAgICBpc1ByZWZldGNoUmVxdWVzdCxcbiAgICAgICAgYnVpbGRJZCxcbiAgICAgICAgcmVhY3RMb2FkYWJsZU1hbmlmZXN0OiAocmVuZGVyT3B0cyA9PSBudWxsID8gdm9pZCAwIDogcmVuZGVyT3B0cy5yZWFjdExvYWRhYmxlTWFuaWZlc3QpIHx8IHt9LFxuICAgICAgICBhc3NldFByZWZpeDogKHJlbmRlck9wdHMgPT0gbnVsbCA/IHZvaWQgMCA6IHJlbmRlck9wdHMuYXNzZXRQcmVmaXgpIHx8ICcnLFxuICAgICAgICBhZnRlckNvbnRleHQ6IGNyZWF0ZUFmdGVyQ29udGV4dChyZW5kZXJPcHRzKSxcbiAgICAgICAgY2FjaGVDb21wb25lbnRzRW5hYmxlZDogcmVuZGVyT3B0cy5leHBlcmltZW50YWwuY2FjaGVDb21wb25lbnRzLFxuICAgICAgICBkZXY6IGlzRGV2ZWxvcG1lbnQsXG4gICAgICAgIHByZXZpb3VzbHlSZXZhbGlkYXRlZFRhZ3MsXG4gICAgICAgIHJlZnJlc2hUYWdzQnlDYWNoZUtpbmQ6IGNyZWF0ZVJlZnJlc2hUYWdzQnlDYWNoZUtpbmQoKSxcbiAgICAgICAgcnVuSW5DbGVhblNuYXBzaG90OiBjcmVhdGVTbmFwc2hvdCgpLFxuICAgICAgICBzaG91bGRUcmFja0ZldGNoTWV0cmljc1xuICAgIH07XG4gICAgLy8gVE9ETzogcmVtb3ZlIHRoaXMgd2hlbiB3ZSByZXNvbHZlIGFjY2Vzc2luZyB0aGUgc3RvcmUgb3V0c2lkZSB0aGUgZXhlY3V0aW9uIGNvbnRleHRcbiAgICByZW5kZXJPcHRzLnN0b3JlID0gc3RvcmU7XG4gICAgcmV0dXJuIHN0b3JlO1xufVxuZnVuY3Rpb24gY3JlYXRlQWZ0ZXJDb250ZXh0KHJlbmRlck9wdHMpIHtcbiAgICBjb25zdCB7IHdhaXRVbnRpbCwgb25DbG9zZSwgb25BZnRlclRhc2tFcnJvciB9ID0gcmVuZGVyT3B0cztcbiAgICByZXR1cm4gbmV3IEFmdGVyQ29udGV4dCh7XG4gICAgICAgIHdhaXRVbnRpbCxcbiAgICAgICAgb25DbG9zZSxcbiAgICAgICAgb25UYXNrRXJyb3I6IG9uQWZ0ZXJUYXNrRXJyb3JcbiAgICB9KTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hcCB3aXRoIGxhenkgcmVzdWx0cyB0aGF0IHJlZnJlc2ggdGFncyBmb3IgdGhlIHJlc3BlY3RpdmUgY2FjaGVcbiAqIGtpbmQgd2hlbiB0aGV5J3JlIGF3YWl0ZWQgZm9yIHRoZSBmaXJzdCB0aW1lLlxuICovIGZ1bmN0aW9uIGNyZWF0ZVJlZnJlc2hUYWdzQnlDYWNoZUtpbmQoKSB7XG4gICAgY29uc3QgcmVmcmVzaFRhZ3NCeUNhY2hlS2luZCA9IG5ldyBNYXAoKTtcbiAgICBjb25zdCBjYWNoZUhhbmRsZXJzID0gZ2V0Q2FjaGVIYW5kbGVyRW50cmllcygpO1xuICAgIGlmIChjYWNoZUhhbmRsZXJzKSB7XG4gICAgICAgIGZvciAoY29uc3QgW2tpbmQsIGNhY2hlSGFuZGxlcl0gb2YgY2FjaGVIYW5kbGVycyl7XG4gICAgICAgICAgICBpZiAoJ3JlZnJlc2hUYWdzJyBpbiBjYWNoZUhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICByZWZyZXNoVGFnc0J5Q2FjaGVLaW5kLnNldChraW5kLCBjcmVhdGVMYXp5UmVzdWx0KGFzeW5jICgpPT5jYWNoZUhhbmRsZXIucmVmcmVzaFRhZ3MoKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZWZyZXNoVGFnc0J5Q2FjaGVLaW5kO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD13b3JrLXN0b3JlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/async-storage/work-store.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/create-deduped-by-callsite-server-error-logger.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/create-deduped-by-callsite-server-error-logger.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createDedupedByCallsiteServerErrorLoggerDev: () => (/* binding */ createDedupedByCallsiteServerErrorLoggerDev)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(middleware)/./node_modules/next/dist/compiled/react/react.react-server.js\");\n\nconst errorRef = {\n    current: null\n};\n// React.cache is currently only available in canary/experimental React channels.\nconst cache = typeof react__WEBPACK_IMPORTED_MODULE_0__.cache === 'function' ? react__WEBPACK_IMPORTED_MODULE_0__.cache : (fn)=>fn;\n// When Cache Components is enabled, we record these as errors so that they\n// are captured by the dev overlay as it's more critical to fix these\n// when enabled.\nconst logErrorOrWarn =  false ? 0 : console.warn;\n// We don't want to dedupe across requests.\n// The developer might've just attempted to fix the warning so we should warn again if it still happens.\nconst flushCurrentErrorIfNew = cache(// eslint-disable-next-line @typescript-eslint/no-unused-vars -- cache key\n(key)=>{\n    try {\n        logErrorOrWarn(errorRef.current);\n    } finally{\n        errorRef.current = null;\n    }\n});\n/**\n * Creates a function that logs an error message that is deduped by the userland\n * callsite.\n * This requires no indirection between the call of this function and the userland\n * callsite i.e. there's only a single library frame above this.\n * Do not use on the Client where sourcemaps and ignore listing might be enabled.\n * Only use that for warnings need a fix independent of the callstack.\n *\n * @param getMessage\n * @returns\n */ function createDedupedByCallsiteServerErrorLoggerDev(getMessage) {\n    return function logDedupedError(...args) {\n        const message = getMessage(...args);\n        if (true) {\n            var _stack;\n            const callStackFrames = (_stack = new Error().stack) == null ? void 0 : _stack.split('\\n');\n            if (callStackFrames === undefined || callStackFrames.length < 4) {\n                logErrorOrWarn(message);\n            } else {\n                // Error:\n                //   logDedupedError\n                //   asyncApiBeingAccessedSynchronously\n                //   <userland callsite>\n                // TODO: This breaks if sourcemaps with ignore lists are enabled.\n                const key = callStackFrames[4];\n                errorRef.current = message;\n                flushCurrentErrorIfNew(key);\n            }\n        } else {}\n    };\n}\n\n//# sourceMappingURL=create-deduped-by-callsite-server-error-logger.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL2NyZWF0ZS1kZWR1cGVkLWJ5LWNhbGxzaXRlLXNlcnZlci1lcnJvci1sb2dnZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsd0NBQVcsa0JBQWtCLHdDQUFXO0FBQzdEO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixNQUFtQyxHQUFHLENBQWE7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFXO0FBQ1g7QUFDQTtBQUNBLFlBQVksSUFBcUM7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxLQUFLLEVBRU47QUFDVDtBQUNBOztBQUVBIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxuZXh0XFxkaXN0XFxlc21cXHNlcnZlclxcY3JlYXRlLWRlZHVwZWQtYnktY2FsbHNpdGUtc2VydmVyLWVycm9yLWxvZ2dlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5jb25zdCBlcnJvclJlZiA9IHtcbiAgICBjdXJyZW50OiBudWxsXG59O1xuLy8gUmVhY3QuY2FjaGUgaXMgY3VycmVudGx5IG9ubHkgYXZhaWxhYmxlIGluIGNhbmFyeS9leHBlcmltZW50YWwgUmVhY3QgY2hhbm5lbHMuXG5jb25zdCBjYWNoZSA9IHR5cGVvZiBSZWFjdC5jYWNoZSA9PT0gJ2Z1bmN0aW9uJyA/IFJlYWN0LmNhY2hlIDogKGZuKT0+Zm47XG4vLyBXaGVuIENhY2hlIENvbXBvbmVudHMgaXMgZW5hYmxlZCwgd2UgcmVjb3JkIHRoZXNlIGFzIGVycm9ycyBzbyB0aGF0IHRoZXlcbi8vIGFyZSBjYXB0dXJlZCBieSB0aGUgZGV2IG92ZXJsYXkgYXMgaXQncyBtb3JlIGNyaXRpY2FsIHRvIGZpeCB0aGVzZVxuLy8gd2hlbiBlbmFibGVkLlxuY29uc3QgbG9nRXJyb3JPcldhcm4gPSBwcm9jZXNzLmVudi5fX05FWFRfQ0FDSEVfQ09NUE9ORU5UUyA/IGNvbnNvbGUuZXJyb3IgOiBjb25zb2xlLndhcm47XG4vLyBXZSBkb24ndCB3YW50IHRvIGRlZHVwZSBhY3Jvc3MgcmVxdWVzdHMuXG4vLyBUaGUgZGV2ZWxvcGVyIG1pZ2h0J3ZlIGp1c3QgYXR0ZW1wdGVkIHRvIGZpeCB0aGUgd2FybmluZyBzbyB3ZSBzaG91bGQgd2FybiBhZ2FpbiBpZiBpdCBzdGlsbCBoYXBwZW5zLlxuY29uc3QgZmx1c2hDdXJyZW50RXJyb3JJZk5ldyA9IGNhY2hlKC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnMgLS0gY2FjaGUga2V5XG4oa2V5KT0+e1xuICAgIHRyeSB7XG4gICAgICAgIGxvZ0Vycm9yT3JXYXJuKGVycm9yUmVmLmN1cnJlbnQpO1xuICAgIH0gZmluYWxseXtcbiAgICAgICAgZXJyb3JSZWYuY3VycmVudCA9IG51bGw7XG4gICAgfVxufSk7XG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGxvZ3MgYW4gZXJyb3IgbWVzc2FnZSB0aGF0IGlzIGRlZHVwZWQgYnkgdGhlIHVzZXJsYW5kXG4gKiBjYWxsc2l0ZS5cbiAqIFRoaXMgcmVxdWlyZXMgbm8gaW5kaXJlY3Rpb24gYmV0d2VlbiB0aGUgY2FsbCBvZiB0aGlzIGZ1bmN0aW9uIGFuZCB0aGUgdXNlcmxhbmRcbiAqIGNhbGxzaXRlIGkuZS4gdGhlcmUncyBvbmx5IGEgc2luZ2xlIGxpYnJhcnkgZnJhbWUgYWJvdmUgdGhpcy5cbiAqIERvIG5vdCB1c2Ugb24gdGhlIENsaWVudCB3aGVyZSBzb3VyY2VtYXBzIGFuZCBpZ25vcmUgbGlzdGluZyBtaWdodCBiZSBlbmFibGVkLlxuICogT25seSB1c2UgdGhhdCBmb3Igd2FybmluZ3MgbmVlZCBhIGZpeCBpbmRlcGVuZGVudCBvZiB0aGUgY2FsbHN0YWNrLlxuICpcbiAqIEBwYXJhbSBnZXRNZXNzYWdlXG4gKiBAcmV0dXJuc1xuICovIGV4cG9ydCBmdW5jdGlvbiBjcmVhdGVEZWR1cGVkQnlDYWxsc2l0ZVNlcnZlckVycm9yTG9nZ2VyRGV2KGdldE1lc3NhZ2UpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gbG9nRGVkdXBlZEVycm9yKC4uLmFyZ3MpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGdldE1lc3NhZ2UoLi4uYXJncyk7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICB2YXIgX3N0YWNrO1xuICAgICAgICAgICAgY29uc3QgY2FsbFN0YWNrRnJhbWVzID0gKF9zdGFjayA9IG5ldyBFcnJvcigpLnN0YWNrKSA9PSBudWxsID8gdm9pZCAwIDogX3N0YWNrLnNwbGl0KCdcXG4nKTtcbiAgICAgICAgICAgIGlmIChjYWxsU3RhY2tGcmFtZXMgPT09IHVuZGVmaW5lZCB8fCBjYWxsU3RhY2tGcmFtZXMubGVuZ3RoIDwgNCkge1xuICAgICAgICAgICAgICAgIGxvZ0Vycm9yT3JXYXJuKG1lc3NhZ2UpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBFcnJvcjpcbiAgICAgICAgICAgICAgICAvLyAgIGxvZ0RlZHVwZWRFcnJvclxuICAgICAgICAgICAgICAgIC8vICAgYXN5bmNBcGlCZWluZ0FjY2Vzc2VkU3luY2hyb25vdXNseVxuICAgICAgICAgICAgICAgIC8vICAgPHVzZXJsYW5kIGNhbGxzaXRlPlxuICAgICAgICAgICAgICAgIC8vIFRPRE86IFRoaXMgYnJlYWtzIGlmIHNvdXJjZW1hcHMgd2l0aCBpZ25vcmUgbGlzdHMgYXJlIGVuYWJsZWQuXG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gY2FsbFN0YWNrRnJhbWVzWzRdO1xuICAgICAgICAgICAgICAgIGVycm9yUmVmLmN1cnJlbnQgPSBtZXNzYWdlO1xuICAgICAgICAgICAgICAgIGZsdXNoQ3VycmVudEVycm9ySWZOZXcoa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxvZ0Vycm9yT3JXYXJuKG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3JlYXRlLWRlZHVwZWQtYnktY2FsbHNpdGUtc2VydmVyLWVycm9yLWxvZ2dlci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/create-deduped-by-callsite-server-error-logger.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/dynamic-rendering-utils.js":
/*!**********************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/dynamic-rendering-utils.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isHangingPromiseRejectionError: () => (/* binding */ isHangingPromiseRejectionError),\n/* harmony export */   makeDevtoolsIOAwarePromise: () => (/* binding */ makeDevtoolsIOAwarePromise),\n/* harmony export */   makeHangingPromise: () => (/* binding */ makeHangingPromise)\n/* harmony export */ });\nfunction isHangingPromiseRejectionError(err) {\n    if (typeof err !== 'object' || err === null || !('digest' in err)) {\n        return false;\n    }\n    return err.digest === HANGING_PROMISE_REJECTION;\n}\nconst HANGING_PROMISE_REJECTION = 'HANGING_PROMISE_REJECTION';\nclass HangingPromiseRejectionError extends Error {\n    constructor(route, expression){\n        super(`During prerendering, ${expression} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${expression} to a different context by using \\`setTimeout\\`, \\`after\\`, or similar functions you may observe this error and you should handle it in that context. This occurred at route \"${route}\".`), this.route = route, this.expression = expression, this.digest = HANGING_PROMISE_REJECTION;\n    }\n}\nconst abortListenersBySignal = new WeakMap();\n/**\n * This function constructs a promise that will never resolve. This is primarily\n * useful for cacheComponents where we use promise resolution timing to determine which\n * parts of a render can be included in a prerender.\n *\n * @internal\n */ function makeHangingPromise(signal, route, expression) {\n    if (signal.aborted) {\n        return Promise.reject(new HangingPromiseRejectionError(route, expression));\n    } else {\n        const hangingPromise = new Promise((_, reject)=>{\n            const boundRejection = reject.bind(null, new HangingPromiseRejectionError(route, expression));\n            let currentListeners = abortListenersBySignal.get(signal);\n            if (currentListeners) {\n                currentListeners.push(boundRejection);\n            } else {\n                const listeners = [\n                    boundRejection\n                ];\n                abortListenersBySignal.set(signal, listeners);\n                signal.addEventListener('abort', ()=>{\n                    for(let i = 0; i < listeners.length; i++){\n                        listeners[i]();\n                    }\n                }, {\n                    once: true\n                });\n            }\n        });\n        // We are fine if no one actually awaits this promise. We shouldn't consider this an unhandled rejection so\n        // we attach a noop catch handler here to suppress this warning. If you actually await somewhere or construct\n        // your own promise out of it you'll need to ensure you handle the error when it rejects.\n        hangingPromise.catch(ignoreReject);\n        return hangingPromise;\n    }\n}\nfunction ignoreReject() {}\nfunction makeDevtoolsIOAwarePromise(underlying) {\n    // in React DevTools if we resolve in a setTimeout we will observe\n    // the promise resolution as something that can suspend a boundary or root.\n    return new Promise((resolve)=>{\n        // Must use setTimeout to be considered IO React DevTools. setImmediate will not work.\n        setTimeout(()=>{\n            resolve(underlying);\n        }, 0);\n    });\n}\n\n//# sourceMappingURL=dynamic-rendering-utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL2R5bmFtaWMtcmVuZGVyaW5nLXV0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxZQUFZLHNHQUFzRyxZQUFZLCtLQUErSyxNQUFNO0FBQ3pWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQVc7QUFDWDtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxzQkFBc0I7QUFDekQ7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMOztBQUVBIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxuZXh0XFxkaXN0XFxlc21cXHNlcnZlclxcZHluYW1pYy1yZW5kZXJpbmctdXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGlzSGFuZ2luZ1Byb21pc2VSZWplY3Rpb25FcnJvcihlcnIpIHtcbiAgICBpZiAodHlwZW9mIGVyciAhPT0gJ29iamVjdCcgfHwgZXJyID09PSBudWxsIHx8ICEoJ2RpZ2VzdCcgaW4gZXJyKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBlcnIuZGlnZXN0ID09PSBIQU5HSU5HX1BST01JU0VfUkVKRUNUSU9OO1xufVxuY29uc3QgSEFOR0lOR19QUk9NSVNFX1JFSkVDVElPTiA9ICdIQU5HSU5HX1BST01JU0VfUkVKRUNUSU9OJztcbmNsYXNzIEhhbmdpbmdQcm9taXNlUmVqZWN0aW9uRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3Iocm91dGUsIGV4cHJlc3Npb24pe1xuICAgICAgICBzdXBlcihgRHVyaW5nIHByZXJlbmRlcmluZywgJHtleHByZXNzaW9ufSByZWplY3RzIHdoZW4gdGhlIHByZXJlbmRlciBpcyBjb21wbGV0ZS4gVHlwaWNhbGx5IHRoZXNlIGVycm9ycyBhcmUgaGFuZGxlZCBieSBSZWFjdCBidXQgaWYgeW91IG1vdmUgJHtleHByZXNzaW9ufSB0byBhIGRpZmZlcmVudCBjb250ZXh0IGJ5IHVzaW5nIFxcYHNldFRpbWVvdXRcXGAsIFxcYGFmdGVyXFxgLCBvciBzaW1pbGFyIGZ1bmN0aW9ucyB5b3UgbWF5IG9ic2VydmUgdGhpcyBlcnJvciBhbmQgeW91IHNob3VsZCBoYW5kbGUgaXQgaW4gdGhhdCBjb250ZXh0LiBUaGlzIG9jY3VycmVkIGF0IHJvdXRlIFwiJHtyb3V0ZX1cIi5gKSwgdGhpcy5yb3V0ZSA9IHJvdXRlLCB0aGlzLmV4cHJlc3Npb24gPSBleHByZXNzaW9uLCB0aGlzLmRpZ2VzdCA9IEhBTkdJTkdfUFJPTUlTRV9SRUpFQ1RJT047XG4gICAgfVxufVxuY29uc3QgYWJvcnRMaXN0ZW5lcnNCeVNpZ25hbCA9IG5ldyBXZWFrTWFwKCk7XG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gY29uc3RydWN0cyBhIHByb21pc2UgdGhhdCB3aWxsIG5ldmVyIHJlc29sdmUuIFRoaXMgaXMgcHJpbWFyaWx5XG4gKiB1c2VmdWwgZm9yIGNhY2hlQ29tcG9uZW50cyB3aGVyZSB3ZSB1c2UgcHJvbWlzZSByZXNvbHV0aW9uIHRpbWluZyB0byBkZXRlcm1pbmUgd2hpY2hcbiAqIHBhcnRzIG9mIGEgcmVuZGVyIGNhbiBiZSBpbmNsdWRlZCBpbiBhIHByZXJlbmRlci5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqLyBleHBvcnQgZnVuY3Rpb24gbWFrZUhhbmdpbmdQcm9taXNlKHNpZ25hbCwgcm91dGUsIGV4cHJlc3Npb24pIHtcbiAgICBpZiAoc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBIYW5naW5nUHJvbWlzZVJlamVjdGlvbkVycm9yKHJvdXRlLCBleHByZXNzaW9uKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgaGFuZ2luZ1Byb21pc2UgPSBuZXcgUHJvbWlzZSgoXywgcmVqZWN0KT0+e1xuICAgICAgICAgICAgY29uc3QgYm91bmRSZWplY3Rpb24gPSByZWplY3QuYmluZChudWxsLCBuZXcgSGFuZ2luZ1Byb21pc2VSZWplY3Rpb25FcnJvcihyb3V0ZSwgZXhwcmVzc2lvbikpO1xuICAgICAgICAgICAgbGV0IGN1cnJlbnRMaXN0ZW5lcnMgPSBhYm9ydExpc3RlbmVyc0J5U2lnbmFsLmdldChzaWduYWwpO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50TGlzdGVuZXJzLnB1c2goYm91bmRSZWplY3Rpb24pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSBbXG4gICAgICAgICAgICAgICAgICAgIGJvdW5kUmVqZWN0aW9uXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICBhYm9ydExpc3RlbmVyc0J5U2lnbmFsLnNldChzaWduYWwsIGxpc3RlbmVycyk7XG4gICAgICAgICAgICAgICAgc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgKCk9PntcbiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnNbaV0oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgb25jZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gV2UgYXJlIGZpbmUgaWYgbm8gb25lIGFjdHVhbGx5IGF3YWl0cyB0aGlzIHByb21pc2UuIFdlIHNob3VsZG4ndCBjb25zaWRlciB0aGlzIGFuIHVuaGFuZGxlZCByZWplY3Rpb24gc29cbiAgICAgICAgLy8gd2UgYXR0YWNoIGEgbm9vcCBjYXRjaCBoYW5kbGVyIGhlcmUgdG8gc3VwcHJlc3MgdGhpcyB3YXJuaW5nLiBJZiB5b3UgYWN0dWFsbHkgYXdhaXQgc29tZXdoZXJlIG9yIGNvbnN0cnVjdFxuICAgICAgICAvLyB5b3VyIG93biBwcm9taXNlIG91dCBvZiBpdCB5b3UnbGwgbmVlZCB0byBlbnN1cmUgeW91IGhhbmRsZSB0aGUgZXJyb3Igd2hlbiBpdCByZWplY3RzLlxuICAgICAgICBoYW5naW5nUHJvbWlzZS5jYXRjaChpZ25vcmVSZWplY3QpO1xuICAgICAgICByZXR1cm4gaGFuZ2luZ1Byb21pc2U7XG4gICAgfVxufVxuZnVuY3Rpb24gaWdub3JlUmVqZWN0KCkge31cbmV4cG9ydCBmdW5jdGlvbiBtYWtlRGV2dG9vbHNJT0F3YXJlUHJvbWlzZSh1bmRlcmx5aW5nKSB7XG4gICAgLy8gaW4gUmVhY3QgRGV2VG9vbHMgaWYgd2UgcmVzb2x2ZSBpbiBhIHNldFRpbWVvdXQgd2Ugd2lsbCBvYnNlcnZlXG4gICAgLy8gdGhlIHByb21pc2UgcmVzb2x1dGlvbiBhcyBzb21ldGhpbmcgdGhhdCBjYW4gc3VzcGVuZCBhIGJvdW5kYXJ5IG9yIHJvb3QuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKT0+e1xuICAgICAgICAvLyBNdXN0IHVzZSBzZXRUaW1lb3V0IHRvIGJlIGNvbnNpZGVyZWQgSU8gUmVhY3QgRGV2VG9vbHMuIHNldEltbWVkaWF0ZSB3aWxsIG5vdCB3b3JrLlxuICAgICAgICBzZXRUaW1lb3V0KCgpPT57XG4gICAgICAgICAgICByZXNvbHZlKHVuZGVybHlpbmcpO1xuICAgICAgICB9LCAwKTtcbiAgICB9KTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZHluYW1pYy1yZW5kZXJpbmctdXRpbHMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/dynamic-rendering-utils.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/internal-utils.js":
/*!*************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/internal-utils.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   stripInternalQueries: () => (/* binding */ stripInternalQueries),\n/* harmony export */   stripInternalSearchParams: () => (/* binding */ stripInternalSearchParams)\n/* harmony export */ });\n/* harmony import */ var _client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../client/components/app-router-headers */ \"(middleware)/./node_modules/next/dist/esm/client/components/app-router-headers.js\");\n\nconst INTERNAL_QUERY_NAMES = [\n    _client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_0__.NEXT_RSC_UNION_QUERY\n];\nfunction stripInternalQueries(query) {\n    for (const name of INTERNAL_QUERY_NAMES){\n        delete query[name];\n    }\n}\nfunction stripInternalSearchParams(url) {\n    const isStringUrl = typeof url === 'string';\n    const instance = isStringUrl ? new URL(url) : url;\n    instance.searchParams.delete(_client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_0__.NEXT_RSC_UNION_QUERY);\n    return isStringUrl ? instance.toString() : instance;\n}\n\n//# sourceMappingURL=internal-utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL2ludGVybmFsLXV0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUErRTtBQUMvRTtBQUNBLElBQUksdUZBQW9CO0FBQ3hCO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLGlDQUFpQyx1RkFBb0I7QUFDckQ7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcbmV4dFxcZGlzdFxcZXNtXFxzZXJ2ZXJcXGludGVybmFsLXV0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5FWFRfUlNDX1VOSU9OX1FVRVJZIH0gZnJvbSAnLi4vY2xpZW50L2NvbXBvbmVudHMvYXBwLXJvdXRlci1oZWFkZXJzJztcbmNvbnN0IElOVEVSTkFMX1FVRVJZX05BTUVTID0gW1xuICAgIE5FWFRfUlNDX1VOSU9OX1FVRVJZXG5dO1xuZXhwb3J0IGZ1bmN0aW9uIHN0cmlwSW50ZXJuYWxRdWVyaWVzKHF1ZXJ5KSB7XG4gICAgZm9yIChjb25zdCBuYW1lIG9mIElOVEVSTkFMX1FVRVJZX05BTUVTKXtcbiAgICAgICAgZGVsZXRlIHF1ZXJ5W25hbWVdO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBzdHJpcEludGVybmFsU2VhcmNoUGFyYW1zKHVybCkge1xuICAgIGNvbnN0IGlzU3RyaW5nVXJsID0gdHlwZW9mIHVybCA9PT0gJ3N0cmluZyc7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBpc1N0cmluZ1VybCA/IG5ldyBVUkwodXJsKSA6IHVybDtcbiAgICBpbnN0YW5jZS5zZWFyY2hQYXJhbXMuZGVsZXRlKE5FWFRfUlNDX1VOSU9OX1FVRVJZKTtcbiAgICByZXR1cm4gaXNTdHJpbmdVcmwgPyBpbnN0YW5jZS50b1N0cmluZygpIDogaW5zdGFuY2U7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludGVybmFsLXV0aWxzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/internal-utils.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/lib/cache-handlers/default.external.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/lib/cache-handlers/default.external.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _lru_cache__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lru-cache */ \"(middleware)/./node_modules/next/dist/esm/server/lib/lru-cache.js\");\n/* harmony import */ var _incremental_cache_tags_manifest_external__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../incremental-cache/tags-manifest.external */ \"(middleware)/./node_modules/next/dist/esm/server/lib/incremental-cache/tags-manifest.external.js\");\n/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ \"buffer\")[\"Buffer\"];\n/**\n * This is the default \"use cache\" handler it defaults to an in-memory store.\n * In-memory caches are fragile and should not use stale-while-revalidate\n * semantics on the caches because it's not worth warming up an entry that's\n * likely going to get evicted before we get to use it anyway. However, we also\n * don't want to reuse a stale entry for too long so stale entries should be\n * considered expired/missing in such cache handlers.\n */ \n\n// LRU cache default to max 50 MB but in future track\nconst memoryCache = new _lru_cache__WEBPACK_IMPORTED_MODULE_0__.LRUCache(50 * 1024 * 1024, (entry)=>entry.size);\nconst pendingSets = new Map();\nconst debug = process.env.NEXT_PRIVATE_DEBUG_CACHE ? console.debug.bind(console, 'DefaultCacheHandler:') : undefined;\nconst DefaultCacheHandler = {\n    async get (cacheKey) {\n        const pendingPromise = pendingSets.get(cacheKey);\n        if (pendingPromise) {\n            debug == null ? void 0 : debug('get', cacheKey, 'pending');\n            await pendingPromise;\n        }\n        const privateEntry = memoryCache.get(cacheKey);\n        if (!privateEntry) {\n            debug == null ? void 0 : debug('get', cacheKey, 'not found');\n            return undefined;\n        }\n        const entry = privateEntry.entry;\n        if (performance.timeOrigin + performance.now() > entry.timestamp + entry.revalidate * 1000) {\n            // In-memory caches should expire after revalidate time because it is\n            // unlikely that a new entry will be able to be used before it is dropped\n            // from the cache.\n            debug == null ? void 0 : debug('get', cacheKey, 'expired');\n            return undefined;\n        }\n        if ((0,_incremental_cache_tags_manifest_external__WEBPACK_IMPORTED_MODULE_1__.isStale)(entry.tags, entry.timestamp)) {\n            debug == null ? void 0 : debug('get', cacheKey, 'had stale tag');\n            return undefined;\n        }\n        const [returnStream, newSaved] = entry.value.tee();\n        entry.value = newSaved;\n        debug == null ? void 0 : debug('get', cacheKey, 'found', {\n            tags: entry.tags,\n            timestamp: entry.timestamp,\n            revalidate: entry.revalidate,\n            expire: entry.expire\n        });\n        return {\n            ...entry,\n            value: returnStream\n        };\n    },\n    async set (cacheKey, pendingEntry) {\n        debug == null ? void 0 : debug('set', cacheKey, 'start');\n        let resolvePending = ()=>{};\n        const pendingPromise = new Promise((resolve)=>{\n            resolvePending = resolve;\n        });\n        pendingSets.set(cacheKey, pendingPromise);\n        const entry = await pendingEntry;\n        let size = 0;\n        try {\n            const [value, clonedValue] = entry.value.tee();\n            entry.value = value;\n            const reader = clonedValue.getReader();\n            for(let chunk; !(chunk = await reader.read()).done;){\n                size += Buffer.from(chunk.value).byteLength;\n            }\n            memoryCache.set(cacheKey, {\n                entry,\n                isErrored: false,\n                errorRetryCount: 0,\n                size\n            });\n            debug == null ? void 0 : debug('set', cacheKey, 'done');\n        } catch (err) {\n            // TODO: store partial buffer with error after we retry 3 times\n            debug == null ? void 0 : debug('set', cacheKey, 'failed', err);\n        } finally{\n            resolvePending();\n            pendingSets.delete(cacheKey);\n        }\n    },\n    async refreshTags () {\n    // Nothing to do for an in-memory cache handler.\n    },\n    async getExpiration (...tags) {\n        const expiration = Math.max(...tags.map((tag)=>_incremental_cache_tags_manifest_external__WEBPACK_IMPORTED_MODULE_1__.tagsManifest.get(tag) ?? 0));\n        debug == null ? void 0 : debug('getExpiration', {\n            tags,\n            expiration\n        });\n        return expiration;\n    },\n    async expireTags (...tags) {\n        const timestamp = Math.round(performance.timeOrigin + performance.now());\n        debug == null ? void 0 : debug('expireTags', {\n            tags,\n            timestamp\n        });\n        for (const tag of tags){\n            // TODO: update file-system-cache?\n            _incremental_cache_tags_manifest_external__WEBPACK_IMPORTED_MODULE_1__.tagsManifest.set(tag, timestamp);\n        }\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DefaultCacheHandler); //# sourceMappingURL=default.external.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL2xpYi9jYWNoZS1oYW5kbGVycy9kZWZhdWx0LmV4dGVybmFsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7Ozs7OztDQU9DLEdBRXNDO0FBS2E7QUFzQnBELHFEQUFxRDtBQUNyRCxNQUFNRyxjQUFjLElBQUlILGdEQUFRQSxDQUM5QixLQUFLLE9BQU8sTUFDWixDQUFDSSxRQUFVQSxNQUFNQyxJQUFJO0FBRXZCLE1BQU1DLGNBQWMsSUFBSUM7QUFFeEIsTUFBTUMsUUFBUUMsUUFBUUMsR0FBRyxDQUFDQyx3QkFBd0IsR0FDOUNDLFFBQVFKLEtBQUssQ0FBQ0ssSUFBSSxDQUFDRCxTQUFTLDBCQUM1QkU7QUFFSixNQUFNQyxzQkFBc0M7SUFDMUMsTUFBTUMsS0FBSUMsUUFBUTtRQUNoQixNQUFNQyxpQkFBaUJaLFlBQVlVLEdBQUcsQ0FBQ0M7UUFFdkMsSUFBSUMsZ0JBQWdCO1lBQ2xCVixTQUFBQSxPQUFBQSxLQUFBQSxJQUFBQSxNQUFRLE9BQU9TLFVBQVU7WUFDekIsTUFBTUM7UUFDUjtRQUVBLE1BQU1DLGVBQWVoQixZQUFZYSxHQUFHLENBQUNDO1FBRXJDLElBQUksQ0FBQ0UsY0FBYztZQUNqQlgsU0FBQUEsT0FBQUEsS0FBQUEsSUFBQUEsTUFBUSxPQUFPUyxVQUFVO1lBQ3pCLE9BQU9IO1FBQ1Q7UUFFQSxNQUFNVixRQUFRZSxhQUFhZixLQUFLO1FBQ2hDLElBQ0VnQixZQUFZQyxVQUFVLEdBQUdELFlBQVlFLEdBQUcsS0FDeENsQixNQUFNbUIsU0FBUyxHQUFHbkIsTUFBTW9CLFVBQVUsR0FBRyxNQUNyQztZQUNBLHFFQUFxRTtZQUNyRSx5RUFBeUU7WUFDekUsa0JBQWtCO1lBQ2xCaEIsU0FBQUEsT0FBQUEsS0FBQUEsSUFBQUEsTUFBUSxPQUFPUyxVQUFVO1lBRXpCLE9BQU9IO1FBQ1Q7UUFFQSxJQUFJYixrRkFBT0EsQ0FBQ0csTUFBTXFCLElBQUksRUFBRXJCLE1BQU1tQixTQUFTLEdBQUc7WUFDeENmLFNBQUFBLE9BQUFBLEtBQUFBLElBQUFBLE1BQVEsT0FBT1MsVUFBVTtZQUV6QixPQUFPSDtRQUNUO1FBQ0EsTUFBTSxDQUFDWSxjQUFjQyxTQUFTLEdBQUd2QixNQUFNd0IsS0FBSyxDQUFDQyxHQUFHO1FBQ2hEekIsTUFBTXdCLEtBQUssR0FBR0Q7UUFFZG5CLFNBQUFBLE9BQUFBLEtBQUFBLElBQUFBLE1BQVEsT0FBT1MsVUFBVSxTQUFTO1lBQ2hDUSxNQUFNckIsTUFBTXFCLElBQUk7WUFDaEJGLFdBQVduQixNQUFNbUIsU0FBUztZQUMxQkMsWUFBWXBCLE1BQU1vQixVQUFVO1lBQzVCTSxRQUFRMUIsTUFBTTBCLE1BQU07UUFDdEI7UUFFQSxPQUFPO1lBQ0wsR0FBRzFCLEtBQUs7WUFDUndCLE9BQU9GO1FBQ1Q7SUFDRjtJQUVBLE1BQU1LLEtBQUlkLFFBQVEsRUFBRWUsWUFBWTtRQUM5QnhCLFNBQUFBLE9BQUFBLEtBQUFBLElBQUFBLE1BQVEsT0FBT1MsVUFBVTtRQUV6QixJQUFJZ0IsaUJBQTZCLEtBQU87UUFDeEMsTUFBTWYsaUJBQWlCLElBQUlnQixRQUFjLENBQUNDO1lBQ3hDRixpQkFBaUJFO1FBQ25CO1FBQ0E3QixZQUFZeUIsR0FBRyxDQUFDZCxVQUFVQztRQUUxQixNQUFNZCxRQUFRLE1BQU00QjtRQUVwQixJQUFJM0IsT0FBTztRQUVYLElBQUk7WUFDRixNQUFNLENBQUN1QixPQUFPUSxZQUFZLEdBQUdoQyxNQUFNd0IsS0FBSyxDQUFDQyxHQUFHO1lBQzVDekIsTUFBTXdCLEtBQUssR0FBR0E7WUFDZCxNQUFNUyxTQUFTRCxZQUFZRSxTQUFTO1lBRXBDLElBQUssSUFBSUMsT0FBTyxDQUFFQSxDQUFBQSxRQUFRLE1BQU1GLE9BQU9HLElBQUksR0FBQyxDQUFHQyxJQUFJLEVBQUk7Z0JBQ3JEcEMsUUFBUXFDLE1BQU1BLENBQUNDLElBQUksQ0FBQ0osTUFBTVgsS0FBSyxFQUFFZ0IsVUFBVTtZQUM3QztZQUVBekMsWUFBWTRCLEdBQUcsQ0FBQ2QsVUFBVTtnQkFDeEJiO2dCQUNBeUMsV0FBVztnQkFDWEMsaUJBQWlCO2dCQUNqQnpDO1lBQ0Y7WUFFQUcsU0FBQUEsT0FBQUEsS0FBQUEsSUFBQUEsTUFBUSxPQUFPUyxVQUFVO1FBQzNCLEVBQUUsT0FBTzhCLEtBQUs7WUFDWiwrREFBK0Q7WUFDL0R2QyxTQUFBQSxPQUFBQSxLQUFBQSxJQUFBQSxNQUFRLE9BQU9TLFVBQVUsVUFBVThCO1FBQ3JDLFNBQVU7WUFDUmQ7WUFDQTNCLFlBQVkwQyxNQUFNLENBQUMvQjtRQUNyQjtJQUNGO0lBRUEsTUFBTWdDO0lBQ0osZ0RBQWdEO0lBQ2xEO0lBRUEsTUFBTUMsZUFBYyxHQUFHekIsSUFBSTtRQUN6QixNQUFNMEIsYUFBYUMsS0FBS0MsR0FBRyxJQUN0QjVCLEtBQUs2QixHQUFHLENBQUMsQ0FBQ0MsTUFBUXJELG1GQUFZQSxDQUFDYyxHQUFHLENBQUN1QyxRQUFRO1FBR2hEL0MsU0FBQUEsT0FBQUEsS0FBQUEsSUFBQUEsTUFBUSxpQkFBaUI7WUFBRWlCO1lBQU0wQjtRQUFXO1FBRTVDLE9BQU9BO0lBQ1Q7SUFFQSxNQUFNSyxZQUFXLEdBQUcvQixJQUFJO1FBQ3RCLE1BQU1GLFlBQVk2QixLQUFLSyxLQUFLLENBQUNyQyxZQUFZQyxVQUFVLEdBQUdELFlBQVlFLEdBQUc7UUFDckVkLFNBQUFBLE9BQUFBLEtBQUFBLElBQUFBLE1BQVEsY0FBYztZQUFFaUI7WUFBTUY7UUFBVTtRQUV4QyxLQUFLLE1BQU1nQyxPQUFPOUIsS0FBTTtZQUN0QixrQ0FBa0M7WUFDbEN2QixtRkFBWUEsQ0FBQzZCLEdBQUcsQ0FBQ3dCLEtBQUtoQztRQUN4QjtJQUNGO0FBQ0Y7QUFFQSxpRUFBZVIsbUJBQW1CQSxFQUFBIiwic291cmNlcyI6WyJEOlxcc3JjXFxzZXJ2ZXJcXGxpYlxcY2FjaGUtaGFuZGxlcnNcXGRlZmF1bHQuZXh0ZXJuYWwudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUaGlzIGlzIHRoZSBkZWZhdWx0IFwidXNlIGNhY2hlXCIgaGFuZGxlciBpdCBkZWZhdWx0cyB0byBhbiBpbi1tZW1vcnkgc3RvcmUuXG4gKiBJbi1tZW1vcnkgY2FjaGVzIGFyZSBmcmFnaWxlIGFuZCBzaG91bGQgbm90IHVzZSBzdGFsZS13aGlsZS1yZXZhbGlkYXRlXG4gKiBzZW1hbnRpY3Mgb24gdGhlIGNhY2hlcyBiZWNhdXNlIGl0J3Mgbm90IHdvcnRoIHdhcm1pbmcgdXAgYW4gZW50cnkgdGhhdCdzXG4gKiBsaWtlbHkgZ29pbmcgdG8gZ2V0IGV2aWN0ZWQgYmVmb3JlIHdlIGdldCB0byB1c2UgaXQgYW55d2F5LiBIb3dldmVyLCB3ZSBhbHNvXG4gKiBkb24ndCB3YW50IHRvIHJldXNlIGEgc3RhbGUgZW50cnkgZm9yIHRvbyBsb25nIHNvIHN0YWxlIGVudHJpZXMgc2hvdWxkIGJlXG4gKiBjb25zaWRlcmVkIGV4cGlyZWQvbWlzc2luZyBpbiBzdWNoIGNhY2hlIGhhbmRsZXJzLlxuICovXG5cbmltcG9ydCB7IExSVUNhY2hlIH0gZnJvbSAnLi4vbHJ1LWNhY2hlJ1xuaW1wb3J0IHR5cGUgeyBDYWNoZUVudHJ5LCBDYWNoZUhhbmRsZXJWMiB9IGZyb20gJy4vdHlwZXMnXG5pbXBvcnQge1xuICBpc1N0YWxlLFxuICB0YWdzTWFuaWZlc3QsXG59IGZyb20gJy4uL2luY3JlbWVudGFsLWNhY2hlL3RhZ3MtbWFuaWZlc3QuZXh0ZXJuYWwnXG5cbnR5cGUgUHJpdmF0ZUNhY2hlRW50cnkgPSB7XG4gIGVudHJ5OiBDYWNoZUVudHJ5XG5cbiAgLy8gRm9yIHRoZSBkZWZhdWx0IGNhY2hlIHdlIHN0b3JlIGVycm9yZWQgY2FjaGVcbiAgLy8gZW50cmllcyBhbmQgYWxsb3cgdGhlbSB0byBiZSB1c2VkIHVwIHRvIDMgdGltZXNcbiAgLy8gYWZ0ZXIgdGhhdCB3ZSB3YW50IHRvIGRpc3Bvc2UgaXQgYW5kIHRyeSBmb3IgZnJlc2hcblxuICAvLyBJZiBhbiBlbnRyeSBpcyBlcnJvcmVkIHdlIHJldHVybiBubyBlbnRyeVxuICAvLyB0aHJlZSB0aW1lcyBzbyB0aGF0IHdlIHJldHJ5IGhpdHRpbmcgb3JpZ2luIChNSVNTKVxuICAvLyBhbmQgdGhlbiBpZiBpdCBzdGlsbCBmYWlscyB0byBzZXQgYWZ0ZXIgdGhlIHRoaXJkIHdlXG4gIC8vIHJldHVybiB0aGUgZXJyb3JlZCBjb250ZW50IGFuZCB1c2UgZXhwaXJhdGlvbiBvZlxuICAvLyBNYXRoLm1pbigzMCwgZW50cnkuZXhwaXJhdGlvbilcbiAgaXNFcnJvcmVkOiBib29sZWFuXG4gIGVycm9yUmV0cnlDb3VudDogbnVtYmVyXG5cbiAgLy8gY29tcHV0ZSBzaXplIG9uIHNldCBzaW5jZSB3ZSBuZWVkIHRvIHJlYWQgc2l6ZVxuICAvLyBvZiB0aGUgUmVhZGFibGVTdHJlYW0gZm9yIExSVSBldmljdGluZ1xuICBzaXplOiBudW1iZXJcbn1cblxuLy8gTFJVIGNhY2hlIGRlZmF1bHQgdG8gbWF4IDUwIE1CIGJ1dCBpbiBmdXR1cmUgdHJhY2tcbmNvbnN0IG1lbW9yeUNhY2hlID0gbmV3IExSVUNhY2hlPFByaXZhdGVDYWNoZUVudHJ5PihcbiAgNTAgKiAxMDI0ICogMTAyNCxcbiAgKGVudHJ5KSA9PiBlbnRyeS5zaXplXG4pXG5jb25zdCBwZW5kaW5nU2V0cyA9IG5ldyBNYXA8c3RyaW5nLCBQcm9taXNlPHZvaWQ+PigpXG5cbmNvbnN0IGRlYnVnID0gcHJvY2Vzcy5lbnYuTkVYVF9QUklWQVRFX0RFQlVHX0NBQ0hFXG4gID8gY29uc29sZS5kZWJ1Zy5iaW5kKGNvbnNvbGUsICdEZWZhdWx0Q2FjaGVIYW5kbGVyOicpXG4gIDogdW5kZWZpbmVkXG5cbmNvbnN0IERlZmF1bHRDYWNoZUhhbmRsZXI6IENhY2hlSGFuZGxlclYyID0ge1xuICBhc3luYyBnZXQoY2FjaGVLZXkpIHtcbiAgICBjb25zdCBwZW5kaW5nUHJvbWlzZSA9IHBlbmRpbmdTZXRzLmdldChjYWNoZUtleSlcblxuICAgIGlmIChwZW5kaW5nUHJvbWlzZSkge1xuICAgICAgZGVidWc/LignZ2V0JywgY2FjaGVLZXksICdwZW5kaW5nJylcbiAgICAgIGF3YWl0IHBlbmRpbmdQcm9taXNlXG4gICAgfVxuXG4gICAgY29uc3QgcHJpdmF0ZUVudHJ5ID0gbWVtb3J5Q2FjaGUuZ2V0KGNhY2hlS2V5KVxuXG4gICAgaWYgKCFwcml2YXRlRW50cnkpIHtcbiAgICAgIGRlYnVnPy4oJ2dldCcsIGNhY2hlS2V5LCAnbm90IGZvdW5kJylcbiAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9XG5cbiAgICBjb25zdCBlbnRyeSA9IHByaXZhdGVFbnRyeS5lbnRyeVxuICAgIGlmIChcbiAgICAgIHBlcmZvcm1hbmNlLnRpbWVPcmlnaW4gKyBwZXJmb3JtYW5jZS5ub3coKSA+XG4gICAgICBlbnRyeS50aW1lc3RhbXAgKyBlbnRyeS5yZXZhbGlkYXRlICogMTAwMFxuICAgICkge1xuICAgICAgLy8gSW4tbWVtb3J5IGNhY2hlcyBzaG91bGQgZXhwaXJlIGFmdGVyIHJldmFsaWRhdGUgdGltZSBiZWNhdXNlIGl0IGlzXG4gICAgICAvLyB1bmxpa2VseSB0aGF0IGEgbmV3IGVudHJ5IHdpbGwgYmUgYWJsZSB0byBiZSB1c2VkIGJlZm9yZSBpdCBpcyBkcm9wcGVkXG4gICAgICAvLyBmcm9tIHRoZSBjYWNoZS5cbiAgICAgIGRlYnVnPy4oJ2dldCcsIGNhY2hlS2V5LCAnZXhwaXJlZCcpXG5cbiAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9XG5cbiAgICBpZiAoaXNTdGFsZShlbnRyeS50YWdzLCBlbnRyeS50aW1lc3RhbXApKSB7XG4gICAgICBkZWJ1Zz8uKCdnZXQnLCBjYWNoZUtleSwgJ2hhZCBzdGFsZSB0YWcnKVxuXG4gICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfVxuICAgIGNvbnN0IFtyZXR1cm5TdHJlYW0sIG5ld1NhdmVkXSA9IGVudHJ5LnZhbHVlLnRlZSgpXG4gICAgZW50cnkudmFsdWUgPSBuZXdTYXZlZFxuXG4gICAgZGVidWc/LignZ2V0JywgY2FjaGVLZXksICdmb3VuZCcsIHtcbiAgICAgIHRhZ3M6IGVudHJ5LnRhZ3MsXG4gICAgICB0aW1lc3RhbXA6IGVudHJ5LnRpbWVzdGFtcCxcbiAgICAgIHJldmFsaWRhdGU6IGVudHJ5LnJldmFsaWRhdGUsXG4gICAgICBleHBpcmU6IGVudHJ5LmV4cGlyZSxcbiAgICB9KVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLmVudHJ5LFxuICAgICAgdmFsdWU6IHJldHVyblN0cmVhbSxcbiAgICB9XG4gIH0sXG5cbiAgYXN5bmMgc2V0KGNhY2hlS2V5LCBwZW5kaW5nRW50cnkpIHtcbiAgICBkZWJ1Zz8uKCdzZXQnLCBjYWNoZUtleSwgJ3N0YXJ0JylcblxuICAgIGxldCByZXNvbHZlUGVuZGluZzogKCkgPT4gdm9pZCA9ICgpID0+IHt9XG4gICAgY29uc3QgcGVuZGluZ1Byb21pc2UgPSBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSkgPT4ge1xuICAgICAgcmVzb2x2ZVBlbmRpbmcgPSByZXNvbHZlXG4gICAgfSlcbiAgICBwZW5kaW5nU2V0cy5zZXQoY2FjaGVLZXksIHBlbmRpbmdQcm9taXNlKVxuXG4gICAgY29uc3QgZW50cnkgPSBhd2FpdCBwZW5kaW5nRW50cnlcblxuICAgIGxldCBzaXplID0gMFxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IFt2YWx1ZSwgY2xvbmVkVmFsdWVdID0gZW50cnkudmFsdWUudGVlKClcbiAgICAgIGVudHJ5LnZhbHVlID0gdmFsdWVcbiAgICAgIGNvbnN0IHJlYWRlciA9IGNsb25lZFZhbHVlLmdldFJlYWRlcigpXG5cbiAgICAgIGZvciAobGV0IGNodW5rOyAhKGNodW5rID0gYXdhaXQgcmVhZGVyLnJlYWQoKSkuZG9uZTsgKSB7XG4gICAgICAgIHNpemUgKz0gQnVmZmVyLmZyb20oY2h1bmsudmFsdWUpLmJ5dGVMZW5ndGhcbiAgICAgIH1cblxuICAgICAgbWVtb3J5Q2FjaGUuc2V0KGNhY2hlS2V5LCB7XG4gICAgICAgIGVudHJ5LFxuICAgICAgICBpc0Vycm9yZWQ6IGZhbHNlLFxuICAgICAgICBlcnJvclJldHJ5Q291bnQ6IDAsXG4gICAgICAgIHNpemUsXG4gICAgICB9KVxuXG4gICAgICBkZWJ1Zz8uKCdzZXQnLCBjYWNoZUtleSwgJ2RvbmUnKVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgLy8gVE9ETzogc3RvcmUgcGFydGlhbCBidWZmZXIgd2l0aCBlcnJvciBhZnRlciB3ZSByZXRyeSAzIHRpbWVzXG4gICAgICBkZWJ1Zz8uKCdzZXQnLCBjYWNoZUtleSwgJ2ZhaWxlZCcsIGVycilcbiAgICB9IGZpbmFsbHkge1xuICAgICAgcmVzb2x2ZVBlbmRpbmcoKVxuICAgICAgcGVuZGluZ1NldHMuZGVsZXRlKGNhY2hlS2V5KVxuICAgIH1cbiAgfSxcblxuICBhc3luYyByZWZyZXNoVGFncygpIHtcbiAgICAvLyBOb3RoaW5nIHRvIGRvIGZvciBhbiBpbi1tZW1vcnkgY2FjaGUgaGFuZGxlci5cbiAgfSxcblxuICBhc3luYyBnZXRFeHBpcmF0aW9uKC4uLnRhZ3MpIHtcbiAgICBjb25zdCBleHBpcmF0aW9uID0gTWF0aC5tYXgoXG4gICAgICAuLi50YWdzLm1hcCgodGFnKSA9PiB0YWdzTWFuaWZlc3QuZ2V0KHRhZykgPz8gMClcbiAgICApXG5cbiAgICBkZWJ1Zz8uKCdnZXRFeHBpcmF0aW9uJywgeyB0YWdzLCBleHBpcmF0aW9uIH0pXG5cbiAgICByZXR1cm4gZXhwaXJhdGlvblxuICB9LFxuXG4gIGFzeW5jIGV4cGlyZVRhZ3MoLi4udGFncykge1xuICAgIGNvbnN0IHRpbWVzdGFtcCA9IE1hdGgucm91bmQocGVyZm9ybWFuY2UudGltZU9yaWdpbiArIHBlcmZvcm1hbmNlLm5vdygpKVxuICAgIGRlYnVnPy4oJ2V4cGlyZVRhZ3MnLCB7IHRhZ3MsIHRpbWVzdGFtcCB9KVxuXG4gICAgZm9yIChjb25zdCB0YWcgb2YgdGFncykge1xuICAgICAgLy8gVE9ETzogdXBkYXRlIGZpbGUtc3lzdGVtLWNhY2hlP1xuICAgICAgdGFnc01hbmlmZXN0LnNldCh0YWcsIHRpbWVzdGFtcClcbiAgICB9XG4gIH0sXG59XG5cbmV4cG9ydCBkZWZhdWx0IERlZmF1bHRDYWNoZUhhbmRsZXJcbiJdLCJuYW1lcyI6WyJMUlVDYWNoZSIsImlzU3RhbGUiLCJ0YWdzTWFuaWZlc3QiLCJtZW1vcnlDYWNoZSIsImVudHJ5Iiwic2l6ZSIsInBlbmRpbmdTZXRzIiwiTWFwIiwiZGVidWciLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QUklWQVRFX0RFQlVHX0NBQ0hFIiwiY29uc29sZSIsImJpbmQiLCJ1bmRlZmluZWQiLCJEZWZhdWx0Q2FjaGVIYW5kbGVyIiwiZ2V0IiwiY2FjaGVLZXkiLCJwZW5kaW5nUHJvbWlzZSIsInByaXZhdGVFbnRyeSIsInBlcmZvcm1hbmNlIiwidGltZU9yaWdpbiIsIm5vdyIsInRpbWVzdGFtcCIsInJldmFsaWRhdGUiLCJ0YWdzIiwicmV0dXJuU3RyZWFtIiwibmV3U2F2ZWQiLCJ2YWx1ZSIsInRlZSIsImV4cGlyZSIsInNldCIsInBlbmRpbmdFbnRyeSIsInJlc29sdmVQZW5kaW5nIiwiUHJvbWlzZSIsInJlc29sdmUiLCJjbG9uZWRWYWx1ZSIsInJlYWRlciIsImdldFJlYWRlciIsImNodW5rIiwicmVhZCIsImRvbmUiLCJCdWZmZXIiLCJmcm9tIiwiYnl0ZUxlbmd0aCIsImlzRXJyb3JlZCIsImVycm9yUmV0cnlDb3VudCIsImVyciIsImRlbGV0ZSIsInJlZnJlc2hUYWdzIiwiZ2V0RXhwaXJhdGlvbiIsImV4cGlyYXRpb24iLCJNYXRoIiwibWF4IiwibWFwIiwidGFnIiwiZXhwaXJlVGFncyIsInJvdW5kIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/lib/cache-handlers/default.external.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/lib/implicit-tags.js":
/*!****************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/lib/implicit-tags.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getImplicitTags: () => (/* binding */ getImplicitTags)\n/* harmony export */ });\n/* harmony import */ var _lib_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/constants */ \"(middleware)/./node_modules/next/dist/esm/lib/constants.js\");\n/* harmony import */ var _use_cache_handlers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../use-cache/handlers */ \"(middleware)/./node_modules/next/dist/esm/server/use-cache/handlers.js\");\n/* harmony import */ var _lazy_result__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lazy-result */ \"(middleware)/./node_modules/next/dist/esm/server/lib/lazy-result.js\");\n\n\n\nconst getDerivedTags = (pathname)=>{\n    const derivedTags = [\n        `/layout`\n    ];\n    // we automatically add the current path segments as tags\n    // for revalidatePath handling\n    if (pathname.startsWith('/')) {\n        const pathnameParts = pathname.split('/');\n        for(let i = 1; i < pathnameParts.length + 1; i++){\n            let curPathname = pathnameParts.slice(0, i).join('/');\n            if (curPathname) {\n                // all derived tags other than the page are layout tags\n                if (!curPathname.endsWith('/page') && !curPathname.endsWith('/route')) {\n                    curPathname = `${curPathname}${!curPathname.endsWith('/') ? '/' : ''}layout`;\n                }\n                derivedTags.push(curPathname);\n            }\n        }\n    }\n    return derivedTags;\n};\n/**\n * Creates a map with lazy results that fetch the expiration value for the given\n * tags and respective cache kind when they're awaited for the first time.\n */ function createTagsExpirationsByCacheKind(tags) {\n    const expirationsByCacheKind = new Map();\n    const cacheHandlers = (0,_use_cache_handlers__WEBPACK_IMPORTED_MODULE_1__.getCacheHandlerEntries)();\n    if (cacheHandlers) {\n        for (const [kind, cacheHandler] of cacheHandlers){\n            if ('getExpiration' in cacheHandler) {\n                expirationsByCacheKind.set(kind, (0,_lazy_result__WEBPACK_IMPORTED_MODULE_2__.createLazyResult)(async ()=>cacheHandler.getExpiration(...tags)));\n            }\n        }\n    }\n    return expirationsByCacheKind;\n}\nasync function getImplicitTags(page, url, fallbackRouteParams) {\n    const tags = [];\n    const hasFallbackRouteParams = fallbackRouteParams && fallbackRouteParams.size > 0;\n    // Add the derived tags from the page.\n    const derivedTags = getDerivedTags(page);\n    for (let tag of derivedTags){\n        tag = `${_lib_constants__WEBPACK_IMPORTED_MODULE_0__.NEXT_CACHE_IMPLICIT_TAG_ID}${tag}`;\n        tags.push(tag);\n    }\n    // Add the tags from the pathname. If the route has unknown params, we don't\n    // want to add the pathname as a tag, as it will be invalid.\n    if (url.pathname && !hasFallbackRouteParams) {\n        const tag = `${_lib_constants__WEBPACK_IMPORTED_MODULE_0__.NEXT_CACHE_IMPLICIT_TAG_ID}${url.pathname}`;\n        tags.push(tag);\n    }\n    return {\n        tags,\n        expirationsByCacheKind: createTagsExpirationsByCacheKind(tags)\n    };\n}\n\n//# sourceMappingURL=implicit-tags.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL2xpYi9pbXBsaWNpdC10YWdzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBaUU7QUFDRjtBQUNkO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsOEJBQThCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLFlBQVksRUFBRSxzQ0FBc0M7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDJFQUFzQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsOERBQWdCO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsc0VBQTBCLENBQUMsRUFBRSxJQUFJO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsc0VBQTBCLENBQUMsRUFBRSxhQUFhO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxuZXh0XFxkaXN0XFxlc21cXHNlcnZlclxcbGliXFxpbXBsaWNpdC10YWdzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5FWFRfQ0FDSEVfSU1QTElDSVRfVEFHX0lEIH0gZnJvbSAnLi4vLi4vbGliL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBnZXRDYWNoZUhhbmRsZXJFbnRyaWVzIH0gZnJvbSAnLi4vdXNlLWNhY2hlL2hhbmRsZXJzJztcbmltcG9ydCB7IGNyZWF0ZUxhenlSZXN1bHQgfSBmcm9tICcuL2xhenktcmVzdWx0JztcbmNvbnN0IGdldERlcml2ZWRUYWdzID0gKHBhdGhuYW1lKT0+e1xuICAgIGNvbnN0IGRlcml2ZWRUYWdzID0gW1xuICAgICAgICBgL2xheW91dGBcbiAgICBdO1xuICAgIC8vIHdlIGF1dG9tYXRpY2FsbHkgYWRkIHRoZSBjdXJyZW50IHBhdGggc2VnbWVudHMgYXMgdGFnc1xuICAgIC8vIGZvciByZXZhbGlkYXRlUGF0aCBoYW5kbGluZ1xuICAgIGlmIChwYXRobmFtZS5zdGFydHNXaXRoKCcvJykpIHtcbiAgICAgICAgY29uc3QgcGF0aG5hbWVQYXJ0cyA9IHBhdGhuYW1lLnNwbGl0KCcvJyk7XG4gICAgICAgIGZvcihsZXQgaSA9IDE7IGkgPCBwYXRobmFtZVBhcnRzLmxlbmd0aCArIDE7IGkrKyl7XG4gICAgICAgICAgICBsZXQgY3VyUGF0aG5hbWUgPSBwYXRobmFtZVBhcnRzLnNsaWNlKDAsIGkpLmpvaW4oJy8nKTtcbiAgICAgICAgICAgIGlmIChjdXJQYXRobmFtZSkge1xuICAgICAgICAgICAgICAgIC8vIGFsbCBkZXJpdmVkIHRhZ3Mgb3RoZXIgdGhhbiB0aGUgcGFnZSBhcmUgbGF5b3V0IHRhZ3NcbiAgICAgICAgICAgICAgICBpZiAoIWN1clBhdGhuYW1lLmVuZHNXaXRoKCcvcGFnZScpICYmICFjdXJQYXRobmFtZS5lbmRzV2l0aCgnL3JvdXRlJykpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VyUGF0aG5hbWUgPSBgJHtjdXJQYXRobmFtZX0keyFjdXJQYXRobmFtZS5lbmRzV2l0aCgnLycpID8gJy8nIDogJyd9bGF5b3V0YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVyaXZlZFRhZ3MucHVzaChjdXJQYXRobmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRlcml2ZWRUYWdzO1xufTtcbi8qKlxuICogQ3JlYXRlcyBhIG1hcCB3aXRoIGxhenkgcmVzdWx0cyB0aGF0IGZldGNoIHRoZSBleHBpcmF0aW9uIHZhbHVlIGZvciB0aGUgZ2l2ZW5cbiAqIHRhZ3MgYW5kIHJlc3BlY3RpdmUgY2FjaGUga2luZCB3aGVuIHRoZXkncmUgYXdhaXRlZCBmb3IgdGhlIGZpcnN0IHRpbWUuXG4gKi8gZnVuY3Rpb24gY3JlYXRlVGFnc0V4cGlyYXRpb25zQnlDYWNoZUtpbmQodGFncykge1xuICAgIGNvbnN0IGV4cGlyYXRpb25zQnlDYWNoZUtpbmQgPSBuZXcgTWFwKCk7XG4gICAgY29uc3QgY2FjaGVIYW5kbGVycyA9IGdldENhY2hlSGFuZGxlckVudHJpZXMoKTtcbiAgICBpZiAoY2FjaGVIYW5kbGVycykge1xuICAgICAgICBmb3IgKGNvbnN0IFtraW5kLCBjYWNoZUhhbmRsZXJdIG9mIGNhY2hlSGFuZGxlcnMpe1xuICAgICAgICAgICAgaWYgKCdnZXRFeHBpcmF0aW9uJyBpbiBjYWNoZUhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICBleHBpcmF0aW9uc0J5Q2FjaGVLaW5kLnNldChraW5kLCBjcmVhdGVMYXp5UmVzdWx0KGFzeW5jICgpPT5jYWNoZUhhbmRsZXIuZ2V0RXhwaXJhdGlvbiguLi50YWdzKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBleHBpcmF0aW9uc0J5Q2FjaGVLaW5kO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEltcGxpY2l0VGFncyhwYWdlLCB1cmwsIGZhbGxiYWNrUm91dGVQYXJhbXMpIHtcbiAgICBjb25zdCB0YWdzID0gW107XG4gICAgY29uc3QgaGFzRmFsbGJhY2tSb3V0ZVBhcmFtcyA9IGZhbGxiYWNrUm91dGVQYXJhbXMgJiYgZmFsbGJhY2tSb3V0ZVBhcmFtcy5zaXplID4gMDtcbiAgICAvLyBBZGQgdGhlIGRlcml2ZWQgdGFncyBmcm9tIHRoZSBwYWdlLlxuICAgIGNvbnN0IGRlcml2ZWRUYWdzID0gZ2V0RGVyaXZlZFRhZ3MocGFnZSk7XG4gICAgZm9yIChsZXQgdGFnIG9mIGRlcml2ZWRUYWdzKXtcbiAgICAgICAgdGFnID0gYCR7TkVYVF9DQUNIRV9JTVBMSUNJVF9UQUdfSUR9JHt0YWd9YDtcbiAgICAgICAgdGFncy5wdXNoKHRhZyk7XG4gICAgfVxuICAgIC8vIEFkZCB0aGUgdGFncyBmcm9tIHRoZSBwYXRobmFtZS4gSWYgdGhlIHJvdXRlIGhhcyB1bmtub3duIHBhcmFtcywgd2UgZG9uJ3RcbiAgICAvLyB3YW50IHRvIGFkZCB0aGUgcGF0aG5hbWUgYXMgYSB0YWcsIGFzIGl0IHdpbGwgYmUgaW52YWxpZC5cbiAgICBpZiAodXJsLnBhdGhuYW1lICYmICFoYXNGYWxsYmFja1JvdXRlUGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IHRhZyA9IGAke05FWFRfQ0FDSEVfSU1QTElDSVRfVEFHX0lEfSR7dXJsLnBhdGhuYW1lfWA7XG4gICAgICAgIHRhZ3MucHVzaCh0YWcpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICB0YWdzLFxuICAgICAgICBleHBpcmF0aW9uc0J5Q2FjaGVLaW5kOiBjcmVhdGVUYWdzRXhwaXJhdGlvbnNCeUNhY2hlS2luZCh0YWdzKVxuICAgIH07XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWltcGxpY2l0LXRhZ3MuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/lib/implicit-tags.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/lib/incremental-cache/tags-manifest.external.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/lib/incremental-cache/tags-manifest.external.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isStale: () => (/* binding */ isStale),\n/* harmony export */   tagsManifest: () => (/* binding */ tagsManifest)\n/* harmony export */ });\n// We share the tags manifest between the \"use cache\" handlers and the previous\n// file-system cache.\nconst tagsManifest = new Map();\nconst isStale = (tags, timestamp)=>{\n    for (const tag of tags){\n        const revalidatedAt = tagsManifest.get(tag);\n        if (typeof revalidatedAt === 'number' && revalidatedAt >= timestamp) {\n            return true;\n        }\n    }\n    return false;\n}; //# sourceMappingURL=tags-manifest.external.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL2xpYi9pbmNyZW1lbnRhbC1jYWNoZS90YWdzLW1hbmlmZXN0LmV4dGVybmFsLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBRUEsK0VBQStFO0FBQy9FLHFCQUFxQjtBQUNkLE1BQU1BLGVBQWUsSUFBSUMsTUFBcUI7QUFFOUMsTUFBTUMsVUFBVSxDQUFDQyxNQUFnQkM7SUFDdEMsS0FBSyxNQUFNQyxPQUFPRixLQUFNO1FBQ3RCLE1BQU1HLGdCQUFnQk4sYUFBYU8sR0FBRyxDQUFDRjtRQUV2QyxJQUFJLE9BQU9DLGtCQUFrQixZQUFZQSxpQkFBaUJGLFdBQVc7WUFDbkUsT0FBTztRQUNUO0lBQ0Y7SUFFQSxPQUFPO0FBQ1QsRUFBQyIsInNvdXJjZXMiOlsiRDpcXHNyY1xcc2VydmVyXFxsaWJcXGluY3JlbWVudGFsLWNhY2hlXFx0YWdzLW1hbmlmZXN0LmV4dGVybmFsLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgVGltZXN0YW1wIH0gZnJvbSAnLi4vY2FjaGUtaGFuZGxlcnMvdHlwZXMnXG5cbi8vIFdlIHNoYXJlIHRoZSB0YWdzIG1hbmlmZXN0IGJldHdlZW4gdGhlIFwidXNlIGNhY2hlXCIgaGFuZGxlcnMgYW5kIHRoZSBwcmV2aW91c1xuLy8gZmlsZS1zeXN0ZW0gY2FjaGUuXG5leHBvcnQgY29uc3QgdGFnc01hbmlmZXN0ID0gbmV3IE1hcDxzdHJpbmcsIG51bWJlcj4oKVxuXG5leHBvcnQgY29uc3QgaXNTdGFsZSA9ICh0YWdzOiBzdHJpbmdbXSwgdGltZXN0YW1wOiBUaW1lc3RhbXApID0+IHtcbiAgZm9yIChjb25zdCB0YWcgb2YgdGFncykge1xuICAgIGNvbnN0IHJldmFsaWRhdGVkQXQgPSB0YWdzTWFuaWZlc3QuZ2V0KHRhZylcblxuICAgIGlmICh0eXBlb2YgcmV2YWxpZGF0ZWRBdCA9PT0gJ251bWJlcicgJiYgcmV2YWxpZGF0ZWRBdCA+PSB0aW1lc3RhbXApIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlXG59XG4iXSwibmFtZXMiOlsidGFnc01hbmlmZXN0IiwiTWFwIiwiaXNTdGFsZSIsInRhZ3MiLCJ0aW1lc3RhbXAiLCJ0YWciLCJyZXZhbGlkYXRlZEF0IiwiZ2V0Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/lib/incremental-cache/tags-manifest.external.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/lib/lazy-result.js":
/*!**************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/lib/lazy-result.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createLazyResult: () => (/* binding */ createLazyResult),\n/* harmony export */   isResolvedLazyResult: () => (/* binding */ isResolvedLazyResult)\n/* harmony export */ });\n/**\n * Calls the given async function only when the returned promise-like object is\n * awaited. Afterwards, it provides the resolved value synchronously as `value`\n * property.\n */ function createLazyResult(fn) {\n    let pendingResult;\n    const result = {\n        then (onfulfilled, onrejected) {\n            if (!pendingResult) {\n                pendingResult = fn();\n            }\n            pendingResult.then((value)=>{\n                result.value = value;\n            }).catch(()=>{\n            // The externally awaited result will be rejected via `onrejected`. We\n            // don't need to handle it here. But we do want to avoid an unhandled\n            // rejection.\n            });\n            return pendingResult.then(onfulfilled, onrejected);\n        }\n    };\n    return result;\n}\nfunction isResolvedLazyResult(result) {\n    return result.hasOwnProperty('value');\n}\n\n//# sourceMappingURL=lazy-result.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL2xpYi9sYXp5LXJlc3VsdC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXG5leHRcXGRpc3RcXGVzbVxcc2VydmVyXFxsaWJcXGxhenktcmVzdWx0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ2FsbHMgdGhlIGdpdmVuIGFzeW5jIGZ1bmN0aW9uIG9ubHkgd2hlbiB0aGUgcmV0dXJuZWQgcHJvbWlzZS1saWtlIG9iamVjdCBpc1xuICogYXdhaXRlZC4gQWZ0ZXJ3YXJkcywgaXQgcHJvdmlkZXMgdGhlIHJlc29sdmVkIHZhbHVlIHN5bmNocm9ub3VzbHkgYXMgYHZhbHVlYFxuICogcHJvcGVydHkuXG4gKi8gZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUxhenlSZXN1bHQoZm4pIHtcbiAgICBsZXQgcGVuZGluZ1Jlc3VsdDtcbiAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgIHRoZW4gKG9uZnVsZmlsbGVkLCBvbnJlamVjdGVkKSB7XG4gICAgICAgICAgICBpZiAoIXBlbmRpbmdSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBwZW5kaW5nUmVzdWx0ID0gZm4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBlbmRpbmdSZXN1bHQudGhlbigodmFsdWUpPT57XG4gICAgICAgICAgICAgICAgcmVzdWx0LnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICB9KS5jYXRjaCgoKT0+e1xuICAgICAgICAgICAgLy8gVGhlIGV4dGVybmFsbHkgYXdhaXRlZCByZXN1bHQgd2lsbCBiZSByZWplY3RlZCB2aWEgYG9ucmVqZWN0ZWRgLiBXZVxuICAgICAgICAgICAgLy8gZG9uJ3QgbmVlZCB0byBoYW5kbGUgaXQgaGVyZS4gQnV0IHdlIGRvIHdhbnQgdG8gYXZvaWQgYW4gdW5oYW5kbGVkXG4gICAgICAgICAgICAvLyByZWplY3Rpb24uXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwZW5kaW5nUmVzdWx0LnRoZW4ob25mdWxmaWxsZWQsIG9ucmVqZWN0ZWQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzUmVzb2x2ZWRMYXp5UmVzdWx0KHJlc3VsdCkge1xuICAgIHJldHVybiByZXN1bHQuaGFzT3duUHJvcGVydHkoJ3ZhbHVlJyk7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxhenktcmVzdWx0LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/lib/lazy-result.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/lib/lru-cache.js":
/*!************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/lib/lru-cache.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LRUCache: () => (/* binding */ LRUCache)\n/* harmony export */ });\n/**\n * Node in the doubly-linked list used for LRU tracking.\n * Each node represents a cache entry with bidirectional pointers.\n */ class LRUNode {\n    constructor(key, data, size){\n        this.prev = null;\n        this.next = null;\n        this.key = key;\n        this.data = data;\n        this.size = size;\n    }\n}\n/**\n * Sentinel node used for head/tail boundaries.\n * These nodes don't contain actual cache data but simplify list operations.\n */ class SentinelNode {\n    constructor(){\n        this.prev = null;\n        this.next = null;\n    }\n}\n/**\n * LRU (Least Recently Used) Cache implementation using a doubly-linked list\n * and hash map for O(1) operations.\n *\n * Algorithm:\n * - Uses a doubly-linked list to maintain access order (most recent at head)\n * - Hash map provides O(1) key-to-node lookup\n * - Sentinel head/tail nodes simplify edge case handling\n * - Size-based eviction supports custom size calculation functions\n *\n * Data Structure Layout:\n * HEAD <-> [most recent] <-> ... <-> [least recent] <-> TAIL\n *\n * Operations:\n * - get(): Move accessed node to head (mark as most recent)\n * - set(): Add new node at head, evict from tail if over capacity\n * - Eviction: Remove least recent node (tail.prev) when size exceeds limit\n */ class LRUCache {\n    constructor(maxSize, calculateSize){\n        this.cache = new Map();\n        this.totalSize = 0;\n        this.maxSize = maxSize;\n        this.calculateSize = calculateSize;\n        // Create sentinel nodes to simplify doubly-linked list operations\n        // HEAD <-> TAIL (empty list)\n        this.head = new SentinelNode();\n        this.tail = new SentinelNode();\n        this.head.next = this.tail;\n        this.tail.prev = this.head;\n    }\n    /**\n   * Adds a node immediately after the head (marks as most recently used).\n   * Used when inserting new items or when an item is accessed.\n   * PRECONDITION: node must be disconnected (prev/next should be null)\n   */ addToHead(node) {\n        node.prev = this.head;\n        node.next = this.head.next;\n        // head.next is always non-null (points to tail or another node)\n        this.head.next.prev = node;\n        this.head.next = node;\n    }\n    /**\n   * Removes a node from its current position in the doubly-linked list.\n   * Updates the prev/next pointers of adjacent nodes to maintain list integrity.\n   * PRECONDITION: node must be connected (prev/next are non-null)\n   */ removeNode(node) {\n        // Connected nodes always have non-null prev/next\n        node.prev.next = node.next;\n        node.next.prev = node.prev;\n    }\n    /**\n   * Moves an existing node to the head position (marks as most recently used).\n   * This is the core LRU operation - accessed items become most recent.\n   */ moveToHead(node) {\n        this.removeNode(node);\n        this.addToHead(node);\n    }\n    /**\n   * Removes and returns the least recently used node (the one before tail).\n   * This is called during eviction when the cache exceeds capacity.\n   * PRECONDITION: cache is not empty (ensured by caller)\n   */ removeTail() {\n        const lastNode = this.tail.prev;\n        // tail.prev is always non-null and always LRUNode when cache is not empty\n        this.removeNode(lastNode);\n        return lastNode;\n    }\n    /**\n   * Sets a key-value pair in the cache.\n   * If the key exists, updates the value and moves to head.\n   * If new, adds at head and evicts from tail if necessary.\n   *\n   * Time Complexity:\n   * - O(1) for uniform item sizes\n   * - O(k) where k is the number of items evicted (can be O(N) for variable sizes)\n   */ set(key, value) {\n        const size = (this.calculateSize == null ? void 0 : this.calculateSize.call(this, value)) ?? 1;\n        if (size > this.maxSize) {\n            console.warn('Single item size exceeds maxSize');\n            return;\n        }\n        const existing = this.cache.get(key);\n        if (existing) {\n            // Update existing node: adjust size and move to head (most recent)\n            existing.data = value;\n            this.totalSize = this.totalSize - existing.size + size;\n            existing.size = size;\n            this.moveToHead(existing);\n        } else {\n            // Add new node at head (most recent position)\n            const newNode = new LRUNode(key, value, size);\n            this.cache.set(key, newNode);\n            this.addToHead(newNode);\n            this.totalSize += size;\n        }\n        // Evict least recently used items until under capacity\n        while(this.totalSize > this.maxSize && this.cache.size > 0){\n            const tail = this.removeTail();\n            this.cache.delete(tail.key);\n            this.totalSize -= tail.size;\n        }\n    }\n    /**\n   * Checks if a key exists in the cache.\n   * This is a pure query operation - does NOT update LRU order.\n   *\n   * Time Complexity: O(1)\n   */ has(key) {\n        return this.cache.has(key);\n    }\n    /**\n   * Retrieves a value by key and marks it as most recently used.\n   * Moving to head maintains the LRU property for future evictions.\n   *\n   * Time Complexity: O(1)\n   */ get(key) {\n        const node = this.cache.get(key);\n        if (!node) return undefined;\n        // Mark as most recently used by moving to head\n        this.moveToHead(node);\n        return node.data;\n    }\n    /**\n   * Returns an iterator over the cache entries. The order is outputted in the\n   * order of most recently used to least recently used.\n   */ *[Symbol.iterator]() {\n        let current = this.head.next;\n        while(current && current !== this.tail){\n            // Between head and tail, current is always LRUNode\n            const node = current;\n            yield [\n                node.key,\n                node.data\n            ];\n            current = current.next;\n        }\n    }\n    /**\n   * Removes a specific key from the cache.\n   * Updates both the hash map and doubly-linked list.\n   *\n   * Time Complexity: O(1)\n   */ remove(key) {\n        const node = this.cache.get(key);\n        if (!node) return;\n        this.removeNode(node);\n        this.cache.delete(key);\n        this.totalSize -= node.size;\n    }\n    /**\n   * Returns the number of items in the cache.\n   */ get size() {\n        return this.cache.size;\n    }\n    /**\n   * Returns the current total size of all cached items.\n   * This uses the custom size calculation if provided.\n   */ get currentSize() {\n        return this.totalSize;\n    }\n}\n\n//# sourceMappingURL=lru-cache.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL2xpYi9scnUtY2FjaGUuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxuZXh0XFxkaXN0XFxlc21cXHNlcnZlclxcbGliXFxscnUtY2FjaGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBOb2RlIGluIHRoZSBkb3VibHktbGlua2VkIGxpc3QgdXNlZCBmb3IgTFJVIHRyYWNraW5nLlxuICogRWFjaCBub2RlIHJlcHJlc2VudHMgYSBjYWNoZSBlbnRyeSB3aXRoIGJpZGlyZWN0aW9uYWwgcG9pbnRlcnMuXG4gKi8gY2xhc3MgTFJVTm9kZSB7XG4gICAgY29uc3RydWN0b3Ioa2V5LCBkYXRhLCBzaXplKXtcbiAgICAgICAgdGhpcy5wcmV2ID0gbnVsbDtcbiAgICAgICAgdGhpcy5uZXh0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgIHRoaXMuc2l6ZSA9IHNpemU7XG4gICAgfVxufVxuLyoqXG4gKiBTZW50aW5lbCBub2RlIHVzZWQgZm9yIGhlYWQvdGFpbCBib3VuZGFyaWVzLlxuICogVGhlc2Ugbm9kZXMgZG9uJ3QgY29udGFpbiBhY3R1YWwgY2FjaGUgZGF0YSBidXQgc2ltcGxpZnkgbGlzdCBvcGVyYXRpb25zLlxuICovIGNsYXNzIFNlbnRpbmVsTm9kZSB7XG4gICAgY29uc3RydWN0b3IoKXtcbiAgICAgICAgdGhpcy5wcmV2ID0gbnVsbDtcbiAgICAgICAgdGhpcy5uZXh0ID0gbnVsbDtcbiAgICB9XG59XG4vKipcbiAqIExSVSAoTGVhc3QgUmVjZW50bHkgVXNlZCkgQ2FjaGUgaW1wbGVtZW50YXRpb24gdXNpbmcgYSBkb3VibHktbGlua2VkIGxpc3RcbiAqIGFuZCBoYXNoIG1hcCBmb3IgTygxKSBvcGVyYXRpb25zLlxuICpcbiAqIEFsZ29yaXRobTpcbiAqIC0gVXNlcyBhIGRvdWJseS1saW5rZWQgbGlzdCB0byBtYWludGFpbiBhY2Nlc3Mgb3JkZXIgKG1vc3QgcmVjZW50IGF0IGhlYWQpXG4gKiAtIEhhc2ggbWFwIHByb3ZpZGVzIE8oMSkga2V5LXRvLW5vZGUgbG9va3VwXG4gKiAtIFNlbnRpbmVsIGhlYWQvdGFpbCBub2RlcyBzaW1wbGlmeSBlZGdlIGNhc2UgaGFuZGxpbmdcbiAqIC0gU2l6ZS1iYXNlZCBldmljdGlvbiBzdXBwb3J0cyBjdXN0b20gc2l6ZSBjYWxjdWxhdGlvbiBmdW5jdGlvbnNcbiAqXG4gKiBEYXRhIFN0cnVjdHVyZSBMYXlvdXQ6XG4gKiBIRUFEIDwtPiBbbW9zdCByZWNlbnRdIDwtPiAuLi4gPC0+IFtsZWFzdCByZWNlbnRdIDwtPiBUQUlMXG4gKlxuICogT3BlcmF0aW9uczpcbiAqIC0gZ2V0KCk6IE1vdmUgYWNjZXNzZWQgbm9kZSB0byBoZWFkIChtYXJrIGFzIG1vc3QgcmVjZW50KVxuICogLSBzZXQoKTogQWRkIG5ldyBub2RlIGF0IGhlYWQsIGV2aWN0IGZyb20gdGFpbCBpZiBvdmVyIGNhcGFjaXR5XG4gKiAtIEV2aWN0aW9uOiBSZW1vdmUgbGVhc3QgcmVjZW50IG5vZGUgKHRhaWwucHJldikgd2hlbiBzaXplIGV4Y2VlZHMgbGltaXRcbiAqLyBleHBvcnQgY2xhc3MgTFJVQ2FjaGUge1xuICAgIGNvbnN0cnVjdG9yKG1heFNpemUsIGNhbGN1bGF0ZVNpemUpe1xuICAgICAgICB0aGlzLmNhY2hlID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLnRvdGFsU2l6ZSA9IDA7XG4gICAgICAgIHRoaXMubWF4U2l6ZSA9IG1heFNpemU7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlU2l6ZSA9IGNhbGN1bGF0ZVNpemU7XG4gICAgICAgIC8vIENyZWF0ZSBzZW50aW5lbCBub2RlcyB0byBzaW1wbGlmeSBkb3VibHktbGlua2VkIGxpc3Qgb3BlcmF0aW9uc1xuICAgICAgICAvLyBIRUFEIDwtPiBUQUlMIChlbXB0eSBsaXN0KVxuICAgICAgICB0aGlzLmhlYWQgPSBuZXcgU2VudGluZWxOb2RlKCk7XG4gICAgICAgIHRoaXMudGFpbCA9IG5ldyBTZW50aW5lbE5vZGUoKTtcbiAgICAgICAgdGhpcy5oZWFkLm5leHQgPSB0aGlzLnRhaWw7XG4gICAgICAgIHRoaXMudGFpbC5wcmV2ID0gdGhpcy5oZWFkO1xuICAgIH1cbiAgICAvKipcbiAgICogQWRkcyBhIG5vZGUgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIGhlYWQgKG1hcmtzIGFzIG1vc3QgcmVjZW50bHkgdXNlZCkuXG4gICAqIFVzZWQgd2hlbiBpbnNlcnRpbmcgbmV3IGl0ZW1zIG9yIHdoZW4gYW4gaXRlbSBpcyBhY2Nlc3NlZC5cbiAgICogUFJFQ09ORElUSU9OOiBub2RlIG11c3QgYmUgZGlzY29ubmVjdGVkIChwcmV2L25leHQgc2hvdWxkIGJlIG51bGwpXG4gICAqLyBhZGRUb0hlYWQobm9kZSkge1xuICAgICAgICBub2RlLnByZXYgPSB0aGlzLmhlYWQ7XG4gICAgICAgIG5vZGUubmV4dCA9IHRoaXMuaGVhZC5uZXh0O1xuICAgICAgICAvLyBoZWFkLm5leHQgaXMgYWx3YXlzIG5vbi1udWxsIChwb2ludHMgdG8gdGFpbCBvciBhbm90aGVyIG5vZGUpXG4gICAgICAgIHRoaXMuaGVhZC5uZXh0LnByZXYgPSBub2RlO1xuICAgICAgICB0aGlzLmhlYWQubmV4dCA9IG5vZGU7XG4gICAgfVxuICAgIC8qKlxuICAgKiBSZW1vdmVzIGEgbm9kZSBmcm9tIGl0cyBjdXJyZW50IHBvc2l0aW9uIGluIHRoZSBkb3VibHktbGlua2VkIGxpc3QuXG4gICAqIFVwZGF0ZXMgdGhlIHByZXYvbmV4dCBwb2ludGVycyBvZiBhZGphY2VudCBub2RlcyB0byBtYWludGFpbiBsaXN0IGludGVncml0eS5cbiAgICogUFJFQ09ORElUSU9OOiBub2RlIG11c3QgYmUgY29ubmVjdGVkIChwcmV2L25leHQgYXJlIG5vbi1udWxsKVxuICAgKi8gcmVtb3ZlTm9kZShub2RlKSB7XG4gICAgICAgIC8vIENvbm5lY3RlZCBub2RlcyBhbHdheXMgaGF2ZSBub24tbnVsbCBwcmV2L25leHRcbiAgICAgICAgbm9kZS5wcmV2Lm5leHQgPSBub2RlLm5leHQ7XG4gICAgICAgIG5vZGUubmV4dC5wcmV2ID0gbm9kZS5wcmV2O1xuICAgIH1cbiAgICAvKipcbiAgICogTW92ZXMgYW4gZXhpc3Rpbmcgbm9kZSB0byB0aGUgaGVhZCBwb3NpdGlvbiAobWFya3MgYXMgbW9zdCByZWNlbnRseSB1c2VkKS5cbiAgICogVGhpcyBpcyB0aGUgY29yZSBMUlUgb3BlcmF0aW9uIC0gYWNjZXNzZWQgaXRlbXMgYmVjb21lIG1vc3QgcmVjZW50LlxuICAgKi8gbW92ZVRvSGVhZChub2RlKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlTm9kZShub2RlKTtcbiAgICAgICAgdGhpcy5hZGRUb0hlYWQobm9kZSk7XG4gICAgfVxuICAgIC8qKlxuICAgKiBSZW1vdmVzIGFuZCByZXR1cm5zIHRoZSBsZWFzdCByZWNlbnRseSB1c2VkIG5vZGUgKHRoZSBvbmUgYmVmb3JlIHRhaWwpLlxuICAgKiBUaGlzIGlzIGNhbGxlZCBkdXJpbmcgZXZpY3Rpb24gd2hlbiB0aGUgY2FjaGUgZXhjZWVkcyBjYXBhY2l0eS5cbiAgICogUFJFQ09ORElUSU9OOiBjYWNoZSBpcyBub3QgZW1wdHkgKGVuc3VyZWQgYnkgY2FsbGVyKVxuICAgKi8gcmVtb3ZlVGFpbCgpIHtcbiAgICAgICAgY29uc3QgbGFzdE5vZGUgPSB0aGlzLnRhaWwucHJldjtcbiAgICAgICAgLy8gdGFpbC5wcmV2IGlzIGFsd2F5cyBub24tbnVsbCBhbmQgYWx3YXlzIExSVU5vZGUgd2hlbiBjYWNoZSBpcyBub3QgZW1wdHlcbiAgICAgICAgdGhpcy5yZW1vdmVOb2RlKGxhc3ROb2RlKTtcbiAgICAgICAgcmV0dXJuIGxhc3ROb2RlO1xuICAgIH1cbiAgICAvKipcbiAgICogU2V0cyBhIGtleS12YWx1ZSBwYWlyIGluIHRoZSBjYWNoZS5cbiAgICogSWYgdGhlIGtleSBleGlzdHMsIHVwZGF0ZXMgdGhlIHZhbHVlIGFuZCBtb3ZlcyB0byBoZWFkLlxuICAgKiBJZiBuZXcsIGFkZHMgYXQgaGVhZCBhbmQgZXZpY3RzIGZyb20gdGFpbCBpZiBuZWNlc3NhcnkuXG4gICAqXG4gICAqIFRpbWUgQ29tcGxleGl0eTpcbiAgICogLSBPKDEpIGZvciB1bmlmb3JtIGl0ZW0gc2l6ZXNcbiAgICogLSBPKGspIHdoZXJlIGsgaXMgdGhlIG51bWJlciBvZiBpdGVtcyBldmljdGVkIChjYW4gYmUgTyhOKSBmb3IgdmFyaWFibGUgc2l6ZXMpXG4gICAqLyBzZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgICBjb25zdCBzaXplID0gKHRoaXMuY2FsY3VsYXRlU2l6ZSA9PSBudWxsID8gdm9pZCAwIDogdGhpcy5jYWxjdWxhdGVTaXplLmNhbGwodGhpcywgdmFsdWUpKSA/PyAxO1xuICAgICAgICBpZiAoc2l6ZSA+IHRoaXMubWF4U2l6ZSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdTaW5nbGUgaXRlbSBzaXplIGV4Y2VlZHMgbWF4U2l6ZScpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nID0gdGhpcy5jYWNoZS5nZXQoa2V5KTtcbiAgICAgICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICAgICAgICAvLyBVcGRhdGUgZXhpc3Rpbmcgbm9kZTogYWRqdXN0IHNpemUgYW5kIG1vdmUgdG8gaGVhZCAobW9zdCByZWNlbnQpXG4gICAgICAgICAgICBleGlzdGluZy5kYXRhID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnRvdGFsU2l6ZSA9IHRoaXMudG90YWxTaXplIC0gZXhpc3Rpbmcuc2l6ZSArIHNpemU7XG4gICAgICAgICAgICBleGlzdGluZy5zaXplID0gc2l6ZTtcbiAgICAgICAgICAgIHRoaXMubW92ZVRvSGVhZChleGlzdGluZyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBBZGQgbmV3IG5vZGUgYXQgaGVhZCAobW9zdCByZWNlbnQgcG9zaXRpb24pXG4gICAgICAgICAgICBjb25zdCBuZXdOb2RlID0gbmV3IExSVU5vZGUoa2V5LCB2YWx1ZSwgc2l6ZSk7XG4gICAgICAgICAgICB0aGlzLmNhY2hlLnNldChrZXksIG5ld05vZGUpO1xuICAgICAgICAgICAgdGhpcy5hZGRUb0hlYWQobmV3Tm9kZSk7XG4gICAgICAgICAgICB0aGlzLnRvdGFsU2l6ZSArPSBzaXplO1xuICAgICAgICB9XG4gICAgICAgIC8vIEV2aWN0IGxlYXN0IHJlY2VudGx5IHVzZWQgaXRlbXMgdW50aWwgdW5kZXIgY2FwYWNpdHlcbiAgICAgICAgd2hpbGUodGhpcy50b3RhbFNpemUgPiB0aGlzLm1heFNpemUgJiYgdGhpcy5jYWNoZS5zaXplID4gMCl7XG4gICAgICAgICAgICBjb25zdCB0YWlsID0gdGhpcy5yZW1vdmVUYWlsKCk7XG4gICAgICAgICAgICB0aGlzLmNhY2hlLmRlbGV0ZSh0YWlsLmtleSk7XG4gICAgICAgICAgICB0aGlzLnRvdGFsU2l6ZSAtPSB0YWlsLnNpemU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAqIENoZWNrcyBpZiBhIGtleSBleGlzdHMgaW4gdGhlIGNhY2hlLlxuICAgKiBUaGlzIGlzIGEgcHVyZSBxdWVyeSBvcGVyYXRpb24gLSBkb2VzIE5PVCB1cGRhdGUgTFJVIG9yZGVyLlxuICAgKlxuICAgKiBUaW1lIENvbXBsZXhpdHk6IE8oMSlcbiAgICovIGhhcyhrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGUuaGFzKGtleSk7XG4gICAgfVxuICAgIC8qKlxuICAgKiBSZXRyaWV2ZXMgYSB2YWx1ZSBieSBrZXkgYW5kIG1hcmtzIGl0IGFzIG1vc3QgcmVjZW50bHkgdXNlZC5cbiAgICogTW92aW5nIHRvIGhlYWQgbWFpbnRhaW5zIHRoZSBMUlUgcHJvcGVydHkgZm9yIGZ1dHVyZSBldmljdGlvbnMuXG4gICAqXG4gICAqIFRpbWUgQ29tcGxleGl0eTogTygxKVxuICAgKi8gZ2V0KGtleSkge1xuICAgICAgICBjb25zdCBub2RlID0gdGhpcy5jYWNoZS5nZXQoa2V5KTtcbiAgICAgICAgaWYgKCFub2RlKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAvLyBNYXJrIGFzIG1vc3QgcmVjZW50bHkgdXNlZCBieSBtb3ZpbmcgdG8gaGVhZFxuICAgICAgICB0aGlzLm1vdmVUb0hlYWQobm9kZSk7XG4gICAgICAgIHJldHVybiBub2RlLmRhdGE7XG4gICAgfVxuICAgIC8qKlxuICAgKiBSZXR1cm5zIGFuIGl0ZXJhdG9yIG92ZXIgdGhlIGNhY2hlIGVudHJpZXMuIFRoZSBvcmRlciBpcyBvdXRwdXR0ZWQgaW4gdGhlXG4gICAqIG9yZGVyIG9mIG1vc3QgcmVjZW50bHkgdXNlZCB0byBsZWFzdCByZWNlbnRseSB1c2VkLlxuICAgKi8gKltTeW1ib2wuaXRlcmF0b3JdKCkge1xuICAgICAgICBsZXQgY3VycmVudCA9IHRoaXMuaGVhZC5uZXh0O1xuICAgICAgICB3aGlsZShjdXJyZW50ICYmIGN1cnJlbnQgIT09IHRoaXMudGFpbCl7XG4gICAgICAgICAgICAvLyBCZXR3ZWVuIGhlYWQgYW5kIHRhaWwsIGN1cnJlbnQgaXMgYWx3YXlzIExSVU5vZGVcbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBjdXJyZW50O1xuICAgICAgICAgICAgeWllbGQgW1xuICAgICAgICAgICAgICAgIG5vZGUua2V5LFxuICAgICAgICAgICAgICAgIG5vZGUuZGF0YVxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50Lm5leHQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAqIFJlbW92ZXMgYSBzcGVjaWZpYyBrZXkgZnJvbSB0aGUgY2FjaGUuXG4gICAqIFVwZGF0ZXMgYm90aCB0aGUgaGFzaCBtYXAgYW5kIGRvdWJseS1saW5rZWQgbGlzdC5cbiAgICpcbiAgICogVGltZSBDb21wbGV4aXR5OiBPKDEpXG4gICAqLyByZW1vdmUoa2V5KSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLmNhY2hlLmdldChrZXkpO1xuICAgICAgICBpZiAoIW5vZGUpIHJldHVybjtcbiAgICAgICAgdGhpcy5yZW1vdmVOb2RlKG5vZGUpO1xuICAgICAgICB0aGlzLmNhY2hlLmRlbGV0ZShrZXkpO1xuICAgICAgICB0aGlzLnRvdGFsU2l6ZSAtPSBub2RlLnNpemU7XG4gICAgfVxuICAgIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgaXRlbXMgaW4gdGhlIGNhY2hlLlxuICAgKi8gZ2V0IHNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhY2hlLnNpemU7XG4gICAgfVxuICAgIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IHRvdGFsIHNpemUgb2YgYWxsIGNhY2hlZCBpdGVtcy5cbiAgICogVGhpcyB1c2VzIHRoZSBjdXN0b20gc2l6ZSBjYWxjdWxhdGlvbiBpZiBwcm92aWRlZC5cbiAgICovIGdldCBjdXJyZW50U2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG90YWxTaXplO1xuICAgIH1cbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bHJ1LWNhY2hlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/lib/lru-cache.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/lib/router-utils/is-postpone.js":
/*!***************************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/lib/router-utils/is-postpone.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isPostpone: () => (/* binding */ isPostpone)\n/* harmony export */ });\nconst REACT_POSTPONE_TYPE = Symbol.for('react.postpone');\nfunction isPostpone(error) {\n    return typeof error === 'object' && error !== null && error.$$typeof === REACT_POSTPONE_TYPE;\n}\n\n//# sourceMappingURL=is-postpone.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL2xpYi9yb3V0ZXItdXRpbHMvaXMtcG9zdHBvbmUuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ087QUFDUDtBQUNBOztBQUVBIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxuZXh0XFxkaXN0XFxlc21cXHNlcnZlclxcbGliXFxyb3V0ZXItdXRpbHNcXGlzLXBvc3Rwb25lLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFJFQUNUX1BPU1RQT05FX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5wb3N0cG9uZScpO1xuZXhwb3J0IGZ1bmN0aW9uIGlzUG9zdHBvbmUoZXJyb3IpIHtcbiAgICByZXR1cm4gdHlwZW9mIGVycm9yID09PSAnb2JqZWN0JyAmJiBlcnJvciAhPT0gbnVsbCAmJiBlcnJvci4kJHR5cGVvZiA9PT0gUkVBQ1RfUE9TVFBPTkVfVFlQRTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXMtcG9zdHBvbmUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/lib/router-utils/is-postpone.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/lib/trace/constants.js":
/*!******************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/lib/trace/constants.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AppRenderSpan: () => (/* binding */ AppRenderSpan),\n/* harmony export */   AppRouteRouteHandlersSpan: () => (/* binding */ AppRouteRouteHandlersSpan),\n/* harmony export */   BaseServerSpan: () => (/* binding */ BaseServerSpan),\n/* harmony export */   LoadComponentsSpan: () => (/* binding */ LoadComponentsSpan),\n/* harmony export */   LogSpanAllowList: () => (/* binding */ LogSpanAllowList),\n/* harmony export */   MiddlewareSpan: () => (/* binding */ MiddlewareSpan),\n/* harmony export */   NextNodeServerSpan: () => (/* binding */ NextNodeServerSpan),\n/* harmony export */   NextServerSpan: () => (/* binding */ NextServerSpan),\n/* harmony export */   NextVanillaSpanAllowlist: () => (/* binding */ NextVanillaSpanAllowlist),\n/* harmony export */   NodeSpan: () => (/* binding */ NodeSpan),\n/* harmony export */   RenderSpan: () => (/* binding */ RenderSpan),\n/* harmony export */   ResolveMetadataSpan: () => (/* binding */ ResolveMetadataSpan),\n/* harmony export */   RouterSpan: () => (/* binding */ RouterSpan),\n/* harmony export */   StartServerSpan: () => (/* binding */ StartServerSpan)\n/* harmony export */ });\n/**\n * Contains predefined constants for the trace span name in next/server.\n *\n * Currently, next/server/tracer is internal implementation only for tracking\n * next.js's implementation only with known span names defined here.\n **/ // eslint typescript has a bug with TS enums\n/* eslint-disable no-shadow */ var BaseServerSpan = /*#__PURE__*/ function(BaseServerSpan) {\n    BaseServerSpan[\"handleRequest\"] = \"BaseServer.handleRequest\";\n    BaseServerSpan[\"run\"] = \"BaseServer.run\";\n    BaseServerSpan[\"pipe\"] = \"BaseServer.pipe\";\n    BaseServerSpan[\"getStaticHTML\"] = \"BaseServer.getStaticHTML\";\n    BaseServerSpan[\"render\"] = \"BaseServer.render\";\n    BaseServerSpan[\"renderToResponseWithComponents\"] = \"BaseServer.renderToResponseWithComponents\";\n    BaseServerSpan[\"renderToResponse\"] = \"BaseServer.renderToResponse\";\n    BaseServerSpan[\"renderToHTML\"] = \"BaseServer.renderToHTML\";\n    BaseServerSpan[\"renderError\"] = \"BaseServer.renderError\";\n    BaseServerSpan[\"renderErrorToResponse\"] = \"BaseServer.renderErrorToResponse\";\n    BaseServerSpan[\"renderErrorToHTML\"] = \"BaseServer.renderErrorToHTML\";\n    BaseServerSpan[\"render404\"] = \"BaseServer.render404\";\n    return BaseServerSpan;\n}(BaseServerSpan || {});\nvar LoadComponentsSpan = /*#__PURE__*/ function(LoadComponentsSpan) {\n    LoadComponentsSpan[\"loadDefaultErrorComponents\"] = \"LoadComponents.loadDefaultErrorComponents\";\n    LoadComponentsSpan[\"loadComponents\"] = \"LoadComponents.loadComponents\";\n    return LoadComponentsSpan;\n}(LoadComponentsSpan || {});\nvar NextServerSpan = /*#__PURE__*/ function(NextServerSpan) {\n    NextServerSpan[\"getRequestHandler\"] = \"NextServer.getRequestHandler\";\n    NextServerSpan[\"getServer\"] = \"NextServer.getServer\";\n    NextServerSpan[\"getServerRequestHandler\"] = \"NextServer.getServerRequestHandler\";\n    NextServerSpan[\"createServer\"] = \"createServer.createServer\";\n    return NextServerSpan;\n}(NextServerSpan || {});\nvar NextNodeServerSpan = /*#__PURE__*/ function(NextNodeServerSpan) {\n    NextNodeServerSpan[\"compression\"] = \"NextNodeServer.compression\";\n    NextNodeServerSpan[\"getBuildId\"] = \"NextNodeServer.getBuildId\";\n    NextNodeServerSpan[\"createComponentTree\"] = \"NextNodeServer.createComponentTree\";\n    NextNodeServerSpan[\"clientComponentLoading\"] = \"NextNodeServer.clientComponentLoading\";\n    NextNodeServerSpan[\"getLayoutOrPageModule\"] = \"NextNodeServer.getLayoutOrPageModule\";\n    NextNodeServerSpan[\"generateStaticRoutes\"] = \"NextNodeServer.generateStaticRoutes\";\n    NextNodeServerSpan[\"generateFsStaticRoutes\"] = \"NextNodeServer.generateFsStaticRoutes\";\n    NextNodeServerSpan[\"generatePublicRoutes\"] = \"NextNodeServer.generatePublicRoutes\";\n    NextNodeServerSpan[\"generateImageRoutes\"] = \"NextNodeServer.generateImageRoutes.route\";\n    NextNodeServerSpan[\"sendRenderResult\"] = \"NextNodeServer.sendRenderResult\";\n    NextNodeServerSpan[\"proxyRequest\"] = \"NextNodeServer.proxyRequest\";\n    NextNodeServerSpan[\"runApi\"] = \"NextNodeServer.runApi\";\n    NextNodeServerSpan[\"render\"] = \"NextNodeServer.render\";\n    NextNodeServerSpan[\"renderHTML\"] = \"NextNodeServer.renderHTML\";\n    NextNodeServerSpan[\"imageOptimizer\"] = \"NextNodeServer.imageOptimizer\";\n    NextNodeServerSpan[\"getPagePath\"] = \"NextNodeServer.getPagePath\";\n    NextNodeServerSpan[\"getRoutesManifest\"] = \"NextNodeServer.getRoutesManifest\";\n    NextNodeServerSpan[\"findPageComponents\"] = \"NextNodeServer.findPageComponents\";\n    NextNodeServerSpan[\"getFontManifest\"] = \"NextNodeServer.getFontManifest\";\n    NextNodeServerSpan[\"getServerComponentManifest\"] = \"NextNodeServer.getServerComponentManifest\";\n    NextNodeServerSpan[\"getRequestHandler\"] = \"NextNodeServer.getRequestHandler\";\n    NextNodeServerSpan[\"renderToHTML\"] = \"NextNodeServer.renderToHTML\";\n    NextNodeServerSpan[\"renderError\"] = \"NextNodeServer.renderError\";\n    NextNodeServerSpan[\"renderErrorToHTML\"] = \"NextNodeServer.renderErrorToHTML\";\n    NextNodeServerSpan[\"render404\"] = \"NextNodeServer.render404\";\n    NextNodeServerSpan[\"startResponse\"] = \"NextNodeServer.startResponse\";\n    // nested inner span, does not require parent scope name\n    NextNodeServerSpan[\"route\"] = \"route\";\n    NextNodeServerSpan[\"onProxyReq\"] = \"onProxyReq\";\n    NextNodeServerSpan[\"apiResolver\"] = \"apiResolver\";\n    NextNodeServerSpan[\"internalFetch\"] = \"internalFetch\";\n    return NextNodeServerSpan;\n}(NextNodeServerSpan || {});\nvar StartServerSpan = /*#__PURE__*/ function(StartServerSpan) {\n    StartServerSpan[\"startServer\"] = \"startServer.startServer\";\n    return StartServerSpan;\n}(StartServerSpan || {});\nvar RenderSpan = /*#__PURE__*/ function(RenderSpan) {\n    RenderSpan[\"getServerSideProps\"] = \"Render.getServerSideProps\";\n    RenderSpan[\"getStaticProps\"] = \"Render.getStaticProps\";\n    RenderSpan[\"renderToString\"] = \"Render.renderToString\";\n    RenderSpan[\"renderDocument\"] = \"Render.renderDocument\";\n    RenderSpan[\"createBodyResult\"] = \"Render.createBodyResult\";\n    return RenderSpan;\n}(RenderSpan || {});\nvar AppRenderSpan = /*#__PURE__*/ function(AppRenderSpan) {\n    AppRenderSpan[\"renderToString\"] = \"AppRender.renderToString\";\n    AppRenderSpan[\"renderToReadableStream\"] = \"AppRender.renderToReadableStream\";\n    AppRenderSpan[\"getBodyResult\"] = \"AppRender.getBodyResult\";\n    AppRenderSpan[\"fetch\"] = \"AppRender.fetch\";\n    return AppRenderSpan;\n}(AppRenderSpan || {});\nvar RouterSpan = /*#__PURE__*/ function(RouterSpan) {\n    RouterSpan[\"executeRoute\"] = \"Router.executeRoute\";\n    return RouterSpan;\n}(RouterSpan || {});\nvar NodeSpan = /*#__PURE__*/ function(NodeSpan) {\n    NodeSpan[\"runHandler\"] = \"Node.runHandler\";\n    return NodeSpan;\n}(NodeSpan || {});\nvar AppRouteRouteHandlersSpan = /*#__PURE__*/ function(AppRouteRouteHandlersSpan) {\n    AppRouteRouteHandlersSpan[\"runHandler\"] = \"AppRouteRouteHandlers.runHandler\";\n    return AppRouteRouteHandlersSpan;\n}(AppRouteRouteHandlersSpan || {});\nvar ResolveMetadataSpan = /*#__PURE__*/ function(ResolveMetadataSpan) {\n    ResolveMetadataSpan[\"generateMetadata\"] = \"ResolveMetadata.generateMetadata\";\n    ResolveMetadataSpan[\"generateViewport\"] = \"ResolveMetadata.generateViewport\";\n    return ResolveMetadataSpan;\n}(ResolveMetadataSpan || {});\nvar MiddlewareSpan = /*#__PURE__*/ function(MiddlewareSpan) {\n    MiddlewareSpan[\"execute\"] = \"Middleware.execute\";\n    return MiddlewareSpan;\n}(MiddlewareSpan || {});\n// This list is used to filter out spans that are not relevant to the user\nconst NextVanillaSpanAllowlist = [\n    \"Middleware.execute\",\n    \"BaseServer.handleRequest\",\n    \"Render.getServerSideProps\",\n    \"Render.getStaticProps\",\n    \"AppRender.fetch\",\n    \"AppRender.getBodyResult\",\n    \"Render.renderDocument\",\n    \"Node.runHandler\",\n    \"AppRouteRouteHandlers.runHandler\",\n    \"ResolveMetadata.generateMetadata\",\n    \"ResolveMetadata.generateViewport\",\n    \"NextNodeServer.createComponentTree\",\n    \"NextNodeServer.findPageComponents\",\n    \"NextNodeServer.getLayoutOrPageModule\",\n    \"NextNodeServer.startResponse\",\n    \"NextNodeServer.clientComponentLoading\"\n];\n// These Spans are allowed to be always logged\n// when the otel log prefix env is set\nconst LogSpanAllowList = [\n    \"NextNodeServer.findPageComponents\",\n    \"NextNodeServer.createComponentTree\",\n    \"NextNodeServer.clientComponentLoading\"\n];\n\n\n//# sourceMappingURL=constants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL2xpYi90cmFjZS9jb25zdGFudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxxQkFBcUI7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHlCQUF5QjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHFCQUFxQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHlCQUF5QjtBQUMxQjtBQUNBO0FBQ0E7QUFDQSxDQUFDLHNCQUFzQjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsaUJBQWlCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsb0JBQW9CO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLENBQUMsaUJBQWlCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLENBQUMsZUFBZTtBQUNoQjtBQUNBO0FBQ0E7QUFDQSxDQUFDLGdDQUFnQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsMEJBQTBCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLENBQUMscUJBQXFCO0FBQ3RCO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDc047O0FBRXROIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxuZXh0XFxkaXN0XFxlc21cXHNlcnZlclxcbGliXFx0cmFjZVxcY29uc3RhbnRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29udGFpbnMgcHJlZGVmaW5lZCBjb25zdGFudHMgZm9yIHRoZSB0cmFjZSBzcGFuIG5hbWUgaW4gbmV4dC9zZXJ2ZXIuXG4gKlxuICogQ3VycmVudGx5LCBuZXh0L3NlcnZlci90cmFjZXIgaXMgaW50ZXJuYWwgaW1wbGVtZW50YXRpb24gb25seSBmb3IgdHJhY2tpbmdcbiAqIG5leHQuanMncyBpbXBsZW1lbnRhdGlvbiBvbmx5IHdpdGgga25vd24gc3BhbiBuYW1lcyBkZWZpbmVkIGhlcmUuXG4gKiovIC8vIGVzbGludCB0eXBlc2NyaXB0IGhhcyBhIGJ1ZyB3aXRoIFRTIGVudW1zXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1zaGFkb3cgKi8gdmFyIEJhc2VTZXJ2ZXJTcGFuID0gLyojX19QVVJFX18qLyBmdW5jdGlvbihCYXNlU2VydmVyU3Bhbikge1xuICAgIEJhc2VTZXJ2ZXJTcGFuW1wiaGFuZGxlUmVxdWVzdFwiXSA9IFwiQmFzZVNlcnZlci5oYW5kbGVSZXF1ZXN0XCI7XG4gICAgQmFzZVNlcnZlclNwYW5bXCJydW5cIl0gPSBcIkJhc2VTZXJ2ZXIucnVuXCI7XG4gICAgQmFzZVNlcnZlclNwYW5bXCJwaXBlXCJdID0gXCJCYXNlU2VydmVyLnBpcGVcIjtcbiAgICBCYXNlU2VydmVyU3BhbltcImdldFN0YXRpY0hUTUxcIl0gPSBcIkJhc2VTZXJ2ZXIuZ2V0U3RhdGljSFRNTFwiO1xuICAgIEJhc2VTZXJ2ZXJTcGFuW1wicmVuZGVyXCJdID0gXCJCYXNlU2VydmVyLnJlbmRlclwiO1xuICAgIEJhc2VTZXJ2ZXJTcGFuW1wicmVuZGVyVG9SZXNwb25zZVdpdGhDb21wb25lbnRzXCJdID0gXCJCYXNlU2VydmVyLnJlbmRlclRvUmVzcG9uc2VXaXRoQ29tcG9uZW50c1wiO1xuICAgIEJhc2VTZXJ2ZXJTcGFuW1wicmVuZGVyVG9SZXNwb25zZVwiXSA9IFwiQmFzZVNlcnZlci5yZW5kZXJUb1Jlc3BvbnNlXCI7XG4gICAgQmFzZVNlcnZlclNwYW5bXCJyZW5kZXJUb0hUTUxcIl0gPSBcIkJhc2VTZXJ2ZXIucmVuZGVyVG9IVE1MXCI7XG4gICAgQmFzZVNlcnZlclNwYW5bXCJyZW5kZXJFcnJvclwiXSA9IFwiQmFzZVNlcnZlci5yZW5kZXJFcnJvclwiO1xuICAgIEJhc2VTZXJ2ZXJTcGFuW1wicmVuZGVyRXJyb3JUb1Jlc3BvbnNlXCJdID0gXCJCYXNlU2VydmVyLnJlbmRlckVycm9yVG9SZXNwb25zZVwiO1xuICAgIEJhc2VTZXJ2ZXJTcGFuW1wicmVuZGVyRXJyb3JUb0hUTUxcIl0gPSBcIkJhc2VTZXJ2ZXIucmVuZGVyRXJyb3JUb0hUTUxcIjtcbiAgICBCYXNlU2VydmVyU3BhbltcInJlbmRlcjQwNFwiXSA9IFwiQmFzZVNlcnZlci5yZW5kZXI0MDRcIjtcbiAgICByZXR1cm4gQmFzZVNlcnZlclNwYW47XG59KEJhc2VTZXJ2ZXJTcGFuIHx8IHt9KTtcbnZhciBMb2FkQ29tcG9uZW50c1NwYW4gPSAvKiNfX1BVUkVfXyovIGZ1bmN0aW9uKExvYWRDb21wb25lbnRzU3Bhbikge1xuICAgIExvYWRDb21wb25lbnRzU3BhbltcImxvYWREZWZhdWx0RXJyb3JDb21wb25lbnRzXCJdID0gXCJMb2FkQ29tcG9uZW50cy5sb2FkRGVmYXVsdEVycm9yQ29tcG9uZW50c1wiO1xuICAgIExvYWRDb21wb25lbnRzU3BhbltcImxvYWRDb21wb25lbnRzXCJdID0gXCJMb2FkQ29tcG9uZW50cy5sb2FkQ29tcG9uZW50c1wiO1xuICAgIHJldHVybiBMb2FkQ29tcG9uZW50c1NwYW47XG59KExvYWRDb21wb25lbnRzU3BhbiB8fCB7fSk7XG52YXIgTmV4dFNlcnZlclNwYW4gPSAvKiNfX1BVUkVfXyovIGZ1bmN0aW9uKE5leHRTZXJ2ZXJTcGFuKSB7XG4gICAgTmV4dFNlcnZlclNwYW5bXCJnZXRSZXF1ZXN0SGFuZGxlclwiXSA9IFwiTmV4dFNlcnZlci5nZXRSZXF1ZXN0SGFuZGxlclwiO1xuICAgIE5leHRTZXJ2ZXJTcGFuW1wiZ2V0U2VydmVyXCJdID0gXCJOZXh0U2VydmVyLmdldFNlcnZlclwiO1xuICAgIE5leHRTZXJ2ZXJTcGFuW1wiZ2V0U2VydmVyUmVxdWVzdEhhbmRsZXJcIl0gPSBcIk5leHRTZXJ2ZXIuZ2V0U2VydmVyUmVxdWVzdEhhbmRsZXJcIjtcbiAgICBOZXh0U2VydmVyU3BhbltcImNyZWF0ZVNlcnZlclwiXSA9IFwiY3JlYXRlU2VydmVyLmNyZWF0ZVNlcnZlclwiO1xuICAgIHJldHVybiBOZXh0U2VydmVyU3Bhbjtcbn0oTmV4dFNlcnZlclNwYW4gfHwge30pO1xudmFyIE5leHROb2RlU2VydmVyU3BhbiA9IC8qI19fUFVSRV9fKi8gZnVuY3Rpb24oTmV4dE5vZGVTZXJ2ZXJTcGFuKSB7XG4gICAgTmV4dE5vZGVTZXJ2ZXJTcGFuW1wiY29tcHJlc3Npb25cIl0gPSBcIk5leHROb2RlU2VydmVyLmNvbXByZXNzaW9uXCI7XG4gICAgTmV4dE5vZGVTZXJ2ZXJTcGFuW1wiZ2V0QnVpbGRJZFwiXSA9IFwiTmV4dE5vZGVTZXJ2ZXIuZ2V0QnVpbGRJZFwiO1xuICAgIE5leHROb2RlU2VydmVyU3BhbltcImNyZWF0ZUNvbXBvbmVudFRyZWVcIl0gPSBcIk5leHROb2RlU2VydmVyLmNyZWF0ZUNvbXBvbmVudFRyZWVcIjtcbiAgICBOZXh0Tm9kZVNlcnZlclNwYW5bXCJjbGllbnRDb21wb25lbnRMb2FkaW5nXCJdID0gXCJOZXh0Tm9kZVNlcnZlci5jbGllbnRDb21wb25lbnRMb2FkaW5nXCI7XG4gICAgTmV4dE5vZGVTZXJ2ZXJTcGFuW1wiZ2V0TGF5b3V0T3JQYWdlTW9kdWxlXCJdID0gXCJOZXh0Tm9kZVNlcnZlci5nZXRMYXlvdXRPclBhZ2VNb2R1bGVcIjtcbiAgICBOZXh0Tm9kZVNlcnZlclNwYW5bXCJnZW5lcmF0ZVN0YXRpY1JvdXRlc1wiXSA9IFwiTmV4dE5vZGVTZXJ2ZXIuZ2VuZXJhdGVTdGF0aWNSb3V0ZXNcIjtcbiAgICBOZXh0Tm9kZVNlcnZlclNwYW5bXCJnZW5lcmF0ZUZzU3RhdGljUm91dGVzXCJdID0gXCJOZXh0Tm9kZVNlcnZlci5nZW5lcmF0ZUZzU3RhdGljUm91dGVzXCI7XG4gICAgTmV4dE5vZGVTZXJ2ZXJTcGFuW1wiZ2VuZXJhdGVQdWJsaWNSb3V0ZXNcIl0gPSBcIk5leHROb2RlU2VydmVyLmdlbmVyYXRlUHVibGljUm91dGVzXCI7XG4gICAgTmV4dE5vZGVTZXJ2ZXJTcGFuW1wiZ2VuZXJhdGVJbWFnZVJvdXRlc1wiXSA9IFwiTmV4dE5vZGVTZXJ2ZXIuZ2VuZXJhdGVJbWFnZVJvdXRlcy5yb3V0ZVwiO1xuICAgIE5leHROb2RlU2VydmVyU3BhbltcInNlbmRSZW5kZXJSZXN1bHRcIl0gPSBcIk5leHROb2RlU2VydmVyLnNlbmRSZW5kZXJSZXN1bHRcIjtcbiAgICBOZXh0Tm9kZVNlcnZlclNwYW5bXCJwcm94eVJlcXVlc3RcIl0gPSBcIk5leHROb2RlU2VydmVyLnByb3h5UmVxdWVzdFwiO1xuICAgIE5leHROb2RlU2VydmVyU3BhbltcInJ1bkFwaVwiXSA9IFwiTmV4dE5vZGVTZXJ2ZXIucnVuQXBpXCI7XG4gICAgTmV4dE5vZGVTZXJ2ZXJTcGFuW1wicmVuZGVyXCJdID0gXCJOZXh0Tm9kZVNlcnZlci5yZW5kZXJcIjtcbiAgICBOZXh0Tm9kZVNlcnZlclNwYW5bXCJyZW5kZXJIVE1MXCJdID0gXCJOZXh0Tm9kZVNlcnZlci5yZW5kZXJIVE1MXCI7XG4gICAgTmV4dE5vZGVTZXJ2ZXJTcGFuW1wiaW1hZ2VPcHRpbWl6ZXJcIl0gPSBcIk5leHROb2RlU2VydmVyLmltYWdlT3B0aW1pemVyXCI7XG4gICAgTmV4dE5vZGVTZXJ2ZXJTcGFuW1wiZ2V0UGFnZVBhdGhcIl0gPSBcIk5leHROb2RlU2VydmVyLmdldFBhZ2VQYXRoXCI7XG4gICAgTmV4dE5vZGVTZXJ2ZXJTcGFuW1wiZ2V0Um91dGVzTWFuaWZlc3RcIl0gPSBcIk5leHROb2RlU2VydmVyLmdldFJvdXRlc01hbmlmZXN0XCI7XG4gICAgTmV4dE5vZGVTZXJ2ZXJTcGFuW1wiZmluZFBhZ2VDb21wb25lbnRzXCJdID0gXCJOZXh0Tm9kZVNlcnZlci5maW5kUGFnZUNvbXBvbmVudHNcIjtcbiAgICBOZXh0Tm9kZVNlcnZlclNwYW5bXCJnZXRGb250TWFuaWZlc3RcIl0gPSBcIk5leHROb2RlU2VydmVyLmdldEZvbnRNYW5pZmVzdFwiO1xuICAgIE5leHROb2RlU2VydmVyU3BhbltcImdldFNlcnZlckNvbXBvbmVudE1hbmlmZXN0XCJdID0gXCJOZXh0Tm9kZVNlcnZlci5nZXRTZXJ2ZXJDb21wb25lbnRNYW5pZmVzdFwiO1xuICAgIE5leHROb2RlU2VydmVyU3BhbltcImdldFJlcXVlc3RIYW5kbGVyXCJdID0gXCJOZXh0Tm9kZVNlcnZlci5nZXRSZXF1ZXN0SGFuZGxlclwiO1xuICAgIE5leHROb2RlU2VydmVyU3BhbltcInJlbmRlclRvSFRNTFwiXSA9IFwiTmV4dE5vZGVTZXJ2ZXIucmVuZGVyVG9IVE1MXCI7XG4gICAgTmV4dE5vZGVTZXJ2ZXJTcGFuW1wicmVuZGVyRXJyb3JcIl0gPSBcIk5leHROb2RlU2VydmVyLnJlbmRlckVycm9yXCI7XG4gICAgTmV4dE5vZGVTZXJ2ZXJTcGFuW1wicmVuZGVyRXJyb3JUb0hUTUxcIl0gPSBcIk5leHROb2RlU2VydmVyLnJlbmRlckVycm9yVG9IVE1MXCI7XG4gICAgTmV4dE5vZGVTZXJ2ZXJTcGFuW1wicmVuZGVyNDA0XCJdID0gXCJOZXh0Tm9kZVNlcnZlci5yZW5kZXI0MDRcIjtcbiAgICBOZXh0Tm9kZVNlcnZlclNwYW5bXCJzdGFydFJlc3BvbnNlXCJdID0gXCJOZXh0Tm9kZVNlcnZlci5zdGFydFJlc3BvbnNlXCI7XG4gICAgLy8gbmVzdGVkIGlubmVyIHNwYW4sIGRvZXMgbm90IHJlcXVpcmUgcGFyZW50IHNjb3BlIG5hbWVcbiAgICBOZXh0Tm9kZVNlcnZlclNwYW5bXCJyb3V0ZVwiXSA9IFwicm91dGVcIjtcbiAgICBOZXh0Tm9kZVNlcnZlclNwYW5bXCJvblByb3h5UmVxXCJdID0gXCJvblByb3h5UmVxXCI7XG4gICAgTmV4dE5vZGVTZXJ2ZXJTcGFuW1wiYXBpUmVzb2x2ZXJcIl0gPSBcImFwaVJlc29sdmVyXCI7XG4gICAgTmV4dE5vZGVTZXJ2ZXJTcGFuW1wiaW50ZXJuYWxGZXRjaFwiXSA9IFwiaW50ZXJuYWxGZXRjaFwiO1xuICAgIHJldHVybiBOZXh0Tm9kZVNlcnZlclNwYW47XG59KE5leHROb2RlU2VydmVyU3BhbiB8fCB7fSk7XG52YXIgU3RhcnRTZXJ2ZXJTcGFuID0gLyojX19QVVJFX18qLyBmdW5jdGlvbihTdGFydFNlcnZlclNwYW4pIHtcbiAgICBTdGFydFNlcnZlclNwYW5bXCJzdGFydFNlcnZlclwiXSA9IFwic3RhcnRTZXJ2ZXIuc3RhcnRTZXJ2ZXJcIjtcbiAgICByZXR1cm4gU3RhcnRTZXJ2ZXJTcGFuO1xufShTdGFydFNlcnZlclNwYW4gfHwge30pO1xudmFyIFJlbmRlclNwYW4gPSAvKiNfX1BVUkVfXyovIGZ1bmN0aW9uKFJlbmRlclNwYW4pIHtcbiAgICBSZW5kZXJTcGFuW1wiZ2V0U2VydmVyU2lkZVByb3BzXCJdID0gXCJSZW5kZXIuZ2V0U2VydmVyU2lkZVByb3BzXCI7XG4gICAgUmVuZGVyU3BhbltcImdldFN0YXRpY1Byb3BzXCJdID0gXCJSZW5kZXIuZ2V0U3RhdGljUHJvcHNcIjtcbiAgICBSZW5kZXJTcGFuW1wicmVuZGVyVG9TdHJpbmdcIl0gPSBcIlJlbmRlci5yZW5kZXJUb1N0cmluZ1wiO1xuICAgIFJlbmRlclNwYW5bXCJyZW5kZXJEb2N1bWVudFwiXSA9IFwiUmVuZGVyLnJlbmRlckRvY3VtZW50XCI7XG4gICAgUmVuZGVyU3BhbltcImNyZWF0ZUJvZHlSZXN1bHRcIl0gPSBcIlJlbmRlci5jcmVhdGVCb2R5UmVzdWx0XCI7XG4gICAgcmV0dXJuIFJlbmRlclNwYW47XG59KFJlbmRlclNwYW4gfHwge30pO1xudmFyIEFwcFJlbmRlclNwYW4gPSAvKiNfX1BVUkVfXyovIGZ1bmN0aW9uKEFwcFJlbmRlclNwYW4pIHtcbiAgICBBcHBSZW5kZXJTcGFuW1wicmVuZGVyVG9TdHJpbmdcIl0gPSBcIkFwcFJlbmRlci5yZW5kZXJUb1N0cmluZ1wiO1xuICAgIEFwcFJlbmRlclNwYW5bXCJyZW5kZXJUb1JlYWRhYmxlU3RyZWFtXCJdID0gXCJBcHBSZW5kZXIucmVuZGVyVG9SZWFkYWJsZVN0cmVhbVwiO1xuICAgIEFwcFJlbmRlclNwYW5bXCJnZXRCb2R5UmVzdWx0XCJdID0gXCJBcHBSZW5kZXIuZ2V0Qm9keVJlc3VsdFwiO1xuICAgIEFwcFJlbmRlclNwYW5bXCJmZXRjaFwiXSA9IFwiQXBwUmVuZGVyLmZldGNoXCI7XG4gICAgcmV0dXJuIEFwcFJlbmRlclNwYW47XG59KEFwcFJlbmRlclNwYW4gfHwge30pO1xudmFyIFJvdXRlclNwYW4gPSAvKiNfX1BVUkVfXyovIGZ1bmN0aW9uKFJvdXRlclNwYW4pIHtcbiAgICBSb3V0ZXJTcGFuW1wiZXhlY3V0ZVJvdXRlXCJdID0gXCJSb3V0ZXIuZXhlY3V0ZVJvdXRlXCI7XG4gICAgcmV0dXJuIFJvdXRlclNwYW47XG59KFJvdXRlclNwYW4gfHwge30pO1xudmFyIE5vZGVTcGFuID0gLyojX19QVVJFX18qLyBmdW5jdGlvbihOb2RlU3Bhbikge1xuICAgIE5vZGVTcGFuW1wicnVuSGFuZGxlclwiXSA9IFwiTm9kZS5ydW5IYW5kbGVyXCI7XG4gICAgcmV0dXJuIE5vZGVTcGFuO1xufShOb2RlU3BhbiB8fCB7fSk7XG52YXIgQXBwUm91dGVSb3V0ZUhhbmRsZXJzU3BhbiA9IC8qI19fUFVSRV9fKi8gZnVuY3Rpb24oQXBwUm91dGVSb3V0ZUhhbmRsZXJzU3Bhbikge1xuICAgIEFwcFJvdXRlUm91dGVIYW5kbGVyc1NwYW5bXCJydW5IYW5kbGVyXCJdID0gXCJBcHBSb3V0ZVJvdXRlSGFuZGxlcnMucnVuSGFuZGxlclwiO1xuICAgIHJldHVybiBBcHBSb3V0ZVJvdXRlSGFuZGxlcnNTcGFuO1xufShBcHBSb3V0ZVJvdXRlSGFuZGxlcnNTcGFuIHx8IHt9KTtcbnZhciBSZXNvbHZlTWV0YWRhdGFTcGFuID0gLyojX19QVVJFX18qLyBmdW5jdGlvbihSZXNvbHZlTWV0YWRhdGFTcGFuKSB7XG4gICAgUmVzb2x2ZU1ldGFkYXRhU3BhbltcImdlbmVyYXRlTWV0YWRhdGFcIl0gPSBcIlJlc29sdmVNZXRhZGF0YS5nZW5lcmF0ZU1ldGFkYXRhXCI7XG4gICAgUmVzb2x2ZU1ldGFkYXRhU3BhbltcImdlbmVyYXRlVmlld3BvcnRcIl0gPSBcIlJlc29sdmVNZXRhZGF0YS5nZW5lcmF0ZVZpZXdwb3J0XCI7XG4gICAgcmV0dXJuIFJlc29sdmVNZXRhZGF0YVNwYW47XG59KFJlc29sdmVNZXRhZGF0YVNwYW4gfHwge30pO1xudmFyIE1pZGRsZXdhcmVTcGFuID0gLyojX19QVVJFX18qLyBmdW5jdGlvbihNaWRkbGV3YXJlU3Bhbikge1xuICAgIE1pZGRsZXdhcmVTcGFuW1wiZXhlY3V0ZVwiXSA9IFwiTWlkZGxld2FyZS5leGVjdXRlXCI7XG4gICAgcmV0dXJuIE1pZGRsZXdhcmVTcGFuO1xufShNaWRkbGV3YXJlU3BhbiB8fCB7fSk7XG4vLyBUaGlzIGxpc3QgaXMgdXNlZCB0byBmaWx0ZXIgb3V0IHNwYW5zIHRoYXQgYXJlIG5vdCByZWxldmFudCB0byB0aGUgdXNlclxuZXhwb3J0IGNvbnN0IE5leHRWYW5pbGxhU3BhbkFsbG93bGlzdCA9IFtcbiAgICBcIk1pZGRsZXdhcmUuZXhlY3V0ZVwiLFxuICAgIFwiQmFzZVNlcnZlci5oYW5kbGVSZXF1ZXN0XCIsXG4gICAgXCJSZW5kZXIuZ2V0U2VydmVyU2lkZVByb3BzXCIsXG4gICAgXCJSZW5kZXIuZ2V0U3RhdGljUHJvcHNcIixcbiAgICBcIkFwcFJlbmRlci5mZXRjaFwiLFxuICAgIFwiQXBwUmVuZGVyLmdldEJvZHlSZXN1bHRcIixcbiAgICBcIlJlbmRlci5yZW5kZXJEb2N1bWVudFwiLFxuICAgIFwiTm9kZS5ydW5IYW5kbGVyXCIsXG4gICAgXCJBcHBSb3V0ZVJvdXRlSGFuZGxlcnMucnVuSGFuZGxlclwiLFxuICAgIFwiUmVzb2x2ZU1ldGFkYXRhLmdlbmVyYXRlTWV0YWRhdGFcIixcbiAgICBcIlJlc29sdmVNZXRhZGF0YS5nZW5lcmF0ZVZpZXdwb3J0XCIsXG4gICAgXCJOZXh0Tm9kZVNlcnZlci5jcmVhdGVDb21wb25lbnRUcmVlXCIsXG4gICAgXCJOZXh0Tm9kZVNlcnZlci5maW5kUGFnZUNvbXBvbmVudHNcIixcbiAgICBcIk5leHROb2RlU2VydmVyLmdldExheW91dE9yUGFnZU1vZHVsZVwiLFxuICAgIFwiTmV4dE5vZGVTZXJ2ZXIuc3RhcnRSZXNwb25zZVwiLFxuICAgIFwiTmV4dE5vZGVTZXJ2ZXIuY2xpZW50Q29tcG9uZW50TG9hZGluZ1wiXG5dO1xuLy8gVGhlc2UgU3BhbnMgYXJlIGFsbG93ZWQgdG8gYmUgYWx3YXlzIGxvZ2dlZFxuLy8gd2hlbiB0aGUgb3RlbCBsb2cgcHJlZml4IGVudiBpcyBzZXRcbmV4cG9ydCBjb25zdCBMb2dTcGFuQWxsb3dMaXN0ID0gW1xuICAgIFwiTmV4dE5vZGVTZXJ2ZXIuZmluZFBhZ2VDb21wb25lbnRzXCIsXG4gICAgXCJOZXh0Tm9kZVNlcnZlci5jcmVhdGVDb21wb25lbnRUcmVlXCIsXG4gICAgXCJOZXh0Tm9kZVNlcnZlci5jbGllbnRDb21wb25lbnRMb2FkaW5nXCJcbl07XG5leHBvcnQgeyBCYXNlU2VydmVyU3BhbiwgTG9hZENvbXBvbmVudHNTcGFuLCBOZXh0U2VydmVyU3BhbiwgTmV4dE5vZGVTZXJ2ZXJTcGFuLCBTdGFydFNlcnZlclNwYW4sIFJlbmRlclNwYW4sIFJvdXRlclNwYW4sIEFwcFJlbmRlclNwYW4sIE5vZGVTcGFuLCBBcHBSb3V0ZVJvdXRlSGFuZGxlcnNTcGFuLCBSZXNvbHZlTWV0YWRhdGFTcGFuLCBNaWRkbGV3YXJlU3BhbiwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnN0YW50cy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/lib/trace/constants.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/lib/trace/tracer.js":
/*!***************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/lib/trace/tracer.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BubbledError: () => (/* binding */ BubbledError),\n/* harmony export */   SpanKind: () => (/* binding */ SpanKind),\n/* harmony export */   SpanStatusCode: () => (/* binding */ SpanStatusCode),\n/* harmony export */   getTracer: () => (/* binding */ getTracer),\n/* harmony export */   isBubbledError: () => (/* binding */ isBubbledError)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants */ \"(middleware)/./node_modules/next/dist/esm/server/lib/trace/constants.js\");\n/* harmony import */ var _shared_lib_is_thenable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../shared/lib/is-thenable */ \"(middleware)/./node_modules/next/dist/esm/shared/lib/is-thenable.js\");\n\n\nlet api;\n// we want to allow users to use their own version of @opentelemetry/api if they\n// want to, so we try to require it first, and if it fails we fall back to the\n// version that is bundled with Next.js\n// this is because @opentelemetry/api has to be synced with the version of\n// @opentelemetry/tracing that is used, and we don't want to force users to use\n// the version that is bundled with Next.js.\n// the API is ~stable, so this should be fine\nif (true) {\n    api = __webpack_require__(/*! @opentelemetry/api */ \"(middleware)/./node_modules/next/dist/compiled/@opentelemetry/api/index.js\");\n} else {}\nconst { context, propagation, trace, SpanStatusCode, SpanKind, ROOT_CONTEXT } = api;\nclass BubbledError extends Error {\n    constructor(bubble, result){\n        super(), this.bubble = bubble, this.result = result;\n    }\n}\nfunction isBubbledError(error) {\n    if (typeof error !== 'object' || error === null) return false;\n    return error instanceof BubbledError;\n}\nconst closeSpanWithError = (span, error)=>{\n    if (isBubbledError(error) && error.bubble) {\n        span.setAttribute('next.bubble', true);\n    } else {\n        if (error) {\n            span.recordException(error);\n            span.setAttribute('error.type', error.name);\n        }\n        span.setStatus({\n            code: SpanStatusCode.ERROR,\n            message: error == null ? void 0 : error.message\n        });\n    }\n    span.end();\n};\n/** we use this map to propagate attributes from nested spans to the top span */ const rootSpanAttributesStore = new Map();\nconst rootSpanIdKey = api.createContextKey('next.rootSpanId');\nlet lastSpanId = 0;\nconst getSpanId = ()=>lastSpanId++;\nconst clientTraceDataSetter = {\n    set (carrier, key, value) {\n        carrier.push({\n            key,\n            value\n        });\n    }\n};\nclass NextTracerImpl {\n    /**\n   * Returns an instance to the trace with configured name.\n   * Since wrap / trace can be defined in any place prior to actual trace subscriber initialization,\n   * This should be lazily evaluated.\n   */ getTracerInstance() {\n        return trace.getTracer('next.js', '0.0.1');\n    }\n    getContext() {\n        return context;\n    }\n    getTracePropagationData() {\n        const activeContext = context.active();\n        const entries = [];\n        propagation.inject(activeContext, entries, clientTraceDataSetter);\n        return entries;\n    }\n    getActiveScopeSpan() {\n        return trace.getSpan(context == null ? void 0 : context.active());\n    }\n    withPropagatedContext(carrier, fn, getter) {\n        const activeContext = context.active();\n        if (trace.getSpanContext(activeContext)) {\n            // Active span is already set, too late to propagate.\n            return fn();\n        }\n        const remoteContext = propagation.extract(activeContext, carrier, getter);\n        return context.with(remoteContext, fn);\n    }\n    trace(...args) {\n        var _trace_getSpanContext;\n        const [type, fnOrOptions, fnOrEmpty] = args;\n        // coerce options form overload\n        const { fn, options } = typeof fnOrOptions === 'function' ? {\n            fn: fnOrOptions,\n            options: {}\n        } : {\n            fn: fnOrEmpty,\n            options: {\n                ...fnOrOptions\n            }\n        };\n        const spanName = options.spanName ?? type;\n        if (!_constants__WEBPACK_IMPORTED_MODULE_0__.NextVanillaSpanAllowlist.includes(type) && process.env.NEXT_OTEL_VERBOSE !== '1' || options.hideSpan) {\n            return fn();\n        }\n        // Trying to get active scoped span to assign parent. If option specifies parent span manually, will try to use it.\n        let spanContext = this.getSpanContext((options == null ? void 0 : options.parentSpan) ?? this.getActiveScopeSpan());\n        let isRootSpan = false;\n        if (!spanContext) {\n            spanContext = (context == null ? void 0 : context.active()) ?? ROOT_CONTEXT;\n            isRootSpan = true;\n        } else if ((_trace_getSpanContext = trace.getSpanContext(spanContext)) == null ? void 0 : _trace_getSpanContext.isRemote) {\n            isRootSpan = true;\n        }\n        const spanId = getSpanId();\n        options.attributes = {\n            'next.span_name': spanName,\n            'next.span_type': type,\n            ...options.attributes\n        };\n        return context.with(spanContext.setValue(rootSpanIdKey, spanId), ()=>this.getTracerInstance().startActiveSpan(spanName, options, (span)=>{\n                const startTime = 'performance' in globalThis && 'measure' in performance ? globalThis.performance.now() : undefined;\n                const onCleanup = ()=>{\n                    rootSpanAttributesStore.delete(spanId);\n                    if (startTime && process.env.NEXT_OTEL_PERFORMANCE_PREFIX && _constants__WEBPACK_IMPORTED_MODULE_0__.LogSpanAllowList.includes(type || '')) {\n                        performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-${(type.split('.').pop() || '').replace(/[A-Z]/g, (match)=>'-' + match.toLowerCase())}`, {\n                            start: startTime,\n                            end: performance.now()\n                        });\n                    }\n                };\n                if (isRootSpan) {\n                    rootSpanAttributesStore.set(spanId, new Map(Object.entries(options.attributes ?? {})));\n                }\n                try {\n                    if (fn.length > 1) {\n                        return fn(span, (err)=>closeSpanWithError(span, err));\n                    }\n                    const result = fn(span);\n                    if ((0,_shared_lib_is_thenable__WEBPACK_IMPORTED_MODULE_1__.isThenable)(result)) {\n                        // If there's error make sure it throws\n                        return result.then((res)=>{\n                            span.end();\n                            // Need to pass down the promise result,\n                            // it could be react stream response with error { error, stream }\n                            return res;\n                        }).catch((err)=>{\n                            closeSpanWithError(span, err);\n                            throw err;\n                        }).finally(onCleanup);\n                    } else {\n                        span.end();\n                        onCleanup();\n                    }\n                    return result;\n                } catch (err) {\n                    closeSpanWithError(span, err);\n                    onCleanup();\n                    throw err;\n                }\n            }));\n    }\n    wrap(...args) {\n        const tracer = this;\n        const [name, options, fn] = args.length === 3 ? args : [\n            args[0],\n            {},\n            args[1]\n        ];\n        if (!_constants__WEBPACK_IMPORTED_MODULE_0__.NextVanillaSpanAllowlist.includes(name) && process.env.NEXT_OTEL_VERBOSE !== '1') {\n            return fn;\n        }\n        return function() {\n            let optionsObj = options;\n            if (typeof optionsObj === 'function' && typeof fn === 'function') {\n                optionsObj = optionsObj.apply(this, arguments);\n            }\n            const lastArgId = arguments.length - 1;\n            const cb = arguments[lastArgId];\n            if (typeof cb === 'function') {\n                const scopeBoundCb = tracer.getContext().bind(context.active(), cb);\n                return tracer.trace(name, optionsObj, (_span, done)=>{\n                    arguments[lastArgId] = function(err) {\n                        done == null ? void 0 : done(err);\n                        return scopeBoundCb.apply(this, arguments);\n                    };\n                    return fn.apply(this, arguments);\n                });\n            } else {\n                return tracer.trace(name, optionsObj, ()=>fn.apply(this, arguments));\n            }\n        };\n    }\n    startSpan(...args) {\n        const [type, options] = args;\n        const spanContext = this.getSpanContext((options == null ? void 0 : options.parentSpan) ?? this.getActiveScopeSpan());\n        return this.getTracerInstance().startSpan(type, options, spanContext);\n    }\n    getSpanContext(parentSpan) {\n        const spanContext = parentSpan ? trace.setSpan(context.active(), parentSpan) : undefined;\n        return spanContext;\n    }\n    getRootSpanAttributes() {\n        const spanId = context.active().getValue(rootSpanIdKey);\n        return rootSpanAttributesStore.get(spanId);\n    }\n    setRootSpanAttribute(key, value) {\n        const spanId = context.active().getValue(rootSpanIdKey);\n        const attributes = rootSpanAttributesStore.get(spanId);\n        if (attributes) {\n            attributes.set(key, value);\n        }\n    }\n}\nconst getTracer = (()=>{\n    const tracer = new NextTracerImpl();\n    return ()=>tracer;\n})();\n\n\n//# sourceMappingURL=tracer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL2xpYi90cmFjZS90cmFjZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUF5RTtBQUNaO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLElBQW1DO0FBQ3ZDLFVBQVUsbUJBQU8sQ0FBQyxzR0FBb0I7QUFDdEMsRUFBRSxLQUFLLEVBTU47QUFDRCxRQUFRLHNFQUFzRTtBQUN2RTtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsY0FBYztBQUM5QjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsZ0VBQXdCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUZBQWlGLHdEQUFnQjtBQUNqRywrQ0FBK0MseUNBQXlDLFFBQVEsb0ZBQW9GO0FBQ3BMO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0EsdUdBQXVHO0FBQ3ZHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixtRUFBVTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDhFQUE4RTtBQUM5RTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQSxhQUFhLGdFQUF3QjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDOEM7O0FBRS9DIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxuZXh0XFxkaXN0XFxlc21cXHNlcnZlclxcbGliXFx0cmFjZVxcdHJhY2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExvZ1NwYW5BbGxvd0xpc3QsIE5leHRWYW5pbGxhU3BhbkFsbG93bGlzdCB9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7IGlzVGhlbmFibGUgfSBmcm9tICcuLi8uLi8uLi9zaGFyZWQvbGliL2lzLXRoZW5hYmxlJztcbmxldCBhcGk7XG4vLyB3ZSB3YW50IHRvIGFsbG93IHVzZXJzIHRvIHVzZSB0aGVpciBvd24gdmVyc2lvbiBvZiBAb3BlbnRlbGVtZXRyeS9hcGkgaWYgdGhleVxuLy8gd2FudCB0bywgc28gd2UgdHJ5IHRvIHJlcXVpcmUgaXQgZmlyc3QsIGFuZCBpZiBpdCBmYWlscyB3ZSBmYWxsIGJhY2sgdG8gdGhlXG4vLyB2ZXJzaW9uIHRoYXQgaXMgYnVuZGxlZCB3aXRoIE5leHQuanNcbi8vIHRoaXMgaXMgYmVjYXVzZSBAb3BlbnRlbGVtZXRyeS9hcGkgaGFzIHRvIGJlIHN5bmNlZCB3aXRoIHRoZSB2ZXJzaW9uIG9mXG4vLyBAb3BlbnRlbGVtZXRyeS90cmFjaW5nIHRoYXQgaXMgdXNlZCwgYW5kIHdlIGRvbid0IHdhbnQgdG8gZm9yY2UgdXNlcnMgdG8gdXNlXG4vLyB0aGUgdmVyc2lvbiB0aGF0IGlzIGJ1bmRsZWQgd2l0aCBOZXh0LmpzLlxuLy8gdGhlIEFQSSBpcyB+c3RhYmxlLCBzbyB0aGlzIHNob3VsZCBiZSBmaW5lXG5pZiAocHJvY2Vzcy5lbnYuTkVYVF9SVU5USU1FID09PSAnZWRnZScpIHtcbiAgICBhcGkgPSByZXF1aXJlKCdAb3BlbnRlbGVtZXRyeS9hcGknKTtcbn0gZWxzZSB7XG4gICAgdHJ5IHtcbiAgICAgICAgYXBpID0gcmVxdWlyZSgnQG9wZW50ZWxlbWV0cnkvYXBpJyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGFwaSA9IHJlcXVpcmUoJ25leHQvZGlzdC9jb21waWxlZC9Ab3BlbnRlbGVtZXRyeS9hcGknKTtcbiAgICB9XG59XG5jb25zdCB7IGNvbnRleHQsIHByb3BhZ2F0aW9uLCB0cmFjZSwgU3BhblN0YXR1c0NvZGUsIFNwYW5LaW5kLCBST09UX0NPTlRFWFQgfSA9IGFwaTtcbmV4cG9ydCBjbGFzcyBCdWJibGVkRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IoYnViYmxlLCByZXN1bHQpe1xuICAgICAgICBzdXBlcigpLCB0aGlzLmJ1YmJsZSA9IGJ1YmJsZSwgdGhpcy5yZXN1bHQgPSByZXN1bHQ7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQnViYmxlZEVycm9yKGVycm9yKSB7XG4gICAgaWYgKHR5cGVvZiBlcnJvciAhPT0gJ29iamVjdCcgfHwgZXJyb3IgPT09IG51bGwpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gZXJyb3IgaW5zdGFuY2VvZiBCdWJibGVkRXJyb3I7XG59XG5jb25zdCBjbG9zZVNwYW5XaXRoRXJyb3IgPSAoc3BhbiwgZXJyb3IpPT57XG4gICAgaWYgKGlzQnViYmxlZEVycm9yKGVycm9yKSAmJiBlcnJvci5idWJibGUpIHtcbiAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGUoJ25leHQuYnViYmxlJywgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICBzcGFuLnJlY29yZEV4Y2VwdGlvbihlcnJvcik7XG4gICAgICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZSgnZXJyb3IudHlwZScsIGVycm9yLm5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHNwYW4uc2V0U3RhdHVzKHtcbiAgICAgICAgICAgIGNvZGU6IFNwYW5TdGF0dXNDb2RlLkVSUk9SLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IgPT0gbnVsbCA/IHZvaWQgMCA6IGVycm9yLm1lc3NhZ2VcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNwYW4uZW5kKCk7XG59O1xuLyoqIHdlIHVzZSB0aGlzIG1hcCB0byBwcm9wYWdhdGUgYXR0cmlidXRlcyBmcm9tIG5lc3RlZCBzcGFucyB0byB0aGUgdG9wIHNwYW4gKi8gY29uc3Qgcm9vdFNwYW5BdHRyaWJ1dGVzU3RvcmUgPSBuZXcgTWFwKCk7XG5jb25zdCByb290U3BhbklkS2V5ID0gYXBpLmNyZWF0ZUNvbnRleHRLZXkoJ25leHQucm9vdFNwYW5JZCcpO1xubGV0IGxhc3RTcGFuSWQgPSAwO1xuY29uc3QgZ2V0U3BhbklkID0gKCk9Pmxhc3RTcGFuSWQrKztcbmNvbnN0IGNsaWVudFRyYWNlRGF0YVNldHRlciA9IHtcbiAgICBzZXQgKGNhcnJpZXIsIGtleSwgdmFsdWUpIHtcbiAgICAgICAgY2Fycmllci5wdXNoKHtcbiAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgIHZhbHVlXG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5jbGFzcyBOZXh0VHJhY2VySW1wbCB7XG4gICAgLyoqXG4gICAqIFJldHVybnMgYW4gaW5zdGFuY2UgdG8gdGhlIHRyYWNlIHdpdGggY29uZmlndXJlZCBuYW1lLlxuICAgKiBTaW5jZSB3cmFwIC8gdHJhY2UgY2FuIGJlIGRlZmluZWQgaW4gYW55IHBsYWNlIHByaW9yIHRvIGFjdHVhbCB0cmFjZSBzdWJzY3JpYmVyIGluaXRpYWxpemF0aW9uLFxuICAgKiBUaGlzIHNob3VsZCBiZSBsYXppbHkgZXZhbHVhdGVkLlxuICAgKi8gZ2V0VHJhY2VySW5zdGFuY2UoKSB7XG4gICAgICAgIHJldHVybiB0cmFjZS5nZXRUcmFjZXIoJ25leHQuanMnLCAnMC4wLjEnKTtcbiAgICB9XG4gICAgZ2V0Q29udGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIGNvbnRleHQ7XG4gICAgfVxuICAgIGdldFRyYWNlUHJvcGFnYXRpb25EYXRhKCkge1xuICAgICAgICBjb25zdCBhY3RpdmVDb250ZXh0ID0gY29udGV4dC5hY3RpdmUoKTtcbiAgICAgICAgY29uc3QgZW50cmllcyA9IFtdO1xuICAgICAgICBwcm9wYWdhdGlvbi5pbmplY3QoYWN0aXZlQ29udGV4dCwgZW50cmllcywgY2xpZW50VHJhY2VEYXRhU2V0dGVyKTtcbiAgICAgICAgcmV0dXJuIGVudHJpZXM7XG4gICAgfVxuICAgIGdldEFjdGl2ZVNjb3BlU3BhbigpIHtcbiAgICAgICAgcmV0dXJuIHRyYWNlLmdldFNwYW4oY29udGV4dCA9PSBudWxsID8gdm9pZCAwIDogY29udGV4dC5hY3RpdmUoKSk7XG4gICAgfVxuICAgIHdpdGhQcm9wYWdhdGVkQ29udGV4dChjYXJyaWVyLCBmbiwgZ2V0dGVyKSB7XG4gICAgICAgIGNvbnN0IGFjdGl2ZUNvbnRleHQgPSBjb250ZXh0LmFjdGl2ZSgpO1xuICAgICAgICBpZiAodHJhY2UuZ2V0U3BhbkNvbnRleHQoYWN0aXZlQ29udGV4dCkpIHtcbiAgICAgICAgICAgIC8vIEFjdGl2ZSBzcGFuIGlzIGFscmVhZHkgc2V0LCB0b28gbGF0ZSB0byBwcm9wYWdhdGUuXG4gICAgICAgICAgICByZXR1cm4gZm4oKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZW1vdGVDb250ZXh0ID0gcHJvcGFnYXRpb24uZXh0cmFjdChhY3RpdmVDb250ZXh0LCBjYXJyaWVyLCBnZXR0ZXIpO1xuICAgICAgICByZXR1cm4gY29udGV4dC53aXRoKHJlbW90ZUNvbnRleHQsIGZuKTtcbiAgICB9XG4gICAgdHJhY2UoLi4uYXJncykge1xuICAgICAgICB2YXIgX3RyYWNlX2dldFNwYW5Db250ZXh0O1xuICAgICAgICBjb25zdCBbdHlwZSwgZm5Pck9wdGlvbnMsIGZuT3JFbXB0eV0gPSBhcmdzO1xuICAgICAgICAvLyBjb2VyY2Ugb3B0aW9ucyBmb3JtIG92ZXJsb2FkXG4gICAgICAgIGNvbnN0IHsgZm4sIG9wdGlvbnMgfSA9IHR5cGVvZiBmbk9yT3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJyA/IHtcbiAgICAgICAgICAgIGZuOiBmbk9yT3B0aW9ucyxcbiAgICAgICAgICAgIG9wdGlvbnM6IHt9XG4gICAgICAgIH0gOiB7XG4gICAgICAgICAgICBmbjogZm5PckVtcHR5LFxuICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgIC4uLmZuT3JPcHRpb25zXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHNwYW5OYW1lID0gb3B0aW9ucy5zcGFuTmFtZSA/PyB0eXBlO1xuICAgICAgICBpZiAoIU5leHRWYW5pbGxhU3BhbkFsbG93bGlzdC5pbmNsdWRlcyh0eXBlKSAmJiBwcm9jZXNzLmVudi5ORVhUX09URUxfVkVSQk9TRSAhPT0gJzEnIHx8IG9wdGlvbnMuaGlkZVNwYW4pIHtcbiAgICAgICAgICAgIHJldHVybiBmbigpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRyeWluZyB0byBnZXQgYWN0aXZlIHNjb3BlZCBzcGFuIHRvIGFzc2lnbiBwYXJlbnQuIElmIG9wdGlvbiBzcGVjaWZpZXMgcGFyZW50IHNwYW4gbWFudWFsbHksIHdpbGwgdHJ5IHRvIHVzZSBpdC5cbiAgICAgICAgbGV0IHNwYW5Db250ZXh0ID0gdGhpcy5nZXRTcGFuQ29udGV4dCgob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5wYXJlbnRTcGFuKSA/PyB0aGlzLmdldEFjdGl2ZVNjb3BlU3BhbigpKTtcbiAgICAgICAgbGV0IGlzUm9vdFNwYW4gPSBmYWxzZTtcbiAgICAgICAgaWYgKCFzcGFuQ29udGV4dCkge1xuICAgICAgICAgICAgc3BhbkNvbnRleHQgPSAoY29udGV4dCA9PSBudWxsID8gdm9pZCAwIDogY29udGV4dC5hY3RpdmUoKSkgPz8gUk9PVF9DT05URVhUO1xuICAgICAgICAgICAgaXNSb290U3BhbiA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoKF90cmFjZV9nZXRTcGFuQ29udGV4dCA9IHRyYWNlLmdldFNwYW5Db250ZXh0KHNwYW5Db250ZXh0KSkgPT0gbnVsbCA/IHZvaWQgMCA6IF90cmFjZV9nZXRTcGFuQ29udGV4dC5pc1JlbW90ZSkge1xuICAgICAgICAgICAgaXNSb290U3BhbiA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3BhbklkID0gZ2V0U3BhbklkKCk7XG4gICAgICAgIG9wdGlvbnMuYXR0cmlidXRlcyA9IHtcbiAgICAgICAgICAgICduZXh0LnNwYW5fbmFtZSc6IHNwYW5OYW1lLFxuICAgICAgICAgICAgJ25leHQuc3Bhbl90eXBlJzogdHlwZSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMuYXR0cmlidXRlc1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gY29udGV4dC53aXRoKHNwYW5Db250ZXh0LnNldFZhbHVlKHJvb3RTcGFuSWRLZXksIHNwYW5JZCksICgpPT50aGlzLmdldFRyYWNlckluc3RhbmNlKCkuc3RhcnRBY3RpdmVTcGFuKHNwYW5OYW1lLCBvcHRpb25zLCAoc3Bhbik9PntcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFydFRpbWUgPSAncGVyZm9ybWFuY2UnIGluIGdsb2JhbFRoaXMgJiYgJ21lYXN1cmUnIGluIHBlcmZvcm1hbmNlID8gZ2xvYmFsVGhpcy5wZXJmb3JtYW5jZS5ub3coKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBjb25zdCBvbkNsZWFudXAgPSAoKT0+e1xuICAgICAgICAgICAgICAgICAgICByb290U3BhbkF0dHJpYnV0ZXNTdG9yZS5kZWxldGUoc3BhbklkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0VGltZSAmJiBwcm9jZXNzLmVudi5ORVhUX09URUxfUEVSRk9STUFOQ0VfUFJFRklYICYmIExvZ1NwYW5BbGxvd0xpc3QuaW5jbHVkZXModHlwZSB8fCAnJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlcmZvcm1hbmNlLm1lYXN1cmUoYCR7cHJvY2Vzcy5lbnYuTkVYVF9PVEVMX1BFUkZPUk1BTkNFX1BSRUZJWH06bmV4dC0keyh0eXBlLnNwbGl0KCcuJykucG9wKCkgfHwgJycpLnJlcGxhY2UoL1tBLVpdL2csIChtYXRjaCk9PictJyArIG1hdGNoLnRvTG93ZXJDYXNlKCkpfWAsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydDogc3RhcnRUaW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogcGVyZm9ybWFuY2Uubm93KClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAoaXNSb290U3Bhbikge1xuICAgICAgICAgICAgICAgICAgICByb290U3BhbkF0dHJpYnV0ZXNTdG9yZS5zZXQoc3BhbklkLCBuZXcgTWFwKE9iamVjdC5lbnRyaWVzKG9wdGlvbnMuYXR0cmlidXRlcyA/PyB7fSkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZuLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmbihzcGFuLCAoZXJyKT0+Y2xvc2VTcGFuV2l0aEVycm9yKHNwYW4sIGVycikpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGZuKHNwYW4pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNUaGVuYWJsZShyZXN1bHQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSdzIGVycm9yIG1ha2Ugc3VyZSBpdCB0aHJvd3NcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQudGhlbigocmVzKT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwYW4uZW5kKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTmVlZCB0byBwYXNzIGRvd24gdGhlIHByb21pc2UgcmVzdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGl0IGNvdWxkIGJlIHJlYWN0IHN0cmVhbSByZXNwb25zZSB3aXRoIGVycm9yIHsgZXJyb3IsIHN0cmVhbSB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKChlcnIpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2VTcGFuV2l0aEVycm9yKHNwYW4sIGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkuZmluYWxseShvbkNsZWFudXApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Bhbi5lbmQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xlYW51cCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsb3NlU3BhbldpdGhFcnJvcihzcGFuLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICBvbkNsZWFudXAoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKTtcbiAgICB9XG4gICAgd3JhcCguLi5hcmdzKSB7XG4gICAgICAgIGNvbnN0IHRyYWNlciA9IHRoaXM7XG4gICAgICAgIGNvbnN0IFtuYW1lLCBvcHRpb25zLCBmbl0gPSBhcmdzLmxlbmd0aCA9PT0gMyA/IGFyZ3MgOiBbXG4gICAgICAgICAgICBhcmdzWzBdLFxuICAgICAgICAgICAge30sXG4gICAgICAgICAgICBhcmdzWzFdXG4gICAgICAgIF07XG4gICAgICAgIGlmICghTmV4dFZhbmlsbGFTcGFuQWxsb3dsaXN0LmluY2x1ZGVzKG5hbWUpICYmIHByb2Nlc3MuZW52Lk5FWFRfT1RFTF9WRVJCT1NFICE9PSAnMScpIHtcbiAgICAgICAgICAgIHJldHVybiBmbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBsZXQgb3B0aW9uc09iaiA9IG9wdGlvbnM7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnNPYmogPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9uc09iaiA9IG9wdGlvbnNPYmouYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxhc3RBcmdJZCA9IGFyZ3VtZW50cy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgY29uc3QgY2IgPSBhcmd1bWVudHNbbGFzdEFyZ0lkXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzY29wZUJvdW5kQ2IgPSB0cmFjZXIuZ2V0Q29udGV4dCgpLmJpbmQoY29udGV4dC5hY3RpdmUoKSwgY2IpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cmFjZXIudHJhY2UobmFtZSwgb3B0aW9uc09iaiwgKF9zcGFuLCBkb25lKT0+e1xuICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHNbbGFzdEFyZ0lkXSA9IGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9uZSA9PSBudWxsID8gdm9pZCAwIDogZG9uZShlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlQm91bmRDYi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRyYWNlci50cmFjZShuYW1lLCBvcHRpb25zT2JqLCAoKT0+Zm4uYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIHN0YXJ0U3BhbiguLi5hcmdzKSB7XG4gICAgICAgIGNvbnN0IFt0eXBlLCBvcHRpb25zXSA9IGFyZ3M7XG4gICAgICAgIGNvbnN0IHNwYW5Db250ZXh0ID0gdGhpcy5nZXRTcGFuQ29udGV4dCgob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5wYXJlbnRTcGFuKSA/PyB0aGlzLmdldEFjdGl2ZVNjb3BlU3BhbigpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VHJhY2VySW5zdGFuY2UoKS5zdGFydFNwYW4odHlwZSwgb3B0aW9ucywgc3BhbkNvbnRleHQpO1xuICAgIH1cbiAgICBnZXRTcGFuQ29udGV4dChwYXJlbnRTcGFuKSB7XG4gICAgICAgIGNvbnN0IHNwYW5Db250ZXh0ID0gcGFyZW50U3BhbiA/IHRyYWNlLnNldFNwYW4oY29udGV4dC5hY3RpdmUoKSwgcGFyZW50U3BhbikgOiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBzcGFuQ29udGV4dDtcbiAgICB9XG4gICAgZ2V0Um9vdFNwYW5BdHRyaWJ1dGVzKCkge1xuICAgICAgICBjb25zdCBzcGFuSWQgPSBjb250ZXh0LmFjdGl2ZSgpLmdldFZhbHVlKHJvb3RTcGFuSWRLZXkpO1xuICAgICAgICByZXR1cm4gcm9vdFNwYW5BdHRyaWJ1dGVzU3RvcmUuZ2V0KHNwYW5JZCk7XG4gICAgfVxuICAgIHNldFJvb3RTcGFuQXR0cmlidXRlKGtleSwgdmFsdWUpIHtcbiAgICAgICAgY29uc3Qgc3BhbklkID0gY29udGV4dC5hY3RpdmUoKS5nZXRWYWx1ZShyb290U3BhbklkS2V5KTtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IHJvb3RTcGFuQXR0cmlidXRlc1N0b3JlLmdldChzcGFuSWQpO1xuICAgICAgICBpZiAoYXR0cmlidXRlcykge1xuICAgICAgICAgICAgYXR0cmlidXRlcy5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5jb25zdCBnZXRUcmFjZXIgPSAoKCk9PntcbiAgICBjb25zdCB0cmFjZXIgPSBuZXcgTmV4dFRyYWNlckltcGwoKTtcbiAgICByZXR1cm4gKCk9PnRyYWNlcjtcbn0pKCk7XG5leHBvcnQgeyBnZXRUcmFjZXIsIFNwYW5TdGF0dXNDb2RlLCBTcGFuS2luZCB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmFjZXIuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/lib/trace/tracer.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/request/connection.js":
/*!*****************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/request/connection.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   connection: () => (/* binding */ connection)\n/* harmony export */ });\n/* harmony import */ var _app_render_work_async_storage_external__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../app-render/work-async-storage.external */ \"(shared)/./node_modules/next/dist/esm/server/app-render/work-async-storage.external.js\");\n/* harmony import */ var _app_render_work_unit_async_storage_external__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../app-render/work-unit-async-storage.external */ \"(shared)/./node_modules/next/dist/esm/server/app-render/work-unit-async-storage.external.js\");\n/* harmony import */ var _app_render_dynamic_rendering__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../app-render/dynamic-rendering */ \"(middleware)/./node_modules/next/dist/esm/server/app-render/dynamic-rendering.js\");\n/* harmony import */ var _client_components_static_generation_bailout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../client/components/static-generation-bailout */ \"(middleware)/./node_modules/next/dist/esm/client/components/static-generation-bailout.js\");\n/* harmony import */ var _dynamic_rendering_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../dynamic-rendering-utils */ \"(middleware)/./node_modules/next/dist/esm/server/dynamic-rendering-utils.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils */ \"(middleware)/./node_modules/next/dist/esm/server/request/utils.js\");\n\n\n\n\n\n\n/**\n * This function allows you to indicate that you require an actual user Request before continuing.\n *\n * During prerendering it will never resolve and during rendering it resolves immediately.\n */ function connection() {\n    const callingExpression = 'connection';\n    const workStore = _app_render_work_async_storage_external__WEBPACK_IMPORTED_MODULE_0__.workAsyncStorage.getStore();\n    const workUnitStore = _app_render_work_unit_async_storage_external__WEBPACK_IMPORTED_MODULE_1__.workUnitAsyncStorage.getStore();\n    if (workStore) {\n        if (workUnitStore && workUnitStore.phase === 'after' && !(0,_utils__WEBPACK_IMPORTED_MODULE_5__.isRequestAPICallableInsideAfter)()) {\n            throw Object.defineProperty(new Error(`Route ${workStore.route} used \"connection\" inside \"after(...)\". The \\`connection()\\` function is used to indicate the subsequent code must only run when there is an actual Request, but \"after(...)\" executes after the request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`), \"__NEXT_ERROR_CODE\", {\n                value: \"E186\",\n                enumerable: false,\n                configurable: true\n            });\n        }\n        if (workStore.forceStatic) {\n            // When using forceStatic, we override all other logic and always just\n            // return a resolving promise without tracking.\n            return Promise.resolve(undefined);\n        }\n        if (workStore.dynamicShouldError) {\n            throw Object.defineProperty(new _client_components_static_generation_bailout__WEBPACK_IMPORTED_MODULE_3__.StaticGenBailoutError(`Route ${workStore.route} with \\`dynamic = \"error\"\\` couldn't be rendered statically because it used \\`connection\\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`), \"__NEXT_ERROR_CODE\", {\n                value: \"E562\",\n                enumerable: false,\n                configurable: true\n            });\n        }\n        if (workUnitStore) {\n            switch(workUnitStore.type){\n                case 'cache':\n                    {\n                        const error = Object.defineProperty(new Error(`Route ${workStore.route} used \"connection\" inside \"use cache\". The \\`connection()\\` function is used to indicate the subsequent code must only run when there is an actual request, but caches must be able to be produced before a request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`), \"__NEXT_ERROR_CODE\", {\n                            value: \"E752\",\n                            enumerable: false,\n                            configurable: true\n                        });\n                        Error.captureStackTrace(error, connection);\n                        workStore.invalidDynamicUsageError ??= error;\n                        throw error;\n                    }\n                case 'private-cache':\n                    {\n                        // It might not be intuitive to throw for private caches as well, but\n                        // we don't consider runtime prefetches as \"actual requests\" (in the\n                        // navigation sense), despite allowing them to read cookies.\n                        const error = Object.defineProperty(new Error(`Route ${workStore.route} used \"connection\" inside \"use cache: private\". The \\`connection()\\` function is used to indicate the subsequent code must only run when there is an actual navigation request, but caches must be able to be produced before a navigation request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`), \"__NEXT_ERROR_CODE\", {\n                            value: \"E753\",\n                            enumerable: false,\n                            configurable: true\n                        });\n                        Error.captureStackTrace(error, connection);\n                        workStore.invalidDynamicUsageError ??= error;\n                        throw error;\n                    }\n                case 'unstable-cache':\n                    throw Object.defineProperty(new Error(`Route ${workStore.route} used \"connection\" inside a function cached with \"unstable_cache(...)\". The \\`connection()\\` function is used to indicate the subsequent code must only run when there is an actual Request, but caches must be able to be produced before a Request so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`), \"__NEXT_ERROR_CODE\", {\n                        value: \"E1\",\n                        enumerable: false,\n                        configurable: true\n                    });\n                case 'prerender':\n                case 'prerender-client':\n                case 'prerender-runtime':\n                    // We return a promise that never resolves to allow the prerender to\n                    // stall at this point.\n                    return (0,_dynamic_rendering_utils__WEBPACK_IMPORTED_MODULE_4__.makeHangingPromise)(workUnitStore.renderSignal, workStore.route, '`connection()`');\n                case 'prerender-ppr':\n                    // We use React's postpone API to interrupt rendering here to create a\n                    // dynamic hole\n                    return (0,_app_render_dynamic_rendering__WEBPACK_IMPORTED_MODULE_2__.postponeWithTracking)(workStore.route, 'connection', workUnitStore.dynamicTracking);\n                case 'prerender-legacy':\n                    // We throw an error here to interrupt prerendering to mark the route\n                    // as dynamic\n                    return (0,_app_render_dynamic_rendering__WEBPACK_IMPORTED_MODULE_2__.throwToInterruptStaticGeneration)('connection', workStore, workUnitStore);\n                case 'request':\n                    (0,_app_render_dynamic_rendering__WEBPACK_IMPORTED_MODULE_2__.trackDynamicDataInDynamicRender)(workUnitStore);\n                    if (true) {\n                        // Semantically we only need the dev tracking when running in `next dev`\n                        // but since you would never use next dev with production NODE_ENV we use this\n                        // as a proxy so we can statically exclude this code from production builds.\n                        return (0,_dynamic_rendering_utils__WEBPACK_IMPORTED_MODULE_4__.makeDevtoolsIOAwarePromise)(undefined);\n                    } else {}\n                default:\n                    workUnitStore;\n            }\n        }\n    }\n    // If we end up here, there was no work store or work unit store present.\n    (0,_app_render_work_unit_async_storage_external__WEBPACK_IMPORTED_MODULE_1__.throwForMissingRequestStore)(callingExpression);\n} //# sourceMappingURL=connection.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL3JlcXVlc3QvY29ubmVjdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQTRFO0FBSXJCO0FBS2Y7QUFDaUQ7QUFJdEQ7QUFDc0I7QUFFekQ7Ozs7Q0FJQyxHQUNNLFNBQVNVO0lBQ2QsTUFBTUMsb0JBQW9CO0lBQzFCLE1BQU1DLFlBQVlaLHFGQUFnQkEsQ0FBQ2EsUUFBUTtJQUMzQyxNQUFNQyxnQkFBZ0JaLDhGQUFvQkEsQ0FBQ1csUUFBUTtJQUVuRCxJQUFJRCxXQUFXO1FBQ2IsSUFDRUUsaUJBQ0FBLGNBQWNDLEtBQUssS0FBSyxXQUN4QixDQUFDTix1RUFBK0JBLElBQ2hDO1lBQ0EsTUFBTSxxQkFFTCxDQUZLLElBQUlPLE1BQ1IsQ0FBQyxNQUFNLEVBQUVKLFVBQVVLLEtBQUssQ0FBQyw2VUFBNlUsQ0FBQyxHQURuVzt1QkFBQTs0QkFBQTs4QkFBQTtZQUVOO1FBQ0Y7UUFFQSxJQUFJTCxVQUFVTSxXQUFXLEVBQUU7WUFDekIsc0VBQXNFO1lBQ3RFLCtDQUErQztZQUMvQyxPQUFPQyxRQUFRQyxPQUFPLENBQUNDO1FBQ3pCO1FBRUEsSUFBSVQsVUFBVVUsa0JBQWtCLEVBQUU7WUFDaEMsTUFBTSxxQkFFTCxDQUZLLElBQUloQiwrRkFBcUJBLENBQzdCLENBQUMsTUFBTSxFQUFFTSxVQUFVSyxLQUFLLENBQUMsb05BQW9OLENBQUMsR0FEMU87dUJBQUE7NEJBQUE7OEJBQUE7WUFFTjtRQUNGO1FBRUEsSUFBSUgsZUFBZTtZQUNqQixPQUFRQSxjQUFjUyxJQUFJO2dCQUN4QixLQUFLO29CQUFTO3dCQUNaLE1BQU1DLFFBQVEscUJBRWIsQ0FGYSxJQUFJUixNQUNoQixDQUFDLE1BQU0sRUFBRUosVUFBVUssS0FBSyxDQUFDLGtWQUFrVixDQUFDLEdBRGhXO21DQUFBO3dDQUFBOzBDQUFBO3dCQUVkO3dCQUNBRCxNQUFNUyxpQkFBaUIsQ0FBQ0QsT0FBT2Q7d0JBQy9CRSxVQUFVYyx3QkFBd0IsS0FBS0Y7d0JBQ3ZDLE1BQU1BO29CQUNSO2dCQUNBLEtBQUs7b0JBQWlCO3dCQUNwQixxRUFBcUU7d0JBQ3JFLG9FQUFvRTt3QkFDcEUsNERBQTREO3dCQUM1RCxNQUFNQSxRQUFRLHFCQUViLENBRmEsSUFBSVIsTUFDaEIsQ0FBQyxNQUFNLEVBQUVKLFVBQVVLLEtBQUssQ0FBQyxpWEFBaVgsQ0FBQyxHQUQvWDttQ0FBQTt3Q0FBQTswQ0FBQTt3QkFFZDt3QkFDQUQsTUFBTVMsaUJBQWlCLENBQUNELE9BQU9kO3dCQUMvQkUsVUFBVWMsd0JBQXdCLEtBQUtGO3dCQUN2QyxNQUFNQTtvQkFDUjtnQkFDQSxLQUFLO29CQUNILE1BQU0scUJBRUwsQ0FGSyxJQUFJUixNQUNSLENBQUMsTUFBTSxFQUFFSixVQUFVSyxLQUFLLENBQUMsMFhBQTBYLENBQUMsR0FEaFo7K0JBQUE7b0NBQUE7c0NBQUE7b0JBRU47Z0JBQ0YsS0FBSztnQkFDTCxLQUFLO2dCQUNMLEtBQUs7b0JBQ0gsb0VBQW9FO29CQUNwRSx1QkFBdUI7b0JBQ3ZCLE9BQU9WLDRFQUFrQkEsQ0FDdkJPLGNBQWNhLFlBQVksRUFDMUJmLFVBQVVLLEtBQUssRUFDZjtnQkFFSixLQUFLO29CQUNILHNFQUFzRTtvQkFDdEUsZUFBZTtvQkFDZixPQUFPZCxtRkFBb0JBLENBQ3pCUyxVQUFVSyxLQUFLLEVBQ2YsY0FDQUgsY0FBY2MsZUFBZTtnQkFFakMsS0FBSztvQkFDSCxxRUFBcUU7b0JBQ3JFLGFBQWE7b0JBQ2IsT0FBT3hCLCtGQUFnQ0EsQ0FDckMsY0FDQVEsV0FDQUU7Z0JBRUosS0FBSztvQkFDSFQsOEZBQStCQSxDQUFDUztvQkFDaEMsSUFBSWUsSUFBb0IsRUFBb0I7d0JBQzFDLHdFQUF3RTt3QkFDeEUsOEVBQThFO3dCQUM5RSw0RUFBNEU7d0JBQzVFLE9BQU9yQixvRkFBMEJBLENBQUNhO29CQUNwQyxPQUFPLEVBRU47Z0JBQ0g7b0JBQ0VQO1lBQ0o7UUFDRjtJQUNGO0lBRUEseUVBQXlFO0lBQ3pFYix5R0FBMkJBLENBQUNVO0FBQzlCIiwic291cmNlcyI6WyJEOlxcc3JjXFxzZXJ2ZXJcXHJlcXVlc3RcXGNvbm5lY3Rpb24udHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgd29ya0FzeW5jU3RvcmFnZSB9IGZyb20gJy4uL2FwcC1yZW5kZXIvd29yay1hc3luYy1zdG9yYWdlLmV4dGVybmFsJ1xuaW1wb3J0IHtcbiAgdGhyb3dGb3JNaXNzaW5nUmVxdWVzdFN0b3JlLFxuICB3b3JrVW5pdEFzeW5jU3RvcmFnZSxcbn0gZnJvbSAnLi4vYXBwLXJlbmRlci93b3JrLXVuaXQtYXN5bmMtc3RvcmFnZS5leHRlcm5hbCdcbmltcG9ydCB7XG4gIHBvc3Rwb25lV2l0aFRyYWNraW5nLFxuICB0aHJvd1RvSW50ZXJydXB0U3RhdGljR2VuZXJhdGlvbixcbiAgdHJhY2tEeW5hbWljRGF0YUluRHluYW1pY1JlbmRlcixcbn0gZnJvbSAnLi4vYXBwLXJlbmRlci9keW5hbWljLXJlbmRlcmluZydcbmltcG9ydCB7IFN0YXRpY0dlbkJhaWxvdXRFcnJvciB9IGZyb20gJy4uLy4uL2NsaWVudC9jb21wb25lbnRzL3N0YXRpYy1nZW5lcmF0aW9uLWJhaWxvdXQnXG5pbXBvcnQge1xuICBtYWtlSGFuZ2luZ1Byb21pc2UsXG4gIG1ha2VEZXZ0b29sc0lPQXdhcmVQcm9taXNlLFxufSBmcm9tICcuLi9keW5hbWljLXJlbmRlcmluZy11dGlscydcbmltcG9ydCB7IGlzUmVxdWVzdEFQSUNhbGxhYmxlSW5zaWRlQWZ0ZXIgfSBmcm9tICcuL3V0aWxzJ1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gYWxsb3dzIHlvdSB0byBpbmRpY2F0ZSB0aGF0IHlvdSByZXF1aXJlIGFuIGFjdHVhbCB1c2VyIFJlcXVlc3QgYmVmb3JlIGNvbnRpbnVpbmcuXG4gKlxuICogRHVyaW5nIHByZXJlbmRlcmluZyBpdCB3aWxsIG5ldmVyIHJlc29sdmUgYW5kIGR1cmluZyByZW5kZXJpbmcgaXQgcmVzb2x2ZXMgaW1tZWRpYXRlbHkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb25uZWN0aW9uKCk6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCBjYWxsaW5nRXhwcmVzc2lvbiA9ICdjb25uZWN0aW9uJ1xuICBjb25zdCB3b3JrU3RvcmUgPSB3b3JrQXN5bmNTdG9yYWdlLmdldFN0b3JlKClcbiAgY29uc3Qgd29ya1VuaXRTdG9yZSA9IHdvcmtVbml0QXN5bmNTdG9yYWdlLmdldFN0b3JlKClcblxuICBpZiAod29ya1N0b3JlKSB7XG4gICAgaWYgKFxuICAgICAgd29ya1VuaXRTdG9yZSAmJlxuICAgICAgd29ya1VuaXRTdG9yZS5waGFzZSA9PT0gJ2FmdGVyJyAmJlxuICAgICAgIWlzUmVxdWVzdEFQSUNhbGxhYmxlSW5zaWRlQWZ0ZXIoKVxuICAgICkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgUm91dGUgJHt3b3JrU3RvcmUucm91dGV9IHVzZWQgXCJjb25uZWN0aW9uXCIgaW5zaWRlIFwiYWZ0ZXIoLi4uKVwiLiBUaGUgXFxgY29ubmVjdGlvbigpXFxgIGZ1bmN0aW9uIGlzIHVzZWQgdG8gaW5kaWNhdGUgdGhlIHN1YnNlcXVlbnQgY29kZSBtdXN0IG9ubHkgcnVuIHdoZW4gdGhlcmUgaXMgYW4gYWN0dWFsIFJlcXVlc3QsIGJ1dCBcImFmdGVyKC4uLilcIiBleGVjdXRlcyBhZnRlciB0aGUgcmVxdWVzdCwgc28gdGhpcyBmdW5jdGlvbiBpcyBub3QgYWxsb3dlZCBpbiB0aGlzIHNjb3BlLiBTZWUgbW9yZSBpbmZvIGhlcmU6IGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL2NhbmFyeS9hcHAvYXBpLXJlZmVyZW5jZS9mdW5jdGlvbnMvYWZ0ZXJgXG4gICAgICApXG4gICAgfVxuXG4gICAgaWYgKHdvcmtTdG9yZS5mb3JjZVN0YXRpYykge1xuICAgICAgLy8gV2hlbiB1c2luZyBmb3JjZVN0YXRpYywgd2Ugb3ZlcnJpZGUgYWxsIG90aGVyIGxvZ2ljIGFuZCBhbHdheXMganVzdFxuICAgICAgLy8gcmV0dXJuIGEgcmVzb2x2aW5nIHByb21pc2Ugd2l0aG91dCB0cmFja2luZy5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodW5kZWZpbmVkKVxuICAgIH1cblxuICAgIGlmICh3b3JrU3RvcmUuZHluYW1pY1Nob3VsZEVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgU3RhdGljR2VuQmFpbG91dEVycm9yKFxuICAgICAgICBgUm91dGUgJHt3b3JrU3RvcmUucm91dGV9IHdpdGggXFxgZHluYW1pYyA9IFwiZXJyb3JcIlxcYCBjb3VsZG4ndCBiZSByZW5kZXJlZCBzdGF0aWNhbGx5IGJlY2F1c2UgaXQgdXNlZCBcXGBjb25uZWN0aW9uXFxgLiBTZWUgbW9yZSBpbmZvIGhlcmU6IGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL2FwcC9idWlsZGluZy15b3VyLWFwcGxpY2F0aW9uL3JlbmRlcmluZy9zdGF0aWMtYW5kLWR5bmFtaWMjZHluYW1pYy1yZW5kZXJpbmdgXG4gICAgICApXG4gICAgfVxuXG4gICAgaWYgKHdvcmtVbml0U3RvcmUpIHtcbiAgICAgIHN3aXRjaCAod29ya1VuaXRTdG9yZS50eXBlKSB7XG4gICAgICAgIGNhc2UgJ2NhY2hlJzoge1xuICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKFxuICAgICAgICAgICAgYFJvdXRlICR7d29ya1N0b3JlLnJvdXRlfSB1c2VkIFwiY29ubmVjdGlvblwiIGluc2lkZSBcInVzZSBjYWNoZVwiLiBUaGUgXFxgY29ubmVjdGlvbigpXFxgIGZ1bmN0aW9uIGlzIHVzZWQgdG8gaW5kaWNhdGUgdGhlIHN1YnNlcXVlbnQgY29kZSBtdXN0IG9ubHkgcnVuIHdoZW4gdGhlcmUgaXMgYW4gYWN0dWFsIHJlcXVlc3QsIGJ1dCBjYWNoZXMgbXVzdCBiZSBhYmxlIHRvIGJlIHByb2R1Y2VkIGJlZm9yZSBhIHJlcXVlc3QsIHNvIHRoaXMgZnVuY3Rpb24gaXMgbm90IGFsbG93ZWQgaW4gdGhpcyBzY29wZS4gU2VlIG1vcmUgaW5mbyBoZXJlOiBodHRwczovL25leHRqcy5vcmcvZG9jcy9tZXNzYWdlcy9uZXh0LXJlcXVlc3QtaW4tdXNlLWNhY2hlYFxuICAgICAgICAgIClcbiAgICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZShlcnJvciwgY29ubmVjdGlvbilcbiAgICAgICAgICB3b3JrU3RvcmUuaW52YWxpZER5bmFtaWNVc2FnZUVycm9yID8/PSBlcnJvclxuICAgICAgICAgIHRocm93IGVycm9yXG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAncHJpdmF0ZS1jYWNoZSc6IHtcbiAgICAgICAgICAvLyBJdCBtaWdodCBub3QgYmUgaW50dWl0aXZlIHRvIHRocm93IGZvciBwcml2YXRlIGNhY2hlcyBhcyB3ZWxsLCBidXRcbiAgICAgICAgICAvLyB3ZSBkb24ndCBjb25zaWRlciBydW50aW1lIHByZWZldGNoZXMgYXMgXCJhY3R1YWwgcmVxdWVzdHNcIiAoaW4gdGhlXG4gICAgICAgICAgLy8gbmF2aWdhdGlvbiBzZW5zZSksIGRlc3BpdGUgYWxsb3dpbmcgdGhlbSB0byByZWFkIGNvb2tpZXMuXG4gICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgICAgICBgUm91dGUgJHt3b3JrU3RvcmUucm91dGV9IHVzZWQgXCJjb25uZWN0aW9uXCIgaW5zaWRlIFwidXNlIGNhY2hlOiBwcml2YXRlXCIuIFRoZSBcXGBjb25uZWN0aW9uKClcXGAgZnVuY3Rpb24gaXMgdXNlZCB0byBpbmRpY2F0ZSB0aGUgc3Vic2VxdWVudCBjb2RlIG11c3Qgb25seSBydW4gd2hlbiB0aGVyZSBpcyBhbiBhY3R1YWwgbmF2aWdhdGlvbiByZXF1ZXN0LCBidXQgY2FjaGVzIG11c3QgYmUgYWJsZSB0byBiZSBwcm9kdWNlZCBiZWZvcmUgYSBuYXZpZ2F0aW9uIHJlcXVlc3QsIHNvIHRoaXMgZnVuY3Rpb24gaXMgbm90IGFsbG93ZWQgaW4gdGhpcyBzY29wZS4gU2VlIG1vcmUgaW5mbyBoZXJlOiBodHRwczovL25leHRqcy5vcmcvZG9jcy9tZXNzYWdlcy9uZXh0LXJlcXVlc3QtaW4tdXNlLWNhY2hlYFxuICAgICAgICAgIClcbiAgICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZShlcnJvciwgY29ubmVjdGlvbilcbiAgICAgICAgICB3b3JrU3RvcmUuaW52YWxpZER5bmFtaWNVc2FnZUVycm9yID8/PSBlcnJvclxuICAgICAgICAgIHRocm93IGVycm9yXG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAndW5zdGFibGUtY2FjaGUnOlxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgIGBSb3V0ZSAke3dvcmtTdG9yZS5yb3V0ZX0gdXNlZCBcImNvbm5lY3Rpb25cIiBpbnNpZGUgYSBmdW5jdGlvbiBjYWNoZWQgd2l0aCBcInVuc3RhYmxlX2NhY2hlKC4uLilcIi4gVGhlIFxcYGNvbm5lY3Rpb24oKVxcYCBmdW5jdGlvbiBpcyB1c2VkIHRvIGluZGljYXRlIHRoZSBzdWJzZXF1ZW50IGNvZGUgbXVzdCBvbmx5IHJ1biB3aGVuIHRoZXJlIGlzIGFuIGFjdHVhbCBSZXF1ZXN0LCBidXQgY2FjaGVzIG11c3QgYmUgYWJsZSB0byBiZSBwcm9kdWNlZCBiZWZvcmUgYSBSZXF1ZXN0IHNvIHRoaXMgZnVuY3Rpb24gaXMgbm90IGFsbG93ZWQgaW4gdGhpcyBzY29wZS4gU2VlIG1vcmUgaW5mbyBoZXJlOiBodHRwczovL25leHRqcy5vcmcvZG9jcy9hcHAvYXBpLXJlZmVyZW5jZS9mdW5jdGlvbnMvdW5zdGFibGVfY2FjaGVgXG4gICAgICAgICAgKVxuICAgICAgICBjYXNlICdwcmVyZW5kZXInOlxuICAgICAgICBjYXNlICdwcmVyZW5kZXItY2xpZW50JzpcbiAgICAgICAgY2FzZSAncHJlcmVuZGVyLXJ1bnRpbWUnOlxuICAgICAgICAgIC8vIFdlIHJldHVybiBhIHByb21pc2UgdGhhdCBuZXZlciByZXNvbHZlcyB0byBhbGxvdyB0aGUgcHJlcmVuZGVyIHRvXG4gICAgICAgICAgLy8gc3RhbGwgYXQgdGhpcyBwb2ludC5cbiAgICAgICAgICByZXR1cm4gbWFrZUhhbmdpbmdQcm9taXNlKFxuICAgICAgICAgICAgd29ya1VuaXRTdG9yZS5yZW5kZXJTaWduYWwsXG4gICAgICAgICAgICB3b3JrU3RvcmUucm91dGUsXG4gICAgICAgICAgICAnYGNvbm5lY3Rpb24oKWAnXG4gICAgICAgICAgKVxuICAgICAgICBjYXNlICdwcmVyZW5kZXItcHByJzpcbiAgICAgICAgICAvLyBXZSB1c2UgUmVhY3QncyBwb3N0cG9uZSBBUEkgdG8gaW50ZXJydXB0IHJlbmRlcmluZyBoZXJlIHRvIGNyZWF0ZSBhXG4gICAgICAgICAgLy8gZHluYW1pYyBob2xlXG4gICAgICAgICAgcmV0dXJuIHBvc3Rwb25lV2l0aFRyYWNraW5nKFxuICAgICAgICAgICAgd29ya1N0b3JlLnJvdXRlLFxuICAgICAgICAgICAgJ2Nvbm5lY3Rpb24nLFxuICAgICAgICAgICAgd29ya1VuaXRTdG9yZS5keW5hbWljVHJhY2tpbmdcbiAgICAgICAgICApXG4gICAgICAgIGNhc2UgJ3ByZXJlbmRlci1sZWdhY3knOlxuICAgICAgICAgIC8vIFdlIHRocm93IGFuIGVycm9yIGhlcmUgdG8gaW50ZXJydXB0IHByZXJlbmRlcmluZyB0byBtYXJrIHRoZSByb3V0ZVxuICAgICAgICAgIC8vIGFzIGR5bmFtaWNcbiAgICAgICAgICByZXR1cm4gdGhyb3dUb0ludGVycnVwdFN0YXRpY0dlbmVyYXRpb24oXG4gICAgICAgICAgICAnY29ubmVjdGlvbicsXG4gICAgICAgICAgICB3b3JrU3RvcmUsXG4gICAgICAgICAgICB3b3JrVW5pdFN0b3JlXG4gICAgICAgICAgKVxuICAgICAgICBjYXNlICdyZXF1ZXN0JzpcbiAgICAgICAgICB0cmFja0R5bmFtaWNEYXRhSW5EeW5hbWljUmVuZGVyKHdvcmtVbml0U3RvcmUpXG4gICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgICAgICAgICAvLyBTZW1hbnRpY2FsbHkgd2Ugb25seSBuZWVkIHRoZSBkZXYgdHJhY2tpbmcgd2hlbiBydW5uaW5nIGluIGBuZXh0IGRldmBcbiAgICAgICAgICAgIC8vIGJ1dCBzaW5jZSB5b3Ugd291bGQgbmV2ZXIgdXNlIG5leHQgZGV2IHdpdGggcHJvZHVjdGlvbiBOT0RFX0VOViB3ZSB1c2UgdGhpc1xuICAgICAgICAgICAgLy8gYXMgYSBwcm94eSBzbyB3ZSBjYW4gc3RhdGljYWxseSBleGNsdWRlIHRoaXMgY29kZSBmcm9tIHByb2R1Y3Rpb24gYnVpbGRzLlxuICAgICAgICAgICAgcmV0dXJuIG1ha2VEZXZ0b29sc0lPQXdhcmVQcm9taXNlKHVuZGVmaW5lZClcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh1bmRlZmluZWQpXG4gICAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHdvcmtVbml0U3RvcmUgc2F0aXNmaWVzIG5ldmVyXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gSWYgd2UgZW5kIHVwIGhlcmUsIHRoZXJlIHdhcyBubyB3b3JrIHN0b3JlIG9yIHdvcmsgdW5pdCBzdG9yZSBwcmVzZW50LlxuICB0aHJvd0Zvck1pc3NpbmdSZXF1ZXN0U3RvcmUoY2FsbGluZ0V4cHJlc3Npb24pXG59XG4iXSwibmFtZXMiOlsid29ya0FzeW5jU3RvcmFnZSIsInRocm93Rm9yTWlzc2luZ1JlcXVlc3RTdG9yZSIsIndvcmtVbml0QXN5bmNTdG9yYWdlIiwicG9zdHBvbmVXaXRoVHJhY2tpbmciLCJ0aHJvd1RvSW50ZXJydXB0U3RhdGljR2VuZXJhdGlvbiIsInRyYWNrRHluYW1pY0RhdGFJbkR5bmFtaWNSZW5kZXIiLCJTdGF0aWNHZW5CYWlsb3V0RXJyb3IiLCJtYWtlSGFuZ2luZ1Byb21pc2UiLCJtYWtlRGV2dG9vbHNJT0F3YXJlUHJvbWlzZSIsImlzUmVxdWVzdEFQSUNhbGxhYmxlSW5zaWRlQWZ0ZXIiLCJjb25uZWN0aW9uIiwiY2FsbGluZ0V4cHJlc3Npb24iLCJ3b3JrU3RvcmUiLCJnZXRTdG9yZSIsIndvcmtVbml0U3RvcmUiLCJwaGFzZSIsIkVycm9yIiwicm91dGUiLCJmb3JjZVN0YXRpYyIsIlByb21pc2UiLCJyZXNvbHZlIiwidW5kZWZpbmVkIiwiZHluYW1pY1Nob3VsZEVycm9yIiwidHlwZSIsImVycm9yIiwiY2FwdHVyZVN0YWNrVHJhY2UiLCJpbnZhbGlkRHluYW1pY1VzYWdlRXJyb3IiLCJyZW5kZXJTaWduYWwiLCJkeW5hbWljVHJhY2tpbmciLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/request/connection.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/request/cookies.js":
/*!**************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/request/cookies.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cookies: () => (/* binding */ cookies)\n/* harmony export */ });\n/* harmony import */ var _web_spec_extension_adapters_request_cookies__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../web/spec-extension/adapters/request-cookies */ \"(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/adapters/request-cookies.js\");\n/* harmony import */ var _web_spec_extension_cookies__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../web/spec-extension/cookies */ \"(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/cookies.js\");\n/* harmony import */ var _app_render_work_async_storage_external__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../app-render/work-async-storage.external */ \"(shared)/./node_modules/next/dist/esm/server/app-render/work-async-storage.external.js\");\n/* harmony import */ var _app_render_work_unit_async_storage_external__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../app-render/work-unit-async-storage.external */ \"(shared)/./node_modules/next/dist/esm/server/app-render/work-unit-async-storage.external.js\");\n/* harmony import */ var _app_render_dynamic_rendering__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../app-render/dynamic-rendering */ \"(middleware)/./node_modules/next/dist/esm/server/app-render/dynamic-rendering.js\");\n/* harmony import */ var _client_components_static_generation_bailout__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../client/components/static-generation-bailout */ \"(middleware)/./node_modules/next/dist/esm/client/components/static-generation-bailout.js\");\n/* harmony import */ var _dynamic_rendering_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../dynamic-rendering-utils */ \"(middleware)/./node_modules/next/dist/esm/server/dynamic-rendering-utils.js\");\n/* harmony import */ var _create_deduped_by_callsite_server_error_logger__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../create-deduped-by-callsite-server-error-logger */ \"(middleware)/./node_modules/next/dist/esm/server/create-deduped-by-callsite-server-error-logger.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./utils */ \"(middleware)/./node_modules/next/dist/esm/server/request/utils.js\");\n/* harmony import */ var _shared_lib_invariant_error__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../shared/lib/invariant-error */ \"(middleware)/./node_modules/next/dist/esm/shared/lib/invariant-error.js\");\n/* harmony import */ var _web_spec_extension_adapters_reflect__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../web/spec-extension/adapters/reflect */ \"(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/adapters/reflect.js\");\n\n\n\n\n\n\n\n\n\n\n\nfunction cookies() {\n    const callingExpression = 'cookies';\n    const workStore = _app_render_work_async_storage_external__WEBPACK_IMPORTED_MODULE_2__.workAsyncStorage.getStore();\n    const workUnitStore = _app_render_work_unit_async_storage_external__WEBPACK_IMPORTED_MODULE_3__.workUnitAsyncStorage.getStore();\n    if (workStore) {\n        if (workUnitStore && workUnitStore.phase === 'after' && !(0,_utils__WEBPACK_IMPORTED_MODULE_8__.isRequestAPICallableInsideAfter)()) {\n            throw Object.defineProperty(new Error(`Route ${workStore.route} used \"cookies\" inside \"after(...)\". This is not supported. If you need this data inside an \"after\" callback, use \"cookies\" outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`), \"__NEXT_ERROR_CODE\", {\n                value: \"E88\",\n                enumerable: false,\n                configurable: true\n            });\n        }\n        if (workStore.forceStatic) {\n            // When using forceStatic we override all other logic and always just return an empty\n            // cookies object without tracking\n            const underlyingCookies = createEmptyCookies();\n            return makeUntrackedExoticCookies(underlyingCookies);\n        }\n        if (workStore.dynamicShouldError) {\n            throw Object.defineProperty(new _client_components_static_generation_bailout__WEBPACK_IMPORTED_MODULE_5__.StaticGenBailoutError(`Route ${workStore.route} with \\`dynamic = \"error\"\\` couldn't be rendered statically because it used \\`cookies\\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`), \"__NEXT_ERROR_CODE\", {\n                value: \"E549\",\n                enumerable: false,\n                configurable: true\n            });\n        }\n        if (workUnitStore) {\n            switch(workUnitStore.type){\n                case 'cache':\n                    const error = Object.defineProperty(new Error(`Route ${workStore.route} used \"cookies\" inside \"use cache\". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \"cookies\" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`), \"__NEXT_ERROR_CODE\", {\n                        value: \"E398\",\n                        enumerable: false,\n                        configurable: true\n                    });\n                    Error.captureStackTrace(error, cookies);\n                    workStore.invalidDynamicUsageError ??= error;\n                    throw error;\n                case 'unstable-cache':\n                    throw Object.defineProperty(new Error(`Route ${workStore.route} used \"cookies\" inside a function cached with \"unstable_cache(...)\". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \"cookies\" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`), \"__NEXT_ERROR_CODE\", {\n                        value: \"E157\",\n                        enumerable: false,\n                        configurable: true\n                    });\n                case 'prerender':\n                    return makeHangingCookies(workStore, workUnitStore);\n                case 'prerender-client':\n                    const exportName = '`cookies`';\n                    throw Object.defineProperty(new _shared_lib_invariant_error__WEBPACK_IMPORTED_MODULE_9__.InvariantError(`${exportName} must not be used within a client component. Next.js should be preventing ${exportName} from being included in client components statically, but did not in this case.`), \"__NEXT_ERROR_CODE\", {\n                        value: \"E693\",\n                        enumerable: false,\n                        configurable: true\n                    });\n                case 'prerender-ppr':\n                    // We need track dynamic access here eagerly to keep continuity with\n                    // how cookies has worked in PPR without cacheComponents.\n                    return (0,_app_render_dynamic_rendering__WEBPACK_IMPORTED_MODULE_4__.postponeWithTracking)(workStore.route, callingExpression, workUnitStore.dynamicTracking);\n                case 'prerender-legacy':\n                    // We track dynamic access here so we don't need to wrap the cookies\n                    // in individual property access tracking.\n                    return (0,_app_render_dynamic_rendering__WEBPACK_IMPORTED_MODULE_4__.throwToInterruptStaticGeneration)(callingExpression, workStore, workUnitStore);\n                case 'prerender-runtime':\n                    return (0,_app_render_dynamic_rendering__WEBPACK_IMPORTED_MODULE_4__.delayUntilRuntimeStage)(workUnitStore, makeUntrackedCookies(workUnitStore.cookies));\n                case 'private-cache':\n                    if (false) {}\n                    return makeUntrackedExoticCookies(workUnitStore.cookies);\n                case 'request':\n                    (0,_app_render_dynamic_rendering__WEBPACK_IMPORTED_MODULE_4__.trackDynamicDataInDynamicRender)(workUnitStore);\n                    let underlyingCookies;\n                    if ((0,_web_spec_extension_adapters_request_cookies__WEBPACK_IMPORTED_MODULE_0__.areCookiesMutableInCurrentPhase)(workUnitStore)) {\n                        // We can't conditionally return different types here based on the context.\n                        // To avoid confusion, we always return the readonly type here.\n                        underlyingCookies = workUnitStore.userspaceMutableCookies;\n                    } else {\n                        underlyingCookies = workUnitStore.cookies;\n                    }\n                    if (true) {\n                        // Semantically we only need the dev tracking when running in `next dev`\n                        // but since you would never use next dev with production NODE_ENV we use this\n                        // as a proxy so we can statically exclude this code from production builds.\n                        if (false) {}\n                        return makeUntrackedExoticCookiesWithDevWarnings(underlyingCookies, workStore == null ? void 0 : workStore.route);\n                    } else {}\n                default:\n                    workUnitStore;\n            }\n        }\n    }\n    // If we end up here, there was no work store or work unit store present.\n    (0,_app_render_work_unit_async_storage_external__WEBPACK_IMPORTED_MODULE_3__.throwForMissingRequestStore)(callingExpression);\n}\nfunction createEmptyCookies() {\n    return _web_spec_extension_adapters_request_cookies__WEBPACK_IMPORTED_MODULE_0__.RequestCookiesAdapter.seal(new _web_spec_extension_cookies__WEBPACK_IMPORTED_MODULE_1__.RequestCookies(new Headers({})));\n}\nconst CachedCookies = new WeakMap();\nfunction makeHangingCookies(workStore, prerenderStore) {\n    const cachedPromise = CachedCookies.get(prerenderStore);\n    if (cachedPromise) {\n        return cachedPromise;\n    }\n    const promise = (0,_dynamic_rendering_utils__WEBPACK_IMPORTED_MODULE_6__.makeHangingPromise)(prerenderStore.renderSignal, workStore.route, '`cookies()`');\n    CachedCookies.set(prerenderStore, promise);\n    return promise;\n}\nfunction makeUntrackedCookies(underlyingCookies) {\n    const cachedCookies = CachedCookies.get(underlyingCookies);\n    if (cachedCookies) {\n        return cachedCookies;\n    }\n    const promise = Promise.resolve(underlyingCookies);\n    CachedCookies.set(underlyingCookies, promise);\n    return promise;\n}\nfunction makeUntrackedExoticCookies(underlyingCookies) {\n    const cachedCookies = CachedCookies.get(underlyingCookies);\n    if (cachedCookies) {\n        return cachedCookies;\n    }\n    const promise = Promise.resolve(underlyingCookies);\n    CachedCookies.set(underlyingCookies, promise);\n    Object.defineProperties(promise, {\n        [Symbol.iterator]: {\n            value: underlyingCookies[Symbol.iterator] ? underlyingCookies[Symbol.iterator].bind(underlyingCookies) : // but that's already a hard thing to debug so we may as well implement it consistently. The biggest problem with\n            // implementing this in this way is the underlying cookie type is a ResponseCookie and not a RequestCookie and so it\n            // has extra properties not available on RequestCookie instances.\n            polyfilledResponseCookiesIterator.bind(underlyingCookies)\n        },\n        size: {\n            get () {\n                return underlyingCookies.size;\n            }\n        },\n        get: {\n            value: underlyingCookies.get.bind(underlyingCookies)\n        },\n        getAll: {\n            value: underlyingCookies.getAll.bind(underlyingCookies)\n        },\n        has: {\n            value: underlyingCookies.has.bind(underlyingCookies)\n        },\n        set: {\n            value: underlyingCookies.set.bind(underlyingCookies)\n        },\n        delete: {\n            value: underlyingCookies.delete.bind(underlyingCookies)\n        },\n        clear: {\n            value: typeof underlyingCookies.clear === 'function' ? underlyingCookies.clear.bind(underlyingCookies) : // but that's already a hard thing to debug so we may as well implement it consistently. The biggest problem with\n            // implementing this in this way is the underlying cookie type is a ResponseCookie and not a RequestCookie and so it\n            // has extra properties not available on RequestCookie instances.\n            polyfilledResponseCookiesClear.bind(underlyingCookies, promise)\n        },\n        toString: {\n            value: underlyingCookies.toString.bind(underlyingCookies)\n        }\n    });\n    return promise;\n}\nfunction makeUntrackedExoticCookiesWithDevWarnings(underlyingCookies, route) {\n    const cachedCookies = CachedCookies.get(underlyingCookies);\n    if (cachedCookies) {\n        return cachedCookies;\n    }\n    const promise = (0,_dynamic_rendering_utils__WEBPACK_IMPORTED_MODULE_6__.makeDevtoolsIOAwarePromise)(underlyingCookies);\n    CachedCookies.set(underlyingCookies, promise);\n    Object.defineProperties(promise, {\n        [Symbol.iterator]: {\n            value: function() {\n                const expression = '`...cookies()` or similar iteration';\n                syncIODev(route, expression);\n                return underlyingCookies[Symbol.iterator] ? underlyingCookies[Symbol.iterator].apply(underlyingCookies, arguments) : // but that's already a hard thing to debug so we may as well implement it consistently. The biggest problem with\n                // implementing this in this way is the underlying cookie type is a ResponseCookie and not a RequestCookie and so it\n                // has extra properties not available on RequestCookie instances.\n                polyfilledResponseCookiesIterator.call(underlyingCookies);\n            },\n            writable: false\n        },\n        size: {\n            get () {\n                const expression = '`cookies().size`';\n                syncIODev(route, expression);\n                return underlyingCookies.size;\n            }\n        },\n        get: {\n            value: function get() {\n                let expression;\n                if (arguments.length === 0) {\n                    expression = '`cookies().get()`';\n                } else {\n                    expression = `\\`cookies().get(${describeNameArg(arguments[0])})\\``;\n                }\n                syncIODev(route, expression);\n                return underlyingCookies.get.apply(underlyingCookies, arguments);\n            },\n            writable: false\n        },\n        getAll: {\n            value: function getAll() {\n                let expression;\n                if (arguments.length === 0) {\n                    expression = '`cookies().getAll()`';\n                } else {\n                    expression = `\\`cookies().getAll(${describeNameArg(arguments[0])})\\``;\n                }\n                syncIODev(route, expression);\n                return underlyingCookies.getAll.apply(underlyingCookies, arguments);\n            },\n            writable: false\n        },\n        has: {\n            value: function get() {\n                let expression;\n                if (arguments.length === 0) {\n                    expression = '`cookies().has()`';\n                } else {\n                    expression = `\\`cookies().has(${describeNameArg(arguments[0])})\\``;\n                }\n                syncIODev(route, expression);\n                return underlyingCookies.has.apply(underlyingCookies, arguments);\n            },\n            writable: false\n        },\n        set: {\n            value: function set() {\n                let expression;\n                if (arguments.length === 0) {\n                    expression = '`cookies().set()`';\n                } else {\n                    const arg = arguments[0];\n                    if (arg) {\n                        expression = `\\`cookies().set(${describeNameArg(arg)}, ...)\\``;\n                    } else {\n                        expression = '`cookies().set(...)`';\n                    }\n                }\n                syncIODev(route, expression);\n                return underlyingCookies.set.apply(underlyingCookies, arguments);\n            },\n            writable: false\n        },\n        delete: {\n            value: function() {\n                let expression;\n                if (arguments.length === 0) {\n                    expression = '`cookies().delete()`';\n                } else if (arguments.length === 1) {\n                    expression = `\\`cookies().delete(${describeNameArg(arguments[0])})\\``;\n                } else {\n                    expression = `\\`cookies().delete(${describeNameArg(arguments[0])}, ...)\\``;\n                }\n                syncIODev(route, expression);\n                return underlyingCookies.delete.apply(underlyingCookies, arguments);\n            },\n            writable: false\n        },\n        clear: {\n            value: function clear() {\n                const expression = '`cookies().clear()`';\n                syncIODev(route, expression);\n                // @ts-ignore clear is defined in RequestCookies implementation but not in the type\n                return typeof underlyingCookies.clear === 'function' ? underlyingCookies.clear.apply(underlyingCookies, arguments) : // but that's already a hard thing to debug so we may as well implement it consistently. The biggest problem with\n                // implementing this in this way is the underlying cookie type is a ResponseCookie and not a RequestCookie and so it\n                // has extra properties not available on RequestCookie instances.\n                polyfilledResponseCookiesClear.call(underlyingCookies, promise);\n            },\n            writable: false\n        },\n        toString: {\n            value: function toString() {\n                const expression = '`cookies().toString()` or implicit casting';\n                syncIODev(route, expression);\n                return underlyingCookies.toString.apply(underlyingCookies, arguments);\n            },\n            writable: false\n        }\n    });\n    return promise;\n}\n// Similar to `makeUntrackedExoticCookiesWithDevWarnings`, but just logging the\n// sync access without actually defining the cookies properties on the promise.\nfunction makeUntrackedCookiesWithDevWarnings(underlyingCookies, route) {\n    const cachedCookies = CachedCookies.get(underlyingCookies);\n    if (cachedCookies) {\n        return cachedCookies;\n    }\n    const promise = (0,_dynamic_rendering_utils__WEBPACK_IMPORTED_MODULE_6__.makeDevtoolsIOAwarePromise)(underlyingCookies);\n    const proxiedPromise = new Proxy(promise, {\n        get (target, prop, receiver) {\n            switch(prop){\n                case Symbol.iterator:\n                    {\n                        warnForSyncAccess(route, '`...cookies()` or similar iteration');\n                        break;\n                    }\n                case 'size':\n                case 'get':\n                case 'getAll':\n                case 'has':\n                case 'set':\n                case 'delete':\n                case 'clear':\n                case 'toString':\n                    {\n                        warnForSyncAccess(route, `\\`cookies().${prop}\\``);\n                        break;\n                    }\n                default:\n                    {\n                    // We only warn for well-defined properties of the cookies object.\n                    }\n            }\n            return _web_spec_extension_adapters_reflect__WEBPACK_IMPORTED_MODULE_10__.ReflectAdapter.get(target, prop, receiver);\n        }\n    });\n    CachedCookies.set(underlyingCookies, proxiedPromise);\n    return proxiedPromise;\n}\nfunction describeNameArg(arg) {\n    return typeof arg === 'object' && arg !== null && typeof arg.name === 'string' ? `'${arg.name}'` : typeof arg === 'string' ? `'${arg}'` : '...';\n}\nfunction syncIODev(route, expression) {\n    const workUnitStore = _app_render_work_unit_async_storage_external__WEBPACK_IMPORTED_MODULE_3__.workUnitAsyncStorage.getStore();\n    if (workUnitStore) {\n        switch(workUnitStore.type){\n            case 'request':\n                if (workUnitStore.prerenderPhase === true) {\n                    // When we're rendering dynamically in dev, we need to advance out of\n                    // the Prerender environment when we read Request data synchronously.\n                    (0,_app_render_dynamic_rendering__WEBPACK_IMPORTED_MODULE_4__.trackSynchronousRequestDataAccessInDev)(workUnitStore);\n                }\n                break;\n            case 'prerender':\n            case 'prerender-client':\n            case 'prerender-runtime':\n            case 'prerender-ppr':\n            case 'prerender-legacy':\n            case 'cache':\n            case 'private-cache':\n            case 'unstable-cache':\n                break;\n            default:\n                workUnitStore;\n        }\n    }\n    // In all cases we warn normally\n    warnForSyncAccess(route, expression);\n}\nconst warnForSyncAccess = (0,_create_deduped_by_callsite_server_error_logger__WEBPACK_IMPORTED_MODULE_7__.createDedupedByCallsiteServerErrorLoggerDev)(createCookiesAccessError);\nfunction createCookiesAccessError(route, expression) {\n    const prefix = route ? `Route \"${route}\" ` : 'This route ';\n    return Object.defineProperty(new Error(`${prefix}used ${expression}. ` + `\\`cookies()\\` should be awaited before using its value. ` + `Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`), \"__NEXT_ERROR_CODE\", {\n        value: \"E223\",\n        enumerable: false,\n        configurable: true\n    });\n}\nfunction polyfilledResponseCookiesIterator() {\n    return this.getAll().map((c)=>[\n            c.name,\n            c\n        ]).values();\n}\nfunction polyfilledResponseCookiesClear(returnable) {\n    for (const cookie of this.getAll()){\n        this.delete(cookie.name);\n    }\n    return returnable;\n} //# sourceMappingURL=cookies.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL3JlcXVlc3QvY29va2llcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFLdUQ7QUFDTztBQUlaO0FBS0s7QUFPZjtBQUNpRDtBQUl0RDtBQUM0RTtBQUN0RDtBQUNRO0FBQ007QUF5QmhFLFNBQVNrQjtJQUNkLE1BQU1DLG9CQUFvQjtJQUMxQixNQUFNQyxZQUFZakIscUZBQWdCQSxDQUFDa0IsUUFBUTtJQUMzQyxNQUFNQyxnQkFBZ0JqQiw4RkFBb0JBLENBQUNnQixRQUFRO0lBRW5ELElBQUlELFdBQVc7UUFDYixJQUNFRSxpQkFDQUEsY0FBY0MsS0FBSyxLQUFLLFdBQ3hCLENBQUNSLHVFQUErQkEsSUFDaEM7WUFDQSxNQUFNLHFCQUdMLENBSEssSUFBSVMsTUFDUixDQUNDLE1BQU0sRUFBRUosVUFBVUssS0FBSyxDQUFDLCtCQUQrQiwwTUFDME0sQ0FBQyxHQUYvUDt1QkFBQTs0QkFBQTs4QkFBQTtZQUdOO1FBQ0Y7UUFFQSxJQUFJTCxVQUFVTSxXQUFXLEVBQUU7WUFDekIscUZBQXFGO1lBQ3JGLGtDQUFrQztZQUNsQyxNQUFNQyxvQkFBb0JDO1lBQzFCLE9BQU9DLDJCQUEyQkY7UUFDcEM7UUFFQSxJQUFJUCxVQUFVVSxrQkFBa0IsRUFBRTtZQUNoQyxNQUFNLHFCQUVMLENBRkssSUFBSW5CLCtGQUFxQkEsQ0FDN0IsQ0FBQyxNQUFNLEVBQUVTLFVBQVVLLEtBQUssQ0FBQyxpTkFBaU4sQ0FBQyxHQUR2Tzt1QkFBQTs0QkFBQTs4QkFBQTtZQUVOO1FBQ0Y7UUFFQSxJQUFJSCxlQUFlO1lBQ2pCLE9BQVFBLGNBQWNTLElBQUk7Z0JBQ3hCLEtBQUs7b0JBQ0gsTUFBTUMsUUFBUSxxQkFFYixDQUZhLElBQUlSLE1BQ2hCLENBQUMsTUFBTSxFQUFFSixVQUFVSyxLQUFLLENBQUMsMFVBQTBVLENBQUMsR0FEeFY7K0JBQUE7b0NBQUE7c0NBQUE7b0JBRWQ7b0JBQ0FELE1BQU1TLGlCQUFpQixDQUFDRCxPQUFPZDtvQkFDL0JFLFVBQVVjLHdCQUF3QixLQUFLRjtvQkFDdkMsTUFBTUE7Z0JBQ1IsS0FBSztvQkFDSCxNQUFNLHFCQUVMLENBRkssSUFBSVIsTUFDUixDQUFDLE1BQU0sRUFBRUosVUFBVUssS0FBSyxDQUFDLG1YQUFtWCxDQUFDLEdBRHpZOytCQUFBO29DQUFBO3NDQUFBO29CQUVOO2dCQUNGLEtBQUs7b0JBQ0gsT0FBT1UsbUJBQW1CZixXQUFXRTtnQkFDdkMsS0FBSztvQkFDSCxNQUFNYyxhQUFhO29CQUNuQixNQUFNLHFCQUVMLENBRkssSUFBSXBCLHVFQUFjQSxDQUN0QixHQUFHb0IsV0FBVywwRUFBMEUsRUFBRUEsV0FBVywrRUFBK0UsQ0FBQyxHQURqTDsrQkFBQTtvQ0FBQTtzQ0FBQTtvQkFFTjtnQkFDRixLQUFLO29CQUNILG9FQUFvRTtvQkFDcEUseURBQXlEO29CQUN6RCxPQUFPN0IsbUZBQW9CQSxDQUN6QmEsVUFBVUssS0FBSyxFQUNmTixtQkFDQUcsY0FBY2UsZUFBZTtnQkFFakMsS0FBSztvQkFDSCxvRUFBb0U7b0JBQ3BFLDBDQUEwQztvQkFDMUMsT0FBTzdCLCtGQUFnQ0EsQ0FDckNXLG1CQUNBQyxXQUNBRTtnQkFFSixLQUFLO29CQUNILE9BQU9oQixxRkFBc0JBLENBQzNCZ0IsZUFDQWdCLHFCQUFxQmhCLGNBQWNKLE9BQU87Z0JBRTlDLEtBQUs7b0JBQ0gsSUFBSXFCLEtBQW1DLEVBQUUsRUFFeEM7b0JBRUQsT0FBT1YsMkJBQTJCUCxjQUFjSixPQUFPO2dCQUN6RCxLQUFLO29CQUNIVCw4RkFBK0JBLENBQUNhO29CQUVoQyxJQUFJSztvQkFFSixJQUFJM0IsNkdBQStCQSxDQUFDc0IsZ0JBQWdCO3dCQUNsRCwyRUFBMkU7d0JBQzNFLCtEQUErRDt3QkFDL0RLLG9CQUNFTCxjQUFjb0IsdUJBQXVCO29CQUN6QyxPQUFPO3dCQUNMZixvQkFBb0JMLGNBQWNKLE9BQU87b0JBQzNDO29CQUVBLElBQUlxQixJQUFvQixFQUFvQjt3QkFDMUMsd0VBQXdFO3dCQUN4RSw4RUFBOEU7d0JBQzlFLDRFQUE0RTt3QkFDNUUsSUFBSUEsS0FBbUMsRUFBRSxFQUt4Qzt3QkFFRCxPQUFPTSwwQ0FDTGxCLG1CQUNBUCxhQUFBQSxPQUFBQSxLQUFBQSxJQUFBQSxVQUFXSyxLQUFLO29CQUVwQixPQUFPLEVBTU47Z0JBQ0g7b0JBQ0VIO1lBQ0o7UUFDRjtJQUNGO0lBRUEseUVBQXlFO0lBQ3pFbEIseUdBQTJCQSxDQUFDZTtBQUM5QjtBQUVBLFNBQVNTO0lBQ1AsT0FBTzNCLCtGQUFxQkEsQ0FBQzZDLElBQUksQ0FBQyxJQUFJNUMsdUVBQWNBLENBQUMsSUFBSTZDLFFBQVEsQ0FBQztBQUNwRTtBQUdBLE1BQU1DLGdCQUFnQixJQUFJQztBQUsxQixTQUFTZCxtQkFDUGYsU0FBb0IsRUFDcEI4QixjQUFvQztJQUVwQyxNQUFNQyxnQkFBZ0JILGNBQWNJLEdBQUcsQ0FBQ0Y7SUFDeEMsSUFBSUMsZUFBZTtRQUNqQixPQUFPQTtJQUNUO0lBRUEsTUFBTUUsVUFBVXhDLDRFQUFrQkEsQ0FDaENxQyxlQUFlSSxZQUFZLEVBQzNCbEMsVUFBVUssS0FBSyxFQUNmO0lBRUZ1QixjQUFjTyxHQUFHLENBQUNMLGdCQUFnQkc7SUFFbEMsT0FBT0E7QUFDVDtBQUVBLFNBQVNmLHFCQUNQWCxpQkFBeUM7SUFFekMsTUFBTTZCLGdCQUFnQlIsY0FBY0ksR0FBRyxDQUFDekI7SUFDeEMsSUFBSTZCLGVBQWU7UUFDakIsT0FBT0E7SUFDVDtJQUVBLE1BQU1ILFVBQVVJLFFBQVFDLE9BQU8sQ0FBQy9CO0lBQ2hDcUIsY0FBY08sR0FBRyxDQUFDNUIsbUJBQW1CMEI7SUFFckMsT0FBT0E7QUFDVDtBQUVBLFNBQVN4QiwyQkFDUEYsaUJBQXlDO0lBRXpDLE1BQU02QixnQkFBZ0JSLGNBQWNJLEdBQUcsQ0FBQ3pCO0lBQ3hDLElBQUk2QixlQUFlO1FBQ2pCLE9BQU9BO0lBQ1Q7SUFFQSxNQUFNSCxVQUFVSSxRQUFRQyxPQUFPLENBQUMvQjtJQUNoQ3FCLGNBQWNPLEdBQUcsQ0FBQzVCLG1CQUFtQjBCO0lBRXJDTSxPQUFPQyxnQkFBZ0IsQ0FBQ1AsU0FBUztRQUMvQixDQUFDUSxPQUFPQyxRQUFRLENBQUMsRUFBRTtZQUNqQkMsT0FBT3BDLGlCQUFpQixDQUFDa0MsT0FBT0MsUUFBUSxDQUFDLEdBQ3JDbkMsaUJBQWlCLENBQUNrQyxPQUFPQyxRQUFRLENBQUMsQ0FBQ0UsSUFBSSxDQUFDckMscUJBR3hDLHFHQURxRyxZQUNZO1lBQ2pILG9IQUFvSDtZQUNwSCxpRUFBaUU7WUFDakVzQyxrQ0FBa0NELElBQUksQ0FBQ3JDO1FBQzdDO1FBQ0F1QyxNQUFNO1lBQ0pkO2dCQUNFLE9BQU96QixrQkFBa0J1QyxJQUFJO1lBQy9CO1FBQ0Y7UUFDQWQsS0FBSztZQUNIVyxPQUFPcEMsa0JBQWtCeUIsR0FBRyxDQUFDWSxJQUFJLENBQUNyQztRQUNwQztRQUNBd0MsUUFBUTtZQUNOSixPQUFPcEMsa0JBQWtCd0MsTUFBTSxDQUFDSCxJQUFJLENBQUNyQztRQUN2QztRQUNBeUMsS0FBSztZQUNITCxPQUFPcEMsa0JBQWtCeUMsR0FBRyxDQUFDSixJQUFJLENBQUNyQztRQUNwQztRQUNBNEIsS0FBSztZQUNIUSxPQUFPcEMsa0JBQWtCNEIsR0FBRyxDQUFDUyxJQUFJLENBQUNyQztRQUNwQztRQUNBMEMsUUFBUTtZQUNOTixPQUFPcEMsa0JBQWtCMEMsTUFBTSxDQUFDTCxJQUFJLENBQUNyQztRQUN2QztRQUNBMkMsT0FBTztZQUNMUCxPQUNFLE9BQ09wQyxrQkFBa0IyQyxLQUFLLEtBQUssYUFFL0IzQyxrQkFBa0IyQyxLQUFLLENBQUNOLElBQUksQ0FBQ3JDLFlBSHdELFNBS3JGLHFHQUFxRyxZQUNZO1lBQ2pILG9IQUFvSDtZQUNwSCxpRUFBaUU7WUFDakU0QywrQkFBK0JQLElBQUksQ0FBQ3JDLG1CQUFtQjBCO1FBQy9EO1FBQ0FtQixVQUFVO1lBQ1JULE9BQU9wQyxrQkFBa0I2QyxRQUFRLENBQUNSLElBQUksQ0FBQ3JDO1FBQ3pDO0lBQ0Y7SUFFQSxPQUFPMEI7QUFDVDtBQUVBLFNBQVNSLDBDQUNQbEIsaUJBQXlDLEVBQ3pDRixLQUFjO0lBRWQsTUFBTStCLGdCQUFnQlIsY0FBY0ksR0FBRyxDQUFDekI7SUFDeEMsSUFBSTZCLGVBQWU7UUFDakIsT0FBT0E7SUFDVDtJQUVBLE1BQU1ILFVBQVV6QyxvRkFBMEJBLENBQUNlO0lBQzNDcUIsY0FBY08sR0FBRyxDQUFDNUIsbUJBQW1CMEI7SUFFckNNLE9BQU9DLGdCQUFnQixDQUFDUCxTQUFTO1FBQy9CLENBQUNRLE9BQU9DLFFBQVEsQ0FBQyxFQUFFO1lBQ2pCQyxPQUFPO2dCQUNMLE1BQU1VLGFBQWE7Z0JBQ25CQyxVQUFVakQsT0FBT2dEO2dCQUNqQixPQUFPOUMsaUJBQWlCLENBQUNrQyxPQUFPQyxRQUFRLENBQUMsR0FDckNuQyxpQkFBaUIsQ0FBQ2tDLE9BQU9DLFFBQVEsQ0FBQyxDQUFDYSxLQUFLLENBQ3RDaEQsbUJBQ0FpRCxhQUdGLHFHQUFxRyxZQUNZO2dCQUNqSCxvSEFBb0g7Z0JBQ3BILGlFQUFpRTtnQkFDakVYLGtDQUFrQ1ksSUFBSSxDQUFDbEQ7WUFDN0M7WUFDQW1ELFVBQVU7UUFDWjtRQUNBWixNQUFNO1lBQ0pkO2dCQUNFLE1BQU1xQixhQUFhO2dCQUNuQkMsVUFBVWpELE9BQU9nRDtnQkFDakIsT0FBTzlDLGtCQUFrQnVDLElBQUk7WUFDL0I7UUFDRjtRQUNBZCxLQUFLO1lBQ0hXLE9BQU8sU0FBU1g7Z0JBQ2QsSUFBSXFCO2dCQUNKLElBQUlHLFVBQVVHLE1BQU0sS0FBSyxHQUFHO29CQUMxQk4sYUFBYTtnQkFDZixPQUFPO29CQUNMQSxhQUFhLENBQUMsZ0JBQWdCLEVBQUVPLGdCQUFnQkosU0FBUyxDQUFDLEVBQUUsRUFBRSxHQUFHLENBQUM7Z0JBQ3BFO2dCQUNBRixVQUFVakQsT0FBT2dEO2dCQUNqQixPQUFPOUMsa0JBQWtCeUIsR0FBRyxDQUFDdUIsS0FBSyxDQUFDaEQsbUJBQW1CaUQ7WUFDeEQ7WUFDQUUsVUFBVTtRQUNaO1FBQ0FYLFFBQVE7WUFDTkosT0FBTyxTQUFTSTtnQkFDZCxJQUFJTTtnQkFDSixJQUFJRyxVQUFVRyxNQUFNLEtBQUssR0FBRztvQkFDMUJOLGFBQWE7Z0JBQ2YsT0FBTztvQkFDTEEsYUFBYSxDQUFDLG1CQUFtQixFQUFFTyxnQkFBZ0JKLFNBQVMsQ0FBQyxFQUFFLEVBQUUsR0FBRyxDQUFDO2dCQUN2RTtnQkFDQUYsVUFBVWpELE9BQU9nRDtnQkFDakIsT0FBTzlDLGtCQUFrQndDLE1BQU0sQ0FBQ1EsS0FBSyxDQUNuQ2hELG1CQUNBaUQ7WUFFSjtZQUNBRSxVQUFVO1FBQ1o7UUFDQVYsS0FBSztZQUNITCxPQUFPLFNBQVNYO2dCQUNkLElBQUlxQjtnQkFDSixJQUFJRyxVQUFVRyxNQUFNLEtBQUssR0FBRztvQkFDMUJOLGFBQWE7Z0JBQ2YsT0FBTztvQkFDTEEsYUFBYSxDQUFDLGdCQUFnQixFQUFFTyxnQkFBZ0JKLFNBQVMsQ0FBQyxFQUFFLEVBQUUsR0FBRyxDQUFDO2dCQUNwRTtnQkFDQUYsVUFBVWpELE9BQU9nRDtnQkFDakIsT0FBTzlDLGtCQUFrQnlDLEdBQUcsQ0FBQ08sS0FBSyxDQUFDaEQsbUJBQW1CaUQ7WUFDeEQ7WUFDQUUsVUFBVTtRQUNaO1FBQ0F2QixLQUFLO1lBQ0hRLE9BQU8sU0FBU1I7Z0JBQ2QsSUFBSWtCO2dCQUNKLElBQUlHLFVBQVVHLE1BQU0sS0FBSyxHQUFHO29CQUMxQk4sYUFBYTtnQkFDZixPQUFPO29CQUNMLE1BQU1RLE1BQU1MLFNBQVMsQ0FBQyxFQUFFO29CQUN4QixJQUFJSyxLQUFLO3dCQUNQUixhQUFhLENBQUMsZ0JBQWdCLEVBQUVPLGdCQUFnQkMsS0FBSyxRQUFRLENBQUM7b0JBQ2hFLE9BQU87d0JBQ0xSLGFBQWE7b0JBQ2Y7Z0JBQ0Y7Z0JBQ0FDLFVBQVVqRCxPQUFPZ0Q7Z0JBQ2pCLE9BQU85QyxrQkFBa0I0QixHQUFHLENBQUNvQixLQUFLLENBQUNoRCxtQkFBbUJpRDtZQUN4RDtZQUNBRSxVQUFVO1FBQ1o7UUFDQVQsUUFBUTtZQUNOTixPQUFPO2dCQUNMLElBQUlVO2dCQUNKLElBQUlHLFVBQVVHLE1BQU0sS0FBSyxHQUFHO29CQUMxQk4sYUFBYTtnQkFDZixPQUFPLElBQUlHLFVBQVVHLE1BQU0sS0FBSyxHQUFHO29CQUNqQ04sYUFBYSxDQUFDLG1CQUFtQixFQUFFTyxnQkFBZ0JKLFNBQVMsQ0FBQyxFQUFFLEVBQUUsR0FBRyxDQUFDO2dCQUN2RSxPQUFPO29CQUNMSCxhQUFhLENBQUMsbUJBQW1CLEVBQUVPLGdCQUFnQkosU0FBUyxDQUFDLEVBQUUsRUFBRSxRQUFRLENBQUM7Z0JBQzVFO2dCQUNBRixVQUFVakQsT0FBT2dEO2dCQUNqQixPQUFPOUMsa0JBQWtCMEMsTUFBTSxDQUFDTSxLQUFLLENBQ25DaEQsbUJBQ0FpRDtZQUVKO1lBQ0FFLFVBQVU7UUFDWjtRQUNBUixPQUFPO1lBQ0xQLE9BQU8sU0FBU087Z0JBQ2QsTUFBTUcsYUFBYTtnQkFDbkJDLFVBQVVqRCxPQUFPZ0Q7Z0JBQ2pCLG1GQUFtRjtnQkFDbkYsT0FBTyxPQUFPOUMsa0JBQWtCMkMsS0FBSyxLQUFLLGFBRXRDM0Msa0JBQWtCMkMsS0FBSyxDQUFDSyxLQUFLLENBQUNoRCxtQkFBbUJpRCxhQUVqRCxxR0FBcUcsWUFDWTtnQkFDakgsb0hBQW9IO2dCQUNwSCxpRUFBaUU7Z0JBQ2pFTCwrQkFBK0JNLElBQUksQ0FBQ2xELG1CQUFtQjBCO1lBQzdEO1lBQ0F5QixVQUFVO1FBQ1o7UUFDQU4sVUFBVTtZQUNSVCxPQUFPLFNBQVNTO2dCQUNkLE1BQU1DLGFBQWE7Z0JBQ25CQyxVQUFVakQsT0FBT2dEO2dCQUNqQixPQUFPOUMsa0JBQWtCNkMsUUFBUSxDQUFDRyxLQUFLLENBQ3JDaEQsbUJBQ0FpRDtZQUVKO1lBQ0FFLFVBQVU7UUFDWjtJQUNGO0lBRUEsT0FBT3pCO0FBQ1Q7QUFFQSwrRUFBK0U7QUFDL0UsK0VBQStFO0FBQy9FLFNBQVNULG9DQUNQakIsaUJBQXlDLEVBQ3pDRixLQUFjO0lBRWQsTUFBTStCLGdCQUFnQlIsY0FBY0ksR0FBRyxDQUFDekI7SUFDeEMsSUFBSTZCLGVBQWU7UUFDakIsT0FBT0E7SUFDVDtJQUVBLE1BQU1ILFVBQVV6QyxvRkFBMEJBLENBQUNlO0lBRTNDLE1BQU11RCxpQkFBaUIsSUFBSUMsTUFBTTlCLFNBQVM7UUFDeENELEtBQUlnQyxNQUFNLEVBQUVDLElBQUksRUFBRUMsUUFBUTtZQUN4QixPQUFRRDtnQkFDTixLQUFLeEIsT0FBT0MsUUFBUTtvQkFBRTt3QkFDcEJ5QixrQkFBa0I5RCxPQUFPO3dCQUN6QjtvQkFDRjtnQkFDQSxLQUFLO2dCQUNMLEtBQUs7Z0JBQ0wsS0FBSztnQkFDTCxLQUFLO2dCQUNMLEtBQUs7Z0JBQ0wsS0FBSztnQkFDTCxLQUFLO2dCQUNMLEtBQUs7b0JBQVk7d0JBQ2Y4RCxrQkFBa0I5RCxPQUFPLENBQUMsWUFBWSxFQUFFNEQsS0FBSyxFQUFFLENBQUM7d0JBQ2hEO29CQUNGO2dCQUNBO29CQUFTO29CQUNQLGtFQUFrRTtvQkFDcEU7WUFDRjtZQUVBLE9BQU9wRSxpRkFBY0EsQ0FBQ21DLEdBQUcsQ0FBQ2dDLFFBQVFDLE1BQU1DO1FBQzFDO0lBQ0Y7SUFFQXRDLGNBQWNPLEdBQUcsQ0FBQzVCLG1CQUFtQnVEO0lBRXJDLE9BQU9BO0FBQ1Q7QUFFQSxTQUFTRixnQkFBZ0JDLEdBQVk7SUFDbkMsT0FBTyxPQUFPQSxRQUFRLFlBQ3BCQSxRQUFRLFFBQ1IsT0FBUUEsSUFBWU8sSUFBSSxLQUFLLFdBQzNCLENBQUMsQ0FBQyxFQUFHUCxJQUFZTyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQ3hCLE9BQU9QLFFBQVEsV0FDYixDQUFDLENBQUMsRUFBRUEsSUFBSSxDQUFDLENBQUMsR0FDVjtBQUNSO0FBRUEsU0FBU1AsVUFBVWpELEtBQXlCLEVBQUVnRCxVQUFrQjtJQUM5RCxNQUFNbkQsZ0JBQWdCakIsOEZBQW9CQSxDQUFDZ0IsUUFBUTtJQUVuRCxJQUFJQyxlQUFlO1FBQ2pCLE9BQVFBLGNBQWNTLElBQUk7WUFDeEIsS0FBSztnQkFDSCxJQUFJVCxjQUFjbUUsY0FBYyxLQUFLLE1BQU07b0JBQ3pDLHFFQUFxRTtvQkFDckUscUVBQXFFO29CQUNyRS9FLHFHQUFzQ0EsQ0FBQ1k7Z0JBQ3pDO2dCQUNBO1lBQ0YsS0FBSztZQUNMLEtBQUs7WUFDTCxLQUFLO1lBQ0wsS0FBSztZQUNMLEtBQUs7WUFDTCxLQUFLO1lBQ0wsS0FBSztZQUNMLEtBQUs7Z0JBQ0g7WUFDRjtnQkFDRUE7UUFDSjtJQUNGO0lBRUEsZ0NBQWdDO0lBQ2hDaUUsa0JBQWtCOUQsT0FBT2dEO0FBQzNCO0FBRUEsTUFBTWMsb0JBQW9CekUsNEhBQTJDQSxDQUNuRTRFO0FBR0YsU0FBU0EseUJBQ1BqRSxLQUF5QixFQUN6QmdELFVBQWtCO0lBRWxCLE1BQU1rQixTQUFTbEUsUUFBUSxDQUFDLE9BQU8sRUFBRUEsTUFBTSxFQUFFLENBQUMsR0FBRztJQUM3QyxPQUFPLHFCQUlOLENBSk0sSUFBSUQsTUFDVCxHQUFHbUUsT0FBTyxLQUFLLEVBQUVsQixXQUFXLEVBQUUsQ0FBQyxHQUM3QixDQUFDLHdEQUF3RCxDQUFDLEdBQzFELENBQUMsOERBQThELENBQUMsR0FIN0Q7ZUFBQTtvQkFBQTtzQkFBQTtJQUlQO0FBQ0Y7QUFFQSxTQUFTUjtJQUdQLE9BQU8sSUFBSSxDQUFDRSxNQUFNLEdBQ2Z5QixHQUFHLENBQUMsQ0FBQ0MsSUFBTTtZQUFDQSxFQUFFTCxJQUFJO1lBQUVLO1NBQUUsRUFDdEJDLE1BQU07QUFDWDtBQUVBLFNBQVN2QiwrQkFFUHdCLFVBQTJDO0lBRTNDLEtBQUssTUFBTUMsVUFBVSxJQUFJLENBQUM3QixNQUFNLEdBQUk7UUFDbEMsSUFBSSxDQUFDRSxNQUFNLENBQUMyQixPQUFPUixJQUFJO0lBQ3pCO0lBQ0EsT0FBT087QUFDVCIsInNvdXJjZXMiOlsiRDpcXHNyY1xcc2VydmVyXFxyZXF1ZXN0XFxjb29raWVzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIHR5cGUgUmVhZG9ubHlSZXF1ZXN0Q29va2llcyxcbiAgdHlwZSBSZXNwb25zZUNvb2tpZXMsXG4gIGFyZUNvb2tpZXNNdXRhYmxlSW5DdXJyZW50UGhhc2UsXG4gIFJlcXVlc3RDb29raWVzQWRhcHRlcixcbn0gZnJvbSAnLi4vd2ViL3NwZWMtZXh0ZW5zaW9uL2FkYXB0ZXJzL3JlcXVlc3QtY29va2llcydcbmltcG9ydCB7IFJlcXVlc3RDb29raWVzIH0gZnJvbSAnLi4vd2ViL3NwZWMtZXh0ZW5zaW9uL2Nvb2tpZXMnXG5pbXBvcnQge1xuICB3b3JrQXN5bmNTdG9yYWdlLFxuICB0eXBlIFdvcmtTdG9yZSxcbn0gZnJvbSAnLi4vYXBwLXJlbmRlci93b3JrLWFzeW5jLXN0b3JhZ2UuZXh0ZXJuYWwnXG5pbXBvcnQge1xuICB0aHJvd0Zvck1pc3NpbmdSZXF1ZXN0U3RvcmUsXG4gIHdvcmtVbml0QXN5bmNTdG9yYWdlLFxuICB0eXBlIFByZXJlbmRlclN0b3JlTW9kZXJuLFxufSBmcm9tICcuLi9hcHAtcmVuZGVyL3dvcmstdW5pdC1hc3luYy1zdG9yYWdlLmV4dGVybmFsJ1xuaW1wb3J0IHtcbiAgZGVsYXlVbnRpbFJ1bnRpbWVTdGFnZSxcbiAgcG9zdHBvbmVXaXRoVHJhY2tpbmcsXG4gIHRocm93VG9JbnRlcnJ1cHRTdGF0aWNHZW5lcmF0aW9uLFxuICB0cmFja0R5bmFtaWNEYXRhSW5EeW5hbWljUmVuZGVyLFxuICB0cmFja1N5bmNocm9ub3VzUmVxdWVzdERhdGFBY2Nlc3NJbkRldixcbn0gZnJvbSAnLi4vYXBwLXJlbmRlci9keW5hbWljLXJlbmRlcmluZydcbmltcG9ydCB7IFN0YXRpY0dlbkJhaWxvdXRFcnJvciB9IGZyb20gJy4uLy4uL2NsaWVudC9jb21wb25lbnRzL3N0YXRpYy1nZW5lcmF0aW9uLWJhaWxvdXQnXG5pbXBvcnQge1xuICBtYWtlRGV2dG9vbHNJT0F3YXJlUHJvbWlzZSxcbiAgbWFrZUhhbmdpbmdQcm9taXNlLFxufSBmcm9tICcuLi9keW5hbWljLXJlbmRlcmluZy11dGlscydcbmltcG9ydCB7IGNyZWF0ZURlZHVwZWRCeUNhbGxzaXRlU2VydmVyRXJyb3JMb2dnZXJEZXYgfSBmcm9tICcuLi9jcmVhdGUtZGVkdXBlZC1ieS1jYWxsc2l0ZS1zZXJ2ZXItZXJyb3ItbG9nZ2VyJ1xuaW1wb3J0IHsgaXNSZXF1ZXN0QVBJQ2FsbGFibGVJbnNpZGVBZnRlciB9IGZyb20gJy4vdXRpbHMnXG5pbXBvcnQgeyBJbnZhcmlhbnRFcnJvciB9IGZyb20gJy4uLy4uL3NoYXJlZC9saWIvaW52YXJpYW50LWVycm9yJ1xuaW1wb3J0IHsgUmVmbGVjdEFkYXB0ZXIgfSBmcm9tICcuLi93ZWIvc3BlYy1leHRlbnNpb24vYWRhcHRlcnMvcmVmbGVjdCdcblxuLyoqXG4gKiBJbiB0aGlzIHZlcnNpb24gb2YgTmV4dC5qcyBgY29va2llcygpYCByZXR1cm5zIGEgUHJvbWlzZSBob3dldmVyIHlvdSBjYW4gc3RpbGwgcmVmZXJlbmNlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSB1bmRlcmx5aW5nIGNvb2tpZXMgb2JqZWN0XG4gKiBzeW5jaHJvbm91c2x5IHRvIGZhY2lsaXRhdGUgbWlncmF0aW9uLiBUaGUgYFVuc2FmZVVud3JhcHBlZENvb2tpZXNgIHR5cGUgaXMgYWRkZWQgdG8geW91ciBjb2RlIGJ5IGEgY29kZW1vZCB0aGF0IGF0dGVtcHRzIHRvIGF1dG9tYXRpY2FsbHlcbiAqIHVwZGF0ZXMgY2FsbHNpdGVzIHRvIHJlZmxlY3QgdGhlIG5ldyBQcm9taXNlIHJldHVybiB0eXBlLiBUaGVyZSBhcmUgc29tZSBjYXNlcyB3aGVyZSBgY29va2llcygpYCBjYW5ub3QgYmUgYXV0b21hdGljYWxseSBjb252ZXJ0ZWQsIG5hbWVseVxuICogd2hlbiBpdCBpcyB1c2VkIGluc2lkZSBhIHN5bmNocm9ub3VzIGZ1bmN0aW9uIGFuZCB3ZSBjYW4ndCBiZSBzdXJlIHRoZSBmdW5jdGlvbiBjYW4gYmUgbWFkZSBhc3luYyBhdXRvbWF0aWNhbGx5LiBJbiB0aGVzZSBjYXNlcyB3ZSBhZGQgYW5cbiAqIGV4cGxpY2l0IHR5cGUgY2FzZSB0byBgVW5zYWZlVW53cmFwcGVkQ29va2llc2AgdG8gZW5hYmxlIHR5cGVzY3JpcHQgdG8gYWxsb3cgZm9yIHRoZSBzeW5jaHJvbm91cyB1c2FnZSBvbmx5IHdoZXJlIGl0IGlzIGFjdHVhbGx5IG5lY2Vzc2FyeS5cbiAqXG4gKiBZb3Ugc2hvdWxkIHNob3VsZCB1cGRhdGUgdGhlc2UgY2FsbHNpdGVzIHRvIGVpdGhlciBiZSBhc3luYyBmdW5jdGlvbnMgd2hlcmUgdGhlIGBjb29raWVzKClgIHZhbHVlIGNhbiBiZSBhd2FpdGVkIG9yIHlvdSBzaG91bGQgY2FsbCBgY29va2llcygpYFxuICogZnJvbSBvdXRzaWRlIGFuZCBhd2FpdCB0aGUgcmV0dXJuIHZhbHVlIGJlZm9yZSBwYXNzaW5nIGl0IGludG8gdGhpcyBmdW5jdGlvbi5cbiAqXG4gKiBZb3UgY2FuIGZpbmQgaW5zdGFuY2VzIHRoYXQgcmVxdWlyZSBtYW51YWwgbWlncmF0aW9uIGJ5IHNlYXJjaGluZyBmb3IgYFVuc2FmZVVud3JhcHBlZENvb2tpZXNgIGluIHlvdXIgY29kZWJhc2Ugb3IgYnkgc2VhcmNoIGZvciBhIGNvbW1lbnQgdGhhdFxuICogc3RhcnRzIHdpdGggYEBuZXh0LWNvZGVtb2QtZXJyb3JgLlxuICpcbiAqIEluIGEgZnV0dXJlIHZlcnNpb24gb2YgTmV4dC5qcyBgY29va2llcygpYCB3aWxsIG9ubHkgcmV0dXJuIGEgUHJvbWlzZSBhbmQgeW91IHdpbGwgbm90IGJlIGFibGUgdG8gYWNjZXNzIHRoZSB1bmRlcmx5aW5nIGNvb2tpZXMgb2JqZWN0IGRpcmVjdGx5XG4gKiB3aXRob3V0IGF3YWl0aW5nIHRoZSByZXR1cm4gdmFsdWUgZmlyc3QuIFdoZW4gdGhpcyBjaGFuZ2UgaGFwcGVucyB0aGUgdHlwZSBgVW5zYWZlVW53cmFwcGVkQ29va2llc2Agd2lsbCBiZSB1cGRhdGVkIHRvIHJlZmxlY3QgdGhhdCBpcyBpdCBubyBsb25nZXJcbiAqIHVzYWJsZS5cbiAqXG4gKiBUaGlzIHR5cGUgaXMgbWFya2VkIGRlcHJlY2F0ZWQgdG8gaGVscCBpZGVudGlmeSBpdCBhcyB0YXJnZXQgZm9yIHJlZmFjdG9yaW5nIGF3YXkuXG4gKlxuICogQGRlcHJlY2F0ZWRcbiAqL1xuZXhwb3J0IHR5cGUgVW5zYWZlVW53cmFwcGVkQ29va2llcyA9IFJlYWRvbmx5UmVxdWVzdENvb2tpZXNcblxuZXhwb3J0IGZ1bmN0aW9uIGNvb2tpZXMoKTogUHJvbWlzZTxSZWFkb25seVJlcXVlc3RDb29raWVzPiB7XG4gIGNvbnN0IGNhbGxpbmdFeHByZXNzaW9uID0gJ2Nvb2tpZXMnXG4gIGNvbnN0IHdvcmtTdG9yZSA9IHdvcmtBc3luY1N0b3JhZ2UuZ2V0U3RvcmUoKVxuICBjb25zdCB3b3JrVW5pdFN0b3JlID0gd29ya1VuaXRBc3luY1N0b3JhZ2UuZ2V0U3RvcmUoKVxuXG4gIGlmICh3b3JrU3RvcmUpIHtcbiAgICBpZiAoXG4gICAgICB3b3JrVW5pdFN0b3JlICYmXG4gICAgICB3b3JrVW5pdFN0b3JlLnBoYXNlID09PSAnYWZ0ZXInICYmXG4gICAgICAhaXNSZXF1ZXN0QVBJQ2FsbGFibGVJbnNpZGVBZnRlcigpXG4gICAgKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIC8vIFRPRE8oYWZ0ZXIpOiBjbGFyaWZ5IHRoYXQgdGhpcyBvbmx5IGFwcGxpZXMgdG8gcGFnZXM/XG4gICAgICAgIGBSb3V0ZSAke3dvcmtTdG9yZS5yb3V0ZX0gdXNlZCBcImNvb2tpZXNcIiBpbnNpZGUgXCJhZnRlciguLi4pXCIuIFRoaXMgaXMgbm90IHN1cHBvcnRlZC4gSWYgeW91IG5lZWQgdGhpcyBkYXRhIGluc2lkZSBhbiBcImFmdGVyXCIgY2FsbGJhY2ssIHVzZSBcImNvb2tpZXNcIiBvdXRzaWRlIG9mIHRoZSBjYWxsYmFjay4gU2VlIG1vcmUgaW5mbyBoZXJlOiBodHRwczovL25leHRqcy5vcmcvZG9jcy9jYW5hcnkvYXBwL2FwaS1yZWZlcmVuY2UvZnVuY3Rpb25zL2FmdGVyYFxuICAgICAgKVxuICAgIH1cblxuICAgIGlmICh3b3JrU3RvcmUuZm9yY2VTdGF0aWMpIHtcbiAgICAgIC8vIFdoZW4gdXNpbmcgZm9yY2VTdGF0aWMgd2Ugb3ZlcnJpZGUgYWxsIG90aGVyIGxvZ2ljIGFuZCBhbHdheXMganVzdCByZXR1cm4gYW4gZW1wdHlcbiAgICAgIC8vIGNvb2tpZXMgb2JqZWN0IHdpdGhvdXQgdHJhY2tpbmdcbiAgICAgIGNvbnN0IHVuZGVybHlpbmdDb29raWVzID0gY3JlYXRlRW1wdHlDb29raWVzKClcbiAgICAgIHJldHVybiBtYWtlVW50cmFja2VkRXhvdGljQ29va2llcyh1bmRlcmx5aW5nQ29va2llcylcbiAgICB9XG5cbiAgICBpZiAod29ya1N0b3JlLmR5bmFtaWNTaG91bGRFcnJvcikge1xuICAgICAgdGhyb3cgbmV3IFN0YXRpY0dlbkJhaWxvdXRFcnJvcihcbiAgICAgICAgYFJvdXRlICR7d29ya1N0b3JlLnJvdXRlfSB3aXRoIFxcYGR5bmFtaWMgPSBcImVycm9yXCJcXGAgY291bGRuJ3QgYmUgcmVuZGVyZWQgc3RhdGljYWxseSBiZWNhdXNlIGl0IHVzZWQgXFxgY29va2llc1xcYC4gU2VlIG1vcmUgaW5mbyBoZXJlOiBodHRwczovL25leHRqcy5vcmcvZG9jcy9hcHAvYnVpbGRpbmcteW91ci1hcHBsaWNhdGlvbi9yZW5kZXJpbmcvc3RhdGljLWFuZC1keW5hbWljI2R5bmFtaWMtcmVuZGVyaW5nYFxuICAgICAgKVxuICAgIH1cblxuICAgIGlmICh3b3JrVW5pdFN0b3JlKSB7XG4gICAgICBzd2l0Y2ggKHdvcmtVbml0U3RvcmUudHlwZSkge1xuICAgICAgICBjYXNlICdjYWNoZSc6XG4gICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgICAgICBgUm91dGUgJHt3b3JrU3RvcmUucm91dGV9IHVzZWQgXCJjb29raWVzXCIgaW5zaWRlIFwidXNlIGNhY2hlXCIuIEFjY2Vzc2luZyBEeW5hbWljIGRhdGEgc291cmNlcyBpbnNpZGUgYSBjYWNoZSBzY29wZSBpcyBub3Qgc3VwcG9ydGVkLiBJZiB5b3UgbmVlZCB0aGlzIGRhdGEgaW5zaWRlIGEgY2FjaGVkIGZ1bmN0aW9uIHVzZSBcImNvb2tpZXNcIiBvdXRzaWRlIG9mIHRoZSBjYWNoZWQgZnVuY3Rpb24gYW5kIHBhc3MgdGhlIHJlcXVpcmVkIGR5bmFtaWMgZGF0YSBpbiBhcyBhbiBhcmd1bWVudC4gU2VlIG1vcmUgaW5mbyBoZXJlOiBodHRwczovL25leHRqcy5vcmcvZG9jcy9tZXNzYWdlcy9uZXh0LXJlcXVlc3QtaW4tdXNlLWNhY2hlYFxuICAgICAgICAgIClcbiAgICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZShlcnJvciwgY29va2llcylcbiAgICAgICAgICB3b3JrU3RvcmUuaW52YWxpZER5bmFtaWNVc2FnZUVycm9yID8/PSBlcnJvclxuICAgICAgICAgIHRocm93IGVycm9yXG4gICAgICAgIGNhc2UgJ3Vuc3RhYmxlLWNhY2hlJzpcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICBgUm91dGUgJHt3b3JrU3RvcmUucm91dGV9IHVzZWQgXCJjb29raWVzXCIgaW5zaWRlIGEgZnVuY3Rpb24gY2FjaGVkIHdpdGggXCJ1bnN0YWJsZV9jYWNoZSguLi4pXCIuIEFjY2Vzc2luZyBEeW5hbWljIGRhdGEgc291cmNlcyBpbnNpZGUgYSBjYWNoZSBzY29wZSBpcyBub3Qgc3VwcG9ydGVkLiBJZiB5b3UgbmVlZCB0aGlzIGRhdGEgaW5zaWRlIGEgY2FjaGVkIGZ1bmN0aW9uIHVzZSBcImNvb2tpZXNcIiBvdXRzaWRlIG9mIHRoZSBjYWNoZWQgZnVuY3Rpb24gYW5kIHBhc3MgdGhlIHJlcXVpcmVkIGR5bmFtaWMgZGF0YSBpbiBhcyBhbiBhcmd1bWVudC4gU2VlIG1vcmUgaW5mbyBoZXJlOiBodHRwczovL25leHRqcy5vcmcvZG9jcy9hcHAvYXBpLXJlZmVyZW5jZS9mdW5jdGlvbnMvdW5zdGFibGVfY2FjaGVgXG4gICAgICAgICAgKVxuICAgICAgICBjYXNlICdwcmVyZW5kZXInOlxuICAgICAgICAgIHJldHVybiBtYWtlSGFuZ2luZ0Nvb2tpZXMod29ya1N0b3JlLCB3b3JrVW5pdFN0b3JlKVxuICAgICAgICBjYXNlICdwcmVyZW5kZXItY2xpZW50JzpcbiAgICAgICAgICBjb25zdCBleHBvcnROYW1lID0gJ2Bjb29raWVzYCdcbiAgICAgICAgICB0aHJvdyBuZXcgSW52YXJpYW50RXJyb3IoXG4gICAgICAgICAgICBgJHtleHBvcnROYW1lfSBtdXN0IG5vdCBiZSB1c2VkIHdpdGhpbiBhIGNsaWVudCBjb21wb25lbnQuIE5leHQuanMgc2hvdWxkIGJlIHByZXZlbnRpbmcgJHtleHBvcnROYW1lfSBmcm9tIGJlaW5nIGluY2x1ZGVkIGluIGNsaWVudCBjb21wb25lbnRzIHN0YXRpY2FsbHksIGJ1dCBkaWQgbm90IGluIHRoaXMgY2FzZS5gXG4gICAgICAgICAgKVxuICAgICAgICBjYXNlICdwcmVyZW5kZXItcHByJzpcbiAgICAgICAgICAvLyBXZSBuZWVkIHRyYWNrIGR5bmFtaWMgYWNjZXNzIGhlcmUgZWFnZXJseSB0byBrZWVwIGNvbnRpbnVpdHkgd2l0aFxuICAgICAgICAgIC8vIGhvdyBjb29raWVzIGhhcyB3b3JrZWQgaW4gUFBSIHdpdGhvdXQgY2FjaGVDb21wb25lbnRzLlxuICAgICAgICAgIHJldHVybiBwb3N0cG9uZVdpdGhUcmFja2luZyhcbiAgICAgICAgICAgIHdvcmtTdG9yZS5yb3V0ZSxcbiAgICAgICAgICAgIGNhbGxpbmdFeHByZXNzaW9uLFxuICAgICAgICAgICAgd29ya1VuaXRTdG9yZS5keW5hbWljVHJhY2tpbmdcbiAgICAgICAgICApXG4gICAgICAgIGNhc2UgJ3ByZXJlbmRlci1sZWdhY3knOlxuICAgICAgICAgIC8vIFdlIHRyYWNrIGR5bmFtaWMgYWNjZXNzIGhlcmUgc28gd2UgZG9uJ3QgbmVlZCB0byB3cmFwIHRoZSBjb29raWVzXG4gICAgICAgICAgLy8gaW4gaW5kaXZpZHVhbCBwcm9wZXJ0eSBhY2Nlc3MgdHJhY2tpbmcuXG4gICAgICAgICAgcmV0dXJuIHRocm93VG9JbnRlcnJ1cHRTdGF0aWNHZW5lcmF0aW9uKFxuICAgICAgICAgICAgY2FsbGluZ0V4cHJlc3Npb24sXG4gICAgICAgICAgICB3b3JrU3RvcmUsXG4gICAgICAgICAgICB3b3JrVW5pdFN0b3JlXG4gICAgICAgICAgKVxuICAgICAgICBjYXNlICdwcmVyZW5kZXItcnVudGltZSc6XG4gICAgICAgICAgcmV0dXJuIGRlbGF5VW50aWxSdW50aW1lU3RhZ2UoXG4gICAgICAgICAgICB3b3JrVW5pdFN0b3JlLFxuICAgICAgICAgICAgbWFrZVVudHJhY2tlZENvb2tpZXMod29ya1VuaXRTdG9yZS5jb29raWVzKVxuICAgICAgICAgIClcbiAgICAgICAgY2FzZSAncHJpdmF0ZS1jYWNoZSc6XG4gICAgICAgICAgaWYgKHByb2Nlc3MuZW52Ll9fTkVYVF9DQUNIRV9DT01QT05FTlRTKSB7XG4gICAgICAgICAgICByZXR1cm4gbWFrZVVudHJhY2tlZENvb2tpZXMod29ya1VuaXRTdG9yZS5jb29raWVzKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBtYWtlVW50cmFja2VkRXhvdGljQ29va2llcyh3b3JrVW5pdFN0b3JlLmNvb2tpZXMpXG4gICAgICAgIGNhc2UgJ3JlcXVlc3QnOlxuICAgICAgICAgIHRyYWNrRHluYW1pY0RhdGFJbkR5bmFtaWNSZW5kZXIod29ya1VuaXRTdG9yZSlcblxuICAgICAgICAgIGxldCB1bmRlcmx5aW5nQ29va2llczogUmVhZG9ubHlSZXF1ZXN0Q29va2llc1xuXG4gICAgICAgICAgaWYgKGFyZUNvb2tpZXNNdXRhYmxlSW5DdXJyZW50UGhhc2Uod29ya1VuaXRTdG9yZSkpIHtcbiAgICAgICAgICAgIC8vIFdlIGNhbid0IGNvbmRpdGlvbmFsbHkgcmV0dXJuIGRpZmZlcmVudCB0eXBlcyBoZXJlIGJhc2VkIG9uIHRoZSBjb250ZXh0LlxuICAgICAgICAgICAgLy8gVG8gYXZvaWQgY29uZnVzaW9uLCB3ZSBhbHdheXMgcmV0dXJuIHRoZSByZWFkb25seSB0eXBlIGhlcmUuXG4gICAgICAgICAgICB1bmRlcmx5aW5nQ29va2llcyA9XG4gICAgICAgICAgICAgIHdvcmtVbml0U3RvcmUudXNlcnNwYWNlTXV0YWJsZUNvb2tpZXMgYXMgdW5rbm93biBhcyBSZWFkb25seVJlcXVlc3RDb29raWVzXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVuZGVybHlpbmdDb29raWVzID0gd29ya1VuaXRTdG9yZS5jb29raWVzXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgICAgICAgICAvLyBTZW1hbnRpY2FsbHkgd2Ugb25seSBuZWVkIHRoZSBkZXYgdHJhY2tpbmcgd2hlbiBydW5uaW5nIGluIGBuZXh0IGRldmBcbiAgICAgICAgICAgIC8vIGJ1dCBzaW5jZSB5b3Ugd291bGQgbmV2ZXIgdXNlIG5leHQgZGV2IHdpdGggcHJvZHVjdGlvbiBOT0RFX0VOViB3ZSB1c2UgdGhpc1xuICAgICAgICAgICAgLy8gYXMgYSBwcm94eSBzbyB3ZSBjYW4gc3RhdGljYWxseSBleGNsdWRlIHRoaXMgY29kZSBmcm9tIHByb2R1Y3Rpb24gYnVpbGRzLlxuICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Ll9fTkVYVF9DQUNIRV9DT01QT05FTlRTKSB7XG4gICAgICAgICAgICAgIHJldHVybiBtYWtlVW50cmFja2VkQ29va2llc1dpdGhEZXZXYXJuaW5ncyhcbiAgICAgICAgICAgICAgICB1bmRlcmx5aW5nQ29va2llcyxcbiAgICAgICAgICAgICAgICB3b3JrU3RvcmU/LnJvdXRlXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG1ha2VVbnRyYWNrZWRFeG90aWNDb29raWVzV2l0aERldldhcm5pbmdzKFxuICAgICAgICAgICAgICB1bmRlcmx5aW5nQ29va2llcyxcbiAgICAgICAgICAgICAgd29ya1N0b3JlPy5yb3V0ZVxuICAgICAgICAgICAgKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuX19ORVhUX0NBQ0hFX0NPTVBPTkVOVFMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG1ha2VVbnRyYWNrZWRDb29raWVzKHVuZGVybHlpbmdDb29raWVzKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbWFrZVVudHJhY2tlZEV4b3RpY0Nvb2tpZXModW5kZXJseWluZ0Nvb2tpZXMpXG4gICAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHdvcmtVbml0U3RvcmUgc2F0aXNmaWVzIG5ldmVyXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gSWYgd2UgZW5kIHVwIGhlcmUsIHRoZXJlIHdhcyBubyB3b3JrIHN0b3JlIG9yIHdvcmsgdW5pdCBzdG9yZSBwcmVzZW50LlxuICB0aHJvd0Zvck1pc3NpbmdSZXF1ZXN0U3RvcmUoY2FsbGluZ0V4cHJlc3Npb24pXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUVtcHR5Q29va2llcygpOiBSZWFkb25seVJlcXVlc3RDb29raWVzIHtcbiAgcmV0dXJuIFJlcXVlc3RDb29raWVzQWRhcHRlci5zZWFsKG5ldyBSZXF1ZXN0Q29va2llcyhuZXcgSGVhZGVycyh7fSkpKVxufVxuXG5pbnRlcmZhY2UgQ2FjaGVMaWZldGltZSB7fVxuY29uc3QgQ2FjaGVkQ29va2llcyA9IG5ldyBXZWFrTWFwPFxuICBDYWNoZUxpZmV0aW1lLFxuICBQcm9taXNlPFJlYWRvbmx5UmVxdWVzdENvb2tpZXM+XG4+KClcblxuZnVuY3Rpb24gbWFrZUhhbmdpbmdDb29raWVzKFxuICB3b3JrU3RvcmU6IFdvcmtTdG9yZSxcbiAgcHJlcmVuZGVyU3RvcmU6IFByZXJlbmRlclN0b3JlTW9kZXJuXG4pOiBQcm9taXNlPFJlYWRvbmx5UmVxdWVzdENvb2tpZXM+IHtcbiAgY29uc3QgY2FjaGVkUHJvbWlzZSA9IENhY2hlZENvb2tpZXMuZ2V0KHByZXJlbmRlclN0b3JlKVxuICBpZiAoY2FjaGVkUHJvbWlzZSkge1xuICAgIHJldHVybiBjYWNoZWRQcm9taXNlXG4gIH1cblxuICBjb25zdCBwcm9taXNlID0gbWFrZUhhbmdpbmdQcm9taXNlPFJlYWRvbmx5UmVxdWVzdENvb2tpZXM+KFxuICAgIHByZXJlbmRlclN0b3JlLnJlbmRlclNpZ25hbCxcbiAgICB3b3JrU3RvcmUucm91dGUsXG4gICAgJ2Bjb29raWVzKClgJ1xuICApXG4gIENhY2hlZENvb2tpZXMuc2V0KHByZXJlbmRlclN0b3JlLCBwcm9taXNlKVxuXG4gIHJldHVybiBwcm9taXNlXG59XG5cbmZ1bmN0aW9uIG1ha2VVbnRyYWNrZWRDb29raWVzKFxuICB1bmRlcmx5aW5nQ29va2llczogUmVhZG9ubHlSZXF1ZXN0Q29va2llc1xuKTogUHJvbWlzZTxSZWFkb25seVJlcXVlc3RDb29raWVzPiB7XG4gIGNvbnN0IGNhY2hlZENvb2tpZXMgPSBDYWNoZWRDb29raWVzLmdldCh1bmRlcmx5aW5nQ29va2llcylcbiAgaWYgKGNhY2hlZENvb2tpZXMpIHtcbiAgICByZXR1cm4gY2FjaGVkQ29va2llc1xuICB9XG5cbiAgY29uc3QgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSh1bmRlcmx5aW5nQ29va2llcylcbiAgQ2FjaGVkQ29va2llcy5zZXQodW5kZXJseWluZ0Nvb2tpZXMsIHByb21pc2UpXG5cbiAgcmV0dXJuIHByb21pc2Vcbn1cblxuZnVuY3Rpb24gbWFrZVVudHJhY2tlZEV4b3RpY0Nvb2tpZXMoXG4gIHVuZGVybHlpbmdDb29raWVzOiBSZWFkb25seVJlcXVlc3RDb29raWVzXG4pOiBQcm9taXNlPFJlYWRvbmx5UmVxdWVzdENvb2tpZXM+IHtcbiAgY29uc3QgY2FjaGVkQ29va2llcyA9IENhY2hlZENvb2tpZXMuZ2V0KHVuZGVybHlpbmdDb29raWVzKVxuICBpZiAoY2FjaGVkQ29va2llcykge1xuICAgIHJldHVybiBjYWNoZWRDb29raWVzXG4gIH1cblxuICBjb25zdCBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKHVuZGVybHlpbmdDb29raWVzKVxuICBDYWNoZWRDb29raWVzLnNldCh1bmRlcmx5aW5nQ29va2llcywgcHJvbWlzZSlcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhwcm9taXNlLCB7XG4gICAgW1N5bWJvbC5pdGVyYXRvcl06IHtcbiAgICAgIHZhbHVlOiB1bmRlcmx5aW5nQ29va2llc1tTeW1ib2wuaXRlcmF0b3JdXG4gICAgICAgID8gdW5kZXJseWluZ0Nvb2tpZXNbU3ltYm9sLml0ZXJhdG9yXS5iaW5kKHVuZGVybHlpbmdDb29raWVzKVxuICAgICAgICA6IC8vIFRPRE8gdGhpcyBpcyBhIHBvbHlmaWxsIGZvciB3aGVuIHRoZSB1bmRlcmx5aW5nIHR5cGUgaXMgUmVzcG9uc2VDb29raWVzXG4gICAgICAgICAgLy8gV2Ugc2hvdWxkIHJlbW92ZSB0aGlzIGFuZCB1bmlmeSBvdXIgY29va2llcyB0eXBlcy4gV2UgY291bGQganVzdCBsZXQgdGhpcyBjb250aW51ZSB0byB0aHJvdyBsYXppbHlcbiAgICAgICAgICAvLyBidXQgdGhhdCdzIGFscmVhZHkgYSBoYXJkIHRoaW5nIHRvIGRlYnVnIHNvIHdlIG1heSBhcyB3ZWxsIGltcGxlbWVudCBpdCBjb25zaXN0ZW50bHkuIFRoZSBiaWdnZXN0IHByb2JsZW0gd2l0aFxuICAgICAgICAgIC8vIGltcGxlbWVudGluZyB0aGlzIGluIHRoaXMgd2F5IGlzIHRoZSB1bmRlcmx5aW5nIGNvb2tpZSB0eXBlIGlzIGEgUmVzcG9uc2VDb29raWUgYW5kIG5vdCBhIFJlcXVlc3RDb29raWUgYW5kIHNvIGl0XG4gICAgICAgICAgLy8gaGFzIGV4dHJhIHByb3BlcnRpZXMgbm90IGF2YWlsYWJsZSBvbiBSZXF1ZXN0Q29va2llIGluc3RhbmNlcy5cbiAgICAgICAgICBwb2x5ZmlsbGVkUmVzcG9uc2VDb29raWVzSXRlcmF0b3IuYmluZCh1bmRlcmx5aW5nQ29va2llcyksXG4gICAgfSxcbiAgICBzaXplOiB7XG4gICAgICBnZXQoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHVuZGVybHlpbmdDb29raWVzLnNpemVcbiAgICAgIH0sXG4gICAgfSxcbiAgICBnZXQ6IHtcbiAgICAgIHZhbHVlOiB1bmRlcmx5aW5nQ29va2llcy5nZXQuYmluZCh1bmRlcmx5aW5nQ29va2llcyksXG4gICAgfSxcbiAgICBnZXRBbGw6IHtcbiAgICAgIHZhbHVlOiB1bmRlcmx5aW5nQ29va2llcy5nZXRBbGwuYmluZCh1bmRlcmx5aW5nQ29va2llcyksXG4gICAgfSxcbiAgICBoYXM6IHtcbiAgICAgIHZhbHVlOiB1bmRlcmx5aW5nQ29va2llcy5oYXMuYmluZCh1bmRlcmx5aW5nQ29va2llcyksXG4gICAgfSxcbiAgICBzZXQ6IHtcbiAgICAgIHZhbHVlOiB1bmRlcmx5aW5nQ29va2llcy5zZXQuYmluZCh1bmRlcmx5aW5nQ29va2llcyksXG4gICAgfSxcbiAgICBkZWxldGU6IHtcbiAgICAgIHZhbHVlOiB1bmRlcmx5aW5nQ29va2llcy5kZWxldGUuYmluZCh1bmRlcmx5aW5nQ29va2llcyksXG4gICAgfSxcbiAgICBjbGVhcjoge1xuICAgICAgdmFsdWU6XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgY2xlYXIgaXMgZGVmaW5lZCBpbiBSZXF1ZXN0Q29va2llcyBpbXBsZW1lbnRhdGlvbiBidXQgbm90IGluIHRoZSB0eXBlXG4gICAgICAgIHR5cGVvZiB1bmRlcmx5aW5nQ29va2llcy5jbGVhciA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgID8gLy8gQHRzLWV4cGVjdC1lcnJvciBjbGVhciBpcyBkZWZpbmVkIGluIFJlcXVlc3RDb29raWVzIGltcGxlbWVudGF0aW9uIGJ1dCBub3QgaW4gdGhlIHR5cGVcbiAgICAgICAgICAgIHVuZGVybHlpbmdDb29raWVzLmNsZWFyLmJpbmQodW5kZXJseWluZ0Nvb2tpZXMpXG4gICAgICAgICAgOiAvLyBUT0RPIHRoaXMgaXMgYSBwb2x5ZmlsbCBmb3Igd2hlbiB0aGUgdW5kZXJseWluZyB0eXBlIGlzIFJlc3BvbnNlQ29va2llc1xuICAgICAgICAgICAgLy8gV2Ugc2hvdWxkIHJlbW92ZSB0aGlzIGFuZCB1bmlmeSBvdXIgY29va2llcyB0eXBlcy4gV2UgY291bGQganVzdCBsZXQgdGhpcyBjb250aW51ZSB0byB0aHJvdyBsYXppbHlcbiAgICAgICAgICAgIC8vIGJ1dCB0aGF0J3MgYWxyZWFkeSBhIGhhcmQgdGhpbmcgdG8gZGVidWcgc28gd2UgbWF5IGFzIHdlbGwgaW1wbGVtZW50IGl0IGNvbnNpc3RlbnRseS4gVGhlIGJpZ2dlc3QgcHJvYmxlbSB3aXRoXG4gICAgICAgICAgICAvLyBpbXBsZW1lbnRpbmcgdGhpcyBpbiB0aGlzIHdheSBpcyB0aGUgdW5kZXJseWluZyBjb29raWUgdHlwZSBpcyBhIFJlc3BvbnNlQ29va2llIGFuZCBub3QgYSBSZXF1ZXN0Q29va2llIGFuZCBzbyBpdFxuICAgICAgICAgICAgLy8gaGFzIGV4dHJhIHByb3BlcnRpZXMgbm90IGF2YWlsYWJsZSBvbiBSZXF1ZXN0Q29va2llIGluc3RhbmNlcy5cbiAgICAgICAgICAgIHBvbHlmaWxsZWRSZXNwb25zZUNvb2tpZXNDbGVhci5iaW5kKHVuZGVybHlpbmdDb29raWVzLCBwcm9taXNlKSxcbiAgICB9LFxuICAgIHRvU3RyaW5nOiB7XG4gICAgICB2YWx1ZTogdW5kZXJseWluZ0Nvb2tpZXMudG9TdHJpbmcuYmluZCh1bmRlcmx5aW5nQ29va2llcyksXG4gICAgfSxcbiAgfSBzYXRpc2ZpZXMgQ29va2llRXh0ZW5zaW9ucylcblxuICByZXR1cm4gcHJvbWlzZVxufVxuXG5mdW5jdGlvbiBtYWtlVW50cmFja2VkRXhvdGljQ29va2llc1dpdGhEZXZXYXJuaW5ncyhcbiAgdW5kZXJseWluZ0Nvb2tpZXM6IFJlYWRvbmx5UmVxdWVzdENvb2tpZXMsXG4gIHJvdXRlPzogc3RyaW5nXG4pOiBQcm9taXNlPFJlYWRvbmx5UmVxdWVzdENvb2tpZXM+IHtcbiAgY29uc3QgY2FjaGVkQ29va2llcyA9IENhY2hlZENvb2tpZXMuZ2V0KHVuZGVybHlpbmdDb29raWVzKVxuICBpZiAoY2FjaGVkQ29va2llcykge1xuICAgIHJldHVybiBjYWNoZWRDb29raWVzXG4gIH1cblxuICBjb25zdCBwcm9taXNlID0gbWFrZURldnRvb2xzSU9Bd2FyZVByb21pc2UodW5kZXJseWluZ0Nvb2tpZXMpXG4gIENhY2hlZENvb2tpZXMuc2V0KHVuZGVybHlpbmdDb29raWVzLCBwcm9taXNlKVxuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHByb21pc2UsIHtcbiAgICBbU3ltYm9sLml0ZXJhdG9yXToge1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgZXhwcmVzc2lvbiA9ICdgLi4uY29va2llcygpYCBvciBzaW1pbGFyIGl0ZXJhdGlvbidcbiAgICAgICAgc3luY0lPRGV2KHJvdXRlLCBleHByZXNzaW9uKVxuICAgICAgICByZXR1cm4gdW5kZXJseWluZ0Nvb2tpZXNbU3ltYm9sLml0ZXJhdG9yXVxuICAgICAgICAgID8gdW5kZXJseWluZ0Nvb2tpZXNbU3ltYm9sLml0ZXJhdG9yXS5hcHBseShcbiAgICAgICAgICAgICAgdW5kZXJseWluZ0Nvb2tpZXMsXG4gICAgICAgICAgICAgIGFyZ3VtZW50cyBhcyBhbnlcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IC8vIFRPRE8gdGhpcyBpcyBhIHBvbHlmaWxsIGZvciB3aGVuIHRoZSB1bmRlcmx5aW5nIHR5cGUgaXMgUmVzcG9uc2VDb29raWVzXG4gICAgICAgICAgICAvLyBXZSBzaG91bGQgcmVtb3ZlIHRoaXMgYW5kIHVuaWZ5IG91ciBjb29raWVzIHR5cGVzLiBXZSBjb3VsZCBqdXN0IGxldCB0aGlzIGNvbnRpbnVlIHRvIHRocm93IGxhemlseVxuICAgICAgICAgICAgLy8gYnV0IHRoYXQncyBhbHJlYWR5IGEgaGFyZCB0aGluZyB0byBkZWJ1ZyBzbyB3ZSBtYXkgYXMgd2VsbCBpbXBsZW1lbnQgaXQgY29uc2lzdGVudGx5LiBUaGUgYmlnZ2VzdCBwcm9ibGVtIHdpdGhcbiAgICAgICAgICAgIC8vIGltcGxlbWVudGluZyB0aGlzIGluIHRoaXMgd2F5IGlzIHRoZSB1bmRlcmx5aW5nIGNvb2tpZSB0eXBlIGlzIGEgUmVzcG9uc2VDb29raWUgYW5kIG5vdCBhIFJlcXVlc3RDb29raWUgYW5kIHNvIGl0XG4gICAgICAgICAgICAvLyBoYXMgZXh0cmEgcHJvcGVydGllcyBub3QgYXZhaWxhYmxlIG9uIFJlcXVlc3RDb29raWUgaW5zdGFuY2VzLlxuICAgICAgICAgICAgcG9seWZpbGxlZFJlc3BvbnNlQ29va2llc0l0ZXJhdG9yLmNhbGwodW5kZXJseWluZ0Nvb2tpZXMpXG4gICAgICB9LFxuICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgIH0sXG4gICAgc2l6ZToge1xuICAgICAgZ2V0KCk6IG51bWJlciB7XG4gICAgICAgIGNvbnN0IGV4cHJlc3Npb24gPSAnYGNvb2tpZXMoKS5zaXplYCdcbiAgICAgICAgc3luY0lPRGV2KHJvdXRlLCBleHByZXNzaW9uKVxuICAgICAgICByZXR1cm4gdW5kZXJseWluZ0Nvb2tpZXMuc2l6ZVxuICAgICAgfSxcbiAgICB9LFxuICAgIGdldDoge1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgbGV0IGV4cHJlc3Npb246IHN0cmluZ1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGV4cHJlc3Npb24gPSAnYGNvb2tpZXMoKS5nZXQoKWAnXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZXhwcmVzc2lvbiA9IGBcXGBjb29raWVzKCkuZ2V0KCR7ZGVzY3JpYmVOYW1lQXJnKGFyZ3VtZW50c1swXSl9KVxcYGBcbiAgICAgICAgfVxuICAgICAgICBzeW5jSU9EZXYocm91dGUsIGV4cHJlc3Npb24pXG4gICAgICAgIHJldHVybiB1bmRlcmx5aW5nQ29va2llcy5nZXQuYXBwbHkodW5kZXJseWluZ0Nvb2tpZXMsIGFyZ3VtZW50cyBhcyBhbnkpXG4gICAgICB9LFxuICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgIH0sXG4gICAgZ2V0QWxsOiB7XG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QWxsKCkge1xuICAgICAgICBsZXQgZXhwcmVzc2lvbjogc3RyaW5nXG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgZXhwcmVzc2lvbiA9ICdgY29va2llcygpLmdldEFsbCgpYCdcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBleHByZXNzaW9uID0gYFxcYGNvb2tpZXMoKS5nZXRBbGwoJHtkZXNjcmliZU5hbWVBcmcoYXJndW1lbnRzWzBdKX0pXFxgYFxuICAgICAgICB9XG4gICAgICAgIHN5bmNJT0Rldihyb3V0ZSwgZXhwcmVzc2lvbilcbiAgICAgICAgcmV0dXJuIHVuZGVybHlpbmdDb29raWVzLmdldEFsbC5hcHBseShcbiAgICAgICAgICB1bmRlcmx5aW5nQ29va2llcyxcbiAgICAgICAgICBhcmd1bWVudHMgYXMgYW55XG4gICAgICAgIClcbiAgICAgIH0sXG4gICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgfSxcbiAgICBoYXM6IHtcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIGxldCBleHByZXNzaW9uOiBzdHJpbmdcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBleHByZXNzaW9uID0gJ2Bjb29raWVzKCkuaGFzKClgJ1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGV4cHJlc3Npb24gPSBgXFxgY29va2llcygpLmhhcygke2Rlc2NyaWJlTmFtZUFyZyhhcmd1bWVudHNbMF0pfSlcXGBgXG4gICAgICAgIH1cbiAgICAgICAgc3luY0lPRGV2KHJvdXRlLCBleHByZXNzaW9uKVxuICAgICAgICByZXR1cm4gdW5kZXJseWluZ0Nvb2tpZXMuaGFzLmFwcGx5KHVuZGVybHlpbmdDb29raWVzLCBhcmd1bWVudHMgYXMgYW55KVxuICAgICAgfSxcbiAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICB9LFxuICAgIHNldDoge1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldCgpIHtcbiAgICAgICAgbGV0IGV4cHJlc3Npb246IHN0cmluZ1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGV4cHJlc3Npb24gPSAnYGNvb2tpZXMoKS5zZXQoKWAnXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgYXJnID0gYXJndW1lbnRzWzBdXG4gICAgICAgICAgaWYgKGFyZykge1xuICAgICAgICAgICAgZXhwcmVzc2lvbiA9IGBcXGBjb29raWVzKCkuc2V0KCR7ZGVzY3JpYmVOYW1lQXJnKGFyZyl9LCAuLi4pXFxgYFxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBleHByZXNzaW9uID0gJ2Bjb29raWVzKCkuc2V0KC4uLilgJ1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzeW5jSU9EZXYocm91dGUsIGV4cHJlc3Npb24pXG4gICAgICAgIHJldHVybiB1bmRlcmx5aW5nQ29va2llcy5zZXQuYXBwbHkodW5kZXJseWluZ0Nvb2tpZXMsIGFyZ3VtZW50cyBhcyBhbnkpXG4gICAgICB9LFxuICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgIH0sXG4gICAgZGVsZXRlOiB7XG4gICAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICBsZXQgZXhwcmVzc2lvbjogc3RyaW5nXG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgZXhwcmVzc2lvbiA9ICdgY29va2llcygpLmRlbGV0ZSgpYCdcbiAgICAgICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgZXhwcmVzc2lvbiA9IGBcXGBjb29raWVzKCkuZGVsZXRlKCR7ZGVzY3JpYmVOYW1lQXJnKGFyZ3VtZW50c1swXSl9KVxcYGBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBleHByZXNzaW9uID0gYFxcYGNvb2tpZXMoKS5kZWxldGUoJHtkZXNjcmliZU5hbWVBcmcoYXJndW1lbnRzWzBdKX0sIC4uLilcXGBgXG4gICAgICAgIH1cbiAgICAgICAgc3luY0lPRGV2KHJvdXRlLCBleHByZXNzaW9uKVxuICAgICAgICByZXR1cm4gdW5kZXJseWluZ0Nvb2tpZXMuZGVsZXRlLmFwcGx5KFxuICAgICAgICAgIHVuZGVybHlpbmdDb29raWVzLFxuICAgICAgICAgIGFyZ3VtZW50cyBhcyBhbnlcbiAgICAgICAgKVxuICAgICAgfSxcbiAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICB9LFxuICAgIGNsZWFyOiB7XG4gICAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgICAgIGNvbnN0IGV4cHJlc3Npb24gPSAnYGNvb2tpZXMoKS5jbGVhcigpYCdcbiAgICAgICAgc3luY0lPRGV2KHJvdXRlLCBleHByZXNzaW9uKVxuICAgICAgICAvLyBAdHMtaWdub3JlIGNsZWFyIGlzIGRlZmluZWQgaW4gUmVxdWVzdENvb2tpZXMgaW1wbGVtZW50YXRpb24gYnV0IG5vdCBpbiB0aGUgdHlwZVxuICAgICAgICByZXR1cm4gdHlwZW9mIHVuZGVybHlpbmdDb29raWVzLmNsZWFyID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgPyAvLyBAdHMtaWdub3JlIGNsZWFyIGlzIGRlZmluZWQgaW4gUmVxdWVzdENvb2tpZXMgaW1wbGVtZW50YXRpb24gYnV0IG5vdCBpbiB0aGUgdHlwZVxuICAgICAgICAgICAgdW5kZXJseWluZ0Nvb2tpZXMuY2xlYXIuYXBwbHkodW5kZXJseWluZ0Nvb2tpZXMsIGFyZ3VtZW50cylcbiAgICAgICAgICA6IC8vIFRPRE8gdGhpcyBpcyBhIHBvbHlmaWxsIGZvciB3aGVuIHRoZSB1bmRlcmx5aW5nIHR5cGUgaXMgUmVzcG9uc2VDb29raWVzXG4gICAgICAgICAgICAvLyBXZSBzaG91bGQgcmVtb3ZlIHRoaXMgYW5kIHVuaWZ5IG91ciBjb29raWVzIHR5cGVzLiBXZSBjb3VsZCBqdXN0IGxldCB0aGlzIGNvbnRpbnVlIHRvIHRocm93IGxhemlseVxuICAgICAgICAgICAgLy8gYnV0IHRoYXQncyBhbHJlYWR5IGEgaGFyZCB0aGluZyB0byBkZWJ1ZyBzbyB3ZSBtYXkgYXMgd2VsbCBpbXBsZW1lbnQgaXQgY29uc2lzdGVudGx5LiBUaGUgYmlnZ2VzdCBwcm9ibGVtIHdpdGhcbiAgICAgICAgICAgIC8vIGltcGxlbWVudGluZyB0aGlzIGluIHRoaXMgd2F5IGlzIHRoZSB1bmRlcmx5aW5nIGNvb2tpZSB0eXBlIGlzIGEgUmVzcG9uc2VDb29raWUgYW5kIG5vdCBhIFJlcXVlc3RDb29raWUgYW5kIHNvIGl0XG4gICAgICAgICAgICAvLyBoYXMgZXh0cmEgcHJvcGVydGllcyBub3QgYXZhaWxhYmxlIG9uIFJlcXVlc3RDb29raWUgaW5zdGFuY2VzLlxuICAgICAgICAgICAgcG9seWZpbGxlZFJlc3BvbnNlQ29va2llc0NsZWFyLmNhbGwodW5kZXJseWluZ0Nvb2tpZXMsIHByb21pc2UpXG4gICAgICB9LFxuICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgIH0sXG4gICAgdG9TdHJpbmc6IHtcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgICAgY29uc3QgZXhwcmVzc2lvbiA9ICdgY29va2llcygpLnRvU3RyaW5nKClgIG9yIGltcGxpY2l0IGNhc3RpbmcnXG4gICAgICAgIHN5bmNJT0Rldihyb3V0ZSwgZXhwcmVzc2lvbilcbiAgICAgICAgcmV0dXJuIHVuZGVybHlpbmdDb29raWVzLnRvU3RyaW5nLmFwcGx5KFxuICAgICAgICAgIHVuZGVybHlpbmdDb29raWVzLFxuICAgICAgICAgIGFyZ3VtZW50cyBhcyBhbnlcbiAgICAgICAgKVxuICAgICAgfSxcbiAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICB9LFxuICB9IHNhdGlzZmllcyBDb29raWVFeHRlbnNpb25zKVxuXG4gIHJldHVybiBwcm9taXNlXG59XG5cbi8vIFNpbWlsYXIgdG8gYG1ha2VVbnRyYWNrZWRFeG90aWNDb29raWVzV2l0aERldldhcm5pbmdzYCwgYnV0IGp1c3QgbG9nZ2luZyB0aGVcbi8vIHN5bmMgYWNjZXNzIHdpdGhvdXQgYWN0dWFsbHkgZGVmaW5pbmcgdGhlIGNvb2tpZXMgcHJvcGVydGllcyBvbiB0aGUgcHJvbWlzZS5cbmZ1bmN0aW9uIG1ha2VVbnRyYWNrZWRDb29raWVzV2l0aERldldhcm5pbmdzKFxuICB1bmRlcmx5aW5nQ29va2llczogUmVhZG9ubHlSZXF1ZXN0Q29va2llcyxcbiAgcm91dGU/OiBzdHJpbmdcbik6IFByb21pc2U8UmVhZG9ubHlSZXF1ZXN0Q29va2llcz4ge1xuICBjb25zdCBjYWNoZWRDb29raWVzID0gQ2FjaGVkQ29va2llcy5nZXQodW5kZXJseWluZ0Nvb2tpZXMpXG4gIGlmIChjYWNoZWRDb29raWVzKSB7XG4gICAgcmV0dXJuIGNhY2hlZENvb2tpZXNcbiAgfVxuXG4gIGNvbnN0IHByb21pc2UgPSBtYWtlRGV2dG9vbHNJT0F3YXJlUHJvbWlzZSh1bmRlcmx5aW5nQ29va2llcylcblxuICBjb25zdCBwcm94aWVkUHJvbWlzZSA9IG5ldyBQcm94eShwcm9taXNlLCB7XG4gICAgZ2V0KHRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpIHtcbiAgICAgIHN3aXRjaCAocHJvcCkge1xuICAgICAgICBjYXNlIFN5bWJvbC5pdGVyYXRvcjoge1xuICAgICAgICAgIHdhcm5Gb3JTeW5jQWNjZXNzKHJvdXRlLCAnYC4uLmNvb2tpZXMoKWAgb3Igc2ltaWxhciBpdGVyYXRpb24nKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnc2l6ZSc6XG4gICAgICAgIGNhc2UgJ2dldCc6XG4gICAgICAgIGNhc2UgJ2dldEFsbCc6XG4gICAgICAgIGNhc2UgJ2hhcyc6XG4gICAgICAgIGNhc2UgJ3NldCc6XG4gICAgICAgIGNhc2UgJ2RlbGV0ZSc6XG4gICAgICAgIGNhc2UgJ2NsZWFyJzpcbiAgICAgICAgY2FzZSAndG9TdHJpbmcnOiB7XG4gICAgICAgICAgd2FybkZvclN5bmNBY2Nlc3Mocm91dGUsIGBcXGBjb29raWVzKCkuJHtwcm9wfVxcYGApXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgLy8gV2Ugb25seSB3YXJuIGZvciB3ZWxsLWRlZmluZWQgcHJvcGVydGllcyBvZiB0aGUgY29va2llcyBvYmplY3QuXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFJlZmxlY3RBZGFwdGVyLmdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKVxuICAgIH0sXG4gIH0pXG5cbiAgQ2FjaGVkQ29va2llcy5zZXQodW5kZXJseWluZ0Nvb2tpZXMsIHByb3hpZWRQcm9taXNlKVxuXG4gIHJldHVybiBwcm94aWVkUHJvbWlzZVxufVxuXG5mdW5jdGlvbiBkZXNjcmliZU5hbWVBcmcoYXJnOiB1bmtub3duKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJlxuICAgIGFyZyAhPT0gbnVsbCAmJlxuICAgIHR5cGVvZiAoYXJnIGFzIGFueSkubmFtZSA9PT0gJ3N0cmluZydcbiAgICA/IGAnJHsoYXJnIGFzIGFueSkubmFtZX0nYFxuICAgIDogdHlwZW9mIGFyZyA9PT0gJ3N0cmluZydcbiAgICAgID8gYCcke2FyZ30nYFxuICAgICAgOiAnLi4uJ1xufVxuXG5mdW5jdGlvbiBzeW5jSU9EZXYocm91dGU6IHN0cmluZyB8IHVuZGVmaW5lZCwgZXhwcmVzc2lvbjogc3RyaW5nKSB7XG4gIGNvbnN0IHdvcmtVbml0U3RvcmUgPSB3b3JrVW5pdEFzeW5jU3RvcmFnZS5nZXRTdG9yZSgpXG5cbiAgaWYgKHdvcmtVbml0U3RvcmUpIHtcbiAgICBzd2l0Y2ggKHdvcmtVbml0U3RvcmUudHlwZSkge1xuICAgICAgY2FzZSAncmVxdWVzdCc6XG4gICAgICAgIGlmICh3b3JrVW5pdFN0b3JlLnByZXJlbmRlclBoYXNlID09PSB0cnVlKSB7XG4gICAgICAgICAgLy8gV2hlbiB3ZSdyZSByZW5kZXJpbmcgZHluYW1pY2FsbHkgaW4gZGV2LCB3ZSBuZWVkIHRvIGFkdmFuY2Ugb3V0IG9mXG4gICAgICAgICAgLy8gdGhlIFByZXJlbmRlciBlbnZpcm9ubWVudCB3aGVuIHdlIHJlYWQgUmVxdWVzdCBkYXRhIHN5bmNocm9ub3VzbHkuXG4gICAgICAgICAgdHJhY2tTeW5jaHJvbm91c1JlcXVlc3REYXRhQWNjZXNzSW5EZXYod29ya1VuaXRTdG9yZSlcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAncHJlcmVuZGVyJzpcbiAgICAgIGNhc2UgJ3ByZXJlbmRlci1jbGllbnQnOlxuICAgICAgY2FzZSAncHJlcmVuZGVyLXJ1bnRpbWUnOlxuICAgICAgY2FzZSAncHJlcmVuZGVyLXBwcic6XG4gICAgICBjYXNlICdwcmVyZW5kZXItbGVnYWN5JzpcbiAgICAgIGNhc2UgJ2NhY2hlJzpcbiAgICAgIGNhc2UgJ3ByaXZhdGUtY2FjaGUnOlxuICAgICAgY2FzZSAndW5zdGFibGUtY2FjaGUnOlxuICAgICAgICBicmVha1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgd29ya1VuaXRTdG9yZSBzYXRpc2ZpZXMgbmV2ZXJcbiAgICB9XG4gIH1cblxuICAvLyBJbiBhbGwgY2FzZXMgd2Ugd2FybiBub3JtYWxseVxuICB3YXJuRm9yU3luY0FjY2Vzcyhyb3V0ZSwgZXhwcmVzc2lvbilcbn1cblxuY29uc3Qgd2FybkZvclN5bmNBY2Nlc3MgPSBjcmVhdGVEZWR1cGVkQnlDYWxsc2l0ZVNlcnZlckVycm9yTG9nZ2VyRGV2KFxuICBjcmVhdGVDb29raWVzQWNjZXNzRXJyb3JcbilcblxuZnVuY3Rpb24gY3JlYXRlQ29va2llc0FjY2Vzc0Vycm9yKFxuICByb3V0ZTogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICBleHByZXNzaW9uOiBzdHJpbmdcbikge1xuICBjb25zdCBwcmVmaXggPSByb3V0ZSA/IGBSb3V0ZSBcIiR7cm91dGV9XCIgYCA6ICdUaGlzIHJvdXRlICdcbiAgcmV0dXJuIG5ldyBFcnJvcihcbiAgICBgJHtwcmVmaXh9dXNlZCAke2V4cHJlc3Npb259LiBgICtcbiAgICAgIGBcXGBjb29raWVzKClcXGAgc2hvdWxkIGJlIGF3YWl0ZWQgYmVmb3JlIHVzaW5nIGl0cyB2YWx1ZS4gYCArXG4gICAgICBgTGVhcm4gbW9yZTogaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvbWVzc2FnZXMvc3luYy1keW5hbWljLWFwaXNgXG4gIClcbn1cblxuZnVuY3Rpb24gcG9seWZpbGxlZFJlc3BvbnNlQ29va2llc0l0ZXJhdG9yKFxuICB0aGlzOiBSZXNwb25zZUNvb2tpZXNcbik6IFJldHVyblR5cGU8UmVhZG9ubHlSZXF1ZXN0Q29va2llc1t0eXBlb2YgU3ltYm9sLml0ZXJhdG9yXT4ge1xuICByZXR1cm4gdGhpcy5nZXRBbGwoKVxuICAgIC5tYXAoKGMpID0+IFtjLm5hbWUsIGNdIGFzIFtzdHJpbmcsIGFueV0pXG4gICAgLnZhbHVlcygpXG59XG5cbmZ1bmN0aW9uIHBvbHlmaWxsZWRSZXNwb25zZUNvb2tpZXNDbGVhcihcbiAgdGhpczogUmVzcG9uc2VDb29raWVzLFxuICByZXR1cm5hYmxlOiBQcm9taXNlPFJlYWRvbmx5UmVxdWVzdENvb2tpZXM+XG4pOiB0eXBlb2YgcmV0dXJuYWJsZSB7XG4gIGZvciAoY29uc3QgY29va2llIG9mIHRoaXMuZ2V0QWxsKCkpIHtcbiAgICB0aGlzLmRlbGV0ZShjb29raWUubmFtZSlcbiAgfVxuICByZXR1cm4gcmV0dXJuYWJsZVxufVxuXG50eXBlIENvb2tpZUV4dGVuc2lvbnMgPSB7XG4gIFtLIGluIGtleW9mIFJlYWRvbmx5UmVxdWVzdENvb2tpZXMgfCAnY2xlYXInXTogdW5rbm93blxufVxuIl0sIm5hbWVzIjpbImFyZUNvb2tpZXNNdXRhYmxlSW5DdXJyZW50UGhhc2UiLCJSZXF1ZXN0Q29va2llc0FkYXB0ZXIiLCJSZXF1ZXN0Q29va2llcyIsIndvcmtBc3luY1N0b3JhZ2UiLCJ0aHJvd0Zvck1pc3NpbmdSZXF1ZXN0U3RvcmUiLCJ3b3JrVW5pdEFzeW5jU3RvcmFnZSIsImRlbGF5VW50aWxSdW50aW1lU3RhZ2UiLCJwb3N0cG9uZVdpdGhUcmFja2luZyIsInRocm93VG9JbnRlcnJ1cHRTdGF0aWNHZW5lcmF0aW9uIiwidHJhY2tEeW5hbWljRGF0YUluRHluYW1pY1JlbmRlciIsInRyYWNrU3luY2hyb25vdXNSZXF1ZXN0RGF0YUFjY2Vzc0luRGV2IiwiU3RhdGljR2VuQmFpbG91dEVycm9yIiwibWFrZURldnRvb2xzSU9Bd2FyZVByb21pc2UiLCJtYWtlSGFuZ2luZ1Byb21pc2UiLCJjcmVhdGVEZWR1cGVkQnlDYWxsc2l0ZVNlcnZlckVycm9yTG9nZ2VyRGV2IiwiaXNSZXF1ZXN0QVBJQ2FsbGFibGVJbnNpZGVBZnRlciIsIkludmFyaWFudEVycm9yIiwiUmVmbGVjdEFkYXB0ZXIiLCJjb29raWVzIiwiY2FsbGluZ0V4cHJlc3Npb24iLCJ3b3JrU3RvcmUiLCJnZXRTdG9yZSIsIndvcmtVbml0U3RvcmUiLCJwaGFzZSIsIkVycm9yIiwicm91dGUiLCJmb3JjZVN0YXRpYyIsInVuZGVybHlpbmdDb29raWVzIiwiY3JlYXRlRW1wdHlDb29raWVzIiwibWFrZVVudHJhY2tlZEV4b3RpY0Nvb2tpZXMiLCJkeW5hbWljU2hvdWxkRXJyb3IiLCJ0eXBlIiwiZXJyb3IiLCJjYXB0dXJlU3RhY2tUcmFjZSIsImludmFsaWREeW5hbWljVXNhZ2VFcnJvciIsIm1ha2VIYW5naW5nQ29va2llcyIsImV4cG9ydE5hbWUiLCJkeW5hbWljVHJhY2tpbmciLCJtYWtlVW50cmFja2VkQ29va2llcyIsInByb2Nlc3MiLCJlbnYiLCJfX05FWFRfQ0FDSEVfQ09NUE9ORU5UUyIsInVzZXJzcGFjZU11dGFibGVDb29raWVzIiwiTk9ERV9FTlYiLCJtYWtlVW50cmFja2VkQ29va2llc1dpdGhEZXZXYXJuaW5ncyIsIm1ha2VVbnRyYWNrZWRFeG90aWNDb29raWVzV2l0aERldldhcm5pbmdzIiwic2VhbCIsIkhlYWRlcnMiLCJDYWNoZWRDb29raWVzIiwiV2Vha01hcCIsInByZXJlbmRlclN0b3JlIiwiY2FjaGVkUHJvbWlzZSIsImdldCIsInByb21pc2UiLCJyZW5kZXJTaWduYWwiLCJzZXQiLCJjYWNoZWRDb29raWVzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJ2YWx1ZSIsImJpbmQiLCJwb2x5ZmlsbGVkUmVzcG9uc2VDb29raWVzSXRlcmF0b3IiLCJzaXplIiwiZ2V0QWxsIiwiaGFzIiwiZGVsZXRlIiwiY2xlYXIiLCJwb2x5ZmlsbGVkUmVzcG9uc2VDb29raWVzQ2xlYXIiLCJ0b1N0cmluZyIsImV4cHJlc3Npb24iLCJzeW5jSU9EZXYiLCJhcHBseSIsImFyZ3VtZW50cyIsImNhbGwiLCJ3cml0YWJsZSIsImxlbmd0aCIsImRlc2NyaWJlTmFtZUFyZyIsImFyZyIsInByb3hpZWRQcm9taXNlIiwiUHJveHkiLCJ0YXJnZXQiLCJwcm9wIiwicmVjZWl2ZXIiLCJ3YXJuRm9yU3luY0FjY2VzcyIsIm5hbWUiLCJwcmVyZW5kZXJQaGFzZSIsImNyZWF0ZUNvb2tpZXNBY2Nlc3NFcnJvciIsInByZWZpeCIsIm1hcCIsImMiLCJ2YWx1ZXMiLCJyZXR1cm5hYmxlIiwiY29va2llIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/request/cookies.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/request/draft-mode.js":
/*!*****************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/request/draft-mode.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   draftMode: () => (/* binding */ draftMode)\n/* harmony export */ });\n/* harmony import */ var _app_render_work_unit_async_storage_external__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../app-render/work-unit-async-storage.external */ \"(shared)/./node_modules/next/dist/esm/server/app-render/work-unit-async-storage.external.js\");\n/* harmony import */ var _app_render_work_async_storage_external__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../app-render/work-async-storage.external */ \"(shared)/./node_modules/next/dist/esm/server/app-render/work-async-storage.external.js\");\n/* harmony import */ var _app_render_dynamic_rendering__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../app-render/dynamic-rendering */ \"(middleware)/./node_modules/next/dist/esm/server/app-render/dynamic-rendering.js\");\n/* harmony import */ var _create_deduped_by_callsite_server_error_logger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../create-deduped-by-callsite-server-error-logger */ \"(middleware)/./node_modules/next/dist/esm/server/create-deduped-by-callsite-server-error-logger.js\");\n/* harmony import */ var _client_components_static_generation_bailout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../client/components/static-generation-bailout */ \"(middleware)/./node_modules/next/dist/esm/client/components/static-generation-bailout.js\");\n/* harmony import */ var _client_components_hooks_server_context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../client/components/hooks-server-context */ \"(middleware)/./node_modules/next/dist/esm/client/components/hooks-server-context.js\");\n/* harmony import */ var _shared_lib_invariant_error__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../shared/lib/invariant-error */ \"(middleware)/./node_modules/next/dist/esm/shared/lib/invariant-error.js\");\n/* harmony import */ var _web_spec_extension_adapters_reflect__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../web/spec-extension/adapters/reflect */ \"(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/adapters/reflect.js\");\n\n\n\n\n\n\n\n\n\nfunction draftMode() {\n    const callingExpression = 'draftMode';\n    const workStore = _app_render_work_async_storage_external__WEBPACK_IMPORTED_MODULE_1__.workAsyncStorage.getStore();\n    const workUnitStore = _app_render_work_unit_async_storage_external__WEBPACK_IMPORTED_MODULE_0__.workUnitAsyncStorage.getStore();\n    if (!workStore || !workUnitStore) {\n        (0,_app_render_work_unit_async_storage_external__WEBPACK_IMPORTED_MODULE_0__.throwForMissingRequestStore)(callingExpression);\n    }\n    switch(workUnitStore.type){\n        case 'prerender-runtime':\n            // TODO(runtime-ppr): does it make sense to delay this? normally it's always microtasky\n            return (0,_app_render_dynamic_rendering__WEBPACK_IMPORTED_MODULE_2__.delayUntilRuntimeStage)(workUnitStore, createOrGetCachedDraftMode(workUnitStore.draftMode, workStore));\n        case 'request':\n            return createOrGetCachedDraftMode(workUnitStore.draftMode, workStore);\n        case 'cache':\n        case 'private-cache':\n        case 'unstable-cache':\n            // Inside of `\"use cache\"` or `unstable_cache`, draft mode is available if\n            // the outmost work unit store is a request store (or a runtime prerender),\n            // and if draft mode is enabled.\n            const draftModeProvider = (0,_app_render_work_unit_async_storage_external__WEBPACK_IMPORTED_MODULE_0__.getDraftModeProviderForCacheScope)(workStore, workUnitStore);\n            if (draftModeProvider) {\n                return createOrGetCachedDraftMode(draftModeProvider, workStore);\n            }\n        // Otherwise, we fall through to providing an empty draft mode.\n        // eslint-disable-next-line no-fallthrough\n        case 'prerender':\n        case 'prerender-client':\n        case 'prerender-ppr':\n        case 'prerender-legacy':\n            // Return empty draft mode\n            return createOrGetCachedDraftMode(null, workStore);\n        default:\n            return workUnitStore;\n    }\n}\nfunction createOrGetCachedDraftMode(draftModeProvider, workStore) {\n    const cacheKey = draftModeProvider ?? NullDraftMode;\n    const cachedDraftMode = CachedDraftModes.get(cacheKey);\n    if (cachedDraftMode) {\n        return cachedDraftMode;\n    }\n    let promise;\n    if ( true && !(workStore == null ? void 0 : workStore.isPrefetchRequest)) {\n        const route = workStore == null ? void 0 : workStore.route;\n        if (false) {}\n        promise = createExoticDraftModeWithDevWarnings(draftModeProvider, route);\n    } else {\n        if (false) {}\n        promise = createExoticDraftMode(draftModeProvider);\n    }\n    CachedDraftModes.set(cacheKey, promise);\n    return promise;\n}\nconst NullDraftMode = {};\nconst CachedDraftModes = new WeakMap();\nfunction createExoticDraftMode(underlyingProvider) {\n    const instance = new DraftMode(underlyingProvider);\n    const promise = Promise.resolve(instance);\n    Object.defineProperty(promise, 'isEnabled', {\n        get () {\n            return instance.isEnabled;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    promise.enable = instance.enable.bind(instance);\n    promise.disable = instance.disable.bind(instance);\n    return promise;\n}\nfunction createExoticDraftModeWithDevWarnings(underlyingProvider, route) {\n    const instance = new DraftMode(underlyingProvider);\n    const promise = Promise.resolve(instance);\n    Object.defineProperty(promise, 'isEnabled', {\n        get () {\n            const expression = '`draftMode().isEnabled`';\n            syncIODev(route, expression);\n            return instance.isEnabled;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(promise, 'enable', {\n        value: function get() {\n            const expression = '`draftMode().enable()`';\n            syncIODev(route, expression);\n            return instance.enable.apply(instance, arguments);\n        }\n    });\n    Object.defineProperty(promise, 'disable', {\n        value: function get() {\n            const expression = '`draftMode().disable()`';\n            syncIODev(route, expression);\n            return instance.disable.apply(instance, arguments);\n        }\n    });\n    return promise;\n}\n// Similar to `createExoticDraftModeWithDevWarnings`, but just logging the sync\n// access without actually defining the draftMode properties on the promise.\nfunction createDraftModeWithDevWarnings(underlyingProvider, route) {\n    const instance = new DraftMode(underlyingProvider);\n    const promise = Promise.resolve(instance);\n    const proxiedPromise = new Proxy(promise, {\n        get (target, prop, receiver) {\n            switch(prop){\n                case 'isEnabled':\n                    warnForSyncAccess(route, `\\`draftMode().${prop}\\``);\n                    break;\n                case 'enable':\n                case 'disable':\n                    {\n                        warnForSyncAccess(route, `\\`draftMode().${prop}()\\``);\n                        break;\n                    }\n                default:\n                    {\n                    // We only warn for well-defined properties of the draftMode object.\n                    }\n            }\n            return _web_spec_extension_adapters_reflect__WEBPACK_IMPORTED_MODULE_7__.ReflectAdapter.get(target, prop, receiver);\n        }\n    });\n    return proxiedPromise;\n}\nclass DraftMode {\n    constructor(provider){\n        this._provider = provider;\n    }\n    get isEnabled() {\n        if (this._provider !== null) {\n            return this._provider.isEnabled;\n        }\n        return false;\n    }\n    enable() {\n        // We have a store we want to track dynamic data access to ensure we\n        // don't statically generate routes that manipulate draft mode.\n        trackDynamicDraftMode('draftMode().enable()', this.enable);\n        if (this._provider !== null) {\n            this._provider.enable();\n        }\n    }\n    disable() {\n        trackDynamicDraftMode('draftMode().disable()', this.disable);\n        if (this._provider !== null) {\n            this._provider.disable();\n        }\n    }\n}\nfunction syncIODev(route, expression) {\n    const workUnitStore = _app_render_work_unit_async_storage_external__WEBPACK_IMPORTED_MODULE_0__.workUnitAsyncStorage.getStore();\n    if (workUnitStore) {\n        switch(workUnitStore.type){\n            case 'request':\n                if (workUnitStore.prerenderPhase === true) {\n                    // When we're rendering dynamically in dev, we need to advance out of\n                    // the Prerender environment when we read Request data synchronously.\n                    (0,_app_render_dynamic_rendering__WEBPACK_IMPORTED_MODULE_2__.trackSynchronousRequestDataAccessInDev)(workUnitStore);\n                }\n                break;\n            case 'prerender':\n            case 'prerender-client':\n            case 'prerender-runtime':\n            case 'prerender-ppr':\n            case 'prerender-legacy':\n            case 'cache':\n            case 'private-cache':\n            case 'unstable-cache':\n                break;\n            default:\n                workUnitStore;\n        }\n    }\n    // In all cases we warn normally\n    warnForSyncAccess(route, expression);\n}\nconst warnForSyncAccess = (0,_create_deduped_by_callsite_server_error_logger__WEBPACK_IMPORTED_MODULE_3__.createDedupedByCallsiteServerErrorLoggerDev)(createDraftModeAccessError);\nfunction createDraftModeAccessError(route, expression) {\n    const prefix = route ? `Route \"${route}\" ` : 'This route ';\n    return Object.defineProperty(new Error(`${prefix}used ${expression}. ` + `\\`draftMode()\\` should be awaited before using its value. ` + `Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`), \"__NEXT_ERROR_CODE\", {\n        value: \"E377\",\n        enumerable: false,\n        configurable: true\n    });\n}\nfunction trackDynamicDraftMode(expression, constructorOpt) {\n    const workStore = _app_render_work_async_storage_external__WEBPACK_IMPORTED_MODULE_1__.workAsyncStorage.getStore();\n    const workUnitStore = _app_render_work_unit_async_storage_external__WEBPACK_IMPORTED_MODULE_0__.workUnitAsyncStorage.getStore();\n    if (workStore) {\n        // We have a store we want to track dynamic data access to ensure we\n        // don't statically generate routes that manipulate draft mode.\n        if ((workUnitStore == null ? void 0 : workUnitStore.phase) === 'after') {\n            throw Object.defineProperty(new Error(`Route ${workStore.route} used \"${expression}\" inside \\`after\\`. The enabled status of draftMode can be read inside \\`after\\` but you cannot enable or disable draftMode. See more info here: https://nextjs.org/docs/app/api-reference/functions/after`), \"__NEXT_ERROR_CODE\", {\n                value: \"E348\",\n                enumerable: false,\n                configurable: true\n            });\n        }\n        if (workStore.dynamicShouldError) {\n            throw Object.defineProperty(new _client_components_static_generation_bailout__WEBPACK_IMPORTED_MODULE_4__.StaticGenBailoutError(`Route ${workStore.route} with \\`dynamic = \"error\"\\` couldn't be rendered statically because it used \\`${expression}\\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`), \"__NEXT_ERROR_CODE\", {\n                value: \"E553\",\n                enumerable: false,\n                configurable: true\n            });\n        }\n        if (workUnitStore) {\n            switch(workUnitStore.type){\n                case 'cache':\n                case 'private-cache':\n                    {\n                        const error = Object.defineProperty(new Error(`Route ${workStore.route} used \"${expression}\" inside \"use cache\". The enabled status of draftMode can be read in caches but you must not enable or disable draftMode inside a cache. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`), \"__NEXT_ERROR_CODE\", {\n                            value: \"E246\",\n                            enumerable: false,\n                            configurable: true\n                        });\n                        Error.captureStackTrace(error, constructorOpt);\n                        workStore.invalidDynamicUsageError ??= error;\n                        throw error;\n                    }\n                case 'unstable-cache':\n                    throw Object.defineProperty(new Error(`Route ${workStore.route} used \"${expression}\" inside a function cached with \"unstable_cache(...)\". The enabled status of draftMode can be read in caches but you must not enable or disable draftMode inside a cache. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`), \"__NEXT_ERROR_CODE\", {\n                        value: \"E259\",\n                        enumerable: false,\n                        configurable: true\n                    });\n                case 'prerender':\n                case 'prerender-runtime':\n                    {\n                        const error = Object.defineProperty(new Error(`Route ${workStore.route} used ${expression} without first calling \\`await connection()\\`. See more info here: https://nextjs.org/docs/messages/next-prerender-sync-headers`), \"__NEXT_ERROR_CODE\", {\n                            value: \"E126\",\n                            enumerable: false,\n                            configurable: true\n                        });\n                        return (0,_app_render_dynamic_rendering__WEBPACK_IMPORTED_MODULE_2__.abortAndThrowOnSynchronousRequestDataAccess)(workStore.route, expression, error, workUnitStore);\n                    }\n                case 'prerender-client':\n                    const exportName = '`draftMode`';\n                    throw Object.defineProperty(new _shared_lib_invariant_error__WEBPACK_IMPORTED_MODULE_6__.InvariantError(`${exportName} must not be used within a client component. Next.js should be preventing ${exportName} from being included in client components statically, but did not in this case.`), \"__NEXT_ERROR_CODE\", {\n                        value: \"E693\",\n                        enumerable: false,\n                        configurable: true\n                    });\n                case 'prerender-ppr':\n                    return (0,_app_render_dynamic_rendering__WEBPACK_IMPORTED_MODULE_2__.postponeWithTracking)(workStore.route, expression, workUnitStore.dynamicTracking);\n                case 'prerender-legacy':\n                    workUnitStore.revalidate = 0;\n                    const err = Object.defineProperty(new _client_components_hooks_server_context__WEBPACK_IMPORTED_MODULE_5__.DynamicServerError(`Route ${workStore.route} couldn't be rendered statically because it used \\`${expression}\\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`), \"__NEXT_ERROR_CODE\", {\n                        value: \"E558\",\n                        enumerable: false,\n                        configurable: true\n                    });\n                    workStore.dynamicUsageDescription = expression;\n                    workStore.dynamicUsageStack = err.stack;\n                    throw err;\n                case 'request':\n                    (0,_app_render_dynamic_rendering__WEBPACK_IMPORTED_MODULE_2__.trackDynamicDataInDynamicRender)(workUnitStore);\n                    break;\n                default:\n                    workUnitStore;\n            }\n        }\n    }\n} //# sourceMappingURL=draft-mode.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL3JlcXVlc3QvZHJhZnQtbW9kZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFHdUQ7QUFPTDtBQUNtQztBQU83QztBQUN1RTtBQUN0QjtBQUNSO0FBQ2hCO0FBQ007QUF5QmhFLFNBQVNjO0lBQ2QsTUFBTUMsb0JBQW9CO0lBQzFCLE1BQU1DLFlBQVlkLHFGQUFnQkEsQ0FBQ2UsUUFBUTtJQUMzQyxNQUFNQyxnQkFBZ0JmLDhGQUFvQkEsQ0FBQ2MsUUFBUTtJQUVuRCxJQUFJLENBQUNELGFBQWEsQ0FBQ0UsZUFBZTtRQUNoQ2pCLHlHQUEyQkEsQ0FBQ2M7SUFDOUI7SUFFQSxPQUFRRyxjQUFjQyxJQUFJO1FBQ3hCLEtBQUs7WUFDSCx1RkFBdUY7WUFDdkYsT0FBT2QscUZBQXNCQSxDQUMzQmEsZUFDQUUsMkJBQTJCRixjQUFjSixTQUFTLEVBQUVFO1FBRXhELEtBQUs7WUFDSCxPQUFPSSwyQkFBMkJGLGNBQWNKLFNBQVMsRUFBRUU7UUFFN0QsS0FBSztRQUNMLEtBQUs7UUFDTCxLQUFLO1lBQ0gsMEVBQTBFO1lBQzFFLDJFQUEyRTtZQUMzRSxnQ0FBZ0M7WUFDaEMsTUFBTUssb0JBQW9CckIsK0dBQWlDQSxDQUN6RGdCLFdBQ0FFO1lBR0YsSUFBSUcsbUJBQW1CO2dCQUNyQixPQUFPRCwyQkFBMkJDLG1CQUFtQkw7WUFDdkQ7UUFFRiwrREFBK0Q7UUFDL0QsMENBQTBDO1FBQzFDLEtBQUs7UUFDTCxLQUFLO1FBQ0wsS0FBSztRQUNMLEtBQUs7WUFDSCwwQkFBMEI7WUFDMUIsT0FBT0ksMkJBQTJCLE1BQU1KO1FBRTFDO1lBQ0UsT0FBT0U7SUFDWDtBQUNGO0FBRUEsU0FBU0UsMkJBQ1BDLGlCQUEyQyxFQUMzQ0wsU0FBZ0M7SUFFaEMsTUFBTU0sV0FBV0QscUJBQXFCRTtJQUN0QyxNQUFNQyxrQkFBa0JDLGlCQUFpQkMsR0FBRyxDQUFDSjtJQUU3QyxJQUFJRSxpQkFBaUI7UUFDbkIsT0FBT0E7SUFDVDtJQUVBLElBQUlHO0lBRUosSUFBSUMsS0FBb0IsSUFBc0IsRUFBQ1osYUFBQUEsT0FBQUEsS0FBQUEsSUFBQUEsVUFBV2UsaUJBQUFBLEdBQW1CO1FBQzNFLE1BQU1DLFFBQVFoQixhQUFBQSxPQUFBQSxLQUFBQSxJQUFBQSxVQUFXZ0IsS0FBSztRQUU5QixJQUFJSixLQUFtQyxFQUFFLEVBRXhDO1FBRURELFVBQVVRLHFDQUFxQ2QsbUJBQW1CVztJQUNwRSxPQUFPO1FBQ0wsSUFBSUosS0FBbUMsRUFBRSxFQUV4QztRQUVERCxVQUFVWSxzQkFBc0JsQjtJQUNsQztJQUVBSSxpQkFBaUJlLEdBQUcsQ0FBQ2xCLFVBQVVLO0lBRS9CLE9BQU9BO0FBQ1Q7QUFHQSxNQUFNSixnQkFBZ0IsQ0FBQztBQUN2QixNQUFNRSxtQkFBbUIsSUFBSWdCO0FBRTdCLFNBQVNGLHNCQUNQRyxrQkFBNEM7SUFFNUMsTUFBTUMsV0FBVyxJQUFJTCxVQUFVSTtJQUMvQixNQUFNZixVQUFVUyxRQUFRQyxPQUFPLENBQUNNO0lBRWhDQyxPQUFPQyxjQUFjLENBQUNsQixTQUFTLGFBQWE7UUFDMUNEO1lBQ0UsT0FBT2lCLFNBQVNHLFNBQVM7UUFDM0I7UUFDQUMsWUFBWTtRQUNaQyxjQUFjO0lBQ2hCO0lBQ0VyQixRQUFnQnNCLE1BQU0sR0FBR04sU0FBU00sTUFBTSxDQUFDQyxJQUFJLENBQUNQO0lBQzlDaEIsUUFBZ0J3QixPQUFPLEdBQUdSLFNBQVNRLE9BQU8sQ0FBQ0QsSUFBSSxDQUFDUDtJQUVsRCxPQUFPaEI7QUFDVDtBQUVBLFNBQVNRLHFDQUNQTyxrQkFBNEMsRUFDNUNWLEtBQXlCO0lBRXpCLE1BQU1XLFdBQVcsSUFBSUwsVUFBVUk7SUFDL0IsTUFBTWYsVUFBVVMsUUFBUUMsT0FBTyxDQUFDTTtJQUVoQ0MsT0FBT0MsY0FBYyxDQUFDbEIsU0FBUyxhQUFhO1FBQzFDRDtZQUNFLE1BQU0wQixhQUFhO1lBQ25CQyxVQUFVckIsT0FBT29CO1lBQ2pCLE9BQU9ULFNBQVNHLFNBQVM7UUFDM0I7UUFDQUMsWUFBWTtRQUNaQyxjQUFjO0lBQ2hCO0lBRUFKLE9BQU9DLGNBQWMsQ0FBQ2xCLFNBQVMsVUFBVTtRQUN2QzJCLE9BQU8sU0FBUzVCO1lBQ2QsTUFBTTBCLGFBQWE7WUFDbkJDLFVBQVVyQixPQUFPb0I7WUFDakIsT0FBT1QsU0FBU00sTUFBTSxDQUFDTSxLQUFLLENBQUNaLFVBQVVhO1FBQ3pDO0lBQ0Y7SUFFQVosT0FBT0MsY0FBYyxDQUFDbEIsU0FBUyxXQUFXO1FBQ3hDMkIsT0FBTyxTQUFTNUI7WUFDZCxNQUFNMEIsYUFBYTtZQUNuQkMsVUFBVXJCLE9BQU9vQjtZQUNqQixPQUFPVCxTQUFTUSxPQUFPLENBQUNJLEtBQUssQ0FBQ1osVUFBVWE7UUFDMUM7SUFDRjtJQUVBLE9BQU83QjtBQUNUO0FBRUEsK0VBQStFO0FBQy9FLDRFQUE0RTtBQUM1RSxTQUFTTywrQkFDUFEsa0JBQTRDLEVBQzVDVixLQUF5QjtJQUV6QixNQUFNVyxXQUFXLElBQUlMLFVBQVVJO0lBQy9CLE1BQU1mLFVBQVVTLFFBQVFDLE9BQU8sQ0FBQ007SUFFaEMsTUFBTWMsaUJBQWlCLElBQUlDLE1BQU0vQixTQUFTO1FBQ3hDRCxLQUFJaUMsTUFBTSxFQUFFQyxJQUFJLEVBQUVDLFFBQVE7WUFDeEIsT0FBUUQ7Z0JBQ04sS0FBSztvQkFDSEUsa0JBQWtCOUIsT0FBTyxDQUFDLGNBQWMsRUFBRTRCLEtBQUssRUFBRSxDQUFDO29CQUNsRDtnQkFDRixLQUFLO2dCQUNMLEtBQUs7b0JBQVc7d0JBQ2RFLGtCQUFrQjlCLE9BQU8sQ0FBQyxjQUFjLEVBQUU0QixLQUFLLElBQUksQ0FBQzt3QkFDcEQ7b0JBQ0Y7Z0JBQ0E7b0JBQVM7b0JBQ1Asb0VBQW9FO29CQUN0RTtZQUNGO1lBRUEsT0FBTy9DLGdGQUFjQSxDQUFDYSxHQUFHLENBQUNpQyxRQUFRQyxNQUFNQztRQUMxQztJQUNGO0lBRUEsT0FBT0o7QUFDVDtBQUVBLE1BQU1uQjtJQU1KeUIsWUFBWUMsUUFBa0MsQ0FBRTtRQUM5QyxJQUFJLENBQUNDLFNBQVMsR0FBR0Q7SUFDbkI7SUFDQSxJQUFJbEIsWUFBWTtRQUNkLElBQUksSUFBSSxDQUFDbUIsU0FBUyxLQUFLLE1BQU07WUFDM0IsT0FBTyxJQUFJLENBQUNBLFNBQVMsQ0FBQ25CLFNBQVM7UUFDakM7UUFDQSxPQUFPO0lBQ1Q7SUFDT0csU0FBUztRQUNkLG9FQUFvRTtRQUNwRSwrREFBK0Q7UUFDL0RpQixzQkFBc0Isd0JBQXdCLElBQUksQ0FBQ2pCLE1BQU07UUFDekQsSUFBSSxJQUFJLENBQUNnQixTQUFTLEtBQUssTUFBTTtZQUMzQixJQUFJLENBQUNBLFNBQVMsQ0FBQ2hCLE1BQU07UUFDdkI7SUFDRjtJQUNPRSxVQUFVO1FBQ2ZlLHNCQUFzQix5QkFBeUIsSUFBSSxDQUFDZixPQUFPO1FBQzNELElBQUksSUFBSSxDQUFDYyxTQUFTLEtBQUssTUFBTTtZQUMzQixJQUFJLENBQUNBLFNBQVMsQ0FBQ2QsT0FBTztRQUN4QjtJQUNGO0FBQ0Y7QUFFQSxTQUFTRSxVQUFVckIsS0FBeUIsRUFBRW9CLFVBQWtCO0lBQzlELE1BQU1sQyxnQkFBZ0JmLDhGQUFvQkEsQ0FBQ2MsUUFBUTtJQUVuRCxJQUFJQyxlQUFlO1FBQ2pCLE9BQVFBLGNBQWNDLElBQUk7WUFDeEIsS0FBSztnQkFDSCxJQUFJRCxjQUFjaUQsY0FBYyxLQUFLLE1BQU07b0JBQ3pDLHFFQUFxRTtvQkFDckUscUVBQXFFO29CQUNyRTNELHFHQUFzQ0EsQ0FBQ1U7Z0JBQ3pDO2dCQUNBO1lBQ0YsS0FBSztZQUNMLEtBQUs7WUFDTCxLQUFLO1lBQ0wsS0FBSztZQUNMLEtBQUs7WUFDTCxLQUFLO1lBQ0wsS0FBSztZQUNMLEtBQUs7Z0JBQ0g7WUFDRjtnQkFDRUE7UUFDSjtJQUNGO0lBRUEsZ0NBQWdDO0lBQ2hDNEMsa0JBQWtCOUIsT0FBT29CO0FBQzNCO0FBRUEsTUFBTVUsb0JBQW9CckQsNEhBQTJDQSxDQUNuRTJEO0FBR0YsU0FBU0EsMkJBQ1BwQyxLQUF5QixFQUN6Qm9CLFVBQWtCO0lBRWxCLE1BQU1pQixTQUFTckMsUUFBUSxDQUFDLE9BQU8sRUFBRUEsTUFBTSxFQUFFLENBQUMsR0FBRztJQUM3QyxPQUFPLHFCQUlOLENBSk0sSUFBSXNDLE1BQ1QsR0FBR0QsT0FBTyxLQUFLLEVBQUVqQixXQUFXLEVBQUUsQ0FBQyxHQUM3QixDQUFDLDBEQUEwRCxDQUFDLEdBQzVELENBQUMsOERBQThELENBQUMsR0FIN0Q7ZUFBQTtvQkFBQTtzQkFBQTtJQUlQO0FBQ0Y7QUFFQSxTQUFTYyxzQkFBc0JkLFVBQWtCLEVBQUVtQixjQUF3QjtJQUN6RSxNQUFNdkQsWUFBWWQscUZBQWdCQSxDQUFDZSxRQUFRO0lBQzNDLE1BQU1DLGdCQUFnQmYsOEZBQW9CQSxDQUFDYyxRQUFRO0lBRW5ELElBQUlELFdBQVc7UUFDYixvRUFBb0U7UUFDcEUsK0RBQStEO1FBQy9ELElBQUlFLENBQUFBLGlCQUFBQSxPQUFBQSxLQUFBQSxJQUFBQSxjQUFlc0QsS0FBQUEsTUFBVSxTQUFTO1lBQ3BDLE1BQU0scUJBRUwsQ0FGSyxJQUFJRixNQUNSLENBQUMsTUFBTSxFQUFFdEQsVUFBVWdCLEtBQUssQ0FBQyxPQUFPLEVBQUVvQixXQUFXLDBNQUEwTSxDQUFDLEdBRHBQO3VCQUFBOzRCQUFBOzhCQUFBO1lBRU47UUFDRjtRQUVBLElBQUlwQyxVQUFVeUQsa0JBQWtCLEVBQUU7WUFDaEMsTUFBTSxxQkFFTCxDQUZLLElBQUkvRCwrRkFBcUJBLENBQzdCLENBQUMsTUFBTSxFQUFFTSxVQUFVZ0IsS0FBSyxDQUFDLDhFQUE4RSxFQUFFb0IsV0FBVyw0SEFBNEgsQ0FBQyxHQUQ3Tzt1QkFBQTs0QkFBQTs4QkFBQTtZQUVOO1FBQ0Y7UUFFQSxJQUFJbEMsZUFBZTtZQUNqQixPQUFRQSxjQUFjQyxJQUFJO2dCQUN4QixLQUFLO2dCQUNMLEtBQUs7b0JBQWlCO3dCQUNwQixNQUFNdUQsUUFBUSxxQkFFYixDQUZhLElBQUlKLE1BQ2hCLENBQUMsTUFBTSxFQUFFdEQsVUFBVWdCLEtBQUssQ0FBQyxPQUFPLEVBQUVvQixXQUFXLHVOQUF1TixDQUFDLEdBRHpQO21DQUFBO3dDQUFBOzBDQUFBO3dCQUVkO3dCQUNBa0IsTUFBTUssaUJBQWlCLENBQUNELE9BQU9IO3dCQUMvQnZELFVBQVU0RCx3QkFBd0IsS0FBS0Y7d0JBQ3ZDLE1BQU1BO29CQUNSO2dCQUNBLEtBQUs7b0JBQ0gsTUFBTSxxQkFFTCxDQUZLLElBQUlKLE1BQ1IsQ0FBQyxNQUFNLEVBQUV0RCxVQUFVZ0IsS0FBSyxDQUFDLE9BQU8sRUFBRW9CLFdBQVcsZ1FBQWdRLENBQUMsR0FEMVM7K0JBQUE7b0NBQUE7c0NBQUE7b0JBRU47Z0JBRUYsS0FBSztnQkFDTCxLQUFLO29CQUFxQjt3QkFDeEIsTUFBTXNCLFFBQVEscUJBRWIsQ0FGYSxJQUFJSixNQUNoQixDQUFDLE1BQU0sRUFBRXRELFVBQVVnQixLQUFLLENBQUMsTUFBTSxFQUFFb0IsV0FBVywrSEFBK0gsQ0FBQyxHQURoSzttQ0FBQTt3Q0FBQTswQ0FBQTt3QkFFZDt3QkFDQSxPQUFPaEQsMEdBQTJDQSxDQUNoRFksVUFBVWdCLEtBQUssRUFDZm9CLFlBQ0FzQixPQUNBeEQ7b0JBRUo7Z0JBQ0EsS0FBSztvQkFDSCxNQUFNMkQsYUFBYTtvQkFDbkIsTUFBTSxxQkFFTCxDQUZLLElBQUlqRSx1RUFBY0EsQ0FDdEIsR0FBR2lFLFdBQVcsMEVBQTBFLEVBQUVBLFdBQVcsK0VBQStFLENBQUMsR0FEakw7K0JBQUE7b0NBQUE7c0NBQUE7b0JBRU47Z0JBQ0YsS0FBSztvQkFDSCxPQUFPdkUsbUZBQW9CQSxDQUN6QlUsVUFBVWdCLEtBQUssRUFDZm9CLFlBQ0FsQyxjQUFjNEQsZUFBZTtnQkFFakMsS0FBSztvQkFDSDVELGNBQWM2RCxVQUFVLEdBQUc7b0JBRTNCLE1BQU1DLE1BQU0scUJBRVgsQ0FGVyxJQUFJckUsdUZBQWtCQSxDQUNoQyxDQUFDLE1BQU0sRUFBRUssVUFBVWdCLEtBQUssQ0FBQyxtREFBbUQsRUFBRW9CLFdBQVcsNkVBQTZFLENBQUMsR0FEN0o7K0JBQUE7b0NBQUE7c0NBQUE7b0JBRVo7b0JBQ0FwQyxVQUFVaUUsdUJBQXVCLEdBQUc3QjtvQkFDcENwQyxVQUFVa0UsaUJBQWlCLEdBQUdGLElBQUlHLEtBQUs7b0JBRXZDLE1BQU1IO2dCQUNSLEtBQUs7b0JBQ0h6RSw4RkFBK0JBLENBQUNXO29CQUNoQztnQkFDRjtvQkFDRUE7WUFDSjtRQUNGO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsiRDpcXHNyY1xcc2VydmVyXFxyZXF1ZXN0XFxkcmFmdC1tb2RlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGdldERyYWZ0TW9kZVByb3ZpZGVyRm9yQ2FjaGVTY29wZSxcbiAgdGhyb3dGb3JNaXNzaW5nUmVxdWVzdFN0b3JlLFxufSBmcm9tICcuLi9hcHAtcmVuZGVyL3dvcmstdW5pdC1hc3luYy1zdG9yYWdlLmV4dGVybmFsJ1xuXG5pbXBvcnQgdHlwZSB7IERyYWZ0TW9kZVByb3ZpZGVyIH0gZnJvbSAnLi4vYXN5bmMtc3RvcmFnZS9kcmFmdC1tb2RlLXByb3ZpZGVyJ1xuXG5pbXBvcnQge1xuICB3b3JrQXN5bmNTdG9yYWdlLFxuICB0eXBlIFdvcmtTdG9yZSxcbn0gZnJvbSAnLi4vYXBwLXJlbmRlci93b3JrLWFzeW5jLXN0b3JhZ2UuZXh0ZXJuYWwnXG5pbXBvcnQgeyB3b3JrVW5pdEFzeW5jU3RvcmFnZSB9IGZyb20gJy4uL2FwcC1yZW5kZXIvd29yay11bml0LWFzeW5jLXN0b3JhZ2UuZXh0ZXJuYWwnXG5pbXBvcnQge1xuICBhYm9ydEFuZFRocm93T25TeW5jaHJvbm91c1JlcXVlc3REYXRhQWNjZXNzLFxuICBkZWxheVVudGlsUnVudGltZVN0YWdlLFxuICBwb3N0cG9uZVdpdGhUcmFja2luZyxcbiAgdHJhY2tEeW5hbWljRGF0YUluRHluYW1pY1JlbmRlcixcbiAgdHJhY2tTeW5jaHJvbm91c1JlcXVlc3REYXRhQWNjZXNzSW5EZXYsXG59IGZyb20gJy4uL2FwcC1yZW5kZXIvZHluYW1pYy1yZW5kZXJpbmcnXG5pbXBvcnQgeyBjcmVhdGVEZWR1cGVkQnlDYWxsc2l0ZVNlcnZlckVycm9yTG9nZ2VyRGV2IH0gZnJvbSAnLi4vY3JlYXRlLWRlZHVwZWQtYnktY2FsbHNpdGUtc2VydmVyLWVycm9yLWxvZ2dlcidcbmltcG9ydCB7IFN0YXRpY0dlbkJhaWxvdXRFcnJvciB9IGZyb20gJy4uLy4uL2NsaWVudC9jb21wb25lbnRzL3N0YXRpYy1nZW5lcmF0aW9uLWJhaWxvdXQnXG5pbXBvcnQgeyBEeW5hbWljU2VydmVyRXJyb3IgfSBmcm9tICcuLi8uLi9jbGllbnQvY29tcG9uZW50cy9ob29rcy1zZXJ2ZXItY29udGV4dCdcbmltcG9ydCB7IEludmFyaWFudEVycm9yIH0gZnJvbSAnLi4vLi4vc2hhcmVkL2xpYi9pbnZhcmlhbnQtZXJyb3InXG5pbXBvcnQgeyBSZWZsZWN0QWRhcHRlciB9IGZyb20gJy4uL3dlYi9zcGVjLWV4dGVuc2lvbi9hZGFwdGVycy9yZWZsZWN0J1xuXG4vKipcbiAqIEluIHRoaXMgdmVyc2lvbiBvZiBOZXh0LmpzIGBkcmFmdE1vZGUoKWAgcmV0dXJucyBhIFByb21pc2UgaG93ZXZlciB5b3UgY2FuIHN0aWxsIHJlZmVyZW5jZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgdW5kZXJseWluZyBkcmFmdE1vZGUgb2JqZWN0XG4gKiBzeW5jaHJvbm91c2x5IHRvIGZhY2lsaXRhdGUgbWlncmF0aW9uLiBUaGUgYFVuc2FmZVVud3JhcHBlZERyYWZ0TW9kZWAgdHlwZSBpcyBhZGRlZCB0byB5b3VyIGNvZGUgYnkgYSBjb2RlbW9kIHRoYXQgYXR0ZW1wdHMgdG8gYXV0b21hdGljYWxseVxuICogdXBkYXRlcyBjYWxsc2l0ZXMgdG8gcmVmbGVjdCB0aGUgbmV3IFByb21pc2UgcmV0dXJuIHR5cGUuIFRoZXJlIGFyZSBzb21lIGNhc2VzIHdoZXJlIGBkcmFmdE1vZGUoKWAgY2Fubm90IGJlIGF1dG9tYXRpY2FsbHkgY29udmVydGVkLCBuYW1lbHlcbiAqIHdoZW4gaXQgaXMgdXNlZCBpbnNpZGUgYSBzeW5jaHJvbm91cyBmdW5jdGlvbiBhbmQgd2UgY2FuJ3QgYmUgc3VyZSB0aGUgZnVuY3Rpb24gY2FuIGJlIG1hZGUgYXN5bmMgYXV0b21hdGljYWxseS4gSW4gdGhlc2UgY2FzZXMgd2UgYWRkIGFuXG4gKiBleHBsaWNpdCB0eXBlIGNhc2UgdG8gYFVuc2FmZVVud3JhcHBlZERyYWZ0TW9kZWAgdG8gZW5hYmxlIHR5cGVzY3JpcHQgdG8gYWxsb3cgZm9yIHRoZSBzeW5jaHJvbm91cyB1c2FnZSBvbmx5IHdoZXJlIGl0IGlzIGFjdHVhbGx5IG5lY2Vzc2FyeS5cbiAqXG4gKiBZb3Ugc2hvdWxkIHNob3VsZCB1cGRhdGUgdGhlc2UgY2FsbHNpdGVzIHRvIGVpdGhlciBiZSBhc3luYyBmdW5jdGlvbnMgd2hlcmUgdGhlIGBkcmFmdE1vZGUoKWAgdmFsdWUgY2FuIGJlIGF3YWl0ZWQgb3IgeW91IHNob3VsZCBjYWxsIGBkcmFmdE1vZGUoKWBcbiAqIGZyb20gb3V0c2lkZSBhbmQgYXdhaXQgdGhlIHJldHVybiB2YWx1ZSBiZWZvcmUgcGFzc2luZyBpdCBpbnRvIHRoaXMgZnVuY3Rpb24uXG4gKlxuICogWW91IGNhbiBmaW5kIGluc3RhbmNlcyB0aGF0IHJlcXVpcmUgbWFudWFsIG1pZ3JhdGlvbiBieSBzZWFyY2hpbmcgZm9yIGBVbnNhZmVVbndyYXBwZWREcmFmdE1vZGVgIGluIHlvdXIgY29kZWJhc2Ugb3IgYnkgc2VhcmNoIGZvciBhIGNvbW1lbnQgdGhhdFxuICogc3RhcnRzIHdpdGggYEBuZXh0LWNvZGVtb2QtZXJyb3JgLlxuICpcbiAqIEluIGEgZnV0dXJlIHZlcnNpb24gb2YgTmV4dC5qcyBgZHJhZnRNb2RlKClgIHdpbGwgb25seSByZXR1cm4gYSBQcm9taXNlIGFuZCB5b3Ugd2lsbCBub3QgYmUgYWJsZSB0byBhY2Nlc3MgdGhlIHVuZGVybHlpbmcgZHJhZnRNb2RlIG9iamVjdCBkaXJlY3RseVxuICogd2l0aG91dCBhd2FpdGluZyB0aGUgcmV0dXJuIHZhbHVlIGZpcnN0LiBXaGVuIHRoaXMgY2hhbmdlIGhhcHBlbnMgdGhlIHR5cGUgYFVuc2FmZVVud3JhcHBlZERyYWZ0TW9kZWAgd2lsbCBiZSB1cGRhdGVkIHRvIHJlZmxlY3QgdGhhdCBpcyBpdCBubyBsb25nZXJcbiAqIHVzYWJsZS5cbiAqXG4gKiBUaGlzIHR5cGUgaXMgbWFya2VkIGRlcHJlY2F0ZWQgdG8gaGVscCBpZGVudGlmeSBpdCBhcyB0YXJnZXQgZm9yIHJlZmFjdG9yaW5nIGF3YXkuXG4gKlxuICogQGRlcHJlY2F0ZWRcbiAqL1xuZXhwb3J0IHR5cGUgVW5zYWZlVW53cmFwcGVkRHJhZnRNb2RlID0gRHJhZnRNb2RlXG5cbmV4cG9ydCBmdW5jdGlvbiBkcmFmdE1vZGUoKTogUHJvbWlzZTxEcmFmdE1vZGU+IHtcbiAgY29uc3QgY2FsbGluZ0V4cHJlc3Npb24gPSAnZHJhZnRNb2RlJ1xuICBjb25zdCB3b3JrU3RvcmUgPSB3b3JrQXN5bmNTdG9yYWdlLmdldFN0b3JlKClcbiAgY29uc3Qgd29ya1VuaXRTdG9yZSA9IHdvcmtVbml0QXN5bmNTdG9yYWdlLmdldFN0b3JlKClcblxuICBpZiAoIXdvcmtTdG9yZSB8fCAhd29ya1VuaXRTdG9yZSkge1xuICAgIHRocm93Rm9yTWlzc2luZ1JlcXVlc3RTdG9yZShjYWxsaW5nRXhwcmVzc2lvbilcbiAgfVxuXG4gIHN3aXRjaCAod29ya1VuaXRTdG9yZS50eXBlKSB7XG4gICAgY2FzZSAncHJlcmVuZGVyLXJ1bnRpbWUnOlxuICAgICAgLy8gVE9ETyhydW50aW1lLXBwcik6IGRvZXMgaXQgbWFrZSBzZW5zZSB0byBkZWxheSB0aGlzPyBub3JtYWxseSBpdCdzIGFsd2F5cyBtaWNyb3Rhc2t5XG4gICAgICByZXR1cm4gZGVsYXlVbnRpbFJ1bnRpbWVTdGFnZShcbiAgICAgICAgd29ya1VuaXRTdG9yZSxcbiAgICAgICAgY3JlYXRlT3JHZXRDYWNoZWREcmFmdE1vZGUod29ya1VuaXRTdG9yZS5kcmFmdE1vZGUsIHdvcmtTdG9yZSlcbiAgICAgIClcbiAgICBjYXNlICdyZXF1ZXN0JzpcbiAgICAgIHJldHVybiBjcmVhdGVPckdldENhY2hlZERyYWZ0TW9kZSh3b3JrVW5pdFN0b3JlLmRyYWZ0TW9kZSwgd29ya1N0b3JlKVxuXG4gICAgY2FzZSAnY2FjaGUnOlxuICAgIGNhc2UgJ3ByaXZhdGUtY2FjaGUnOlxuICAgIGNhc2UgJ3Vuc3RhYmxlLWNhY2hlJzpcbiAgICAgIC8vIEluc2lkZSBvZiBgXCJ1c2UgY2FjaGVcImAgb3IgYHVuc3RhYmxlX2NhY2hlYCwgZHJhZnQgbW9kZSBpcyBhdmFpbGFibGUgaWZcbiAgICAgIC8vIHRoZSBvdXRtb3N0IHdvcmsgdW5pdCBzdG9yZSBpcyBhIHJlcXVlc3Qgc3RvcmUgKG9yIGEgcnVudGltZSBwcmVyZW5kZXIpLFxuICAgICAgLy8gYW5kIGlmIGRyYWZ0IG1vZGUgaXMgZW5hYmxlZC5cbiAgICAgIGNvbnN0IGRyYWZ0TW9kZVByb3ZpZGVyID0gZ2V0RHJhZnRNb2RlUHJvdmlkZXJGb3JDYWNoZVNjb3BlKFxuICAgICAgICB3b3JrU3RvcmUsXG4gICAgICAgIHdvcmtVbml0U3RvcmVcbiAgICAgIClcblxuICAgICAgaWYgKGRyYWZ0TW9kZVByb3ZpZGVyKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVPckdldENhY2hlZERyYWZ0TW9kZShkcmFmdE1vZGVQcm92aWRlciwgd29ya1N0b3JlKVxuICAgICAgfVxuXG4gICAgLy8gT3RoZXJ3aXNlLCB3ZSBmYWxsIHRocm91Z2ggdG8gcHJvdmlkaW5nIGFuIGVtcHR5IGRyYWZ0IG1vZGUuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWZhbGx0aHJvdWdoXG4gICAgY2FzZSAncHJlcmVuZGVyJzpcbiAgICBjYXNlICdwcmVyZW5kZXItY2xpZW50JzpcbiAgICBjYXNlICdwcmVyZW5kZXItcHByJzpcbiAgICBjYXNlICdwcmVyZW5kZXItbGVnYWN5JzpcbiAgICAgIC8vIFJldHVybiBlbXB0eSBkcmFmdCBtb2RlXG4gICAgICByZXR1cm4gY3JlYXRlT3JHZXRDYWNoZWREcmFmdE1vZGUobnVsbCwgd29ya1N0b3JlKVxuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB3b3JrVW5pdFN0b3JlIHNhdGlzZmllcyBuZXZlclxuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZU9yR2V0Q2FjaGVkRHJhZnRNb2RlKFxuICBkcmFmdE1vZGVQcm92aWRlcjogRHJhZnRNb2RlUHJvdmlkZXIgfCBudWxsLFxuICB3b3JrU3RvcmU6IFdvcmtTdG9yZSB8IHVuZGVmaW5lZFxuKTogUHJvbWlzZTxEcmFmdE1vZGU+IHtcbiAgY29uc3QgY2FjaGVLZXkgPSBkcmFmdE1vZGVQcm92aWRlciA/PyBOdWxsRHJhZnRNb2RlXG4gIGNvbnN0IGNhY2hlZERyYWZ0TW9kZSA9IENhY2hlZERyYWZ0TW9kZXMuZ2V0KGNhY2hlS2V5KVxuXG4gIGlmIChjYWNoZWREcmFmdE1vZGUpIHtcbiAgICByZXR1cm4gY2FjaGVkRHJhZnRNb2RlXG4gIH1cblxuICBsZXQgcHJvbWlzZTogUHJvbWlzZTxEcmFmdE1vZGU+XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnICYmICF3b3JrU3RvcmU/LmlzUHJlZmV0Y2hSZXF1ZXN0KSB7XG4gICAgY29uc3Qgcm91dGUgPSB3b3JrU3RvcmU/LnJvdXRlXG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuX19ORVhUX0NBQ0hFX0NPTVBPTkVOVFMpIHtcbiAgICAgIHJldHVybiBjcmVhdGVEcmFmdE1vZGVXaXRoRGV2V2FybmluZ3MoZHJhZnRNb2RlUHJvdmlkZXIsIHJvdXRlKVxuICAgIH1cblxuICAgIHByb21pc2UgPSBjcmVhdGVFeG90aWNEcmFmdE1vZGVXaXRoRGV2V2FybmluZ3MoZHJhZnRNb2RlUHJvdmlkZXIsIHJvdXRlKVxuICB9IGVsc2Uge1xuICAgIGlmIChwcm9jZXNzLmVudi5fX05FWFRfQ0FDSEVfQ09NUE9ORU5UUykge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgRHJhZnRNb2RlKGRyYWZ0TW9kZVByb3ZpZGVyKSlcbiAgICB9XG5cbiAgICBwcm9taXNlID0gY3JlYXRlRXhvdGljRHJhZnRNb2RlKGRyYWZ0TW9kZVByb3ZpZGVyKVxuICB9XG5cbiAgQ2FjaGVkRHJhZnRNb2Rlcy5zZXQoY2FjaGVLZXksIHByb21pc2UpXG5cbiAgcmV0dXJuIHByb21pc2Vcbn1cblxuaW50ZXJmYWNlIENhY2hlTGlmZXRpbWUge31cbmNvbnN0IE51bGxEcmFmdE1vZGUgPSB7fVxuY29uc3QgQ2FjaGVkRHJhZnRNb2RlcyA9IG5ldyBXZWFrTWFwPENhY2hlTGlmZXRpbWUsIFByb21pc2U8RHJhZnRNb2RlPj4oKVxuXG5mdW5jdGlvbiBjcmVhdGVFeG90aWNEcmFmdE1vZGUoXG4gIHVuZGVybHlpbmdQcm92aWRlcjogbnVsbCB8IERyYWZ0TW9kZVByb3ZpZGVyXG4pOiBQcm9taXNlPERyYWZ0TW9kZT4ge1xuICBjb25zdCBpbnN0YW5jZSA9IG5ldyBEcmFmdE1vZGUodW5kZXJseWluZ1Byb3ZpZGVyKVxuICBjb25zdCBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKGluc3RhbmNlKVxuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9taXNlLCAnaXNFbmFibGVkJywge1xuICAgIGdldCgpIHtcbiAgICAgIHJldHVybiBpbnN0YW5jZS5pc0VuYWJsZWRcbiAgICB9LFxuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICB9KVxuICA7KHByb21pc2UgYXMgYW55KS5lbmFibGUgPSBpbnN0YW5jZS5lbmFibGUuYmluZChpbnN0YW5jZSlcbiAgOyhwcm9taXNlIGFzIGFueSkuZGlzYWJsZSA9IGluc3RhbmNlLmRpc2FibGUuYmluZChpbnN0YW5jZSlcblxuICByZXR1cm4gcHJvbWlzZVxufVxuXG5mdW5jdGlvbiBjcmVhdGVFeG90aWNEcmFmdE1vZGVXaXRoRGV2V2FybmluZ3MoXG4gIHVuZGVybHlpbmdQcm92aWRlcjogbnVsbCB8IERyYWZ0TW9kZVByb3ZpZGVyLFxuICByb3V0ZTogdW5kZWZpbmVkIHwgc3RyaW5nXG4pOiBQcm9taXNlPERyYWZ0TW9kZT4ge1xuICBjb25zdCBpbnN0YW5jZSA9IG5ldyBEcmFmdE1vZGUodW5kZXJseWluZ1Byb3ZpZGVyKVxuICBjb25zdCBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKGluc3RhbmNlKVxuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9taXNlLCAnaXNFbmFibGVkJywge1xuICAgIGdldCgpIHtcbiAgICAgIGNvbnN0IGV4cHJlc3Npb24gPSAnYGRyYWZ0TW9kZSgpLmlzRW5hYmxlZGAnXG4gICAgICBzeW5jSU9EZXYocm91dGUsIGV4cHJlc3Npb24pXG4gICAgICByZXR1cm4gaW5zdGFuY2UuaXNFbmFibGVkXG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgfSlcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvbWlzZSwgJ2VuYWJsZScsIHtcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgY29uc3QgZXhwcmVzc2lvbiA9ICdgZHJhZnRNb2RlKCkuZW5hYmxlKClgJ1xuICAgICAgc3luY0lPRGV2KHJvdXRlLCBleHByZXNzaW9uKVxuICAgICAgcmV0dXJuIGluc3RhbmNlLmVuYWJsZS5hcHBseShpbnN0YW5jZSwgYXJndW1lbnRzIGFzIGFueSlcbiAgICB9LFxuICB9KVxuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9taXNlLCAnZGlzYWJsZScsIHtcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgY29uc3QgZXhwcmVzc2lvbiA9ICdgZHJhZnRNb2RlKCkuZGlzYWJsZSgpYCdcbiAgICAgIHN5bmNJT0Rldihyb3V0ZSwgZXhwcmVzc2lvbilcbiAgICAgIHJldHVybiBpbnN0YW5jZS5kaXNhYmxlLmFwcGx5KGluc3RhbmNlLCBhcmd1bWVudHMgYXMgYW55KVxuICAgIH0sXG4gIH0pXG5cbiAgcmV0dXJuIHByb21pc2Vcbn1cblxuLy8gU2ltaWxhciB0byBgY3JlYXRlRXhvdGljRHJhZnRNb2RlV2l0aERldldhcm5pbmdzYCwgYnV0IGp1c3QgbG9nZ2luZyB0aGUgc3luY1xuLy8gYWNjZXNzIHdpdGhvdXQgYWN0dWFsbHkgZGVmaW5pbmcgdGhlIGRyYWZ0TW9kZSBwcm9wZXJ0aWVzIG9uIHRoZSBwcm9taXNlLlxuZnVuY3Rpb24gY3JlYXRlRHJhZnRNb2RlV2l0aERldldhcm5pbmdzKFxuICB1bmRlcmx5aW5nUHJvdmlkZXI6IG51bGwgfCBEcmFmdE1vZGVQcm92aWRlcixcbiAgcm91dGU6IHVuZGVmaW5lZCB8IHN0cmluZ1xuKTogUHJvbWlzZTxEcmFmdE1vZGU+IHtcbiAgY29uc3QgaW5zdGFuY2UgPSBuZXcgRHJhZnRNb2RlKHVuZGVybHlpbmdQcm92aWRlcilcbiAgY29uc3QgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShpbnN0YW5jZSlcblxuICBjb25zdCBwcm94aWVkUHJvbWlzZSA9IG5ldyBQcm94eShwcm9taXNlLCB7XG4gICAgZ2V0KHRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpIHtcbiAgICAgIHN3aXRjaCAocHJvcCkge1xuICAgICAgICBjYXNlICdpc0VuYWJsZWQnOlxuICAgICAgICAgIHdhcm5Gb3JTeW5jQWNjZXNzKHJvdXRlLCBgXFxgZHJhZnRNb2RlKCkuJHtwcm9wfVxcYGApXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnZW5hYmxlJzpcbiAgICAgICAgY2FzZSAnZGlzYWJsZSc6IHtcbiAgICAgICAgICB3YXJuRm9yU3luY0FjY2Vzcyhyb3V0ZSwgYFxcYGRyYWZ0TW9kZSgpLiR7cHJvcH0oKVxcYGApXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgLy8gV2Ugb25seSB3YXJuIGZvciB3ZWxsLWRlZmluZWQgcHJvcGVydGllcyBvZiB0aGUgZHJhZnRNb2RlIG9iamVjdC5cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gUmVmbGVjdEFkYXB0ZXIuZ2V0KHRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpXG4gICAgfSxcbiAgfSlcblxuICByZXR1cm4gcHJveGllZFByb21pc2Vcbn1cblxuY2xhc3MgRHJhZnRNb2RlIHtcbiAgLyoqXG4gICAqIEBpbnRlcm5hbCAtIHRoaXMgZGVjbGFyYXRpb24gaXMgc3RyaXBwZWQgdmlhIGB0c2MgLS1zdHJpcEludGVybmFsYFxuICAgKi9cbiAgcHJpdmF0ZSByZWFkb25seSBfcHJvdmlkZXI6IG51bGwgfCBEcmFmdE1vZGVQcm92aWRlclxuXG4gIGNvbnN0cnVjdG9yKHByb3ZpZGVyOiBudWxsIHwgRHJhZnRNb2RlUHJvdmlkZXIpIHtcbiAgICB0aGlzLl9wcm92aWRlciA9IHByb3ZpZGVyXG4gIH1cbiAgZ2V0IGlzRW5hYmxlZCgpIHtcbiAgICBpZiAodGhpcy5fcHJvdmlkZXIgIT09IG51bGwpIHtcbiAgICAgIHJldHVybiB0aGlzLl9wcm92aWRlci5pc0VuYWJsZWRcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbiAgcHVibGljIGVuYWJsZSgpIHtcbiAgICAvLyBXZSBoYXZlIGEgc3RvcmUgd2Ugd2FudCB0byB0cmFjayBkeW5hbWljIGRhdGEgYWNjZXNzIHRvIGVuc3VyZSB3ZVxuICAgIC8vIGRvbid0IHN0YXRpY2FsbHkgZ2VuZXJhdGUgcm91dGVzIHRoYXQgbWFuaXB1bGF0ZSBkcmFmdCBtb2RlLlxuICAgIHRyYWNrRHluYW1pY0RyYWZ0TW9kZSgnZHJhZnRNb2RlKCkuZW5hYmxlKCknLCB0aGlzLmVuYWJsZSlcbiAgICBpZiAodGhpcy5fcHJvdmlkZXIgIT09IG51bGwpIHtcbiAgICAgIHRoaXMuX3Byb3ZpZGVyLmVuYWJsZSgpXG4gICAgfVxuICB9XG4gIHB1YmxpYyBkaXNhYmxlKCkge1xuICAgIHRyYWNrRHluYW1pY0RyYWZ0TW9kZSgnZHJhZnRNb2RlKCkuZGlzYWJsZSgpJywgdGhpcy5kaXNhYmxlKVxuICAgIGlmICh0aGlzLl9wcm92aWRlciAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5fcHJvdmlkZXIuZGlzYWJsZSgpXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHN5bmNJT0Rldihyb3V0ZTogc3RyaW5nIHwgdW5kZWZpbmVkLCBleHByZXNzaW9uOiBzdHJpbmcpIHtcbiAgY29uc3Qgd29ya1VuaXRTdG9yZSA9IHdvcmtVbml0QXN5bmNTdG9yYWdlLmdldFN0b3JlKClcblxuICBpZiAod29ya1VuaXRTdG9yZSkge1xuICAgIHN3aXRjaCAod29ya1VuaXRTdG9yZS50eXBlKSB7XG4gICAgICBjYXNlICdyZXF1ZXN0JzpcbiAgICAgICAgaWYgKHdvcmtVbml0U3RvcmUucHJlcmVuZGVyUGhhc2UgPT09IHRydWUpIHtcbiAgICAgICAgICAvLyBXaGVuIHdlJ3JlIHJlbmRlcmluZyBkeW5hbWljYWxseSBpbiBkZXYsIHdlIG5lZWQgdG8gYWR2YW5jZSBvdXQgb2ZcbiAgICAgICAgICAvLyB0aGUgUHJlcmVuZGVyIGVudmlyb25tZW50IHdoZW4gd2UgcmVhZCBSZXF1ZXN0IGRhdGEgc3luY2hyb25vdXNseS5cbiAgICAgICAgICB0cmFja1N5bmNocm9ub3VzUmVxdWVzdERhdGFBY2Nlc3NJbkRldih3b3JrVW5pdFN0b3JlKVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdwcmVyZW5kZXInOlxuICAgICAgY2FzZSAncHJlcmVuZGVyLWNsaWVudCc6XG4gICAgICBjYXNlICdwcmVyZW5kZXItcnVudGltZSc6XG4gICAgICBjYXNlICdwcmVyZW5kZXItcHByJzpcbiAgICAgIGNhc2UgJ3ByZXJlbmRlci1sZWdhY3knOlxuICAgICAgY2FzZSAnY2FjaGUnOlxuICAgICAgY2FzZSAncHJpdmF0ZS1jYWNoZSc6XG4gICAgICBjYXNlICd1bnN0YWJsZS1jYWNoZSc6XG4gICAgICAgIGJyZWFrXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB3b3JrVW5pdFN0b3JlIHNhdGlzZmllcyBuZXZlclxuICAgIH1cbiAgfVxuXG4gIC8vIEluIGFsbCBjYXNlcyB3ZSB3YXJuIG5vcm1hbGx5XG4gIHdhcm5Gb3JTeW5jQWNjZXNzKHJvdXRlLCBleHByZXNzaW9uKVxufVxuXG5jb25zdCB3YXJuRm9yU3luY0FjY2VzcyA9IGNyZWF0ZURlZHVwZWRCeUNhbGxzaXRlU2VydmVyRXJyb3JMb2dnZXJEZXYoXG4gIGNyZWF0ZURyYWZ0TW9kZUFjY2Vzc0Vycm9yXG4pXG5cbmZ1bmN0aW9uIGNyZWF0ZURyYWZ0TW9kZUFjY2Vzc0Vycm9yKFxuICByb3V0ZTogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICBleHByZXNzaW9uOiBzdHJpbmdcbikge1xuICBjb25zdCBwcmVmaXggPSByb3V0ZSA/IGBSb3V0ZSBcIiR7cm91dGV9XCIgYCA6ICdUaGlzIHJvdXRlICdcbiAgcmV0dXJuIG5ldyBFcnJvcihcbiAgICBgJHtwcmVmaXh9dXNlZCAke2V4cHJlc3Npb259LiBgICtcbiAgICAgIGBcXGBkcmFmdE1vZGUoKVxcYCBzaG91bGQgYmUgYXdhaXRlZCBiZWZvcmUgdXNpbmcgaXRzIHZhbHVlLiBgICtcbiAgICAgIGBMZWFybiBtb3JlOiBodHRwczovL25leHRqcy5vcmcvZG9jcy9tZXNzYWdlcy9zeW5jLWR5bmFtaWMtYXBpc2BcbiAgKVxufVxuXG5mdW5jdGlvbiB0cmFja0R5bmFtaWNEcmFmdE1vZGUoZXhwcmVzc2lvbjogc3RyaW5nLCBjb25zdHJ1Y3Rvck9wdDogRnVuY3Rpb24pIHtcbiAgY29uc3Qgd29ya1N0b3JlID0gd29ya0FzeW5jU3RvcmFnZS5nZXRTdG9yZSgpXG4gIGNvbnN0IHdvcmtVbml0U3RvcmUgPSB3b3JrVW5pdEFzeW5jU3RvcmFnZS5nZXRTdG9yZSgpXG5cbiAgaWYgKHdvcmtTdG9yZSkge1xuICAgIC8vIFdlIGhhdmUgYSBzdG9yZSB3ZSB3YW50IHRvIHRyYWNrIGR5bmFtaWMgZGF0YSBhY2Nlc3MgdG8gZW5zdXJlIHdlXG4gICAgLy8gZG9uJ3Qgc3RhdGljYWxseSBnZW5lcmF0ZSByb3V0ZXMgdGhhdCBtYW5pcHVsYXRlIGRyYWZ0IG1vZGUuXG4gICAgaWYgKHdvcmtVbml0U3RvcmU/LnBoYXNlID09PSAnYWZ0ZXInKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBSb3V0ZSAke3dvcmtTdG9yZS5yb3V0ZX0gdXNlZCBcIiR7ZXhwcmVzc2lvbn1cIiBpbnNpZGUgXFxgYWZ0ZXJcXGAuIFRoZSBlbmFibGVkIHN0YXR1cyBvZiBkcmFmdE1vZGUgY2FuIGJlIHJlYWQgaW5zaWRlIFxcYGFmdGVyXFxgIGJ1dCB5b3UgY2Fubm90IGVuYWJsZSBvciBkaXNhYmxlIGRyYWZ0TW9kZS4gU2VlIG1vcmUgaW5mbyBoZXJlOiBodHRwczovL25leHRqcy5vcmcvZG9jcy9hcHAvYXBpLXJlZmVyZW5jZS9mdW5jdGlvbnMvYWZ0ZXJgXG4gICAgICApXG4gICAgfVxuXG4gICAgaWYgKHdvcmtTdG9yZS5keW5hbWljU2hvdWxkRXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBTdGF0aWNHZW5CYWlsb3V0RXJyb3IoXG4gICAgICAgIGBSb3V0ZSAke3dvcmtTdG9yZS5yb3V0ZX0gd2l0aCBcXGBkeW5hbWljID0gXCJlcnJvclwiXFxgIGNvdWxkbid0IGJlIHJlbmRlcmVkIHN0YXRpY2FsbHkgYmVjYXVzZSBpdCB1c2VkIFxcYCR7ZXhwcmVzc2lvbn1cXGAuIFNlZSBtb3JlIGluZm8gaGVyZTogaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvYXBwL2J1aWxkaW5nLXlvdXItYXBwbGljYXRpb24vcmVuZGVyaW5nL3N0YXRpYy1hbmQtZHluYW1pYyNkeW5hbWljLXJlbmRlcmluZ2BcbiAgICAgIClcbiAgICB9XG5cbiAgICBpZiAod29ya1VuaXRTdG9yZSkge1xuICAgICAgc3dpdGNoICh3b3JrVW5pdFN0b3JlLnR5cGUpIHtcbiAgICAgICAgY2FzZSAnY2FjaGUnOlxuICAgICAgICBjYXNlICdwcml2YXRlLWNhY2hlJzoge1xuICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKFxuICAgICAgICAgICAgYFJvdXRlICR7d29ya1N0b3JlLnJvdXRlfSB1c2VkIFwiJHtleHByZXNzaW9ufVwiIGluc2lkZSBcInVzZSBjYWNoZVwiLiBUaGUgZW5hYmxlZCBzdGF0dXMgb2YgZHJhZnRNb2RlIGNhbiBiZSByZWFkIGluIGNhY2hlcyBidXQgeW91IG11c3Qgbm90IGVuYWJsZSBvciBkaXNhYmxlIGRyYWZ0TW9kZSBpbnNpZGUgYSBjYWNoZS4gU2VlIG1vcmUgaW5mbyBoZXJlOiBodHRwczovL25leHRqcy5vcmcvZG9jcy9tZXNzYWdlcy9uZXh0LXJlcXVlc3QtaW4tdXNlLWNhY2hlYFxuICAgICAgICAgIClcbiAgICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZShlcnJvciwgY29uc3RydWN0b3JPcHQpXG4gICAgICAgICAgd29ya1N0b3JlLmludmFsaWREeW5hbWljVXNhZ2VFcnJvciA/Pz0gZXJyb3JcbiAgICAgICAgICB0aHJvdyBlcnJvclxuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ3Vuc3RhYmxlLWNhY2hlJzpcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICBgUm91dGUgJHt3b3JrU3RvcmUucm91dGV9IHVzZWQgXCIke2V4cHJlc3Npb259XCIgaW5zaWRlIGEgZnVuY3Rpb24gY2FjaGVkIHdpdGggXCJ1bnN0YWJsZV9jYWNoZSguLi4pXCIuIFRoZSBlbmFibGVkIHN0YXR1cyBvZiBkcmFmdE1vZGUgY2FuIGJlIHJlYWQgaW4gY2FjaGVzIGJ1dCB5b3UgbXVzdCBub3QgZW5hYmxlIG9yIGRpc2FibGUgZHJhZnRNb2RlIGluc2lkZSBhIGNhY2hlLiBTZWUgbW9yZSBpbmZvIGhlcmU6IGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL2FwcC9hcGktcmVmZXJlbmNlL2Z1bmN0aW9ucy91bnN0YWJsZV9jYWNoZWBcbiAgICAgICAgICApXG5cbiAgICAgICAgY2FzZSAncHJlcmVuZGVyJzpcbiAgICAgICAgY2FzZSAncHJlcmVuZGVyLXJ1bnRpbWUnOiB7XG4gICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgICAgICBgUm91dGUgJHt3b3JrU3RvcmUucm91dGV9IHVzZWQgJHtleHByZXNzaW9ufSB3aXRob3V0IGZpcnN0IGNhbGxpbmcgXFxgYXdhaXQgY29ubmVjdGlvbigpXFxgLiBTZWUgbW9yZSBpbmZvIGhlcmU6IGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL21lc3NhZ2VzL25leHQtcHJlcmVuZGVyLXN5bmMtaGVhZGVyc2BcbiAgICAgICAgICApXG4gICAgICAgICAgcmV0dXJuIGFib3J0QW5kVGhyb3dPblN5bmNocm9ub3VzUmVxdWVzdERhdGFBY2Nlc3MoXG4gICAgICAgICAgICB3b3JrU3RvcmUucm91dGUsXG4gICAgICAgICAgICBleHByZXNzaW9uLFxuICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICB3b3JrVW5pdFN0b3JlXG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ3ByZXJlbmRlci1jbGllbnQnOlxuICAgICAgICAgIGNvbnN0IGV4cG9ydE5hbWUgPSAnYGRyYWZ0TW9kZWAnXG4gICAgICAgICAgdGhyb3cgbmV3IEludmFyaWFudEVycm9yKFxuICAgICAgICAgICAgYCR7ZXhwb3J0TmFtZX0gbXVzdCBub3QgYmUgdXNlZCB3aXRoaW4gYSBjbGllbnQgY29tcG9uZW50LiBOZXh0LmpzIHNob3VsZCBiZSBwcmV2ZW50aW5nICR7ZXhwb3J0TmFtZX0gZnJvbSBiZWluZyBpbmNsdWRlZCBpbiBjbGllbnQgY29tcG9uZW50cyBzdGF0aWNhbGx5LCBidXQgZGlkIG5vdCBpbiB0aGlzIGNhc2UuYFxuICAgICAgICAgIClcbiAgICAgICAgY2FzZSAncHJlcmVuZGVyLXBwcic6XG4gICAgICAgICAgcmV0dXJuIHBvc3Rwb25lV2l0aFRyYWNraW5nKFxuICAgICAgICAgICAgd29ya1N0b3JlLnJvdXRlLFxuICAgICAgICAgICAgZXhwcmVzc2lvbixcbiAgICAgICAgICAgIHdvcmtVbml0U3RvcmUuZHluYW1pY1RyYWNraW5nXG4gICAgICAgICAgKVxuICAgICAgICBjYXNlICdwcmVyZW5kZXItbGVnYWN5JzpcbiAgICAgICAgICB3b3JrVW5pdFN0b3JlLnJldmFsaWRhdGUgPSAwXG5cbiAgICAgICAgICBjb25zdCBlcnIgPSBuZXcgRHluYW1pY1NlcnZlckVycm9yKFxuICAgICAgICAgICAgYFJvdXRlICR7d29ya1N0b3JlLnJvdXRlfSBjb3VsZG4ndCBiZSByZW5kZXJlZCBzdGF0aWNhbGx5IGJlY2F1c2UgaXQgdXNlZCBcXGAke2V4cHJlc3Npb259XFxgLiBTZWUgbW9yZSBpbmZvIGhlcmU6IGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL21lc3NhZ2VzL2R5bmFtaWMtc2VydmVyLWVycm9yYFxuICAgICAgICAgIClcbiAgICAgICAgICB3b3JrU3RvcmUuZHluYW1pY1VzYWdlRGVzY3JpcHRpb24gPSBleHByZXNzaW9uXG4gICAgICAgICAgd29ya1N0b3JlLmR5bmFtaWNVc2FnZVN0YWNrID0gZXJyLnN0YWNrXG5cbiAgICAgICAgICB0aHJvdyBlcnJcbiAgICAgICAgY2FzZSAncmVxdWVzdCc6XG4gICAgICAgICAgdHJhY2tEeW5hbWljRGF0YUluRHluYW1pY1JlbmRlcih3b3JrVW5pdFN0b3JlKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgd29ya1VuaXRTdG9yZSBzYXRpc2ZpZXMgbmV2ZXJcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJnZXREcmFmdE1vZGVQcm92aWRlckZvckNhY2hlU2NvcGUiLCJ0aHJvd0Zvck1pc3NpbmdSZXF1ZXN0U3RvcmUiLCJ3b3JrQXN5bmNTdG9yYWdlIiwid29ya1VuaXRBc3luY1N0b3JhZ2UiLCJhYm9ydEFuZFRocm93T25TeW5jaHJvbm91c1JlcXVlc3REYXRhQWNjZXNzIiwiZGVsYXlVbnRpbFJ1bnRpbWVTdGFnZSIsInBvc3Rwb25lV2l0aFRyYWNraW5nIiwidHJhY2tEeW5hbWljRGF0YUluRHluYW1pY1JlbmRlciIsInRyYWNrU3luY2hyb25vdXNSZXF1ZXN0RGF0YUFjY2Vzc0luRGV2IiwiY3JlYXRlRGVkdXBlZEJ5Q2FsbHNpdGVTZXJ2ZXJFcnJvckxvZ2dlckRldiIsIlN0YXRpY0dlbkJhaWxvdXRFcnJvciIsIkR5bmFtaWNTZXJ2ZXJFcnJvciIsIkludmFyaWFudEVycm9yIiwiUmVmbGVjdEFkYXB0ZXIiLCJkcmFmdE1vZGUiLCJjYWxsaW5nRXhwcmVzc2lvbiIsIndvcmtTdG9yZSIsImdldFN0b3JlIiwid29ya1VuaXRTdG9yZSIsInR5cGUiLCJjcmVhdGVPckdldENhY2hlZERyYWZ0TW9kZSIsImRyYWZ0TW9kZVByb3ZpZGVyIiwiY2FjaGVLZXkiLCJOdWxsRHJhZnRNb2RlIiwiY2FjaGVkRHJhZnRNb2RlIiwiQ2FjaGVkRHJhZnRNb2RlcyIsImdldCIsInByb21pc2UiLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJpc1ByZWZldGNoUmVxdWVzdCIsInJvdXRlIiwiX19ORVhUX0NBQ0hFX0NPTVBPTkVOVFMiLCJjcmVhdGVEcmFmdE1vZGVXaXRoRGV2V2FybmluZ3MiLCJjcmVhdGVFeG90aWNEcmFmdE1vZGVXaXRoRGV2V2FybmluZ3MiLCJQcm9taXNlIiwicmVzb2x2ZSIsIkRyYWZ0TW9kZSIsImNyZWF0ZUV4b3RpY0RyYWZ0TW9kZSIsInNldCIsIldlYWtNYXAiLCJ1bmRlcmx5aW5nUHJvdmlkZXIiLCJpbnN0YW5jZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiaXNFbmFibGVkIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsImVuYWJsZSIsImJpbmQiLCJkaXNhYmxlIiwiZXhwcmVzc2lvbiIsInN5bmNJT0RldiIsInZhbHVlIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJwcm94aWVkUHJvbWlzZSIsIlByb3h5IiwidGFyZ2V0IiwicHJvcCIsInJlY2VpdmVyIiwid2FybkZvclN5bmNBY2Nlc3MiLCJjb25zdHJ1Y3RvciIsInByb3ZpZGVyIiwiX3Byb3ZpZGVyIiwidHJhY2tEeW5hbWljRHJhZnRNb2RlIiwicHJlcmVuZGVyUGhhc2UiLCJjcmVhdGVEcmFmdE1vZGVBY2Nlc3NFcnJvciIsInByZWZpeCIsIkVycm9yIiwiY29uc3RydWN0b3JPcHQiLCJwaGFzZSIsImR5bmFtaWNTaG91bGRFcnJvciIsImVycm9yIiwiY2FwdHVyZVN0YWNrVHJhY2UiLCJpbnZhbGlkRHluYW1pY1VzYWdlRXJyb3IiLCJleHBvcnROYW1lIiwiZHluYW1pY1RyYWNraW5nIiwicmV2YWxpZGF0ZSIsImVyciIsImR5bmFtaWNVc2FnZURlc2NyaXB0aW9uIiwiZHluYW1pY1VzYWdlU3RhY2siLCJzdGFjayJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/request/draft-mode.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/request/headers.js":
/*!**************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/request/headers.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headers: () => (/* binding */ headers)\n/* harmony export */ });\n/* harmony import */ var _web_spec_extension_adapters_headers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../web/spec-extension/adapters/headers */ \"(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/adapters/headers.js\");\n/* harmony import */ var _app_render_work_async_storage_external__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../app-render/work-async-storage.external */ \"(shared)/./node_modules/next/dist/esm/server/app-render/work-async-storage.external.js\");\n/* harmony import */ var _app_render_work_unit_async_storage_external__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../app-render/work-unit-async-storage.external */ \"(shared)/./node_modules/next/dist/esm/server/app-render/work-unit-async-storage.external.js\");\n/* harmony import */ var _app_render_dynamic_rendering__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../app-render/dynamic-rendering */ \"(middleware)/./node_modules/next/dist/esm/server/app-render/dynamic-rendering.js\");\n/* harmony import */ var _client_components_static_generation_bailout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../client/components/static-generation-bailout */ \"(middleware)/./node_modules/next/dist/esm/client/components/static-generation-bailout.js\");\n/* harmony import */ var _dynamic_rendering_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../dynamic-rendering-utils */ \"(middleware)/./node_modules/next/dist/esm/server/dynamic-rendering-utils.js\");\n/* harmony import */ var _create_deduped_by_callsite_server_error_logger__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../create-deduped-by-callsite-server-error-logger */ \"(middleware)/./node_modules/next/dist/esm/server/create-deduped-by-callsite-server-error-logger.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./utils */ \"(middleware)/./node_modules/next/dist/esm/server/request/utils.js\");\n/* harmony import */ var _shared_lib_invariant_error__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../shared/lib/invariant-error */ \"(middleware)/./node_modules/next/dist/esm/shared/lib/invariant-error.js\");\n/* harmony import */ var _web_spec_extension_adapters_reflect__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../web/spec-extension/adapters/reflect */ \"(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/adapters/reflect.js\");\n\n\n\n\n\n\n\n\n\n\n/**\n * This function allows you to read the HTTP incoming request headers in\n * [Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components),\n * [Server Actions](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations),\n * [Route Handlers](https://nextjs.org/docs/app/building-your-application/routing/route-handlers) and\n * [Middleware](https://nextjs.org/docs/app/building-your-application/routing/middleware).\n *\n * Read more: [Next.js Docs: `headers`](https://nextjs.org/docs/app/api-reference/functions/headers)\n */ function headers() {\n    const callingExpression = 'headers';\n    const workStore = _app_render_work_async_storage_external__WEBPACK_IMPORTED_MODULE_1__.workAsyncStorage.getStore();\n    const workUnitStore = _app_render_work_unit_async_storage_external__WEBPACK_IMPORTED_MODULE_2__.workUnitAsyncStorage.getStore();\n    if (workStore) {\n        if (workUnitStore && workUnitStore.phase === 'after' && !(0,_utils__WEBPACK_IMPORTED_MODULE_7__.isRequestAPICallableInsideAfter)()) {\n            throw Object.defineProperty(new Error(`Route ${workStore.route} used \"headers\" inside \"after(...)\". This is not supported. If you need this data inside an \"after\" callback, use \"headers\" outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`), \"__NEXT_ERROR_CODE\", {\n                value: \"E367\",\n                enumerable: false,\n                configurable: true\n            });\n        }\n        if (workStore.forceStatic) {\n            // When using forceStatic we override all other logic and always just return an empty\n            // headers object without tracking\n            const underlyingHeaders = _web_spec_extension_adapters_headers__WEBPACK_IMPORTED_MODULE_0__.HeadersAdapter.seal(new Headers({}));\n            return makeUntrackedExoticHeaders(underlyingHeaders);\n        }\n        if (workUnitStore) {\n            switch(workUnitStore.type){\n                case 'cache':\n                    {\n                        const error = Object.defineProperty(new Error(`Route ${workStore.route} used \"headers\" inside \"use cache\". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \"headers\" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`), \"__NEXT_ERROR_CODE\", {\n                            value: \"E304\",\n                            enumerable: false,\n                            configurable: true\n                        });\n                        Error.captureStackTrace(error, headers);\n                        workStore.invalidDynamicUsageError ??= error;\n                        throw error;\n                    }\n                case 'private-cache':\n                    {\n                        const error = Object.defineProperty(new Error(`Route ${workStore.route} used \"headers\" inside \"use cache: private\". Accessing \"headers\" inside a private cache scope is not supported. If you need this data inside a cached function use \"headers\" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`), \"__NEXT_ERROR_CODE\", {\n                            value: \"E742\",\n                            enumerable: false,\n                            configurable: true\n                        });\n                        Error.captureStackTrace(error, headers);\n                        workStore.invalidDynamicUsageError ??= error;\n                        throw error;\n                    }\n                case 'unstable-cache':\n                    throw Object.defineProperty(new Error(`Route ${workStore.route} used \"headers\" inside a function cached with \"unstable_cache(...)\". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \"headers\" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`), \"__NEXT_ERROR_CODE\", {\n                        value: \"E127\",\n                        enumerable: false,\n                        configurable: true\n                    });\n                case 'prerender':\n                case 'prerender-client':\n                case 'prerender-runtime':\n                case 'prerender-ppr':\n                case 'prerender-legacy':\n                case 'request':\n                    break;\n                default:\n                    workUnitStore;\n            }\n        }\n        if (workStore.dynamicShouldError) {\n            throw Object.defineProperty(new _client_components_static_generation_bailout__WEBPACK_IMPORTED_MODULE_4__.StaticGenBailoutError(`Route ${workStore.route} with \\`dynamic = \"error\"\\` couldn't be rendered statically because it used \\`headers\\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`), \"__NEXT_ERROR_CODE\", {\n                value: \"E525\",\n                enumerable: false,\n                configurable: true\n            });\n        }\n        if (workUnitStore) {\n            switch(workUnitStore.type){\n                case 'prerender':\n                case 'prerender-runtime':\n                    return makeHangingHeaders(workStore, workUnitStore);\n                case 'prerender-client':\n                    const exportName = '`headers`';\n                    throw Object.defineProperty(new _shared_lib_invariant_error__WEBPACK_IMPORTED_MODULE_8__.InvariantError(`${exportName} must not be used within a client component. Next.js should be preventing ${exportName} from being included in client components statically, but did not in this case.`), \"__NEXT_ERROR_CODE\", {\n                        value: \"E693\",\n                        enumerable: false,\n                        configurable: true\n                    });\n                case 'prerender-ppr':\n                    // PPR Prerender (no cacheComponents)\n                    // We are prerendering with PPR. We need track dynamic access here eagerly\n                    // to keep continuity with how headers has worked in PPR without cacheComponents.\n                    // TODO consider switching the semantic to throw on property access instead\n                    return (0,_app_render_dynamic_rendering__WEBPACK_IMPORTED_MODULE_3__.postponeWithTracking)(workStore.route, callingExpression, workUnitStore.dynamicTracking);\n                case 'prerender-legacy':\n                    // Legacy Prerender\n                    // We are in a legacy static generation mode while prerendering\n                    // We track dynamic access here so we don't need to wrap the headers in\n                    // individual property access tracking.\n                    return (0,_app_render_dynamic_rendering__WEBPACK_IMPORTED_MODULE_3__.throwToInterruptStaticGeneration)(callingExpression, workStore, workUnitStore);\n                case 'request':\n                    (0,_app_render_dynamic_rendering__WEBPACK_IMPORTED_MODULE_3__.trackDynamicDataInDynamicRender)(workUnitStore);\n                    if (true) {\n                        // Semantically we only need the dev tracking when running in `next dev`\n                        // but since you would never use next dev with production NODE_ENV we use this\n                        // as a proxy so we can statically exclude this code from production builds.\n                        if (false) {}\n                        return makeUntrackedExoticHeadersWithDevWarnings(workUnitStore.headers, workStore == null ? void 0 : workStore.route);\n                    } else {}\n                    break;\n                default:\n                    workUnitStore;\n            }\n        }\n    }\n    // If we end up here, there was no work store or work unit store present.\n    (0,_app_render_work_unit_async_storage_external__WEBPACK_IMPORTED_MODULE_2__.throwForMissingRequestStore)(callingExpression);\n}\nconst CachedHeaders = new WeakMap();\nfunction makeHangingHeaders(workStore, prerenderStore) {\n    const cachedHeaders = CachedHeaders.get(prerenderStore);\n    if (cachedHeaders) {\n        return cachedHeaders;\n    }\n    const promise = (0,_dynamic_rendering_utils__WEBPACK_IMPORTED_MODULE_5__.makeHangingPromise)(prerenderStore.renderSignal, workStore.route, '`headers()`');\n    CachedHeaders.set(prerenderStore, promise);\n    return promise;\n}\nfunction makeUntrackedHeaders(underlyingHeaders) {\n    const cachedHeaders = CachedHeaders.get(underlyingHeaders);\n    if (cachedHeaders) {\n        return cachedHeaders;\n    }\n    const promise = Promise.resolve(underlyingHeaders);\n    CachedHeaders.set(underlyingHeaders, promise);\n    return promise;\n}\nfunction makeUntrackedExoticHeaders(underlyingHeaders) {\n    const cachedHeaders = CachedHeaders.get(underlyingHeaders);\n    if (cachedHeaders) {\n        return cachedHeaders;\n    }\n    const promise = Promise.resolve(underlyingHeaders);\n    CachedHeaders.set(underlyingHeaders, promise);\n    Object.defineProperties(promise, {\n        append: {\n            value: underlyingHeaders.append.bind(underlyingHeaders)\n        },\n        delete: {\n            value: underlyingHeaders.delete.bind(underlyingHeaders)\n        },\n        get: {\n            value: underlyingHeaders.get.bind(underlyingHeaders)\n        },\n        has: {\n            value: underlyingHeaders.has.bind(underlyingHeaders)\n        },\n        set: {\n            value: underlyingHeaders.set.bind(underlyingHeaders)\n        },\n        getSetCookie: {\n            value: underlyingHeaders.getSetCookie.bind(underlyingHeaders)\n        },\n        forEach: {\n            value: underlyingHeaders.forEach.bind(underlyingHeaders)\n        },\n        keys: {\n            value: underlyingHeaders.keys.bind(underlyingHeaders)\n        },\n        values: {\n            value: underlyingHeaders.values.bind(underlyingHeaders)\n        },\n        entries: {\n            value: underlyingHeaders.entries.bind(underlyingHeaders)\n        },\n        [Symbol.iterator]: {\n            value: underlyingHeaders[Symbol.iterator].bind(underlyingHeaders)\n        }\n    });\n    return promise;\n}\nfunction makeUntrackedExoticHeadersWithDevWarnings(underlyingHeaders, route) {\n    const cachedHeaders = CachedHeaders.get(underlyingHeaders);\n    if (cachedHeaders) {\n        return cachedHeaders;\n    }\n    const promise = (0,_dynamic_rendering_utils__WEBPACK_IMPORTED_MODULE_5__.makeDevtoolsIOAwarePromise)(underlyingHeaders);\n    CachedHeaders.set(underlyingHeaders, promise);\n    Object.defineProperties(promise, {\n        append: {\n            value: function append() {\n                const expression = `\\`headers().append(${describeNameArg(arguments[0])}, ...)\\``;\n                syncIODev(route, expression);\n                return underlyingHeaders.append.apply(underlyingHeaders, arguments);\n            }\n        },\n        delete: {\n            value: function _delete() {\n                const expression = `\\`headers().delete(${describeNameArg(arguments[0])})\\``;\n                syncIODev(route, expression);\n                return underlyingHeaders.delete.apply(underlyingHeaders, arguments);\n            }\n        },\n        get: {\n            value: function get() {\n                const expression = `\\`headers().get(${describeNameArg(arguments[0])})\\``;\n                syncIODev(route, expression);\n                return underlyingHeaders.get.apply(underlyingHeaders, arguments);\n            }\n        },\n        has: {\n            value: function has() {\n                const expression = `\\`headers().has(${describeNameArg(arguments[0])})\\``;\n                syncIODev(route, expression);\n                return underlyingHeaders.has.apply(underlyingHeaders, arguments);\n            }\n        },\n        set: {\n            value: function set() {\n                const expression = `\\`headers().set(${describeNameArg(arguments[0])}, ...)\\``;\n                syncIODev(route, expression);\n                return underlyingHeaders.set.apply(underlyingHeaders, arguments);\n            }\n        },\n        getSetCookie: {\n            value: function getSetCookie() {\n                const expression = '`headers().getSetCookie()`';\n                syncIODev(route, expression);\n                return underlyingHeaders.getSetCookie.apply(underlyingHeaders, arguments);\n            }\n        },\n        forEach: {\n            value: function forEach() {\n                const expression = '`headers().forEach(...)`';\n                syncIODev(route, expression);\n                return underlyingHeaders.forEach.apply(underlyingHeaders, arguments);\n            }\n        },\n        keys: {\n            value: function keys() {\n                const expression = '`headers().keys()`';\n                syncIODev(route, expression);\n                return underlyingHeaders.keys.apply(underlyingHeaders, arguments);\n            }\n        },\n        values: {\n            value: function values() {\n                const expression = '`headers().values()`';\n                syncIODev(route, expression);\n                return underlyingHeaders.values.apply(underlyingHeaders, arguments);\n            }\n        },\n        entries: {\n            value: function entries() {\n                const expression = '`headers().entries()`';\n                syncIODev(route, expression);\n                return underlyingHeaders.entries.apply(underlyingHeaders, arguments);\n            }\n        },\n        [Symbol.iterator]: {\n            value: function() {\n                const expression = '`...headers()` or similar iteration';\n                syncIODev(route, expression);\n                return underlyingHeaders[Symbol.iterator].apply(underlyingHeaders, arguments);\n            }\n        }\n    });\n    return promise;\n}\n// Similar to `makeUntrackedExoticHeadersWithDevWarnings`, but just logging the\n// sync access without actually defining the headers properties on the promise.\nfunction makeUntrackedHeadersWithDevWarnings(underlyingHeaders, route) {\n    const cachedHeaders = CachedHeaders.get(underlyingHeaders);\n    if (cachedHeaders) {\n        return cachedHeaders;\n    }\n    const promise = (0,_dynamic_rendering_utils__WEBPACK_IMPORTED_MODULE_5__.makeDevtoolsIOAwarePromise)(underlyingHeaders);\n    const proxiedPromise = new Proxy(promise, {\n        get (target, prop, receiver) {\n            switch(prop){\n                case Symbol.iterator:\n                    {\n                        warnForSyncAccess(route, '`...headers()` or similar iteration');\n                        break;\n                    }\n                case 'append':\n                case 'delete':\n                case 'get':\n                case 'has':\n                case 'set':\n                case 'getSetCookie':\n                case 'forEach':\n                case 'keys':\n                case 'values':\n                case 'entries':\n                    {\n                        warnForSyncAccess(route, `\\`headers().${prop}\\``);\n                        break;\n                    }\n                default:\n                    {\n                    // We only warn for well-defined properties of the headers object.\n                    }\n            }\n            return _web_spec_extension_adapters_reflect__WEBPACK_IMPORTED_MODULE_9__.ReflectAdapter.get(target, prop, receiver);\n        }\n    });\n    CachedHeaders.set(underlyingHeaders, proxiedPromise);\n    return proxiedPromise;\n}\nfunction describeNameArg(arg) {\n    return typeof arg === 'string' ? `'${arg}'` : '...';\n}\nfunction syncIODev(route, expression) {\n    const workUnitStore = _app_render_work_unit_async_storage_external__WEBPACK_IMPORTED_MODULE_2__.workUnitAsyncStorage.getStore();\n    if (workUnitStore) {\n        switch(workUnitStore.type){\n            case 'request':\n                if (workUnitStore.prerenderPhase === true) {\n                    // When we're rendering dynamically in dev, we need to advance out of\n                    // the Prerender environment when we read Request data synchronously.\n                    (0,_app_render_dynamic_rendering__WEBPACK_IMPORTED_MODULE_3__.trackSynchronousRequestDataAccessInDev)(workUnitStore);\n                }\n                break;\n            case 'prerender':\n            case 'prerender-client':\n            case 'prerender-runtime':\n            case 'prerender-ppr':\n            case 'prerender-legacy':\n            case 'cache':\n            case 'private-cache':\n            case 'unstable-cache':\n                break;\n            default:\n                workUnitStore;\n        }\n    }\n    // In all cases we warn normally\n    warnForSyncAccess(route, expression);\n}\nconst warnForSyncAccess = (0,_create_deduped_by_callsite_server_error_logger__WEBPACK_IMPORTED_MODULE_6__.createDedupedByCallsiteServerErrorLoggerDev)(createHeadersAccessError);\nfunction createHeadersAccessError(route, expression) {\n    const prefix = route ? `Route \"${route}\" ` : 'This route ';\n    return Object.defineProperty(new Error(`${prefix}used ${expression}. ` + `\\`headers()\\` should be awaited before using its value. ` + `Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`), \"__NEXT_ERROR_CODE\", {\n        value: \"E277\",\n        enumerable: false,\n        configurable: true\n    });\n} //# sourceMappingURL=headers.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL3JlcXVlc3QvaGVhZGVycy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUcrQztBQUlHO0FBS0s7QUFNZjtBQUNpRDtBQUl0RDtBQUM0RTtBQUN0RDtBQUNRO0FBQ007QUF5QnZFOzs7Ozs7OztDQVFDLEdBQ00sU0FBU2U7SUFDZCxNQUFNQyxvQkFBb0I7SUFDMUIsTUFBTUMsWUFBWWhCLHFGQUFnQkEsQ0FBQ2lCLFFBQVE7SUFDM0MsTUFBTUMsZ0JBQWdCaEIsOEZBQW9CQSxDQUFDZSxRQUFRO0lBRW5ELElBQUlELFdBQVc7UUFDYixJQUNFRSxpQkFDQUEsY0FBY0MsS0FBSyxLQUFLLFdBQ3hCLENBQUNSLHVFQUErQkEsSUFDaEM7WUFDQSxNQUFNLHFCQUVMLENBRkssSUFBSVMsTUFDUixDQUFDLE1BQU0sRUFBRUosVUFBVUssS0FBSyxDQUFDLHlPQUF5TyxDQUFDLEdBRC9QO3VCQUFBOzRCQUFBOzhCQUFBO1lBRU47UUFDRjtRQUVBLElBQUlMLFVBQVVNLFdBQVcsRUFBRTtZQUN6QixxRkFBcUY7WUFDckYsa0NBQWtDO1lBQ2xDLE1BQU1DLG9CQUFvQnhCLGdGQUFjQSxDQUFDeUIsSUFBSSxDQUFDLElBQUlDLFFBQVEsQ0FBQztZQUMzRCxPQUFPQywyQkFBMkJIO1FBQ3BDO1FBRUEsSUFBSUwsZUFBZTtZQUNqQixPQUFRQSxjQUFjUyxJQUFJO2dCQUN4QixLQUFLO29CQUFTO3dCQUNaLE1BQU1DLFFBQVEscUJBRWIsQ0FGYSxJQUFJUixNQUNoQixDQUFDLE1BQU0sRUFBRUosVUFBVUssS0FBSyxDQUFDLDBVQUEwVSxDQUFDLEdBRHhWO21DQUFBO3dDQUFBOzBDQUFBO3dCQUVkO3dCQUNBRCxNQUFNUyxpQkFBaUIsQ0FBQ0QsT0FBT2Q7d0JBQy9CRSxVQUFVYyx3QkFBd0IsS0FBS0Y7d0JBQ3ZDLE1BQU1BO29CQUNSO2dCQUNBLEtBQUs7b0JBQWlCO3dCQUNwQixNQUFNQSxRQUFRLHFCQUViLENBRmEsSUFBSVIsTUFDaEIsQ0FBQyxNQUFNLEVBQUVKLFVBQVVLLEtBQUssQ0FBQyxnVkFBZ1YsQ0FBQyxHQUQ5VjttQ0FBQTt3Q0FBQTswQ0FBQTt3QkFFZDt3QkFDQUQsTUFBTVMsaUJBQWlCLENBQUNELE9BQU9kO3dCQUMvQkUsVUFBVWMsd0JBQXdCLEtBQUtGO3dCQUN2QyxNQUFNQTtvQkFDUjtnQkFDQSxLQUFLO29CQUNILE1BQU0scUJBRUwsQ0FGSyxJQUFJUixNQUNSLENBQUMsTUFBTSxFQUFFSixVQUFVSyxLQUFLLENBQUMsbVhBQW1YLENBQUMsR0FEelk7K0JBQUE7b0NBQUE7c0NBQUE7b0JBRU47Z0JBQ0YsS0FBSztnQkFDTCxLQUFLO2dCQUNMLEtBQUs7Z0JBQ0wsS0FBSztnQkFDTCxLQUFLO2dCQUNMLEtBQUs7b0JBQ0g7Z0JBQ0Y7b0JBQ0VIO1lBQ0o7UUFDRjtRQUVBLElBQUlGLFVBQVVlLGtCQUFrQixFQUFFO1lBQ2hDLE1BQU0scUJBRUwsQ0FGSyxJQUFJeEIsK0ZBQXFCQSxDQUM3QixDQUFDLE1BQU0sRUFBRVMsVUFBVUssS0FBSyxDQUFDLGlOQUFpTixDQUFDLEdBRHZPO3VCQUFBOzRCQUFBOzhCQUFBO1lBRU47UUFDRjtRQUVBLElBQUlILGVBQWU7WUFDakIsT0FBUUEsY0FBY1MsSUFBSTtnQkFDeEIsS0FBSztnQkFDTCxLQUFLO29CQUNILE9BQU9LLG1CQUFtQmhCLFdBQVdFO2dCQUN2QyxLQUFLO29CQUNILE1BQU1lLGFBQWE7b0JBQ25CLE1BQU0scUJBRUwsQ0FGSyxJQUFJckIsdUVBQWNBLENBQ3RCLEdBQUdxQixXQUFXLDBFQUEwRSxFQUFFQSxXQUFXLCtFQUErRSxDQUFDLEdBRGpMOytCQUFBO29DQUFBO3NDQUFBO29CQUVOO2dCQUNGLEtBQUs7b0JBQ0gscUNBQXFDO29CQUNyQywwRUFBMEU7b0JBQzFFLGlGQUFpRjtvQkFDakYsMkVBQTJFO29CQUMzRSxPQUFPOUIsbUZBQW9CQSxDQUN6QmEsVUFBVUssS0FBSyxFQUNmTixtQkFDQUcsY0FBY2dCLGVBQWU7Z0JBRWpDLEtBQUs7b0JBQ0gsbUJBQW1CO29CQUNuQiwrREFBK0Q7b0JBQy9ELHVFQUF1RTtvQkFDdkUsdUNBQXVDO29CQUN2QyxPQUFPOUIsK0ZBQWdDQSxDQUNyQ1csbUJBQ0FDLFdBQ0FFO2dCQUVKLEtBQUs7b0JBQ0hiLDhGQUErQkEsQ0FBQ2E7b0JBRWhDLElBQUlpQixJQUFvQixFQUFvQjt3QkFDMUMsd0VBQXdFO3dCQUN4RSw4RUFBOEU7d0JBQzlFLDRFQUE0RTt3QkFDNUUsSUFBSUEsS0FBbUMsRUFBRSxFQUt4Qzt3QkFFRCxPQUFPSywwQ0FDTHRCLGNBQWNKLE9BQU8sRUFDckJFLGFBQUFBLE9BQUFBLEtBQUFBLElBQUFBLFVBQVdLLEtBQUs7b0JBRXBCLE9BQU8sRUFNTjtvQkFDRDtnQkFDRjtvQkFDRUg7WUFDSjtRQUNGO0lBQ0Y7SUFFQSx5RUFBeUU7SUFDekVqQix5R0FBMkJBLENBQUNjO0FBQzlCO0FBR0EsTUFBTTJCLGdCQUFnQixJQUFJQztBQUUxQixTQUFTWCxtQkFDUGhCLFNBQW9CLEVBQ3BCNEIsY0FBb0M7SUFFcEMsTUFBTUMsZ0JBQWdCSCxjQUFjSSxHQUFHLENBQUNGO0lBQ3hDLElBQUlDLGVBQWU7UUFDakIsT0FBT0E7SUFDVDtJQUVBLE1BQU1FLFVBQVV0Qyw0RUFBa0JBLENBQ2hDbUMsZUFBZUksWUFBWSxFQUMzQmhDLFVBQVVLLEtBQUssRUFDZjtJQUVGcUIsY0FBY08sR0FBRyxDQUFDTCxnQkFBZ0JHO0lBRWxDLE9BQU9BO0FBQ1Q7QUFFQSxTQUFTTixxQkFDUGxCLGlCQUFrQztJQUVsQyxNQUFNc0IsZ0JBQWdCSCxjQUFjSSxHQUFHLENBQUN2QjtJQUN4QyxJQUFJc0IsZUFBZTtRQUNqQixPQUFPQTtJQUNUO0lBRUEsTUFBTUUsVUFBVUcsUUFBUUMsT0FBTyxDQUFDNUI7SUFDaENtQixjQUFjTyxHQUFHLENBQUMxQixtQkFBbUJ3QjtJQUVyQyxPQUFPQTtBQUNUO0FBRUEsU0FBU3JCLDJCQUNQSCxpQkFBa0M7SUFFbEMsTUFBTXNCLGdCQUFnQkgsY0FBY0ksR0FBRyxDQUFDdkI7SUFDeEMsSUFBSXNCLGVBQWU7UUFDakIsT0FBT0E7SUFDVDtJQUVBLE1BQU1FLFVBQVVHLFFBQVFDLE9BQU8sQ0FBQzVCO0lBQ2hDbUIsY0FBY08sR0FBRyxDQUFDMUIsbUJBQW1Cd0I7SUFFckNLLE9BQU9DLGdCQUFnQixDQUFDTixTQUFTO1FBQy9CTyxRQUFRO1lBQ05DLE9BQU9oQyxrQkFBa0IrQixNQUFNLENBQUNFLElBQUksQ0FBQ2pDO1FBQ3ZDO1FBQ0FrQyxRQUFRO1lBQ05GLE9BQU9oQyxrQkFBa0JrQyxNQUFNLENBQUNELElBQUksQ0FBQ2pDO1FBQ3ZDO1FBQ0F1QixLQUFLO1lBQ0hTLE9BQU9oQyxrQkFBa0J1QixHQUFHLENBQUNVLElBQUksQ0FBQ2pDO1FBQ3BDO1FBQ0FtQyxLQUFLO1lBQ0hILE9BQU9oQyxrQkFBa0JtQyxHQUFHLENBQUNGLElBQUksQ0FBQ2pDO1FBQ3BDO1FBQ0EwQixLQUFLO1lBQ0hNLE9BQU9oQyxrQkFBa0IwQixHQUFHLENBQUNPLElBQUksQ0FBQ2pDO1FBQ3BDO1FBQ0FvQyxjQUFjO1lBQ1pKLE9BQU9oQyxrQkFBa0JvQyxZQUFZLENBQUNILElBQUksQ0FBQ2pDO1FBQzdDO1FBQ0FxQyxTQUFTO1lBQ1BMLE9BQU9oQyxrQkFBa0JxQyxPQUFPLENBQUNKLElBQUksQ0FBQ2pDO1FBQ3hDO1FBQ0FzQyxNQUFNO1lBQ0pOLE9BQU9oQyxrQkFBa0JzQyxJQUFJLENBQUNMLElBQUksQ0FBQ2pDO1FBQ3JDO1FBQ0F1QyxRQUFRO1lBQ05QLE9BQU9oQyxrQkFBa0J1QyxNQUFNLENBQUNOLElBQUksQ0FBQ2pDO1FBQ3ZDO1FBQ0F3QyxTQUFTO1lBQ1BSLE9BQU9oQyxrQkFBa0J3QyxPQUFPLENBQUNQLElBQUksQ0FBQ2pDO1FBQ3hDO1FBQ0EsQ0FBQ3lDLE9BQU9DLFFBQVEsQ0FBQyxFQUFFO1lBQ2pCVixPQUFPaEMsaUJBQWlCLENBQUN5QyxPQUFPQyxRQUFRLENBQUMsQ0FBQ1QsSUFBSSxDQUFDakM7UUFDakQ7SUFDRjtJQUVBLE9BQU93QjtBQUNUO0FBRUEsU0FBU1AsMENBQ1BqQixpQkFBa0MsRUFDbENGLEtBQWM7SUFFZCxNQUFNd0IsZ0JBQWdCSCxjQUFjSSxHQUFHLENBQUN2QjtJQUN4QyxJQUFJc0IsZUFBZTtRQUNqQixPQUFPQTtJQUNUO0lBRUEsTUFBTUUsVUFBVXZDLG9GQUEwQkEsQ0FBQ2U7SUFFM0NtQixjQUFjTyxHQUFHLENBQUMxQixtQkFBbUJ3QjtJQUVyQ0ssT0FBT0MsZ0JBQWdCLENBQUNOLFNBQVM7UUFDL0JPLFFBQVE7WUFDTkMsT0FBTyxTQUFTRDtnQkFDZCxNQUFNWSxhQUFhLENBQUMsbUJBQW1CLEVBQUVDLGdCQUFnQkMsU0FBUyxDQUFDLEVBQUUsRUFBRSxRQUFRLENBQUM7Z0JBQ2hGQyxVQUFVaEQsT0FBTzZDO2dCQUNqQixPQUFPM0Msa0JBQWtCK0IsTUFBTSxDQUFDZ0IsS0FBSyxDQUNuQy9DLG1CQUNBNkM7WUFFSjtRQUNGO1FBQ0FYLFFBQVE7WUFDTkYsT0FBTyxTQUFTZ0I7Z0JBQ2QsTUFBTUwsYUFBYSxDQUFDLG1CQUFtQixFQUFFQyxnQkFBZ0JDLFNBQVMsQ0FBQyxFQUFFLEVBQUUsR0FBRyxDQUFDO2dCQUMzRUMsVUFBVWhELE9BQU82QztnQkFDakIsT0FBTzNDLGtCQUFrQmtDLE1BQU0sQ0FBQ2EsS0FBSyxDQUNuQy9DLG1CQUNBNkM7WUFFSjtRQUNGO1FBQ0F0QixLQUFLO1lBQ0hTLE9BQU8sU0FBU1Q7Z0JBQ2QsTUFBTW9CLGFBQWEsQ0FBQyxnQkFBZ0IsRUFBRUMsZ0JBQWdCQyxTQUFTLENBQUMsRUFBRSxFQUFFLEdBQUcsQ0FBQztnQkFDeEVDLFVBQVVoRCxPQUFPNkM7Z0JBQ2pCLE9BQU8zQyxrQkFBa0J1QixHQUFHLENBQUN3QixLQUFLLENBQUMvQyxtQkFBbUI2QztZQUN4RDtRQUNGO1FBQ0FWLEtBQUs7WUFDSEgsT0FBTyxTQUFTRztnQkFDZCxNQUFNUSxhQUFhLENBQUMsZ0JBQWdCLEVBQUVDLGdCQUFnQkMsU0FBUyxDQUFDLEVBQUUsRUFBRSxHQUFHLENBQUM7Z0JBQ3hFQyxVQUFVaEQsT0FBTzZDO2dCQUNqQixPQUFPM0Msa0JBQWtCbUMsR0FBRyxDQUFDWSxLQUFLLENBQUMvQyxtQkFBbUI2QztZQUN4RDtRQUNGO1FBQ0FuQixLQUFLO1lBQ0hNLE9BQU8sU0FBU047Z0JBQ2QsTUFBTWlCLGFBQWEsQ0FBQyxnQkFBZ0IsRUFBRUMsZ0JBQWdCQyxTQUFTLENBQUMsRUFBRSxFQUFFLFFBQVEsQ0FBQztnQkFDN0VDLFVBQVVoRCxPQUFPNkM7Z0JBQ2pCLE9BQU8zQyxrQkFBa0IwQixHQUFHLENBQUNxQixLQUFLLENBQUMvQyxtQkFBbUI2QztZQUN4RDtRQUNGO1FBQ0FULGNBQWM7WUFDWkosT0FBTyxTQUFTSTtnQkFDZCxNQUFNTyxhQUFhO2dCQUNuQkcsVUFBVWhELE9BQU82QztnQkFDakIsT0FBTzNDLGtCQUFrQm9DLFlBQVksQ0FBQ1csS0FBSyxDQUN6Qy9DLG1CQUNBNkM7WUFFSjtRQUNGO1FBQ0FSLFNBQVM7WUFDUEwsT0FBTyxTQUFTSztnQkFDZCxNQUFNTSxhQUFhO2dCQUNuQkcsVUFBVWhELE9BQU82QztnQkFDakIsT0FBTzNDLGtCQUFrQnFDLE9BQU8sQ0FBQ1UsS0FBSyxDQUNwQy9DLG1CQUNBNkM7WUFFSjtRQUNGO1FBQ0FQLE1BQU07WUFDSk4sT0FBTyxTQUFTTTtnQkFDZCxNQUFNSyxhQUFhO2dCQUNuQkcsVUFBVWhELE9BQU82QztnQkFDakIsT0FBTzNDLGtCQUFrQnNDLElBQUksQ0FBQ1MsS0FBSyxDQUFDL0MsbUJBQW1CNkM7WUFDekQ7UUFDRjtRQUNBTixRQUFRO1lBQ05QLE9BQU8sU0FBU087Z0JBQ2QsTUFBTUksYUFBYTtnQkFDbkJHLFVBQVVoRCxPQUFPNkM7Z0JBQ2pCLE9BQU8zQyxrQkFBa0J1QyxNQUFNLENBQUNRLEtBQUssQ0FDbkMvQyxtQkFDQTZDO1lBRUo7UUFDRjtRQUNBTCxTQUFTO1lBQ1BSLE9BQU8sU0FBU1E7Z0JBQ2QsTUFBTUcsYUFBYTtnQkFDbkJHLFVBQVVoRCxPQUFPNkM7Z0JBQ2pCLE9BQU8zQyxrQkFBa0J3QyxPQUFPLENBQUNPLEtBQUssQ0FDcEMvQyxtQkFDQTZDO1lBRUo7UUFDRjtRQUNBLENBQUNKLE9BQU9DLFFBQVEsQ0FBQyxFQUFFO1lBQ2pCVixPQUFPO2dCQUNMLE1BQU1XLGFBQWE7Z0JBQ25CRyxVQUFVaEQsT0FBTzZDO2dCQUNqQixPQUFPM0MsaUJBQWlCLENBQUN5QyxPQUFPQyxRQUFRLENBQUMsQ0FBQ0ssS0FBSyxDQUM3Qy9DLG1CQUNBNkM7WUFFSjtRQUNGO0lBQ0Y7SUFFQSxPQUFPckI7QUFDVDtBQUVBLCtFQUErRTtBQUMvRSwrRUFBK0U7QUFDL0UsU0FBU1Isb0NBQ1BoQixpQkFBa0MsRUFDbENGLEtBQWM7SUFFZCxNQUFNd0IsZ0JBQWdCSCxjQUFjSSxHQUFHLENBQUN2QjtJQUN4QyxJQUFJc0IsZUFBZTtRQUNqQixPQUFPQTtJQUNUO0lBRUEsTUFBTUUsVUFBVXZDLG9GQUEwQkEsQ0FBQ2U7SUFFM0MsTUFBTWlELGlCQUFpQixJQUFJQyxNQUFNMUIsU0FBUztRQUN4Q0QsS0FBSTRCLE1BQU0sRUFBRUMsSUFBSSxFQUFFQyxRQUFRO1lBQ3hCLE9BQVFEO2dCQUNOLEtBQUtYLE9BQU9DLFFBQVE7b0JBQUU7d0JBQ3BCWSxrQkFBa0J4RCxPQUFPO3dCQUN6QjtvQkFDRjtnQkFDQSxLQUFLO2dCQUNMLEtBQUs7Z0JBQ0wsS0FBSztnQkFDTCxLQUFLO2dCQUNMLEtBQUs7Z0JBQ0wsS0FBSztnQkFDTCxLQUFLO2dCQUNMLEtBQUs7Z0JBQ0wsS0FBSztnQkFDTCxLQUFLO29CQUFXO3dCQUNkd0Qsa0JBQWtCeEQsT0FBTyxDQUFDLFlBQVksRUFBRXNELEtBQUssRUFBRSxDQUFDO3dCQUNoRDtvQkFDRjtnQkFDQTtvQkFBUztvQkFDUCxrRUFBa0U7b0JBQ3BFO1lBQ0Y7WUFFQSxPQUFPOUQsZ0ZBQWNBLENBQUNpQyxHQUFHLENBQUM0QixRQUFRQyxNQUFNQztRQUMxQztJQUNGO0lBRUFsQyxjQUFjTyxHQUFHLENBQUMxQixtQkFBbUJpRDtJQUVyQyxPQUFPQTtBQUNUO0FBRUEsU0FBU0wsZ0JBQWdCVyxHQUFZO0lBQ25DLE9BQU8sT0FBT0EsUUFBUSxXQUFXLENBQUMsQ0FBQyxFQUFFQSxJQUFJLENBQUMsQ0FBQyxHQUFHO0FBQ2hEO0FBRUEsU0FBU1QsVUFBVWhELEtBQXlCLEVBQUU2QyxVQUFrQjtJQUM5RCxNQUFNaEQsZ0JBQWdCaEIsOEZBQW9CQSxDQUFDZSxRQUFRO0lBRW5ELElBQUlDLGVBQWU7UUFDakIsT0FBUUEsY0FBY1MsSUFBSTtZQUN4QixLQUFLO2dCQUNILElBQUlULGNBQWM2RCxjQUFjLEtBQUssTUFBTTtvQkFDekMscUVBQXFFO29CQUNyRSxxRUFBcUU7b0JBQ3JFekUscUdBQXNDQSxDQUFDWTtnQkFDekM7Z0JBQ0E7WUFDRixLQUFLO1lBQ0wsS0FBSztZQUNMLEtBQUs7WUFDTCxLQUFLO1lBQ0wsS0FBSztZQUNMLEtBQUs7WUFDTCxLQUFLO1lBQ0wsS0FBSztnQkFDSDtZQUNGO2dCQUNFQTtRQUNKO0lBQ0Y7SUFFQSxnQ0FBZ0M7SUFDaEMyRCxrQkFBa0J4RCxPQUFPNkM7QUFDM0I7QUFFQSxNQUFNVyxvQkFBb0JuRSw0SEFBMkNBLENBQ25Fc0U7QUFHRixTQUFTQSx5QkFDUDNELEtBQXlCLEVBQ3pCNkMsVUFBa0I7SUFFbEIsTUFBTWUsU0FBUzVELFFBQVEsQ0FBQyxPQUFPLEVBQUVBLE1BQU0sRUFBRSxDQUFDLEdBQUc7SUFDN0MsT0FBTyxxQkFJTixDQUpNLElBQUlELE1BQ1QsR0FBRzZELE9BQU8sS0FBSyxFQUFFZixXQUFXLEVBQUUsQ0FBQyxHQUM3QixDQUFDLHdEQUF3RCxDQUFDLEdBQzFELENBQUMsOERBQThELENBQUMsR0FIN0Q7ZUFBQTtvQkFBQTtzQkFBQTtJQUlQO0FBQ0YiLCJzb3VyY2VzIjpbIkQ6XFxzcmNcXHNlcnZlclxccmVxdWVzdFxcaGVhZGVycy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBIZWFkZXJzQWRhcHRlcixcbiAgdHlwZSBSZWFkb25seUhlYWRlcnMsXG59IGZyb20gJy4uL3dlYi9zcGVjLWV4dGVuc2lvbi9hZGFwdGVycy9oZWFkZXJzJ1xuaW1wb3J0IHtcbiAgd29ya0FzeW5jU3RvcmFnZSxcbiAgdHlwZSBXb3JrU3RvcmUsXG59IGZyb20gJy4uL2FwcC1yZW5kZXIvd29yay1hc3luYy1zdG9yYWdlLmV4dGVybmFsJ1xuaW1wb3J0IHtcbiAgdGhyb3dGb3JNaXNzaW5nUmVxdWVzdFN0b3JlLFxuICB3b3JrVW5pdEFzeW5jU3RvcmFnZSxcbiAgdHlwZSBQcmVyZW5kZXJTdG9yZU1vZGVybixcbn0gZnJvbSAnLi4vYXBwLXJlbmRlci93b3JrLXVuaXQtYXN5bmMtc3RvcmFnZS5leHRlcm5hbCdcbmltcG9ydCB7XG4gIHBvc3Rwb25lV2l0aFRyYWNraW5nLFxuICB0aHJvd1RvSW50ZXJydXB0U3RhdGljR2VuZXJhdGlvbixcbiAgdHJhY2tEeW5hbWljRGF0YUluRHluYW1pY1JlbmRlcixcbiAgdHJhY2tTeW5jaHJvbm91c1JlcXVlc3REYXRhQWNjZXNzSW5EZXYsXG59IGZyb20gJy4uL2FwcC1yZW5kZXIvZHluYW1pYy1yZW5kZXJpbmcnXG5pbXBvcnQgeyBTdGF0aWNHZW5CYWlsb3V0RXJyb3IgfSBmcm9tICcuLi8uLi9jbGllbnQvY29tcG9uZW50cy9zdGF0aWMtZ2VuZXJhdGlvbi1iYWlsb3V0J1xuaW1wb3J0IHtcbiAgbWFrZURldnRvb2xzSU9Bd2FyZVByb21pc2UsXG4gIG1ha2VIYW5naW5nUHJvbWlzZSxcbn0gZnJvbSAnLi4vZHluYW1pYy1yZW5kZXJpbmctdXRpbHMnXG5pbXBvcnQgeyBjcmVhdGVEZWR1cGVkQnlDYWxsc2l0ZVNlcnZlckVycm9yTG9nZ2VyRGV2IH0gZnJvbSAnLi4vY3JlYXRlLWRlZHVwZWQtYnktY2FsbHNpdGUtc2VydmVyLWVycm9yLWxvZ2dlcidcbmltcG9ydCB7IGlzUmVxdWVzdEFQSUNhbGxhYmxlSW5zaWRlQWZ0ZXIgfSBmcm9tICcuL3V0aWxzJ1xuaW1wb3J0IHsgSW52YXJpYW50RXJyb3IgfSBmcm9tICcuLi8uLi9zaGFyZWQvbGliL2ludmFyaWFudC1lcnJvcidcbmltcG9ydCB7IFJlZmxlY3RBZGFwdGVyIH0gZnJvbSAnLi4vd2ViL3NwZWMtZXh0ZW5zaW9uL2FkYXB0ZXJzL3JlZmxlY3QnXG5cbi8qKlxuICogSW4gdGhpcyB2ZXJzaW9uIG9mIE5leHQuanMgYGhlYWRlcnMoKWAgcmV0dXJucyBhIFByb21pc2UgaG93ZXZlciB5b3UgY2FuIHN0aWxsIHJlZmVyZW5jZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgdW5kZXJseWluZyBIZWFkZXJzIGluc3RhbmNlXG4gKiBzeW5jaHJvbm91c2x5IHRvIGZhY2lsaXRhdGUgbWlncmF0aW9uLiBUaGUgYFVuc2FmZVVud3JhcHBlZEhlYWRlcnNgIHR5cGUgaXMgYWRkZWQgdG8geW91ciBjb2RlIGJ5IGEgY29kZW1vZCB0aGF0IGF0dGVtcHRzIHRvIGF1dG9tYXRpY2FsbHlcbiAqIHVwZGF0ZXMgY2FsbHNpdGVzIHRvIHJlZmxlY3QgdGhlIG5ldyBQcm9taXNlIHJldHVybiB0eXBlLiBUaGVyZSBhcmUgc29tZSBjYXNlcyB3aGVyZSBgaGVhZGVycygpYCBjYW5ub3QgYmUgYXV0b21hdGljYWxseSBjb252ZXJ0ZWQsIG5hbWVseVxuICogd2hlbiBpdCBpcyB1c2VkIGluc2lkZSBhIHN5bmNocm9ub3VzIGZ1bmN0aW9uIGFuZCB3ZSBjYW4ndCBiZSBzdXJlIHRoZSBmdW5jdGlvbiBjYW4gYmUgbWFkZSBhc3luYyBhdXRvbWF0aWNhbGx5LiBJbiB0aGVzZSBjYXNlcyB3ZSBhZGQgYW5cbiAqIGV4cGxpY2l0IHR5cGUgY2FzZSB0byBgVW5zYWZlVW53cmFwcGVkSGVhZGVyc2AgdG8gZW5hYmxlIHR5cGVzY3JpcHQgdG8gYWxsb3cgZm9yIHRoZSBzeW5jaHJvbm91cyB1c2FnZSBvbmx5IHdoZXJlIGl0IGlzIGFjdHVhbGx5IG5lY2Vzc2FyeS5cbiAqXG4gKiBZb3Ugc2hvdWxkIHNob3VsZCB1cGRhdGUgdGhlc2UgY2FsbHNpdGVzIHRvIGVpdGhlciBiZSBhc3luYyBmdW5jdGlvbnMgd2hlcmUgdGhlIGBoZWFkZXJzKClgIHZhbHVlIGNhbiBiZSBhd2FpdGVkIG9yIHlvdSBzaG91bGQgY2FsbCBgaGVhZGVycygpYFxuICogZnJvbSBvdXRzaWRlIGFuZCBhd2FpdCB0aGUgcmV0dXJuIHZhbHVlIGJlZm9yZSBwYXNzaW5nIGl0IGludG8gdGhpcyBmdW5jdGlvbi5cbiAqXG4gKiBZb3UgY2FuIGZpbmQgaW5zdGFuY2VzIHRoYXQgcmVxdWlyZSBtYW51YWwgbWlncmF0aW9uIGJ5IHNlYXJjaGluZyBmb3IgYFVuc2FmZVVud3JhcHBlZEhlYWRlcnNgIGluIHlvdXIgY29kZWJhc2Ugb3IgYnkgc2VhcmNoIGZvciBhIGNvbW1lbnQgdGhhdFxuICogc3RhcnRzIHdpdGggYEBuZXh0LWNvZGVtb2QtZXJyb3JgLlxuICpcbiAqIEluIGEgZnV0dXJlIHZlcnNpb24gb2YgTmV4dC5qcyBgaGVhZGVycygpYCB3aWxsIG9ubHkgcmV0dXJuIGEgUHJvbWlzZSBhbmQgeW91IHdpbGwgbm90IGJlIGFibGUgdG8gYWNjZXNzIHRoZSB1bmRlcmx5aW5nIEhlYWRlcnMgaW5zdGFuY2VcbiAqIHdpdGhvdXQgYXdhaXRpbmcgdGhlIHJldHVybiB2YWx1ZSBmaXJzdC4gV2hlbiB0aGlzIGNoYW5nZSBoYXBwZW5zIHRoZSB0eXBlIGBVbnNhZmVVbndyYXBwZWRIZWFkZXJzYCB3aWxsIGJlIHVwZGF0ZWQgdG8gcmVmbGVjdCB0aGF0IGlzIGl0IG5vIGxvbmdlclxuICogdXNhYmxlLlxuICpcbiAqIFRoaXMgdHlwZSBpcyBtYXJrZWQgZGVwcmVjYXRlZCB0byBoZWxwIGlkZW50aWZ5IGl0IGFzIHRhcmdldCBmb3IgcmVmYWN0b3JpbmcgYXdheS5cbiAqXG4gKiBAZGVwcmVjYXRlZFxuICovXG5leHBvcnQgdHlwZSBVbnNhZmVVbndyYXBwZWRIZWFkZXJzID0gUmVhZG9ubHlIZWFkZXJzXG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBhbGxvd3MgeW91IHRvIHJlYWQgdGhlIEhUVFAgaW5jb21pbmcgcmVxdWVzdCBoZWFkZXJzIGluXG4gKiBbU2VydmVyIENvbXBvbmVudHNdKGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL2FwcC9idWlsZGluZy15b3VyLWFwcGxpY2F0aW9uL3JlbmRlcmluZy9zZXJ2ZXItY29tcG9uZW50cyksXG4gKiBbU2VydmVyIEFjdGlvbnNdKGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL2FwcC9idWlsZGluZy15b3VyLWFwcGxpY2F0aW9uL2RhdGEtZmV0Y2hpbmcvc2VydmVyLWFjdGlvbnMtYW5kLW11dGF0aW9ucyksXG4gKiBbUm91dGUgSGFuZGxlcnNdKGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL2FwcC9idWlsZGluZy15b3VyLWFwcGxpY2F0aW9uL3JvdXRpbmcvcm91dGUtaGFuZGxlcnMpIGFuZFxuICogW01pZGRsZXdhcmVdKGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL2FwcC9idWlsZGluZy15b3VyLWFwcGxpY2F0aW9uL3JvdXRpbmcvbWlkZGxld2FyZSkuXG4gKlxuICogUmVhZCBtb3JlOiBbTmV4dC5qcyBEb2NzOiBgaGVhZGVyc2BdKGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL2FwcC9hcGktcmVmZXJlbmNlL2Z1bmN0aW9ucy9oZWFkZXJzKVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGVhZGVycygpOiBQcm9taXNlPFJlYWRvbmx5SGVhZGVycz4ge1xuICBjb25zdCBjYWxsaW5nRXhwcmVzc2lvbiA9ICdoZWFkZXJzJ1xuICBjb25zdCB3b3JrU3RvcmUgPSB3b3JrQXN5bmNTdG9yYWdlLmdldFN0b3JlKClcbiAgY29uc3Qgd29ya1VuaXRTdG9yZSA9IHdvcmtVbml0QXN5bmNTdG9yYWdlLmdldFN0b3JlKClcblxuICBpZiAod29ya1N0b3JlKSB7XG4gICAgaWYgKFxuICAgICAgd29ya1VuaXRTdG9yZSAmJlxuICAgICAgd29ya1VuaXRTdG9yZS5waGFzZSA9PT0gJ2FmdGVyJyAmJlxuICAgICAgIWlzUmVxdWVzdEFQSUNhbGxhYmxlSW5zaWRlQWZ0ZXIoKVxuICAgICkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgUm91dGUgJHt3b3JrU3RvcmUucm91dGV9IHVzZWQgXCJoZWFkZXJzXCIgaW5zaWRlIFwiYWZ0ZXIoLi4uKVwiLiBUaGlzIGlzIG5vdCBzdXBwb3J0ZWQuIElmIHlvdSBuZWVkIHRoaXMgZGF0YSBpbnNpZGUgYW4gXCJhZnRlclwiIGNhbGxiYWNrLCB1c2UgXCJoZWFkZXJzXCIgb3V0c2lkZSBvZiB0aGUgY2FsbGJhY2suIFNlZSBtb3JlIGluZm8gaGVyZTogaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvY2FuYXJ5L2FwcC9hcGktcmVmZXJlbmNlL2Z1bmN0aW9ucy9hZnRlcmBcbiAgICAgIClcbiAgICB9XG5cbiAgICBpZiAod29ya1N0b3JlLmZvcmNlU3RhdGljKSB7XG4gICAgICAvLyBXaGVuIHVzaW5nIGZvcmNlU3RhdGljIHdlIG92ZXJyaWRlIGFsbCBvdGhlciBsb2dpYyBhbmQgYWx3YXlzIGp1c3QgcmV0dXJuIGFuIGVtcHR5XG4gICAgICAvLyBoZWFkZXJzIG9iamVjdCB3aXRob3V0IHRyYWNraW5nXG4gICAgICBjb25zdCB1bmRlcmx5aW5nSGVhZGVycyA9IEhlYWRlcnNBZGFwdGVyLnNlYWwobmV3IEhlYWRlcnMoe30pKVxuICAgICAgcmV0dXJuIG1ha2VVbnRyYWNrZWRFeG90aWNIZWFkZXJzKHVuZGVybHlpbmdIZWFkZXJzKVxuICAgIH1cblxuICAgIGlmICh3b3JrVW5pdFN0b3JlKSB7XG4gICAgICBzd2l0Y2ggKHdvcmtVbml0U3RvcmUudHlwZSkge1xuICAgICAgICBjYXNlICdjYWNoZSc6IHtcbiAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICAgICAgIGBSb3V0ZSAke3dvcmtTdG9yZS5yb3V0ZX0gdXNlZCBcImhlYWRlcnNcIiBpbnNpZGUgXCJ1c2UgY2FjaGVcIi4gQWNjZXNzaW5nIER5bmFtaWMgZGF0YSBzb3VyY2VzIGluc2lkZSBhIGNhY2hlIHNjb3BlIGlzIG5vdCBzdXBwb3J0ZWQuIElmIHlvdSBuZWVkIHRoaXMgZGF0YSBpbnNpZGUgYSBjYWNoZWQgZnVuY3Rpb24gdXNlIFwiaGVhZGVyc1wiIG91dHNpZGUgb2YgdGhlIGNhY2hlZCBmdW5jdGlvbiBhbmQgcGFzcyB0aGUgcmVxdWlyZWQgZHluYW1pYyBkYXRhIGluIGFzIGFuIGFyZ3VtZW50LiBTZWUgbW9yZSBpbmZvIGhlcmU6IGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL21lc3NhZ2VzL25leHQtcmVxdWVzdC1pbi11c2UtY2FjaGVgXG4gICAgICAgICAgKVxuICAgICAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKGVycm9yLCBoZWFkZXJzKVxuICAgICAgICAgIHdvcmtTdG9yZS5pbnZhbGlkRHluYW1pY1VzYWdlRXJyb3IgPz89IGVycm9yXG4gICAgICAgICAgdGhyb3cgZXJyb3JcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdwcml2YXRlLWNhY2hlJzoge1xuICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKFxuICAgICAgICAgICAgYFJvdXRlICR7d29ya1N0b3JlLnJvdXRlfSB1c2VkIFwiaGVhZGVyc1wiIGluc2lkZSBcInVzZSBjYWNoZTogcHJpdmF0ZVwiLiBBY2Nlc3NpbmcgXCJoZWFkZXJzXCIgaW5zaWRlIGEgcHJpdmF0ZSBjYWNoZSBzY29wZSBpcyBub3Qgc3VwcG9ydGVkLiBJZiB5b3UgbmVlZCB0aGlzIGRhdGEgaW5zaWRlIGEgY2FjaGVkIGZ1bmN0aW9uIHVzZSBcImhlYWRlcnNcIiBvdXRzaWRlIG9mIHRoZSBjYWNoZWQgZnVuY3Rpb24gYW5kIHBhc3MgdGhlIHJlcXVpcmVkIGR5bmFtaWMgZGF0YSBpbiBhcyBhbiBhcmd1bWVudC4gU2VlIG1vcmUgaW5mbyBoZXJlOiBodHRwczovL25leHRqcy5vcmcvZG9jcy9tZXNzYWdlcy9uZXh0LXJlcXVlc3QtaW4tdXNlLWNhY2hlYFxuICAgICAgICAgIClcbiAgICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZShlcnJvciwgaGVhZGVycylcbiAgICAgICAgICB3b3JrU3RvcmUuaW52YWxpZER5bmFtaWNVc2FnZUVycm9yID8/PSBlcnJvclxuICAgICAgICAgIHRocm93IGVycm9yXG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAndW5zdGFibGUtY2FjaGUnOlxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgIGBSb3V0ZSAke3dvcmtTdG9yZS5yb3V0ZX0gdXNlZCBcImhlYWRlcnNcIiBpbnNpZGUgYSBmdW5jdGlvbiBjYWNoZWQgd2l0aCBcInVuc3RhYmxlX2NhY2hlKC4uLilcIi4gQWNjZXNzaW5nIER5bmFtaWMgZGF0YSBzb3VyY2VzIGluc2lkZSBhIGNhY2hlIHNjb3BlIGlzIG5vdCBzdXBwb3J0ZWQuIElmIHlvdSBuZWVkIHRoaXMgZGF0YSBpbnNpZGUgYSBjYWNoZWQgZnVuY3Rpb24gdXNlIFwiaGVhZGVyc1wiIG91dHNpZGUgb2YgdGhlIGNhY2hlZCBmdW5jdGlvbiBhbmQgcGFzcyB0aGUgcmVxdWlyZWQgZHluYW1pYyBkYXRhIGluIGFzIGFuIGFyZ3VtZW50LiBTZWUgbW9yZSBpbmZvIGhlcmU6IGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL2FwcC9hcGktcmVmZXJlbmNlL2Z1bmN0aW9ucy91bnN0YWJsZV9jYWNoZWBcbiAgICAgICAgICApXG4gICAgICAgIGNhc2UgJ3ByZXJlbmRlcic6XG4gICAgICAgIGNhc2UgJ3ByZXJlbmRlci1jbGllbnQnOlxuICAgICAgICBjYXNlICdwcmVyZW5kZXItcnVudGltZSc6XG4gICAgICAgIGNhc2UgJ3ByZXJlbmRlci1wcHInOlxuICAgICAgICBjYXNlICdwcmVyZW5kZXItbGVnYWN5JzpcbiAgICAgICAgY2FzZSAncmVxdWVzdCc6XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB3b3JrVW5pdFN0b3JlIHNhdGlzZmllcyBuZXZlclxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh3b3JrU3RvcmUuZHluYW1pY1Nob3VsZEVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgU3RhdGljR2VuQmFpbG91dEVycm9yKFxuICAgICAgICBgUm91dGUgJHt3b3JrU3RvcmUucm91dGV9IHdpdGggXFxgZHluYW1pYyA9IFwiZXJyb3JcIlxcYCBjb3VsZG4ndCBiZSByZW5kZXJlZCBzdGF0aWNhbGx5IGJlY2F1c2UgaXQgdXNlZCBcXGBoZWFkZXJzXFxgLiBTZWUgbW9yZSBpbmZvIGhlcmU6IGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL2FwcC9idWlsZGluZy15b3VyLWFwcGxpY2F0aW9uL3JlbmRlcmluZy9zdGF0aWMtYW5kLWR5bmFtaWMjZHluYW1pYy1yZW5kZXJpbmdgXG4gICAgICApXG4gICAgfVxuXG4gICAgaWYgKHdvcmtVbml0U3RvcmUpIHtcbiAgICAgIHN3aXRjaCAod29ya1VuaXRTdG9yZS50eXBlKSB7XG4gICAgICAgIGNhc2UgJ3ByZXJlbmRlcic6XG4gICAgICAgIGNhc2UgJ3ByZXJlbmRlci1ydW50aW1lJzpcbiAgICAgICAgICByZXR1cm4gbWFrZUhhbmdpbmdIZWFkZXJzKHdvcmtTdG9yZSwgd29ya1VuaXRTdG9yZSlcbiAgICAgICAgY2FzZSAncHJlcmVuZGVyLWNsaWVudCc6XG4gICAgICAgICAgY29uc3QgZXhwb3J0TmFtZSA9ICdgaGVhZGVyc2AnXG4gICAgICAgICAgdGhyb3cgbmV3IEludmFyaWFudEVycm9yKFxuICAgICAgICAgICAgYCR7ZXhwb3J0TmFtZX0gbXVzdCBub3QgYmUgdXNlZCB3aXRoaW4gYSBjbGllbnQgY29tcG9uZW50LiBOZXh0LmpzIHNob3VsZCBiZSBwcmV2ZW50aW5nICR7ZXhwb3J0TmFtZX0gZnJvbSBiZWluZyBpbmNsdWRlZCBpbiBjbGllbnQgY29tcG9uZW50cyBzdGF0aWNhbGx5LCBidXQgZGlkIG5vdCBpbiB0aGlzIGNhc2UuYFxuICAgICAgICAgIClcbiAgICAgICAgY2FzZSAncHJlcmVuZGVyLXBwcic6XG4gICAgICAgICAgLy8gUFBSIFByZXJlbmRlciAobm8gY2FjaGVDb21wb25lbnRzKVxuICAgICAgICAgIC8vIFdlIGFyZSBwcmVyZW5kZXJpbmcgd2l0aCBQUFIuIFdlIG5lZWQgdHJhY2sgZHluYW1pYyBhY2Nlc3MgaGVyZSBlYWdlcmx5XG4gICAgICAgICAgLy8gdG8ga2VlcCBjb250aW51aXR5IHdpdGggaG93IGhlYWRlcnMgaGFzIHdvcmtlZCBpbiBQUFIgd2l0aG91dCBjYWNoZUNvbXBvbmVudHMuXG4gICAgICAgICAgLy8gVE9ETyBjb25zaWRlciBzd2l0Y2hpbmcgdGhlIHNlbWFudGljIHRvIHRocm93IG9uIHByb3BlcnR5IGFjY2VzcyBpbnN0ZWFkXG4gICAgICAgICAgcmV0dXJuIHBvc3Rwb25lV2l0aFRyYWNraW5nKFxuICAgICAgICAgICAgd29ya1N0b3JlLnJvdXRlLFxuICAgICAgICAgICAgY2FsbGluZ0V4cHJlc3Npb24sXG4gICAgICAgICAgICB3b3JrVW5pdFN0b3JlLmR5bmFtaWNUcmFja2luZ1xuICAgICAgICAgIClcbiAgICAgICAgY2FzZSAncHJlcmVuZGVyLWxlZ2FjeSc6XG4gICAgICAgICAgLy8gTGVnYWN5IFByZXJlbmRlclxuICAgICAgICAgIC8vIFdlIGFyZSBpbiBhIGxlZ2FjeSBzdGF0aWMgZ2VuZXJhdGlvbiBtb2RlIHdoaWxlIHByZXJlbmRlcmluZ1xuICAgICAgICAgIC8vIFdlIHRyYWNrIGR5bmFtaWMgYWNjZXNzIGhlcmUgc28gd2UgZG9uJ3QgbmVlZCB0byB3cmFwIHRoZSBoZWFkZXJzIGluXG4gICAgICAgICAgLy8gaW5kaXZpZHVhbCBwcm9wZXJ0eSBhY2Nlc3MgdHJhY2tpbmcuXG4gICAgICAgICAgcmV0dXJuIHRocm93VG9JbnRlcnJ1cHRTdGF0aWNHZW5lcmF0aW9uKFxuICAgICAgICAgICAgY2FsbGluZ0V4cHJlc3Npb24sXG4gICAgICAgICAgICB3b3JrU3RvcmUsXG4gICAgICAgICAgICB3b3JrVW5pdFN0b3JlXG4gICAgICAgICAgKVxuICAgICAgICBjYXNlICdyZXF1ZXN0JzpcbiAgICAgICAgICB0cmFja0R5bmFtaWNEYXRhSW5EeW5hbWljUmVuZGVyKHdvcmtVbml0U3RvcmUpXG5cbiAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgICAgICAgIC8vIFNlbWFudGljYWxseSB3ZSBvbmx5IG5lZWQgdGhlIGRldiB0cmFja2luZyB3aGVuIHJ1bm5pbmcgaW4gYG5leHQgZGV2YFxuICAgICAgICAgICAgLy8gYnV0IHNpbmNlIHlvdSB3b3VsZCBuZXZlciB1c2UgbmV4dCBkZXYgd2l0aCBwcm9kdWN0aW9uIE5PREVfRU5WIHdlIHVzZSB0aGlzXG4gICAgICAgICAgICAvLyBhcyBhIHByb3h5IHNvIHdlIGNhbiBzdGF0aWNhbGx5IGV4Y2x1ZGUgdGhpcyBjb2RlIGZyb20gcHJvZHVjdGlvbiBidWlsZHMuXG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuX19ORVhUX0NBQ0hFX0NPTVBPTkVOVFMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG1ha2VVbnRyYWNrZWRIZWFkZXJzV2l0aERldldhcm5pbmdzKFxuICAgICAgICAgICAgICAgIHdvcmtVbml0U3RvcmUuaGVhZGVycyxcbiAgICAgICAgICAgICAgICB3b3JrU3RvcmU/LnJvdXRlXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG1ha2VVbnRyYWNrZWRFeG90aWNIZWFkZXJzV2l0aERldldhcm5pbmdzKFxuICAgICAgICAgICAgICB3b3JrVW5pdFN0b3JlLmhlYWRlcnMsXG4gICAgICAgICAgICAgIHdvcmtTdG9yZT8ucm91dGVcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Ll9fTkVYVF9DQUNIRV9DT01QT05FTlRTKSB7XG4gICAgICAgICAgICAgIHJldHVybiBtYWtlVW50cmFja2VkSGVhZGVycyh3b3JrVW5pdFN0b3JlLmhlYWRlcnMpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBtYWtlVW50cmFja2VkRXhvdGljSGVhZGVycyh3b3JrVW5pdFN0b3JlLmhlYWRlcnMpXG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgd29ya1VuaXRTdG9yZSBzYXRpc2ZpZXMgbmV2ZXJcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBJZiB3ZSBlbmQgdXAgaGVyZSwgdGhlcmUgd2FzIG5vIHdvcmsgc3RvcmUgb3Igd29yayB1bml0IHN0b3JlIHByZXNlbnQuXG4gIHRocm93Rm9yTWlzc2luZ1JlcXVlc3RTdG9yZShjYWxsaW5nRXhwcmVzc2lvbilcbn1cblxuaW50ZXJmYWNlIENhY2hlTGlmZXRpbWUge31cbmNvbnN0IENhY2hlZEhlYWRlcnMgPSBuZXcgV2Vha01hcDxDYWNoZUxpZmV0aW1lLCBQcm9taXNlPFJlYWRvbmx5SGVhZGVycz4+KClcblxuZnVuY3Rpb24gbWFrZUhhbmdpbmdIZWFkZXJzKFxuICB3b3JrU3RvcmU6IFdvcmtTdG9yZSxcbiAgcHJlcmVuZGVyU3RvcmU6IFByZXJlbmRlclN0b3JlTW9kZXJuXG4pOiBQcm9taXNlPFJlYWRvbmx5SGVhZGVycz4ge1xuICBjb25zdCBjYWNoZWRIZWFkZXJzID0gQ2FjaGVkSGVhZGVycy5nZXQocHJlcmVuZGVyU3RvcmUpXG4gIGlmIChjYWNoZWRIZWFkZXJzKSB7XG4gICAgcmV0dXJuIGNhY2hlZEhlYWRlcnNcbiAgfVxuXG4gIGNvbnN0IHByb21pc2UgPSBtYWtlSGFuZ2luZ1Byb21pc2U8UmVhZG9ubHlIZWFkZXJzPihcbiAgICBwcmVyZW5kZXJTdG9yZS5yZW5kZXJTaWduYWwsXG4gICAgd29ya1N0b3JlLnJvdXRlLFxuICAgICdgaGVhZGVycygpYCdcbiAgKVxuICBDYWNoZWRIZWFkZXJzLnNldChwcmVyZW5kZXJTdG9yZSwgcHJvbWlzZSlcblxuICByZXR1cm4gcHJvbWlzZVxufVxuXG5mdW5jdGlvbiBtYWtlVW50cmFja2VkSGVhZGVycyhcbiAgdW5kZXJseWluZ0hlYWRlcnM6IFJlYWRvbmx5SGVhZGVyc1xuKTogUHJvbWlzZTxSZWFkb25seUhlYWRlcnM+IHtcbiAgY29uc3QgY2FjaGVkSGVhZGVycyA9IENhY2hlZEhlYWRlcnMuZ2V0KHVuZGVybHlpbmdIZWFkZXJzKVxuICBpZiAoY2FjaGVkSGVhZGVycykge1xuICAgIHJldHVybiBjYWNoZWRIZWFkZXJzXG4gIH1cblxuICBjb25zdCBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKHVuZGVybHlpbmdIZWFkZXJzKVxuICBDYWNoZWRIZWFkZXJzLnNldCh1bmRlcmx5aW5nSGVhZGVycywgcHJvbWlzZSlcblxuICByZXR1cm4gcHJvbWlzZVxufVxuXG5mdW5jdGlvbiBtYWtlVW50cmFja2VkRXhvdGljSGVhZGVycyhcbiAgdW5kZXJseWluZ0hlYWRlcnM6IFJlYWRvbmx5SGVhZGVyc1xuKTogUHJvbWlzZTxSZWFkb25seUhlYWRlcnM+IHtcbiAgY29uc3QgY2FjaGVkSGVhZGVycyA9IENhY2hlZEhlYWRlcnMuZ2V0KHVuZGVybHlpbmdIZWFkZXJzKVxuICBpZiAoY2FjaGVkSGVhZGVycykge1xuICAgIHJldHVybiBjYWNoZWRIZWFkZXJzXG4gIH1cblxuICBjb25zdCBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKHVuZGVybHlpbmdIZWFkZXJzKVxuICBDYWNoZWRIZWFkZXJzLnNldCh1bmRlcmx5aW5nSGVhZGVycywgcHJvbWlzZSlcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhwcm9taXNlLCB7XG4gICAgYXBwZW5kOiB7XG4gICAgICB2YWx1ZTogdW5kZXJseWluZ0hlYWRlcnMuYXBwZW5kLmJpbmQodW5kZXJseWluZ0hlYWRlcnMpLFxuICAgIH0sXG4gICAgZGVsZXRlOiB7XG4gICAgICB2YWx1ZTogdW5kZXJseWluZ0hlYWRlcnMuZGVsZXRlLmJpbmQodW5kZXJseWluZ0hlYWRlcnMpLFxuICAgIH0sXG4gICAgZ2V0OiB7XG4gICAgICB2YWx1ZTogdW5kZXJseWluZ0hlYWRlcnMuZ2V0LmJpbmQodW5kZXJseWluZ0hlYWRlcnMpLFxuICAgIH0sXG4gICAgaGFzOiB7XG4gICAgICB2YWx1ZTogdW5kZXJseWluZ0hlYWRlcnMuaGFzLmJpbmQodW5kZXJseWluZ0hlYWRlcnMpLFxuICAgIH0sXG4gICAgc2V0OiB7XG4gICAgICB2YWx1ZTogdW5kZXJseWluZ0hlYWRlcnMuc2V0LmJpbmQodW5kZXJseWluZ0hlYWRlcnMpLFxuICAgIH0sXG4gICAgZ2V0U2V0Q29va2llOiB7XG4gICAgICB2YWx1ZTogdW5kZXJseWluZ0hlYWRlcnMuZ2V0U2V0Q29va2llLmJpbmQodW5kZXJseWluZ0hlYWRlcnMpLFxuICAgIH0sXG4gICAgZm9yRWFjaDoge1xuICAgICAgdmFsdWU6IHVuZGVybHlpbmdIZWFkZXJzLmZvckVhY2guYmluZCh1bmRlcmx5aW5nSGVhZGVycyksXG4gICAgfSxcbiAgICBrZXlzOiB7XG4gICAgICB2YWx1ZTogdW5kZXJseWluZ0hlYWRlcnMua2V5cy5iaW5kKHVuZGVybHlpbmdIZWFkZXJzKSxcbiAgICB9LFxuICAgIHZhbHVlczoge1xuICAgICAgdmFsdWU6IHVuZGVybHlpbmdIZWFkZXJzLnZhbHVlcy5iaW5kKHVuZGVybHlpbmdIZWFkZXJzKSxcbiAgICB9LFxuICAgIGVudHJpZXM6IHtcbiAgICAgIHZhbHVlOiB1bmRlcmx5aW5nSGVhZGVycy5lbnRyaWVzLmJpbmQodW5kZXJseWluZ0hlYWRlcnMpLFxuICAgIH0sXG4gICAgW1N5bWJvbC5pdGVyYXRvcl06IHtcbiAgICAgIHZhbHVlOiB1bmRlcmx5aW5nSGVhZGVyc1tTeW1ib2wuaXRlcmF0b3JdLmJpbmQodW5kZXJseWluZ0hlYWRlcnMpLFxuICAgIH0sXG4gIH0gc2F0aXNmaWVzIEhlYWRlcnNFeHRlbnNpb25zKVxuXG4gIHJldHVybiBwcm9taXNlXG59XG5cbmZ1bmN0aW9uIG1ha2VVbnRyYWNrZWRFeG90aWNIZWFkZXJzV2l0aERldldhcm5pbmdzKFxuICB1bmRlcmx5aW5nSGVhZGVyczogUmVhZG9ubHlIZWFkZXJzLFxuICByb3V0ZT86IHN0cmluZ1xuKTogUHJvbWlzZTxSZWFkb25seUhlYWRlcnM+IHtcbiAgY29uc3QgY2FjaGVkSGVhZGVycyA9IENhY2hlZEhlYWRlcnMuZ2V0KHVuZGVybHlpbmdIZWFkZXJzKVxuICBpZiAoY2FjaGVkSGVhZGVycykge1xuICAgIHJldHVybiBjYWNoZWRIZWFkZXJzXG4gIH1cblxuICBjb25zdCBwcm9taXNlID0gbWFrZURldnRvb2xzSU9Bd2FyZVByb21pc2UodW5kZXJseWluZ0hlYWRlcnMpXG5cbiAgQ2FjaGVkSGVhZGVycy5zZXQodW5kZXJseWluZ0hlYWRlcnMsIHByb21pc2UpXG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocHJvbWlzZSwge1xuICAgIGFwcGVuZDoge1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFwcGVuZCgpIHtcbiAgICAgICAgY29uc3QgZXhwcmVzc2lvbiA9IGBcXGBoZWFkZXJzKCkuYXBwZW5kKCR7ZGVzY3JpYmVOYW1lQXJnKGFyZ3VtZW50c1swXSl9LCAuLi4pXFxgYFxuICAgICAgICBzeW5jSU9EZXYocm91dGUsIGV4cHJlc3Npb24pXG4gICAgICAgIHJldHVybiB1bmRlcmx5aW5nSGVhZGVycy5hcHBlbmQuYXBwbHkoXG4gICAgICAgICAgdW5kZXJseWluZ0hlYWRlcnMsXG4gICAgICAgICAgYXJndW1lbnRzIGFzIGFueVxuICAgICAgICApXG4gICAgICB9LFxuICAgIH0sXG4gICAgZGVsZXRlOiB7XG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2RlbGV0ZSgpIHtcbiAgICAgICAgY29uc3QgZXhwcmVzc2lvbiA9IGBcXGBoZWFkZXJzKCkuZGVsZXRlKCR7ZGVzY3JpYmVOYW1lQXJnKGFyZ3VtZW50c1swXSl9KVxcYGBcbiAgICAgICAgc3luY0lPRGV2KHJvdXRlLCBleHByZXNzaW9uKVxuICAgICAgICByZXR1cm4gdW5kZXJseWluZ0hlYWRlcnMuZGVsZXRlLmFwcGx5KFxuICAgICAgICAgIHVuZGVybHlpbmdIZWFkZXJzLFxuICAgICAgICAgIGFyZ3VtZW50cyBhcyBhbnlcbiAgICAgICAgKVxuICAgICAgfSxcbiAgICB9LFxuICAgIGdldDoge1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgY29uc3QgZXhwcmVzc2lvbiA9IGBcXGBoZWFkZXJzKCkuZ2V0KCR7ZGVzY3JpYmVOYW1lQXJnKGFyZ3VtZW50c1swXSl9KVxcYGBcbiAgICAgICAgc3luY0lPRGV2KHJvdXRlLCBleHByZXNzaW9uKVxuICAgICAgICByZXR1cm4gdW5kZXJseWluZ0hlYWRlcnMuZ2V0LmFwcGx5KHVuZGVybHlpbmdIZWFkZXJzLCBhcmd1bWVudHMgYXMgYW55KVxuICAgICAgfSxcbiAgICB9LFxuICAgIGhhczoge1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhcygpIHtcbiAgICAgICAgY29uc3QgZXhwcmVzc2lvbiA9IGBcXGBoZWFkZXJzKCkuaGFzKCR7ZGVzY3JpYmVOYW1lQXJnKGFyZ3VtZW50c1swXSl9KVxcYGBcbiAgICAgICAgc3luY0lPRGV2KHJvdXRlLCBleHByZXNzaW9uKVxuICAgICAgICByZXR1cm4gdW5kZXJseWluZ0hlYWRlcnMuaGFzLmFwcGx5KHVuZGVybHlpbmdIZWFkZXJzLCBhcmd1bWVudHMgYXMgYW55KVxuICAgICAgfSxcbiAgICB9LFxuICAgIHNldDoge1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldCgpIHtcbiAgICAgICAgY29uc3QgZXhwcmVzc2lvbiA9IGBcXGBoZWFkZXJzKCkuc2V0KCR7ZGVzY3JpYmVOYW1lQXJnKGFyZ3VtZW50c1swXSl9LCAuLi4pXFxgYFxuICAgICAgICBzeW5jSU9EZXYocm91dGUsIGV4cHJlc3Npb24pXG4gICAgICAgIHJldHVybiB1bmRlcmx5aW5nSGVhZGVycy5zZXQuYXBwbHkodW5kZXJseWluZ0hlYWRlcnMsIGFyZ3VtZW50cyBhcyBhbnkpXG4gICAgICB9LFxuICAgIH0sXG4gICAgZ2V0U2V0Q29va2llOiB7XG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U2V0Q29va2llKCkge1xuICAgICAgICBjb25zdCBleHByZXNzaW9uID0gJ2BoZWFkZXJzKCkuZ2V0U2V0Q29va2llKClgJ1xuICAgICAgICBzeW5jSU9EZXYocm91dGUsIGV4cHJlc3Npb24pXG4gICAgICAgIHJldHVybiB1bmRlcmx5aW5nSGVhZGVycy5nZXRTZXRDb29raWUuYXBwbHkoXG4gICAgICAgICAgdW5kZXJseWluZ0hlYWRlcnMsXG4gICAgICAgICAgYXJndW1lbnRzIGFzIGFueVxuICAgICAgICApXG4gICAgICB9LFxuICAgIH0sXG4gICAgZm9yRWFjaDoge1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGZvckVhY2goKSB7XG4gICAgICAgIGNvbnN0IGV4cHJlc3Npb24gPSAnYGhlYWRlcnMoKS5mb3JFYWNoKC4uLilgJ1xuICAgICAgICBzeW5jSU9EZXYocm91dGUsIGV4cHJlc3Npb24pXG4gICAgICAgIHJldHVybiB1bmRlcmx5aW5nSGVhZGVycy5mb3JFYWNoLmFwcGx5KFxuICAgICAgICAgIHVuZGVybHlpbmdIZWFkZXJzLFxuICAgICAgICAgIGFyZ3VtZW50cyBhcyBhbnlcbiAgICAgICAgKVxuICAgICAgfSxcbiAgICB9LFxuICAgIGtleXM6IHtcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBrZXlzKCkge1xuICAgICAgICBjb25zdCBleHByZXNzaW9uID0gJ2BoZWFkZXJzKCkua2V5cygpYCdcbiAgICAgICAgc3luY0lPRGV2KHJvdXRlLCBleHByZXNzaW9uKVxuICAgICAgICByZXR1cm4gdW5kZXJseWluZ0hlYWRlcnMua2V5cy5hcHBseSh1bmRlcmx5aW5nSGVhZGVycywgYXJndW1lbnRzIGFzIGFueSlcbiAgICAgIH0sXG4gICAgfSxcbiAgICB2YWx1ZXM6IHtcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZXMoKSB7XG4gICAgICAgIGNvbnN0IGV4cHJlc3Npb24gPSAnYGhlYWRlcnMoKS52YWx1ZXMoKWAnXG4gICAgICAgIHN5bmNJT0Rldihyb3V0ZSwgZXhwcmVzc2lvbilcbiAgICAgICAgcmV0dXJuIHVuZGVybHlpbmdIZWFkZXJzLnZhbHVlcy5hcHBseShcbiAgICAgICAgICB1bmRlcmx5aW5nSGVhZGVycyxcbiAgICAgICAgICBhcmd1bWVudHMgYXMgYW55XG4gICAgICAgIClcbiAgICAgIH0sXG4gICAgfSxcbiAgICBlbnRyaWVzOiB7XG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZW50cmllcygpIHtcbiAgICAgICAgY29uc3QgZXhwcmVzc2lvbiA9ICdgaGVhZGVycygpLmVudHJpZXMoKWAnXG4gICAgICAgIHN5bmNJT0Rldihyb3V0ZSwgZXhwcmVzc2lvbilcbiAgICAgICAgcmV0dXJuIHVuZGVybHlpbmdIZWFkZXJzLmVudHJpZXMuYXBwbHkoXG4gICAgICAgICAgdW5kZXJseWluZ0hlYWRlcnMsXG4gICAgICAgICAgYXJndW1lbnRzIGFzIGFueVxuICAgICAgICApXG4gICAgICB9LFxuICAgIH0sXG4gICAgW1N5bWJvbC5pdGVyYXRvcl06IHtcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IGV4cHJlc3Npb24gPSAnYC4uLmhlYWRlcnMoKWAgb3Igc2ltaWxhciBpdGVyYXRpb24nXG4gICAgICAgIHN5bmNJT0Rldihyb3V0ZSwgZXhwcmVzc2lvbilcbiAgICAgICAgcmV0dXJuIHVuZGVybHlpbmdIZWFkZXJzW1N5bWJvbC5pdGVyYXRvcl0uYXBwbHkoXG4gICAgICAgICAgdW5kZXJseWluZ0hlYWRlcnMsXG4gICAgICAgICAgYXJndW1lbnRzIGFzIGFueVxuICAgICAgICApXG4gICAgICB9LFxuICAgIH0sXG4gIH0gc2F0aXNmaWVzIEhlYWRlcnNFeHRlbnNpb25zKVxuXG4gIHJldHVybiBwcm9taXNlXG59XG5cbi8vIFNpbWlsYXIgdG8gYG1ha2VVbnRyYWNrZWRFeG90aWNIZWFkZXJzV2l0aERldldhcm5pbmdzYCwgYnV0IGp1c3QgbG9nZ2luZyB0aGVcbi8vIHN5bmMgYWNjZXNzIHdpdGhvdXQgYWN0dWFsbHkgZGVmaW5pbmcgdGhlIGhlYWRlcnMgcHJvcGVydGllcyBvbiB0aGUgcHJvbWlzZS5cbmZ1bmN0aW9uIG1ha2VVbnRyYWNrZWRIZWFkZXJzV2l0aERldldhcm5pbmdzKFxuICB1bmRlcmx5aW5nSGVhZGVyczogUmVhZG9ubHlIZWFkZXJzLFxuICByb3V0ZT86IHN0cmluZ1xuKTogUHJvbWlzZTxSZWFkb25seUhlYWRlcnM+IHtcbiAgY29uc3QgY2FjaGVkSGVhZGVycyA9IENhY2hlZEhlYWRlcnMuZ2V0KHVuZGVybHlpbmdIZWFkZXJzKVxuICBpZiAoY2FjaGVkSGVhZGVycykge1xuICAgIHJldHVybiBjYWNoZWRIZWFkZXJzXG4gIH1cblxuICBjb25zdCBwcm9taXNlID0gbWFrZURldnRvb2xzSU9Bd2FyZVByb21pc2UodW5kZXJseWluZ0hlYWRlcnMpXG5cbiAgY29uc3QgcHJveGllZFByb21pc2UgPSBuZXcgUHJveHkocHJvbWlzZSwge1xuICAgIGdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKSB7XG4gICAgICBzd2l0Y2ggKHByb3ApIHtcbiAgICAgICAgY2FzZSBTeW1ib2wuaXRlcmF0b3I6IHtcbiAgICAgICAgICB3YXJuRm9yU3luY0FjY2Vzcyhyb3V0ZSwgJ2AuLi5oZWFkZXJzKClgIG9yIHNpbWlsYXIgaXRlcmF0aW9uJylcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2FwcGVuZCc6XG4gICAgICAgIGNhc2UgJ2RlbGV0ZSc6XG4gICAgICAgIGNhc2UgJ2dldCc6XG4gICAgICAgIGNhc2UgJ2hhcyc6XG4gICAgICAgIGNhc2UgJ3NldCc6XG4gICAgICAgIGNhc2UgJ2dldFNldENvb2tpZSc6XG4gICAgICAgIGNhc2UgJ2ZvckVhY2gnOlxuICAgICAgICBjYXNlICdrZXlzJzpcbiAgICAgICAgY2FzZSAndmFsdWVzJzpcbiAgICAgICAgY2FzZSAnZW50cmllcyc6IHtcbiAgICAgICAgICB3YXJuRm9yU3luY0FjY2Vzcyhyb3V0ZSwgYFxcYGhlYWRlcnMoKS4ke3Byb3B9XFxgYClcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAvLyBXZSBvbmx5IHdhcm4gZm9yIHdlbGwtZGVmaW5lZCBwcm9wZXJ0aWVzIG9mIHRoZSBoZWFkZXJzIG9iamVjdC5cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gUmVmbGVjdEFkYXB0ZXIuZ2V0KHRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpXG4gICAgfSxcbiAgfSlcblxuICBDYWNoZWRIZWFkZXJzLnNldCh1bmRlcmx5aW5nSGVhZGVycywgcHJveGllZFByb21pc2UpXG5cbiAgcmV0dXJuIHByb3hpZWRQcm9taXNlXG59XG5cbmZ1bmN0aW9uIGRlc2NyaWJlTmFtZUFyZyhhcmc6IHVua25vd24pIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnID8gYCcke2FyZ30nYCA6ICcuLi4nXG59XG5cbmZ1bmN0aW9uIHN5bmNJT0Rldihyb3V0ZTogc3RyaW5nIHwgdW5kZWZpbmVkLCBleHByZXNzaW9uOiBzdHJpbmcpIHtcbiAgY29uc3Qgd29ya1VuaXRTdG9yZSA9IHdvcmtVbml0QXN5bmNTdG9yYWdlLmdldFN0b3JlKClcblxuICBpZiAod29ya1VuaXRTdG9yZSkge1xuICAgIHN3aXRjaCAod29ya1VuaXRTdG9yZS50eXBlKSB7XG4gICAgICBjYXNlICdyZXF1ZXN0JzpcbiAgICAgICAgaWYgKHdvcmtVbml0U3RvcmUucHJlcmVuZGVyUGhhc2UgPT09IHRydWUpIHtcbiAgICAgICAgICAvLyBXaGVuIHdlJ3JlIHJlbmRlcmluZyBkeW5hbWljYWxseSBpbiBkZXYsIHdlIG5lZWQgdG8gYWR2YW5jZSBvdXQgb2ZcbiAgICAgICAgICAvLyB0aGUgUHJlcmVuZGVyIGVudmlyb25tZW50IHdoZW4gd2UgcmVhZCBSZXF1ZXN0IGRhdGEgc3luY2hyb25vdXNseS5cbiAgICAgICAgICB0cmFja1N5bmNocm9ub3VzUmVxdWVzdERhdGFBY2Nlc3NJbkRldih3b3JrVW5pdFN0b3JlKVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdwcmVyZW5kZXInOlxuICAgICAgY2FzZSAncHJlcmVuZGVyLWNsaWVudCc6XG4gICAgICBjYXNlICdwcmVyZW5kZXItcnVudGltZSc6XG4gICAgICBjYXNlICdwcmVyZW5kZXItcHByJzpcbiAgICAgIGNhc2UgJ3ByZXJlbmRlci1sZWdhY3knOlxuICAgICAgY2FzZSAnY2FjaGUnOlxuICAgICAgY2FzZSAncHJpdmF0ZS1jYWNoZSc6XG4gICAgICBjYXNlICd1bnN0YWJsZS1jYWNoZSc6XG4gICAgICAgIGJyZWFrXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB3b3JrVW5pdFN0b3JlIHNhdGlzZmllcyBuZXZlclxuICAgIH1cbiAgfVxuXG4gIC8vIEluIGFsbCBjYXNlcyB3ZSB3YXJuIG5vcm1hbGx5XG4gIHdhcm5Gb3JTeW5jQWNjZXNzKHJvdXRlLCBleHByZXNzaW9uKVxufVxuXG5jb25zdCB3YXJuRm9yU3luY0FjY2VzcyA9IGNyZWF0ZURlZHVwZWRCeUNhbGxzaXRlU2VydmVyRXJyb3JMb2dnZXJEZXYoXG4gIGNyZWF0ZUhlYWRlcnNBY2Nlc3NFcnJvclxuKVxuXG5mdW5jdGlvbiBjcmVhdGVIZWFkZXJzQWNjZXNzRXJyb3IoXG4gIHJvdXRlOiBzdHJpbmcgfCB1bmRlZmluZWQsXG4gIGV4cHJlc3Npb246IHN0cmluZ1xuKSB7XG4gIGNvbnN0IHByZWZpeCA9IHJvdXRlID8gYFJvdXRlIFwiJHtyb3V0ZX1cIiBgIDogJ1RoaXMgcm91dGUgJ1xuICByZXR1cm4gbmV3IEVycm9yKFxuICAgIGAke3ByZWZpeH11c2VkICR7ZXhwcmVzc2lvbn0uIGAgK1xuICAgICAgYFxcYGhlYWRlcnMoKVxcYCBzaG91bGQgYmUgYXdhaXRlZCBiZWZvcmUgdXNpbmcgaXRzIHZhbHVlLiBgICtcbiAgICAgIGBMZWFybiBtb3JlOiBodHRwczovL25leHRqcy5vcmcvZG9jcy9tZXNzYWdlcy9zeW5jLWR5bmFtaWMtYXBpc2BcbiAgKVxufVxuXG50eXBlIEhlYWRlcnNFeHRlbnNpb25zID0ge1xuICBbSyBpbiBrZXlvZiBSZWFkb25seUhlYWRlcnNdOiB1bmtub3duXG59XG4iXSwibmFtZXMiOlsiSGVhZGVyc0FkYXB0ZXIiLCJ3b3JrQXN5bmNTdG9yYWdlIiwidGhyb3dGb3JNaXNzaW5nUmVxdWVzdFN0b3JlIiwid29ya1VuaXRBc3luY1N0b3JhZ2UiLCJwb3N0cG9uZVdpdGhUcmFja2luZyIsInRocm93VG9JbnRlcnJ1cHRTdGF0aWNHZW5lcmF0aW9uIiwidHJhY2tEeW5hbWljRGF0YUluRHluYW1pY1JlbmRlciIsInRyYWNrU3luY2hyb25vdXNSZXF1ZXN0RGF0YUFjY2Vzc0luRGV2IiwiU3RhdGljR2VuQmFpbG91dEVycm9yIiwibWFrZURldnRvb2xzSU9Bd2FyZVByb21pc2UiLCJtYWtlSGFuZ2luZ1Byb21pc2UiLCJjcmVhdGVEZWR1cGVkQnlDYWxsc2l0ZVNlcnZlckVycm9yTG9nZ2VyRGV2IiwiaXNSZXF1ZXN0QVBJQ2FsbGFibGVJbnNpZGVBZnRlciIsIkludmFyaWFudEVycm9yIiwiUmVmbGVjdEFkYXB0ZXIiLCJoZWFkZXJzIiwiY2FsbGluZ0V4cHJlc3Npb24iLCJ3b3JrU3RvcmUiLCJnZXRTdG9yZSIsIndvcmtVbml0U3RvcmUiLCJwaGFzZSIsIkVycm9yIiwicm91dGUiLCJmb3JjZVN0YXRpYyIsInVuZGVybHlpbmdIZWFkZXJzIiwic2VhbCIsIkhlYWRlcnMiLCJtYWtlVW50cmFja2VkRXhvdGljSGVhZGVycyIsInR5cGUiLCJlcnJvciIsImNhcHR1cmVTdGFja1RyYWNlIiwiaW52YWxpZER5bmFtaWNVc2FnZUVycm9yIiwiZHluYW1pY1Nob3VsZEVycm9yIiwibWFrZUhhbmdpbmdIZWFkZXJzIiwiZXhwb3J0TmFtZSIsImR5bmFtaWNUcmFja2luZyIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsIl9fTkVYVF9DQUNIRV9DT01QT05FTlRTIiwibWFrZVVudHJhY2tlZEhlYWRlcnNXaXRoRGV2V2FybmluZ3MiLCJtYWtlVW50cmFja2VkRXhvdGljSGVhZGVyc1dpdGhEZXZXYXJuaW5ncyIsIm1ha2VVbnRyYWNrZWRIZWFkZXJzIiwiQ2FjaGVkSGVhZGVycyIsIldlYWtNYXAiLCJwcmVyZW5kZXJTdG9yZSIsImNhY2hlZEhlYWRlcnMiLCJnZXQiLCJwcm9taXNlIiwicmVuZGVyU2lnbmFsIiwic2V0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiYXBwZW5kIiwidmFsdWUiLCJiaW5kIiwiZGVsZXRlIiwiaGFzIiwiZ2V0U2V0Q29va2llIiwiZm9yRWFjaCIsImtleXMiLCJ2YWx1ZXMiLCJlbnRyaWVzIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJleHByZXNzaW9uIiwiZGVzY3JpYmVOYW1lQXJnIiwiYXJndW1lbnRzIiwic3luY0lPRGV2IiwiYXBwbHkiLCJfZGVsZXRlIiwicHJveGllZFByb21pc2UiLCJQcm94eSIsInRhcmdldCIsInByb3AiLCJyZWNlaXZlciIsIndhcm5Gb3JTeW5jQWNjZXNzIiwiYXJnIiwicHJlcmVuZGVyUGhhc2UiLCJjcmVhdGVIZWFkZXJzQWNjZXNzRXJyb3IiLCJwcmVmaXgiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/request/headers.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/request/root-params.js":
/*!******************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/request/root-params.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getRootParam: () => (/* binding */ getRootParam),\n/* harmony export */   unstable_rootParams: () => (/* binding */ unstable_rootParams)\n/* harmony export */ });\n/* harmony import */ var _shared_lib_invariant_error__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/lib/invariant-error */ \"(middleware)/./node_modules/next/dist/esm/shared/lib/invariant-error.js\");\n/* harmony import */ var _app_render_dynamic_rendering__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../app-render/dynamic-rendering */ \"(middleware)/./node_modules/next/dist/esm/server/app-render/dynamic-rendering.js\");\n/* harmony import */ var _app_render_work_async_storage_external__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../app-render/work-async-storage.external */ \"(shared)/./node_modules/next/dist/esm/server/app-render/work-async-storage.external.js\");\n/* harmony import */ var _app_render_work_unit_async_storage_external__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../app-render/work-unit-async-storage.external */ \"(shared)/./node_modules/next/dist/esm/server/app-render/work-unit-async-storage.external.js\");\n/* harmony import */ var _dynamic_rendering_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../dynamic-rendering-utils */ \"(middleware)/./node_modules/next/dist/esm/server/dynamic-rendering-utils.js\");\n/* harmony import */ var _shared_lib_utils_reflect_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../shared/lib/utils/reflect-utils */ \"(middleware)/./node_modules/next/dist/esm/shared/lib/utils/reflect-utils.js\");\n/* harmony import */ var _app_render_action_async_storage_external__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../app-render/action-async-storage.external */ \"(shared)/./node_modules/next/dist/esm/server/app-render/action-async-storage.external.js\");\n/* harmony import */ var _build_output_log__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../build/output/log */ \"(middleware)/./node_modules/next/dist/esm/build/output/log.js\");\n\n\n\n\n\n\n\n\nconst CachedParams = new WeakMap();\n/**\n * @deprecated import specific root params from `next/root-params` instead.\n */ async function unstable_rootParams() {\n    (0,_build_output_log__WEBPACK_IMPORTED_MODULE_7__.warnOnce)('`unstable_rootParams()` is deprecated and will be removed in an upcoming major release. Import specific root params from `next/root-params` instead.');\n    const workStore = _app_render_work_async_storage_external__WEBPACK_IMPORTED_MODULE_2__.workAsyncStorage.getStore();\n    if (!workStore) {\n        throw Object.defineProperty(new _shared_lib_invariant_error__WEBPACK_IMPORTED_MODULE_0__.InvariantError('Missing workStore in unstable_rootParams'), \"__NEXT_ERROR_CODE\", {\n            value: \"E615\",\n            enumerable: false,\n            configurable: true\n        });\n    }\n    const workUnitStore = _app_render_work_unit_async_storage_external__WEBPACK_IMPORTED_MODULE_3__.workUnitAsyncStorage.getStore();\n    if (!workUnitStore) {\n        throw Object.defineProperty(new Error(`Route ${workStore.route} used \\`unstable_rootParams()\\` in Pages Router. This API is only available within App Router.`), \"__NEXT_ERROR_CODE\", {\n            value: \"E641\",\n            enumerable: false,\n            configurable: true\n        });\n    }\n    switch(workUnitStore.type){\n        case 'cache':\n        case 'unstable-cache':\n            {\n                throw Object.defineProperty(new Error(`Route ${workStore.route} used \\`unstable_rootParams()\\` inside \\`\"use cache\"\\` or \\`unstable_cache\\`. Support for this API inside cache scopes is planned for a future version of Next.js.`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E642\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n        case 'prerender':\n        case 'prerender-client':\n        case 'prerender-ppr':\n        case 'prerender-legacy':\n            return createPrerenderRootParams(workUnitStore.rootParams, workStore, workUnitStore);\n        case 'private-cache':\n        case 'prerender-runtime':\n        case 'request':\n            return Promise.resolve(workUnitStore.rootParams);\n        default:\n            return workUnitStore;\n    }\n}\nfunction createPrerenderRootParams(underlyingParams, workStore, prerenderStore) {\n    switch(prerenderStore.type){\n        case 'prerender-client':\n            {\n                const exportName = '`unstable_rootParams`';\n                throw Object.defineProperty(new _shared_lib_invariant_error__WEBPACK_IMPORTED_MODULE_0__.InvariantError(`${exportName} must not be used within a client component. Next.js should be preventing ${exportName} from being included in client components statically, but did not in this case.`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E693\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n        case 'prerender':\n            {\n                const fallbackParams = prerenderStore.fallbackRouteParams;\n                if (fallbackParams) {\n                    for(const key in underlyingParams){\n                        if (fallbackParams.has(key)) {\n                            const cachedParams = CachedParams.get(underlyingParams);\n                            if (cachedParams) {\n                                return cachedParams;\n                            }\n                            const promise = (0,_dynamic_rendering_utils__WEBPACK_IMPORTED_MODULE_4__.makeHangingPromise)(prerenderStore.renderSignal, workStore.route, '`unstable_rootParams`');\n                            CachedParams.set(underlyingParams, promise);\n                            return promise;\n                        }\n                    }\n                }\n                break;\n            }\n        case 'prerender-ppr':\n            {\n                const fallbackParams = prerenderStore.fallbackRouteParams;\n                if (fallbackParams) {\n                    for(const key in underlyingParams){\n                        if (fallbackParams.has(key)) {\n                            // We have fallback params at this level so we need to make an erroring\n                            // params object which will postpone if you access the fallback params\n                            return makeErroringRootParams(underlyingParams, fallbackParams, workStore, prerenderStore);\n                        }\n                    }\n                }\n                break;\n            }\n        case 'prerender-legacy':\n            break;\n        default:\n            prerenderStore;\n    }\n    // We don't have any fallback params so we have an entirely static safe params object\n    return Promise.resolve(underlyingParams);\n}\nfunction makeErroringRootParams(underlyingParams, fallbackParams, workStore, prerenderStore) {\n    const cachedParams = CachedParams.get(underlyingParams);\n    if (cachedParams) {\n        return cachedParams;\n    }\n    const augmentedUnderlying = {\n        ...underlyingParams\n    };\n    // We don't use makeResolvedReactPromise here because params\n    // supports copying with spread and we don't want to unnecessarily\n    // instrument the promise with spreadable properties of ReactPromise.\n    const promise = Promise.resolve(augmentedUnderlying);\n    CachedParams.set(underlyingParams, promise);\n    Object.keys(underlyingParams).forEach((prop)=>{\n        if (_shared_lib_utils_reflect_utils__WEBPACK_IMPORTED_MODULE_5__.wellKnownProperties.has(prop)) {\n        // These properties cannot be shadowed because they need to be the\n        // true underlying value for Promises to work correctly at runtime\n        } else {\n            if (fallbackParams.has(prop)) {\n                Object.defineProperty(augmentedUnderlying, prop, {\n                    get () {\n                        const expression = (0,_shared_lib_utils_reflect_utils__WEBPACK_IMPORTED_MODULE_5__.describeStringPropertyAccess)('unstable_rootParams', prop);\n                        // In most dynamic APIs we also throw if `dynamic = \"error\"` however\n                        // for params is only dynamic when we're generating a fallback shell\n                        // and even when `dynamic = \"error\"` we still support generating dynamic\n                        // fallback shells\n                        // TODO remove this comment when cacheComponents is the default since there\n                        // will be no `dynamic = \"error\"`\n                        if (prerenderStore.type === 'prerender-ppr') {\n                            // PPR Prerender (no cacheComponents)\n                            (0,_app_render_dynamic_rendering__WEBPACK_IMPORTED_MODULE_1__.postponeWithTracking)(workStore.route, expression, prerenderStore.dynamicTracking);\n                        } else {\n                            // Legacy Prerender\n                            (0,_app_render_dynamic_rendering__WEBPACK_IMPORTED_MODULE_1__.throwToInterruptStaticGeneration)(expression, workStore, prerenderStore);\n                        }\n                    },\n                    enumerable: true\n                });\n            } else {\n                ;\n                promise[prop] = underlyingParams[prop];\n            }\n        }\n    });\n    return promise;\n}\n/**\n * Used for the compiler-generated `next/root-params` module.\n * @internal\n */ function getRootParam(paramName) {\n    const apiName = `\\`import('next/root-params').${paramName}()\\``;\n    const workStore = _app_render_work_async_storage_external__WEBPACK_IMPORTED_MODULE_2__.workAsyncStorage.getStore();\n    if (!workStore) {\n        throw Object.defineProperty(new _shared_lib_invariant_error__WEBPACK_IMPORTED_MODULE_0__.InvariantError(`Missing workStore in ${apiName}`), \"__NEXT_ERROR_CODE\", {\n            value: \"E764\",\n            enumerable: false,\n            configurable: true\n        });\n    }\n    const workUnitStore = _app_render_work_unit_async_storage_external__WEBPACK_IMPORTED_MODULE_3__.workUnitAsyncStorage.getStore();\n    if (!workUnitStore) {\n        throw Object.defineProperty(new Error(`Route ${workStore.route} used ${apiName} outside of a Server Component. This is not allowed.`), \"__NEXT_ERROR_CODE\", {\n            value: \"E774\",\n            enumerable: false,\n            configurable: true\n        });\n    }\n    const actionStore = _app_render_action_async_storage_external__WEBPACK_IMPORTED_MODULE_6__.actionAsyncStorage.getStore();\n    if (actionStore) {\n        if (actionStore.isAppRoute) {\n            // TODO(root-params): add support for route handlers\n            throw Object.defineProperty(new Error(`Route ${workStore.route} used ${apiName} inside a Route Handler. Support for this API in Route Handlers is planned for a future version of Next.js.`), \"__NEXT_ERROR_CODE\", {\n                value: \"E765\",\n                enumerable: false,\n                configurable: true\n            });\n        }\n        if (actionStore.isAction && workUnitStore.phase === 'action') {\n            // Actions are not fundamentally tied to a route (even if they're always submitted from some page),\n            // so root params would be inconsistent if an action is called from multiple roots.\n            // Make sure we check if the phase is \"action\" - we should not error in the rerender\n            // after an action revalidates or updates cookies (which will still have `actionStore.isAction === true`)\n            throw Object.defineProperty(new Error(`${apiName} was used inside a Server Action. This is not supported. Functions from 'next/root-params' can only be called in the context of a route.`), \"__NEXT_ERROR_CODE\", {\n                value: \"E766\",\n                enumerable: false,\n                configurable: true\n            });\n        }\n    }\n    switch(workUnitStore.type){\n        case 'unstable-cache':\n        case 'cache':\n            {\n                throw Object.defineProperty(new Error(`Route ${workStore.route} used ${apiName} inside \\`\"use cache\"\\` or \\`unstable_cache\\`. Support for this API inside cache scopes is planned for a future version of Next.js.`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E760\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n        case 'prerender':\n        case 'prerender-client':\n        case 'prerender-ppr':\n        case 'prerender-legacy':\n            {\n                return createPrerenderRootParamPromise(paramName, workStore, workUnitStore, apiName);\n            }\n        case 'private-cache':\n        case 'prerender-runtime':\n        case 'request':\n            {\n                break;\n            }\n        default:\n            {\n                workUnitStore;\n            }\n    }\n    return Promise.resolve(workUnitStore.rootParams[paramName]);\n}\nfunction createPrerenderRootParamPromise(paramName, workStore, prerenderStore, apiName) {\n    switch(prerenderStore.type){\n        case 'prerender-client':\n            {\n                throw Object.defineProperty(new _shared_lib_invariant_error__WEBPACK_IMPORTED_MODULE_0__.InvariantError(`${apiName} must not be used within a client component. Next.js should be preventing ${apiName} from being included in client components statically, but did not in this case.`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E693\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n        case 'prerender':\n        case 'prerender-legacy':\n        case 'prerender-ppr':\n        default:\n    }\n    const underlyingParams = prerenderStore.rootParams;\n    switch(prerenderStore.type){\n        case 'prerender':\n            {\n                // We are in a dynamicIO prerender.\n                // The param is a fallback, so it should be treated as dynamic.\n                if (prerenderStore.fallbackRouteParams && prerenderStore.fallbackRouteParams.has(paramName)) {\n                    return (0,_dynamic_rendering_utils__WEBPACK_IMPORTED_MODULE_4__.makeHangingPromise)(prerenderStore.renderSignal, workStore.route, apiName);\n                }\n                break;\n            }\n        case 'prerender-ppr':\n            {\n                // We aren't in a dynamicIO prerender, but the param is a fallback,\n                // so we need to make an erroring params object which will postpone/error if you access it\n                if (prerenderStore.fallbackRouteParams && prerenderStore.fallbackRouteParams.has(paramName)) {\n                    return makeErroringRootParamPromise(paramName, workStore, prerenderStore, apiName);\n                }\n                break;\n            }\n        case 'prerender-legacy':\n            {\n                break;\n            }\n        default:\n            {\n                prerenderStore;\n            }\n    }\n    // If the param is not a fallback param, we just return the statically available value.\n    return Promise.resolve(underlyingParams[paramName]);\n}\n/** Deliberately async -- we want to create a rejected promise, not error synchronously. */ async function makeErroringRootParamPromise(paramName, workStore, prerenderStore, apiName) {\n    const expression = (0,_shared_lib_utils_reflect_utils__WEBPACK_IMPORTED_MODULE_5__.describeStringPropertyAccess)(apiName, paramName);\n    // In most dynamic APIs, we also throw if `dynamic = \"error\"`.\n    // However, root params are only dynamic when we're generating a fallback shell,\n    // and even with `dynamic = \"error\"` we still support generating dynamic fallback shells.\n    // TODO: remove this comment when dynamicIO is the default since there will be no `dynamic = \"error\"`\n    switch(prerenderStore.type){\n        case 'prerender-ppr':\n            {\n                return (0,_app_render_dynamic_rendering__WEBPACK_IMPORTED_MODULE_1__.postponeWithTracking)(workStore.route, expression, prerenderStore.dynamicTracking);\n            }\n        case 'prerender-legacy':\n            {\n                return (0,_app_render_dynamic_rendering__WEBPACK_IMPORTED_MODULE_1__.throwToInterruptStaticGeneration)(expression, workStore, prerenderStore);\n            }\n        default:\n            {\n                prerenderStore;\n            }\n    }\n} //# sourceMappingURL=root-params.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL3JlcXVlc3Qvcm9vdC1wYXJhbXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFpRTtBQUl6QjtBQUlVO0FBTUs7QUFDUTtBQU1sQjtBQUNtQztBQUMvQjtBQUdqRCxNQUFNVSxlQUFlLElBQUlDO0FBRXpCOztDQUVDLEdBQ00sZUFBZUM7SUFDcEJILDJEQUFRQSxDQUNOO0lBRUYsTUFBTUksWUFBWVYscUZBQWdCQSxDQUFDVyxRQUFRO0lBQzNDLElBQUksQ0FBQ0QsV0FBVztRQUNkLE1BQU0scUJBQThELENBQTlELElBQUliLHVFQUFjQSxDQUFDLDZDQUFuQjttQkFBQTt3QkFBQTswQkFBQTtRQUE2RDtJQUNyRTtJQUVBLE1BQU1lLGdCQUFnQlgsOEZBQW9CQSxDQUFDVSxRQUFRO0lBRW5ELElBQUksQ0FBQ0MsZUFBZTtRQUNsQixNQUFNLHFCQUVMLENBRkssSUFBSUMsTUFDUixDQUFDLE1BQU0sRUFBRUgsVUFBVUksS0FBSyxDQUFDLDhGQUE4RixDQUFDLEdBRHBIO21CQUFBO3dCQUFBOzBCQUFBO1FBRU47SUFDRjtJQUVBLE9BQVFGLGNBQWNHLElBQUk7UUFDeEIsS0FBSztRQUNMLEtBQUs7WUFBa0I7Z0JBQ3JCLE1BQU0scUJBRUwsQ0FGSyxJQUFJRixNQUNSLENBQUMsTUFBTSxFQUFFSCxVQUFVSSxLQUFLLENBQUMsa0tBQWtLLENBQUMsR0FEeEw7MkJBQUE7Z0NBQUE7a0NBQUE7Z0JBRU47WUFDRjtRQUNBLEtBQUs7UUFDTCxLQUFLO1FBQ0wsS0FBSztRQUNMLEtBQUs7WUFDSCxPQUFPRSwwQkFDTEosY0FBY0ssVUFBVSxFQUN4QlAsV0FDQUU7UUFFSixLQUFLO1FBQ0wsS0FBSztRQUNMLEtBQUs7WUFDSCxPQUFPTSxRQUFRQyxPQUFPLENBQUNQLGNBQWNLLFVBQVU7UUFDakQ7WUFDRSxPQUFPTDtJQUNYO0FBQ0Y7QUFFQSxTQUFTSSwwQkFDUEksZ0JBQXdCLEVBQ3hCVixTQUFvQixFQUNwQlcsY0FBb0M7SUFFcEMsT0FBUUEsZUFBZU4sSUFBSTtRQUN6QixLQUFLO1lBQW9CO2dCQUN2QixNQUFNTyxhQUFhO2dCQUNuQixNQUFNLHFCQUVMLENBRkssSUFBSXpCLHVFQUFjQSxDQUN0QixHQUFHeUIsV0FBVywwRUFBMEUsRUFBRUEsV0FBVywrRUFBK0UsQ0FBQyxHQURqTDsyQkFBQTtnQ0FBQTtrQ0FBQTtnQkFFTjtZQUNGO1FBQ0EsS0FBSztZQUFhO2dCQUNoQixNQUFNQyxpQkFBaUJGLGVBQWVHLG1CQUFtQjtnQkFDekQsSUFBSUQsZ0JBQWdCO29CQUNsQixJQUFLLE1BQU1FLE9BQU9MLGlCQUFrQjt3QkFDbEMsSUFBSUcsZUFBZUcsR0FBRyxDQUFDRCxNQUFNOzRCQUMzQixNQUFNRSxlQUFlcEIsYUFBYXFCLEdBQUcsQ0FBQ1I7NEJBQ3RDLElBQUlPLGNBQWM7Z0NBQ2hCLE9BQU9BOzRCQUNUOzRCQUVBLE1BQU1FLFVBQVUzQiw0RUFBa0JBLENBQ2hDbUIsZUFBZVMsWUFBWSxFQUMzQnBCLFVBQVVJLEtBQUssRUFDZjs0QkFFRlAsYUFBYXdCLEdBQUcsQ0FBQ1gsa0JBQWtCUzs0QkFFbkMsT0FBT0E7d0JBQ1Q7b0JBQ0Y7Z0JBQ0Y7Z0JBQ0E7WUFDRjtRQUNBLEtBQUs7WUFBaUI7Z0JBQ3BCLE1BQU1OLGlCQUFpQkYsZUFBZUcsbUJBQW1CO2dCQUN6RCxJQUFJRCxnQkFBZ0I7b0JBQ2xCLElBQUssTUFBTUUsT0FBT0wsaUJBQWtCO3dCQUNsQyxJQUFJRyxlQUFlRyxHQUFHLENBQUNELE1BQU07NEJBQzNCLHVFQUF1RTs0QkFDdkUsc0VBQXNFOzRCQUN0RSxPQUFPTyx1QkFDTFosa0JBQ0FHLGdCQUNBYixXQUNBVzt3QkFFSjtvQkFDRjtnQkFDRjtnQkFDQTtZQUNGO1FBQ0EsS0FBSztZQUNIO1FBQ0Y7WUFDRUE7SUFDSjtJQUVBLHFGQUFxRjtJQUNyRixPQUFPSCxRQUFRQyxPQUFPLENBQUNDO0FBQ3pCO0FBRUEsU0FBU1ksdUJBQ1BaLGdCQUF3QixFQUN4QkcsY0FBbUMsRUFDbkNiLFNBQW9CLEVBQ3BCVyxjQUF3RDtJQUV4RCxNQUFNTSxlQUFlcEIsYUFBYXFCLEdBQUcsQ0FBQ1I7SUFDdEMsSUFBSU8sY0FBYztRQUNoQixPQUFPQTtJQUNUO0lBRUEsTUFBTU0sc0JBQXNCO1FBQUUsR0FBR2IsZ0JBQWdCO0lBQUM7SUFFbEQsNERBQTREO0lBQzVELGtFQUFrRTtJQUNsRSxxRUFBcUU7SUFDckUsTUFBTVMsVUFBVVgsUUFBUUMsT0FBTyxDQUFDYztJQUNoQzFCLGFBQWF3QixHQUFHLENBQUNYLGtCQUFrQlM7SUFFbkNLLE9BQU9DLElBQUksQ0FBQ2Ysa0JBQWtCZ0IsT0FBTyxDQUFDLENBQUNDO1FBQ3JDLElBQUlqQyxnRkFBbUJBLENBQUNzQixHQUFHLENBQUNXLE9BQU87UUFDakMsa0VBQWtFO1FBQ2xFLGtFQUFrRTtRQUNwRSxPQUFPO1lBQ0wsSUFBSWQsZUFBZUcsR0FBRyxDQUFDVyxPQUFPO2dCQUM1QkgsT0FBT0ksY0FBYyxDQUFDTCxxQkFBcUJJLE1BQU07b0JBQy9DVDt3QkFDRSxNQUFNVyxhQUFhcEMsNkZBQTRCQSxDQUM3Qyx1QkFDQWtDO3dCQUVGLG9FQUFvRTt3QkFDcEUsb0VBQW9FO3dCQUNwRSx3RUFBd0U7d0JBQ3hFLGtCQUFrQjt3QkFDbEIsMkVBQTJFO3dCQUMzRSxpQ0FBaUM7d0JBQ2pDLElBQUloQixlQUFlTixJQUFJLEtBQUssaUJBQWlCOzRCQUMzQyxxQ0FBcUM7NEJBQ3JDakIsbUZBQW9CQSxDQUNsQlksVUFBVUksS0FBSyxFQUNmeUIsWUFDQWxCLGVBQWVtQixlQUFlO3dCQUVsQyxPQUFPOzRCQUNMLG1CQUFtQjs0QkFDbkJ6QywrRkFBZ0NBLENBQzlCd0MsWUFDQTdCLFdBQ0FXO3dCQUVKO29CQUNGO29CQUNBb0IsWUFBWTtnQkFDZDtZQUNGLE9BQU87O2dCQUNIWixPQUFlLENBQUNRLEtBQUssR0FBR2pCLGdCQUFnQixDQUFDaUIsS0FBSztZQUNsRDtRQUNGO0lBQ0Y7SUFFQSxPQUFPUjtBQUNUO0FBRUE7OztDQUdDLEdBQ00sU0FBU2EsYUFBYUMsU0FBaUI7SUFDNUMsTUFBTUMsVUFBVSxDQUFDLDZCQUE2QixFQUFFRCxVQUFVLElBQUksQ0FBQztJQUUvRCxNQUFNakMsWUFBWVYscUZBQWdCQSxDQUFDVyxRQUFRO0lBQzNDLElBQUksQ0FBQ0QsV0FBVztRQUNkLE1BQU0scUJBQXFELENBQXJELElBQUliLHVFQUFjQSxDQUFDLENBQUMscUJBQXFCLEVBQUUrQyxTQUFTLEdBQXBEO21CQUFBO3dCQUFBOzBCQUFBO1FBQW9EO0lBQzVEO0lBRUEsTUFBTWhDLGdCQUFnQlgsOEZBQW9CQSxDQUFDVSxRQUFRO0lBQ25ELElBQUksQ0FBQ0MsZUFBZTtRQUNsQixNQUFNLHFCQUVMLENBRkssSUFBSUMsTUFDUixDQUFDLE1BQU0sRUFBRUgsVUFBVUksS0FBSyxDQUFDLE1BQU0sRUFBRThCLFFBQVEsb0RBQW9ELENBQUMsR0FEMUY7bUJBQUE7d0JBQUE7MEJBQUE7UUFFTjtJQUNGO0lBRUEsTUFBTUMsY0FBY3hDLHlGQUFrQkEsQ0FBQ00sUUFBUTtJQUMvQyxJQUFJa0MsYUFBYTtRQUNmLElBQUlBLFlBQVlDLFVBQVUsRUFBRTtZQUMxQixvREFBb0Q7WUFDcEQsTUFBTSxxQkFFTCxDQUZLLElBQUlqQyxNQUNSLENBQUMsTUFBTSxFQUFFSCxVQUFVSSxLQUFLLENBQUMsTUFBTSxFQUFFOEIsUUFBUSwyR0FBMkcsQ0FBQyxHQURqSjt1QkFBQTs0QkFBQTs4QkFBQTtZQUVOO1FBQ0Y7UUFDQSxJQUFJQyxZQUFZRSxRQUFRLElBQUluQyxjQUFjb0MsS0FBSyxLQUFLLFVBQVU7WUFDNUQsbUdBQW1HO1lBQ25HLG1GQUFtRjtZQUNuRixvRkFBb0Y7WUFDcEYseUdBQXlHO1lBQ3pHLE1BQU0scUJBRUwsQ0FGSyxJQUFJbkMsTUFDUixHQUFHK0IsUUFBUSx3SUFBd0ksQ0FBQyxHQURoSjt1QkFBQTs0QkFBQTs4QkFBQTtZQUVOO1FBQ0Y7SUFDRjtJQUVBLE9BQVFoQyxjQUFjRyxJQUFJO1FBQ3hCLEtBQUs7UUFDTCxLQUFLO1lBQVM7Z0JBQ1osTUFBTSxxQkFFTCxDQUZLLElBQUlGLE1BQ1IsQ0FBQyxNQUFNLEVBQUVILFVBQVVJLEtBQUssQ0FBQyxNQUFNLEVBQUU4QixRQUFRLG1JQUFtSSxDQUFDLEdBRHpLOzJCQUFBO2dDQUFBO2tDQUFBO2dCQUVOO1lBQ0Y7UUFDQSxLQUFLO1FBQ0wsS0FBSztRQUNMLEtBQUs7UUFDTCxLQUFLO1lBQW9CO2dCQUN2QixPQUFPSyxnQ0FDTE4sV0FDQWpDLFdBQ0FFLGVBQ0FnQztZQUVKO1FBQ0EsS0FBSztRQUNMLEtBQUs7UUFDTCxLQUFLO1lBQVc7Z0JBQ2Q7WUFDRjtRQUNBO1lBQVM7Z0JBQ1BoQztZQUNGO0lBQ0Y7SUFDQSxPQUFPTSxRQUFRQyxPQUFPLENBQUNQLGNBQWNLLFVBQVUsQ0FBQzBCLFVBQVU7QUFDNUQ7QUFFQSxTQUFTTSxnQ0FDUE4sU0FBaUIsRUFDakJqQyxTQUFvQixFQUNwQlcsY0FBb0MsRUFDcEN1QixPQUFlO0lBRWYsT0FBUXZCLGVBQWVOLElBQUk7UUFDekIsS0FBSztZQUFvQjtnQkFDdkIsTUFBTSxxQkFFTCxDQUZLLElBQUlsQix1RUFBY0EsQ0FDdEIsR0FBRytDLFFBQVEsMEVBQTBFLEVBQUVBLFFBQVEsK0VBQStFLENBQUMsR0FEM0s7MkJBQUE7Z0NBQUE7a0NBQUE7Z0JBRU47WUFDRjtRQUNBLEtBQUs7UUFDTCxLQUFLO1FBQ0wsS0FBSztRQUNMO0lBQ0Y7SUFFQSxNQUFNeEIsbUJBQW1CQyxlQUFlSixVQUFVO0lBRWxELE9BQVFJLGVBQWVOLElBQUk7UUFDekIsS0FBSztZQUFhO2dCQUNoQixtQ0FBbUM7Z0JBQ25DLCtEQUErRDtnQkFDL0QsSUFDRU0sZUFBZUcsbUJBQW1CLElBQ2xDSCxlQUFlRyxtQkFBbUIsQ0FBQ0UsR0FBRyxDQUFDaUIsWUFDdkM7b0JBQ0EsT0FBT3pDLDRFQUFrQkEsQ0FDdkJtQixlQUFlUyxZQUFZLEVBQzNCcEIsVUFBVUksS0FBSyxFQUNmOEI7Z0JBRUo7Z0JBQ0E7WUFDRjtRQUNBLEtBQUs7WUFBaUI7Z0JBQ3BCLG1FQUFtRTtnQkFDbkUsMEZBQTBGO2dCQUMxRixJQUNFdkIsZUFBZUcsbUJBQW1CLElBQ2xDSCxlQUFlRyxtQkFBbUIsQ0FBQ0UsR0FBRyxDQUFDaUIsWUFDdkM7b0JBQ0EsT0FBT08sNkJBQ0xQLFdBQ0FqQyxXQUNBVyxnQkFDQXVCO2dCQUVKO2dCQUNBO1lBQ0Y7UUFDQSxLQUFLO1lBQW9CO2dCQUV2QjtZQUNGO1FBQ0E7WUFBUztnQkFDUHZCO1lBQ0Y7SUFDRjtJQUVBLHVGQUF1RjtJQUN2RixPQUFPSCxRQUFRQyxPQUFPLENBQUNDLGdCQUFnQixDQUFDdUIsVUFBVTtBQUNwRDtBQUVBLHlGQUF5RixHQUN6RixlQUFlTyw2QkFDYlAsU0FBaUIsRUFDakJqQyxTQUFvQixFQUNwQlcsY0FBd0QsRUFDeER1QixPQUFlO0lBRWYsTUFBTUwsYUFBYXBDLDZGQUE0QkEsQ0FBQ3lDLFNBQVNEO0lBQ3pELDhEQUE4RDtJQUM5RCxnRkFBZ0Y7SUFDaEYseUZBQXlGO0lBQ3pGLHFHQUFxRztJQUNyRyxPQUFRdEIsZUFBZU4sSUFBSTtRQUN6QixLQUFLO1lBQWlCO2dCQUNwQixPQUFPakIsbUZBQW9CQSxDQUN6QlksVUFBVUksS0FBSyxFQUNmeUIsWUFDQWxCLGVBQWVtQixlQUFlO1lBRWxDO1FBQ0EsS0FBSztZQUFvQjtnQkFDdkIsT0FBT3pDLCtGQUFnQ0EsQ0FDckN3QyxZQUNBN0IsV0FDQVc7WUFFSjtRQUNBO1lBQVM7Z0JBQ1BBO1lBQ0Y7SUFDRjtBQUNGIiwic291cmNlcyI6WyJEOlxcc3JjXFxzZXJ2ZXJcXHJlcXVlc3RcXHJvb3QtcGFyYW1zLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEludmFyaWFudEVycm9yIH0gZnJvbSAnLi4vLi4vc2hhcmVkL2xpYi9pbnZhcmlhbnQtZXJyb3InXG5pbXBvcnQge1xuICBwb3N0cG9uZVdpdGhUcmFja2luZyxcbiAgdGhyb3dUb0ludGVycnVwdFN0YXRpY0dlbmVyYXRpb24sXG59IGZyb20gJy4uL2FwcC1yZW5kZXIvZHluYW1pYy1yZW5kZXJpbmcnXG5pbXBvcnQge1xuICB3b3JrQXN5bmNTdG9yYWdlLFxuICB0eXBlIFdvcmtTdG9yZSxcbn0gZnJvbSAnLi4vYXBwLXJlbmRlci93b3JrLWFzeW5jLXN0b3JhZ2UuZXh0ZXJuYWwnXG5pbXBvcnQge1xuICB3b3JrVW5pdEFzeW5jU3RvcmFnZSxcbiAgdHlwZSBQcmVyZW5kZXJTdG9yZUxlZ2FjeSxcbiAgdHlwZSBQcmVyZW5kZXJTdG9yZVBQUixcbiAgdHlwZSBTdGF0aWNQcmVyZW5kZXJTdG9yZSxcbn0gZnJvbSAnLi4vYXBwLXJlbmRlci93b3JrLXVuaXQtYXN5bmMtc3RvcmFnZS5leHRlcm5hbCdcbmltcG9ydCB7IG1ha2VIYW5naW5nUHJvbWlzZSB9IGZyb20gJy4uL2R5bmFtaWMtcmVuZGVyaW5nLXV0aWxzJ1xuaW1wb3J0IHR5cGUgeyBGYWxsYmFja1JvdXRlUGFyYW1zIH0gZnJvbSAnLi9mYWxsYmFjay1wYXJhbXMnXG5pbXBvcnQgdHlwZSB7IFBhcmFtcywgUGFyYW1WYWx1ZSB9IGZyb20gJy4vcGFyYW1zJ1xuaW1wb3J0IHtcbiAgZGVzY3JpYmVTdHJpbmdQcm9wZXJ0eUFjY2VzcyxcbiAgd2VsbEtub3duUHJvcGVydGllcyxcbn0gZnJvbSAnLi4vLi4vc2hhcmVkL2xpYi91dGlscy9yZWZsZWN0LXV0aWxzJ1xuaW1wb3J0IHsgYWN0aW9uQXN5bmNTdG9yYWdlIH0gZnJvbSAnLi4vYXBwLXJlbmRlci9hY3Rpb24tYXN5bmMtc3RvcmFnZS5leHRlcm5hbCdcbmltcG9ydCB7IHdhcm5PbmNlIH0gZnJvbSAnLi4vLi4vYnVpbGQvb3V0cHV0L2xvZydcblxuaW50ZXJmYWNlIENhY2hlTGlmZXRpbWUge31cbmNvbnN0IENhY2hlZFBhcmFtcyA9IG5ldyBXZWFrTWFwPENhY2hlTGlmZXRpbWUsIFByb21pc2U8UGFyYW1zPj4oKVxuXG4vKipcbiAqIEBkZXByZWNhdGVkIGltcG9ydCBzcGVjaWZpYyByb290IHBhcmFtcyBmcm9tIGBuZXh0L3Jvb3QtcGFyYW1zYCBpbnN0ZWFkLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdW5zdGFibGVfcm9vdFBhcmFtcygpOiBQcm9taXNlPFBhcmFtcz4ge1xuICB3YXJuT25jZShcbiAgICAnYHVuc3RhYmxlX3Jvb3RQYXJhbXMoKWAgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIGFuIHVwY29taW5nIG1ham9yIHJlbGVhc2UuIEltcG9ydCBzcGVjaWZpYyByb290IHBhcmFtcyBmcm9tIGBuZXh0L3Jvb3QtcGFyYW1zYCBpbnN0ZWFkLidcbiAgKVxuICBjb25zdCB3b3JrU3RvcmUgPSB3b3JrQXN5bmNTdG9yYWdlLmdldFN0b3JlKClcbiAgaWYgKCF3b3JrU3RvcmUpIHtcbiAgICB0aHJvdyBuZXcgSW52YXJpYW50RXJyb3IoJ01pc3Npbmcgd29ya1N0b3JlIGluIHVuc3RhYmxlX3Jvb3RQYXJhbXMnKVxuICB9XG5cbiAgY29uc3Qgd29ya1VuaXRTdG9yZSA9IHdvcmtVbml0QXN5bmNTdG9yYWdlLmdldFN0b3JlKClcblxuICBpZiAoIXdvcmtVbml0U3RvcmUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgUm91dGUgJHt3b3JrU3RvcmUucm91dGV9IHVzZWQgXFxgdW5zdGFibGVfcm9vdFBhcmFtcygpXFxgIGluIFBhZ2VzIFJvdXRlci4gVGhpcyBBUEkgaXMgb25seSBhdmFpbGFibGUgd2l0aGluIEFwcCBSb3V0ZXIuYFxuICAgIClcbiAgfVxuXG4gIHN3aXRjaCAod29ya1VuaXRTdG9yZS50eXBlKSB7XG4gICAgY2FzZSAnY2FjaGUnOlxuICAgIGNhc2UgJ3Vuc3RhYmxlLWNhY2hlJzoge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgUm91dGUgJHt3b3JrU3RvcmUucm91dGV9IHVzZWQgXFxgdW5zdGFibGVfcm9vdFBhcmFtcygpXFxgIGluc2lkZSBcXGBcInVzZSBjYWNoZVwiXFxgIG9yIFxcYHVuc3RhYmxlX2NhY2hlXFxgLiBTdXBwb3J0IGZvciB0aGlzIEFQSSBpbnNpZGUgY2FjaGUgc2NvcGVzIGlzIHBsYW5uZWQgZm9yIGEgZnV0dXJlIHZlcnNpb24gb2YgTmV4dC5qcy5gXG4gICAgICApXG4gICAgfVxuICAgIGNhc2UgJ3ByZXJlbmRlcic6XG4gICAgY2FzZSAncHJlcmVuZGVyLWNsaWVudCc6XG4gICAgY2FzZSAncHJlcmVuZGVyLXBwcic6XG4gICAgY2FzZSAncHJlcmVuZGVyLWxlZ2FjeSc6XG4gICAgICByZXR1cm4gY3JlYXRlUHJlcmVuZGVyUm9vdFBhcmFtcyhcbiAgICAgICAgd29ya1VuaXRTdG9yZS5yb290UGFyYW1zLFxuICAgICAgICB3b3JrU3RvcmUsXG4gICAgICAgIHdvcmtVbml0U3RvcmVcbiAgICAgIClcbiAgICBjYXNlICdwcml2YXRlLWNhY2hlJzpcbiAgICBjYXNlICdwcmVyZW5kZXItcnVudGltZSc6XG4gICAgY2FzZSAncmVxdWVzdCc6XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHdvcmtVbml0U3RvcmUucm9vdFBhcmFtcylcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHdvcmtVbml0U3RvcmUgc2F0aXNmaWVzIG5ldmVyXG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlUHJlcmVuZGVyUm9vdFBhcmFtcyhcbiAgdW5kZXJseWluZ1BhcmFtczogUGFyYW1zLFxuICB3b3JrU3RvcmU6IFdvcmtTdG9yZSxcbiAgcHJlcmVuZGVyU3RvcmU6IFN0YXRpY1ByZXJlbmRlclN0b3JlXG4pOiBQcm9taXNlPFBhcmFtcz4ge1xuICBzd2l0Y2ggKHByZXJlbmRlclN0b3JlLnR5cGUpIHtcbiAgICBjYXNlICdwcmVyZW5kZXItY2xpZW50Jzoge1xuICAgICAgY29uc3QgZXhwb3J0TmFtZSA9ICdgdW5zdGFibGVfcm9vdFBhcmFtc2AnXG4gICAgICB0aHJvdyBuZXcgSW52YXJpYW50RXJyb3IoXG4gICAgICAgIGAke2V4cG9ydE5hbWV9IG11c3Qgbm90IGJlIHVzZWQgd2l0aGluIGEgY2xpZW50IGNvbXBvbmVudC4gTmV4dC5qcyBzaG91bGQgYmUgcHJldmVudGluZyAke2V4cG9ydE5hbWV9IGZyb20gYmVpbmcgaW5jbHVkZWQgaW4gY2xpZW50IGNvbXBvbmVudHMgc3RhdGljYWxseSwgYnV0IGRpZCBub3QgaW4gdGhpcyBjYXNlLmBcbiAgICAgIClcbiAgICB9XG4gICAgY2FzZSAncHJlcmVuZGVyJzoge1xuICAgICAgY29uc3QgZmFsbGJhY2tQYXJhbXMgPSBwcmVyZW5kZXJTdG9yZS5mYWxsYmFja1JvdXRlUGFyYW1zXG4gICAgICBpZiAoZmFsbGJhY2tQYXJhbXMpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdW5kZXJseWluZ1BhcmFtcykge1xuICAgICAgICAgIGlmIChmYWxsYmFja1BhcmFtcy5oYXMoa2V5KSkge1xuICAgICAgICAgICAgY29uc3QgY2FjaGVkUGFyYW1zID0gQ2FjaGVkUGFyYW1zLmdldCh1bmRlcmx5aW5nUGFyYW1zKVxuICAgICAgICAgICAgaWYgKGNhY2hlZFBhcmFtcykge1xuICAgICAgICAgICAgICByZXR1cm4gY2FjaGVkUGFyYW1zXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHByb21pc2UgPSBtYWtlSGFuZ2luZ1Byb21pc2U8UGFyYW1zPihcbiAgICAgICAgICAgICAgcHJlcmVuZGVyU3RvcmUucmVuZGVyU2lnbmFsLFxuICAgICAgICAgICAgICB3b3JrU3RvcmUucm91dGUsXG4gICAgICAgICAgICAgICdgdW5zdGFibGVfcm9vdFBhcmFtc2AnXG4gICAgICAgICAgICApXG4gICAgICAgICAgICBDYWNoZWRQYXJhbXMuc2V0KHVuZGVybHlpbmdQYXJhbXMsIHByb21pc2UpXG5cbiAgICAgICAgICAgIHJldHVybiBwcm9taXNlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBicmVha1xuICAgIH1cbiAgICBjYXNlICdwcmVyZW5kZXItcHByJzoge1xuICAgICAgY29uc3QgZmFsbGJhY2tQYXJhbXMgPSBwcmVyZW5kZXJTdG9yZS5mYWxsYmFja1JvdXRlUGFyYW1zXG4gICAgICBpZiAoZmFsbGJhY2tQYXJhbXMpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdW5kZXJseWluZ1BhcmFtcykge1xuICAgICAgICAgIGlmIChmYWxsYmFja1BhcmFtcy5oYXMoa2V5KSkge1xuICAgICAgICAgICAgLy8gV2UgaGF2ZSBmYWxsYmFjayBwYXJhbXMgYXQgdGhpcyBsZXZlbCBzbyB3ZSBuZWVkIHRvIG1ha2UgYW4gZXJyb3JpbmdcbiAgICAgICAgICAgIC8vIHBhcmFtcyBvYmplY3Qgd2hpY2ggd2lsbCBwb3N0cG9uZSBpZiB5b3UgYWNjZXNzIHRoZSBmYWxsYmFjayBwYXJhbXNcbiAgICAgICAgICAgIHJldHVybiBtYWtlRXJyb3JpbmdSb290UGFyYW1zKFxuICAgICAgICAgICAgICB1bmRlcmx5aW5nUGFyYW1zLFxuICAgICAgICAgICAgICBmYWxsYmFja1BhcmFtcyxcbiAgICAgICAgICAgICAgd29ya1N0b3JlLFxuICAgICAgICAgICAgICBwcmVyZW5kZXJTdG9yZVxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYnJlYWtcbiAgICB9XG4gICAgY2FzZSAncHJlcmVuZGVyLWxlZ2FjeSc6XG4gICAgICBicmVha1xuICAgIGRlZmF1bHQ6XG4gICAgICBwcmVyZW5kZXJTdG9yZSBzYXRpc2ZpZXMgbmV2ZXJcbiAgfVxuXG4gIC8vIFdlIGRvbid0IGhhdmUgYW55IGZhbGxiYWNrIHBhcmFtcyBzbyB3ZSBoYXZlIGFuIGVudGlyZWx5IHN0YXRpYyBzYWZlIHBhcmFtcyBvYmplY3RcbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh1bmRlcmx5aW5nUGFyYW1zKVxufVxuXG5mdW5jdGlvbiBtYWtlRXJyb3JpbmdSb290UGFyYW1zKFxuICB1bmRlcmx5aW5nUGFyYW1zOiBQYXJhbXMsXG4gIGZhbGxiYWNrUGFyYW1zOiBGYWxsYmFja1JvdXRlUGFyYW1zLFxuICB3b3JrU3RvcmU6IFdvcmtTdG9yZSxcbiAgcHJlcmVuZGVyU3RvcmU6IFByZXJlbmRlclN0b3JlUFBSIHwgUHJlcmVuZGVyU3RvcmVMZWdhY3lcbik6IFByb21pc2U8UGFyYW1zPiB7XG4gIGNvbnN0IGNhY2hlZFBhcmFtcyA9IENhY2hlZFBhcmFtcy5nZXQodW5kZXJseWluZ1BhcmFtcylcbiAgaWYgKGNhY2hlZFBhcmFtcykge1xuICAgIHJldHVybiBjYWNoZWRQYXJhbXNcbiAgfVxuXG4gIGNvbnN0IGF1Z21lbnRlZFVuZGVybHlpbmcgPSB7IC4uLnVuZGVybHlpbmdQYXJhbXMgfVxuXG4gIC8vIFdlIGRvbid0IHVzZSBtYWtlUmVzb2x2ZWRSZWFjdFByb21pc2UgaGVyZSBiZWNhdXNlIHBhcmFtc1xuICAvLyBzdXBwb3J0cyBjb3B5aW5nIHdpdGggc3ByZWFkIGFuZCB3ZSBkb24ndCB3YW50IHRvIHVubmVjZXNzYXJpbHlcbiAgLy8gaW5zdHJ1bWVudCB0aGUgcHJvbWlzZSB3aXRoIHNwcmVhZGFibGUgcHJvcGVydGllcyBvZiBSZWFjdFByb21pc2UuXG4gIGNvbnN0IHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoYXVnbWVudGVkVW5kZXJseWluZylcbiAgQ2FjaGVkUGFyYW1zLnNldCh1bmRlcmx5aW5nUGFyYW1zLCBwcm9taXNlKVxuXG4gIE9iamVjdC5rZXlzKHVuZGVybHlpbmdQYXJhbXMpLmZvckVhY2goKHByb3ApID0+IHtcbiAgICBpZiAod2VsbEtub3duUHJvcGVydGllcy5oYXMocHJvcCkpIHtcbiAgICAgIC8vIFRoZXNlIHByb3BlcnRpZXMgY2Fubm90IGJlIHNoYWRvd2VkIGJlY2F1c2UgdGhleSBuZWVkIHRvIGJlIHRoZVxuICAgICAgLy8gdHJ1ZSB1bmRlcmx5aW5nIHZhbHVlIGZvciBQcm9taXNlcyB0byB3b3JrIGNvcnJlY3RseSBhdCBydW50aW1lXG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChmYWxsYmFja1BhcmFtcy5oYXMocHJvcCkpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGF1Z21lbnRlZFVuZGVybHlpbmcsIHByb3AsIHtcbiAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICBjb25zdCBleHByZXNzaW9uID0gZGVzY3JpYmVTdHJpbmdQcm9wZXJ0eUFjY2VzcyhcbiAgICAgICAgICAgICAgJ3Vuc3RhYmxlX3Jvb3RQYXJhbXMnLFxuICAgICAgICAgICAgICBwcm9wXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAvLyBJbiBtb3N0IGR5bmFtaWMgQVBJcyB3ZSBhbHNvIHRocm93IGlmIGBkeW5hbWljID0gXCJlcnJvclwiYCBob3dldmVyXG4gICAgICAgICAgICAvLyBmb3IgcGFyYW1zIGlzIG9ubHkgZHluYW1pYyB3aGVuIHdlJ3JlIGdlbmVyYXRpbmcgYSBmYWxsYmFjayBzaGVsbFxuICAgICAgICAgICAgLy8gYW5kIGV2ZW4gd2hlbiBgZHluYW1pYyA9IFwiZXJyb3JcImAgd2Ugc3RpbGwgc3VwcG9ydCBnZW5lcmF0aW5nIGR5bmFtaWNcbiAgICAgICAgICAgIC8vIGZhbGxiYWNrIHNoZWxsc1xuICAgICAgICAgICAgLy8gVE9ETyByZW1vdmUgdGhpcyBjb21tZW50IHdoZW4gY2FjaGVDb21wb25lbnRzIGlzIHRoZSBkZWZhdWx0IHNpbmNlIHRoZXJlXG4gICAgICAgICAgICAvLyB3aWxsIGJlIG5vIGBkeW5hbWljID0gXCJlcnJvclwiYFxuICAgICAgICAgICAgaWYgKHByZXJlbmRlclN0b3JlLnR5cGUgPT09ICdwcmVyZW5kZXItcHByJykge1xuICAgICAgICAgICAgICAvLyBQUFIgUHJlcmVuZGVyIChubyBjYWNoZUNvbXBvbmVudHMpXG4gICAgICAgICAgICAgIHBvc3Rwb25lV2l0aFRyYWNraW5nKFxuICAgICAgICAgICAgICAgIHdvcmtTdG9yZS5yb3V0ZSxcbiAgICAgICAgICAgICAgICBleHByZXNzaW9uLFxuICAgICAgICAgICAgICAgIHByZXJlbmRlclN0b3JlLmR5bmFtaWNUcmFja2luZ1xuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBMZWdhY3kgUHJlcmVuZGVyXG4gICAgICAgICAgICAgIHRocm93VG9JbnRlcnJ1cHRTdGF0aWNHZW5lcmF0aW9uKFxuICAgICAgICAgICAgICAgIGV4cHJlc3Npb24sXG4gICAgICAgICAgICAgICAgd29ya1N0b3JlLFxuICAgICAgICAgICAgICAgIHByZXJlbmRlclN0b3JlXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIH0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICA7KHByb21pc2UgYXMgYW55KVtwcm9wXSA9IHVuZGVybHlpbmdQYXJhbXNbcHJvcF1cbiAgICAgIH1cbiAgICB9XG4gIH0pXG5cbiAgcmV0dXJuIHByb21pc2Vcbn1cblxuLyoqXG4gKiBVc2VkIGZvciB0aGUgY29tcGlsZXItZ2VuZXJhdGVkIGBuZXh0L3Jvb3QtcGFyYW1zYCBtb2R1bGUuXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFJvb3RQYXJhbShwYXJhbU5hbWU6IHN0cmluZyk6IFByb21pc2U8UGFyYW1WYWx1ZT4ge1xuICBjb25zdCBhcGlOYW1lID0gYFxcYGltcG9ydCgnbmV4dC9yb290LXBhcmFtcycpLiR7cGFyYW1OYW1lfSgpXFxgYFxuXG4gIGNvbnN0IHdvcmtTdG9yZSA9IHdvcmtBc3luY1N0b3JhZ2UuZ2V0U3RvcmUoKVxuICBpZiAoIXdvcmtTdG9yZSkge1xuICAgIHRocm93IG5ldyBJbnZhcmlhbnRFcnJvcihgTWlzc2luZyB3b3JrU3RvcmUgaW4gJHthcGlOYW1lfWApXG4gIH1cblxuICBjb25zdCB3b3JrVW5pdFN0b3JlID0gd29ya1VuaXRBc3luY1N0b3JhZ2UuZ2V0U3RvcmUoKVxuICBpZiAoIXdvcmtVbml0U3RvcmUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgUm91dGUgJHt3b3JrU3RvcmUucm91dGV9IHVzZWQgJHthcGlOYW1lfSBvdXRzaWRlIG9mIGEgU2VydmVyIENvbXBvbmVudC4gVGhpcyBpcyBub3QgYWxsb3dlZC5gXG4gICAgKVxuICB9XG5cbiAgY29uc3QgYWN0aW9uU3RvcmUgPSBhY3Rpb25Bc3luY1N0b3JhZ2UuZ2V0U3RvcmUoKVxuICBpZiAoYWN0aW9uU3RvcmUpIHtcbiAgICBpZiAoYWN0aW9uU3RvcmUuaXNBcHBSb3V0ZSkge1xuICAgICAgLy8gVE9ETyhyb290LXBhcmFtcyk6IGFkZCBzdXBwb3J0IGZvciByb3V0ZSBoYW5kbGVyc1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgUm91dGUgJHt3b3JrU3RvcmUucm91dGV9IHVzZWQgJHthcGlOYW1lfSBpbnNpZGUgYSBSb3V0ZSBIYW5kbGVyLiBTdXBwb3J0IGZvciB0aGlzIEFQSSBpbiBSb3V0ZSBIYW5kbGVycyBpcyBwbGFubmVkIGZvciBhIGZ1dHVyZSB2ZXJzaW9uIG9mIE5leHQuanMuYFxuICAgICAgKVxuICAgIH1cbiAgICBpZiAoYWN0aW9uU3RvcmUuaXNBY3Rpb24gJiYgd29ya1VuaXRTdG9yZS5waGFzZSA9PT0gJ2FjdGlvbicpIHtcbiAgICAgIC8vIEFjdGlvbnMgYXJlIG5vdCBmdW5kYW1lbnRhbGx5IHRpZWQgdG8gYSByb3V0ZSAoZXZlbiBpZiB0aGV5J3JlIGFsd2F5cyBzdWJtaXR0ZWQgZnJvbSBzb21lIHBhZ2UpLFxuICAgICAgLy8gc28gcm9vdCBwYXJhbXMgd291bGQgYmUgaW5jb25zaXN0ZW50IGlmIGFuIGFjdGlvbiBpcyBjYWxsZWQgZnJvbSBtdWx0aXBsZSByb290cy5cbiAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBjaGVjayBpZiB0aGUgcGhhc2UgaXMgXCJhY3Rpb25cIiAtIHdlIHNob3VsZCBub3QgZXJyb3IgaW4gdGhlIHJlcmVuZGVyXG4gICAgICAvLyBhZnRlciBhbiBhY3Rpb24gcmV2YWxpZGF0ZXMgb3IgdXBkYXRlcyBjb29raWVzICh3aGljaCB3aWxsIHN0aWxsIGhhdmUgYGFjdGlvblN0b3JlLmlzQWN0aW9uID09PSB0cnVlYClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYCR7YXBpTmFtZX0gd2FzIHVzZWQgaW5zaWRlIGEgU2VydmVyIEFjdGlvbi4gVGhpcyBpcyBub3Qgc3VwcG9ydGVkLiBGdW5jdGlvbnMgZnJvbSAnbmV4dC9yb290LXBhcmFtcycgY2FuIG9ubHkgYmUgY2FsbGVkIGluIHRoZSBjb250ZXh0IG9mIGEgcm91dGUuYFxuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIHN3aXRjaCAod29ya1VuaXRTdG9yZS50eXBlKSB7XG4gICAgY2FzZSAndW5zdGFibGUtY2FjaGUnOlxuICAgIGNhc2UgJ2NhY2hlJzoge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgUm91dGUgJHt3b3JrU3RvcmUucm91dGV9IHVzZWQgJHthcGlOYW1lfSBpbnNpZGUgXFxgXCJ1c2UgY2FjaGVcIlxcYCBvciBcXGB1bnN0YWJsZV9jYWNoZVxcYC4gU3VwcG9ydCBmb3IgdGhpcyBBUEkgaW5zaWRlIGNhY2hlIHNjb3BlcyBpcyBwbGFubmVkIGZvciBhIGZ1dHVyZSB2ZXJzaW9uIG9mIE5leHQuanMuYFxuICAgICAgKVxuICAgIH1cbiAgICBjYXNlICdwcmVyZW5kZXInOlxuICAgIGNhc2UgJ3ByZXJlbmRlci1jbGllbnQnOlxuICAgIGNhc2UgJ3ByZXJlbmRlci1wcHInOlxuICAgIGNhc2UgJ3ByZXJlbmRlci1sZWdhY3knOiB7XG4gICAgICByZXR1cm4gY3JlYXRlUHJlcmVuZGVyUm9vdFBhcmFtUHJvbWlzZShcbiAgICAgICAgcGFyYW1OYW1lLFxuICAgICAgICB3b3JrU3RvcmUsXG4gICAgICAgIHdvcmtVbml0U3RvcmUsXG4gICAgICAgIGFwaU5hbWVcbiAgICAgIClcbiAgICB9XG4gICAgY2FzZSAncHJpdmF0ZS1jYWNoZSc6XG4gICAgY2FzZSAncHJlcmVuZGVyLXJ1bnRpbWUnOlxuICAgIGNhc2UgJ3JlcXVlc3QnOiB7XG4gICAgICBicmVha1xuICAgIH1cbiAgICBkZWZhdWx0OiB7XG4gICAgICB3b3JrVW5pdFN0b3JlIHNhdGlzZmllcyBuZXZlclxuICAgIH1cbiAgfVxuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHdvcmtVbml0U3RvcmUucm9vdFBhcmFtc1twYXJhbU5hbWVdKVxufVxuXG5mdW5jdGlvbiBjcmVhdGVQcmVyZW5kZXJSb290UGFyYW1Qcm9taXNlKFxuICBwYXJhbU5hbWU6IHN0cmluZyxcbiAgd29ya1N0b3JlOiBXb3JrU3RvcmUsXG4gIHByZXJlbmRlclN0b3JlOiBTdGF0aWNQcmVyZW5kZXJTdG9yZSxcbiAgYXBpTmFtZTogc3RyaW5nXG4pOiBQcm9taXNlPFBhcmFtVmFsdWU+IHtcbiAgc3dpdGNoIChwcmVyZW5kZXJTdG9yZS50eXBlKSB7XG4gICAgY2FzZSAncHJlcmVuZGVyLWNsaWVudCc6IHtcbiAgICAgIHRocm93IG5ldyBJbnZhcmlhbnRFcnJvcihcbiAgICAgICAgYCR7YXBpTmFtZX0gbXVzdCBub3QgYmUgdXNlZCB3aXRoaW4gYSBjbGllbnQgY29tcG9uZW50LiBOZXh0LmpzIHNob3VsZCBiZSBwcmV2ZW50aW5nICR7YXBpTmFtZX0gZnJvbSBiZWluZyBpbmNsdWRlZCBpbiBjbGllbnQgY29tcG9uZW50cyBzdGF0aWNhbGx5LCBidXQgZGlkIG5vdCBpbiB0aGlzIGNhc2UuYFxuICAgICAgKVxuICAgIH1cbiAgICBjYXNlICdwcmVyZW5kZXInOlxuICAgIGNhc2UgJ3ByZXJlbmRlci1sZWdhY3knOlxuICAgIGNhc2UgJ3ByZXJlbmRlci1wcHInOlxuICAgIGRlZmF1bHQ6XG4gIH1cblxuICBjb25zdCB1bmRlcmx5aW5nUGFyYW1zID0gcHJlcmVuZGVyU3RvcmUucm9vdFBhcmFtc1xuXG4gIHN3aXRjaCAocHJlcmVuZGVyU3RvcmUudHlwZSkge1xuICAgIGNhc2UgJ3ByZXJlbmRlcic6IHtcbiAgICAgIC8vIFdlIGFyZSBpbiBhIGR5bmFtaWNJTyBwcmVyZW5kZXIuXG4gICAgICAvLyBUaGUgcGFyYW0gaXMgYSBmYWxsYmFjaywgc28gaXQgc2hvdWxkIGJlIHRyZWF0ZWQgYXMgZHluYW1pYy5cbiAgICAgIGlmIChcbiAgICAgICAgcHJlcmVuZGVyU3RvcmUuZmFsbGJhY2tSb3V0ZVBhcmFtcyAmJlxuICAgICAgICBwcmVyZW5kZXJTdG9yZS5mYWxsYmFja1JvdXRlUGFyYW1zLmhhcyhwYXJhbU5hbWUpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIG1ha2VIYW5naW5nUHJvbWlzZTxQYXJhbVZhbHVlPihcbiAgICAgICAgICBwcmVyZW5kZXJTdG9yZS5yZW5kZXJTaWduYWwsXG4gICAgICAgICAgd29ya1N0b3JlLnJvdXRlLFxuICAgICAgICAgIGFwaU5hbWVcbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgYnJlYWtcbiAgICB9XG4gICAgY2FzZSAncHJlcmVuZGVyLXBwcic6IHtcbiAgICAgIC8vIFdlIGFyZW4ndCBpbiBhIGR5bmFtaWNJTyBwcmVyZW5kZXIsIGJ1dCB0aGUgcGFyYW0gaXMgYSBmYWxsYmFjayxcbiAgICAgIC8vIHNvIHdlIG5lZWQgdG8gbWFrZSBhbiBlcnJvcmluZyBwYXJhbXMgb2JqZWN0IHdoaWNoIHdpbGwgcG9zdHBvbmUvZXJyb3IgaWYgeW91IGFjY2VzcyBpdFxuICAgICAgaWYgKFxuICAgICAgICBwcmVyZW5kZXJTdG9yZS5mYWxsYmFja1JvdXRlUGFyYW1zICYmXG4gICAgICAgIHByZXJlbmRlclN0b3JlLmZhbGxiYWNrUm91dGVQYXJhbXMuaGFzKHBhcmFtTmFtZSlcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gbWFrZUVycm9yaW5nUm9vdFBhcmFtUHJvbWlzZShcbiAgICAgICAgICBwYXJhbU5hbWUsXG4gICAgICAgICAgd29ya1N0b3JlLFxuICAgICAgICAgIHByZXJlbmRlclN0b3JlLFxuICAgICAgICAgIGFwaU5hbWVcbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgYnJlYWtcbiAgICB9XG4gICAgY2FzZSAncHJlcmVuZGVyLWxlZ2FjeSc6IHtcbiAgICAgIC8vIGxlZ2FjeSBwcmVyZW5kZXJzIGNhbid0IGhhdmUgZmFsbGJhY2sgcGFyYW1zXG4gICAgICBicmVha1xuICAgIH1cbiAgICBkZWZhdWx0OiB7XG4gICAgICBwcmVyZW5kZXJTdG9yZSBzYXRpc2ZpZXMgbmV2ZXJcbiAgICB9XG4gIH1cblxuICAvLyBJZiB0aGUgcGFyYW0gaXMgbm90IGEgZmFsbGJhY2sgcGFyYW0sIHdlIGp1c3QgcmV0dXJuIHRoZSBzdGF0aWNhbGx5IGF2YWlsYWJsZSB2YWx1ZS5cbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh1bmRlcmx5aW5nUGFyYW1zW3BhcmFtTmFtZV0pXG59XG5cbi8qKiBEZWxpYmVyYXRlbHkgYXN5bmMgLS0gd2Ugd2FudCB0byBjcmVhdGUgYSByZWplY3RlZCBwcm9taXNlLCBub3QgZXJyb3Igc3luY2hyb25vdXNseS4gKi9cbmFzeW5jIGZ1bmN0aW9uIG1ha2VFcnJvcmluZ1Jvb3RQYXJhbVByb21pc2UoXG4gIHBhcmFtTmFtZTogc3RyaW5nLFxuICB3b3JrU3RvcmU6IFdvcmtTdG9yZSxcbiAgcHJlcmVuZGVyU3RvcmU6IFByZXJlbmRlclN0b3JlUFBSIHwgUHJlcmVuZGVyU3RvcmVMZWdhY3ksXG4gIGFwaU5hbWU6IHN0cmluZ1xuKTogUHJvbWlzZTxQYXJhbVZhbHVlPiB7XG4gIGNvbnN0IGV4cHJlc3Npb24gPSBkZXNjcmliZVN0cmluZ1Byb3BlcnR5QWNjZXNzKGFwaU5hbWUsIHBhcmFtTmFtZSlcbiAgLy8gSW4gbW9zdCBkeW5hbWljIEFQSXMsIHdlIGFsc28gdGhyb3cgaWYgYGR5bmFtaWMgPSBcImVycm9yXCJgLlxuICAvLyBIb3dldmVyLCByb290IHBhcmFtcyBhcmUgb25seSBkeW5hbWljIHdoZW4gd2UncmUgZ2VuZXJhdGluZyBhIGZhbGxiYWNrIHNoZWxsLFxuICAvLyBhbmQgZXZlbiB3aXRoIGBkeW5hbWljID0gXCJlcnJvclwiYCB3ZSBzdGlsbCBzdXBwb3J0IGdlbmVyYXRpbmcgZHluYW1pYyBmYWxsYmFjayBzaGVsbHMuXG4gIC8vIFRPRE86IHJlbW92ZSB0aGlzIGNvbW1lbnQgd2hlbiBkeW5hbWljSU8gaXMgdGhlIGRlZmF1bHQgc2luY2UgdGhlcmUgd2lsbCBiZSBubyBgZHluYW1pYyA9IFwiZXJyb3JcImBcbiAgc3dpdGNoIChwcmVyZW5kZXJTdG9yZS50eXBlKSB7XG4gICAgY2FzZSAncHJlcmVuZGVyLXBwcic6IHtcbiAgICAgIHJldHVybiBwb3N0cG9uZVdpdGhUcmFja2luZyhcbiAgICAgICAgd29ya1N0b3JlLnJvdXRlLFxuICAgICAgICBleHByZXNzaW9uLFxuICAgICAgICBwcmVyZW5kZXJTdG9yZS5keW5hbWljVHJhY2tpbmdcbiAgICAgIClcbiAgICB9XG4gICAgY2FzZSAncHJlcmVuZGVyLWxlZ2FjeSc6IHtcbiAgICAgIHJldHVybiB0aHJvd1RvSW50ZXJydXB0U3RhdGljR2VuZXJhdGlvbihcbiAgICAgICAgZXhwcmVzc2lvbixcbiAgICAgICAgd29ya1N0b3JlLFxuICAgICAgICBwcmVyZW5kZXJTdG9yZVxuICAgICAgKVxuICAgIH1cbiAgICBkZWZhdWx0OiB7XG4gICAgICBwcmVyZW5kZXJTdG9yZSBzYXRpc2ZpZXMgbmV2ZXJcbiAgICB9XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJJbnZhcmlhbnRFcnJvciIsInBvc3Rwb25lV2l0aFRyYWNraW5nIiwidGhyb3dUb0ludGVycnVwdFN0YXRpY0dlbmVyYXRpb24iLCJ3b3JrQXN5bmNTdG9yYWdlIiwid29ya1VuaXRBc3luY1N0b3JhZ2UiLCJtYWtlSGFuZ2luZ1Byb21pc2UiLCJkZXNjcmliZVN0cmluZ1Byb3BlcnR5QWNjZXNzIiwid2VsbEtub3duUHJvcGVydGllcyIsImFjdGlvbkFzeW5jU3RvcmFnZSIsIndhcm5PbmNlIiwiQ2FjaGVkUGFyYW1zIiwiV2Vha01hcCIsInVuc3RhYmxlX3Jvb3RQYXJhbXMiLCJ3b3JrU3RvcmUiLCJnZXRTdG9yZSIsIndvcmtVbml0U3RvcmUiLCJFcnJvciIsInJvdXRlIiwidHlwZSIsImNyZWF0ZVByZXJlbmRlclJvb3RQYXJhbXMiLCJyb290UGFyYW1zIiwiUHJvbWlzZSIsInJlc29sdmUiLCJ1bmRlcmx5aW5nUGFyYW1zIiwicHJlcmVuZGVyU3RvcmUiLCJleHBvcnROYW1lIiwiZmFsbGJhY2tQYXJhbXMiLCJmYWxsYmFja1JvdXRlUGFyYW1zIiwia2V5IiwiaGFzIiwiY2FjaGVkUGFyYW1zIiwiZ2V0IiwicHJvbWlzZSIsInJlbmRlclNpZ25hbCIsInNldCIsIm1ha2VFcnJvcmluZ1Jvb3RQYXJhbXMiLCJhdWdtZW50ZWRVbmRlcmx5aW5nIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJwcm9wIiwiZGVmaW5lUHJvcGVydHkiLCJleHByZXNzaW9uIiwiZHluYW1pY1RyYWNraW5nIiwiZW51bWVyYWJsZSIsImdldFJvb3RQYXJhbSIsInBhcmFtTmFtZSIsImFwaU5hbWUiLCJhY3Rpb25TdG9yZSIsImlzQXBwUm91dGUiLCJpc0FjdGlvbiIsInBoYXNlIiwiY3JlYXRlUHJlcmVuZGVyUm9vdFBhcmFtUHJvbWlzZSIsIm1ha2VFcnJvcmluZ1Jvb3RQYXJhbVByb21pc2UiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/request/root-params.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/request/utils.js":
/*!************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/request/utils.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isRequestAPICallableInsideAfter: () => (/* binding */ isRequestAPICallableInsideAfter),\n/* harmony export */   throwForSearchParamsAccessInUseCache: () => (/* binding */ throwForSearchParamsAccessInUseCache),\n/* harmony export */   throwWithStaticGenerationBailoutError: () => (/* binding */ throwWithStaticGenerationBailoutError),\n/* harmony export */   throwWithStaticGenerationBailoutErrorWithDynamicError: () => (/* binding */ throwWithStaticGenerationBailoutErrorWithDynamicError)\n/* harmony export */ });\n/* harmony import */ var _client_components_static_generation_bailout__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../client/components/static-generation-bailout */ \"(middleware)/./node_modules/next/dist/esm/client/components/static-generation-bailout.js\");\n/* harmony import */ var _app_render_after_task_async_storage_external__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../app-render/after-task-async-storage.external */ \"(middleware)/./node_modules/next/dist/esm/server/app-render/after-task-async-storage.external.js\");\n\n\nfunction throwWithStaticGenerationBailoutError(route, expression) {\n    throw Object.defineProperty(new _client_components_static_generation_bailout__WEBPACK_IMPORTED_MODULE_0__.StaticGenBailoutError(`Route ${route} couldn't be rendered statically because it used ${expression}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`), \"__NEXT_ERROR_CODE\", {\n        value: \"E576\",\n        enumerable: false,\n        configurable: true\n    });\n}\nfunction throwWithStaticGenerationBailoutErrorWithDynamicError(route, expression) {\n    throw Object.defineProperty(new _client_components_static_generation_bailout__WEBPACK_IMPORTED_MODULE_0__.StaticGenBailoutError(`Route ${route} with \\`dynamic = \"error\"\\` couldn't be rendered statically because it used ${expression}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`), \"__NEXT_ERROR_CODE\", {\n        value: \"E543\",\n        enumerable: false,\n        configurable: true\n    });\n}\nfunction throwForSearchParamsAccessInUseCache(workStore, constructorOpt) {\n    const error = Object.defineProperty(new Error(`Route ${workStore.route} used \"searchParams\" inside \"use cache\". Accessing dynamic request data inside a cache scope is not supported. If you need some search params inside a cached function await \"searchParams\" outside of the cached function and pass only the required search params as arguments to the cached function. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`), \"__NEXT_ERROR_CODE\", {\n        value: \"E779\",\n        enumerable: false,\n        configurable: true\n    });\n    Error.captureStackTrace(error, constructorOpt);\n    workStore.invalidDynamicUsageError ??= error;\n    throw error;\n}\nfunction isRequestAPICallableInsideAfter() {\n    const afterTaskStore = _app_render_after_task_async_storage_external__WEBPACK_IMPORTED_MODULE_1__.afterTaskAsyncStorage.getStore();\n    return (afterTaskStore == null ? void 0 : afterTaskStore.rootTaskSpawnPhase) === 'action';\n} //# sourceMappingURL=utils.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL3JlcXVlc3QvdXRpbHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXlGO0FBQ0Y7QUFHaEYsU0FBU0Usc0NBQ2RDLEtBQWEsRUFDYkMsVUFBa0I7SUFFbEIsTUFBTSxxQkFFTCxDQUZLLElBQUlKLCtGQUFxQkEsQ0FDN0IsQ0FBQyxNQUFNLEVBQUVHLE1BQU0saURBQWlELEVBQUVDLFdBQVcsMEhBQTBILENBQUMsR0FEcE07ZUFBQTtvQkFBQTtzQkFBQTtJQUVOO0FBQ0Y7QUFFTyxTQUFTQyxzREFDZEYsS0FBYSxFQUNiQyxVQUFrQjtJQUVsQixNQUFNLHFCQUVMLENBRkssSUFBSUosK0ZBQXFCQSxDQUM3QixDQUFDLE1BQU0sRUFBRUcsTUFBTSw0RUFBNEUsRUFBRUMsV0FBVywwSEFBMEgsQ0FBQyxHQUQvTjtlQUFBO29CQUFBO3NCQUFBO0lBRU47QUFDRjtBQUVPLFNBQVNFLHFDQUNkQyxTQUFvQixFQUNwQkMsY0FBd0I7SUFFeEIsTUFBTUMsUUFBUSxxQkFFYixDQUZhLElBQUlDLE1BQ2hCLENBQUMsTUFBTSxFQUFFSCxVQUFVSixLQUFLLENBQUMsdVhBQXVYLENBQUMsR0FEclk7ZUFBQTtvQkFBQTtzQkFBQTtJQUVkO0lBRUFPLE1BQU1DLGlCQUFpQixDQUFDRixPQUFPRDtJQUMvQkQsVUFBVUssd0JBQXdCLEtBQUtIO0lBRXZDLE1BQU1BO0FBQ1I7QUFFTyxTQUFTSTtJQUNkLE1BQU1DLGlCQUFpQmIsZ0dBQXFCQSxDQUFDYyxRQUFRO0lBQ3JELE9BQU9ELENBQUFBLGtCQUFBQSxPQUFBQSxLQUFBQSxJQUFBQSxlQUFnQkUsa0JBQUFBLE1BQXVCO0FBQ2hEIiwic291cmNlcyI6WyJEOlxcc3JjXFxzZXJ2ZXJcXHJlcXVlc3RcXHV0aWxzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFN0YXRpY0dlbkJhaWxvdXRFcnJvciB9IGZyb20gJy4uLy4uL2NsaWVudC9jb21wb25lbnRzL3N0YXRpYy1nZW5lcmF0aW9uLWJhaWxvdXQnXG5pbXBvcnQgeyBhZnRlclRhc2tBc3luY1N0b3JhZ2UgfSBmcm9tICcuLi9hcHAtcmVuZGVyL2FmdGVyLXRhc2stYXN5bmMtc3RvcmFnZS5leHRlcm5hbCdcbmltcG9ydCB0eXBlIHsgV29ya1N0b3JlIH0gZnJvbSAnLi4vYXBwLXJlbmRlci93b3JrLWFzeW5jLXN0b3JhZ2UuZXh0ZXJuYWwnXG5cbmV4cG9ydCBmdW5jdGlvbiB0aHJvd1dpdGhTdGF0aWNHZW5lcmF0aW9uQmFpbG91dEVycm9yKFxuICByb3V0ZTogc3RyaW5nLFxuICBleHByZXNzaW9uOiBzdHJpbmdcbik6IG5ldmVyIHtcbiAgdGhyb3cgbmV3IFN0YXRpY0dlbkJhaWxvdXRFcnJvcihcbiAgICBgUm91dGUgJHtyb3V0ZX0gY291bGRuJ3QgYmUgcmVuZGVyZWQgc3RhdGljYWxseSBiZWNhdXNlIGl0IHVzZWQgJHtleHByZXNzaW9ufS4gU2VlIG1vcmUgaW5mbyBoZXJlOiBodHRwczovL25leHRqcy5vcmcvZG9jcy9hcHAvYnVpbGRpbmcteW91ci1hcHBsaWNhdGlvbi9yZW5kZXJpbmcvc3RhdGljLWFuZC1keW5hbWljI2R5bmFtaWMtcmVuZGVyaW5nYFxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0aHJvd1dpdGhTdGF0aWNHZW5lcmF0aW9uQmFpbG91dEVycm9yV2l0aER5bmFtaWNFcnJvcihcbiAgcm91dGU6IHN0cmluZyxcbiAgZXhwcmVzc2lvbjogc3RyaW5nXG4pOiBuZXZlciB7XG4gIHRocm93IG5ldyBTdGF0aWNHZW5CYWlsb3V0RXJyb3IoXG4gICAgYFJvdXRlICR7cm91dGV9IHdpdGggXFxgZHluYW1pYyA9IFwiZXJyb3JcIlxcYCBjb3VsZG4ndCBiZSByZW5kZXJlZCBzdGF0aWNhbGx5IGJlY2F1c2UgaXQgdXNlZCAke2V4cHJlc3Npb259LiBTZWUgbW9yZSBpbmZvIGhlcmU6IGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL2FwcC9idWlsZGluZy15b3VyLWFwcGxpY2F0aW9uL3JlbmRlcmluZy9zdGF0aWMtYW5kLWR5bmFtaWMjZHluYW1pYy1yZW5kZXJpbmdgXG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRocm93Rm9yU2VhcmNoUGFyYW1zQWNjZXNzSW5Vc2VDYWNoZShcbiAgd29ya1N0b3JlOiBXb3JrU3RvcmUsXG4gIGNvbnN0cnVjdG9yT3B0OiBGdW5jdGlvblxuKTogbmV2ZXIge1xuICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihcbiAgICBgUm91dGUgJHt3b3JrU3RvcmUucm91dGV9IHVzZWQgXCJzZWFyY2hQYXJhbXNcIiBpbnNpZGUgXCJ1c2UgY2FjaGVcIi4gQWNjZXNzaW5nIGR5bmFtaWMgcmVxdWVzdCBkYXRhIGluc2lkZSBhIGNhY2hlIHNjb3BlIGlzIG5vdCBzdXBwb3J0ZWQuIElmIHlvdSBuZWVkIHNvbWUgc2VhcmNoIHBhcmFtcyBpbnNpZGUgYSBjYWNoZWQgZnVuY3Rpb24gYXdhaXQgXCJzZWFyY2hQYXJhbXNcIiBvdXRzaWRlIG9mIHRoZSBjYWNoZWQgZnVuY3Rpb24gYW5kIHBhc3Mgb25seSB0aGUgcmVxdWlyZWQgc2VhcmNoIHBhcmFtcyBhcyBhcmd1bWVudHMgdG8gdGhlIGNhY2hlZCBmdW5jdGlvbi4gU2VlIG1vcmUgaW5mbyBoZXJlOiBodHRwczovL25leHRqcy5vcmcvZG9jcy9tZXNzYWdlcy9uZXh0LXJlcXVlc3QtaW4tdXNlLWNhY2hlYFxuICApXG5cbiAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UoZXJyb3IsIGNvbnN0cnVjdG9yT3B0KVxuICB3b3JrU3RvcmUuaW52YWxpZER5bmFtaWNVc2FnZUVycm9yID8/PSBlcnJvclxuXG4gIHRocm93IGVycm9yXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1JlcXVlc3RBUElDYWxsYWJsZUluc2lkZUFmdGVyKCkge1xuICBjb25zdCBhZnRlclRhc2tTdG9yZSA9IGFmdGVyVGFza0FzeW5jU3RvcmFnZS5nZXRTdG9yZSgpXG4gIHJldHVybiBhZnRlclRhc2tTdG9yZT8ucm9vdFRhc2tTcGF3blBoYXNlID09PSAnYWN0aW9uJ1xufVxuIl0sIm5hbWVzIjpbIlN0YXRpY0dlbkJhaWxvdXRFcnJvciIsImFmdGVyVGFza0FzeW5jU3RvcmFnZSIsInRocm93V2l0aFN0YXRpY0dlbmVyYXRpb25CYWlsb3V0RXJyb3IiLCJyb3V0ZSIsImV4cHJlc3Npb24iLCJ0aHJvd1dpdGhTdGF0aWNHZW5lcmF0aW9uQmFpbG91dEVycm9yV2l0aER5bmFtaWNFcnJvciIsInRocm93Rm9yU2VhcmNoUGFyYW1zQWNjZXNzSW5Vc2VDYWNoZSIsIndvcmtTdG9yZSIsImNvbnN0cnVjdG9yT3B0IiwiZXJyb3IiLCJFcnJvciIsImNhcHR1cmVTdGFja1RyYWNlIiwiaW52YWxpZER5bmFtaWNVc2FnZUVycm9yIiwiaXNSZXF1ZXN0QVBJQ2FsbGFibGVJbnNpZGVBZnRlciIsImFmdGVyVGFza1N0b3JlIiwiZ2V0U3RvcmUiLCJyb290VGFza1NwYXduUGhhc2UiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/request/utils.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/revalidation-utils.js":
/*!*****************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/revalidation-utils.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   executeRevalidates: () => (/* binding */ executeRevalidates),\n/* harmony export */   withExecuteRevalidates: () => (/* binding */ withExecuteRevalidates)\n/* harmony export */ });\n/* harmony import */ var _use_cache_handlers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./use-cache/handlers */ \"(middleware)/./node_modules/next/dist/esm/server/use-cache/handlers.js\");\n\n/** Run a callback, and execute any *new* revalidations added during its runtime. */ async function withExecuteRevalidates(store, callback) {\n    if (!store) {\n        return callback();\n    }\n    // If we executed any revalidates during the request, then we don't want to execute them again.\n    // save the state so we can check if anything changed after we're done running callbacks.\n    const savedRevalidationState = cloneRevalidationState(store);\n    try {\n        return await callback();\n    } finally{\n        // Check if we have any new revalidates, and if so, wait until they are all resolved.\n        const newRevalidates = diffRevalidationState(savedRevalidationState, cloneRevalidationState(store));\n        await executeRevalidates(store, newRevalidates);\n    }\n}\nfunction cloneRevalidationState(store) {\n    return {\n        pendingRevalidatedTags: store.pendingRevalidatedTags ? [\n            ...store.pendingRevalidatedTags\n        ] : [],\n        pendingRevalidates: {\n            ...store.pendingRevalidates\n        },\n        pendingRevalidateWrites: store.pendingRevalidateWrites ? [\n            ...store.pendingRevalidateWrites\n        ] : []\n    };\n}\nfunction diffRevalidationState(prev, curr) {\n    const prevTags = new Set(prev.pendingRevalidatedTags);\n    const prevRevalidateWrites = new Set(prev.pendingRevalidateWrites);\n    return {\n        pendingRevalidatedTags: curr.pendingRevalidatedTags.filter((tag)=>!prevTags.has(tag)),\n        pendingRevalidates: Object.fromEntries(Object.entries(curr.pendingRevalidates).filter(([key])=>!(key in prev.pendingRevalidates))),\n        pendingRevalidateWrites: curr.pendingRevalidateWrites.filter((promise)=>!prevRevalidateWrites.has(promise))\n    };\n}\nasync function revalidateTags(tags, incrementalCache) {\n    if (tags.length === 0) {\n        return;\n    }\n    const promises = [];\n    if (incrementalCache) {\n        promises.push(incrementalCache.revalidateTag(tags));\n    }\n    const handlers = (0,_use_cache_handlers__WEBPACK_IMPORTED_MODULE_0__.getCacheHandlers)();\n    if (handlers) {\n        for (const handler of handlers){\n            promises.push(handler.expireTags(...tags));\n        }\n    }\n    await Promise.all(promises);\n}\nasync function executeRevalidates(workStore, state) {\n    const pendingRevalidatedTags = (state == null ? void 0 : state.pendingRevalidatedTags) ?? workStore.pendingRevalidatedTags ?? [];\n    const pendingRevalidates = (state == null ? void 0 : state.pendingRevalidates) ?? workStore.pendingRevalidates ?? {};\n    const pendingRevalidateWrites = (state == null ? void 0 : state.pendingRevalidateWrites) ?? workStore.pendingRevalidateWrites ?? [];\n    return Promise.all([\n        revalidateTags(pendingRevalidatedTags, workStore.incrementalCache),\n        ...Object.values(pendingRevalidates),\n        ...pendingRevalidateWrites\n    ]);\n}\n\n//# sourceMappingURL=revalidation-utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL3JldmFsaWRhdGlvbi11dGlscy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBd0Q7QUFDeEQscUZBQTRGO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHFFQUFnQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxuZXh0XFxkaXN0XFxlc21cXHNlcnZlclxccmV2YWxpZGF0aW9uLXV0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldENhY2hlSGFuZGxlcnMgfSBmcm9tICcuL3VzZS1jYWNoZS9oYW5kbGVycyc7XG4vKiogUnVuIGEgY2FsbGJhY2ssIGFuZCBleGVjdXRlIGFueSAqbmV3KiByZXZhbGlkYXRpb25zIGFkZGVkIGR1cmluZyBpdHMgcnVudGltZS4gKi8gZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHdpdGhFeGVjdXRlUmV2YWxpZGF0ZXMoc3RvcmUsIGNhbGxiYWNrKSB7XG4gICAgaWYgKCFzdG9yZSkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9XG4gICAgLy8gSWYgd2UgZXhlY3V0ZWQgYW55IHJldmFsaWRhdGVzIGR1cmluZyB0aGUgcmVxdWVzdCwgdGhlbiB3ZSBkb24ndCB3YW50IHRvIGV4ZWN1dGUgdGhlbSBhZ2Fpbi5cbiAgICAvLyBzYXZlIHRoZSBzdGF0ZSBzbyB3ZSBjYW4gY2hlY2sgaWYgYW55dGhpbmcgY2hhbmdlZCBhZnRlciB3ZSdyZSBkb25lIHJ1bm5pbmcgY2FsbGJhY2tzLlxuICAgIGNvbnN0IHNhdmVkUmV2YWxpZGF0aW9uU3RhdGUgPSBjbG9uZVJldmFsaWRhdGlvblN0YXRlKHN0b3JlKTtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gYXdhaXQgY2FsbGJhY2soKTtcbiAgICB9IGZpbmFsbHl7XG4gICAgICAgIC8vIENoZWNrIGlmIHdlIGhhdmUgYW55IG5ldyByZXZhbGlkYXRlcywgYW5kIGlmIHNvLCB3YWl0IHVudGlsIHRoZXkgYXJlIGFsbCByZXNvbHZlZC5cbiAgICAgICAgY29uc3QgbmV3UmV2YWxpZGF0ZXMgPSBkaWZmUmV2YWxpZGF0aW9uU3RhdGUoc2F2ZWRSZXZhbGlkYXRpb25TdGF0ZSwgY2xvbmVSZXZhbGlkYXRpb25TdGF0ZShzdG9yZSkpO1xuICAgICAgICBhd2FpdCBleGVjdXRlUmV2YWxpZGF0ZXMoc3RvcmUsIG5ld1JldmFsaWRhdGVzKTtcbiAgICB9XG59XG5mdW5jdGlvbiBjbG9uZVJldmFsaWRhdGlvblN0YXRlKHN0b3JlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcGVuZGluZ1JldmFsaWRhdGVkVGFnczogc3RvcmUucGVuZGluZ1JldmFsaWRhdGVkVGFncyA/IFtcbiAgICAgICAgICAgIC4uLnN0b3JlLnBlbmRpbmdSZXZhbGlkYXRlZFRhZ3NcbiAgICAgICAgXSA6IFtdLFxuICAgICAgICBwZW5kaW5nUmV2YWxpZGF0ZXM6IHtcbiAgICAgICAgICAgIC4uLnN0b3JlLnBlbmRpbmdSZXZhbGlkYXRlc1xuICAgICAgICB9LFxuICAgICAgICBwZW5kaW5nUmV2YWxpZGF0ZVdyaXRlczogc3RvcmUucGVuZGluZ1JldmFsaWRhdGVXcml0ZXMgPyBbXG4gICAgICAgICAgICAuLi5zdG9yZS5wZW5kaW5nUmV2YWxpZGF0ZVdyaXRlc1xuICAgICAgICBdIDogW11cbiAgICB9O1xufVxuZnVuY3Rpb24gZGlmZlJldmFsaWRhdGlvblN0YXRlKHByZXYsIGN1cnIpIHtcbiAgICBjb25zdCBwcmV2VGFncyA9IG5ldyBTZXQocHJldi5wZW5kaW5nUmV2YWxpZGF0ZWRUYWdzKTtcbiAgICBjb25zdCBwcmV2UmV2YWxpZGF0ZVdyaXRlcyA9IG5ldyBTZXQocHJldi5wZW5kaW5nUmV2YWxpZGF0ZVdyaXRlcyk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcGVuZGluZ1JldmFsaWRhdGVkVGFnczogY3Vyci5wZW5kaW5nUmV2YWxpZGF0ZWRUYWdzLmZpbHRlcigodGFnKT0+IXByZXZUYWdzLmhhcyh0YWcpKSxcbiAgICAgICAgcGVuZGluZ1JldmFsaWRhdGVzOiBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMoY3Vyci5wZW5kaW5nUmV2YWxpZGF0ZXMpLmZpbHRlcigoW2tleV0pPT4hKGtleSBpbiBwcmV2LnBlbmRpbmdSZXZhbGlkYXRlcykpKSxcbiAgICAgICAgcGVuZGluZ1JldmFsaWRhdGVXcml0ZXM6IGN1cnIucGVuZGluZ1JldmFsaWRhdGVXcml0ZXMuZmlsdGVyKChwcm9taXNlKT0+IXByZXZSZXZhbGlkYXRlV3JpdGVzLmhhcyhwcm9taXNlKSlcbiAgICB9O1xufVxuYXN5bmMgZnVuY3Rpb24gcmV2YWxpZGF0ZVRhZ3ModGFncywgaW5jcmVtZW50YWxDYWNoZSkge1xuICAgIGlmICh0YWdzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHByb21pc2VzID0gW107XG4gICAgaWYgKGluY3JlbWVudGFsQ2FjaGUpIHtcbiAgICAgICAgcHJvbWlzZXMucHVzaChpbmNyZW1lbnRhbENhY2hlLnJldmFsaWRhdGVUYWcodGFncykpO1xuICAgIH1cbiAgICBjb25zdCBoYW5kbGVycyA9IGdldENhY2hlSGFuZGxlcnMoKTtcbiAgICBpZiAoaGFuZGxlcnMpIHtcbiAgICAgICAgZm9yIChjb25zdCBoYW5kbGVyIG9mIGhhbmRsZXJzKXtcbiAgICAgICAgICAgIHByb21pc2VzLnB1c2goaGFuZGxlci5leHBpcmVUYWdzKC4uLnRhZ3MpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZXhlY3V0ZVJldmFsaWRhdGVzKHdvcmtTdG9yZSwgc3RhdGUpIHtcbiAgICBjb25zdCBwZW5kaW5nUmV2YWxpZGF0ZWRUYWdzID0gKHN0YXRlID09IG51bGwgPyB2b2lkIDAgOiBzdGF0ZS5wZW5kaW5nUmV2YWxpZGF0ZWRUYWdzKSA/PyB3b3JrU3RvcmUucGVuZGluZ1JldmFsaWRhdGVkVGFncyA/PyBbXTtcbiAgICBjb25zdCBwZW5kaW5nUmV2YWxpZGF0ZXMgPSAoc3RhdGUgPT0gbnVsbCA/IHZvaWQgMCA6IHN0YXRlLnBlbmRpbmdSZXZhbGlkYXRlcykgPz8gd29ya1N0b3JlLnBlbmRpbmdSZXZhbGlkYXRlcyA/PyB7fTtcbiAgICBjb25zdCBwZW5kaW5nUmV2YWxpZGF0ZVdyaXRlcyA9IChzdGF0ZSA9PSBudWxsID8gdm9pZCAwIDogc3RhdGUucGVuZGluZ1JldmFsaWRhdGVXcml0ZXMpID8/IHdvcmtTdG9yZS5wZW5kaW5nUmV2YWxpZGF0ZVdyaXRlcyA/PyBbXTtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgICAgICByZXZhbGlkYXRlVGFncyhwZW5kaW5nUmV2YWxpZGF0ZWRUYWdzLCB3b3JrU3RvcmUuaW5jcmVtZW50YWxDYWNoZSksXG4gICAgICAgIC4uLk9iamVjdC52YWx1ZXMocGVuZGluZ1JldmFsaWRhdGVzKSxcbiAgICAgICAgLi4ucGVuZGluZ1JldmFsaWRhdGVXcml0ZXNcbiAgICBdKTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmV2YWxpZGF0aW9uLXV0aWxzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/revalidation-utils.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/use-cache/handlers.js":
/*!*****************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/use-cache/handlers.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getCacheHandler: () => (/* binding */ getCacheHandler),\n/* harmony export */   getCacheHandlerEntries: () => (/* binding */ getCacheHandlerEntries),\n/* harmony export */   getCacheHandlers: () => (/* binding */ getCacheHandlers),\n/* harmony export */   initializeCacheHandlers: () => (/* binding */ initializeCacheHandlers),\n/* harmony export */   setCacheHandler: () => (/* binding */ setCacheHandler)\n/* harmony export */ });\n/* harmony import */ var _lib_cache_handlers_default_external__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/cache-handlers/default.external */ \"(middleware)/./node_modules/next/dist/esm/server/lib/cache-handlers/default.external.js\");\n\nconst debug = process.env.NEXT_PRIVATE_DEBUG_CACHE ? (message, ...args)=>{\n    console.log(`use-cache: ${message}`, ...args);\n} : undefined;\nconst handlersSymbol = Symbol.for('@next/cache-handlers');\nconst handlersMapSymbol = Symbol.for('@next/cache-handlers-map');\nconst handlersSetSymbol = Symbol.for('@next/cache-handlers-set');\n/**\n * The reference to the cache handlers. We store the cache handlers on the\n * global object so that we can access the same instance across different\n * boundaries (such as different copies of the same module).\n */ const reference = globalThis;\n/**\n * Initialize the cache handlers.\n * @returns `true` if the cache handlers were initialized, `false` if they were already initialized.\n */ function initializeCacheHandlers() {\n    // If the cache handlers have already been initialized, don't do it again.\n    if (reference[handlersMapSymbol]) {\n        debug == null ? void 0 : debug('cache handlers already initialized');\n        return false;\n    }\n    debug == null ? void 0 : debug('initializing cache handlers');\n    reference[handlersMapSymbol] = new Map();\n    // Initialize the cache from the symbol contents first.\n    if (reference[handlersSymbol]) {\n        let fallback;\n        if (reference[handlersSymbol].DefaultCache) {\n            debug == null ? void 0 : debug('setting \"default\" cache handler from symbol');\n            fallback = reference[handlersSymbol].DefaultCache;\n        } else {\n            debug == null ? void 0 : debug('setting \"default\" cache handler from default');\n            fallback = _lib_cache_handlers_default_external__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n        }\n        reference[handlersMapSymbol].set('default', fallback);\n        if (reference[handlersSymbol].RemoteCache) {\n            debug == null ? void 0 : debug('setting \"remote\" cache handler from symbol');\n            reference[handlersMapSymbol].set('remote', reference[handlersSymbol].RemoteCache);\n        } else {\n            debug == null ? void 0 : debug('setting \"remote\" cache handler from default');\n            reference[handlersMapSymbol].set('remote', fallback);\n        }\n    } else {\n        debug == null ? void 0 : debug('setting \"default\" cache handler from default');\n        reference[handlersMapSymbol].set('default', _lib_cache_handlers_default_external__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n        debug == null ? void 0 : debug('setting \"remote\" cache handler from default');\n        reference[handlersMapSymbol].set('remote', _lib_cache_handlers_default_external__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n    }\n    // Create a set of the cache handlers.\n    reference[handlersSetSymbol] = new Set(reference[handlersMapSymbol].values());\n    return true;\n}\n/**\n * Get a cache handler by kind.\n * @param kind - The kind of cache handler to get.\n * @returns The cache handler, or `undefined` if it does not exist.\n * @throws If the cache handlers are not initialized.\n */ function getCacheHandler(kind) {\n    // This should never be called before initializeCacheHandlers.\n    if (!reference[handlersMapSymbol]) {\n        throw Object.defineProperty(new Error('Cache handlers not initialized'), \"__NEXT_ERROR_CODE\", {\n            value: \"E649\",\n            enumerable: false,\n            configurable: true\n        });\n    }\n    return reference[handlersMapSymbol].get(kind);\n}\n/**\n * Get a set iterator over the cache handlers.\n * @returns An iterator over the cache handlers, or `undefined` if they are not\n * initialized.\n */ function getCacheHandlers() {\n    if (!reference[handlersSetSymbol]) {\n        return undefined;\n    }\n    return reference[handlersSetSymbol].values();\n}\n/**\n * Get a map iterator over the cache handlers (keyed by kind).\n * @returns An iterator over the cache handler entries, or `undefined` if they\n * are not initialized.\n * @throws If the cache handlers are not initialized.\n */ function getCacheHandlerEntries() {\n    if (!reference[handlersMapSymbol]) {\n        return undefined;\n    }\n    return reference[handlersMapSymbol].entries();\n}\n/**\n * Set a cache handler by kind.\n * @param kind - The kind of cache handler to set.\n * @param cacheHandler - The cache handler to set.\n */ function setCacheHandler(kind, cacheHandler) {\n    // This should never be called before initializeCacheHandlers.\n    if (!reference[handlersMapSymbol] || !reference[handlersSetSymbol]) {\n        throw Object.defineProperty(new Error('Cache handlers not initialized'), \"__NEXT_ERROR_CODE\", {\n            value: \"E649\",\n            enumerable: false,\n            configurable: true\n        });\n    }\n    debug == null ? void 0 : debug('setting cache handler for \"%s\"', kind);\n    reference[handlersMapSymbol].set(kind, cacheHandler);\n    reference[handlersSetSymbol].add(cacheHandler);\n}\n\n//# sourceMappingURL=handlers.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL3VzZS1jYWNoZS9oYW5kbGVycy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBeUU7QUFDekU7QUFDQSw4QkFBOEIsUUFBUTtBQUN0QyxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLHVCQUF1Qiw0RUFBbUI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxvREFBb0QsNEVBQW1CO0FBQ3ZFO0FBQ0EsbURBQW1ELDRFQUFtQjtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxuZXh0XFxkaXN0XFxlc21cXHNlcnZlclxcdXNlLWNhY2hlXFxoYW5kbGVycy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRGVmYXVsdENhY2hlSGFuZGxlciBmcm9tICcuLi9saWIvY2FjaGUtaGFuZGxlcnMvZGVmYXVsdC5leHRlcm5hbCc7XG5jb25zdCBkZWJ1ZyA9IHByb2Nlc3MuZW52Lk5FWFRfUFJJVkFURV9ERUJVR19DQUNIRSA/IChtZXNzYWdlLCAuLi5hcmdzKT0+e1xuICAgIGNvbnNvbGUubG9nKGB1c2UtY2FjaGU6ICR7bWVzc2FnZX1gLCAuLi5hcmdzKTtcbn0gOiB1bmRlZmluZWQ7XG5jb25zdCBoYW5kbGVyc1N5bWJvbCA9IFN5bWJvbC5mb3IoJ0BuZXh0L2NhY2hlLWhhbmRsZXJzJyk7XG5jb25zdCBoYW5kbGVyc01hcFN5bWJvbCA9IFN5bWJvbC5mb3IoJ0BuZXh0L2NhY2hlLWhhbmRsZXJzLW1hcCcpO1xuY29uc3QgaGFuZGxlcnNTZXRTeW1ib2wgPSBTeW1ib2wuZm9yKCdAbmV4dC9jYWNoZS1oYW5kbGVycy1zZXQnKTtcbi8qKlxuICogVGhlIHJlZmVyZW5jZSB0byB0aGUgY2FjaGUgaGFuZGxlcnMuIFdlIHN0b3JlIHRoZSBjYWNoZSBoYW5kbGVycyBvbiB0aGVcbiAqIGdsb2JhbCBvYmplY3Qgc28gdGhhdCB3ZSBjYW4gYWNjZXNzIHRoZSBzYW1lIGluc3RhbmNlIGFjcm9zcyBkaWZmZXJlbnRcbiAqIGJvdW5kYXJpZXMgKHN1Y2ggYXMgZGlmZmVyZW50IGNvcGllcyBvZiB0aGUgc2FtZSBtb2R1bGUpLlxuICovIGNvbnN0IHJlZmVyZW5jZSA9IGdsb2JhbFRoaXM7XG4vKipcbiAqIEluaXRpYWxpemUgdGhlIGNhY2hlIGhhbmRsZXJzLlxuICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBjYWNoZSBoYW5kbGVycyB3ZXJlIGluaXRpYWxpemVkLCBgZmFsc2VgIGlmIHRoZXkgd2VyZSBhbHJlYWR5IGluaXRpYWxpemVkLlxuICovIGV4cG9ydCBmdW5jdGlvbiBpbml0aWFsaXplQ2FjaGVIYW5kbGVycygpIHtcbiAgICAvLyBJZiB0aGUgY2FjaGUgaGFuZGxlcnMgaGF2ZSBhbHJlYWR5IGJlZW4gaW5pdGlhbGl6ZWQsIGRvbid0IGRvIGl0IGFnYWluLlxuICAgIGlmIChyZWZlcmVuY2VbaGFuZGxlcnNNYXBTeW1ib2xdKSB7XG4gICAgICAgIGRlYnVnID09IG51bGwgPyB2b2lkIDAgOiBkZWJ1ZygnY2FjaGUgaGFuZGxlcnMgYWxyZWFkeSBpbml0aWFsaXplZCcpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGRlYnVnID09IG51bGwgPyB2b2lkIDAgOiBkZWJ1ZygnaW5pdGlhbGl6aW5nIGNhY2hlIGhhbmRsZXJzJyk7XG4gICAgcmVmZXJlbmNlW2hhbmRsZXJzTWFwU3ltYm9sXSA9IG5ldyBNYXAoKTtcbiAgICAvLyBJbml0aWFsaXplIHRoZSBjYWNoZSBmcm9tIHRoZSBzeW1ib2wgY29udGVudHMgZmlyc3QuXG4gICAgaWYgKHJlZmVyZW5jZVtoYW5kbGVyc1N5bWJvbF0pIHtcbiAgICAgICAgbGV0IGZhbGxiYWNrO1xuICAgICAgICBpZiAocmVmZXJlbmNlW2hhbmRsZXJzU3ltYm9sXS5EZWZhdWx0Q2FjaGUpIHtcbiAgICAgICAgICAgIGRlYnVnID09IG51bGwgPyB2b2lkIDAgOiBkZWJ1Zygnc2V0dGluZyBcImRlZmF1bHRcIiBjYWNoZSBoYW5kbGVyIGZyb20gc3ltYm9sJyk7XG4gICAgICAgICAgICBmYWxsYmFjayA9IHJlZmVyZW5jZVtoYW5kbGVyc1N5bWJvbF0uRGVmYXVsdENhY2hlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVidWcgPT0gbnVsbCA/IHZvaWQgMCA6IGRlYnVnKCdzZXR0aW5nIFwiZGVmYXVsdFwiIGNhY2hlIGhhbmRsZXIgZnJvbSBkZWZhdWx0Jyk7XG4gICAgICAgICAgICBmYWxsYmFjayA9IERlZmF1bHRDYWNoZUhhbmRsZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmVmZXJlbmNlW2hhbmRsZXJzTWFwU3ltYm9sXS5zZXQoJ2RlZmF1bHQnLCBmYWxsYmFjayk7XG4gICAgICAgIGlmIChyZWZlcmVuY2VbaGFuZGxlcnNTeW1ib2xdLlJlbW90ZUNhY2hlKSB7XG4gICAgICAgICAgICBkZWJ1ZyA9PSBudWxsID8gdm9pZCAwIDogZGVidWcoJ3NldHRpbmcgXCJyZW1vdGVcIiBjYWNoZSBoYW5kbGVyIGZyb20gc3ltYm9sJyk7XG4gICAgICAgICAgICByZWZlcmVuY2VbaGFuZGxlcnNNYXBTeW1ib2xdLnNldCgncmVtb3RlJywgcmVmZXJlbmNlW2hhbmRsZXJzU3ltYm9sXS5SZW1vdGVDYWNoZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZWJ1ZyA9PSBudWxsID8gdm9pZCAwIDogZGVidWcoJ3NldHRpbmcgXCJyZW1vdGVcIiBjYWNoZSBoYW5kbGVyIGZyb20gZGVmYXVsdCcpO1xuICAgICAgICAgICAgcmVmZXJlbmNlW2hhbmRsZXJzTWFwU3ltYm9sXS5zZXQoJ3JlbW90ZScsIGZhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGRlYnVnID09IG51bGwgPyB2b2lkIDAgOiBkZWJ1Zygnc2V0dGluZyBcImRlZmF1bHRcIiBjYWNoZSBoYW5kbGVyIGZyb20gZGVmYXVsdCcpO1xuICAgICAgICByZWZlcmVuY2VbaGFuZGxlcnNNYXBTeW1ib2xdLnNldCgnZGVmYXVsdCcsIERlZmF1bHRDYWNoZUhhbmRsZXIpO1xuICAgICAgICBkZWJ1ZyA9PSBudWxsID8gdm9pZCAwIDogZGVidWcoJ3NldHRpbmcgXCJyZW1vdGVcIiBjYWNoZSBoYW5kbGVyIGZyb20gZGVmYXVsdCcpO1xuICAgICAgICByZWZlcmVuY2VbaGFuZGxlcnNNYXBTeW1ib2xdLnNldCgncmVtb3RlJywgRGVmYXVsdENhY2hlSGFuZGxlcik7XG4gICAgfVxuICAgIC8vIENyZWF0ZSBhIHNldCBvZiB0aGUgY2FjaGUgaGFuZGxlcnMuXG4gICAgcmVmZXJlbmNlW2hhbmRsZXJzU2V0U3ltYm9sXSA9IG5ldyBTZXQocmVmZXJlbmNlW2hhbmRsZXJzTWFwU3ltYm9sXS52YWx1ZXMoKSk7XG4gICAgcmV0dXJuIHRydWU7XG59XG4vKipcbiAqIEdldCBhIGNhY2hlIGhhbmRsZXIgYnkga2luZC5cbiAqIEBwYXJhbSBraW5kIC0gVGhlIGtpbmQgb2YgY2FjaGUgaGFuZGxlciB0byBnZXQuXG4gKiBAcmV0dXJucyBUaGUgY2FjaGUgaGFuZGxlciwgb3IgYHVuZGVmaW5lZGAgaWYgaXQgZG9lcyBub3QgZXhpc3QuXG4gKiBAdGhyb3dzIElmIHRoZSBjYWNoZSBoYW5kbGVycyBhcmUgbm90IGluaXRpYWxpemVkLlxuICovIGV4cG9ydCBmdW5jdGlvbiBnZXRDYWNoZUhhbmRsZXIoa2luZCkge1xuICAgIC8vIFRoaXMgc2hvdWxkIG5ldmVyIGJlIGNhbGxlZCBiZWZvcmUgaW5pdGlhbGl6ZUNhY2hlSGFuZGxlcnMuXG4gICAgaWYgKCFyZWZlcmVuY2VbaGFuZGxlcnNNYXBTeW1ib2xdKSB7XG4gICAgICAgIHRocm93IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXcgRXJyb3IoJ0NhY2hlIGhhbmRsZXJzIG5vdCBpbml0aWFsaXplZCcpLCBcIl9fTkVYVF9FUlJPUl9DT0RFXCIsIHtcbiAgICAgICAgICAgIHZhbHVlOiBcIkU2NDlcIixcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVmZXJlbmNlW2hhbmRsZXJzTWFwU3ltYm9sXS5nZXQoa2luZCk7XG59XG4vKipcbiAqIEdldCBhIHNldCBpdGVyYXRvciBvdmVyIHRoZSBjYWNoZSBoYW5kbGVycy5cbiAqIEByZXR1cm5zIEFuIGl0ZXJhdG9yIG92ZXIgdGhlIGNhY2hlIGhhbmRsZXJzLCBvciBgdW5kZWZpbmVkYCBpZiB0aGV5IGFyZSBub3RcbiAqIGluaXRpYWxpemVkLlxuICovIGV4cG9ydCBmdW5jdGlvbiBnZXRDYWNoZUhhbmRsZXJzKCkge1xuICAgIGlmICghcmVmZXJlbmNlW2hhbmRsZXJzU2V0U3ltYm9sXSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gcmVmZXJlbmNlW2hhbmRsZXJzU2V0U3ltYm9sXS52YWx1ZXMoKTtcbn1cbi8qKlxuICogR2V0IGEgbWFwIGl0ZXJhdG9yIG92ZXIgdGhlIGNhY2hlIGhhbmRsZXJzIChrZXllZCBieSBraW5kKS5cbiAqIEByZXR1cm5zIEFuIGl0ZXJhdG9yIG92ZXIgdGhlIGNhY2hlIGhhbmRsZXIgZW50cmllcywgb3IgYHVuZGVmaW5lZGAgaWYgdGhleVxuICogYXJlIG5vdCBpbml0aWFsaXplZC5cbiAqIEB0aHJvd3MgSWYgdGhlIGNhY2hlIGhhbmRsZXJzIGFyZSBub3QgaW5pdGlhbGl6ZWQuXG4gKi8gZXhwb3J0IGZ1bmN0aW9uIGdldENhY2hlSGFuZGxlckVudHJpZXMoKSB7XG4gICAgaWYgKCFyZWZlcmVuY2VbaGFuZGxlcnNNYXBTeW1ib2xdKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiByZWZlcmVuY2VbaGFuZGxlcnNNYXBTeW1ib2xdLmVudHJpZXMoKTtcbn1cbi8qKlxuICogU2V0IGEgY2FjaGUgaGFuZGxlciBieSBraW5kLlxuICogQHBhcmFtIGtpbmQgLSBUaGUga2luZCBvZiBjYWNoZSBoYW5kbGVyIHRvIHNldC5cbiAqIEBwYXJhbSBjYWNoZUhhbmRsZXIgLSBUaGUgY2FjaGUgaGFuZGxlciB0byBzZXQuXG4gKi8gZXhwb3J0IGZ1bmN0aW9uIHNldENhY2hlSGFuZGxlcihraW5kLCBjYWNoZUhhbmRsZXIpIHtcbiAgICAvLyBUaGlzIHNob3VsZCBuZXZlciBiZSBjYWxsZWQgYmVmb3JlIGluaXRpYWxpemVDYWNoZUhhbmRsZXJzLlxuICAgIGlmICghcmVmZXJlbmNlW2hhbmRsZXJzTWFwU3ltYm9sXSB8fCAhcmVmZXJlbmNlW2hhbmRsZXJzU2V0U3ltYm9sXSkge1xuICAgICAgICB0aHJvdyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3IEVycm9yKCdDYWNoZSBoYW5kbGVycyBub3QgaW5pdGlhbGl6ZWQnKSwgXCJfX05FWFRfRVJST1JfQ09ERVwiLCB7XG4gICAgICAgICAgICB2YWx1ZTogXCJFNjQ5XCIsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZGVidWcgPT0gbnVsbCA/IHZvaWQgMCA6IGRlYnVnKCdzZXR0aW5nIGNhY2hlIGhhbmRsZXIgZm9yIFwiJXNcIicsIGtpbmQpO1xuICAgIHJlZmVyZW5jZVtoYW5kbGVyc01hcFN5bWJvbF0uc2V0KGtpbmQsIGNhY2hlSGFuZGxlcik7XG4gICAgcmVmZXJlbmNlW2hhbmRsZXJzU2V0U3ltYm9sXS5hZGQoY2FjaGVIYW5kbGVyKTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aGFuZGxlcnMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/use-cache/handlers.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/web/adapter.js":
/*!**********************************************************!*\
  !*** ./node_modules/next/dist/esm/server/web/adapter.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NextRequestHint: () => (/* binding */ NextRequestHint),\n/* harmony export */   adapter: () => (/* binding */ adapter)\n/* harmony export */ });\n/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./error */ \"(middleware)/./node_modules/next/dist/esm/server/web/error.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils */ \"(middleware)/./node_modules/next/dist/esm/server/web/utils.js\");\n/* harmony import */ var _spec_extension_fetch_event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./spec-extension/fetch-event */ \"(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/fetch-event.js\");\n/* harmony import */ var _spec_extension_request__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./spec-extension/request */ \"(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/request.js\");\n/* harmony import */ var _spec_extension_response__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./spec-extension/response */ \"(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/response.js\");\n/* harmony import */ var _shared_lib_router_utils_relativize_url__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../shared/lib/router/utils/relativize-url */ \"(middleware)/./node_modules/next/dist/esm/shared/lib/router/utils/relativize-url.js\");\n/* harmony import */ var _next_url__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./next-url */ \"(middleware)/./node_modules/next/dist/esm/server/web/next-url.js\");\n/* harmony import */ var _internal_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../internal-utils */ \"(middleware)/./node_modules/next/dist/esm/server/internal-utils.js\");\n/* harmony import */ var _shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../shared/lib/router/utils/app-paths */ \"(middleware)/./node_modules/next/dist/esm/shared/lib/router/utils/app-paths.js\");\n/* harmony import */ var _client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../client/components/app-router-headers */ \"(middleware)/./node_modules/next/dist/esm/client/components/app-router-headers.js\");\n/* harmony import */ var _globals__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./globals */ \"(middleware)/./node_modules/next/dist/esm/server/web/globals.js\");\n/* harmony import */ var _async_storage_request_store__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../async-storage/request-store */ \"(middleware)/./node_modules/next/dist/esm/server/async-storage/request-store.js\");\n/* harmony import */ var _app_render_work_unit_async_storage_external__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../app-render/work-unit-async-storage.external */ \"(shared)/./node_modules/next/dist/esm/server/app-render/work-unit-async-storage.external.js\");\n/* harmony import */ var _async_storage_work_store__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../async-storage/work-store */ \"(middleware)/./node_modules/next/dist/esm/server/async-storage/work-store.js\");\n/* harmony import */ var _app_render_work_async_storage_external__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../app-render/work-async-storage.external */ \"(shared)/./node_modules/next/dist/esm/server/app-render/work-async-storage.external.js\");\n/* harmony import */ var _lib_trace_tracer__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../lib/trace/tracer */ \"(middleware)/./node_modules/next/dist/esm/server/lib/trace/tracer.js\");\n/* harmony import */ var _lib_trace_constants__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../lib/trace/constants */ \"(middleware)/./node_modules/next/dist/esm/server/lib/trace/constants.js\");\n/* harmony import */ var _web_on_close__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./web-on-close */ \"(middleware)/./node_modules/next/dist/esm/server/web/web-on-close.js\");\n/* harmony import */ var _get_edge_preview_props__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./get-edge-preview-props */ \"(middleware)/./node_modules/next/dist/esm/server/web/get-edge-preview-props.js\");\n/* harmony import */ var _after_builtin_request_context__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../after/builtin-request-context */ \"(middleware)/./node_modules/next/dist/esm/server/after/builtin-request-context.js\");\n/* harmony import */ var _lib_implicit_tags__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../lib/implicit-tags */ \"(middleware)/./node_modules/next/dist/esm/server/lib/implicit-tags.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass NextRequestHint extends _spec_extension_request__WEBPACK_IMPORTED_MODULE_3__.NextRequest {\n    constructor(params){\n        super(params.input, params.init);\n        this.sourcePage = params.page;\n    }\n    get request() {\n        throw Object.defineProperty(new _error__WEBPACK_IMPORTED_MODULE_0__.PageSignatureError({\n            page: this.sourcePage\n        }), \"__NEXT_ERROR_CODE\", {\n            value: \"E394\",\n            enumerable: false,\n            configurable: true\n        });\n    }\n    respondWith() {\n        throw Object.defineProperty(new _error__WEBPACK_IMPORTED_MODULE_0__.PageSignatureError({\n            page: this.sourcePage\n        }), \"__NEXT_ERROR_CODE\", {\n            value: \"E394\",\n            enumerable: false,\n            configurable: true\n        });\n    }\n    waitUntil() {\n        throw Object.defineProperty(new _error__WEBPACK_IMPORTED_MODULE_0__.PageSignatureError({\n            page: this.sourcePage\n        }), \"__NEXT_ERROR_CODE\", {\n            value: \"E394\",\n            enumerable: false,\n            configurable: true\n        });\n    }\n}\nconst headersGetter = {\n    keys: (headers)=>Array.from(headers.keys()),\n    get: (headers, key)=>headers.get(key) ?? undefined\n};\nlet propagator = (request, fn)=>{\n    const tracer = (0,_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_15__.getTracer)();\n    return tracer.withPropagatedContext(request.headers, fn, headersGetter);\n};\nlet testApisIntercepted = false;\nfunction ensureTestApisIntercepted() {\n    if (!testApisIntercepted) {\n        testApisIntercepted = true;\n        if (process.env.NEXT_PRIVATE_TEST_PROXY === 'true') {\n            const { interceptTestApis, wrapRequestHandler } = // eslint-disable-next-line @next/internal/typechecked-require -- experimental/testmode is not built ins next/dist/esm\n            __webpack_require__(/*! next/dist/experimental/testmode/server-edge */ \"(middleware)/./node_modules/next/dist/experimental/testmode/server-edge.js\");\n            interceptTestApis();\n            propagator = wrapRequestHandler(propagator);\n        }\n    }\n}\nasync function adapter(params) {\n    var _getBuiltinRequestContext;\n    ensureTestApisIntercepted();\n    await (0,_globals__WEBPACK_IMPORTED_MODULE_10__.ensureInstrumentationRegistered)();\n    // TODO-APP: use explicit marker for this\n    const isEdgeRendering = typeof globalThis.__BUILD_MANIFEST !== 'undefined';\n    params.request.url = (0,_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_8__.normalizeRscURL)(params.request.url);\n    const requestURL = params.bypassNextUrl ? new URL(params.request.url) : new _next_url__WEBPACK_IMPORTED_MODULE_6__.NextURL(params.request.url, {\n        headers: params.request.headers,\n        nextConfig: params.request.nextConfig\n    });\n    // Iterator uses an index to keep track of the current iteration. Because of deleting and appending below we can't just use the iterator.\n    // Instead we use the keys before iteration.\n    const keys = [\n        ...requestURL.searchParams.keys()\n    ];\n    for (const key of keys){\n        const value = requestURL.searchParams.getAll(key);\n        const normalizedKey = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.normalizeNextQueryParam)(key);\n        if (normalizedKey) {\n            requestURL.searchParams.delete(normalizedKey);\n            for (const val of value){\n                requestURL.searchParams.append(normalizedKey, val);\n            }\n            requestURL.searchParams.delete(key);\n        }\n    }\n    // Ensure users only see page requests, never data requests.\n    let buildId = process.env.__NEXT_BUILD_ID || '';\n    if ('buildId' in requestURL) {\n        buildId = requestURL.buildId || '';\n        requestURL.buildId = '';\n    }\n    const requestHeaders = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.fromNodeOutgoingHttpHeaders)(params.request.headers);\n    const isNextDataRequest = requestHeaders.has('x-nextjs-data');\n    const isRSCRequest = requestHeaders.get(_client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_9__.RSC_HEADER) === '1';\n    if (isNextDataRequest && requestURL.pathname === '/index') {\n        requestURL.pathname = '/';\n    }\n    const flightHeaders = new Map();\n    // Headers should only be stripped for middleware\n    if (!isEdgeRendering) {\n        for (const header of _client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_9__.FLIGHT_HEADERS){\n            const value = requestHeaders.get(header);\n            if (value !== null) {\n                flightHeaders.set(header, value);\n                requestHeaders.delete(header);\n            }\n        }\n    }\n    const normalizeURL =  false ? 0 : requestURL;\n    const rscHash = normalizeURL.searchParams.get(_client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_9__.NEXT_RSC_UNION_QUERY);\n    const request = new NextRequestHint({\n        page: params.page,\n        // Strip internal query parameters off the request.\n        input: (0,_internal_utils__WEBPACK_IMPORTED_MODULE_7__.stripInternalSearchParams)(normalizeURL).toString(),\n        init: {\n            body: params.request.body,\n            headers: requestHeaders,\n            method: params.request.method,\n            nextConfig: params.request.nextConfig,\n            signal: params.request.signal\n        }\n    });\n    /**\n   * This allows to identify the request as a data request. The user doesn't\n   * need to know about this property neither use it. We add it for testing\n   * purposes.\n   */ if (isNextDataRequest) {\n        Object.defineProperty(request, '__isData', {\n            enumerable: false,\n            value: true\n        });\n    }\n    if (// If we are inside of the next start sandbox\n    // leverage the shared instance if not we need\n    // to create a fresh cache instance each time\n    !globalThis.__incrementalCacheShared && params.IncrementalCache) {\n        ;\n        globalThis.__incrementalCache = new params.IncrementalCache({\n            CurCacheHandler: params.incrementalCacheHandler,\n            minimalMode: \"development\" !== 'development',\n            fetchCacheKeyPrefix: \"\",\n            dev: \"development\" === 'development',\n            requestHeaders: params.request.headers,\n            getPrerenderManifest: ()=>{\n                return {\n                    version: -1,\n                    routes: {},\n                    dynamicRoutes: {},\n                    notFoundRoutes: [],\n                    preview: (0,_get_edge_preview_props__WEBPACK_IMPORTED_MODULE_18__.getEdgePreviewProps)()\n                };\n            }\n        });\n    }\n    // if we're in an edge runtime sandbox, we should use the waitUntil\n    // that we receive from the enclosing NextServer\n    const outerWaitUntil = params.request.waitUntil ?? ((_getBuiltinRequestContext = (0,_after_builtin_request_context__WEBPACK_IMPORTED_MODULE_19__.getBuiltinRequestContext)()) == null ? void 0 : _getBuiltinRequestContext.waitUntil);\n    const event = new _spec_extension_fetch_event__WEBPACK_IMPORTED_MODULE_2__.NextFetchEvent({\n        request,\n        page: params.page,\n        context: outerWaitUntil ? {\n            waitUntil: outerWaitUntil\n        } : undefined\n    });\n    let response;\n    let cookiesFromResponse;\n    response = await propagator(request, ()=>{\n        // we only care to make async storage available for middleware\n        const isMiddleware = params.page === '/middleware' || params.page === '/src/middleware';\n        if (isMiddleware) {\n            // if we're in an edge function, we only get a subset of `nextConfig` (no `experimental`),\n            // so we have to inject it via DefinePlugin.\n            // in `next start` this will be passed normally (see `NextNodeServer.runMiddleware`).\n            const waitUntil = event.waitUntil.bind(event);\n            const closeController = new _web_on_close__WEBPACK_IMPORTED_MODULE_17__.CloseController();\n            return (0,_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_15__.getTracer)().trace(_lib_trace_constants__WEBPACK_IMPORTED_MODULE_16__.MiddlewareSpan.execute, {\n                spanName: `middleware ${request.method} ${request.nextUrl.pathname}`,\n                attributes: {\n                    'http.target': request.nextUrl.pathname,\n                    'http.method': request.method\n                }\n            }, async ()=>{\n                try {\n                    var _params_request_nextConfig_experimental, _params_request_nextConfig, _params_request_nextConfig_experimental1, _params_request_nextConfig1;\n                    const onUpdateCookies = (cookies)=>{\n                        cookiesFromResponse = cookies;\n                    };\n                    const previewProps = (0,_get_edge_preview_props__WEBPACK_IMPORTED_MODULE_18__.getEdgePreviewProps)();\n                    const page = '/' // Fake Work\n                    ;\n                    const fallbackRouteParams = null;\n                    const implicitTags = await (0,_lib_implicit_tags__WEBPACK_IMPORTED_MODULE_20__.getImplicitTags)(page, request.nextUrl, fallbackRouteParams);\n                    const requestStore = (0,_async_storage_request_store__WEBPACK_IMPORTED_MODULE_11__.createRequestStoreForAPI)(request, request.nextUrl, implicitTags, onUpdateCookies, previewProps);\n                    const workStore = (0,_async_storage_work_store__WEBPACK_IMPORTED_MODULE_13__.createWorkStore)({\n                        page,\n                        renderOpts: {\n                            cacheLifeProfiles: (_params_request_nextConfig = params.request.nextConfig) == null ? void 0 : (_params_request_nextConfig_experimental = _params_request_nextConfig.experimental) == null ? void 0 : _params_request_nextConfig_experimental.cacheLife,\n                            experimental: {\n                                isRoutePPREnabled: false,\n                                cacheComponents: false,\n                                authInterrupts: !!((_params_request_nextConfig1 = params.request.nextConfig) == null ? void 0 : (_params_request_nextConfig_experimental1 = _params_request_nextConfig1.experimental) == null ? void 0 : _params_request_nextConfig_experimental1.authInterrupts)\n                            },\n                            supportsDynamicResponse: true,\n                            waitUntil,\n                            onClose: closeController.onClose.bind(closeController),\n                            onAfterTaskError: undefined\n                        },\n                        isPrefetchRequest: request.headers.get(_client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_9__.NEXT_ROUTER_PREFETCH_HEADER) === '1',\n                        buildId: buildId ?? '',\n                        previouslyRevalidatedTags: []\n                    });\n                    return await _app_render_work_async_storage_external__WEBPACK_IMPORTED_MODULE_14__.workAsyncStorage.run(workStore, ()=>_app_render_work_unit_async_storage_external__WEBPACK_IMPORTED_MODULE_12__.workUnitAsyncStorage.run(requestStore, params.handler, request, event));\n                } finally{\n                    // middleware cannot stream, so we can consider the response closed\n                    // as soon as the handler returns.\n                    // we can delay running it until a bit later --\n                    // if it's needed, we'll have a `waitUntil` lock anyway.\n                    setTimeout(()=>{\n                        closeController.dispatchClose();\n                    }, 0);\n                }\n            });\n        }\n        return params.handler(request, event);\n    });\n    // check if response is a Response object\n    if (response && !(response instanceof Response)) {\n        throw Object.defineProperty(new TypeError('Expected an instance of Response to be returned'), \"__NEXT_ERROR_CODE\", {\n            value: \"E567\",\n            enumerable: false,\n            configurable: true\n        });\n    }\n    if (response && cookiesFromResponse) {\n        response.headers.set('set-cookie', cookiesFromResponse);\n    }\n    /**\n   * For rewrites we must always include the locale in the final pathname\n   * so we re-create the NextURL forcing it to include it when the it is\n   * an internal rewrite. Also we make sure the outgoing rewrite URL is\n   * a data URL if the request was a data request.\n   */ const rewrite = response == null ? void 0 : response.headers.get('x-middleware-rewrite');\n    if (response && rewrite && (isRSCRequest || !isEdgeRendering)) {\n        const destination = new _next_url__WEBPACK_IMPORTED_MODULE_6__.NextURL(rewrite, {\n            forceLocale: true,\n            headers: params.request.headers,\n            nextConfig: params.request.nextConfig\n        });\n        if ( true && !isEdgeRendering) {\n            if (destination.host === request.nextUrl.host) {\n                destination.buildId = buildId || destination.buildId;\n                response.headers.set('x-middleware-rewrite', String(destination));\n            }\n        }\n        /**\n     * When the request is a data request we must show if there was a rewrite\n     * with an internal header so the client knows which component to load\n     * from the data request.\n     */ const { url: relativeDestination, isRelative } = (0,_shared_lib_router_utils_relativize_url__WEBPACK_IMPORTED_MODULE_5__.parseRelativeURL)(destination.toString(), requestURL.toString());\n        if (!isEdgeRendering && isNextDataRequest && // if the rewrite is external and external rewrite\n        // resolving config is enabled don't add this header\n        // so the upstream app can set it instead\n        !( false && 0)) {\n            response.headers.set('x-nextjs-rewrite', relativeDestination);\n        }\n        // If this is an RSC request, and the pathname or search has changed, and\n        // this isn't an external rewrite, we need to set the rewritten pathname and\n        // query headers.\n        if (isRSCRequest && isRelative) {\n            if (requestURL.pathname !== destination.pathname) {\n                response.headers.set(_client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_9__.NEXT_REWRITTEN_PATH_HEADER, destination.pathname);\n            }\n            if (requestURL.search !== destination.search) {\n                response.headers.set(_client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_9__.NEXT_REWRITTEN_QUERY_HEADER, // remove the leading ? from the search string\n                destination.search.slice(1));\n            }\n        }\n    }\n    /**\n   * Always forward the `_rsc` search parameter to the rewritten URL for RSC requests,\n   * unless it's already present. This is necessary to ensure that RSC hash validation\n   * works correctly after a rewrite. For internal rewrites, the server can validate the\n   * RSC hash using the original URL, so forwarding the `_rsc` parameter is less critical.\n   * However, for external rewrites (where the request is proxied to another Next.js server),\n   * the external server does not have access to the original URL or its search parameters.\n   * In these cases, forwarding the `_rsc` parameter is essential so that the external server\n   * can perform the correct RSC hash validation.\n   */ if (response && rewrite && isRSCRequest && rscHash) {\n        const rewriteURL = new URL(rewrite);\n        if (!rewriteURL.searchParams.has(_client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_9__.NEXT_RSC_UNION_QUERY)) {\n            rewriteURL.searchParams.set(_client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_9__.NEXT_RSC_UNION_QUERY, rscHash);\n            response.headers.set('x-middleware-rewrite', rewriteURL.toString());\n        }\n    }\n    /**\n   * For redirects we will not include the locale in case when it is the\n   * default and we must also make sure the outgoing URL is a data one if\n   * the incoming request was a data request.\n   */ const redirect = response == null ? void 0 : response.headers.get('Location');\n    if (response && redirect && !isEdgeRendering) {\n        const redirectURL = new _next_url__WEBPACK_IMPORTED_MODULE_6__.NextURL(redirect, {\n            forceLocale: false,\n            headers: params.request.headers,\n            nextConfig: params.request.nextConfig\n        });\n        /**\n     * Responses created from redirects have immutable headers so we have\n     * to clone the response to be able to modify it.\n     */ response = new Response(response.body, response);\n        if (true) {\n            if (redirectURL.host === requestURL.host) {\n                redirectURL.buildId = buildId || redirectURL.buildId;\n                response.headers.set('Location', redirectURL.toString());\n            }\n        }\n        /**\n     * When the request is a data request we can't use the location header as\n     * it may end up with CORS error. Instead we map to an internal header so\n     * the client knows the destination.\n     */ if (isNextDataRequest) {\n            response.headers.delete('Location');\n            response.headers.set('x-nextjs-redirect', (0,_shared_lib_router_utils_relativize_url__WEBPACK_IMPORTED_MODULE_5__.getRelativeURL)(redirectURL.toString(), requestURL.toString()));\n        }\n    }\n    const finalResponse = response ? response : _spec_extension_response__WEBPACK_IMPORTED_MODULE_4__.NextResponse.next();\n    // Flight headers are not overridable / removable so they are applied at the end.\n    const middlewareOverrideHeaders = finalResponse.headers.get('x-middleware-override-headers');\n    const overwrittenHeaders = [];\n    if (middlewareOverrideHeaders) {\n        for (const [key, value] of flightHeaders){\n            finalResponse.headers.set(`x-middleware-request-${key}`, value);\n            overwrittenHeaders.push(key);\n        }\n        if (overwrittenHeaders.length > 0) {\n            finalResponse.headers.set('x-middleware-override-headers', middlewareOverrideHeaders + ',' + overwrittenHeaders.join(','));\n        }\n    }\n    return {\n        response: finalResponse,\n        waitUntil: (0,_spec_extension_fetch_event__WEBPACK_IMPORTED_MODULE_2__.getWaitUntilPromiseFromEvent)(event) ?? Promise.resolve(),\n        fetchMetrics: request.fetchMetrics\n    };\n}\n\n//# sourceMappingURL=adapter.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL3dlYi9hZGFwdGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTZDO0FBQ2tDO0FBQ2E7QUFDckM7QUFDRTtBQUN1QztBQUMzRDtBQUN5QjtBQUNZO0FBQzZGO0FBQzNHO0FBQ2M7QUFDWTtBQUN4QjtBQUNlO0FBQ1k7QUFDekM7QUFDUTtBQUNQO0FBQ2M7QUFDYTtBQUNyQjtBQUNoRCw4QkFBOEIsZ0VBQVc7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxzREFBa0I7QUFDMUQ7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSx3Q0FBd0Msc0RBQWtCO0FBQzFEO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0Esd0NBQXdDLHNEQUFrQjtBQUMxRDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsNkRBQVM7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isd0NBQXdDO0FBQzVELFlBQVksbUJBQU8sQ0FBQywrSEFBNkM7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLFVBQVUsMEVBQStCO0FBQ3pDO0FBQ0E7QUFDQSx5QkFBeUIsbUZBQWU7QUFDeEMsZ0ZBQWdGLDhDQUFPO0FBQ3ZGO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsK0RBQXVCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsbUVBQTJCO0FBQ3REO0FBQ0EsNENBQTRDLDZFQUFVO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixpRkFBYztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixNQUE4QyxHQUFHLENBQTJCO0FBQ3JHLGtEQUFrRCx1RkFBb0I7QUFDdEU7QUFDQTtBQUNBO0FBQ0EsZUFBZSwwRUFBeUI7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLGFBQW9CO0FBQzdDLGlDQUFpQyxFQUF5QztBQUMxRSxpQkFBaUIsYUFBb0I7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUIscUNBQXFDO0FBQ3JDO0FBQ0EsNkJBQTZCLDZFQUFtQjtBQUNoRDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLHFGQUFxRix5RkFBd0I7QUFDN0csc0JBQXNCLHVFQUFjO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QywyREFBZTtBQUN2RCxtQkFBbUIsNkRBQVMsU0FBUyxpRUFBYztBQUNuRCx3Q0FBd0MsZ0JBQWdCLEVBQUUseUJBQXlCO0FBQ25GO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsNkVBQW1CO0FBQzVEO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxvRUFBZTtBQUM5RCx5Q0FBeUMsdUZBQXdCO0FBQ2pFLHNDQUFzQywyRUFBZTtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QiwrREFBK0QsOEZBQTJCO0FBQzFGO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUNBQWlDLHNGQUFnQixvQkFBb0IsK0ZBQW9CO0FBQ3pGLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyw4Q0FBTztBQUN2QztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsWUFBWSxLQUErQztBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsdUNBQXVDLEVBQUUseUZBQWdCO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBLFVBQVUsTUFBc0QsSUFBSSxDQUEwQztBQUM5RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyw2RkFBMEI7QUFDL0Q7QUFDQTtBQUNBLHFDQUFxQyw4RkFBMkI7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLHVGQUFvQjtBQUM3RCx3Q0FBd0MsdUZBQW9CO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyw4Q0FBTztBQUN2QztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLElBQStDO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsdUZBQWM7QUFDcEU7QUFDQTtBQUNBLGdEQUFnRCxrRUFBWTtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOERBQThELElBQUk7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQix5RkFBNEI7QUFDL0M7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxuZXh0XFxkaXN0XFxlc21cXHNlcnZlclxcd2ViXFxhZGFwdGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VTaWduYXR1cmVFcnJvciB9IGZyb20gJy4vZXJyb3InO1xuaW1wb3J0IHsgZnJvbU5vZGVPdXRnb2luZ0h0dHBIZWFkZXJzLCBub3JtYWxpemVOZXh0UXVlcnlQYXJhbSB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHsgTmV4dEZldGNoRXZlbnQsIGdldFdhaXRVbnRpbFByb21pc2VGcm9tRXZlbnQgfSBmcm9tICcuL3NwZWMtZXh0ZW5zaW9uL2ZldGNoLWV2ZW50JztcbmltcG9ydCB7IE5leHRSZXF1ZXN0IH0gZnJvbSAnLi9zcGVjLWV4dGVuc2lvbi9yZXF1ZXN0JztcbmltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJy4vc3BlYy1leHRlbnNpb24vcmVzcG9uc2UnO1xuaW1wb3J0IHsgcGFyc2VSZWxhdGl2ZVVSTCwgZ2V0UmVsYXRpdmVVUkwgfSBmcm9tICcuLi8uLi9zaGFyZWQvbGliL3JvdXRlci91dGlscy9yZWxhdGl2aXplLXVybCc7XG5pbXBvcnQgeyBOZXh0VVJMIH0gZnJvbSAnLi9uZXh0LXVybCc7XG5pbXBvcnQgeyBzdHJpcEludGVybmFsU2VhcmNoUGFyYW1zIH0gZnJvbSAnLi4vaW50ZXJuYWwtdXRpbHMnO1xuaW1wb3J0IHsgbm9ybWFsaXplUnNjVVJMIH0gZnJvbSAnLi4vLi4vc2hhcmVkL2xpYi9yb3V0ZXIvdXRpbHMvYXBwLXBhdGhzJztcbmltcG9ydCB7IEZMSUdIVF9IRUFERVJTLCBORVhUX1JFV1JJVFRFTl9QQVRIX0hFQURFUiwgTkVYVF9SRVdSSVRURU5fUVVFUllfSEVBREVSLCBORVhUX1JTQ19VTklPTl9RVUVSWSwgUlNDX0hFQURFUiB9IGZyb20gJy4uLy4uL2NsaWVudC9jb21wb25lbnRzL2FwcC1yb3V0ZXItaGVhZGVycyc7XG5pbXBvcnQgeyBlbnN1cmVJbnN0cnVtZW50YXRpb25SZWdpc3RlcmVkIH0gZnJvbSAnLi9nbG9iYWxzJztcbmltcG9ydCB7IGNyZWF0ZVJlcXVlc3RTdG9yZUZvckFQSSB9IGZyb20gJy4uL2FzeW5jLXN0b3JhZ2UvcmVxdWVzdC1zdG9yZSc7XG5pbXBvcnQgeyB3b3JrVW5pdEFzeW5jU3RvcmFnZSB9IGZyb20gJy4uL2FwcC1yZW5kZXIvd29yay11bml0LWFzeW5jLXN0b3JhZ2UuZXh0ZXJuYWwnO1xuaW1wb3J0IHsgY3JlYXRlV29ya1N0b3JlIH0gZnJvbSAnLi4vYXN5bmMtc3RvcmFnZS93b3JrLXN0b3JlJztcbmltcG9ydCB7IHdvcmtBc3luY1N0b3JhZ2UgfSBmcm9tICcuLi9hcHAtcmVuZGVyL3dvcmstYXN5bmMtc3RvcmFnZS5leHRlcm5hbCc7XG5pbXBvcnQgeyBORVhUX1JPVVRFUl9QUkVGRVRDSF9IRUFERVIgfSBmcm9tICcuLi8uLi9jbGllbnQvY29tcG9uZW50cy9hcHAtcm91dGVyLWhlYWRlcnMnO1xuaW1wb3J0IHsgZ2V0VHJhY2VyIH0gZnJvbSAnLi4vbGliL3RyYWNlL3RyYWNlcic7XG5pbXBvcnQgeyBNaWRkbGV3YXJlU3BhbiB9IGZyb20gJy4uL2xpYi90cmFjZS9jb25zdGFudHMnO1xuaW1wb3J0IHsgQ2xvc2VDb250cm9sbGVyIH0gZnJvbSAnLi93ZWItb24tY2xvc2UnO1xuaW1wb3J0IHsgZ2V0RWRnZVByZXZpZXdQcm9wcyB9IGZyb20gJy4vZ2V0LWVkZ2UtcHJldmlldy1wcm9wcyc7XG5pbXBvcnQgeyBnZXRCdWlsdGluUmVxdWVzdENvbnRleHQgfSBmcm9tICcuLi9hZnRlci9idWlsdGluLXJlcXVlc3QtY29udGV4dCc7XG5pbXBvcnQgeyBnZXRJbXBsaWNpdFRhZ3MgfSBmcm9tICcuLi9saWIvaW1wbGljaXQtdGFncyc7XG5leHBvcnQgY2xhc3MgTmV4dFJlcXVlc3RIaW50IGV4dGVuZHMgTmV4dFJlcXVlc3Qge1xuICAgIGNvbnN0cnVjdG9yKHBhcmFtcyl7XG4gICAgICAgIHN1cGVyKHBhcmFtcy5pbnB1dCwgcGFyYW1zLmluaXQpO1xuICAgICAgICB0aGlzLnNvdXJjZVBhZ2UgPSBwYXJhbXMucGFnZTtcbiAgICB9XG4gICAgZ2V0IHJlcXVlc3QoKSB7XG4gICAgICAgIHRocm93IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXcgUGFnZVNpZ25hdHVyZUVycm9yKHtcbiAgICAgICAgICAgIHBhZ2U6IHRoaXMuc291cmNlUGFnZVxuICAgICAgICB9KSwgXCJfX05FWFRfRVJST1JfQ09ERVwiLCB7XG4gICAgICAgICAgICB2YWx1ZTogXCJFMzk0XCIsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVzcG9uZFdpdGgoKSB7XG4gICAgICAgIHRocm93IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXcgUGFnZVNpZ25hdHVyZUVycm9yKHtcbiAgICAgICAgICAgIHBhZ2U6IHRoaXMuc291cmNlUGFnZVxuICAgICAgICB9KSwgXCJfX05FWFRfRVJST1JfQ09ERVwiLCB7XG4gICAgICAgICAgICB2YWx1ZTogXCJFMzk0XCIsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgd2FpdFVudGlsKCkge1xuICAgICAgICB0aHJvdyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3IFBhZ2VTaWduYXR1cmVFcnJvcih7XG4gICAgICAgICAgICBwYWdlOiB0aGlzLnNvdXJjZVBhZ2VcbiAgICAgICAgfSksIFwiX19ORVhUX0VSUk9SX0NPREVcIiwge1xuICAgICAgICAgICAgdmFsdWU6IFwiRTM5NFwiLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgfVxufVxuY29uc3QgaGVhZGVyc0dldHRlciA9IHtcbiAgICBrZXlzOiAoaGVhZGVycyk9PkFycmF5LmZyb20oaGVhZGVycy5rZXlzKCkpLFxuICAgIGdldDogKGhlYWRlcnMsIGtleSk9PmhlYWRlcnMuZ2V0KGtleSkgPz8gdW5kZWZpbmVkXG59O1xubGV0IHByb3BhZ2F0b3IgPSAocmVxdWVzdCwgZm4pPT57XG4gICAgY29uc3QgdHJhY2VyID0gZ2V0VHJhY2VyKCk7XG4gICAgcmV0dXJuIHRyYWNlci53aXRoUHJvcGFnYXRlZENvbnRleHQocmVxdWVzdC5oZWFkZXJzLCBmbiwgaGVhZGVyc0dldHRlcik7XG59O1xubGV0IHRlc3RBcGlzSW50ZXJjZXB0ZWQgPSBmYWxzZTtcbmZ1bmN0aW9uIGVuc3VyZVRlc3RBcGlzSW50ZXJjZXB0ZWQoKSB7XG4gICAgaWYgKCF0ZXN0QXBpc0ludGVyY2VwdGVkKSB7XG4gICAgICAgIHRlc3RBcGlzSW50ZXJjZXB0ZWQgPSB0cnVlO1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTkVYVF9QUklWQVRFX1RFU1RfUFJPWFkgPT09ICd0cnVlJykge1xuICAgICAgICAgICAgY29uc3QgeyBpbnRlcmNlcHRUZXN0QXBpcywgd3JhcFJlcXVlc3RIYW5kbGVyIH0gPSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQG5leHQvaW50ZXJuYWwvdHlwZWNoZWNrZWQtcmVxdWlyZSAtLSBleHBlcmltZW50YWwvdGVzdG1vZGUgaXMgbm90IGJ1aWx0IGlucyBuZXh0L2Rpc3QvZXNtXG4gICAgICAgICAgICByZXF1aXJlKCduZXh0L2Rpc3QvZXhwZXJpbWVudGFsL3Rlc3Rtb2RlL3NlcnZlci1lZGdlJyk7XG4gICAgICAgICAgICBpbnRlcmNlcHRUZXN0QXBpcygpO1xuICAgICAgICAgICAgcHJvcGFnYXRvciA9IHdyYXBSZXF1ZXN0SGFuZGxlcihwcm9wYWdhdG9yKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhZGFwdGVyKHBhcmFtcykge1xuICAgIHZhciBfZ2V0QnVpbHRpblJlcXVlc3RDb250ZXh0O1xuICAgIGVuc3VyZVRlc3RBcGlzSW50ZXJjZXB0ZWQoKTtcbiAgICBhd2FpdCBlbnN1cmVJbnN0cnVtZW50YXRpb25SZWdpc3RlcmVkKCk7XG4gICAgLy8gVE9ETy1BUFA6IHVzZSBleHBsaWNpdCBtYXJrZXIgZm9yIHRoaXNcbiAgICBjb25zdCBpc0VkZ2VSZW5kZXJpbmcgPSB0eXBlb2YgZ2xvYmFsVGhpcy5fX0JVSUxEX01BTklGRVNUICE9PSAndW5kZWZpbmVkJztcbiAgICBwYXJhbXMucmVxdWVzdC51cmwgPSBub3JtYWxpemVSc2NVUkwocGFyYW1zLnJlcXVlc3QudXJsKTtcbiAgICBjb25zdCByZXF1ZXN0VVJMID0gcGFyYW1zLmJ5cGFzc05leHRVcmwgPyBuZXcgVVJMKHBhcmFtcy5yZXF1ZXN0LnVybCkgOiBuZXcgTmV4dFVSTChwYXJhbXMucmVxdWVzdC51cmwsIHtcbiAgICAgICAgaGVhZGVyczogcGFyYW1zLnJlcXVlc3QuaGVhZGVycyxcbiAgICAgICAgbmV4dENvbmZpZzogcGFyYW1zLnJlcXVlc3QubmV4dENvbmZpZ1xuICAgIH0pO1xuICAgIC8vIEl0ZXJhdG9yIHVzZXMgYW4gaW5kZXggdG8ga2VlcCB0cmFjayBvZiB0aGUgY3VycmVudCBpdGVyYXRpb24uIEJlY2F1c2Ugb2YgZGVsZXRpbmcgYW5kIGFwcGVuZGluZyBiZWxvdyB3ZSBjYW4ndCBqdXN0IHVzZSB0aGUgaXRlcmF0b3IuXG4gICAgLy8gSW5zdGVhZCB3ZSB1c2UgdGhlIGtleXMgYmVmb3JlIGl0ZXJhdGlvbi5cbiAgICBjb25zdCBrZXlzID0gW1xuICAgICAgICAuLi5yZXF1ZXN0VVJMLnNlYXJjaFBhcmFtcy5rZXlzKClcbiAgICBdO1xuICAgIGZvciAoY29uc3Qga2V5IG9mIGtleXMpe1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHJlcXVlc3RVUkwuc2VhcmNoUGFyYW1zLmdldEFsbChrZXkpO1xuICAgICAgICBjb25zdCBub3JtYWxpemVkS2V5ID0gbm9ybWFsaXplTmV4dFF1ZXJ5UGFyYW0oa2V5KTtcbiAgICAgICAgaWYgKG5vcm1hbGl6ZWRLZXkpIHtcbiAgICAgICAgICAgIHJlcXVlc3RVUkwuc2VhcmNoUGFyYW1zLmRlbGV0ZShub3JtYWxpemVkS2V5KTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdmFsIG9mIHZhbHVlKXtcbiAgICAgICAgICAgICAgICByZXF1ZXN0VVJMLnNlYXJjaFBhcmFtcy5hcHBlbmQobm9ybWFsaXplZEtleSwgdmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcXVlc3RVUkwuc2VhcmNoUGFyYW1zLmRlbGV0ZShrZXkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEVuc3VyZSB1c2VycyBvbmx5IHNlZSBwYWdlIHJlcXVlc3RzLCBuZXZlciBkYXRhIHJlcXVlc3RzLlxuICAgIGxldCBidWlsZElkID0gcHJvY2Vzcy5lbnYuX19ORVhUX0JVSUxEX0lEIHx8ICcnO1xuICAgIGlmICgnYnVpbGRJZCcgaW4gcmVxdWVzdFVSTCkge1xuICAgICAgICBidWlsZElkID0gcmVxdWVzdFVSTC5idWlsZElkIHx8ICcnO1xuICAgICAgICByZXF1ZXN0VVJMLmJ1aWxkSWQgPSAnJztcbiAgICB9XG4gICAgY29uc3QgcmVxdWVzdEhlYWRlcnMgPSBmcm9tTm9kZU91dGdvaW5nSHR0cEhlYWRlcnMocGFyYW1zLnJlcXVlc3QuaGVhZGVycyk7XG4gICAgY29uc3QgaXNOZXh0RGF0YVJlcXVlc3QgPSByZXF1ZXN0SGVhZGVycy5oYXMoJ3gtbmV4dGpzLWRhdGEnKTtcbiAgICBjb25zdCBpc1JTQ1JlcXVlc3QgPSByZXF1ZXN0SGVhZGVycy5nZXQoUlNDX0hFQURFUikgPT09ICcxJztcbiAgICBpZiAoaXNOZXh0RGF0YVJlcXVlc3QgJiYgcmVxdWVzdFVSTC5wYXRobmFtZSA9PT0gJy9pbmRleCcpIHtcbiAgICAgICAgcmVxdWVzdFVSTC5wYXRobmFtZSA9ICcvJztcbiAgICB9XG4gICAgY29uc3QgZmxpZ2h0SGVhZGVycyA9IG5ldyBNYXAoKTtcbiAgICAvLyBIZWFkZXJzIHNob3VsZCBvbmx5IGJlIHN0cmlwcGVkIGZvciBtaWRkbGV3YXJlXG4gICAgaWYgKCFpc0VkZ2VSZW5kZXJpbmcpIHtcbiAgICAgICAgZm9yIChjb25zdCBoZWFkZXIgb2YgRkxJR0hUX0hFQURFUlMpe1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSByZXF1ZXN0SGVhZGVycy5nZXQoaGVhZGVyKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGZsaWdodEhlYWRlcnMuc2V0KGhlYWRlciwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIHJlcXVlc3RIZWFkZXJzLmRlbGV0ZShoZWFkZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IG5vcm1hbGl6ZVVSTCA9IHByb2Nlc3MuZW52Ll9fTkVYVF9OT19NSURETEVXQVJFX1VSTF9OT1JNQUxJWkUgPyBuZXcgVVJMKHBhcmFtcy5yZXF1ZXN0LnVybCkgOiByZXF1ZXN0VVJMO1xuICAgIGNvbnN0IHJzY0hhc2ggPSBub3JtYWxpemVVUkwuc2VhcmNoUGFyYW1zLmdldChORVhUX1JTQ19VTklPTl9RVUVSWSk7XG4gICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdEhpbnQoe1xuICAgICAgICBwYWdlOiBwYXJhbXMucGFnZSxcbiAgICAgICAgLy8gU3RyaXAgaW50ZXJuYWwgcXVlcnkgcGFyYW1ldGVycyBvZmYgdGhlIHJlcXVlc3QuXG4gICAgICAgIGlucHV0OiBzdHJpcEludGVybmFsU2VhcmNoUGFyYW1zKG5vcm1hbGl6ZVVSTCkudG9TdHJpbmcoKSxcbiAgICAgICAgaW5pdDoge1xuICAgICAgICAgICAgYm9keTogcGFyYW1zLnJlcXVlc3QuYm9keSxcbiAgICAgICAgICAgIGhlYWRlcnM6IHJlcXVlc3RIZWFkZXJzLFxuICAgICAgICAgICAgbWV0aG9kOiBwYXJhbXMucmVxdWVzdC5tZXRob2QsXG4gICAgICAgICAgICBuZXh0Q29uZmlnOiBwYXJhbXMucmVxdWVzdC5uZXh0Q29uZmlnLFxuICAgICAgICAgICAgc2lnbmFsOiBwYXJhbXMucmVxdWVzdC5zaWduYWxcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIC8qKlxuICAgKiBUaGlzIGFsbG93cyB0byBpZGVudGlmeSB0aGUgcmVxdWVzdCBhcyBhIGRhdGEgcmVxdWVzdC4gVGhlIHVzZXIgZG9lc24ndFxuICAgKiBuZWVkIHRvIGtub3cgYWJvdXQgdGhpcyBwcm9wZXJ0eSBuZWl0aGVyIHVzZSBpdC4gV2UgYWRkIGl0IGZvciB0ZXN0aW5nXG4gICAqIHB1cnBvc2VzLlxuICAgKi8gaWYgKGlzTmV4dERhdGFSZXF1ZXN0KSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXF1ZXN0LCAnX19pc0RhdGEnLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIHZhbHVlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoLy8gSWYgd2UgYXJlIGluc2lkZSBvZiB0aGUgbmV4dCBzdGFydCBzYW5kYm94XG4gICAgLy8gbGV2ZXJhZ2UgdGhlIHNoYXJlZCBpbnN0YW5jZSBpZiBub3Qgd2UgbmVlZFxuICAgIC8vIHRvIGNyZWF0ZSBhIGZyZXNoIGNhY2hlIGluc3RhbmNlIGVhY2ggdGltZVxuICAgICFnbG9iYWxUaGlzLl9faW5jcmVtZW50YWxDYWNoZVNoYXJlZCAmJiBwYXJhbXMuSW5jcmVtZW50YWxDYWNoZSkge1xuICAgICAgICA7XG4gICAgICAgIGdsb2JhbFRoaXMuX19pbmNyZW1lbnRhbENhY2hlID0gbmV3IHBhcmFtcy5JbmNyZW1lbnRhbENhY2hlKHtcbiAgICAgICAgICAgIEN1ckNhY2hlSGFuZGxlcjogcGFyYW1zLmluY3JlbWVudGFsQ2FjaGVIYW5kbGVyLFxuICAgICAgICAgICAgbWluaW1hbE1vZGU6IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAnZGV2ZWxvcG1lbnQnLFxuICAgICAgICAgICAgZmV0Y2hDYWNoZUtleVByZWZpeDogcHJvY2Vzcy5lbnYuX19ORVhUX0ZFVENIX0NBQ0hFX0tFWV9QUkVGSVgsXG4gICAgICAgICAgICBkZXY6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnLFxuICAgICAgICAgICAgcmVxdWVzdEhlYWRlcnM6IHBhcmFtcy5yZXF1ZXN0LmhlYWRlcnMsXG4gICAgICAgICAgICBnZXRQcmVyZW5kZXJNYW5pZmVzdDogKCk9PntcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uOiAtMSxcbiAgICAgICAgICAgICAgICAgICAgcm91dGVzOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgZHluYW1pY1JvdXRlczoge30sXG4gICAgICAgICAgICAgICAgICAgIG5vdEZvdW5kUm91dGVzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgcHJldmlldzogZ2V0RWRnZVByZXZpZXdQcm9wcygpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIGlmIHdlJ3JlIGluIGFuIGVkZ2UgcnVudGltZSBzYW5kYm94LCB3ZSBzaG91bGQgdXNlIHRoZSB3YWl0VW50aWxcbiAgICAvLyB0aGF0IHdlIHJlY2VpdmUgZnJvbSB0aGUgZW5jbG9zaW5nIE5leHRTZXJ2ZXJcbiAgICBjb25zdCBvdXRlcldhaXRVbnRpbCA9IHBhcmFtcy5yZXF1ZXN0LndhaXRVbnRpbCA/PyAoKF9nZXRCdWlsdGluUmVxdWVzdENvbnRleHQgPSBnZXRCdWlsdGluUmVxdWVzdENvbnRleHQoKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9nZXRCdWlsdGluUmVxdWVzdENvbnRleHQud2FpdFVudGlsKTtcbiAgICBjb25zdCBldmVudCA9IG5ldyBOZXh0RmV0Y2hFdmVudCh7XG4gICAgICAgIHJlcXVlc3QsXG4gICAgICAgIHBhZ2U6IHBhcmFtcy5wYWdlLFxuICAgICAgICBjb250ZXh0OiBvdXRlcldhaXRVbnRpbCA/IHtcbiAgICAgICAgICAgIHdhaXRVbnRpbDogb3V0ZXJXYWl0VW50aWxcbiAgICAgICAgfSA6IHVuZGVmaW5lZFxuICAgIH0pO1xuICAgIGxldCByZXNwb25zZTtcbiAgICBsZXQgY29va2llc0Zyb21SZXNwb25zZTtcbiAgICByZXNwb25zZSA9IGF3YWl0IHByb3BhZ2F0b3IocmVxdWVzdCwgKCk9PntcbiAgICAgICAgLy8gd2Ugb25seSBjYXJlIHRvIG1ha2UgYXN5bmMgc3RvcmFnZSBhdmFpbGFibGUgZm9yIG1pZGRsZXdhcmVcbiAgICAgICAgY29uc3QgaXNNaWRkbGV3YXJlID0gcGFyYW1zLnBhZ2UgPT09ICcvbWlkZGxld2FyZScgfHwgcGFyYW1zLnBhZ2UgPT09ICcvc3JjL21pZGRsZXdhcmUnO1xuICAgICAgICBpZiAoaXNNaWRkbGV3YXJlKSB7XG4gICAgICAgICAgICAvLyBpZiB3ZSdyZSBpbiBhbiBlZGdlIGZ1bmN0aW9uLCB3ZSBvbmx5IGdldCBhIHN1YnNldCBvZiBgbmV4dENvbmZpZ2AgKG5vIGBleHBlcmltZW50YWxgKSxcbiAgICAgICAgICAgIC8vIHNvIHdlIGhhdmUgdG8gaW5qZWN0IGl0IHZpYSBEZWZpbmVQbHVnaW4uXG4gICAgICAgICAgICAvLyBpbiBgbmV4dCBzdGFydGAgdGhpcyB3aWxsIGJlIHBhc3NlZCBub3JtYWxseSAoc2VlIGBOZXh0Tm9kZVNlcnZlci5ydW5NaWRkbGV3YXJlYCkuXG4gICAgICAgICAgICBjb25zdCB3YWl0VW50aWwgPSBldmVudC53YWl0VW50aWwuYmluZChldmVudCk7XG4gICAgICAgICAgICBjb25zdCBjbG9zZUNvbnRyb2xsZXIgPSBuZXcgQ2xvc2VDb250cm9sbGVyKCk7XG4gICAgICAgICAgICByZXR1cm4gZ2V0VHJhY2VyKCkudHJhY2UoTWlkZGxld2FyZVNwYW4uZXhlY3V0ZSwge1xuICAgICAgICAgICAgICAgIHNwYW5OYW1lOiBgbWlkZGxld2FyZSAke3JlcXVlc3QubWV0aG9kfSAke3JlcXVlc3QubmV4dFVybC5wYXRobmFtZX1gLFxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ2h0dHAudGFyZ2V0JzogcmVxdWVzdC5uZXh0VXJsLnBhdGhuYW1lLFxuICAgICAgICAgICAgICAgICAgICAnaHR0cC5tZXRob2QnOiByZXF1ZXN0Lm1ldGhvZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIGFzeW5jICgpPT57XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9wYXJhbXNfcmVxdWVzdF9uZXh0Q29uZmlnX2V4cGVyaW1lbnRhbCwgX3BhcmFtc19yZXF1ZXN0X25leHRDb25maWcsIF9wYXJhbXNfcmVxdWVzdF9uZXh0Q29uZmlnX2V4cGVyaW1lbnRhbDEsIF9wYXJhbXNfcmVxdWVzdF9uZXh0Q29uZmlnMTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb25VcGRhdGVDb29raWVzID0gKGNvb2tpZXMpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICBjb29raWVzRnJvbVJlc3BvbnNlID0gY29va2llcztcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJldmlld1Byb3BzID0gZ2V0RWRnZVByZXZpZXdQcm9wcygpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWdlID0gJy8nIC8vIEZha2UgV29ya1xuICAgICAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZhbGxiYWNrUm91dGVQYXJhbXMgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbXBsaWNpdFRhZ3MgPSBhd2FpdCBnZXRJbXBsaWNpdFRhZ3MocGFnZSwgcmVxdWVzdC5uZXh0VXJsLCBmYWxsYmFja1JvdXRlUGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVxdWVzdFN0b3JlID0gY3JlYXRlUmVxdWVzdFN0b3JlRm9yQVBJKHJlcXVlc3QsIHJlcXVlc3QubmV4dFVybCwgaW1wbGljaXRUYWdzLCBvblVwZGF0ZUNvb2tpZXMsIHByZXZpZXdQcm9wcyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHdvcmtTdG9yZSA9IGNyZWF0ZVdvcmtTdG9yZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyT3B0czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlTGlmZVByb2ZpbGVzOiAoX3BhcmFtc19yZXF1ZXN0X25leHRDb25maWcgPSBwYXJhbXMucmVxdWVzdC5uZXh0Q29uZmlnKSA9PSBudWxsID8gdm9pZCAwIDogKF9wYXJhbXNfcmVxdWVzdF9uZXh0Q29uZmlnX2V4cGVyaW1lbnRhbCA9IF9wYXJhbXNfcmVxdWVzdF9uZXh0Q29uZmlnLmV4cGVyaW1lbnRhbCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9wYXJhbXNfcmVxdWVzdF9uZXh0Q29uZmlnX2V4cGVyaW1lbnRhbC5jYWNoZUxpZmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwZXJpbWVudGFsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzUm91dGVQUFJFbmFibGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVDb21wb25lbnRzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0aEludGVycnVwdHM6ICEhKChfcGFyYW1zX3JlcXVlc3RfbmV4dENvbmZpZzEgPSBwYXJhbXMucmVxdWVzdC5uZXh0Q29uZmlnKSA9PSBudWxsID8gdm9pZCAwIDogKF9wYXJhbXNfcmVxdWVzdF9uZXh0Q29uZmlnX2V4cGVyaW1lbnRhbDEgPSBfcGFyYW1zX3JlcXVlc3RfbmV4dENvbmZpZzEuZXhwZXJpbWVudGFsKSA9PSBudWxsID8gdm9pZCAwIDogX3BhcmFtc19yZXF1ZXN0X25leHRDb25maWdfZXhwZXJpbWVudGFsMS5hdXRoSW50ZXJydXB0cylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1cHBvcnRzRHluYW1pY1Jlc3BvbnNlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhaXRVbnRpbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsb3NlOiBjbG9zZUNvbnRyb2xsZXIub25DbG9zZS5iaW5kKGNsb3NlQ29udHJvbGxlciksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25BZnRlclRhc2tFcnJvcjogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNQcmVmZXRjaFJlcXVlc3Q6IHJlcXVlc3QuaGVhZGVycy5nZXQoTkVYVF9ST1VURVJfUFJFRkVUQ0hfSEVBREVSKSA9PT0gJzEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRJZDogYnVpbGRJZCA/PyAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzbHlSZXZhbGlkYXRlZFRhZ3M6IFtdXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgd29ya0FzeW5jU3RvcmFnZS5ydW4od29ya1N0b3JlLCAoKT0+d29ya1VuaXRBc3luY1N0b3JhZ2UucnVuKHJlcXVlc3RTdG9yZSwgcGFyYW1zLmhhbmRsZXIsIHJlcXVlc3QsIGV2ZW50KSk7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5e1xuICAgICAgICAgICAgICAgICAgICAvLyBtaWRkbGV3YXJlIGNhbm5vdCBzdHJlYW0sIHNvIHdlIGNhbiBjb25zaWRlciB0aGUgcmVzcG9uc2UgY2xvc2VkXG4gICAgICAgICAgICAgICAgICAgIC8vIGFzIHNvb24gYXMgdGhlIGhhbmRsZXIgcmV0dXJucy5cbiAgICAgICAgICAgICAgICAgICAgLy8gd2UgY2FuIGRlbGF5IHJ1bm5pbmcgaXQgdW50aWwgYSBiaXQgbGF0ZXIgLS1cbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgaXQncyBuZWVkZWQsIHdlJ2xsIGhhdmUgYSBgd2FpdFVudGlsYCBsb2NrIGFueXdheS5cbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2VDb250cm9sbGVyLmRpc3BhdGNoQ2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcmFtcy5oYW5kbGVyKHJlcXVlc3QsIGV2ZW50KTtcbiAgICB9KTtcbiAgICAvLyBjaGVjayBpZiByZXNwb25zZSBpcyBhIFJlc3BvbnNlIG9iamVjdFxuICAgIGlmIChyZXNwb25zZSAmJiAhKHJlc3BvbnNlIGluc3RhbmNlb2YgUmVzcG9uc2UpKSB7XG4gICAgICAgIHRocm93IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBhbiBpbnN0YW5jZSBvZiBSZXNwb25zZSB0byBiZSByZXR1cm5lZCcpLCBcIl9fTkVYVF9FUlJPUl9DT0RFXCIsIHtcbiAgICAgICAgICAgIHZhbHVlOiBcIkU1NjdcIixcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAocmVzcG9uc2UgJiYgY29va2llc0Zyb21SZXNwb25zZSkge1xuICAgICAgICByZXNwb25zZS5oZWFkZXJzLnNldCgnc2V0LWNvb2tpZScsIGNvb2tpZXNGcm9tUmVzcG9uc2UpO1xuICAgIH1cbiAgICAvKipcbiAgICogRm9yIHJld3JpdGVzIHdlIG11c3QgYWx3YXlzIGluY2x1ZGUgdGhlIGxvY2FsZSBpbiB0aGUgZmluYWwgcGF0aG5hbWVcbiAgICogc28gd2UgcmUtY3JlYXRlIHRoZSBOZXh0VVJMIGZvcmNpbmcgaXQgdG8gaW5jbHVkZSBpdCB3aGVuIHRoZSBpdCBpc1xuICAgKiBhbiBpbnRlcm5hbCByZXdyaXRlLiBBbHNvIHdlIG1ha2Ugc3VyZSB0aGUgb3V0Z29pbmcgcmV3cml0ZSBVUkwgaXNcbiAgICogYSBkYXRhIFVSTCBpZiB0aGUgcmVxdWVzdCB3YXMgYSBkYXRhIHJlcXVlc3QuXG4gICAqLyBjb25zdCByZXdyaXRlID0gcmVzcG9uc2UgPT0gbnVsbCA/IHZvaWQgMCA6IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCd4LW1pZGRsZXdhcmUtcmV3cml0ZScpO1xuICAgIGlmIChyZXNwb25zZSAmJiByZXdyaXRlICYmIChpc1JTQ1JlcXVlc3QgfHwgIWlzRWRnZVJlbmRlcmluZykpIHtcbiAgICAgICAgY29uc3QgZGVzdGluYXRpb24gPSBuZXcgTmV4dFVSTChyZXdyaXRlLCB7XG4gICAgICAgICAgICBmb3JjZUxvY2FsZTogdHJ1ZSxcbiAgICAgICAgICAgIGhlYWRlcnM6IHBhcmFtcy5yZXF1ZXN0LmhlYWRlcnMsXG4gICAgICAgICAgICBuZXh0Q29uZmlnOiBwYXJhbXMucmVxdWVzdC5uZXh0Q29uZmlnXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXByb2Nlc3MuZW52Ll9fTkVYVF9OT19NSURETEVXQVJFX1VSTF9OT1JNQUxJWkUgJiYgIWlzRWRnZVJlbmRlcmluZykge1xuICAgICAgICAgICAgaWYgKGRlc3RpbmF0aW9uLmhvc3QgPT09IHJlcXVlc3QubmV4dFVybC5ob3N0KSB7XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb24uYnVpbGRJZCA9IGJ1aWxkSWQgfHwgZGVzdGluYXRpb24uYnVpbGRJZDtcbiAgICAgICAgICAgICAgICByZXNwb25zZS5oZWFkZXJzLnNldCgneC1taWRkbGV3YXJlLXJld3JpdGUnLCBTdHJpbmcoZGVzdGluYXRpb24pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgKiBXaGVuIHRoZSByZXF1ZXN0IGlzIGEgZGF0YSByZXF1ZXN0IHdlIG11c3Qgc2hvdyBpZiB0aGVyZSB3YXMgYSByZXdyaXRlXG4gICAgICogd2l0aCBhbiBpbnRlcm5hbCBoZWFkZXIgc28gdGhlIGNsaWVudCBrbm93cyB3aGljaCBjb21wb25lbnQgdG8gbG9hZFxuICAgICAqIGZyb20gdGhlIGRhdGEgcmVxdWVzdC5cbiAgICAgKi8gY29uc3QgeyB1cmw6IHJlbGF0aXZlRGVzdGluYXRpb24sIGlzUmVsYXRpdmUgfSA9IHBhcnNlUmVsYXRpdmVVUkwoZGVzdGluYXRpb24udG9TdHJpbmcoKSwgcmVxdWVzdFVSTC50b1N0cmluZygpKTtcbiAgICAgICAgaWYgKCFpc0VkZ2VSZW5kZXJpbmcgJiYgaXNOZXh0RGF0YVJlcXVlc3QgJiYgLy8gaWYgdGhlIHJld3JpdGUgaXMgZXh0ZXJuYWwgYW5kIGV4dGVybmFsIHJld3JpdGVcbiAgICAgICAgLy8gcmVzb2x2aW5nIGNvbmZpZyBpcyBlbmFibGVkIGRvbid0IGFkZCB0aGlzIGhlYWRlclxuICAgICAgICAvLyBzbyB0aGUgdXBzdHJlYW0gYXBwIGNhbiBzZXQgaXQgaW5zdGVhZFxuICAgICAgICAhKHByb2Nlc3MuZW52Ll9fTkVYVF9FWFRFUk5BTF9NSURETEVXQVJFX1JFV1JJVEVfUkVTT0xWRSAmJiByZWxhdGl2ZURlc3RpbmF0aW9uLm1hdGNoKC9odHRwKHMpPzpcXC9cXC8vKSkpIHtcbiAgICAgICAgICAgIHJlc3BvbnNlLmhlYWRlcnMuc2V0KCd4LW5leHRqcy1yZXdyaXRlJywgcmVsYXRpdmVEZXN0aW5hdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhpcyBpcyBhbiBSU0MgcmVxdWVzdCwgYW5kIHRoZSBwYXRobmFtZSBvciBzZWFyY2ggaGFzIGNoYW5nZWQsIGFuZFxuICAgICAgICAvLyB0aGlzIGlzbid0IGFuIGV4dGVybmFsIHJld3JpdGUsIHdlIG5lZWQgdG8gc2V0IHRoZSByZXdyaXR0ZW4gcGF0aG5hbWUgYW5kXG4gICAgICAgIC8vIHF1ZXJ5IGhlYWRlcnMuXG4gICAgICAgIGlmIChpc1JTQ1JlcXVlc3QgJiYgaXNSZWxhdGl2ZSkge1xuICAgICAgICAgICAgaWYgKHJlcXVlc3RVUkwucGF0aG5hbWUgIT09IGRlc3RpbmF0aW9uLnBhdGhuYW1lKSB7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuaGVhZGVycy5zZXQoTkVYVF9SRVdSSVRURU5fUEFUSF9IRUFERVIsIGRlc3RpbmF0aW9uLnBhdGhuYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXF1ZXN0VVJMLnNlYXJjaCAhPT0gZGVzdGluYXRpb24uc2VhcmNoKSB7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuaGVhZGVycy5zZXQoTkVYVF9SRVdSSVRURU5fUVVFUllfSEVBREVSLCAvLyByZW1vdmUgdGhlIGxlYWRpbmcgPyBmcm9tIHRoZSBzZWFyY2ggc3RyaW5nXG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb24uc2VhcmNoLnNsaWNlKDEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICogQWx3YXlzIGZvcndhcmQgdGhlIGBfcnNjYCBzZWFyY2ggcGFyYW1ldGVyIHRvIHRoZSByZXdyaXR0ZW4gVVJMIGZvciBSU0MgcmVxdWVzdHMsXG4gICAqIHVubGVzcyBpdCdzIGFscmVhZHkgcHJlc2VudC4gVGhpcyBpcyBuZWNlc3NhcnkgdG8gZW5zdXJlIHRoYXQgUlNDIGhhc2ggdmFsaWRhdGlvblxuICAgKiB3b3JrcyBjb3JyZWN0bHkgYWZ0ZXIgYSByZXdyaXRlLiBGb3IgaW50ZXJuYWwgcmV3cml0ZXMsIHRoZSBzZXJ2ZXIgY2FuIHZhbGlkYXRlIHRoZVxuICAgKiBSU0MgaGFzaCB1c2luZyB0aGUgb3JpZ2luYWwgVVJMLCBzbyBmb3J3YXJkaW5nIHRoZSBgX3JzY2AgcGFyYW1ldGVyIGlzIGxlc3MgY3JpdGljYWwuXG4gICAqIEhvd2V2ZXIsIGZvciBleHRlcm5hbCByZXdyaXRlcyAod2hlcmUgdGhlIHJlcXVlc3QgaXMgcHJveGllZCB0byBhbm90aGVyIE5leHQuanMgc2VydmVyKSxcbiAgICogdGhlIGV4dGVybmFsIHNlcnZlciBkb2VzIG5vdCBoYXZlIGFjY2VzcyB0byB0aGUgb3JpZ2luYWwgVVJMIG9yIGl0cyBzZWFyY2ggcGFyYW1ldGVycy5cbiAgICogSW4gdGhlc2UgY2FzZXMsIGZvcndhcmRpbmcgdGhlIGBfcnNjYCBwYXJhbWV0ZXIgaXMgZXNzZW50aWFsIHNvIHRoYXQgdGhlIGV4dGVybmFsIHNlcnZlclxuICAgKiBjYW4gcGVyZm9ybSB0aGUgY29ycmVjdCBSU0MgaGFzaCB2YWxpZGF0aW9uLlxuICAgKi8gaWYgKHJlc3BvbnNlICYmIHJld3JpdGUgJiYgaXNSU0NSZXF1ZXN0ICYmIHJzY0hhc2gpIHtcbiAgICAgICAgY29uc3QgcmV3cml0ZVVSTCA9IG5ldyBVUkwocmV3cml0ZSk7XG4gICAgICAgIGlmICghcmV3cml0ZVVSTC5zZWFyY2hQYXJhbXMuaGFzKE5FWFRfUlNDX1VOSU9OX1FVRVJZKSkge1xuICAgICAgICAgICAgcmV3cml0ZVVSTC5zZWFyY2hQYXJhbXMuc2V0KE5FWFRfUlNDX1VOSU9OX1FVRVJZLCByc2NIYXNoKTtcbiAgICAgICAgICAgIHJlc3BvbnNlLmhlYWRlcnMuc2V0KCd4LW1pZGRsZXdhcmUtcmV3cml0ZScsIHJld3JpdGVVUkwudG9TdHJpbmcoKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAqIEZvciByZWRpcmVjdHMgd2Ugd2lsbCBub3QgaW5jbHVkZSB0aGUgbG9jYWxlIGluIGNhc2Ugd2hlbiBpdCBpcyB0aGVcbiAgICogZGVmYXVsdCBhbmQgd2UgbXVzdCBhbHNvIG1ha2Ugc3VyZSB0aGUgb3V0Z29pbmcgVVJMIGlzIGEgZGF0YSBvbmUgaWZcbiAgICogdGhlIGluY29taW5nIHJlcXVlc3Qgd2FzIGEgZGF0YSByZXF1ZXN0LlxuICAgKi8gY29uc3QgcmVkaXJlY3QgPSByZXNwb25zZSA9PSBudWxsID8gdm9pZCAwIDogcmVzcG9uc2UuaGVhZGVycy5nZXQoJ0xvY2F0aW9uJyk7XG4gICAgaWYgKHJlc3BvbnNlICYmIHJlZGlyZWN0ICYmICFpc0VkZ2VSZW5kZXJpbmcpIHtcbiAgICAgICAgY29uc3QgcmVkaXJlY3RVUkwgPSBuZXcgTmV4dFVSTChyZWRpcmVjdCwge1xuICAgICAgICAgICAgZm9yY2VMb2NhbGU6IGZhbHNlLFxuICAgICAgICAgICAgaGVhZGVyczogcGFyYW1zLnJlcXVlc3QuaGVhZGVycyxcbiAgICAgICAgICAgIG5leHRDb25maWc6IHBhcmFtcy5yZXF1ZXN0Lm5leHRDb25maWdcbiAgICAgICAgfSk7XG4gICAgICAgIC8qKlxuICAgICAqIFJlc3BvbnNlcyBjcmVhdGVkIGZyb20gcmVkaXJlY3RzIGhhdmUgaW1tdXRhYmxlIGhlYWRlcnMgc28gd2UgaGF2ZVxuICAgICAqIHRvIGNsb25lIHRoZSByZXNwb25zZSB0byBiZSBhYmxlIHRvIG1vZGlmeSBpdC5cbiAgICAgKi8gcmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UocmVzcG9uc2UuYm9keSwgcmVzcG9uc2UpO1xuICAgICAgICBpZiAoIXByb2Nlc3MuZW52Ll9fTkVYVF9OT19NSURETEVXQVJFX1VSTF9OT1JNQUxJWkUpIHtcbiAgICAgICAgICAgIGlmIChyZWRpcmVjdFVSTC5ob3N0ID09PSByZXF1ZXN0VVJMLmhvc3QpIHtcbiAgICAgICAgICAgICAgICByZWRpcmVjdFVSTC5idWlsZElkID0gYnVpbGRJZCB8fCByZWRpcmVjdFVSTC5idWlsZElkO1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmhlYWRlcnMuc2V0KCdMb2NhdGlvbicsIHJlZGlyZWN0VVJMLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIHJlcXVlc3QgaXMgYSBkYXRhIHJlcXVlc3Qgd2UgY2FuJ3QgdXNlIHRoZSBsb2NhdGlvbiBoZWFkZXIgYXNcbiAgICAgKiBpdCBtYXkgZW5kIHVwIHdpdGggQ09SUyBlcnJvci4gSW5zdGVhZCB3ZSBtYXAgdG8gYW4gaW50ZXJuYWwgaGVhZGVyIHNvXG4gICAgICogdGhlIGNsaWVudCBrbm93cyB0aGUgZGVzdGluYXRpb24uXG4gICAgICovIGlmIChpc05leHREYXRhUmVxdWVzdCkge1xuICAgICAgICAgICAgcmVzcG9uc2UuaGVhZGVycy5kZWxldGUoJ0xvY2F0aW9uJyk7XG4gICAgICAgICAgICByZXNwb25zZS5oZWFkZXJzLnNldCgneC1uZXh0anMtcmVkaXJlY3QnLCBnZXRSZWxhdGl2ZVVSTChyZWRpcmVjdFVSTC50b1N0cmluZygpLCByZXF1ZXN0VVJMLnRvU3RyaW5nKCkpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBmaW5hbFJlc3BvbnNlID0gcmVzcG9uc2UgPyByZXNwb25zZSA6IE5leHRSZXNwb25zZS5uZXh0KCk7XG4gICAgLy8gRmxpZ2h0IGhlYWRlcnMgYXJlIG5vdCBvdmVycmlkYWJsZSAvIHJlbW92YWJsZSBzbyB0aGV5IGFyZSBhcHBsaWVkIGF0IHRoZSBlbmQuXG4gICAgY29uc3QgbWlkZGxld2FyZU92ZXJyaWRlSGVhZGVycyA9IGZpbmFsUmVzcG9uc2UuaGVhZGVycy5nZXQoJ3gtbWlkZGxld2FyZS1vdmVycmlkZS1oZWFkZXJzJyk7XG4gICAgY29uc3Qgb3ZlcndyaXR0ZW5IZWFkZXJzID0gW107XG4gICAgaWYgKG1pZGRsZXdhcmVPdmVycmlkZUhlYWRlcnMpIHtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgZmxpZ2h0SGVhZGVycyl7XG4gICAgICAgICAgICBmaW5hbFJlc3BvbnNlLmhlYWRlcnMuc2V0KGB4LW1pZGRsZXdhcmUtcmVxdWVzdC0ke2tleX1gLCB2YWx1ZSk7XG4gICAgICAgICAgICBvdmVyd3JpdHRlbkhlYWRlcnMucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdmVyd3JpdHRlbkhlYWRlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZmluYWxSZXNwb25zZS5oZWFkZXJzLnNldCgneC1taWRkbGV3YXJlLW92ZXJyaWRlLWhlYWRlcnMnLCBtaWRkbGV3YXJlT3ZlcnJpZGVIZWFkZXJzICsgJywnICsgb3ZlcndyaXR0ZW5IZWFkZXJzLmpvaW4oJywnKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzcG9uc2U6IGZpbmFsUmVzcG9uc2UsXG4gICAgICAgIHdhaXRVbnRpbDogZ2V0V2FpdFVudGlsUHJvbWlzZUZyb21FdmVudChldmVudCkgPz8gUHJvbWlzZS5yZXNvbHZlKCksXG4gICAgICAgIGZldGNoTWV0cmljczogcmVxdWVzdC5mZXRjaE1ldHJpY3NcbiAgICB9O1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hZGFwdGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/web/adapter.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/web/error.js":
/*!********************************************************!*\
  !*** ./node_modules/next/dist/esm/server/web/error.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PageSignatureError: () => (/* binding */ PageSignatureError),\n/* harmony export */   RemovedPageError: () => (/* binding */ RemovedPageError),\n/* harmony export */   RemovedUAError: () => (/* binding */ RemovedUAError)\n/* harmony export */ });\nclass PageSignatureError extends Error {\n    constructor({ page }){\n        super(`The middleware \"${page}\" accepts an async API directly with the form:\n  \n  export function middleware(request, event) {\n    return NextResponse.redirect('/new-location')\n  }\n  \n  Read more: https://nextjs.org/docs/messages/middleware-new-signature\n  `);\n    }\n}\nclass RemovedPageError extends Error {\n    constructor(){\n        super(`The request.page has been deprecated in favour of \\`URLPattern\\`.\n  Read more: https://nextjs.org/docs/messages/middleware-request-page\n  `);\n    }\n}\nclass RemovedUAError extends Error {\n    constructor(){\n        super(`The request.ua has been removed in favour of \\`userAgent\\` function.\n  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent\n  `);\n    }\n}\n\n//# sourceMappingURL=error.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL3dlYi9lcnJvci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBTztBQUNQLGtCQUFrQixNQUFNO0FBQ3hCLGlDQUFpQyxLQUFLO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXG5leHRcXGRpc3RcXGVzbVxcc2VydmVyXFx3ZWJcXGVycm9yLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBQYWdlU2lnbmF0dXJlRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IoeyBwYWdlIH0pe1xuICAgICAgICBzdXBlcihgVGhlIG1pZGRsZXdhcmUgXCIke3BhZ2V9XCIgYWNjZXB0cyBhbiBhc3luYyBBUEkgZGlyZWN0bHkgd2l0aCB0aGUgZm9ybTpcbiAgXG4gIGV4cG9ydCBmdW5jdGlvbiBtaWRkbGV3YXJlKHJlcXVlc3QsIGV2ZW50KSB7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5yZWRpcmVjdCgnL25ldy1sb2NhdGlvbicpXG4gIH1cbiAgXG4gIFJlYWQgbW9yZTogaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvbWVzc2FnZXMvbWlkZGxld2FyZS1uZXctc2lnbmF0dXJlXG4gIGApO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBSZW1vdmVkUGFnZUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKCl7XG4gICAgICAgIHN1cGVyKGBUaGUgcmVxdWVzdC5wYWdlIGhhcyBiZWVuIGRlcHJlY2F0ZWQgaW4gZmF2b3VyIG9mIFxcYFVSTFBhdHRlcm5cXGAuXG4gIFJlYWQgbW9yZTogaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvbWVzc2FnZXMvbWlkZGxld2FyZS1yZXF1ZXN0LXBhZ2VcbiAgYCk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFJlbW92ZWRVQUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKCl7XG4gICAgICAgIHN1cGVyKGBUaGUgcmVxdWVzdC51YSBoYXMgYmVlbiByZW1vdmVkIGluIGZhdm91ciBvZiBcXGB1c2VyQWdlbnRcXGAgZnVuY3Rpb24uXG4gIFJlYWQgbW9yZTogaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvbWVzc2FnZXMvbWlkZGxld2FyZS1wYXJzZS11c2VyLWFnZW50XG4gIGApO1xuICAgIH1cbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXJyb3IuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/web/error.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/web/exports/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/web/exports/index.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ImageResponse: () => (/* reexport safe */ _spec_extension_image_response__WEBPACK_IMPORTED_MODULE_0__.ImageResponse),\n/* harmony export */   NextRequest: () => (/* reexport safe */ _spec_extension_request__WEBPACK_IMPORTED_MODULE_1__.NextRequest),\n/* harmony export */   NextResponse: () => (/* reexport safe */ _spec_extension_response__WEBPACK_IMPORTED_MODULE_2__.NextResponse),\n/* harmony export */   URLPattern: () => (/* reexport safe */ _spec_extension_url_pattern__WEBPACK_IMPORTED_MODULE_4__.URLPattern),\n/* harmony export */   after: () => (/* reexport safe */ _after__WEBPACK_IMPORTED_MODULE_5__.after),\n/* harmony export */   connection: () => (/* reexport safe */ _request_connection__WEBPACK_IMPORTED_MODULE_6__.connection),\n/* harmony export */   unstable_rootParams: () => (/* reexport safe */ _request_root_params__WEBPACK_IMPORTED_MODULE_7__.unstable_rootParams),\n/* harmony export */   userAgent: () => (/* reexport safe */ _spec_extension_user_agent__WEBPACK_IMPORTED_MODULE_3__.userAgent),\n/* harmony export */   userAgentFromString: () => (/* reexport safe */ _spec_extension_user_agent__WEBPACK_IMPORTED_MODULE_3__.userAgentFromString)\n/* harmony export */ });\n/* harmony import */ var _spec_extension_image_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../spec-extension/image-response */ \"(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/image-response.js\");\n/* harmony import */ var _spec_extension_request__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../spec-extension/request */ \"(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/request.js\");\n/* harmony import */ var _spec_extension_response__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../spec-extension/response */ \"(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/response.js\");\n/* harmony import */ var _spec_extension_user_agent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../spec-extension/user-agent */ \"(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/user-agent.js\");\n/* harmony import */ var _spec_extension_url_pattern__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../spec-extension/url-pattern */ \"(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/url-pattern.js\");\n/* harmony import */ var _after__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../after */ \"(middleware)/./node_modules/next/dist/esm/server/after/index.js\");\n/* harmony import */ var _request_connection__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../request/connection */ \"(middleware)/./node_modules/next/dist/esm/server/request/connection.js\");\n/* harmony import */ var _request_root_params__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../request/root-params */ \"(middleware)/./node_modules/next/dist/esm/server/request/root-params.js\");\n// Alias index file of next/server for edge runtime for tree-shaking purpose\n\n\n\n\n\n\n\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL3dlYi9leHBvcnRzL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDaUU7QUFDVDtBQUNFO0FBQ29CO0FBQ25CO0FBQ3ZCO0FBQ2tCO0FBQ1U7O0FBRWhFIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxuZXh0XFxkaXN0XFxlc21cXHNlcnZlclxcd2ViXFxleHBvcnRzXFxpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBBbGlhcyBpbmRleCBmaWxlIG9mIG5leHQvc2VydmVyIGZvciBlZGdlIHJ1bnRpbWUgZm9yIHRyZWUtc2hha2luZyBwdXJwb3NlXG5leHBvcnQgeyBJbWFnZVJlc3BvbnNlIH0gZnJvbSAnLi4vc3BlYy1leHRlbnNpb24vaW1hZ2UtcmVzcG9uc2UnO1xuZXhwb3J0IHsgTmV4dFJlcXVlc3QgfSBmcm9tICcuLi9zcGVjLWV4dGVuc2lvbi9yZXF1ZXN0JztcbmV4cG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJy4uL3NwZWMtZXh0ZW5zaW9uL3Jlc3BvbnNlJztcbmV4cG9ydCB7IHVzZXJBZ2VudCwgdXNlckFnZW50RnJvbVN0cmluZyB9IGZyb20gJy4uL3NwZWMtZXh0ZW5zaW9uL3VzZXItYWdlbnQnO1xuZXhwb3J0IHsgVVJMUGF0dGVybiB9IGZyb20gJy4uL3NwZWMtZXh0ZW5zaW9uL3VybC1wYXR0ZXJuJztcbmV4cG9ydCB7IGFmdGVyIH0gZnJvbSAnLi4vLi4vYWZ0ZXInO1xuZXhwb3J0IHsgY29ubmVjdGlvbiB9IGZyb20gJy4uLy4uL3JlcXVlc3QvY29ubmVjdGlvbic7XG5leHBvcnQgeyB1bnN0YWJsZV9yb290UGFyYW1zIH0gZnJvbSAnLi4vLi4vcmVxdWVzdC9yb290LXBhcmFtcyc7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/web/exports/index.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/web/get-edge-preview-props.js":
/*!*************************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/web/get-edge-preview-props.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getEdgePreviewProps: () => (/* binding */ getEdgePreviewProps)\n/* harmony export */ });\n/**\n * In edge runtime, these props directly accessed from environment variables.\n *   - local: env vars will be injected through edge-runtime as runtime env vars\n *   - deployment: env vars will be replaced by edge build pipeline\n */ function getEdgePreviewProps() {\n    return {\n        previewModeId: process.env.__NEXT_PREVIEW_MODE_ID || '',\n        previewModeSigningKey: process.env.__NEXT_PREVIEW_MODE_SIGNING_KEY || '',\n        previewModeEncryptionKey: process.env.__NEXT_PREVIEW_MODE_ENCRYPTION_KEY || ''\n    };\n}\n\n//# sourceMappingURL=get-edge-preview-props.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL3dlYi9nZXQtZWRnZS1wcmV2aWV3LXByb3BzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXG5leHRcXGRpc3RcXGVzbVxcc2VydmVyXFx3ZWJcXGdldC1lZGdlLXByZXZpZXctcHJvcHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBJbiBlZGdlIHJ1bnRpbWUsIHRoZXNlIHByb3BzIGRpcmVjdGx5IGFjY2Vzc2VkIGZyb20gZW52aXJvbm1lbnQgdmFyaWFibGVzLlxuICogICAtIGxvY2FsOiBlbnYgdmFycyB3aWxsIGJlIGluamVjdGVkIHRocm91Z2ggZWRnZS1ydW50aW1lIGFzIHJ1bnRpbWUgZW52IHZhcnNcbiAqICAgLSBkZXBsb3ltZW50OiBlbnYgdmFycyB3aWxsIGJlIHJlcGxhY2VkIGJ5IGVkZ2UgYnVpbGQgcGlwZWxpbmVcbiAqLyBleHBvcnQgZnVuY3Rpb24gZ2V0RWRnZVByZXZpZXdQcm9wcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBwcmV2aWV3TW9kZUlkOiBwcm9jZXNzLmVudi5fX05FWFRfUFJFVklFV19NT0RFX0lEIHx8ICcnLFxuICAgICAgICBwcmV2aWV3TW9kZVNpZ25pbmdLZXk6IHByb2Nlc3MuZW52Ll9fTkVYVF9QUkVWSUVXX01PREVfU0lHTklOR19LRVkgfHwgJycsXG4gICAgICAgIHByZXZpZXdNb2RlRW5jcnlwdGlvbktleTogcHJvY2Vzcy5lbnYuX19ORVhUX1BSRVZJRVdfTU9ERV9FTkNSWVBUSU9OX0tFWSB8fCAnJ1xuICAgIH07XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldC1lZGdlLXByZXZpZXctcHJvcHMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/web/get-edge-preview-props.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/web/globals.js":
/*!**********************************************************!*\
  !*** ./node_modules/next/dist/esm/server/web/globals.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   edgeInstrumentationOnRequestError: () => (/* binding */ edgeInstrumentationOnRequestError),\n/* harmony export */   ensureInstrumentationRegistered: () => (/* binding */ ensureInstrumentationRegistered),\n/* harmony export */   getEdgeInstrumentationModule: () => (/* binding */ getEdgeInstrumentationModule)\n/* harmony export */ });\nasync function getEdgeInstrumentationModule() {\n    const instrumentation = '_ENTRIES' in globalThis && _ENTRIES.middleware_instrumentation && await _ENTRIES.middleware_instrumentation;\n    return instrumentation;\n}\nlet instrumentationModulePromise = null;\nasync function registerInstrumentation() {\n    // Ensure registerInstrumentation is not called in production build\n    if (process.env.NEXT_PHASE === 'phase-production-build') return;\n    if (!instrumentationModulePromise) {\n        instrumentationModulePromise = getEdgeInstrumentationModule();\n    }\n    const instrumentation = await instrumentationModulePromise;\n    if (instrumentation == null ? void 0 : instrumentation.register) {\n        try {\n            await instrumentation.register();\n        } catch (err) {\n            err.message = `An error occurred while loading instrumentation hook: ${err.message}`;\n            throw err;\n        }\n    }\n}\nasync function edgeInstrumentationOnRequestError(...args) {\n    const instrumentation = await getEdgeInstrumentationModule();\n    try {\n        var _instrumentation_onRequestError;\n        await (instrumentation == null ? void 0 : (_instrumentation_onRequestError = instrumentation.onRequestError) == null ? void 0 : _instrumentation_onRequestError.call(instrumentation, ...args));\n    } catch (err) {\n        // Log the soft error and continue, since the original error has already been thrown\n        console.error('Error in instrumentation.onRequestError:', err);\n    }\n}\nlet registerInstrumentationPromise = null;\nfunction ensureInstrumentationRegistered() {\n    if (!registerInstrumentationPromise) {\n        registerInstrumentationPromise = registerInstrumentation();\n    }\n    return registerInstrumentationPromise;\n}\nfunction getUnsupportedModuleErrorMessage(module) {\n    // warning: if you change these messages, you must adjust how dev-overlay's middleware detects modules not found\n    return `The edge runtime does not support Node.js '${module}' module.\nLearn More: https://nextjs.org/docs/messages/node-module-in-edge-runtime`;\n}\nfunction __import_unsupported(moduleName) {\n    const proxy = new Proxy(function() {}, {\n        get (_obj, prop) {\n            if (prop === 'then') {\n                return {};\n            }\n            throw Object.defineProperty(new Error(getUnsupportedModuleErrorMessage(moduleName)), \"__NEXT_ERROR_CODE\", {\n                value: \"E394\",\n                enumerable: false,\n                configurable: true\n            });\n        },\n        construct () {\n            throw Object.defineProperty(new Error(getUnsupportedModuleErrorMessage(moduleName)), \"__NEXT_ERROR_CODE\", {\n                value: \"E394\",\n                enumerable: false,\n                configurable: true\n            });\n        },\n        apply (_target, _this, args) {\n            if (typeof args[0] === 'function') {\n                return args[0](proxy);\n            }\n            throw Object.defineProperty(new Error(getUnsupportedModuleErrorMessage(moduleName)), \"__NEXT_ERROR_CODE\", {\n                value: \"E394\",\n                enumerable: false,\n                configurable: true\n            });\n        }\n    });\n    return new Proxy({}, {\n        get: ()=>proxy\n    });\n}\nfunction enhanceGlobals() {\n    if (false) {}\n    // The condition is true when the \"process\" module is provided\n    if (process !== __webpack_require__.g.process) {\n        // prefer local process but global.process has correct \"env\"\n        process.env = __webpack_require__.g.process.env;\n        __webpack_require__.g.process = process;\n    }\n    // to allow building code that import but does not use node.js modules,\n    // webpack will expect this function to exist in global scope\n    try {\n        Object.defineProperty(globalThis, '__import_unsupported', {\n            value: __import_unsupported,\n            enumerable: false,\n            configurable: false\n        });\n    } catch  {}\n    // Eagerly fire instrumentation hook to make the startup faster.\n    void ensureInstrumentationRegistered();\n}\nenhanceGlobals();\n\n//# sourceMappingURL=globals.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL3dlYi9nbG9iYWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVixtRkFBbUYsWUFBWTtBQUMvRjtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsT0FBTztBQUNoRTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLEtBQUs7QUFDTCx1QkFBdUI7QUFDdkI7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFFBQVEsS0FBbUMsRUFBRSxFQUV4QztBQUNMO0FBQ0Esb0JBQW9CLHFCQUFNO0FBQzFCO0FBQ0Esc0JBQXNCLHFCQUFNO0FBQzVCLFFBQVEscUJBQU07QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcbmV4dFxcZGlzdFxcZXNtXFxzZXJ2ZXJcXHdlYlxcZ2xvYmFscy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RWRnZUluc3RydW1lbnRhdGlvbk1vZHVsZSgpIHtcbiAgICBjb25zdCBpbnN0cnVtZW50YXRpb24gPSAnX0VOVFJJRVMnIGluIGdsb2JhbFRoaXMgJiYgX0VOVFJJRVMubWlkZGxld2FyZV9pbnN0cnVtZW50YXRpb24gJiYgYXdhaXQgX0VOVFJJRVMubWlkZGxld2FyZV9pbnN0cnVtZW50YXRpb247XG4gICAgcmV0dXJuIGluc3RydW1lbnRhdGlvbjtcbn1cbmxldCBpbnN0cnVtZW50YXRpb25Nb2R1bGVQcm9taXNlID0gbnVsbDtcbmFzeW5jIGZ1bmN0aW9uIHJlZ2lzdGVySW5zdHJ1bWVudGF0aW9uKCkge1xuICAgIC8vIEVuc3VyZSByZWdpc3Rlckluc3RydW1lbnRhdGlvbiBpcyBub3QgY2FsbGVkIGluIHByb2R1Y3Rpb24gYnVpbGRcbiAgICBpZiAocHJvY2Vzcy5lbnYuTkVYVF9QSEFTRSA9PT0gJ3BoYXNlLXByb2R1Y3Rpb24tYnVpbGQnKSByZXR1cm47XG4gICAgaWYgKCFpbnN0cnVtZW50YXRpb25Nb2R1bGVQcm9taXNlKSB7XG4gICAgICAgIGluc3RydW1lbnRhdGlvbk1vZHVsZVByb21pc2UgPSBnZXRFZGdlSW5zdHJ1bWVudGF0aW9uTW9kdWxlKCk7XG4gICAgfVxuICAgIGNvbnN0IGluc3RydW1lbnRhdGlvbiA9IGF3YWl0IGluc3RydW1lbnRhdGlvbk1vZHVsZVByb21pc2U7XG4gICAgaWYgKGluc3RydW1lbnRhdGlvbiA9PSBudWxsID8gdm9pZCAwIDogaW5zdHJ1bWVudGF0aW9uLnJlZ2lzdGVyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBpbnN0cnVtZW50YXRpb24ucmVnaXN0ZXIoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBlcnIubWVzc2FnZSA9IGBBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBsb2FkaW5nIGluc3RydW1lbnRhdGlvbiBob29rOiAke2Vyci5tZXNzYWdlfWA7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZWRnZUluc3RydW1lbnRhdGlvbk9uUmVxdWVzdEVycm9yKC4uLmFyZ3MpIHtcbiAgICBjb25zdCBpbnN0cnVtZW50YXRpb24gPSBhd2FpdCBnZXRFZGdlSW5zdHJ1bWVudGF0aW9uTW9kdWxlKCk7XG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIF9pbnN0cnVtZW50YXRpb25fb25SZXF1ZXN0RXJyb3I7XG4gICAgICAgIGF3YWl0IChpbnN0cnVtZW50YXRpb24gPT0gbnVsbCA/IHZvaWQgMCA6IChfaW5zdHJ1bWVudGF0aW9uX29uUmVxdWVzdEVycm9yID0gaW5zdHJ1bWVudGF0aW9uLm9uUmVxdWVzdEVycm9yKSA9PSBudWxsID8gdm9pZCAwIDogX2luc3RydW1lbnRhdGlvbl9vblJlcXVlc3RFcnJvci5jYWxsKGluc3RydW1lbnRhdGlvbiwgLi4uYXJncykpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAvLyBMb2cgdGhlIHNvZnQgZXJyb3IgYW5kIGNvbnRpbnVlLCBzaW5jZSB0aGUgb3JpZ2luYWwgZXJyb3IgaGFzIGFscmVhZHkgYmVlbiB0aHJvd25cbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gaW5zdHJ1bWVudGF0aW9uLm9uUmVxdWVzdEVycm9yOicsIGVycik7XG4gICAgfVxufVxubGV0IHJlZ2lzdGVySW5zdHJ1bWVudGF0aW9uUHJvbWlzZSA9IG51bGw7XG5leHBvcnQgZnVuY3Rpb24gZW5zdXJlSW5zdHJ1bWVudGF0aW9uUmVnaXN0ZXJlZCgpIHtcbiAgICBpZiAoIXJlZ2lzdGVySW5zdHJ1bWVudGF0aW9uUHJvbWlzZSkge1xuICAgICAgICByZWdpc3Rlckluc3RydW1lbnRhdGlvblByb21pc2UgPSByZWdpc3Rlckluc3RydW1lbnRhdGlvbigpO1xuICAgIH1cbiAgICByZXR1cm4gcmVnaXN0ZXJJbnN0cnVtZW50YXRpb25Qcm9taXNlO1xufVxuZnVuY3Rpb24gZ2V0VW5zdXBwb3J0ZWRNb2R1bGVFcnJvck1lc3NhZ2UobW9kdWxlKSB7XG4gICAgLy8gd2FybmluZzogaWYgeW91IGNoYW5nZSB0aGVzZSBtZXNzYWdlcywgeW91IG11c3QgYWRqdXN0IGhvdyBkZXYtb3ZlcmxheSdzIG1pZGRsZXdhcmUgZGV0ZWN0cyBtb2R1bGVzIG5vdCBmb3VuZFxuICAgIHJldHVybiBgVGhlIGVkZ2UgcnVudGltZSBkb2VzIG5vdCBzdXBwb3J0IE5vZGUuanMgJyR7bW9kdWxlfScgbW9kdWxlLlxuTGVhcm4gTW9yZTogaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvbWVzc2FnZXMvbm9kZS1tb2R1bGUtaW4tZWRnZS1ydW50aW1lYDtcbn1cbmZ1bmN0aW9uIF9faW1wb3J0X3Vuc3VwcG9ydGVkKG1vZHVsZU5hbWUpIHtcbiAgICBjb25zdCBwcm94eSA9IG5ldyBQcm94eShmdW5jdGlvbigpIHt9LCB7XG4gICAgICAgIGdldCAoX29iaiwgcHJvcCkge1xuICAgICAgICAgICAgaWYgKHByb3AgPT09ICd0aGVuJykge1xuICAgICAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXcgRXJyb3IoZ2V0VW5zdXBwb3J0ZWRNb2R1bGVFcnJvck1lc3NhZ2UobW9kdWxlTmFtZSkpLCBcIl9fTkVYVF9FUlJPUl9DT0RFXCIsIHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJFMzk0XCIsXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgY29uc3RydWN0ICgpIHtcbiAgICAgICAgICAgIHRocm93IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXcgRXJyb3IoZ2V0VW5zdXBwb3J0ZWRNb2R1bGVFcnJvck1lc3NhZ2UobW9kdWxlTmFtZSkpLCBcIl9fTkVYVF9FUlJPUl9DT0RFXCIsIHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJFMzk0XCIsXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgYXBwbHkgKF90YXJnZXQsIF90aGlzLCBhcmdzKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGFyZ3NbMF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJnc1swXShwcm94eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3IEVycm9yKGdldFVuc3VwcG9ydGVkTW9kdWxlRXJyb3JNZXNzYWdlKG1vZHVsZU5hbWUpKSwgXCJfX05FWFRfRVJST1JfQ09ERVwiLCB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiRTM5NFwiLFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gbmV3IFByb3h5KHt9LCB7XG4gICAgICAgIGdldDogKCk9PnByb3h5XG4gICAgfSk7XG59XG5mdW5jdGlvbiBlbmhhbmNlR2xvYmFscygpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTkVYVF9SVU5USU1FICE9PSAnZWRnZScpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBUaGUgY29uZGl0aW9uIGlzIHRydWUgd2hlbiB0aGUgXCJwcm9jZXNzXCIgbW9kdWxlIGlzIHByb3ZpZGVkXG4gICAgaWYgKHByb2Nlc3MgIT09IGdsb2JhbC5wcm9jZXNzKSB7XG4gICAgICAgIC8vIHByZWZlciBsb2NhbCBwcm9jZXNzIGJ1dCBnbG9iYWwucHJvY2VzcyBoYXMgY29ycmVjdCBcImVudlwiXG4gICAgICAgIHByb2Nlc3MuZW52ID0gZ2xvYmFsLnByb2Nlc3MuZW52O1xuICAgICAgICBnbG9iYWwucHJvY2VzcyA9IHByb2Nlc3M7XG4gICAgfVxuICAgIC8vIHRvIGFsbG93IGJ1aWxkaW5nIGNvZGUgdGhhdCBpbXBvcnQgYnV0IGRvZXMgbm90IHVzZSBub2RlLmpzIG1vZHVsZXMsXG4gICAgLy8gd2VicGFjayB3aWxsIGV4cGVjdCB0aGlzIGZ1bmN0aW9uIHRvIGV4aXN0IGluIGdsb2JhbCBzY29wZVxuICAgIHRyeSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShnbG9iYWxUaGlzLCAnX19pbXBvcnRfdW5zdXBwb3J0ZWQnLCB7XG4gICAgICAgICAgICB2YWx1ZTogX19pbXBvcnRfdW5zdXBwb3J0ZWQsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgfSBjYXRjaCAge31cbiAgICAvLyBFYWdlcmx5IGZpcmUgaW5zdHJ1bWVudGF0aW9uIGhvb2sgdG8gbWFrZSB0aGUgc3RhcnR1cCBmYXN0ZXIuXG4gICAgdm9pZCBlbnN1cmVJbnN0cnVtZW50YXRpb25SZWdpc3RlcmVkKCk7XG59XG5lbmhhbmNlR2xvYmFscygpO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1nbG9iYWxzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/web/globals.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/web/next-url.js":
/*!***********************************************************!*\
  !*** ./node_modules/next/dist/esm/server/web/next-url.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NextURL: () => (/* binding */ NextURL)\n/* harmony export */ });\n/* harmony import */ var _shared_lib_i18n_detect_domain_locale__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/lib/i18n/detect-domain-locale */ \"(middleware)/./node_modules/next/dist/esm/shared/lib/i18n/detect-domain-locale.js\");\n/* harmony import */ var _shared_lib_router_utils_format_next_pathname_info__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/lib/router/utils/format-next-pathname-info */ \"(middleware)/./node_modules/next/dist/esm/shared/lib/router/utils/format-next-pathname-info.js\");\n/* harmony import */ var _shared_lib_get_hostname__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shared/lib/get-hostname */ \"(middleware)/./node_modules/next/dist/esm/shared/lib/get-hostname.js\");\n/* harmony import */ var _shared_lib_router_utils_get_next_pathname_info__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../shared/lib/router/utils/get-next-pathname-info */ \"(middleware)/./node_modules/next/dist/esm/shared/lib/router/utils/get-next-pathname-info.js\");\n\n\n\n\nconst REGEX_LOCALHOST_HOSTNAME = /(?!^https?:\\/\\/)(127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\\[::1\\]|localhost)/;\nfunction parseURL(url, base) {\n    return new URL(String(url).replace(REGEX_LOCALHOST_HOSTNAME, 'localhost'), base && String(base).replace(REGEX_LOCALHOST_HOSTNAME, 'localhost'));\n}\nconst Internal = Symbol('NextURLInternal');\nclass NextURL {\n    constructor(input, baseOrOpts, opts){\n        let base;\n        let options;\n        if (typeof baseOrOpts === 'object' && 'pathname' in baseOrOpts || typeof baseOrOpts === 'string') {\n            base = baseOrOpts;\n            options = opts || {};\n        } else {\n            options = opts || baseOrOpts || {};\n        }\n        this[Internal] = {\n            url: parseURL(input, base ?? options.base),\n            options: options,\n            basePath: ''\n        };\n        this.analyze();\n    }\n    analyze() {\n        var _this_Internal_options_nextConfig_i18n, _this_Internal_options_nextConfig, _this_Internal_domainLocale, _this_Internal_options_nextConfig_i18n1, _this_Internal_options_nextConfig1;\n        const info = (0,_shared_lib_router_utils_get_next_pathname_info__WEBPACK_IMPORTED_MODULE_3__.getNextPathnameInfo)(this[Internal].url.pathname, {\n            nextConfig: this[Internal].options.nextConfig,\n            parseData: !undefined,\n            i18nProvider: this[Internal].options.i18nProvider\n        });\n        const hostname = (0,_shared_lib_get_hostname__WEBPACK_IMPORTED_MODULE_2__.getHostname)(this[Internal].url, this[Internal].options.headers);\n        this[Internal].domainLocale = this[Internal].options.i18nProvider ? this[Internal].options.i18nProvider.detectDomainLocale(hostname) : (0,_shared_lib_i18n_detect_domain_locale__WEBPACK_IMPORTED_MODULE_0__.detectDomainLocale)((_this_Internal_options_nextConfig = this[Internal].options.nextConfig) == null ? void 0 : (_this_Internal_options_nextConfig_i18n = _this_Internal_options_nextConfig.i18n) == null ? void 0 : _this_Internal_options_nextConfig_i18n.domains, hostname);\n        const defaultLocale = ((_this_Internal_domainLocale = this[Internal].domainLocale) == null ? void 0 : _this_Internal_domainLocale.defaultLocale) || ((_this_Internal_options_nextConfig1 = this[Internal].options.nextConfig) == null ? void 0 : (_this_Internal_options_nextConfig_i18n1 = _this_Internal_options_nextConfig1.i18n) == null ? void 0 : _this_Internal_options_nextConfig_i18n1.defaultLocale);\n        this[Internal].url.pathname = info.pathname;\n        this[Internal].defaultLocale = defaultLocale;\n        this[Internal].basePath = info.basePath ?? '';\n        this[Internal].buildId = info.buildId;\n        this[Internal].locale = info.locale ?? defaultLocale;\n        this[Internal].trailingSlash = info.trailingSlash;\n    }\n    formatPathname() {\n        return (0,_shared_lib_router_utils_format_next_pathname_info__WEBPACK_IMPORTED_MODULE_1__.formatNextPathnameInfo)({\n            basePath: this[Internal].basePath,\n            buildId: this[Internal].buildId,\n            defaultLocale: !this[Internal].options.forceLocale ? this[Internal].defaultLocale : undefined,\n            locale: this[Internal].locale,\n            pathname: this[Internal].url.pathname,\n            trailingSlash: this[Internal].trailingSlash\n        });\n    }\n    formatSearch() {\n        return this[Internal].url.search;\n    }\n    get buildId() {\n        return this[Internal].buildId;\n    }\n    set buildId(buildId) {\n        this[Internal].buildId = buildId;\n    }\n    get locale() {\n        return this[Internal].locale ?? '';\n    }\n    set locale(locale) {\n        var _this_Internal_options_nextConfig_i18n, _this_Internal_options_nextConfig;\n        if (!this[Internal].locale || !((_this_Internal_options_nextConfig = this[Internal].options.nextConfig) == null ? void 0 : (_this_Internal_options_nextConfig_i18n = _this_Internal_options_nextConfig.i18n) == null ? void 0 : _this_Internal_options_nextConfig_i18n.locales.includes(locale))) {\n            throw Object.defineProperty(new TypeError(`The NextURL configuration includes no locale \"${locale}\"`), \"__NEXT_ERROR_CODE\", {\n                value: \"E597\",\n                enumerable: false,\n                configurable: true\n            });\n        }\n        this[Internal].locale = locale;\n    }\n    get defaultLocale() {\n        return this[Internal].defaultLocale;\n    }\n    get domainLocale() {\n        return this[Internal].domainLocale;\n    }\n    get searchParams() {\n        return this[Internal].url.searchParams;\n    }\n    get host() {\n        return this[Internal].url.host;\n    }\n    set host(value) {\n        this[Internal].url.host = value;\n    }\n    get hostname() {\n        return this[Internal].url.hostname;\n    }\n    set hostname(value) {\n        this[Internal].url.hostname = value;\n    }\n    get port() {\n        return this[Internal].url.port;\n    }\n    set port(value) {\n        this[Internal].url.port = value;\n    }\n    get protocol() {\n        return this[Internal].url.protocol;\n    }\n    set protocol(value) {\n        this[Internal].url.protocol = value;\n    }\n    get href() {\n        const pathname = this.formatPathname();\n        const search = this.formatSearch();\n        return `${this.protocol}//${this.host}${pathname}${search}${this.hash}`;\n    }\n    set href(url) {\n        this[Internal].url = parseURL(url);\n        this.analyze();\n    }\n    get origin() {\n        return this[Internal].url.origin;\n    }\n    get pathname() {\n        return this[Internal].url.pathname;\n    }\n    set pathname(value) {\n        this[Internal].url.pathname = value;\n    }\n    get hash() {\n        return this[Internal].url.hash;\n    }\n    set hash(value) {\n        this[Internal].url.hash = value;\n    }\n    get search() {\n        return this[Internal].url.search;\n    }\n    set search(value) {\n        this[Internal].url.search = value;\n    }\n    get password() {\n        return this[Internal].url.password;\n    }\n    set password(value) {\n        this[Internal].url.password = value;\n    }\n    get username() {\n        return this[Internal].url.username;\n    }\n    set username(value) {\n        this[Internal].url.username = value;\n    }\n    get basePath() {\n        return this[Internal].basePath;\n    }\n    set basePath(value) {\n        this[Internal].basePath = value.startsWith('/') ? value : `/${value}`;\n    }\n    toString() {\n        return this.href;\n    }\n    toJSON() {\n        return this.href;\n    }\n    [Symbol.for('edge-runtime.inspect.custom')]() {\n        return {\n            href: this.href,\n            origin: this.origin,\n            protocol: this.protocol,\n            username: this.username,\n            password: this.password,\n            host: this.host,\n            hostname: this.hostname,\n            port: this.port,\n            pathname: this.pathname,\n            search: this.search,\n            searchParams: this.searchParams,\n            hash: this.hash\n        };\n    }\n    clone() {\n        return new NextURL(String(this), this[Internal].options);\n    }\n}\n\n//# sourceMappingURL=next-url.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL3dlYi9uZXh0LXVybC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFnRjtBQUNpQjtBQUNyQztBQUMrQjtBQUMzRixxR0FBcUcsRUFBRTtBQUN2RztBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsb0dBQW1CO0FBQ3hDO0FBQ0Esd0JBQXdCLFNBQThDO0FBQ3RFO0FBQ0EsU0FBUztBQUNULHlCQUF5QixxRUFBVztBQUNwQywrSUFBK0kseUZBQWtCO0FBQ2pLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsMEdBQXNCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVHQUF1RyxPQUFPO0FBQzlHO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsY0FBYyxJQUFJLFVBQVUsRUFBRSxTQUFTLEVBQUUsT0FBTyxFQUFFLFVBQVU7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0VBQXNFLE1BQU07QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxuZXh0XFxkaXN0XFxlc21cXHNlcnZlclxcd2ViXFxuZXh0LXVybC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkZXRlY3REb21haW5Mb2NhbGUgfSBmcm9tICcuLi8uLi9zaGFyZWQvbGliL2kxOG4vZGV0ZWN0LWRvbWFpbi1sb2NhbGUnO1xuaW1wb3J0IHsgZm9ybWF0TmV4dFBhdGhuYW1lSW5mbyB9IGZyb20gJy4uLy4uL3NoYXJlZC9saWIvcm91dGVyL3V0aWxzL2Zvcm1hdC1uZXh0LXBhdGhuYW1lLWluZm8nO1xuaW1wb3J0IHsgZ2V0SG9zdG5hbWUgfSBmcm9tICcuLi8uLi9zaGFyZWQvbGliL2dldC1ob3N0bmFtZSc7XG5pbXBvcnQgeyBnZXROZXh0UGF0aG5hbWVJbmZvIH0gZnJvbSAnLi4vLi4vc2hhcmVkL2xpYi9yb3V0ZXIvdXRpbHMvZ2V0LW5leHQtcGF0aG5hbWUtaW5mbyc7XG5jb25zdCBSRUdFWF9MT0NBTEhPU1RfSE9TVE5BTUUgPSAvKD8hXmh0dHBzPzpcXC9cXC8pKDEyNyg/OlxcLig/OjI1WzAtNV18MlswLTRdWzAtOV18WzAxXT9bMC05XVswLTldPykpezN9fFxcWzo6MVxcXXxsb2NhbGhvc3QpLztcbmZ1bmN0aW9uIHBhcnNlVVJMKHVybCwgYmFzZSkge1xuICAgIHJldHVybiBuZXcgVVJMKFN0cmluZyh1cmwpLnJlcGxhY2UoUkVHRVhfTE9DQUxIT1NUX0hPU1ROQU1FLCAnbG9jYWxob3N0JyksIGJhc2UgJiYgU3RyaW5nKGJhc2UpLnJlcGxhY2UoUkVHRVhfTE9DQUxIT1NUX0hPU1ROQU1FLCAnbG9jYWxob3N0JykpO1xufVxuY29uc3QgSW50ZXJuYWwgPSBTeW1ib2woJ05leHRVUkxJbnRlcm5hbCcpO1xuZXhwb3J0IGNsYXNzIE5leHRVUkwge1xuICAgIGNvbnN0cnVjdG9yKGlucHV0LCBiYXNlT3JPcHRzLCBvcHRzKXtcbiAgICAgICAgbGV0IGJhc2U7XG4gICAgICAgIGxldCBvcHRpb25zO1xuICAgICAgICBpZiAodHlwZW9mIGJhc2VPck9wdHMgPT09ICdvYmplY3QnICYmICdwYXRobmFtZScgaW4gYmFzZU9yT3B0cyB8fCB0eXBlb2YgYmFzZU9yT3B0cyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGJhc2UgPSBiYXNlT3JPcHRzO1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdHMgfHwge307XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0cyB8fCBiYXNlT3JPcHRzIHx8IHt9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXNbSW50ZXJuYWxdID0ge1xuICAgICAgICAgICAgdXJsOiBwYXJzZVVSTChpbnB1dCwgYmFzZSA/PyBvcHRpb25zLmJhc2UpLFxuICAgICAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgICAgIGJhc2VQYXRoOiAnJ1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmFuYWx5emUoKTtcbiAgICB9XG4gICAgYW5hbHl6ZSgpIHtcbiAgICAgICAgdmFyIF90aGlzX0ludGVybmFsX29wdGlvbnNfbmV4dENvbmZpZ19pMThuLCBfdGhpc19JbnRlcm5hbF9vcHRpb25zX25leHRDb25maWcsIF90aGlzX0ludGVybmFsX2RvbWFpbkxvY2FsZSwgX3RoaXNfSW50ZXJuYWxfb3B0aW9uc19uZXh0Q29uZmlnX2kxOG4xLCBfdGhpc19JbnRlcm5hbF9vcHRpb25zX25leHRDb25maWcxO1xuICAgICAgICBjb25zdCBpbmZvID0gZ2V0TmV4dFBhdGhuYW1lSW5mbyh0aGlzW0ludGVybmFsXS51cmwucGF0aG5hbWUsIHtcbiAgICAgICAgICAgIG5leHRDb25maWc6IHRoaXNbSW50ZXJuYWxdLm9wdGlvbnMubmV4dENvbmZpZyxcbiAgICAgICAgICAgIHBhcnNlRGF0YTogIXByb2Nlc3MuZW52Ll9fTkVYVF9OT19NSURETEVXQVJFX1VSTF9OT1JNQUxJWkUsXG4gICAgICAgICAgICBpMThuUHJvdmlkZXI6IHRoaXNbSW50ZXJuYWxdLm9wdGlvbnMuaTE4blByb3ZpZGVyXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBob3N0bmFtZSA9IGdldEhvc3RuYW1lKHRoaXNbSW50ZXJuYWxdLnVybCwgdGhpc1tJbnRlcm5hbF0ub3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgdGhpc1tJbnRlcm5hbF0uZG9tYWluTG9jYWxlID0gdGhpc1tJbnRlcm5hbF0ub3B0aW9ucy5pMThuUHJvdmlkZXIgPyB0aGlzW0ludGVybmFsXS5vcHRpb25zLmkxOG5Qcm92aWRlci5kZXRlY3REb21haW5Mb2NhbGUoaG9zdG5hbWUpIDogZGV0ZWN0RG9tYWluTG9jYWxlKChfdGhpc19JbnRlcm5hbF9vcHRpb25zX25leHRDb25maWcgPSB0aGlzW0ludGVybmFsXS5vcHRpb25zLm5leHRDb25maWcpID09IG51bGwgPyB2b2lkIDAgOiAoX3RoaXNfSW50ZXJuYWxfb3B0aW9uc19uZXh0Q29uZmlnX2kxOG4gPSBfdGhpc19JbnRlcm5hbF9vcHRpb25zX25leHRDb25maWcuaTE4bikgPT0gbnVsbCA/IHZvaWQgMCA6IF90aGlzX0ludGVybmFsX29wdGlvbnNfbmV4dENvbmZpZ19pMThuLmRvbWFpbnMsIGhvc3RuYW1lKTtcbiAgICAgICAgY29uc3QgZGVmYXVsdExvY2FsZSA9ICgoX3RoaXNfSW50ZXJuYWxfZG9tYWluTG9jYWxlID0gdGhpc1tJbnRlcm5hbF0uZG9tYWluTG9jYWxlKSA9PSBudWxsID8gdm9pZCAwIDogX3RoaXNfSW50ZXJuYWxfZG9tYWluTG9jYWxlLmRlZmF1bHRMb2NhbGUpIHx8ICgoX3RoaXNfSW50ZXJuYWxfb3B0aW9uc19uZXh0Q29uZmlnMSA9IHRoaXNbSW50ZXJuYWxdLm9wdGlvbnMubmV4dENvbmZpZykgPT0gbnVsbCA/IHZvaWQgMCA6IChfdGhpc19JbnRlcm5hbF9vcHRpb25zX25leHRDb25maWdfaTE4bjEgPSBfdGhpc19JbnRlcm5hbF9vcHRpb25zX25leHRDb25maWcxLmkxOG4pID09IG51bGwgPyB2b2lkIDAgOiBfdGhpc19JbnRlcm5hbF9vcHRpb25zX25leHRDb25maWdfaTE4bjEuZGVmYXVsdExvY2FsZSk7XG4gICAgICAgIHRoaXNbSW50ZXJuYWxdLnVybC5wYXRobmFtZSA9IGluZm8ucGF0aG5hbWU7XG4gICAgICAgIHRoaXNbSW50ZXJuYWxdLmRlZmF1bHRMb2NhbGUgPSBkZWZhdWx0TG9jYWxlO1xuICAgICAgICB0aGlzW0ludGVybmFsXS5iYXNlUGF0aCA9IGluZm8uYmFzZVBhdGggPz8gJyc7XG4gICAgICAgIHRoaXNbSW50ZXJuYWxdLmJ1aWxkSWQgPSBpbmZvLmJ1aWxkSWQ7XG4gICAgICAgIHRoaXNbSW50ZXJuYWxdLmxvY2FsZSA9IGluZm8ubG9jYWxlID8/IGRlZmF1bHRMb2NhbGU7XG4gICAgICAgIHRoaXNbSW50ZXJuYWxdLnRyYWlsaW5nU2xhc2ggPSBpbmZvLnRyYWlsaW5nU2xhc2g7XG4gICAgfVxuICAgIGZvcm1hdFBhdGhuYW1lKCkge1xuICAgICAgICByZXR1cm4gZm9ybWF0TmV4dFBhdGhuYW1lSW5mbyh7XG4gICAgICAgICAgICBiYXNlUGF0aDogdGhpc1tJbnRlcm5hbF0uYmFzZVBhdGgsXG4gICAgICAgICAgICBidWlsZElkOiB0aGlzW0ludGVybmFsXS5idWlsZElkLFxuICAgICAgICAgICAgZGVmYXVsdExvY2FsZTogIXRoaXNbSW50ZXJuYWxdLm9wdGlvbnMuZm9yY2VMb2NhbGUgPyB0aGlzW0ludGVybmFsXS5kZWZhdWx0TG9jYWxlIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgbG9jYWxlOiB0aGlzW0ludGVybmFsXS5sb2NhbGUsXG4gICAgICAgICAgICBwYXRobmFtZTogdGhpc1tJbnRlcm5hbF0udXJsLnBhdGhuYW1lLFxuICAgICAgICAgICAgdHJhaWxpbmdTbGFzaDogdGhpc1tJbnRlcm5hbF0udHJhaWxpbmdTbGFzaFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZm9ybWF0U2VhcmNoKCkge1xuICAgICAgICByZXR1cm4gdGhpc1tJbnRlcm5hbF0udXJsLnNlYXJjaDtcbiAgICB9XG4gICAgZ2V0IGJ1aWxkSWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzW0ludGVybmFsXS5idWlsZElkO1xuICAgIH1cbiAgICBzZXQgYnVpbGRJZChidWlsZElkKSB7XG4gICAgICAgIHRoaXNbSW50ZXJuYWxdLmJ1aWxkSWQgPSBidWlsZElkO1xuICAgIH1cbiAgICBnZXQgbG9jYWxlKCkge1xuICAgICAgICByZXR1cm4gdGhpc1tJbnRlcm5hbF0ubG9jYWxlID8/ICcnO1xuICAgIH1cbiAgICBzZXQgbG9jYWxlKGxvY2FsZSkge1xuICAgICAgICB2YXIgX3RoaXNfSW50ZXJuYWxfb3B0aW9uc19uZXh0Q29uZmlnX2kxOG4sIF90aGlzX0ludGVybmFsX29wdGlvbnNfbmV4dENvbmZpZztcbiAgICAgICAgaWYgKCF0aGlzW0ludGVybmFsXS5sb2NhbGUgfHwgISgoX3RoaXNfSW50ZXJuYWxfb3B0aW9uc19uZXh0Q29uZmlnID0gdGhpc1tJbnRlcm5hbF0ub3B0aW9ucy5uZXh0Q29uZmlnKSA9PSBudWxsID8gdm9pZCAwIDogKF90aGlzX0ludGVybmFsX29wdGlvbnNfbmV4dENvbmZpZ19pMThuID0gX3RoaXNfSW50ZXJuYWxfb3B0aW9uc19uZXh0Q29uZmlnLmkxOG4pID09IG51bGwgPyB2b2lkIDAgOiBfdGhpc19JbnRlcm5hbF9vcHRpb25zX25leHRDb25maWdfaTE4bi5sb2NhbGVzLmluY2x1ZGVzKGxvY2FsZSkpKSB7XG4gICAgICAgICAgICB0aHJvdyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3IFR5cGVFcnJvcihgVGhlIE5leHRVUkwgY29uZmlndXJhdGlvbiBpbmNsdWRlcyBubyBsb2NhbGUgXCIke2xvY2FsZX1cImApLCBcIl9fTkVYVF9FUlJPUl9DT0RFXCIsIHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJFNTk3XCIsXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzW0ludGVybmFsXS5sb2NhbGUgPSBsb2NhbGU7XG4gICAgfVxuICAgIGdldCBkZWZhdWx0TG9jYWxlKCkge1xuICAgICAgICByZXR1cm4gdGhpc1tJbnRlcm5hbF0uZGVmYXVsdExvY2FsZTtcbiAgICB9XG4gICAgZ2V0IGRvbWFpbkxvY2FsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbSW50ZXJuYWxdLmRvbWFpbkxvY2FsZTtcbiAgICB9XG4gICAgZ2V0IHNlYXJjaFBhcmFtcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbSW50ZXJuYWxdLnVybC5zZWFyY2hQYXJhbXM7XG4gICAgfVxuICAgIGdldCBob3N0KCkge1xuICAgICAgICByZXR1cm4gdGhpc1tJbnRlcm5hbF0udXJsLmhvc3Q7XG4gICAgfVxuICAgIHNldCBob3N0KHZhbHVlKSB7XG4gICAgICAgIHRoaXNbSW50ZXJuYWxdLnVybC5ob3N0ID0gdmFsdWU7XG4gICAgfVxuICAgIGdldCBob3N0bmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbSW50ZXJuYWxdLnVybC5ob3N0bmFtZTtcbiAgICB9XG4gICAgc2V0IGhvc3RuYW1lKHZhbHVlKSB7XG4gICAgICAgIHRoaXNbSW50ZXJuYWxdLnVybC5ob3N0bmFtZSA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgcG9ydCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbSW50ZXJuYWxdLnVybC5wb3J0O1xuICAgIH1cbiAgICBzZXQgcG9ydCh2YWx1ZSkge1xuICAgICAgICB0aGlzW0ludGVybmFsXS51cmwucG9ydCA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgcHJvdG9jb2woKSB7XG4gICAgICAgIHJldHVybiB0aGlzW0ludGVybmFsXS51cmwucHJvdG9jb2w7XG4gICAgfVxuICAgIHNldCBwcm90b2NvbCh2YWx1ZSkge1xuICAgICAgICB0aGlzW0ludGVybmFsXS51cmwucHJvdG9jb2wgPSB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0IGhyZWYoKSB7XG4gICAgICAgIGNvbnN0IHBhdGhuYW1lID0gdGhpcy5mb3JtYXRQYXRobmFtZSgpO1xuICAgICAgICBjb25zdCBzZWFyY2ggPSB0aGlzLmZvcm1hdFNlYXJjaCgpO1xuICAgICAgICByZXR1cm4gYCR7dGhpcy5wcm90b2NvbH0vLyR7dGhpcy5ob3N0fSR7cGF0aG5hbWV9JHtzZWFyY2h9JHt0aGlzLmhhc2h9YDtcbiAgICB9XG4gICAgc2V0IGhyZWYodXJsKSB7XG4gICAgICAgIHRoaXNbSW50ZXJuYWxdLnVybCA9IHBhcnNlVVJMKHVybCk7XG4gICAgICAgIHRoaXMuYW5hbHl6ZSgpO1xuICAgIH1cbiAgICBnZXQgb3JpZ2luKCkge1xuICAgICAgICByZXR1cm4gdGhpc1tJbnRlcm5hbF0udXJsLm9yaWdpbjtcbiAgICB9XG4gICAgZ2V0IHBhdGhuYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpc1tJbnRlcm5hbF0udXJsLnBhdGhuYW1lO1xuICAgIH1cbiAgICBzZXQgcGF0aG5hbWUodmFsdWUpIHtcbiAgICAgICAgdGhpc1tJbnRlcm5hbF0udXJsLnBhdGhuYW1lID0gdmFsdWU7XG4gICAgfVxuICAgIGdldCBoYXNoKCkge1xuICAgICAgICByZXR1cm4gdGhpc1tJbnRlcm5hbF0udXJsLmhhc2g7XG4gICAgfVxuICAgIHNldCBoYXNoKHZhbHVlKSB7XG4gICAgICAgIHRoaXNbSW50ZXJuYWxdLnVybC5oYXNoID0gdmFsdWU7XG4gICAgfVxuICAgIGdldCBzZWFyY2goKSB7XG4gICAgICAgIHJldHVybiB0aGlzW0ludGVybmFsXS51cmwuc2VhcmNoO1xuICAgIH1cbiAgICBzZXQgc2VhcmNoKHZhbHVlKSB7XG4gICAgICAgIHRoaXNbSW50ZXJuYWxdLnVybC5zZWFyY2ggPSB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0IHBhc3N3b3JkKCkge1xuICAgICAgICByZXR1cm4gdGhpc1tJbnRlcm5hbF0udXJsLnBhc3N3b3JkO1xuICAgIH1cbiAgICBzZXQgcGFzc3dvcmQodmFsdWUpIHtcbiAgICAgICAgdGhpc1tJbnRlcm5hbF0udXJsLnBhc3N3b3JkID0gdmFsdWU7XG4gICAgfVxuICAgIGdldCB1c2VybmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbSW50ZXJuYWxdLnVybC51c2VybmFtZTtcbiAgICB9XG4gICAgc2V0IHVzZXJuYW1lKHZhbHVlKSB7XG4gICAgICAgIHRoaXNbSW50ZXJuYWxdLnVybC51c2VybmFtZSA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgYmFzZVBhdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzW0ludGVybmFsXS5iYXNlUGF0aDtcbiAgICB9XG4gICAgc2V0IGJhc2VQYXRoKHZhbHVlKSB7XG4gICAgICAgIHRoaXNbSW50ZXJuYWxdLmJhc2VQYXRoID0gdmFsdWUuc3RhcnRzV2l0aCgnLycpID8gdmFsdWUgOiBgLyR7dmFsdWV9YDtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhyZWY7XG4gICAgfVxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaHJlZjtcbiAgICB9XG4gICAgW1N5bWJvbC5mb3IoJ2VkZ2UtcnVudGltZS5pbnNwZWN0LmN1c3RvbScpXSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGhyZWY6IHRoaXMuaHJlZixcbiAgICAgICAgICAgIG9yaWdpbjogdGhpcy5vcmlnaW4sXG4gICAgICAgICAgICBwcm90b2NvbDogdGhpcy5wcm90b2NvbCxcbiAgICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnVzZXJuYW1lLFxuICAgICAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQsXG4gICAgICAgICAgICBob3N0OiB0aGlzLmhvc3QsXG4gICAgICAgICAgICBob3N0bmFtZTogdGhpcy5ob3N0bmFtZSxcbiAgICAgICAgICAgIHBvcnQ6IHRoaXMucG9ydCxcbiAgICAgICAgICAgIHBhdGhuYW1lOiB0aGlzLnBhdGhuYW1lLFxuICAgICAgICAgICAgc2VhcmNoOiB0aGlzLnNlYXJjaCxcbiAgICAgICAgICAgIHNlYXJjaFBhcmFtczogdGhpcy5zZWFyY2hQYXJhbXMsXG4gICAgICAgICAgICBoYXNoOiB0aGlzLmhhc2hcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgTmV4dFVSTChTdHJpbmcodGhpcyksIHRoaXNbSW50ZXJuYWxdLm9wdGlvbnMpO1xuICAgIH1cbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmV4dC11cmwuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/web/next-url.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/adapters/headers.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/web/spec-extension/adapters/headers.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HeadersAdapter: () => (/* binding */ HeadersAdapter),\n/* harmony export */   ReadonlyHeadersError: () => (/* binding */ ReadonlyHeadersError)\n/* harmony export */ });\n/* harmony import */ var _reflect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./reflect */ \"(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/adapters/reflect.js\");\n\n/**\n * @internal\n */ class ReadonlyHeadersError extends Error {\n    constructor(){\n        super('Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers');\n    }\n    static callable() {\n        throw new ReadonlyHeadersError();\n    }\n}\nclass HeadersAdapter extends Headers {\n    constructor(headers){\n        // We've already overridden the methods that would be called, so we're just\n        // calling the super constructor to ensure that the instanceof check works.\n        super();\n        this.headers = new Proxy(headers, {\n            get (target, prop, receiver) {\n                // Because this is just an object, we expect that all \"get\" operations\n                // are for properties. If it's a \"get\" for a symbol, we'll just return\n                // the symbol.\n                if (typeof prop === 'symbol') {\n                    return _reflect__WEBPACK_IMPORTED_MODULE_0__.ReflectAdapter.get(target, prop, receiver);\n                }\n                const lowercased = prop.toLowerCase();\n                // Let's find the original casing of the key. This assumes that there is\n                // no mixed case keys (e.g. \"Content-Type\" and \"content-type\") in the\n                // headers object.\n                const original = Object.keys(headers).find((o)=>o.toLowerCase() === lowercased);\n                // If the original casing doesn't exist, return undefined.\n                if (typeof original === 'undefined') return;\n                // If the original casing exists, return the value.\n                return _reflect__WEBPACK_IMPORTED_MODULE_0__.ReflectAdapter.get(target, original, receiver);\n            },\n            set (target, prop, value, receiver) {\n                if (typeof prop === 'symbol') {\n                    return _reflect__WEBPACK_IMPORTED_MODULE_0__.ReflectAdapter.set(target, prop, value, receiver);\n                }\n                const lowercased = prop.toLowerCase();\n                // Let's find the original casing of the key. This assumes that there is\n                // no mixed case keys (e.g. \"Content-Type\" and \"content-type\") in the\n                // headers object.\n                const original = Object.keys(headers).find((o)=>o.toLowerCase() === lowercased);\n                // If the original casing doesn't exist, use the prop as the key.\n                return _reflect__WEBPACK_IMPORTED_MODULE_0__.ReflectAdapter.set(target, original ?? prop, value, receiver);\n            },\n            has (target, prop) {\n                if (typeof prop === 'symbol') return _reflect__WEBPACK_IMPORTED_MODULE_0__.ReflectAdapter.has(target, prop);\n                const lowercased = prop.toLowerCase();\n                // Let's find the original casing of the key. This assumes that there is\n                // no mixed case keys (e.g. \"Content-Type\" and \"content-type\") in the\n                // headers object.\n                const original = Object.keys(headers).find((o)=>o.toLowerCase() === lowercased);\n                // If the original casing doesn't exist, return false.\n                if (typeof original === 'undefined') return false;\n                // If the original casing exists, return true.\n                return _reflect__WEBPACK_IMPORTED_MODULE_0__.ReflectAdapter.has(target, original);\n            },\n            deleteProperty (target, prop) {\n                if (typeof prop === 'symbol') return _reflect__WEBPACK_IMPORTED_MODULE_0__.ReflectAdapter.deleteProperty(target, prop);\n                const lowercased = prop.toLowerCase();\n                // Let's find the original casing of the key. This assumes that there is\n                // no mixed case keys (e.g. \"Content-Type\" and \"content-type\") in the\n                // headers object.\n                const original = Object.keys(headers).find((o)=>o.toLowerCase() === lowercased);\n                // If the original casing doesn't exist, return true.\n                if (typeof original === 'undefined') return true;\n                // If the original casing exists, delete the property.\n                return _reflect__WEBPACK_IMPORTED_MODULE_0__.ReflectAdapter.deleteProperty(target, original);\n            }\n        });\n    }\n    /**\n   * Seals a Headers instance to prevent modification by throwing an error when\n   * any mutating method is called.\n   */ static seal(headers) {\n        return new Proxy(headers, {\n            get (target, prop, receiver) {\n                switch(prop){\n                    case 'append':\n                    case 'delete':\n                    case 'set':\n                        return ReadonlyHeadersError.callable;\n                    default:\n                        return _reflect__WEBPACK_IMPORTED_MODULE_0__.ReflectAdapter.get(target, prop, receiver);\n                }\n            }\n        });\n    }\n    /**\n   * Merges a header value into a string. This stores multiple values as an\n   * array, so we need to merge them into a string.\n   *\n   * @param value a header value\n   * @returns a merged header value (a string)\n   */ merge(value) {\n        if (Array.isArray(value)) return value.join(', ');\n        return value;\n    }\n    /**\n   * Creates a Headers instance from a plain object or a Headers instance.\n   *\n   * @param headers a plain object or a Headers instance\n   * @returns a headers instance\n   */ static from(headers) {\n        if (headers instanceof Headers) return headers;\n        return new HeadersAdapter(headers);\n    }\n    append(name, value) {\n        const existing = this.headers[name];\n        if (typeof existing === 'string') {\n            this.headers[name] = [\n                existing,\n                value\n            ];\n        } else if (Array.isArray(existing)) {\n            existing.push(value);\n        } else {\n            this.headers[name] = value;\n        }\n    }\n    delete(name) {\n        delete this.headers[name];\n    }\n    get(name) {\n        const value = this.headers[name];\n        if (typeof value !== 'undefined') return this.merge(value);\n        return null;\n    }\n    has(name) {\n        return typeof this.headers[name] !== 'undefined';\n    }\n    set(name, value) {\n        this.headers[name] = value;\n    }\n    forEach(callbackfn, thisArg) {\n        for (const [name, value] of this.entries()){\n            callbackfn.call(thisArg, value, name, this);\n        }\n    }\n    *entries() {\n        for (const key of Object.keys(this.headers)){\n            const name = key.toLowerCase();\n            // We assert here that this is a string because we got it from the\n            // Object.keys() call above.\n            const value = this.get(name);\n            yield [\n                name,\n                value\n            ];\n        }\n    }\n    *keys() {\n        for (const key of Object.keys(this.headers)){\n            const name = key.toLowerCase();\n            yield name;\n        }\n    }\n    *values() {\n        for (const key of Object.keys(this.headers)){\n            // We assert here that this is a string because we got it from the\n            // Object.keys() call above.\n            const value = this.get(key);\n            yield value;\n        }\n    }\n    [Symbol.iterator]() {\n        return this.entries();\n    }\n}\n\n//# sourceMappingURL=headers.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL3dlYi9zcGVjLWV4dGVuc2lvbi9hZGFwdGVycy9oZWFkZXJzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUEyQztBQUMzQztBQUNBO0FBQ0EsSUFBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixvREFBYztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsb0RBQWM7QUFDckMsYUFBYTtBQUNiO0FBQ0E7QUFDQSwyQkFBMkIsb0RBQWM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsb0RBQWM7QUFDckMsYUFBYTtBQUNiO0FBQ0EscURBQXFELG9EQUFjO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsb0RBQWM7QUFDckMsYUFBYTtBQUNiO0FBQ0EscURBQXFELG9EQUFjO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsb0RBQWM7QUFDckM7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0Isb0RBQWM7QUFDN0M7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXG5leHRcXGRpc3RcXGVzbVxcc2VydmVyXFx3ZWJcXHNwZWMtZXh0ZW5zaW9uXFxhZGFwdGVyc1xcaGVhZGVycy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZWZsZWN0QWRhcHRlciB9IGZyb20gJy4vcmVmbGVjdCc7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovIGV4cG9ydCBjbGFzcyBSZWFkb25seUhlYWRlcnNFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3Rvcigpe1xuICAgICAgICBzdXBlcignSGVhZGVycyBjYW5ub3QgYmUgbW9kaWZpZWQuIFJlYWQgbW9yZTogaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvYXBwL2FwaS1yZWZlcmVuY2UvZnVuY3Rpb25zL2hlYWRlcnMnKTtcbiAgICB9XG4gICAgc3RhdGljIGNhbGxhYmxlKCkge1xuICAgICAgICB0aHJvdyBuZXcgUmVhZG9ubHlIZWFkZXJzRXJyb3IoKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSGVhZGVyc0FkYXB0ZXIgZXh0ZW5kcyBIZWFkZXJzIHtcbiAgICBjb25zdHJ1Y3RvcihoZWFkZXJzKXtcbiAgICAgICAgLy8gV2UndmUgYWxyZWFkeSBvdmVycmlkZGVuIHRoZSBtZXRob2RzIHRoYXQgd291bGQgYmUgY2FsbGVkLCBzbyB3ZSdyZSBqdXN0XG4gICAgICAgIC8vIGNhbGxpbmcgdGhlIHN1cGVyIGNvbnN0cnVjdG9yIHRvIGVuc3VyZSB0aGF0IHRoZSBpbnN0YW5jZW9mIGNoZWNrIHdvcmtzLlxuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmhlYWRlcnMgPSBuZXcgUHJveHkoaGVhZGVycywge1xuICAgICAgICAgICAgZ2V0ICh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKSB7XG4gICAgICAgICAgICAgICAgLy8gQmVjYXVzZSB0aGlzIGlzIGp1c3QgYW4gb2JqZWN0LCB3ZSBleHBlY3QgdGhhdCBhbGwgXCJnZXRcIiBvcGVyYXRpb25zXG4gICAgICAgICAgICAgICAgLy8gYXJlIGZvciBwcm9wZXJ0aWVzLiBJZiBpdCdzIGEgXCJnZXRcIiBmb3IgYSBzeW1ib2wsIHdlJ2xsIGp1c3QgcmV0dXJuXG4gICAgICAgICAgICAgICAgLy8gdGhlIHN5bWJvbC5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHByb3AgPT09ICdzeW1ib2wnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBSZWZsZWN0QWRhcHRlci5nZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGxvd2VyY2FzZWQgPSBwcm9wLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgLy8gTGV0J3MgZmluZCB0aGUgb3JpZ2luYWwgY2FzaW5nIG9mIHRoZSBrZXkuIFRoaXMgYXNzdW1lcyB0aGF0IHRoZXJlIGlzXG4gICAgICAgICAgICAgICAgLy8gbm8gbWl4ZWQgY2FzZSBrZXlzIChlLmcuIFwiQ29udGVudC1UeXBlXCIgYW5kIFwiY29udGVudC10eXBlXCIpIGluIHRoZVxuICAgICAgICAgICAgICAgIC8vIGhlYWRlcnMgb2JqZWN0LlxuICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsID0gT2JqZWN0LmtleXMoaGVhZGVycykuZmluZCgobyk9Pm8udG9Mb3dlckNhc2UoKSA9PT0gbG93ZXJjYXNlZCk7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIG9yaWdpbmFsIGNhc2luZyBkb2Vzbid0IGV4aXN0LCByZXR1cm4gdW5kZWZpbmVkLlxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb3JpZ2luYWwgPT09ICd1bmRlZmluZWQnKSByZXR1cm47XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIG9yaWdpbmFsIGNhc2luZyBleGlzdHMsIHJldHVybiB0aGUgdmFsdWUuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3RBZGFwdGVyLmdldCh0YXJnZXQsIG9yaWdpbmFsLCByZWNlaXZlcik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0ICh0YXJnZXQsIHByb3AsIHZhbHVlLCByZWNlaXZlcikge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcHJvcCA9PT0gJ3N5bWJvbCcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3RBZGFwdGVyLnNldCh0YXJnZXQsIHByb3AsIHZhbHVlLCByZWNlaXZlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGxvd2VyY2FzZWQgPSBwcm9wLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgLy8gTGV0J3MgZmluZCB0aGUgb3JpZ2luYWwgY2FzaW5nIG9mIHRoZSBrZXkuIFRoaXMgYXNzdW1lcyB0aGF0IHRoZXJlIGlzXG4gICAgICAgICAgICAgICAgLy8gbm8gbWl4ZWQgY2FzZSBrZXlzIChlLmcuIFwiQ29udGVudC1UeXBlXCIgYW5kIFwiY29udGVudC10eXBlXCIpIGluIHRoZVxuICAgICAgICAgICAgICAgIC8vIGhlYWRlcnMgb2JqZWN0LlxuICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsID0gT2JqZWN0LmtleXMoaGVhZGVycykuZmluZCgobyk9Pm8udG9Mb3dlckNhc2UoKSA9PT0gbG93ZXJjYXNlZCk7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIG9yaWdpbmFsIGNhc2luZyBkb2Vzbid0IGV4aXN0LCB1c2UgdGhlIHByb3AgYXMgdGhlIGtleS5cbiAgICAgICAgICAgICAgICByZXR1cm4gUmVmbGVjdEFkYXB0ZXIuc2V0KHRhcmdldCwgb3JpZ2luYWwgPz8gcHJvcCwgdmFsdWUsIHJlY2VpdmVyKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBoYXMgKHRhcmdldCwgcHJvcCkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcHJvcCA9PT0gJ3N5bWJvbCcpIHJldHVybiBSZWZsZWN0QWRhcHRlci5oYXModGFyZ2V0LCBwcm9wKTtcbiAgICAgICAgICAgICAgICBjb25zdCBsb3dlcmNhc2VkID0gcHJvcC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIC8vIExldCdzIGZpbmQgdGhlIG9yaWdpbmFsIGNhc2luZyBvZiB0aGUga2V5LiBUaGlzIGFzc3VtZXMgdGhhdCB0aGVyZSBpc1xuICAgICAgICAgICAgICAgIC8vIG5vIG1peGVkIGNhc2Uga2V5cyAoZS5nLiBcIkNvbnRlbnQtVHlwZVwiIGFuZCBcImNvbnRlbnQtdHlwZVwiKSBpbiB0aGVcbiAgICAgICAgICAgICAgICAvLyBoZWFkZXJzIG9iamVjdC5cbiAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbCA9IE9iamVjdC5rZXlzKGhlYWRlcnMpLmZpbmQoKG8pPT5vLnRvTG93ZXJDYXNlKCkgPT09IGxvd2VyY2FzZWQpO1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBvcmlnaW5hbCBjYXNpbmcgZG9lc24ndCBleGlzdCwgcmV0dXJuIGZhbHNlLlxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb3JpZ2luYWwgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIG9yaWdpbmFsIGNhc2luZyBleGlzdHMsIHJldHVybiB0cnVlLlxuICAgICAgICAgICAgICAgIHJldHVybiBSZWZsZWN0QWRhcHRlci5oYXModGFyZ2V0LCBvcmlnaW5hbCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVsZXRlUHJvcGVydHkgKHRhcmdldCwgcHJvcCkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcHJvcCA9PT0gJ3N5bWJvbCcpIHJldHVybiBSZWZsZWN0QWRhcHRlci5kZWxldGVQcm9wZXJ0eSh0YXJnZXQsIHByb3ApO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvd2VyY2FzZWQgPSBwcm9wLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgLy8gTGV0J3MgZmluZCB0aGUgb3JpZ2luYWwgY2FzaW5nIG9mIHRoZSBrZXkuIFRoaXMgYXNzdW1lcyB0aGF0IHRoZXJlIGlzXG4gICAgICAgICAgICAgICAgLy8gbm8gbWl4ZWQgY2FzZSBrZXlzIChlLmcuIFwiQ29udGVudC1UeXBlXCIgYW5kIFwiY29udGVudC10eXBlXCIpIGluIHRoZVxuICAgICAgICAgICAgICAgIC8vIGhlYWRlcnMgb2JqZWN0LlxuICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsID0gT2JqZWN0LmtleXMoaGVhZGVycykuZmluZCgobyk9Pm8udG9Mb3dlckNhc2UoKSA9PT0gbG93ZXJjYXNlZCk7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIG9yaWdpbmFsIGNhc2luZyBkb2Vzbid0IGV4aXN0LCByZXR1cm4gdHJ1ZS5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9yaWdpbmFsID09PSAndW5kZWZpbmVkJykgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIG9yaWdpbmFsIGNhc2luZyBleGlzdHMsIGRlbGV0ZSB0aGUgcHJvcGVydHkuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3RBZGFwdGVyLmRlbGV0ZVByb3BlcnR5KHRhcmdldCwgb3JpZ2luYWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAqIFNlYWxzIGEgSGVhZGVycyBpbnN0YW5jZSB0byBwcmV2ZW50IG1vZGlmaWNhdGlvbiBieSB0aHJvd2luZyBhbiBlcnJvciB3aGVuXG4gICAqIGFueSBtdXRhdGluZyBtZXRob2QgaXMgY2FsbGVkLlxuICAgKi8gc3RhdGljIHNlYWwoaGVhZGVycykge1xuICAgICAgICByZXR1cm4gbmV3IFByb3h5KGhlYWRlcnMsIHtcbiAgICAgICAgICAgIGdldCAodGFyZ2V0LCBwcm9wLCByZWNlaXZlcikge1xuICAgICAgICAgICAgICAgIHN3aXRjaChwcm9wKXtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnYXBwZW5kJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGVsZXRlJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnc2V0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSZWFkb25seUhlYWRlcnNFcnJvci5jYWxsYWJsZTtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSZWZsZWN0QWRhcHRlci5nZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAqIE1lcmdlcyBhIGhlYWRlciB2YWx1ZSBpbnRvIGEgc3RyaW5nLiBUaGlzIHN0b3JlcyBtdWx0aXBsZSB2YWx1ZXMgYXMgYW5cbiAgICogYXJyYXksIHNvIHdlIG5lZWQgdG8gbWVyZ2UgdGhlbSBpbnRvIGEgc3RyaW5nLlxuICAgKlxuICAgKiBAcGFyYW0gdmFsdWUgYSBoZWFkZXIgdmFsdWVcbiAgICogQHJldHVybnMgYSBtZXJnZWQgaGVhZGVyIHZhbHVlIChhIHN0cmluZylcbiAgICovIG1lcmdlKHZhbHVlKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkgcmV0dXJuIHZhbHVlLmpvaW4oJywgJyk7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAqIENyZWF0ZXMgYSBIZWFkZXJzIGluc3RhbmNlIGZyb20gYSBwbGFpbiBvYmplY3Qgb3IgYSBIZWFkZXJzIGluc3RhbmNlLlxuICAgKlxuICAgKiBAcGFyYW0gaGVhZGVycyBhIHBsYWluIG9iamVjdCBvciBhIEhlYWRlcnMgaW5zdGFuY2VcbiAgICogQHJldHVybnMgYSBoZWFkZXJzIGluc3RhbmNlXG4gICAqLyBzdGF0aWMgZnJvbShoZWFkZXJzKSB7XG4gICAgICAgIGlmIChoZWFkZXJzIGluc3RhbmNlb2YgSGVhZGVycykgcmV0dXJuIGhlYWRlcnM7XG4gICAgICAgIHJldHVybiBuZXcgSGVhZGVyc0FkYXB0ZXIoaGVhZGVycyk7XG4gICAgfVxuICAgIGFwcGVuZChuYW1lLCB2YWx1ZSkge1xuICAgICAgICBjb25zdCBleGlzdGluZyA9IHRoaXMuaGVhZGVyc1tuYW1lXTtcbiAgICAgICAgaWYgKHR5cGVvZiBleGlzdGluZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRoaXMuaGVhZGVyc1tuYW1lXSA9IFtcbiAgICAgICAgICAgICAgICBleGlzdGluZyxcbiAgICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGV4aXN0aW5nKSkge1xuICAgICAgICAgICAgZXhpc3RpbmcucHVzaCh2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmhlYWRlcnNbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkZWxldGUobmFtZSkge1xuICAgICAgICBkZWxldGUgdGhpcy5oZWFkZXJzW25hbWVdO1xuICAgIH1cbiAgICBnZXQobmFtZSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuaGVhZGVyc1tuYW1lXTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHJldHVybiB0aGlzLm1lcmdlKHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGhhcyhuYW1lKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdGhpcy5oZWFkZXJzW25hbWVdICE9PSAndW5kZWZpbmVkJztcbiAgICB9XG4gICAgc2V0KG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuaGVhZGVyc1tuYW1lXSA9IHZhbHVlO1xuICAgIH1cbiAgICBmb3JFYWNoKGNhbGxiYWNrZm4sIHRoaXNBcmcpIHtcbiAgICAgICAgZm9yIChjb25zdCBbbmFtZSwgdmFsdWVdIG9mIHRoaXMuZW50cmllcygpKXtcbiAgICAgICAgICAgIGNhbGxiYWNrZm4uY2FsbCh0aGlzQXJnLCB2YWx1ZSwgbmFtZSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgKmVudHJpZXMoKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHRoaXMuaGVhZGVycykpe1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IGtleS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgLy8gV2UgYXNzZXJ0IGhlcmUgdGhhdCB0aGlzIGlzIGEgc3RyaW5nIGJlY2F1c2Ugd2UgZ290IGl0IGZyb20gdGhlXG4gICAgICAgICAgICAvLyBPYmplY3Qua2V5cygpIGNhbGwgYWJvdmUuXG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuZ2V0KG5hbWUpO1xuICAgICAgICAgICAgeWllbGQgW1xuICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgKmtleXMoKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHRoaXMuaGVhZGVycykpe1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IGtleS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgeWllbGQgbmFtZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAqdmFsdWVzKCkge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyh0aGlzLmhlYWRlcnMpKXtcbiAgICAgICAgICAgIC8vIFdlIGFzc2VydCBoZXJlIHRoYXQgdGhpcyBpcyBhIHN0cmluZyBiZWNhdXNlIHdlIGdvdCBpdCBmcm9tIHRoZVxuICAgICAgICAgICAgLy8gT2JqZWN0LmtleXMoKSBjYWxsIGFib3ZlLlxuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmdldChrZXkpO1xuICAgICAgICAgICAgeWllbGQgdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVudHJpZXMoKTtcbiAgICB9XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhlYWRlcnMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/adapters/headers.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/adapters/reflect.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/web/spec-extension/adapters/reflect.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ReflectAdapter: () => (/* binding */ ReflectAdapter)\n/* harmony export */ });\nclass ReflectAdapter {\n    static get(target, prop, receiver) {\n        const value = Reflect.get(target, prop, receiver);\n        if (typeof value === 'function') {\n            return value.bind(target);\n        }\n        return value;\n    }\n    static set(target, prop, value, receiver) {\n        return Reflect.set(target, prop, value, receiver);\n    }\n    static has(target, prop) {\n        return Reflect.has(target, prop);\n    }\n    static deleteProperty(target, prop) {\n        return Reflect.deleteProperty(target, prop);\n    }\n}\n\n//# sourceMappingURL=reflect.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL3dlYi9zcGVjLWV4dGVuc2lvbi9hZGFwdGVycy9yZWZsZWN0LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXG5leHRcXGRpc3RcXGVzbVxcc2VydmVyXFx3ZWJcXHNwZWMtZXh0ZW5zaW9uXFxhZGFwdGVyc1xccmVmbGVjdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgUmVmbGVjdEFkYXB0ZXIge1xuICAgIHN0YXRpYyBnZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcikge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IFJlZmxlY3QuZ2V0KHRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUuYmluZCh0YXJnZXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgc3RhdGljIHNldCh0YXJnZXQsIHByb3AsIHZhbHVlLCByZWNlaXZlcikge1xuICAgICAgICByZXR1cm4gUmVmbGVjdC5zZXQodGFyZ2V0LCBwcm9wLCB2YWx1ZSwgcmVjZWl2ZXIpO1xuICAgIH1cbiAgICBzdGF0aWMgaGFzKHRhcmdldCwgcHJvcCkge1xuICAgICAgICByZXR1cm4gUmVmbGVjdC5oYXModGFyZ2V0LCBwcm9wKTtcbiAgICB9XG4gICAgc3RhdGljIGRlbGV0ZVByb3BlcnR5KHRhcmdldCwgcHJvcCkge1xuICAgICAgICByZXR1cm4gUmVmbGVjdC5kZWxldGVQcm9wZXJ0eSh0YXJnZXQsIHByb3ApO1xuICAgIH1cbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVmbGVjdC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/adapters/reflect.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/adapters/request-cookies.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/web/spec-extension/adapters/request-cookies.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MutableRequestCookiesAdapter: () => (/* binding */ MutableRequestCookiesAdapter),\n/* harmony export */   ReadonlyRequestCookiesError: () => (/* binding */ ReadonlyRequestCookiesError),\n/* harmony export */   RequestCookiesAdapter: () => (/* binding */ RequestCookiesAdapter),\n/* harmony export */   appendMutableCookies: () => (/* binding */ appendMutableCookies),\n/* harmony export */   areCookiesMutableInCurrentPhase: () => (/* binding */ areCookiesMutableInCurrentPhase),\n/* harmony export */   createCookiesWithMutableAccessCheck: () => (/* binding */ createCookiesWithMutableAccessCheck),\n/* harmony export */   getModifiedCookieValues: () => (/* binding */ getModifiedCookieValues),\n/* harmony export */   responseCookiesToRequestCookies: () => (/* binding */ responseCookiesToRequestCookies)\n/* harmony export */ });\n/* harmony import */ var _cookies__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../cookies */ \"(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/cookies.js\");\n/* harmony import */ var _reflect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./reflect */ \"(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/adapters/reflect.js\");\n/* harmony import */ var _app_render_work_async_storage_external__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../app-render/work-async-storage.external */ \"(shared)/./node_modules/next/dist/esm/server/app-render/work-async-storage.external.js\");\n\n\n\n\n/**\n * @internal\n */ class ReadonlyRequestCookiesError extends Error {\n    constructor(){\n        super('Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options');\n    }\n    static callable() {\n        throw new ReadonlyRequestCookiesError();\n    }\n}\nclass RequestCookiesAdapter {\n    static seal(cookies) {\n        return new Proxy(cookies, {\n            get (target, prop, receiver) {\n                switch(prop){\n                    case 'clear':\n                    case 'delete':\n                    case 'set':\n                        return ReadonlyRequestCookiesError.callable;\n                    default:\n                        return _reflect__WEBPACK_IMPORTED_MODULE_1__.ReflectAdapter.get(target, prop, receiver);\n                }\n            }\n        });\n    }\n}\nconst SYMBOL_MODIFY_COOKIE_VALUES = Symbol.for('next.mutated.cookies');\nfunction getModifiedCookieValues(cookies) {\n    const modified = cookies[SYMBOL_MODIFY_COOKIE_VALUES];\n    if (!modified || !Array.isArray(modified) || modified.length === 0) {\n        return [];\n    }\n    return modified;\n}\nfunction appendMutableCookies(headers, mutableCookies) {\n    const modifiedCookieValues = getModifiedCookieValues(mutableCookies);\n    if (modifiedCookieValues.length === 0) {\n        return false;\n    }\n    // Return a new response that extends the response with\n    // the modified cookies as fallbacks. `res` cookies\n    // will still take precedence.\n    const resCookies = new _cookies__WEBPACK_IMPORTED_MODULE_0__.ResponseCookies(headers);\n    const returnedCookies = resCookies.getAll();\n    // Set the modified cookies as fallbacks.\n    for (const cookie of modifiedCookieValues){\n        resCookies.set(cookie);\n    }\n    // Set the original cookies as the final values.\n    for (const cookie of returnedCookies){\n        resCookies.set(cookie);\n    }\n    return true;\n}\nclass MutableRequestCookiesAdapter {\n    static wrap(cookies, onUpdateCookies) {\n        const responseCookies = new _cookies__WEBPACK_IMPORTED_MODULE_0__.ResponseCookies(new Headers());\n        for (const cookie of cookies.getAll()){\n            responseCookies.set(cookie);\n        }\n        let modifiedValues = [];\n        const modifiedCookies = new Set();\n        const updateResponseCookies = ()=>{\n            // TODO-APP: change method of getting workStore\n            const workStore = _app_render_work_async_storage_external__WEBPACK_IMPORTED_MODULE_2__.workAsyncStorage.getStore();\n            if (workStore) {\n                workStore.pathWasRevalidated = true;\n            }\n            const allCookies = responseCookies.getAll();\n            modifiedValues = allCookies.filter((c)=>modifiedCookies.has(c.name));\n            if (onUpdateCookies) {\n                const serializedCookies = [];\n                for (const cookie of modifiedValues){\n                    const tempCookies = new _cookies__WEBPACK_IMPORTED_MODULE_0__.ResponseCookies(new Headers());\n                    tempCookies.set(cookie);\n                    serializedCookies.push(tempCookies.toString());\n                }\n                onUpdateCookies(serializedCookies);\n            }\n        };\n        const wrappedCookies = new Proxy(responseCookies, {\n            get (target, prop, receiver) {\n                switch(prop){\n                    // A special symbol to get the modified cookie values\n                    case SYMBOL_MODIFY_COOKIE_VALUES:\n                        return modifiedValues;\n                    // TODO: Throw error if trying to set a cookie after the response\n                    // headers have been set.\n                    case 'delete':\n                        return function(...args) {\n                            modifiedCookies.add(typeof args[0] === 'string' ? args[0] : args[0].name);\n                            try {\n                                target.delete(...args);\n                                return wrappedCookies;\n                            } finally{\n                                updateResponseCookies();\n                            }\n                        };\n                    case 'set':\n                        return function(...args) {\n                            modifiedCookies.add(typeof args[0] === 'string' ? args[0] : args[0].name);\n                            try {\n                                target.set(...args);\n                                return wrappedCookies;\n                            } finally{\n                                updateResponseCookies();\n                            }\n                        };\n                    default:\n                        return _reflect__WEBPACK_IMPORTED_MODULE_1__.ReflectAdapter.get(target, prop, receiver);\n                }\n            }\n        });\n        return wrappedCookies;\n    }\n}\nfunction createCookiesWithMutableAccessCheck(requestStore) {\n    const wrappedCookies = new Proxy(requestStore.mutableCookies, {\n        get (target, prop, receiver) {\n            switch(prop){\n                case 'delete':\n                    return function(...args) {\n                        ensureCookiesAreStillMutable(requestStore, 'cookies().delete');\n                        target.delete(...args);\n                        return wrappedCookies;\n                    };\n                case 'set':\n                    return function(...args) {\n                        ensureCookiesAreStillMutable(requestStore, 'cookies().set');\n                        target.set(...args);\n                        return wrappedCookies;\n                    };\n                default:\n                    return _reflect__WEBPACK_IMPORTED_MODULE_1__.ReflectAdapter.get(target, prop, receiver);\n            }\n        }\n    });\n    return wrappedCookies;\n}\nfunction areCookiesMutableInCurrentPhase(requestStore) {\n    return requestStore.phase === 'action';\n}\n/** Ensure that cookies() starts throwing on mutation\n * if we changed phases and can no longer mutate.\n *\n * This can happen when going:\n *   'render' -> 'after'\n *   'action' -> 'render'\n * */ function ensureCookiesAreStillMutable(requestStore, _callingExpression) {\n    if (!areCookiesMutableInCurrentPhase(requestStore)) {\n        // TODO: maybe we can give a more precise error message based on callingExpression?\n        throw new ReadonlyRequestCookiesError();\n    }\n}\nfunction responseCookiesToRequestCookies(responseCookies) {\n    const requestCookies = new _cookies__WEBPACK_IMPORTED_MODULE_0__.RequestCookies(new Headers());\n    for (const cookie of responseCookies.getAll()){\n        requestCookies.set(cookie);\n    }\n    return requestCookies;\n}\n\n//# sourceMappingURL=request-cookies.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL3dlYi9zcGVjLWV4dGVuc2lvbi9hZGFwdGVycy9yZXF1ZXN0LWNvb2tpZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBNEM7QUFDQztBQUNGO0FBQ3dDO0FBQ25GO0FBQ0E7QUFDQSxJQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixvREFBYztBQUM3QztBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixxREFBZTtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLG9DQUFvQyxxREFBZTtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixxRkFBZ0I7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxxREFBZTtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixvREFBYztBQUM3QztBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsb0RBQWM7QUFDekM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCwrQkFBK0Isb0RBQWM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcbmV4dFxcZGlzdFxcZXNtXFxzZXJ2ZXJcXHdlYlxcc3BlYy1leHRlbnNpb25cXGFkYXB0ZXJzXFxyZXF1ZXN0LWNvb2tpZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVxdWVzdENvb2tpZXMgfSBmcm9tICcuLi9jb29raWVzJztcbmltcG9ydCB7IFJlc3BvbnNlQ29va2llcyB9IGZyb20gJy4uL2Nvb2tpZXMnO1xuaW1wb3J0IHsgUmVmbGVjdEFkYXB0ZXIgfSBmcm9tICcuL3JlZmxlY3QnO1xuaW1wb3J0IHsgd29ya0FzeW5jU3RvcmFnZSB9IGZyb20gJy4uLy4uLy4uL2FwcC1yZW5kZXIvd29yay1hc3luYy1zdG9yYWdlLmV4dGVybmFsJztcbi8qKlxuICogQGludGVybmFsXG4gKi8gZXhwb3J0IGNsYXNzIFJlYWRvbmx5UmVxdWVzdENvb2tpZXNFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3Rvcigpe1xuICAgICAgICBzdXBlcignQ29va2llcyBjYW4gb25seSBiZSBtb2RpZmllZCBpbiBhIFNlcnZlciBBY3Rpb24gb3IgUm91dGUgSGFuZGxlci4gUmVhZCBtb3JlOiBodHRwczovL25leHRqcy5vcmcvZG9jcy9hcHAvYXBpLXJlZmVyZW5jZS9mdW5jdGlvbnMvY29va2llcyNvcHRpb25zJyk7XG4gICAgfVxuICAgIHN0YXRpYyBjYWxsYWJsZSgpIHtcbiAgICAgICAgdGhyb3cgbmV3IFJlYWRvbmx5UmVxdWVzdENvb2tpZXNFcnJvcigpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBSZXF1ZXN0Q29va2llc0FkYXB0ZXIge1xuICAgIHN0YXRpYyBzZWFsKGNvb2tpZXMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm94eShjb29raWVzLCB7XG4gICAgICAgICAgICBnZXQgKHRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2gocHJvcCl7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NsZWFyJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGVsZXRlJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnc2V0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSZWFkb25seVJlcXVlc3RDb29raWVzRXJyb3IuY2FsbGFibGU7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmVmbGVjdEFkYXB0ZXIuZ2V0KHRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuY29uc3QgU1lNQk9MX01PRElGWV9DT09LSUVfVkFMVUVTID0gU3ltYm9sLmZvcignbmV4dC5tdXRhdGVkLmNvb2tpZXMnKTtcbmV4cG9ydCBmdW5jdGlvbiBnZXRNb2RpZmllZENvb2tpZVZhbHVlcyhjb29raWVzKSB7XG4gICAgY29uc3QgbW9kaWZpZWQgPSBjb29raWVzW1NZTUJPTF9NT0RJRllfQ09PS0lFX1ZBTFVFU107XG4gICAgaWYgKCFtb2RpZmllZCB8fCAhQXJyYXkuaXNBcnJheShtb2RpZmllZCkgfHwgbW9kaWZpZWQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgcmV0dXJuIG1vZGlmaWVkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZE11dGFibGVDb29raWVzKGhlYWRlcnMsIG11dGFibGVDb29raWVzKSB7XG4gICAgY29uc3QgbW9kaWZpZWRDb29raWVWYWx1ZXMgPSBnZXRNb2RpZmllZENvb2tpZVZhbHVlcyhtdXRhYmxlQ29va2llcyk7XG4gICAgaWYgKG1vZGlmaWVkQ29va2llVmFsdWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIFJldHVybiBhIG5ldyByZXNwb25zZSB0aGF0IGV4dGVuZHMgdGhlIHJlc3BvbnNlIHdpdGhcbiAgICAvLyB0aGUgbW9kaWZpZWQgY29va2llcyBhcyBmYWxsYmFja3MuIGByZXNgIGNvb2tpZXNcbiAgICAvLyB3aWxsIHN0aWxsIHRha2UgcHJlY2VkZW5jZS5cbiAgICBjb25zdCByZXNDb29raWVzID0gbmV3IFJlc3BvbnNlQ29va2llcyhoZWFkZXJzKTtcbiAgICBjb25zdCByZXR1cm5lZENvb2tpZXMgPSByZXNDb29raWVzLmdldEFsbCgpO1xuICAgIC8vIFNldCB0aGUgbW9kaWZpZWQgY29va2llcyBhcyBmYWxsYmFja3MuXG4gICAgZm9yIChjb25zdCBjb29raWUgb2YgbW9kaWZpZWRDb29raWVWYWx1ZXMpe1xuICAgICAgICByZXNDb29raWVzLnNldChjb29raWUpO1xuICAgIH1cbiAgICAvLyBTZXQgdGhlIG9yaWdpbmFsIGNvb2tpZXMgYXMgdGhlIGZpbmFsIHZhbHVlcy5cbiAgICBmb3IgKGNvbnN0IGNvb2tpZSBvZiByZXR1cm5lZENvb2tpZXMpe1xuICAgICAgICByZXNDb29raWVzLnNldChjb29raWUpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmV4cG9ydCBjbGFzcyBNdXRhYmxlUmVxdWVzdENvb2tpZXNBZGFwdGVyIHtcbiAgICBzdGF0aWMgd3JhcChjb29raWVzLCBvblVwZGF0ZUNvb2tpZXMpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2VDb29raWVzID0gbmV3IFJlc3BvbnNlQ29va2llcyhuZXcgSGVhZGVycygpKTtcbiAgICAgICAgZm9yIChjb25zdCBjb29raWUgb2YgY29va2llcy5nZXRBbGwoKSl7XG4gICAgICAgICAgICByZXNwb25zZUNvb2tpZXMuc2V0KGNvb2tpZSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG1vZGlmaWVkVmFsdWVzID0gW107XG4gICAgICAgIGNvbnN0IG1vZGlmaWVkQ29va2llcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgY29uc3QgdXBkYXRlUmVzcG9uc2VDb29raWVzID0gKCk9PntcbiAgICAgICAgICAgIC8vIFRPRE8tQVBQOiBjaGFuZ2UgbWV0aG9kIG9mIGdldHRpbmcgd29ya1N0b3JlXG4gICAgICAgICAgICBjb25zdCB3b3JrU3RvcmUgPSB3b3JrQXN5bmNTdG9yYWdlLmdldFN0b3JlKCk7XG4gICAgICAgICAgICBpZiAod29ya1N0b3JlKSB7XG4gICAgICAgICAgICAgICAgd29ya1N0b3JlLnBhdGhXYXNSZXZhbGlkYXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBhbGxDb29raWVzID0gcmVzcG9uc2VDb29raWVzLmdldEFsbCgpO1xuICAgICAgICAgICAgbW9kaWZpZWRWYWx1ZXMgPSBhbGxDb29raWVzLmZpbHRlcigoYyk9Pm1vZGlmaWVkQ29va2llcy5oYXMoYy5uYW1lKSk7XG4gICAgICAgICAgICBpZiAob25VcGRhdGVDb29raWVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VyaWFsaXplZENvb2tpZXMgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNvb2tpZSBvZiBtb2RpZmllZFZhbHVlcyl7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBDb29raWVzID0gbmV3IFJlc3BvbnNlQ29va2llcyhuZXcgSGVhZGVycygpKTtcbiAgICAgICAgICAgICAgICAgICAgdGVtcENvb2tpZXMuc2V0KGNvb2tpZSk7XG4gICAgICAgICAgICAgICAgICAgIHNlcmlhbGl6ZWRDb29raWVzLnB1c2godGVtcENvb2tpZXMudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9uVXBkYXRlQ29va2llcyhzZXJpYWxpemVkQ29va2llcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHdyYXBwZWRDb29raWVzID0gbmV3IFByb3h5KHJlc3BvbnNlQ29va2llcywge1xuICAgICAgICAgICAgZ2V0ICh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoKHByb3Ape1xuICAgICAgICAgICAgICAgICAgICAvLyBBIHNwZWNpYWwgc3ltYm9sIHRvIGdldCB0aGUgbW9kaWZpZWQgY29va2llIHZhbHVlc1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFNZTUJPTF9NT0RJRllfQ09PS0lFX1ZBTFVFUzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtb2RpZmllZFZhbHVlcztcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogVGhyb3cgZXJyb3IgaWYgdHJ5aW5nIHRvIHNldCBhIGNvb2tpZSBhZnRlciB0aGUgcmVzcG9uc2VcbiAgICAgICAgICAgICAgICAgICAgLy8gaGVhZGVycyBoYXZlIGJlZW4gc2V0LlxuICAgICAgICAgICAgICAgICAgICBjYXNlICdkZWxldGUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RpZmllZENvb2tpZXMuYWRkKHR5cGVvZiBhcmdzWzBdID09PSAnc3RyaW5nJyA/IGFyZ3NbMF0gOiBhcmdzWzBdLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5kZWxldGUoLi4uYXJncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3cmFwcGVkQ29va2llcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVJlc3BvbnNlQ29va2llcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3NldCc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oLi4uYXJncykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkQ29va2llcy5hZGQodHlwZW9mIGFyZ3NbMF0gPT09ICdzdHJpbmcnID8gYXJnc1swXSA6IGFyZ3NbMF0ubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnNldCguLi5hcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdyYXBwZWRDb29raWVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlUmVzcG9uc2VDb29raWVzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSZWZsZWN0QWRhcHRlci5nZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHdyYXBwZWRDb29raWVzO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDb29raWVzV2l0aE11dGFibGVBY2Nlc3NDaGVjayhyZXF1ZXN0U3RvcmUpIHtcbiAgICBjb25zdCB3cmFwcGVkQ29va2llcyA9IG5ldyBQcm94eShyZXF1ZXN0U3RvcmUubXV0YWJsZUNvb2tpZXMsIHtcbiAgICAgICAgZ2V0ICh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKSB7XG4gICAgICAgICAgICBzd2l0Y2gocHJvcCl7XG4gICAgICAgICAgICAgICAgY2FzZSAnZGVsZXRlJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuc3VyZUNvb2tpZXNBcmVTdGlsbE11dGFibGUocmVxdWVzdFN0b3JlLCAnY29va2llcygpLmRlbGV0ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LmRlbGV0ZSguLi5hcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3cmFwcGVkQ29va2llcztcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjYXNlICdzZXQnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oLi4uYXJncykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5zdXJlQ29va2llc0FyZVN0aWxsTXV0YWJsZShyZXF1ZXN0U3RvcmUsICdjb29raWVzKCkuc2V0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQuc2V0KC4uLmFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdyYXBwZWRDb29raWVzO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBSZWZsZWN0QWRhcHRlci5nZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gd3JhcHBlZENvb2tpZXM7XG59XG5leHBvcnQgZnVuY3Rpb24gYXJlQ29va2llc011dGFibGVJbkN1cnJlbnRQaGFzZShyZXF1ZXN0U3RvcmUpIHtcbiAgICByZXR1cm4gcmVxdWVzdFN0b3JlLnBoYXNlID09PSAnYWN0aW9uJztcbn1cbi8qKiBFbnN1cmUgdGhhdCBjb29raWVzKCkgc3RhcnRzIHRocm93aW5nIG9uIG11dGF0aW9uXG4gKiBpZiB3ZSBjaGFuZ2VkIHBoYXNlcyBhbmQgY2FuIG5vIGxvbmdlciBtdXRhdGUuXG4gKlxuICogVGhpcyBjYW4gaGFwcGVuIHdoZW4gZ29pbmc6XG4gKiAgICdyZW5kZXInIC0+ICdhZnRlcidcbiAqICAgJ2FjdGlvbicgLT4gJ3JlbmRlcidcbiAqICovIGZ1bmN0aW9uIGVuc3VyZUNvb2tpZXNBcmVTdGlsbE11dGFibGUocmVxdWVzdFN0b3JlLCBfY2FsbGluZ0V4cHJlc3Npb24pIHtcbiAgICBpZiAoIWFyZUNvb2tpZXNNdXRhYmxlSW5DdXJyZW50UGhhc2UocmVxdWVzdFN0b3JlKSkge1xuICAgICAgICAvLyBUT0RPOiBtYXliZSB3ZSBjYW4gZ2l2ZSBhIG1vcmUgcHJlY2lzZSBlcnJvciBtZXNzYWdlIGJhc2VkIG9uIGNhbGxpbmdFeHByZXNzaW9uP1xuICAgICAgICB0aHJvdyBuZXcgUmVhZG9ubHlSZXF1ZXN0Q29va2llc0Vycm9yKCk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHJlc3BvbnNlQ29va2llc1RvUmVxdWVzdENvb2tpZXMocmVzcG9uc2VDb29raWVzKSB7XG4gICAgY29uc3QgcmVxdWVzdENvb2tpZXMgPSBuZXcgUmVxdWVzdENvb2tpZXMobmV3IEhlYWRlcnMoKSk7XG4gICAgZm9yIChjb25zdCBjb29raWUgb2YgcmVzcG9uc2VDb29raWVzLmdldEFsbCgpKXtcbiAgICAgICAgcmVxdWVzdENvb2tpZXMuc2V0KGNvb2tpZSk7XG4gICAgfVxuICAgIHJldHVybiByZXF1ZXN0Q29va2llcztcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVxdWVzdC1jb29raWVzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/adapters/request-cookies.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/cookies.js":
/*!*************************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/web/spec-extension/cookies.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RequestCookies: () => (/* reexport safe */ next_dist_compiled_edge_runtime_cookies__WEBPACK_IMPORTED_MODULE_0__.RequestCookies),\n/* harmony export */   ResponseCookies: () => (/* reexport safe */ next_dist_compiled_edge_runtime_cookies__WEBPACK_IMPORTED_MODULE_0__.ResponseCookies),\n/* harmony export */   stringifyCookie: () => (/* reexport safe */ next_dist_compiled_edge_runtime_cookies__WEBPACK_IMPORTED_MODULE_0__.stringifyCookie)\n/* harmony export */ });\n/* harmony import */ var next_dist_compiled_edge_runtime_cookies__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/compiled/@edge-runtime/cookies */ \"(middleware)/./node_modules/next/dist/compiled/@edge-runtime/cookies/index.js\");\n/* harmony import */ var next_dist_compiled_edge_runtime_cookies__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_compiled_edge_runtime_cookies__WEBPACK_IMPORTED_MODULE_0__);\n\n\n//# sourceMappingURL=cookies.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL3dlYi9zcGVjLWV4dGVuc2lvbi9jb29raWVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTRHOztBQUU1RyIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcbmV4dFxcZGlzdFxcZXNtXFxzZXJ2ZXJcXHdlYlxcc3BlYy1leHRlbnNpb25cXGNvb2tpZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHsgUmVxdWVzdENvb2tpZXMsIFJlc3BvbnNlQ29va2llcywgc3RyaW5naWZ5Q29va2llIH0gZnJvbSAnbmV4dC9kaXN0L2NvbXBpbGVkL0BlZGdlLXJ1bnRpbWUvY29va2llcyc7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvb2tpZXMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/cookies.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/fetch-event.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/web/spec-extension/fetch-event.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NextFetchEvent: () => (/* binding */ NextFetchEvent),\n/* harmony export */   getWaitUntilPromiseFromEvent: () => (/* binding */ getWaitUntilPromiseFromEvent)\n/* harmony export */ });\n/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../error */ \"(middleware)/./node_modules/next/dist/esm/server/web/error.js\");\n\nconst responseSymbol = Symbol('response');\nconst passThroughSymbol = Symbol('passThrough');\nconst waitUntilSymbol = Symbol('waitUntil');\nclass FetchEvent {\n    constructor(_request, waitUntil){\n        this[passThroughSymbol] = false;\n        this[waitUntilSymbol] = waitUntil ? {\n            kind: 'external',\n            function: waitUntil\n        } : {\n            kind: 'internal',\n            promises: []\n        };\n    }\n    // TODO: is this dead code? NextFetchEvent never lets this get called\n    respondWith(response) {\n        if (!this[responseSymbol]) {\n            this[responseSymbol] = Promise.resolve(response);\n        }\n    }\n    // TODO: is this dead code? passThroughSymbol is unused\n    passThroughOnException() {\n        this[passThroughSymbol] = true;\n    }\n    waitUntil(promise) {\n        if (this[waitUntilSymbol].kind === 'external') {\n            // if we received an external waitUntil, we delegate to it\n            // TODO(after): this will make us not go through `getServerError(error, 'edge-server')` in `sandbox`\n            const waitUntil = this[waitUntilSymbol].function;\n            return waitUntil(promise);\n        } else {\n            // if we didn't receive an external waitUntil, we make it work on our own\n            // (and expect the caller to do something with the promises)\n            this[waitUntilSymbol].promises.push(promise);\n        }\n    }\n}\nfunction getWaitUntilPromiseFromEvent(event) {\n    return event[waitUntilSymbol].kind === 'internal' ? Promise.all(event[waitUntilSymbol].promises).then(()=>{}) : undefined;\n}\nclass NextFetchEvent extends FetchEvent {\n    constructor(params){\n        var _params_context;\n        super(params.request, (_params_context = params.context) == null ? void 0 : _params_context.waitUntil);\n        this.sourcePage = params.page;\n    }\n    /**\n   * @deprecated The `request` is now the first parameter and the API is now async.\n   *\n   * Read more: https://nextjs.org/docs/messages/middleware-new-signature\n   */ get request() {\n        throw Object.defineProperty(new _error__WEBPACK_IMPORTED_MODULE_0__.PageSignatureError({\n            page: this.sourcePage\n        }), \"__NEXT_ERROR_CODE\", {\n            value: \"E394\",\n            enumerable: false,\n            configurable: true\n        });\n    }\n    /**\n   * @deprecated Using `respondWith` is no longer needed.\n   *\n   * Read more: https://nextjs.org/docs/messages/middleware-new-signature\n   */ respondWith() {\n        throw Object.defineProperty(new _error__WEBPACK_IMPORTED_MODULE_0__.PageSignatureError({\n            page: this.sourcePage\n        }), \"__NEXT_ERROR_CODE\", {\n            value: \"E394\",\n            enumerable: false,\n            configurable: true\n        });\n    }\n}\n\n//# sourceMappingURL=fetch-event.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL3dlYi9zcGVjLWV4dGVuc2lvbi9mZXRjaC1ldmVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBOEM7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxnSEFBZ0g7QUFDaEg7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLHNEQUFrQjtBQUMxRDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLHNEQUFrQjtBQUMxRDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcbmV4dFxcZGlzdFxcZXNtXFxzZXJ2ZXJcXHdlYlxcc3BlYy1leHRlbnNpb25cXGZldGNoLWV2ZW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VTaWduYXR1cmVFcnJvciB9IGZyb20gJy4uL2Vycm9yJztcbmNvbnN0IHJlc3BvbnNlU3ltYm9sID0gU3ltYm9sKCdyZXNwb25zZScpO1xuY29uc3QgcGFzc1Rocm91Z2hTeW1ib2wgPSBTeW1ib2woJ3Bhc3NUaHJvdWdoJyk7XG5jb25zdCB3YWl0VW50aWxTeW1ib2wgPSBTeW1ib2woJ3dhaXRVbnRpbCcpO1xuY2xhc3MgRmV0Y2hFdmVudCB7XG4gICAgY29uc3RydWN0b3IoX3JlcXVlc3QsIHdhaXRVbnRpbCl7XG4gICAgICAgIHRoaXNbcGFzc1Rocm91Z2hTeW1ib2xdID0gZmFsc2U7XG4gICAgICAgIHRoaXNbd2FpdFVudGlsU3ltYm9sXSA9IHdhaXRVbnRpbCA/IHtcbiAgICAgICAgICAgIGtpbmQ6ICdleHRlcm5hbCcsXG4gICAgICAgICAgICBmdW5jdGlvbjogd2FpdFVudGlsXG4gICAgICAgIH0gOiB7XG4gICAgICAgICAgICBraW5kOiAnaW50ZXJuYWwnLFxuICAgICAgICAgICAgcHJvbWlzZXM6IFtdXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vIFRPRE86IGlzIHRoaXMgZGVhZCBjb2RlPyBOZXh0RmV0Y2hFdmVudCBuZXZlciBsZXRzIHRoaXMgZ2V0IGNhbGxlZFxuICAgIHJlc3BvbmRXaXRoKHJlc3BvbnNlKSB7XG4gICAgICAgIGlmICghdGhpc1tyZXNwb25zZVN5bWJvbF0pIHtcbiAgICAgICAgICAgIHRoaXNbcmVzcG9uc2VTeW1ib2xdID0gUHJvbWlzZS5yZXNvbHZlKHJlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBUT0RPOiBpcyB0aGlzIGRlYWQgY29kZT8gcGFzc1Rocm91Z2hTeW1ib2wgaXMgdW51c2VkXG4gICAgcGFzc1Rocm91Z2hPbkV4Y2VwdGlvbigpIHtcbiAgICAgICAgdGhpc1twYXNzVGhyb3VnaFN5bWJvbF0gPSB0cnVlO1xuICAgIH1cbiAgICB3YWl0VW50aWwocHJvbWlzZSkge1xuICAgICAgICBpZiAodGhpc1t3YWl0VW50aWxTeW1ib2xdLmtpbmQgPT09ICdleHRlcm5hbCcpIHtcbiAgICAgICAgICAgIC8vIGlmIHdlIHJlY2VpdmVkIGFuIGV4dGVybmFsIHdhaXRVbnRpbCwgd2UgZGVsZWdhdGUgdG8gaXRcbiAgICAgICAgICAgIC8vIFRPRE8oYWZ0ZXIpOiB0aGlzIHdpbGwgbWFrZSB1cyBub3QgZ28gdGhyb3VnaCBgZ2V0U2VydmVyRXJyb3IoZXJyb3IsICdlZGdlLXNlcnZlcicpYCBpbiBgc2FuZGJveGBcbiAgICAgICAgICAgIGNvbnN0IHdhaXRVbnRpbCA9IHRoaXNbd2FpdFVudGlsU3ltYm9sXS5mdW5jdGlvbjtcbiAgICAgICAgICAgIHJldHVybiB3YWl0VW50aWwocHJvbWlzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBpZiB3ZSBkaWRuJ3QgcmVjZWl2ZSBhbiBleHRlcm5hbCB3YWl0VW50aWwsIHdlIG1ha2UgaXQgd29yayBvbiBvdXIgb3duXG4gICAgICAgICAgICAvLyAoYW5kIGV4cGVjdCB0aGUgY2FsbGVyIHRvIGRvIHNvbWV0aGluZyB3aXRoIHRoZSBwcm9taXNlcylcbiAgICAgICAgICAgIHRoaXNbd2FpdFVudGlsU3ltYm9sXS5wcm9taXNlcy5wdXNoKHByb21pc2UpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFdhaXRVbnRpbFByb21pc2VGcm9tRXZlbnQoZXZlbnQpIHtcbiAgICByZXR1cm4gZXZlbnRbd2FpdFVudGlsU3ltYm9sXS5raW5kID09PSAnaW50ZXJuYWwnID8gUHJvbWlzZS5hbGwoZXZlbnRbd2FpdFVudGlsU3ltYm9sXS5wcm9taXNlcykudGhlbigoKT0+e30pIDogdW5kZWZpbmVkO1xufVxuZXhwb3J0IGNsYXNzIE5leHRGZXRjaEV2ZW50IGV4dGVuZHMgRmV0Y2hFdmVudCB7XG4gICAgY29uc3RydWN0b3IocGFyYW1zKXtcbiAgICAgICAgdmFyIF9wYXJhbXNfY29udGV4dDtcbiAgICAgICAgc3VwZXIocGFyYW1zLnJlcXVlc3QsIChfcGFyYW1zX2NvbnRleHQgPSBwYXJhbXMuY29udGV4dCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9wYXJhbXNfY29udGV4dC53YWl0VW50aWwpO1xuICAgICAgICB0aGlzLnNvdXJjZVBhZ2UgPSBwYXJhbXMucGFnZTtcbiAgICB9XG4gICAgLyoqXG4gICAqIEBkZXByZWNhdGVkIFRoZSBgcmVxdWVzdGAgaXMgbm93IHRoZSBmaXJzdCBwYXJhbWV0ZXIgYW5kIHRoZSBBUEkgaXMgbm93IGFzeW5jLlxuICAgKlxuICAgKiBSZWFkIG1vcmU6IGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL21lc3NhZ2VzL21pZGRsZXdhcmUtbmV3LXNpZ25hdHVyZVxuICAgKi8gZ2V0IHJlcXVlc3QoKSB7XG4gICAgICAgIHRocm93IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXcgUGFnZVNpZ25hdHVyZUVycm9yKHtcbiAgICAgICAgICAgIHBhZ2U6IHRoaXMuc291cmNlUGFnZVxuICAgICAgICB9KSwgXCJfX05FWFRfRVJST1JfQ09ERVwiLCB7XG4gICAgICAgICAgICB2YWx1ZTogXCJFMzk0XCIsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAqIEBkZXByZWNhdGVkIFVzaW5nIGByZXNwb25kV2l0aGAgaXMgbm8gbG9uZ2VyIG5lZWRlZC5cbiAgICpcbiAgICogUmVhZCBtb3JlOiBodHRwczovL25leHRqcy5vcmcvZG9jcy9tZXNzYWdlcy9taWRkbGV3YXJlLW5ldy1zaWduYXR1cmVcbiAgICovIHJlc3BvbmRXaXRoKCkge1xuICAgICAgICB0aHJvdyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3IFBhZ2VTaWduYXR1cmVFcnJvcih7XG4gICAgICAgICAgICBwYWdlOiB0aGlzLnNvdXJjZVBhZ2VcbiAgICAgICAgfSksIFwiX19ORVhUX0VSUk9SX0NPREVcIiwge1xuICAgICAgICAgICAgdmFsdWU6IFwiRTM5NFwiLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1mZXRjaC1ldmVudC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/fetch-event.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/image-response.js":
/*!********************************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/web/spec-extension/image-response.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ImageResponse: () => (/* binding */ ImageResponse)\n/* harmony export */ });\n/**\n * @deprecated ImageResponse moved from \"next/server\" to \"next/og\" since Next.js 14, please import from \"next/og\" instead.\n * Migration with codemods: https://nextjs.org/docs/app/building-your-application/upgrading/codemods#next-og-import\n */ function ImageResponse() {\n    throw Object.defineProperty(new Error('ImageResponse moved from \"next/server\" to \"next/og\" since Next.js 14, please import from \"next/og\" instead'), \"__NEXT_ERROR_CODE\", {\n        value: \"E183\",\n        enumerable: false,\n        configurable: true\n    });\n}\n\n//# sourceMappingURL=image-response.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL3dlYi9zcGVjLWV4dGVuc2lvbi9pbWFnZS1yZXNwb25zZS5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0EsSUFBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxuZXh0XFxkaXN0XFxlc21cXHNlcnZlclxcd2ViXFxzcGVjLWV4dGVuc2lvblxcaW1hZ2UtcmVzcG9uc2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZGVwcmVjYXRlZCBJbWFnZVJlc3BvbnNlIG1vdmVkIGZyb20gXCJuZXh0L3NlcnZlclwiIHRvIFwibmV4dC9vZ1wiIHNpbmNlIE5leHQuanMgMTQsIHBsZWFzZSBpbXBvcnQgZnJvbSBcIm5leHQvb2dcIiBpbnN0ZWFkLlxuICogTWlncmF0aW9uIHdpdGggY29kZW1vZHM6IGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL2FwcC9idWlsZGluZy15b3VyLWFwcGxpY2F0aW9uL3VwZ3JhZGluZy9jb2RlbW9kcyNuZXh0LW9nLWltcG9ydFxuICovIGV4cG9ydCBmdW5jdGlvbiBJbWFnZVJlc3BvbnNlKCkge1xuICAgIHRocm93IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXcgRXJyb3IoJ0ltYWdlUmVzcG9uc2UgbW92ZWQgZnJvbSBcIm5leHQvc2VydmVyXCIgdG8gXCJuZXh0L29nXCIgc2luY2UgTmV4dC5qcyAxNCwgcGxlYXNlIGltcG9ydCBmcm9tIFwibmV4dC9vZ1wiIGluc3RlYWQnKSwgXCJfX05FWFRfRVJST1JfQ09ERVwiLCB7XG4gICAgICAgIHZhbHVlOiBcIkUxODNcIixcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZS1yZXNwb25zZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/image-response.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/request.js":
/*!*************************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/web/spec-extension/request.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   INTERNALS: () => (/* binding */ INTERNALS),\n/* harmony export */   NextRequest: () => (/* binding */ NextRequest)\n/* harmony export */ });\n/* harmony import */ var _next_url__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../next-url */ \"(middleware)/./node_modules/next/dist/esm/server/web/next-url.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ \"(middleware)/./node_modules/next/dist/esm/server/web/utils.js\");\n/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../error */ \"(middleware)/./node_modules/next/dist/esm/server/web/error.js\");\n/* harmony import */ var _cookies__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./cookies */ \"(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/cookies.js\");\n\n\n\n\nconst INTERNALS = Symbol('internal request');\n/**\n * This class extends the [Web `Request` API](https://developer.mozilla.org/docs/Web/API/Request) with additional convenience methods.\n *\n * Read more: [Next.js Docs: `NextRequest`](https://nextjs.org/docs/app/api-reference/functions/next-request)\n */ class NextRequest extends Request {\n    constructor(input, init = {}){\n        const url = typeof input !== 'string' && 'url' in input ? input.url : String(input);\n        (0,_utils__WEBPACK_IMPORTED_MODULE_1__.validateURL)(url);\n        // node Request instance requires duplex option when a body\n        // is present or it errors, we don't handle this for\n        // Request being passed in since it would have already\n        // errored if this wasn't configured\n        if (false) {}\n        if (input instanceof Request) super(input, init);\n        else super(url, init);\n        const nextUrl = new _next_url__WEBPACK_IMPORTED_MODULE_0__.NextURL(url, {\n            headers: (0,_utils__WEBPACK_IMPORTED_MODULE_1__.toNodeOutgoingHttpHeaders)(this.headers),\n            nextConfig: init.nextConfig\n        });\n        this[INTERNALS] = {\n            cookies: new _cookies__WEBPACK_IMPORTED_MODULE_3__.RequestCookies(this.headers),\n            nextUrl,\n            url:  false ? 0 : nextUrl.toString()\n        };\n    }\n    [Symbol.for('edge-runtime.inspect.custom')]() {\n        return {\n            cookies: this.cookies,\n            nextUrl: this.nextUrl,\n            url: this.url,\n            // rest of props come from Request\n            bodyUsed: this.bodyUsed,\n            cache: this.cache,\n            credentials: this.credentials,\n            destination: this.destination,\n            headers: Object.fromEntries(this.headers),\n            integrity: this.integrity,\n            keepalive: this.keepalive,\n            method: this.method,\n            mode: this.mode,\n            redirect: this.redirect,\n            referrer: this.referrer,\n            referrerPolicy: this.referrerPolicy,\n            signal: this.signal\n        };\n    }\n    get cookies() {\n        return this[INTERNALS].cookies;\n    }\n    get nextUrl() {\n        return this[INTERNALS].nextUrl;\n    }\n    /**\n   * @deprecated\n   * `page` has been deprecated in favour of `URLPattern`.\n   * Read more: https://nextjs.org/docs/messages/middleware-request-page\n   */ get page() {\n        throw new _error__WEBPACK_IMPORTED_MODULE_2__.RemovedPageError();\n    }\n    /**\n   * @deprecated\n   * `ua` has been removed in favour of \\`userAgent\\` function.\n   * Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent\n   */ get ua() {\n        throw new _error__WEBPACK_IMPORTED_MODULE_2__.RemovedUAError();\n    }\n    get url() {\n        return this[INTERNALS].url;\n    }\n}\n\n//# sourceMappingURL=request.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL3dlYi9zcGVjLWV4dGVuc2lvbi9yZXF1ZXN0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFzQztBQUM0QjtBQUNOO0FBQ2pCO0FBQ3BDO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFXO0FBQ1gsZ0NBQWdDO0FBQ2hDO0FBQ0EsUUFBUSxtREFBVztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksS0FBbUMsRUFBRSxFQUl4QztBQUNUO0FBQ0E7QUFDQSw0QkFBNEIsOENBQU87QUFDbkMscUJBQXFCLGlFQUF5QjtBQUM5QztBQUNBLFNBQVM7QUFDVDtBQUNBLHlCQUF5QixvREFBYztBQUN2QztBQUNBLGlCQUFpQixNQUE4QyxHQUFHLENBQUc7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isb0RBQWdCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixrREFBYztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxuZXh0XFxkaXN0XFxlc21cXHNlcnZlclxcd2ViXFxzcGVjLWV4dGVuc2lvblxccmVxdWVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0VVJMIH0gZnJvbSAnLi4vbmV4dC11cmwnO1xuaW1wb3J0IHsgdG9Ob2RlT3V0Z29pbmdIdHRwSGVhZGVycywgdmFsaWRhdGVVUkwgfSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgeyBSZW1vdmVkVUFFcnJvciwgUmVtb3ZlZFBhZ2VFcnJvciB9IGZyb20gJy4uL2Vycm9yJztcbmltcG9ydCB7IFJlcXVlc3RDb29raWVzIH0gZnJvbSAnLi9jb29raWVzJztcbmV4cG9ydCBjb25zdCBJTlRFUk5BTFMgPSBTeW1ib2woJ2ludGVybmFsIHJlcXVlc3QnKTtcbi8qKlxuICogVGhpcyBjbGFzcyBleHRlbmRzIHRoZSBbV2ViIGBSZXF1ZXN0YCBBUEldKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS9SZXF1ZXN0KSB3aXRoIGFkZGl0aW9uYWwgY29udmVuaWVuY2UgbWV0aG9kcy5cbiAqXG4gKiBSZWFkIG1vcmU6IFtOZXh0LmpzIERvY3M6IGBOZXh0UmVxdWVzdGBdKGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL2FwcC9hcGktcmVmZXJlbmNlL2Z1bmN0aW9ucy9uZXh0LXJlcXVlc3QpXG4gKi8gZXhwb3J0IGNsYXNzIE5leHRSZXF1ZXN0IGV4dGVuZHMgUmVxdWVzdCB7XG4gICAgY29uc3RydWN0b3IoaW5wdXQsIGluaXQgPSB7fSl7XG4gICAgICAgIGNvbnN0IHVybCA9IHR5cGVvZiBpbnB1dCAhPT0gJ3N0cmluZycgJiYgJ3VybCcgaW4gaW5wdXQgPyBpbnB1dC51cmwgOiBTdHJpbmcoaW5wdXQpO1xuICAgICAgICB2YWxpZGF0ZVVSTCh1cmwpO1xuICAgICAgICAvLyBub2RlIFJlcXVlc3QgaW5zdGFuY2UgcmVxdWlyZXMgZHVwbGV4IG9wdGlvbiB3aGVuIGEgYm9keVxuICAgICAgICAvLyBpcyBwcmVzZW50IG9yIGl0IGVycm9ycywgd2UgZG9uJ3QgaGFuZGxlIHRoaXMgZm9yXG4gICAgICAgIC8vIFJlcXVlc3QgYmVpbmcgcGFzc2VkIGluIHNpbmNlIGl0IHdvdWxkIGhhdmUgYWxyZWFkeVxuICAgICAgICAvLyBlcnJvcmVkIGlmIHRoaXMgd2Fzbid0IGNvbmZpZ3VyZWRcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5FWFRfUlVOVElNRSAhPT0gJ2VkZ2UnKSB7XG4gICAgICAgICAgICBpZiAoaW5pdC5ib2R5ICYmIGluaXQuZHVwbGV4ICE9PSAnaGFsZicpIHtcbiAgICAgICAgICAgICAgICBpbml0LmR1cGxleCA9ICdoYWxmJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBSZXF1ZXN0KSBzdXBlcihpbnB1dCwgaW5pdCk7XG4gICAgICAgIGVsc2Ugc3VwZXIodXJsLCBpbml0KTtcbiAgICAgICAgY29uc3QgbmV4dFVybCA9IG5ldyBOZXh0VVJMKHVybCwge1xuICAgICAgICAgICAgaGVhZGVyczogdG9Ob2RlT3V0Z29pbmdIdHRwSGVhZGVycyh0aGlzLmhlYWRlcnMpLFxuICAgICAgICAgICAgbmV4dENvbmZpZzogaW5pdC5uZXh0Q29uZmlnXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzW0lOVEVSTkFMU10gPSB7XG4gICAgICAgICAgICBjb29raWVzOiBuZXcgUmVxdWVzdENvb2tpZXModGhpcy5oZWFkZXJzKSxcbiAgICAgICAgICAgIG5leHRVcmwsXG4gICAgICAgICAgICB1cmw6IHByb2Nlc3MuZW52Ll9fTkVYVF9OT19NSURETEVXQVJFX1VSTF9OT1JNQUxJWkUgPyB1cmwgOiBuZXh0VXJsLnRvU3RyaW5nKClcbiAgICAgICAgfTtcbiAgICB9XG4gICAgW1N5bWJvbC5mb3IoJ2VkZ2UtcnVudGltZS5pbnNwZWN0LmN1c3RvbScpXSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvb2tpZXM6IHRoaXMuY29va2llcyxcbiAgICAgICAgICAgIG5leHRVcmw6IHRoaXMubmV4dFVybCxcbiAgICAgICAgICAgIHVybDogdGhpcy51cmwsXG4gICAgICAgICAgICAvLyByZXN0IG9mIHByb3BzIGNvbWUgZnJvbSBSZXF1ZXN0XG4gICAgICAgICAgICBib2R5VXNlZDogdGhpcy5ib2R5VXNlZCxcbiAgICAgICAgICAgIGNhY2hlOiB0aGlzLmNhY2hlLFxuICAgICAgICAgICAgY3JlZGVudGlhbHM6IHRoaXMuY3JlZGVudGlhbHMsXG4gICAgICAgICAgICBkZXN0aW5hdGlvbjogdGhpcy5kZXN0aW5hdGlvbixcbiAgICAgICAgICAgIGhlYWRlcnM6IE9iamVjdC5mcm9tRW50cmllcyh0aGlzLmhlYWRlcnMpLFxuICAgICAgICAgICAgaW50ZWdyaXR5OiB0aGlzLmludGVncml0eSxcbiAgICAgICAgICAgIGtlZXBhbGl2ZTogdGhpcy5rZWVwYWxpdmUsXG4gICAgICAgICAgICBtZXRob2Q6IHRoaXMubWV0aG9kLFxuICAgICAgICAgICAgbW9kZTogdGhpcy5tb2RlLFxuICAgICAgICAgICAgcmVkaXJlY3Q6IHRoaXMucmVkaXJlY3QsXG4gICAgICAgICAgICByZWZlcnJlcjogdGhpcy5yZWZlcnJlcixcbiAgICAgICAgICAgIHJlZmVycmVyUG9saWN5OiB0aGlzLnJlZmVycmVyUG9saWN5LFxuICAgICAgICAgICAgc2lnbmFsOiB0aGlzLnNpZ25hbFxuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXQgY29va2llcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbSU5URVJOQUxTXS5jb29raWVzO1xuICAgIH1cbiAgICBnZXQgbmV4dFVybCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbSU5URVJOQUxTXS5uZXh0VXJsO1xuICAgIH1cbiAgICAvKipcbiAgICogQGRlcHJlY2F0ZWRcbiAgICogYHBhZ2VgIGhhcyBiZWVuIGRlcHJlY2F0ZWQgaW4gZmF2b3VyIG9mIGBVUkxQYXR0ZXJuYC5cbiAgICogUmVhZCBtb3JlOiBodHRwczovL25leHRqcy5vcmcvZG9jcy9tZXNzYWdlcy9taWRkbGV3YXJlLXJlcXVlc3QtcGFnZVxuICAgKi8gZ2V0IHBhZ2UoKSB7XG4gICAgICAgIHRocm93IG5ldyBSZW1vdmVkUGFnZUVycm9yKCk7XG4gICAgfVxuICAgIC8qKlxuICAgKiBAZGVwcmVjYXRlZFxuICAgKiBgdWFgIGhhcyBiZWVuIHJlbW92ZWQgaW4gZmF2b3VyIG9mIFxcYHVzZXJBZ2VudFxcYCBmdW5jdGlvbi5cbiAgICogUmVhZCBtb3JlOiBodHRwczovL25leHRqcy5vcmcvZG9jcy9tZXNzYWdlcy9taWRkbGV3YXJlLXBhcnNlLXVzZXItYWdlbnRcbiAgICovIGdldCB1YSgpIHtcbiAgICAgICAgdGhyb3cgbmV3IFJlbW92ZWRVQUVycm9yKCk7XG4gICAgfVxuICAgIGdldCB1cmwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzW0lOVEVSTkFMU10udXJsO1xuICAgIH1cbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVxdWVzdC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/request.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/response.js":
/*!**************************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/web/spec-extension/response.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NextResponse: () => (/* binding */ NextResponse)\n/* harmony export */ });\n/* harmony import */ var _web_spec_extension_cookies__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./cookies */ \"(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/cookies.js\");\n/* harmony import */ var _next_url__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../next-url */ \"(middleware)/./node_modules/next/dist/esm/server/web/next-url.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils */ \"(middleware)/./node_modules/next/dist/esm/server/web/utils.js\");\n/* harmony import */ var _adapters_reflect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./adapters/reflect */ \"(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/adapters/reflect.js\");\n\n\n\n\n\nconst INTERNALS = Symbol('internal response');\nconst REDIRECTS = new Set([\n    301,\n    302,\n    303,\n    307,\n    308\n]);\nfunction handleMiddlewareField(init, headers) {\n    var _init_request;\n    if (init == null ? void 0 : (_init_request = init.request) == null ? void 0 : _init_request.headers) {\n        if (!(init.request.headers instanceof Headers)) {\n            throw Object.defineProperty(new Error('request.headers must be an instance of Headers'), \"__NEXT_ERROR_CODE\", {\n                value: \"E119\",\n                enumerable: false,\n                configurable: true\n            });\n        }\n        const keys = [];\n        for (const [key, value] of init.request.headers){\n            headers.set('x-middleware-request-' + key, value);\n            keys.push(key);\n        }\n        headers.set('x-middleware-override-headers', keys.join(','));\n    }\n}\n/**\n * This class extends the [Web `Response` API](https://developer.mozilla.org/docs/Web/API/Response) with additional convenience methods.\n *\n * Read more: [Next.js Docs: `NextResponse`](https://nextjs.org/docs/app/api-reference/functions/next-response)\n */ class NextResponse extends Response {\n    constructor(body, init = {}){\n        super(body, init);\n        const headers = this.headers;\n        const cookies = new _web_spec_extension_cookies__WEBPACK_IMPORTED_MODULE_0__.ResponseCookies(headers);\n        const cookiesProxy = new Proxy(cookies, {\n            get (target, prop, receiver) {\n                switch(prop){\n                    case 'delete':\n                    case 'set':\n                        {\n                            return (...args)=>{\n                                const result = Reflect.apply(target[prop], target, args);\n                                const newHeaders = new Headers(headers);\n                                if (result instanceof _web_spec_extension_cookies__WEBPACK_IMPORTED_MODULE_0__.ResponseCookies) {\n                                    headers.set('x-middleware-set-cookie', result.getAll().map((cookie)=>(0,_web_spec_extension_cookies__WEBPACK_IMPORTED_MODULE_0__.stringifyCookie)(cookie)).join(','));\n                                }\n                                handleMiddlewareField(init, newHeaders);\n                                return result;\n                            };\n                        }\n                    default:\n                        return _adapters_reflect__WEBPACK_IMPORTED_MODULE_3__.ReflectAdapter.get(target, prop, receiver);\n                }\n            }\n        });\n        this[INTERNALS] = {\n            cookies: cookiesProxy,\n            url: init.url ? new _next_url__WEBPACK_IMPORTED_MODULE_1__.NextURL(init.url, {\n                headers: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.toNodeOutgoingHttpHeaders)(headers),\n                nextConfig: init.nextConfig\n            }) : undefined\n        };\n    }\n    [Symbol.for('edge-runtime.inspect.custom')]() {\n        return {\n            cookies: this.cookies,\n            url: this.url,\n            // rest of props come from Response\n            body: this.body,\n            bodyUsed: this.bodyUsed,\n            headers: Object.fromEntries(this.headers),\n            ok: this.ok,\n            redirected: this.redirected,\n            status: this.status,\n            statusText: this.statusText,\n            type: this.type\n        };\n    }\n    get cookies() {\n        return this[INTERNALS].cookies;\n    }\n    static json(body, init) {\n        const response = Response.json(body, init);\n        return new NextResponse(response.body, response);\n    }\n    static redirect(url, init) {\n        const status = typeof init === 'number' ? init : (init == null ? void 0 : init.status) ?? 307;\n        if (!REDIRECTS.has(status)) {\n            throw Object.defineProperty(new RangeError('Failed to execute \"redirect\" on \"response\": Invalid status code'), \"__NEXT_ERROR_CODE\", {\n                value: \"E529\",\n                enumerable: false,\n                configurable: true\n            });\n        }\n        const initObj = typeof init === 'object' ? init : {};\n        const headers = new Headers(initObj == null ? void 0 : initObj.headers);\n        headers.set('Location', (0,_utils__WEBPACK_IMPORTED_MODULE_2__.validateURL)(url));\n        return new NextResponse(null, {\n            ...initObj,\n            headers,\n            status\n        });\n    }\n    static rewrite(destination, init) {\n        const headers = new Headers(init == null ? void 0 : init.headers);\n        headers.set('x-middleware-rewrite', (0,_utils__WEBPACK_IMPORTED_MODULE_2__.validateURL)(destination));\n        handleMiddlewareField(init, headers);\n        return new NextResponse(null, {\n            ...init,\n            headers\n        });\n    }\n    static next(init) {\n        const headers = new Headers(init == null ? void 0 : init.headers);\n        headers.set('x-middleware-next', '1');\n        handleMiddlewareField(init, headers);\n        return new NextResponse(null, {\n            ...init,\n            headers\n        });\n    }\n}\n\n//# sourceMappingURL=response.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL3dlYi9zcGVjLWV4dGVuc2lvbi9yZXNwb25zZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFtRTtBQUM3QjtBQUM0QjtBQUNkO0FBQ1I7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFXO0FBQ1gsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQSw0QkFBNEIsd0VBQWU7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELHdFQUFlO0FBQ3JFLHlHQUF5Ryw0RUFBZTtBQUN4SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsNkRBQWM7QUFDN0M7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsZ0NBQWdDLDhDQUFPO0FBQ3ZDLHlCQUF5QixpRUFBeUI7QUFDbEQ7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLG1EQUFXO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxtREFBVztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXG5leHRcXGRpc3RcXGVzbVxcc2VydmVyXFx3ZWJcXHNwZWMtZXh0ZW5zaW9uXFxyZXNwb25zZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzdHJpbmdpZnlDb29raWUgfSBmcm9tICcuLi8uLi93ZWIvc3BlYy1leHRlbnNpb24vY29va2llcyc7XG5pbXBvcnQgeyBOZXh0VVJMIH0gZnJvbSAnLi4vbmV4dC11cmwnO1xuaW1wb3J0IHsgdG9Ob2RlT3V0Z29pbmdIdHRwSGVhZGVycywgdmFsaWRhdGVVUkwgfSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgeyBSZWZsZWN0QWRhcHRlciB9IGZyb20gJy4vYWRhcHRlcnMvcmVmbGVjdCc7XG5pbXBvcnQgeyBSZXNwb25zZUNvb2tpZXMgfSBmcm9tICcuL2Nvb2tpZXMnO1xuY29uc3QgSU5URVJOQUxTID0gU3ltYm9sKCdpbnRlcm5hbCByZXNwb25zZScpO1xuY29uc3QgUkVESVJFQ1RTID0gbmV3IFNldChbXG4gICAgMzAxLFxuICAgIDMwMixcbiAgICAzMDMsXG4gICAgMzA3LFxuICAgIDMwOFxuXSk7XG5mdW5jdGlvbiBoYW5kbGVNaWRkbGV3YXJlRmllbGQoaW5pdCwgaGVhZGVycykge1xuICAgIHZhciBfaW5pdF9yZXF1ZXN0O1xuICAgIGlmIChpbml0ID09IG51bGwgPyB2b2lkIDAgOiAoX2luaXRfcmVxdWVzdCA9IGluaXQucmVxdWVzdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9pbml0X3JlcXVlc3QuaGVhZGVycykge1xuICAgICAgICBpZiAoIShpbml0LnJlcXVlc3QuaGVhZGVycyBpbnN0YW5jZW9mIEhlYWRlcnMpKSB7XG4gICAgICAgICAgICB0aHJvdyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3IEVycm9yKCdyZXF1ZXN0LmhlYWRlcnMgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiBIZWFkZXJzJyksIFwiX19ORVhUX0VSUk9SX0NPREVcIiwge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBcIkUxMTlcIixcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGtleXMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgaW5pdC5yZXF1ZXN0LmhlYWRlcnMpe1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ3gtbWlkZGxld2FyZS1yZXF1ZXN0LScgKyBrZXksIHZhbHVlKTtcbiAgICAgICAgICAgIGtleXMucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICAgIGhlYWRlcnMuc2V0KCd4LW1pZGRsZXdhcmUtb3ZlcnJpZGUtaGVhZGVycycsIGtleXMuam9pbignLCcpKTtcbiAgICB9XG59XG4vKipcbiAqIFRoaXMgY2xhc3MgZXh0ZW5kcyB0aGUgW1dlYiBgUmVzcG9uc2VgIEFQSV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL1Jlc3BvbnNlKSB3aXRoIGFkZGl0aW9uYWwgY29udmVuaWVuY2UgbWV0aG9kcy5cbiAqXG4gKiBSZWFkIG1vcmU6IFtOZXh0LmpzIERvY3M6IGBOZXh0UmVzcG9uc2VgXShodHRwczovL25leHRqcy5vcmcvZG9jcy9hcHAvYXBpLXJlZmVyZW5jZS9mdW5jdGlvbnMvbmV4dC1yZXNwb25zZSlcbiAqLyBleHBvcnQgY2xhc3MgTmV4dFJlc3BvbnNlIGV4dGVuZHMgUmVzcG9uc2Uge1xuICAgIGNvbnN0cnVjdG9yKGJvZHksIGluaXQgPSB7fSl7XG4gICAgICAgIHN1cGVyKGJvZHksIGluaXQpO1xuICAgICAgICBjb25zdCBoZWFkZXJzID0gdGhpcy5oZWFkZXJzO1xuICAgICAgICBjb25zdCBjb29raWVzID0gbmV3IFJlc3BvbnNlQ29va2llcyhoZWFkZXJzKTtcbiAgICAgICAgY29uc3QgY29va2llc1Byb3h5ID0gbmV3IFByb3h5KGNvb2tpZXMsIHtcbiAgICAgICAgICAgIGdldCAodGFyZ2V0LCBwcm9wLCByZWNlaXZlcikge1xuICAgICAgICAgICAgICAgIHN3aXRjaChwcm9wKXtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGVsZXRlJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnc2V0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKC4uLmFyZ3MpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IFJlZmxlY3QuYXBwbHkodGFyZ2V0W3Byb3BdLCB0YXJnZXQsIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdIZWFkZXJzID0gbmV3IEhlYWRlcnMoaGVhZGVycyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBSZXNwb25zZUNvb2tpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnMuc2V0KCd4LW1pZGRsZXdhcmUtc2V0LWNvb2tpZScsIHJlc3VsdC5nZXRBbGwoKS5tYXAoKGNvb2tpZSk9PnN0cmluZ2lmeUNvb2tpZShjb29raWUpKS5qb2luKCcsJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZU1pZGRsZXdhcmVGaWVsZChpbml0LCBuZXdIZWFkZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3RBZGFwdGVyLmdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzW0lOVEVSTkFMU10gPSB7XG4gICAgICAgICAgICBjb29raWVzOiBjb29raWVzUHJveHksXG4gICAgICAgICAgICB1cmw6IGluaXQudXJsID8gbmV3IE5leHRVUkwoaW5pdC51cmwsIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB0b05vZGVPdXRnb2luZ0h0dHBIZWFkZXJzKGhlYWRlcnMpLFxuICAgICAgICAgICAgICAgIG5leHRDb25maWc6IGluaXQubmV4dENvbmZpZ1xuICAgICAgICAgICAgfSkgOiB1bmRlZmluZWRcbiAgICAgICAgfTtcbiAgICB9XG4gICAgW1N5bWJvbC5mb3IoJ2VkZ2UtcnVudGltZS5pbnNwZWN0LmN1c3RvbScpXSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvb2tpZXM6IHRoaXMuY29va2llcyxcbiAgICAgICAgICAgIHVybDogdGhpcy51cmwsXG4gICAgICAgICAgICAvLyByZXN0IG9mIHByb3BzIGNvbWUgZnJvbSBSZXNwb25zZVxuICAgICAgICAgICAgYm9keTogdGhpcy5ib2R5LFxuICAgICAgICAgICAgYm9keVVzZWQ6IHRoaXMuYm9keVVzZWQsXG4gICAgICAgICAgICBoZWFkZXJzOiBPYmplY3QuZnJvbUVudHJpZXModGhpcy5oZWFkZXJzKSxcbiAgICAgICAgICAgIG9rOiB0aGlzLm9rLFxuICAgICAgICAgICAgcmVkaXJlY3RlZDogdGhpcy5yZWRpcmVjdGVkLFxuICAgICAgICAgICAgc3RhdHVzOiB0aGlzLnN0YXR1cyxcbiAgICAgICAgICAgIHN0YXR1c1RleHQ6IHRoaXMuc3RhdHVzVGV4dCxcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZVxuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXQgY29va2llcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbSU5URVJOQUxTXS5jb29raWVzO1xuICAgIH1cbiAgICBzdGF0aWMganNvbihib2R5LCBpbml0KSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gUmVzcG9uc2UuanNvbihib2R5LCBpbml0KTtcbiAgICAgICAgcmV0dXJuIG5ldyBOZXh0UmVzcG9uc2UocmVzcG9uc2UuYm9keSwgcmVzcG9uc2UpO1xuICAgIH1cbiAgICBzdGF0aWMgcmVkaXJlY3QodXJsLCBpbml0KSB7XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IHR5cGVvZiBpbml0ID09PSAnbnVtYmVyJyA/IGluaXQgOiAoaW5pdCA9PSBudWxsID8gdm9pZCAwIDogaW5pdC5zdGF0dXMpID8/IDMwNztcbiAgICAgICAgaWYgKCFSRURJUkVDVFMuaGFzKHN0YXR1cykpIHtcbiAgICAgICAgICAgIHRocm93IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXcgUmFuZ2VFcnJvcignRmFpbGVkIHRvIGV4ZWN1dGUgXCJyZWRpcmVjdFwiIG9uIFwicmVzcG9uc2VcIjogSW52YWxpZCBzdGF0dXMgY29kZScpLCBcIl9fTkVYVF9FUlJPUl9DT0RFXCIsIHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJFNTI5XCIsXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbml0T2JqID0gdHlwZW9mIGluaXQgPT09ICdvYmplY3QnID8gaW5pdCA6IHt9O1xuICAgICAgICBjb25zdCBoZWFkZXJzID0gbmV3IEhlYWRlcnMoaW5pdE9iaiA9PSBudWxsID8gdm9pZCAwIDogaW5pdE9iai5oZWFkZXJzKTtcbiAgICAgICAgaGVhZGVycy5zZXQoJ0xvY2F0aW9uJywgdmFsaWRhdGVVUkwodXJsKSk7XG4gICAgICAgIHJldHVybiBuZXcgTmV4dFJlc3BvbnNlKG51bGwsIHtcbiAgICAgICAgICAgIC4uLmluaXRPYmosXG4gICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgc3RhdHVzXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdGF0aWMgcmV3cml0ZShkZXN0aW5hdGlvbiwgaW5pdCkge1xuICAgICAgICBjb25zdCBoZWFkZXJzID0gbmV3IEhlYWRlcnMoaW5pdCA9PSBudWxsID8gdm9pZCAwIDogaW5pdC5oZWFkZXJzKTtcbiAgICAgICAgaGVhZGVycy5zZXQoJ3gtbWlkZGxld2FyZS1yZXdyaXRlJywgdmFsaWRhdGVVUkwoZGVzdGluYXRpb24pKTtcbiAgICAgICAgaGFuZGxlTWlkZGxld2FyZUZpZWxkKGluaXQsIGhlYWRlcnMpO1xuICAgICAgICByZXR1cm4gbmV3IE5leHRSZXNwb25zZShudWxsLCB7XG4gICAgICAgICAgICAuLi5pbml0LFxuICAgICAgICAgICAgaGVhZGVyc1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhdGljIG5leHQoaW5pdCkge1xuICAgICAgICBjb25zdCBoZWFkZXJzID0gbmV3IEhlYWRlcnMoaW5pdCA9PSBudWxsID8gdm9pZCAwIDogaW5pdC5oZWFkZXJzKTtcbiAgICAgICAgaGVhZGVycy5zZXQoJ3gtbWlkZGxld2FyZS1uZXh0JywgJzEnKTtcbiAgICAgICAgaGFuZGxlTWlkZGxld2FyZUZpZWxkKGluaXQsIGhlYWRlcnMpO1xuICAgICAgICByZXR1cm4gbmV3IE5leHRSZXNwb25zZShudWxsLCB7XG4gICAgICAgICAgICAuLi5pbml0LFxuICAgICAgICAgICAgaGVhZGVyc1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlc3BvbnNlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/response.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/url-pattern.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/web/spec-extension/url-pattern.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   URLPattern: () => (/* binding */ GlobalURLPattern)\n/* harmony export */ });\nconst GlobalURLPattern = // @ts-expect-error: URLPattern is not available in Node.js\ntypeof URLPattern === 'undefined' ? undefined : URLPattern;\n\n\n//# sourceMappingURL=url-pattern.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL3dlYi9zcGVjLWV4dGVuc2lvbi91cmwtcGF0dGVybi5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUMwQzs7QUFFMUMiLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXG5leHRcXGRpc3RcXGVzbVxcc2VydmVyXFx3ZWJcXHNwZWMtZXh0ZW5zaW9uXFx1cmwtcGF0dGVybi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBHbG9iYWxVUkxQYXR0ZXJuID0gLy8gQHRzLWV4cGVjdC1lcnJvcjogVVJMUGF0dGVybiBpcyBub3QgYXZhaWxhYmxlIGluIE5vZGUuanNcbnR5cGVvZiBVUkxQYXR0ZXJuID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IFVSTFBhdHRlcm47XG5leHBvcnQgeyBHbG9iYWxVUkxQYXR0ZXJuIGFzIFVSTFBhdHRlcm4gfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXJsLXBhdHRlcm4uanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/url-pattern.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/user-agent.js":
/*!****************************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/web/spec-extension/user-agent.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isBot: () => (/* binding */ isBot),\n/* harmony export */   userAgent: () => (/* binding */ userAgent),\n/* harmony export */   userAgentFromString: () => (/* binding */ userAgentFromString)\n/* harmony export */ });\n/* harmony import */ var next_dist_compiled_ua_parser_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/compiled/ua-parser-js */ \"(middleware)/./node_modules/next/dist/compiled/ua-parser-js/ua-parser.js\");\n/* harmony import */ var next_dist_compiled_ua_parser_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_compiled_ua_parser_js__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction isBot(input) {\n    return /Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Google-InspectionTool|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(input);\n}\nfunction userAgentFromString(input) {\n    return {\n        ...next_dist_compiled_ua_parser_js__WEBPACK_IMPORTED_MODULE_0___default()(input),\n        isBot: input === undefined ? false : isBot(input)\n    };\n}\nfunction userAgent({ headers }) {\n    return userAgentFromString(headers.get('user-agent') || undefined);\n}\n\n//# sourceMappingURL=user-agent.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL3dlYi9zcGVjLWV4dGVuc2lvbi91c2VyLWFnZW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXNEO0FBQy9DO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQSxXQUFXLHNFQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNPLHFCQUFxQixTQUFTO0FBQ3JDO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXG5leHRcXGRpc3RcXGVzbVxcc2VydmVyXFx3ZWJcXHNwZWMtZXh0ZW5zaW9uXFx1c2VyLWFnZW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwYXJzZXVhIGZyb20gJ25leHQvZGlzdC9jb21waWxlZC91YS1wYXJzZXItanMnO1xuZXhwb3J0IGZ1bmN0aW9uIGlzQm90KGlucHV0KSB7XG4gICAgcmV0dXJuIC9Hb29nbGVib3R8TWVkaWFwYXJ0bmVycy1Hb29nbGV8QWRzQm90LUdvb2dsZXxnb29nbGV3ZWJsaWdodHxTdG9yZWJvdC1Hb29nbGV8R29vZ2xlLVBhZ2VSZW5kZXJlcnxHb29nbGUtSW5zcGVjdGlvblRvb2x8QmluZ2JvdHxCaW5nUHJldmlld3xTbHVycHxEdWNrRHVja0JvdHxiYWlkdXNwaWRlcnx5YW5kZXh8c29nb3V8TGlua2VkSW5Cb3R8Yml0bHlib3R8dHVtYmxyfHZrU2hhcmV8cXVvcmEgbGluayBwcmV2aWV3fGZhY2Vib29rZXh0ZXJuYWxoaXR8ZmFjZWJvb2tjYXRhbG9nfFR3aXR0ZXJib3R8YXBwbGVib3R8cmVkZGl0Ym90fFNsYWNrYm90fERpc2NvcmRib3R8V2hhdHNBcHB8U2t5cGVVcmlQcmV2aWV3fGlhX2FyY2hpdmVyL2kudGVzdChpbnB1dCk7XG59XG5leHBvcnQgZnVuY3Rpb24gdXNlckFnZW50RnJvbVN0cmluZyhpbnB1dCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLnBhcnNldWEoaW5wdXQpLFxuICAgICAgICBpc0JvdDogaW5wdXQgPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogaXNCb3QoaW5wdXQpXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB1c2VyQWdlbnQoeyBoZWFkZXJzIH0pIHtcbiAgICByZXR1cm4gdXNlckFnZW50RnJvbVN0cmluZyhoZWFkZXJzLmdldCgndXNlci1hZ2VudCcpIHx8IHVuZGVmaW5lZCk7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVzZXItYWdlbnQuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/user-agent.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/web/utils.js":
/*!********************************************************!*\
  !*** ./node_modules/next/dist/esm/server/web/utils.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fromNodeOutgoingHttpHeaders: () => (/* binding */ fromNodeOutgoingHttpHeaders),\n/* harmony export */   normalizeNextQueryParam: () => (/* binding */ normalizeNextQueryParam),\n/* harmony export */   splitCookiesString: () => (/* binding */ splitCookiesString),\n/* harmony export */   toNodeOutgoingHttpHeaders: () => (/* binding */ toNodeOutgoingHttpHeaders),\n/* harmony export */   validateURL: () => (/* binding */ validateURL)\n/* harmony export */ });\n/* harmony import */ var _lib_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/constants */ \"(middleware)/./node_modules/next/dist/esm/lib/constants.js\");\n\n/**\n * Converts a Node.js IncomingHttpHeaders object to a Headers object. Any\n * headers with multiple values will be joined with a comma and space. Any\n * headers that have an undefined value will be ignored and others will be\n * coerced to strings.\n *\n * @param nodeHeaders the headers object to convert\n * @returns the converted headers object\n */ function fromNodeOutgoingHttpHeaders(nodeHeaders) {\n    const headers = new Headers();\n    for (let [key, value] of Object.entries(nodeHeaders)){\n        const values = Array.isArray(value) ? value : [\n            value\n        ];\n        for (let v of values){\n            if (typeof v === 'undefined') continue;\n            if (typeof v === 'number') {\n                v = v.toString();\n            }\n            headers.append(key, v);\n        }\n    }\n    return headers;\n}\n/*\n  Set-Cookie header field-values are sometimes comma joined in one string. This splits them without choking on commas\n  that are within a single set-cookie field-value, such as in the Expires portion.\n  This is uncommon, but explicitly allowed - see https://tools.ietf.org/html/rfc2616#section-4.2\n  Node.js does this for every header *except* set-cookie - see https://github.com/nodejs/node/blob/d5e363b77ebaf1caf67cd7528224b651c86815c1/lib/_http_incoming.js#L128\n  React Native's fetch does this for *every* header, including set-cookie.\n  \n  Based on: https://github.com/google/j2objc/commit/16820fdbc8f76ca0c33472810ce0cb03d20efe25\n  Credits to: https://github.com/tomball for original and https://github.com/chrusart for JavaScript implementation\n*/ function splitCookiesString(cookiesString) {\n    var cookiesStrings = [];\n    var pos = 0;\n    var start;\n    var ch;\n    var lastComma;\n    var nextStart;\n    var cookiesSeparatorFound;\n    function skipWhitespace() {\n        while(pos < cookiesString.length && /\\s/.test(cookiesString.charAt(pos))){\n            pos += 1;\n        }\n        return pos < cookiesString.length;\n    }\n    function notSpecialChar() {\n        ch = cookiesString.charAt(pos);\n        return ch !== '=' && ch !== ';' && ch !== ',';\n    }\n    while(pos < cookiesString.length){\n        start = pos;\n        cookiesSeparatorFound = false;\n        while(skipWhitespace()){\n            ch = cookiesString.charAt(pos);\n            if (ch === ',') {\n                // ',' is a cookie separator if we have later first '=', not ';' or ','\n                lastComma = pos;\n                pos += 1;\n                skipWhitespace();\n                nextStart = pos;\n                while(pos < cookiesString.length && notSpecialChar()){\n                    pos += 1;\n                }\n                // currently special character\n                if (pos < cookiesString.length && cookiesString.charAt(pos) === '=') {\n                    // we found cookies separator\n                    cookiesSeparatorFound = true;\n                    // pos is inside the next cookie, so back up and return it.\n                    pos = nextStart;\n                    cookiesStrings.push(cookiesString.substring(start, lastComma));\n                    start = pos;\n                } else {\n                    // in param ',' or param separator ';',\n                    // we continue from that comma\n                    pos = lastComma + 1;\n                }\n            } else {\n                pos += 1;\n            }\n        }\n        if (!cookiesSeparatorFound || pos >= cookiesString.length) {\n            cookiesStrings.push(cookiesString.substring(start, cookiesString.length));\n        }\n    }\n    return cookiesStrings;\n}\n/**\n * Converts a Headers object to a Node.js OutgoingHttpHeaders object. This is\n * required to support the set-cookie header, which may have multiple values.\n *\n * @param headers the headers object to convert\n * @returns the converted headers object\n */ function toNodeOutgoingHttpHeaders(headers) {\n    const nodeHeaders = {};\n    const cookies = [];\n    if (headers) {\n        for (const [key, value] of headers.entries()){\n            if (key.toLowerCase() === 'set-cookie') {\n                // We may have gotten a comma joined string of cookies, or multiple\n                // set-cookie headers. We need to merge them into one header array\n                // to represent all the cookies.\n                cookies.push(...splitCookiesString(value));\n                nodeHeaders[key] = cookies.length === 1 ? cookies[0] : cookies;\n            } else {\n                nodeHeaders[key] = value;\n            }\n        }\n    }\n    return nodeHeaders;\n}\n/**\n * Validate the correctness of a user-provided URL.\n */ function validateURL(url) {\n    try {\n        return String(new URL(String(url)));\n    } catch (error) {\n        throw Object.defineProperty(new Error(`URL is malformed \"${String(url)}\". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`, {\n            cause: error\n        }), \"__NEXT_ERROR_CODE\", {\n            value: \"E61\",\n            enumerable: false,\n            configurable: true\n        });\n    }\n}\n/**\n * Normalizes `nxtP` and `nxtI` query param values to remove the prefix.\n * This function does not mutate the input key.\n */ function normalizeNextQueryParam(key) {\n    const prefixes = [\n        _lib_constants__WEBPACK_IMPORTED_MODULE_0__.NEXT_QUERY_PARAM_PREFIX,\n        _lib_constants__WEBPACK_IMPORTED_MODULE_0__.NEXT_INTERCEPTION_MARKER_PREFIX\n    ];\n    for (const prefix of prefixes){\n        if (key !== prefix && key.startsWith(prefix)) {\n            return key.substring(prefix.length);\n        }\n    }\n    return null;\n}\n\n//# sourceMappingURL=utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL3dlYi91dGlscy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBK0Y7QUFDL0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0VBQStFO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQix5REFBeUQ7QUFDekQ7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBVztBQUNYO0FBQ0E7QUFDQSxNQUFNO0FBQ04sbUVBQW1FLFlBQVk7QUFDL0U7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFXO0FBQ1g7QUFDQSxRQUFRLG1FQUF1QjtBQUMvQixRQUFRLDJFQUErQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxuZXh0XFxkaXN0XFxlc21cXHNlcnZlclxcd2ViXFx1dGlscy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBORVhUX0lOVEVSQ0VQVElPTl9NQVJLRVJfUFJFRklYLCBORVhUX1FVRVJZX1BBUkFNX1BSRUZJWCB9IGZyb20gJy4uLy4uL2xpYi9jb25zdGFudHMnO1xuLyoqXG4gKiBDb252ZXJ0cyBhIE5vZGUuanMgSW5jb21pbmdIdHRwSGVhZGVycyBvYmplY3QgdG8gYSBIZWFkZXJzIG9iamVjdC4gQW55XG4gKiBoZWFkZXJzIHdpdGggbXVsdGlwbGUgdmFsdWVzIHdpbGwgYmUgam9pbmVkIHdpdGggYSBjb21tYSBhbmQgc3BhY2UuIEFueVxuICogaGVhZGVycyB0aGF0IGhhdmUgYW4gdW5kZWZpbmVkIHZhbHVlIHdpbGwgYmUgaWdub3JlZCBhbmQgb3RoZXJzIHdpbGwgYmVcbiAqIGNvZXJjZWQgdG8gc3RyaW5ncy5cbiAqXG4gKiBAcGFyYW0gbm9kZUhlYWRlcnMgdGhlIGhlYWRlcnMgb2JqZWN0IHRvIGNvbnZlcnRcbiAqIEByZXR1cm5zIHRoZSBjb252ZXJ0ZWQgaGVhZGVycyBvYmplY3RcbiAqLyBleHBvcnQgZnVuY3Rpb24gZnJvbU5vZGVPdXRnb2luZ0h0dHBIZWFkZXJzKG5vZGVIZWFkZXJzKSB7XG4gICAgY29uc3QgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG4gICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKG5vZGVIZWFkZXJzKSl7XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbXG4gICAgICAgICAgICB2YWx1ZVxuICAgICAgICBdO1xuICAgICAgICBmb3IgKGxldCB2IG9mIHZhbHVlcyl7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHYgPT09ICd1bmRlZmluZWQnKSBjb250aW51ZTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdiA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICB2ID0gdi50b1N0cmluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaGVhZGVycy5hcHBlbmQoa2V5LCB2KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaGVhZGVycztcbn1cbi8qXG4gIFNldC1Db29raWUgaGVhZGVyIGZpZWxkLXZhbHVlcyBhcmUgc29tZXRpbWVzIGNvbW1hIGpvaW5lZCBpbiBvbmUgc3RyaW5nLiBUaGlzIHNwbGl0cyB0aGVtIHdpdGhvdXQgY2hva2luZyBvbiBjb21tYXNcbiAgdGhhdCBhcmUgd2l0aGluIGEgc2luZ2xlIHNldC1jb29raWUgZmllbGQtdmFsdWUsIHN1Y2ggYXMgaW4gdGhlIEV4cGlyZXMgcG9ydGlvbi5cbiAgVGhpcyBpcyB1bmNvbW1vbiwgYnV0IGV4cGxpY2l0bHkgYWxsb3dlZCAtIHNlZSBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMjYxNiNzZWN0aW9uLTQuMlxuICBOb2RlLmpzIGRvZXMgdGhpcyBmb3IgZXZlcnkgaGVhZGVyICpleGNlcHQqIHNldC1jb29raWUgLSBzZWUgaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy9ub2RlL2Jsb2IvZDVlMzYzYjc3ZWJhZjFjYWY2N2NkNzUyODIyNGI2NTFjODY4MTVjMS9saWIvX2h0dHBfaW5jb21pbmcuanMjTDEyOFxuICBSZWFjdCBOYXRpdmUncyBmZXRjaCBkb2VzIHRoaXMgZm9yICpldmVyeSogaGVhZGVyLCBpbmNsdWRpbmcgc2V0LWNvb2tpZS5cbiAgXG4gIEJhc2VkIG9uOiBodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2oyb2JqYy9jb21taXQvMTY4MjBmZGJjOGY3NmNhMGMzMzQ3MjgxMGNlMGNiMDNkMjBlZmUyNVxuICBDcmVkaXRzIHRvOiBodHRwczovL2dpdGh1Yi5jb20vdG9tYmFsbCBmb3Igb3JpZ2luYWwgYW5kIGh0dHBzOi8vZ2l0aHViLmNvbS9jaHJ1c2FydCBmb3IgSmF2YVNjcmlwdCBpbXBsZW1lbnRhdGlvblxuKi8gZXhwb3J0IGZ1bmN0aW9uIHNwbGl0Q29va2llc1N0cmluZyhjb29raWVzU3RyaW5nKSB7XG4gICAgdmFyIGNvb2tpZXNTdHJpbmdzID0gW107XG4gICAgdmFyIHBvcyA9IDA7XG4gICAgdmFyIHN0YXJ0O1xuICAgIHZhciBjaDtcbiAgICB2YXIgbGFzdENvbW1hO1xuICAgIHZhciBuZXh0U3RhcnQ7XG4gICAgdmFyIGNvb2tpZXNTZXBhcmF0b3JGb3VuZDtcbiAgICBmdW5jdGlvbiBza2lwV2hpdGVzcGFjZSgpIHtcbiAgICAgICAgd2hpbGUocG9zIDwgY29va2llc1N0cmluZy5sZW5ndGggJiYgL1xccy8udGVzdChjb29raWVzU3RyaW5nLmNoYXJBdChwb3MpKSl7XG4gICAgICAgICAgICBwb3MgKz0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcG9zIDwgY29va2llc1N0cmluZy5sZW5ndGg7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5vdFNwZWNpYWxDaGFyKCkge1xuICAgICAgICBjaCA9IGNvb2tpZXNTdHJpbmcuY2hhckF0KHBvcyk7XG4gICAgICAgIHJldHVybiBjaCAhPT0gJz0nICYmIGNoICE9PSAnOycgJiYgY2ggIT09ICcsJztcbiAgICB9XG4gICAgd2hpbGUocG9zIDwgY29va2llc1N0cmluZy5sZW5ndGgpe1xuICAgICAgICBzdGFydCA9IHBvcztcbiAgICAgICAgY29va2llc1NlcGFyYXRvckZvdW5kID0gZmFsc2U7XG4gICAgICAgIHdoaWxlKHNraXBXaGl0ZXNwYWNlKCkpe1xuICAgICAgICAgICAgY2ggPSBjb29raWVzU3RyaW5nLmNoYXJBdChwb3MpO1xuICAgICAgICAgICAgaWYgKGNoID09PSAnLCcpIHtcbiAgICAgICAgICAgICAgICAvLyAnLCcgaXMgYSBjb29raWUgc2VwYXJhdG9yIGlmIHdlIGhhdmUgbGF0ZXIgZmlyc3QgJz0nLCBub3QgJzsnIG9yICcsJ1xuICAgICAgICAgICAgICAgIGxhc3RDb21tYSA9IHBvcztcbiAgICAgICAgICAgICAgICBwb3MgKz0gMTtcbiAgICAgICAgICAgICAgICBza2lwV2hpdGVzcGFjZSgpO1xuICAgICAgICAgICAgICAgIG5leHRTdGFydCA9IHBvcztcbiAgICAgICAgICAgICAgICB3aGlsZShwb3MgPCBjb29raWVzU3RyaW5nLmxlbmd0aCAmJiBub3RTcGVjaWFsQ2hhcigpKXtcbiAgICAgICAgICAgICAgICAgICAgcG9zICs9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGN1cnJlbnRseSBzcGVjaWFsIGNoYXJhY3RlclxuICAgICAgICAgICAgICAgIGlmIChwb3MgPCBjb29raWVzU3RyaW5nLmxlbmd0aCAmJiBjb29raWVzU3RyaW5nLmNoYXJBdChwb3MpID09PSAnPScpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gd2UgZm91bmQgY29va2llcyBzZXBhcmF0b3JcbiAgICAgICAgICAgICAgICAgICAgY29va2llc1NlcGFyYXRvckZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gcG9zIGlzIGluc2lkZSB0aGUgbmV4dCBjb29raWUsIHNvIGJhY2sgdXAgYW5kIHJldHVybiBpdC5cbiAgICAgICAgICAgICAgICAgICAgcG9zID0gbmV4dFN0YXJ0O1xuICAgICAgICAgICAgICAgICAgICBjb29raWVzU3RyaW5ncy5wdXNoKGNvb2tpZXNTdHJpbmcuc3Vic3RyaW5nKHN0YXJ0LCBsYXN0Q29tbWEpKTtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBwb3M7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaW4gcGFyYW0gJywnIG9yIHBhcmFtIHNlcGFyYXRvciAnOycsXG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIGNvbnRpbnVlIGZyb20gdGhhdCBjb21tYVxuICAgICAgICAgICAgICAgICAgICBwb3MgPSBsYXN0Q29tbWEgKyAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcG9zICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjb29raWVzU2VwYXJhdG9yRm91bmQgfHwgcG9zID49IGNvb2tpZXNTdHJpbmcubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb29raWVzU3RyaW5ncy5wdXNoKGNvb2tpZXNTdHJpbmcuc3Vic3RyaW5nKHN0YXJ0LCBjb29raWVzU3RyaW5nLmxlbmd0aCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb29raWVzU3RyaW5ncztcbn1cbi8qKlxuICogQ29udmVydHMgYSBIZWFkZXJzIG9iamVjdCB0byBhIE5vZGUuanMgT3V0Z29pbmdIdHRwSGVhZGVycyBvYmplY3QuIFRoaXMgaXNcbiAqIHJlcXVpcmVkIHRvIHN1cHBvcnQgdGhlIHNldC1jb29raWUgaGVhZGVyLCB3aGljaCBtYXkgaGF2ZSBtdWx0aXBsZSB2YWx1ZXMuXG4gKlxuICogQHBhcmFtIGhlYWRlcnMgdGhlIGhlYWRlcnMgb2JqZWN0IHRvIGNvbnZlcnRcbiAqIEByZXR1cm5zIHRoZSBjb252ZXJ0ZWQgaGVhZGVycyBvYmplY3RcbiAqLyBleHBvcnQgZnVuY3Rpb24gdG9Ob2RlT3V0Z29pbmdIdHRwSGVhZGVycyhoZWFkZXJzKSB7XG4gICAgY29uc3Qgbm9kZUhlYWRlcnMgPSB7fTtcbiAgICBjb25zdCBjb29raWVzID0gW107XG4gICAgaWYgKGhlYWRlcnMpIHtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgaGVhZGVycy5lbnRyaWVzKCkpe1xuICAgICAgICAgICAgaWYgKGtleS50b0xvd2VyQ2FzZSgpID09PSAnc2V0LWNvb2tpZScpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBtYXkgaGF2ZSBnb3R0ZW4gYSBjb21tYSBqb2luZWQgc3RyaW5nIG9mIGNvb2tpZXMsIG9yIG11bHRpcGxlXG4gICAgICAgICAgICAgICAgLy8gc2V0LWNvb2tpZSBoZWFkZXJzLiBXZSBuZWVkIHRvIG1lcmdlIHRoZW0gaW50byBvbmUgaGVhZGVyIGFycmF5XG4gICAgICAgICAgICAgICAgLy8gdG8gcmVwcmVzZW50IGFsbCB0aGUgY29va2llcy5cbiAgICAgICAgICAgICAgICBjb29raWVzLnB1c2goLi4uc3BsaXRDb29raWVzU3RyaW5nKHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgbm9kZUhlYWRlcnNba2V5XSA9IGNvb2tpZXMubGVuZ3RoID09PSAxID8gY29va2llc1swXSA6IGNvb2tpZXM7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5vZGVIZWFkZXJzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbm9kZUhlYWRlcnM7XG59XG4vKipcbiAqIFZhbGlkYXRlIHRoZSBjb3JyZWN0bmVzcyBvZiBhIHVzZXItcHJvdmlkZWQgVVJMLlxuICovIGV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVVSTCh1cmwpIHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gU3RyaW5nKG5ldyBVUkwoU3RyaW5nKHVybCkpKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aHJvdyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3IEVycm9yKGBVUkwgaXMgbWFsZm9ybWVkIFwiJHtTdHJpbmcodXJsKX1cIi4gUGxlYXNlIHVzZSBvbmx5IGFic29sdXRlIFVSTHMgLSBodHRwczovL25leHRqcy5vcmcvZG9jcy9tZXNzYWdlcy9taWRkbGV3YXJlLXJlbGF0aXZlLXVybHNgLCB7XG4gICAgICAgICAgICBjYXVzZTogZXJyb3JcbiAgICAgICAgfSksIFwiX19ORVhUX0VSUk9SX0NPREVcIiwge1xuICAgICAgICAgICAgdmFsdWU6IFwiRTYxXCIsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9XG59XG4vKipcbiAqIE5vcm1hbGl6ZXMgYG54dFBgIGFuZCBgbnh0SWAgcXVlcnkgcGFyYW0gdmFsdWVzIHRvIHJlbW92ZSB0aGUgcHJlZml4LlxuICogVGhpcyBmdW5jdGlvbiBkb2VzIG5vdCBtdXRhdGUgdGhlIGlucHV0IGtleS5cbiAqLyBleHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplTmV4dFF1ZXJ5UGFyYW0oa2V5KSB7XG4gICAgY29uc3QgcHJlZml4ZXMgPSBbXG4gICAgICAgIE5FWFRfUVVFUllfUEFSQU1fUFJFRklYLFxuICAgICAgICBORVhUX0lOVEVSQ0VQVElPTl9NQVJLRVJfUFJFRklYXG4gICAgXTtcbiAgICBmb3IgKGNvbnN0IHByZWZpeCBvZiBwcmVmaXhlcyl7XG4gICAgICAgIGlmIChrZXkgIT09IHByZWZpeCAmJiBrZXkuc3RhcnRzV2l0aChwcmVmaXgpKSB7XG4gICAgICAgICAgICByZXR1cm4ga2V5LnN1YnN0cmluZyhwcmVmaXgubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/web/utils.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/web/web-on-close.js":
/*!***************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/web/web-on-close.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CloseController: () => (/* binding */ CloseController),\n/* harmony export */   trackBodyConsumed: () => (/* binding */ trackBodyConsumed),\n/* harmony export */   trackStreamConsumed: () => (/* binding */ trackStreamConsumed)\n/* harmony export */ });\n/** Monitor when the consumer finishes reading the response body.\nthat's as close as we can get to `res.on('close')` using web APIs.\n*/ function trackBodyConsumed(body, onEnd) {\n    if (typeof body === 'string') {\n        const generator = async function* generate() {\n            const encoder = new TextEncoder();\n            yield encoder.encode(body);\n            onEnd();\n        };\n        // @ts-expect-error BodyInit typings doesn't seem to include AsyncIterables even though it's supported in practice\n        return generator();\n    } else {\n        return trackStreamConsumed(body, onEnd);\n    }\n}\nfunction trackStreamConsumed(stream, onEnd) {\n    // NOTE: This function must handle `stream` being aborted or cancelled,\n    // so it can't just be this:\n    //\n    //   return stream.pipeThrough(new TransformStream({ flush() { onEnd() } }))\n    //\n    // because that doesn't handle cancellations.\n    // (and cancellation handling via `Transformer.cancel` is only available in node >20)\n    const dest = new TransformStream();\n    const runOnEnd = ()=>onEnd();\n    stream.pipeTo(dest.writable).then(runOnEnd, runOnEnd);\n    return dest.readable;\n}\nclass CloseController {\n    onClose(callback) {\n        if (this.isClosed) {\n            throw Object.defineProperty(new Error('Cannot subscribe to a closed CloseController'), \"__NEXT_ERROR_CODE\", {\n                value: \"E365\",\n                enumerable: false,\n                configurable: true\n            });\n        }\n        this.target.addEventListener('close', callback);\n        this.listeners++;\n    }\n    dispatchClose() {\n        if (this.isClosed) {\n            throw Object.defineProperty(new Error('Cannot close a CloseController multiple times'), \"__NEXT_ERROR_CODE\", {\n                value: \"E229\",\n                enumerable: false,\n                configurable: true\n            });\n        }\n        if (this.listeners > 0) {\n            this.target.dispatchEvent(new Event('close'));\n        }\n        this.isClosed = true;\n    }\n    constructor(){\n        this.target = new EventTarget();\n        this.listeners = 0;\n        this.isClosed = false;\n    }\n}\n\n//# sourceMappingURL=web-on-close.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL3dlYi93ZWItb24tY2xvc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBLEdBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EseURBQXlELFVBQVUsV0FBVztBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxuZXh0XFxkaXN0XFxlc21cXHNlcnZlclxcd2ViXFx3ZWItb24tY2xvc2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIE1vbml0b3Igd2hlbiB0aGUgY29uc3VtZXIgZmluaXNoZXMgcmVhZGluZyB0aGUgcmVzcG9uc2UgYm9keS5cbnRoYXQncyBhcyBjbG9zZSBhcyB3ZSBjYW4gZ2V0IHRvIGByZXMub24oJ2Nsb3NlJylgIHVzaW5nIHdlYiBBUElzLlxuKi8gZXhwb3J0IGZ1bmN0aW9uIHRyYWNrQm9keUNvbnN1bWVkKGJvZHksIG9uRW5kKSB7XG4gICAgaWYgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJykge1xuICAgICAgICBjb25zdCBnZW5lcmF0b3IgPSBhc3luYyBmdW5jdGlvbiogZ2VuZXJhdGUoKSB7XG4gICAgICAgICAgICBjb25zdCBlbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKCk7XG4gICAgICAgICAgICB5aWVsZCBlbmNvZGVyLmVuY29kZShib2R5KTtcbiAgICAgICAgICAgIG9uRW5kKCk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgQm9keUluaXQgdHlwaW5ncyBkb2Vzbid0IHNlZW0gdG8gaW5jbHVkZSBBc3luY0l0ZXJhYmxlcyBldmVuIHRob3VnaCBpdCdzIHN1cHBvcnRlZCBpbiBwcmFjdGljZVxuICAgICAgICByZXR1cm4gZ2VuZXJhdG9yKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRyYWNrU3RyZWFtQ29uc3VtZWQoYm9keSwgb25FbmQpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiB0cmFja1N0cmVhbUNvbnN1bWVkKHN0cmVhbSwgb25FbmQpIHtcbiAgICAvLyBOT1RFOiBUaGlzIGZ1bmN0aW9uIG11c3QgaGFuZGxlIGBzdHJlYW1gIGJlaW5nIGFib3J0ZWQgb3IgY2FuY2VsbGVkLFxuICAgIC8vIHNvIGl0IGNhbid0IGp1c3QgYmUgdGhpczpcbiAgICAvL1xuICAgIC8vICAgcmV0dXJuIHN0cmVhbS5waXBlVGhyb3VnaChuZXcgVHJhbnNmb3JtU3RyZWFtKHsgZmx1c2goKSB7IG9uRW5kKCkgfSB9KSlcbiAgICAvL1xuICAgIC8vIGJlY2F1c2UgdGhhdCBkb2Vzbid0IGhhbmRsZSBjYW5jZWxsYXRpb25zLlxuICAgIC8vIChhbmQgY2FuY2VsbGF0aW9uIGhhbmRsaW5nIHZpYSBgVHJhbnNmb3JtZXIuY2FuY2VsYCBpcyBvbmx5IGF2YWlsYWJsZSBpbiBub2RlID4yMClcbiAgICBjb25zdCBkZXN0ID0gbmV3IFRyYW5zZm9ybVN0cmVhbSgpO1xuICAgIGNvbnN0IHJ1bk9uRW5kID0gKCk9Pm9uRW5kKCk7XG4gICAgc3RyZWFtLnBpcGVUbyhkZXN0LndyaXRhYmxlKS50aGVuKHJ1bk9uRW5kLCBydW5PbkVuZCk7XG4gICAgcmV0dXJuIGRlc3QucmVhZGFibGU7XG59XG5leHBvcnQgY2xhc3MgQ2xvc2VDb250cm9sbGVyIHtcbiAgICBvbkNsb3NlKGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICh0aGlzLmlzQ2xvc2VkKSB7XG4gICAgICAgICAgICB0aHJvdyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3IEVycm9yKCdDYW5ub3Qgc3Vic2NyaWJlIHRvIGEgY2xvc2VkIENsb3NlQ29udHJvbGxlcicpLCBcIl9fTkVYVF9FUlJPUl9DT0RFXCIsIHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJFMzY1XCIsXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdjbG9zZScsIGNhbGxiYWNrKTtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMrKztcbiAgICB9XG4gICAgZGlzcGF0Y2hDbG9zZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNDbG9zZWQpIHtcbiAgICAgICAgICAgIHRocm93IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXcgRXJyb3IoJ0Nhbm5vdCBjbG9zZSBhIENsb3NlQ29udHJvbGxlciBtdWx0aXBsZSB0aW1lcycpLCBcIl9fTkVYVF9FUlJPUl9DT0RFXCIsIHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJFMjI5XCIsXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5saXN0ZW5lcnMgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnRhcmdldC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnY2xvc2UnKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc0Nsb3NlZCA9IHRydWU7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKCl7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbmV3IEV2ZW50VGFyZ2V0KCk7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzID0gMDtcbiAgICAgICAgdGhpcy5pc0Nsb3NlZCA9IGZhbHNlO1xuICAgIH1cbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2ViLW9uLWNsb3NlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/web/web-on-close.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/shared/lib/get-hostname.js":
/*!***************************************************************!*\
  !*** ./node_modules/next/dist/esm/shared/lib/get-hostname.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getHostname: () => (/* binding */ getHostname)\n/* harmony export */ });\n/**\n * Takes an object with a hostname property (like a parsed URL) and some\n * headers that may contain Host and returns the preferred hostname.\n * @param parsed An object containing a hostname property.\n * @param headers A dictionary with headers containing a `host`.\n */ function getHostname(parsed, headers) {\n    // Get the hostname from the headers if it exists, otherwise use the parsed\n    // hostname.\n    let hostname;\n    if ((headers == null ? void 0 : headers.host) && !Array.isArray(headers.host)) {\n        hostname = headers.host.toString().split(':', 1)[0];\n    } else if (parsed.hostname) {\n        hostname = parsed.hostname;\n    } else return;\n    return hostname.toLowerCase();\n} //# sourceMappingURL=get-hostname.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2hhcmVkL2xpYi9nZXQtaG9zdG5hbWUuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUVBOzs7OztDQUtDLEdBQ00sU0FBU0EsWUFDZEMsTUFBb0MsRUFDcENDLE9BQTZCO0lBRTdCLDJFQUEyRTtJQUMzRSxZQUFZO0lBQ1osSUFBSUM7SUFDSixJQUFJRCxDQUFBQSxXQUFBQSxPQUFBQSxLQUFBQSxJQUFBQSxRQUFTRSxJQUFBQSxLQUFRLENBQUNDLE1BQU1DLE9BQU8sQ0FBQ0osUUFBUUUsSUFBSSxHQUFHO1FBQ2pERCxXQUFXRCxRQUFRRSxJQUFJLENBQUNHLFFBQVEsR0FBR0MsS0FBSyxDQUFDLEtBQUssRUFBRSxDQUFDLEVBQUU7SUFDckQsT0FBTyxJQUFJUCxPQUFPRSxRQUFRLEVBQUU7UUFDMUJBLFdBQVdGLE9BQU9FLFFBQVE7SUFDNUIsT0FBTztJQUVQLE9BQU9BLFNBQVNNLFdBQVc7QUFDN0IiLCJzb3VyY2VzIjpbIkQ6XFxzcmNcXHNoYXJlZFxcbGliXFxnZXQtaG9zdG5hbWUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBPdXRnb2luZ0h0dHBIZWFkZXJzIH0gZnJvbSAnaHR0cCdcblxuLyoqXG4gKiBUYWtlcyBhbiBvYmplY3Qgd2l0aCBhIGhvc3RuYW1lIHByb3BlcnR5IChsaWtlIGEgcGFyc2VkIFVSTCkgYW5kIHNvbWVcbiAqIGhlYWRlcnMgdGhhdCBtYXkgY29udGFpbiBIb3N0IGFuZCByZXR1cm5zIHRoZSBwcmVmZXJyZWQgaG9zdG5hbWUuXG4gKiBAcGFyYW0gcGFyc2VkIEFuIG9iamVjdCBjb250YWluaW5nIGEgaG9zdG5hbWUgcHJvcGVydHkuXG4gKiBAcGFyYW0gaGVhZGVycyBBIGRpY3Rpb25hcnkgd2l0aCBoZWFkZXJzIGNvbnRhaW5pbmcgYSBgaG9zdGAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRIb3N0bmFtZShcbiAgcGFyc2VkOiB7IGhvc3RuYW1lPzogc3RyaW5nIHwgbnVsbCB9LFxuICBoZWFkZXJzPzogT3V0Z29pbmdIdHRwSGVhZGVyc1xuKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgLy8gR2V0IHRoZSBob3N0bmFtZSBmcm9tIHRoZSBoZWFkZXJzIGlmIGl0IGV4aXN0cywgb3RoZXJ3aXNlIHVzZSB0aGUgcGFyc2VkXG4gIC8vIGhvc3RuYW1lLlxuICBsZXQgaG9zdG5hbWU6IHN0cmluZ1xuICBpZiAoaGVhZGVycz8uaG9zdCAmJiAhQXJyYXkuaXNBcnJheShoZWFkZXJzLmhvc3QpKSB7XG4gICAgaG9zdG5hbWUgPSBoZWFkZXJzLmhvc3QudG9TdHJpbmcoKS5zcGxpdCgnOicsIDEpWzBdXG4gIH0gZWxzZSBpZiAocGFyc2VkLmhvc3RuYW1lKSB7XG4gICAgaG9zdG5hbWUgPSBwYXJzZWQuaG9zdG5hbWVcbiAgfSBlbHNlIHJldHVyblxuXG4gIHJldHVybiBob3N0bmFtZS50b0xvd2VyQ2FzZSgpXG59XG4iXSwibmFtZXMiOlsiZ2V0SG9zdG5hbWUiLCJwYXJzZWQiLCJoZWFkZXJzIiwiaG9zdG5hbWUiLCJob3N0IiwiQXJyYXkiLCJpc0FycmF5IiwidG9TdHJpbmciLCJzcGxpdCIsInRvTG93ZXJDYXNlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/shared/lib/get-hostname.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/shared/lib/i18n/detect-domain-locale.js":
/*!****************************************************************************!*\
  !*** ./node_modules/next/dist/esm/shared/lib/i18n/detect-domain-locale.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   detectDomainLocale: () => (/* binding */ detectDomainLocale)\n/* harmony export */ });\nfunction detectDomainLocale(domainItems, hostname, detectedLocale) {\n    if (!domainItems) return;\n    if (detectedLocale) {\n        detectedLocale = detectedLocale.toLowerCase();\n    }\n    for (const item of domainItems){\n        var _item_domain, _item_locales;\n        // remove port if present\n        const domainHostname = (_item_domain = item.domain) == null ? void 0 : _item_domain.split(':', 1)[0].toLowerCase();\n        if (hostname === domainHostname || detectedLocale === item.defaultLocale.toLowerCase() || ((_item_locales = item.locales) == null ? void 0 : _item_locales.some((locale)=>locale.toLowerCase() === detectedLocale))) {\n            return item;\n        }\n    }\n} //# sourceMappingURL=detect-domain-locale.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2hhcmVkL2xpYi9pMThuL2RldGVjdC1kb21haW4tbG9jYWxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFFTyxTQUFTQSxtQkFDZEMsV0FBcUMsRUFDckNDLFFBQWlCLEVBQ2pCQyxjQUF1QjtJQUV2QixJQUFJLENBQUNGLGFBQWE7SUFFbEIsSUFBSUUsZ0JBQWdCO1FBQ2xCQSxpQkFBaUJBLGVBQWVDLFdBQVc7SUFDN0M7SUFFQSxLQUFLLE1BQU1DLFFBQVFKLFlBQWE7WUFFUEksY0FJckJBO1FBTEYseUJBQXlCO1FBQ3pCLE1BQU1DLGlCQUFBQSxDQUFpQkQsZUFBQUEsS0FBS0UsTUFBQUEsS0FBTSxnQkFBWEYsYUFBYUcsS0FBSyxDQUFDLEtBQUssRUFBRSxDQUFDLEVBQUUsQ0FBQ0osV0FBVztRQUNoRSxJQUNFRixhQUFhSSxrQkFDYkgsbUJBQW1CRSxLQUFLSSxhQUFhLENBQUNMLFdBQVcsUUFDakRDLGdCQUFBQSxLQUFLSyxPQUFBQSxLQUFPLGdCQUFaTCxjQUFjTSxJQUFJLENBQUMsQ0FBQ0MsU0FBV0EsT0FBT1IsV0FBVyxPQUFPRCxlQUFBQSxHQUN4RDtZQUNBLE9BQU9FO1FBQ1Q7SUFDRjtBQUNGIiwic291cmNlcyI6WyJEOlxcc3JjXFxzaGFyZWRcXGxpYlxcaTE4blxcZGV0ZWN0LWRvbWFpbi1sb2NhbGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBEb21haW5Mb2NhbGUgfSBmcm9tICcuLi8uLi8uLi9zZXJ2ZXIvY29uZmlnLXNoYXJlZCdcblxuZXhwb3J0IGZ1bmN0aW9uIGRldGVjdERvbWFpbkxvY2FsZShcbiAgZG9tYWluSXRlbXM/OiByZWFkb25seSBEb21haW5Mb2NhbGVbXSxcbiAgaG9zdG5hbWU/OiBzdHJpbmcsXG4gIGRldGVjdGVkTG9jYWxlPzogc3RyaW5nXG4pIHtcbiAgaWYgKCFkb21haW5JdGVtcykgcmV0dXJuXG5cbiAgaWYgKGRldGVjdGVkTG9jYWxlKSB7XG4gICAgZGV0ZWN0ZWRMb2NhbGUgPSBkZXRlY3RlZExvY2FsZS50b0xvd2VyQ2FzZSgpXG4gIH1cblxuICBmb3IgKGNvbnN0IGl0ZW0gb2YgZG9tYWluSXRlbXMpIHtcbiAgICAvLyByZW1vdmUgcG9ydCBpZiBwcmVzZW50XG4gICAgY29uc3QgZG9tYWluSG9zdG5hbWUgPSBpdGVtLmRvbWFpbj8uc3BsaXQoJzonLCAxKVswXS50b0xvd2VyQ2FzZSgpXG4gICAgaWYgKFxuICAgICAgaG9zdG5hbWUgPT09IGRvbWFpbkhvc3RuYW1lIHx8XG4gICAgICBkZXRlY3RlZExvY2FsZSA9PT0gaXRlbS5kZWZhdWx0TG9jYWxlLnRvTG93ZXJDYXNlKCkgfHxcbiAgICAgIGl0ZW0ubG9jYWxlcz8uc29tZSgobG9jYWxlKSA9PiBsb2NhbGUudG9Mb3dlckNhc2UoKSA9PT0gZGV0ZWN0ZWRMb2NhbGUpXG4gICAgKSB7XG4gICAgICByZXR1cm4gaXRlbVxuICAgIH1cbiAgfVxufVxuIl0sIm5hbWVzIjpbImRldGVjdERvbWFpbkxvY2FsZSIsImRvbWFpbkl0ZW1zIiwiaG9zdG5hbWUiLCJkZXRlY3RlZExvY2FsZSIsInRvTG93ZXJDYXNlIiwiaXRlbSIsImRvbWFpbkhvc3RuYW1lIiwiZG9tYWluIiwic3BsaXQiLCJkZWZhdWx0TG9jYWxlIiwibG9jYWxlcyIsInNvbWUiLCJsb2NhbGUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/shared/lib/i18n/detect-domain-locale.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/shared/lib/i18n/normalize-locale-path.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/next/dist/esm/shared/lib/i18n/normalize-locale-path.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   normalizeLocalePath: () => (/* binding */ normalizeLocalePath)\n/* harmony export */ });\n/**\n * A cache of lowercased locales for each list of locales. This is stored as a\n * WeakMap so if the locales are garbage collected, the cache entry will be\n * removed as well.\n */ const cache = new WeakMap();\n/**\n * For a pathname that may include a locale from a list of locales, it\n * removes the locale from the pathname returning it alongside with the\n * detected locale.\n *\n * @param pathname A pathname that may include a locale.\n * @param locales A list of locales.\n * @returns The detected locale and pathname without locale\n */ function normalizeLocalePath(pathname, locales) {\n    // If locales is undefined, return the pathname as is.\n    if (!locales) return {\n        pathname\n    };\n    // Get the cached lowercased locales or create a new cache entry.\n    let lowercasedLocales = cache.get(locales);\n    if (!lowercasedLocales) {\n        lowercasedLocales = locales.map((locale)=>locale.toLowerCase());\n        cache.set(locales, lowercasedLocales);\n    }\n    let detectedLocale;\n    // The first segment will be empty, because it has a leading `/`. If\n    // there is no further segment, there is no locale (or it's the default).\n    const segments = pathname.split('/', 2);\n    // If there's no second segment (ie, the pathname is just `/`), there's no\n    // locale.\n    if (!segments[1]) return {\n        pathname\n    };\n    // The second segment will contain the locale part if any.\n    const segment = segments[1].toLowerCase();\n    // See if the segment matches one of the locales. If it doesn't, there is\n    // no locale (or it's the default).\n    const index = lowercasedLocales.indexOf(segment);\n    if (index < 0) return {\n        pathname\n    };\n    // Return the case-sensitive locale.\n    detectedLocale = locales[index];\n    // Remove the `/${locale}` part of the pathname.\n    pathname = pathname.slice(detectedLocale.length + 1) || '/';\n    return {\n        pathname,\n        detectedLocale\n    };\n} //# sourceMappingURL=normalize-locale-path.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2hhcmVkL2xpYi9pMThuL25vcm1hbGl6ZS1sb2NhbGUtcGF0aC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBS0E7Ozs7Q0FJQyxHQUNELE1BQU1BLFFBQVEsSUFBSUM7QUFFbEI7Ozs7Ozs7O0NBUUMsR0FDTSxTQUFTQyxvQkFDZEMsUUFBZ0IsRUFDaEJDLE9BQTJCO0lBRTNCLHNEQUFzRDtJQUN0RCxJQUFJLENBQUNBLFNBQVMsT0FBTztRQUFFRDtJQUFTO0lBRWhDLGlFQUFpRTtJQUNqRSxJQUFJRSxvQkFBb0JMLE1BQU1NLEdBQUcsQ0FBQ0Y7SUFDbEMsSUFBSSxDQUFDQyxtQkFBbUI7UUFDdEJBLG9CQUFvQkQsUUFBUUcsR0FBRyxDQUFDLENBQUNDLFNBQVdBLE9BQU9DLFdBQVc7UUFDOURULE1BQU1VLEdBQUcsQ0FBQ04sU0FBU0M7SUFDckI7SUFFQSxJQUFJTTtJQUVKLG9FQUFvRTtJQUNwRSx5RUFBeUU7SUFDekUsTUFBTUMsV0FBV1QsU0FBU1UsS0FBSyxDQUFDLEtBQUs7SUFFckMsMEVBQTBFO0lBQzFFLFVBQVU7SUFDVixJQUFJLENBQUNELFFBQVEsQ0FBQyxFQUFFLEVBQUUsT0FBTztRQUFFVDtJQUFTO0lBRXBDLDBEQUEwRDtJQUMxRCxNQUFNVyxVQUFVRixRQUFRLENBQUMsRUFBRSxDQUFDSCxXQUFXO0lBRXZDLHlFQUF5RTtJQUN6RSxtQ0FBbUM7SUFDbkMsTUFBTU0sUUFBUVYsa0JBQWtCVyxPQUFPLENBQUNGO0lBQ3hDLElBQUlDLFFBQVEsR0FBRyxPQUFPO1FBQUVaO0lBQVM7SUFFakMsb0NBQW9DO0lBQ3BDUSxpQkFBaUJQLE9BQU8sQ0FBQ1csTUFBTTtJQUUvQixnREFBZ0Q7SUFDaERaLFdBQVdBLFNBQVNjLEtBQUssQ0FBQ04sZUFBZU8sTUFBTSxHQUFHLE1BQU07SUFFeEQsT0FBTztRQUFFZjtRQUFVUTtJQUFlO0FBQ3BDIiwic291cmNlcyI6WyJEOlxcc3JjXFxzaGFyZWRcXGxpYlxcaTE4blxcbm9ybWFsaXplLWxvY2FsZS1wYXRoLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBpbnRlcmZhY2UgUGF0aExvY2FsZSB7XG4gIGRldGVjdGVkTG9jYWxlPzogc3RyaW5nXG4gIHBhdGhuYW1lOiBzdHJpbmdcbn1cblxuLyoqXG4gKiBBIGNhY2hlIG9mIGxvd2VyY2FzZWQgbG9jYWxlcyBmb3IgZWFjaCBsaXN0IG9mIGxvY2FsZXMuIFRoaXMgaXMgc3RvcmVkIGFzIGFcbiAqIFdlYWtNYXAgc28gaWYgdGhlIGxvY2FsZXMgYXJlIGdhcmJhZ2UgY29sbGVjdGVkLCB0aGUgY2FjaGUgZW50cnkgd2lsbCBiZVxuICogcmVtb3ZlZCBhcyB3ZWxsLlxuICovXG5jb25zdCBjYWNoZSA9IG5ldyBXZWFrTWFwPHJlYWRvbmx5IHN0cmluZ1tdLCByZWFkb25seSBzdHJpbmdbXT4oKVxuXG4vKipcbiAqIEZvciBhIHBhdGhuYW1lIHRoYXQgbWF5IGluY2x1ZGUgYSBsb2NhbGUgZnJvbSBhIGxpc3Qgb2YgbG9jYWxlcywgaXRcbiAqIHJlbW92ZXMgdGhlIGxvY2FsZSBmcm9tIHRoZSBwYXRobmFtZSByZXR1cm5pbmcgaXQgYWxvbmdzaWRlIHdpdGggdGhlXG4gKiBkZXRlY3RlZCBsb2NhbGUuXG4gKlxuICogQHBhcmFtIHBhdGhuYW1lIEEgcGF0aG5hbWUgdGhhdCBtYXkgaW5jbHVkZSBhIGxvY2FsZS5cbiAqIEBwYXJhbSBsb2NhbGVzIEEgbGlzdCBvZiBsb2NhbGVzLlxuICogQHJldHVybnMgVGhlIGRldGVjdGVkIGxvY2FsZSBhbmQgcGF0aG5hbWUgd2l0aG91dCBsb2NhbGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZUxvY2FsZVBhdGgoXG4gIHBhdGhuYW1lOiBzdHJpbmcsXG4gIGxvY2FsZXM/OiByZWFkb25seSBzdHJpbmdbXVxuKTogUGF0aExvY2FsZSB7XG4gIC8vIElmIGxvY2FsZXMgaXMgdW5kZWZpbmVkLCByZXR1cm4gdGhlIHBhdGhuYW1lIGFzIGlzLlxuICBpZiAoIWxvY2FsZXMpIHJldHVybiB7IHBhdGhuYW1lIH1cblxuICAvLyBHZXQgdGhlIGNhY2hlZCBsb3dlcmNhc2VkIGxvY2FsZXMgb3IgY3JlYXRlIGEgbmV3IGNhY2hlIGVudHJ5LlxuICBsZXQgbG93ZXJjYXNlZExvY2FsZXMgPSBjYWNoZS5nZXQobG9jYWxlcylcbiAgaWYgKCFsb3dlcmNhc2VkTG9jYWxlcykge1xuICAgIGxvd2VyY2FzZWRMb2NhbGVzID0gbG9jYWxlcy5tYXAoKGxvY2FsZSkgPT4gbG9jYWxlLnRvTG93ZXJDYXNlKCkpXG4gICAgY2FjaGUuc2V0KGxvY2FsZXMsIGxvd2VyY2FzZWRMb2NhbGVzKVxuICB9XG5cbiAgbGV0IGRldGVjdGVkTG9jYWxlOiBzdHJpbmcgfCB1bmRlZmluZWRcblxuICAvLyBUaGUgZmlyc3Qgc2VnbWVudCB3aWxsIGJlIGVtcHR5LCBiZWNhdXNlIGl0IGhhcyBhIGxlYWRpbmcgYC9gLiBJZlxuICAvLyB0aGVyZSBpcyBubyBmdXJ0aGVyIHNlZ21lbnQsIHRoZXJlIGlzIG5vIGxvY2FsZSAob3IgaXQncyB0aGUgZGVmYXVsdCkuXG4gIGNvbnN0IHNlZ21lbnRzID0gcGF0aG5hbWUuc3BsaXQoJy8nLCAyKVxuXG4gIC8vIElmIHRoZXJlJ3Mgbm8gc2Vjb25kIHNlZ21lbnQgKGllLCB0aGUgcGF0aG5hbWUgaXMganVzdCBgL2ApLCB0aGVyZSdzIG5vXG4gIC8vIGxvY2FsZS5cbiAgaWYgKCFzZWdtZW50c1sxXSkgcmV0dXJuIHsgcGF0aG5hbWUgfVxuXG4gIC8vIFRoZSBzZWNvbmQgc2VnbWVudCB3aWxsIGNvbnRhaW4gdGhlIGxvY2FsZSBwYXJ0IGlmIGFueS5cbiAgY29uc3Qgc2VnbWVudCA9IHNlZ21lbnRzWzFdLnRvTG93ZXJDYXNlKClcblxuICAvLyBTZWUgaWYgdGhlIHNlZ21lbnQgbWF0Y2hlcyBvbmUgb2YgdGhlIGxvY2FsZXMuIElmIGl0IGRvZXNuJ3QsIHRoZXJlIGlzXG4gIC8vIG5vIGxvY2FsZSAob3IgaXQncyB0aGUgZGVmYXVsdCkuXG4gIGNvbnN0IGluZGV4ID0gbG93ZXJjYXNlZExvY2FsZXMuaW5kZXhPZihzZWdtZW50KVxuICBpZiAoaW5kZXggPCAwKSByZXR1cm4geyBwYXRobmFtZSB9XG5cbiAgLy8gUmV0dXJuIHRoZSBjYXNlLXNlbnNpdGl2ZSBsb2NhbGUuXG4gIGRldGVjdGVkTG9jYWxlID0gbG9jYWxlc1tpbmRleF1cblxuICAvLyBSZW1vdmUgdGhlIGAvJHtsb2NhbGV9YCBwYXJ0IG9mIHRoZSBwYXRobmFtZS5cbiAgcGF0aG5hbWUgPSBwYXRobmFtZS5zbGljZShkZXRlY3RlZExvY2FsZS5sZW5ndGggKyAxKSB8fCAnLydcblxuICByZXR1cm4geyBwYXRobmFtZSwgZGV0ZWN0ZWRMb2NhbGUgfVxufVxuIl0sIm5hbWVzIjpbImNhY2hlIiwiV2Vha01hcCIsIm5vcm1hbGl6ZUxvY2FsZVBhdGgiLCJwYXRobmFtZSIsImxvY2FsZXMiLCJsb3dlcmNhc2VkTG9jYWxlcyIsImdldCIsIm1hcCIsImxvY2FsZSIsInRvTG93ZXJDYXNlIiwic2V0IiwiZGV0ZWN0ZWRMb2NhbGUiLCJzZWdtZW50cyIsInNwbGl0Iiwic2VnbWVudCIsImluZGV4IiwiaW5kZXhPZiIsInNsaWNlIiwibGVuZ3RoIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/shared/lib/i18n/normalize-locale-path.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/shared/lib/invariant-error.js":
/*!******************************************************************!*\
  !*** ./node_modules/next/dist/esm/shared/lib/invariant-error.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InvariantError: () => (/* binding */ InvariantError)\n/* harmony export */ });\nclass InvariantError extends Error {\n    constructor(message, options){\n        super(\"Invariant: \" + (message.endsWith('.') ? message : message + '.') + \" This is a bug in Next.js.\", options);\n        this.name = 'InvariantError';\n    }\n} //# sourceMappingURL=invariant-error.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2hhcmVkL2xpYi9pbnZhcmlhbnQtZXJyb3IuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPLE1BQU1BLHVCQUF1QkM7SUFDbENDLFlBQVlDLE9BQWUsRUFBRUMsT0FBc0IsQ0FBRTtRQUNuRCxLQUFLLENBQ0YsZ0JBQWFELENBQUFBLFFBQVFFLFFBQVEsQ0FBQyxPQUFPRixVQUFVQSxVQUFVLElBQUUsR0FBRSw4QkFDOURDO1FBRUYsSUFBSSxDQUFDRSxJQUFJLEdBQUc7SUFDZDtBQUNGIiwic291cmNlcyI6WyJEOlxcc3JjXFxzaGFyZWRcXGxpYlxcaW52YXJpYW50LWVycm9yLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBJbnZhcmlhbnRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IobWVzc2FnZTogc3RyaW5nLCBvcHRpb25zPzogRXJyb3JPcHRpb25zKSB7XG4gICAgc3VwZXIoXG4gICAgICBgSW52YXJpYW50OiAke21lc3NhZ2UuZW5kc1dpdGgoJy4nKSA/IG1lc3NhZ2UgOiBtZXNzYWdlICsgJy4nfSBUaGlzIGlzIGEgYnVnIGluIE5leHQuanMuYCxcbiAgICAgIG9wdGlvbnNcbiAgICApXG4gICAgdGhpcy5uYW1lID0gJ0ludmFyaWFudEVycm9yJ1xuICB9XG59XG4iXSwibmFtZXMiOlsiSW52YXJpYW50RXJyb3IiLCJFcnJvciIsImNvbnN0cnVjdG9yIiwibWVzc2FnZSIsIm9wdGlvbnMiLCJlbmRzV2l0aCIsIm5hbWUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/shared/lib/invariant-error.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/shared/lib/is-thenable.js":
/*!**************************************************************!*\
  !*** ./node_modules/next/dist/esm/shared/lib/is-thenable.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isThenable: () => (/* binding */ isThenable)\n/* harmony export */ });\n/**\n * Check to see if a value is Thenable.\n *\n * @param promise the maybe-thenable value\n * @returns true if the value is thenable\n */ function isThenable(promise) {\n    return promise !== null && typeof promise === 'object' && 'then' in promise && typeof promise.then === 'function';\n} //# sourceMappingURL=is-thenable.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2hhcmVkL2xpYi9pcy10aGVuYWJsZS5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7Ozs7O0NBS0MsR0FDTSxTQUFTQSxXQUNkQyxPQUF1QjtJQUV2QixPQUNFQSxZQUFZLFFBQ1osT0FBT0EsWUFBWSxZQUNuQixVQUFVQSxXQUNWLE9BQU9BLFFBQVFDLElBQUksS0FBSztBQUU1QiIsInNvdXJjZXMiOlsiRDpcXHNyY1xcc2hhcmVkXFxsaWJcXGlzLXRoZW5hYmxlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ2hlY2sgdG8gc2VlIGlmIGEgdmFsdWUgaXMgVGhlbmFibGUuXG4gKlxuICogQHBhcmFtIHByb21pc2UgdGhlIG1heWJlLXRoZW5hYmxlIHZhbHVlXG4gKiBAcmV0dXJucyB0cnVlIGlmIHRoZSB2YWx1ZSBpcyB0aGVuYWJsZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNUaGVuYWJsZTxUID0gdW5rbm93bj4oXG4gIHByb21pc2U6IFByb21pc2U8VD4gfCBUXG4pOiBwcm9taXNlIGlzIFByb21pc2U8VD4ge1xuICByZXR1cm4gKFxuICAgIHByb21pc2UgIT09IG51bGwgJiZcbiAgICB0eXBlb2YgcHJvbWlzZSA9PT0gJ29iamVjdCcgJiZcbiAgICAndGhlbicgaW4gcHJvbWlzZSAmJlxuICAgIHR5cGVvZiBwcm9taXNlLnRoZW4gPT09ICdmdW5jdGlvbidcbiAgKVxufVxuIl0sIm5hbWVzIjpbImlzVGhlbmFibGUiLCJwcm9taXNlIiwidGhlbiJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/shared/lib/is-thenable.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/shared/lib/lazy-dynamic/bailout-to-csr.js":
/*!******************************************************************************!*\
  !*** ./node_modules/next/dist/esm/shared/lib/lazy-dynamic/bailout-to-csr.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BailoutToCSRError: () => (/* binding */ BailoutToCSRError),\n/* harmony export */   isBailoutToCSRError: () => (/* binding */ isBailoutToCSRError)\n/* harmony export */ });\n// This has to be a shared module which is shared between client component error boundary and dynamic component\nconst BAILOUT_TO_CSR = 'BAILOUT_TO_CLIENT_SIDE_RENDERING';\n/** An error that should be thrown when we want to bail out to client-side rendering. */ class BailoutToCSRError extends Error {\n    constructor(reason){\n        super(\"Bail out to client-side rendering: \" + reason), this.reason = reason, this.digest = BAILOUT_TO_CSR;\n    }\n}\n/** Checks if a passed argument is an error that is thrown if we want to bail out to client-side rendering. */ function isBailoutToCSRError(err) {\n    if (typeof err !== 'object' || err === null || !('digest' in err)) {\n        return false;\n    }\n    return err.digest === BAILOUT_TO_CSR;\n} //# sourceMappingURL=bailout-to-csr.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2hhcmVkL2xpYi9sYXp5LWR5bmFtaWMvYmFpbG91dC10by1jc3IuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSwrR0FBK0c7QUFDL0csTUFBTUEsaUJBQWlCO0FBRXZCLHNGQUFzRixHQUMvRSxNQUFNQywwQkFBMEJDO0lBR3JDQyxZQUE0QkMsTUFBYyxDQUFFO1FBQzFDLEtBQUssQ0FBRSx3Q0FBcUNBLFNBQUFBLElBQUFBLENBRGxCQSxNQUFBQSxHQUFBQSxRQUFBQSxJQUFBQSxDQUZaQyxNQUFBQSxHQUFTTDtJQUl6QjtBQUNGO0FBRUEsNEdBQTRHLEdBQ3JHLFNBQVNNLG9CQUFvQkMsR0FBWTtJQUM5QyxJQUFJLE9BQU9BLFFBQVEsWUFBWUEsUUFBUSxRQUFRLENBQUUsYUFBWUEsR0FBQUEsQ0FBRSxFQUFJO1FBQ2pFLE9BQU87SUFDVDtJQUVBLE9BQU9BLElBQUlGLE1BQU0sS0FBS0w7QUFDeEIiLCJzb3VyY2VzIjpbIkQ6XFxzcmNcXHNoYXJlZFxcbGliXFxsYXp5LWR5bmFtaWNcXGJhaWxvdXQtdG8tY3NyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoaXMgaGFzIHRvIGJlIGEgc2hhcmVkIG1vZHVsZSB3aGljaCBpcyBzaGFyZWQgYmV0d2VlbiBjbGllbnQgY29tcG9uZW50IGVycm9yIGJvdW5kYXJ5IGFuZCBkeW5hbWljIGNvbXBvbmVudFxuY29uc3QgQkFJTE9VVF9UT19DU1IgPSAnQkFJTE9VVF9UT19DTElFTlRfU0lERV9SRU5ERVJJTkcnXG5cbi8qKiBBbiBlcnJvciB0aGF0IHNob3VsZCBiZSB0aHJvd24gd2hlbiB3ZSB3YW50IHRvIGJhaWwgb3V0IHRvIGNsaWVudC1zaWRlIHJlbmRlcmluZy4gKi9cbmV4cG9ydCBjbGFzcyBCYWlsb3V0VG9DU1JFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgcHVibGljIHJlYWRvbmx5IGRpZ2VzdCA9IEJBSUxPVVRfVE9fQ1NSXG5cbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IHJlYXNvbjogc3RyaW5nKSB7XG4gICAgc3VwZXIoYEJhaWwgb3V0IHRvIGNsaWVudC1zaWRlIHJlbmRlcmluZzogJHtyZWFzb259YClcbiAgfVxufVxuXG4vKiogQ2hlY2tzIGlmIGEgcGFzc2VkIGFyZ3VtZW50IGlzIGFuIGVycm9yIHRoYXQgaXMgdGhyb3duIGlmIHdlIHdhbnQgdG8gYmFpbCBvdXQgdG8gY2xpZW50LXNpZGUgcmVuZGVyaW5nLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQmFpbG91dFRvQ1NSRXJyb3IoZXJyOiB1bmtub3duKTogZXJyIGlzIEJhaWxvdXRUb0NTUkVycm9yIHtcbiAgaWYgKHR5cGVvZiBlcnIgIT09ICdvYmplY3QnIHx8IGVyciA9PT0gbnVsbCB8fCAhKCdkaWdlc3QnIGluIGVycikpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIHJldHVybiBlcnIuZGlnZXN0ID09PSBCQUlMT1VUX1RPX0NTUlxufVxuIl0sIm5hbWVzIjpbIkJBSUxPVVRfVE9fQ1NSIiwiQmFpbG91dFRvQ1NSRXJyb3IiLCJFcnJvciIsImNvbnN0cnVjdG9yIiwicmVhc29uIiwiZGlnZXN0IiwiaXNCYWlsb3V0VG9DU1JFcnJvciIsImVyciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/shared/lib/lazy-dynamic/bailout-to-csr.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/shared/lib/page-path/ensure-leading-slash.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/next/dist/esm/shared/lib/page-path/ensure-leading-slash.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ensureLeadingSlash: () => (/* binding */ ensureLeadingSlash)\n/* harmony export */ });\n/**\n * For a given page path, this function ensures that there is a leading slash.\n * If there is not a leading slash, one is added, otherwise it is noop.\n */ function ensureLeadingSlash(path) {\n    return path.startsWith('/') ? path : \"/\" + path;\n} //# sourceMappingURL=ensure-leading-slash.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2hhcmVkL2xpYi9wYWdlLXBhdGgvZW5zdXJlLWxlYWRpbmctc2xhc2guanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBOzs7Q0FHQyxHQUNNLFNBQVNBLG1CQUFtQkMsSUFBWTtJQUM3QyxPQUFPQSxLQUFLQyxVQUFVLENBQUMsT0FBT0QsT0FBUSxNQUFHQTtBQUMzQyIsInNvdXJjZXMiOlsiRDpcXHNyY1xcc2hhcmVkXFxsaWJcXHBhZ2UtcGF0aFxcZW5zdXJlLWxlYWRpbmctc2xhc2gudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBGb3IgYSBnaXZlbiBwYWdlIHBhdGgsIHRoaXMgZnVuY3Rpb24gZW5zdXJlcyB0aGF0IHRoZXJlIGlzIGEgbGVhZGluZyBzbGFzaC5cbiAqIElmIHRoZXJlIGlzIG5vdCBhIGxlYWRpbmcgc2xhc2gsIG9uZSBpcyBhZGRlZCwgb3RoZXJ3aXNlIGl0IGlzIG5vb3AuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbnN1cmVMZWFkaW5nU2xhc2gocGF0aDogc3RyaW5nKSB7XG4gIHJldHVybiBwYXRoLnN0YXJ0c1dpdGgoJy8nKSA/IHBhdGggOiBgLyR7cGF0aH1gXG59XG4iXSwibmFtZXMiOlsiZW5zdXJlTGVhZGluZ1NsYXNoIiwicGF0aCIsInN0YXJ0c1dpdGgiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/shared/lib/page-path/ensure-leading-slash.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/shared/lib/router/utils/add-locale.js":
/*!**************************************************************************!*\
  !*** ./node_modules/next/dist/esm/shared/lib/router/utils/add-locale.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addLocale: () => (/* binding */ addLocale)\n/* harmony export */ });\n/* harmony import */ var _add_path_prefix__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./add-path-prefix */ \"(middleware)/./node_modules/next/dist/esm/shared/lib/router/utils/add-path-prefix.js\");\n/* harmony import */ var _path_has_prefix__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./path-has-prefix */ \"(middleware)/./node_modules/next/dist/esm/shared/lib/router/utils/path-has-prefix.js\");\n\n\n/**\n * For a given path and a locale, if the locale is given, it will prefix the\n * locale. The path shouldn't be an API path. If a default locale is given the\n * prefix will be omitted if the locale is already the default locale.\n */ function addLocale(path, locale, defaultLocale, ignorePrefix) {\n    // If no locale was given or the locale is the default locale, we don't need\n    // to prefix the path.\n    if (!locale || locale === defaultLocale) return path;\n    const lower = path.toLowerCase();\n    // If the path is an API path or the path already has the locale prefix, we\n    // don't need to prefix the path.\n    if (!ignorePrefix) {\n        if ((0,_path_has_prefix__WEBPACK_IMPORTED_MODULE_1__.pathHasPrefix)(lower, '/api')) return path;\n        if ((0,_path_has_prefix__WEBPACK_IMPORTED_MODULE_1__.pathHasPrefix)(lower, \"/\" + locale.toLowerCase())) return path;\n    }\n    // Add the locale prefix to the path.\n    return (0,_add_path_prefix__WEBPACK_IMPORTED_MODULE_0__.addPathPrefix)(path, \"/\" + locale);\n} //# sourceMappingURL=add-locale.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2hhcmVkL2xpYi9yb3V0ZXIvdXRpbHMvYWRkLWxvY2FsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBaUQ7QUFDQTtBQUVqRDs7OztDQUlDLEdBQ00sU0FBU0UsVUFDZEMsSUFBWSxFQUNaQyxNQUF1QixFQUN2QkMsYUFBc0IsRUFDdEJDLFlBQXNCO0lBRXRCLDRFQUE0RTtJQUM1RSxzQkFBc0I7SUFDdEIsSUFBSSxDQUFDRixVQUFVQSxXQUFXQyxlQUFlLE9BQU9GO0lBRWhELE1BQU1JLFFBQVFKLEtBQUtLLFdBQVc7SUFFOUIsMkVBQTJFO0lBQzNFLGlDQUFpQztJQUNqQyxJQUFJLENBQUNGLGNBQWM7UUFDakIsSUFBSUwsK0RBQWFBLENBQUNNLE9BQU8sU0FBUyxPQUFPSjtRQUN6QyxJQUFJRiwrREFBYUEsQ0FBQ00sT0FBUSxNQUFHSCxPQUFPSSxXQUFXLEtBQU8sT0FBT0w7SUFDL0Q7SUFFQSxxQ0FBcUM7SUFDckMsT0FBT0gsK0RBQWFBLENBQUNHLE1BQU8sTUFBR0M7QUFDakMiLCJzb3VyY2VzIjpbIkQ6XFxzcmNcXHNoYXJlZFxcbGliXFxyb3V0ZXJcXHV0aWxzXFxhZGQtbG9jYWxlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFkZFBhdGhQcmVmaXggfSBmcm9tICcuL2FkZC1wYXRoLXByZWZpeCdcbmltcG9ydCB7IHBhdGhIYXNQcmVmaXggfSBmcm9tICcuL3BhdGgtaGFzLXByZWZpeCdcblxuLyoqXG4gKiBGb3IgYSBnaXZlbiBwYXRoIGFuZCBhIGxvY2FsZSwgaWYgdGhlIGxvY2FsZSBpcyBnaXZlbiwgaXQgd2lsbCBwcmVmaXggdGhlXG4gKiBsb2NhbGUuIFRoZSBwYXRoIHNob3VsZG4ndCBiZSBhbiBBUEkgcGF0aC4gSWYgYSBkZWZhdWx0IGxvY2FsZSBpcyBnaXZlbiB0aGVcbiAqIHByZWZpeCB3aWxsIGJlIG9taXR0ZWQgaWYgdGhlIGxvY2FsZSBpcyBhbHJlYWR5IHRoZSBkZWZhdWx0IGxvY2FsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZExvY2FsZShcbiAgcGF0aDogc3RyaW5nLFxuICBsb2NhbGU/OiBzdHJpbmcgfCBmYWxzZSxcbiAgZGVmYXVsdExvY2FsZT86IHN0cmluZyxcbiAgaWdub3JlUHJlZml4PzogYm9vbGVhblxuKSB7XG4gIC8vIElmIG5vIGxvY2FsZSB3YXMgZ2l2ZW4gb3IgdGhlIGxvY2FsZSBpcyB0aGUgZGVmYXVsdCBsb2NhbGUsIHdlIGRvbid0IG5lZWRcbiAgLy8gdG8gcHJlZml4IHRoZSBwYXRoLlxuICBpZiAoIWxvY2FsZSB8fCBsb2NhbGUgPT09IGRlZmF1bHRMb2NhbGUpIHJldHVybiBwYXRoXG5cbiAgY29uc3QgbG93ZXIgPSBwYXRoLnRvTG93ZXJDYXNlKClcblxuICAvLyBJZiB0aGUgcGF0aCBpcyBhbiBBUEkgcGF0aCBvciB0aGUgcGF0aCBhbHJlYWR5IGhhcyB0aGUgbG9jYWxlIHByZWZpeCwgd2VcbiAgLy8gZG9uJ3QgbmVlZCB0byBwcmVmaXggdGhlIHBhdGguXG4gIGlmICghaWdub3JlUHJlZml4KSB7XG4gICAgaWYgKHBhdGhIYXNQcmVmaXgobG93ZXIsICcvYXBpJykpIHJldHVybiBwYXRoXG4gICAgaWYgKHBhdGhIYXNQcmVmaXgobG93ZXIsIGAvJHtsb2NhbGUudG9Mb3dlckNhc2UoKX1gKSkgcmV0dXJuIHBhdGhcbiAgfVxuXG4gIC8vIEFkZCB0aGUgbG9jYWxlIHByZWZpeCB0byB0aGUgcGF0aC5cbiAgcmV0dXJuIGFkZFBhdGhQcmVmaXgocGF0aCwgYC8ke2xvY2FsZX1gKVxufVxuIl0sIm5hbWVzIjpbImFkZFBhdGhQcmVmaXgiLCJwYXRoSGFzUHJlZml4IiwiYWRkTG9jYWxlIiwicGF0aCIsImxvY2FsZSIsImRlZmF1bHRMb2NhbGUiLCJpZ25vcmVQcmVmaXgiLCJsb3dlciIsInRvTG93ZXJDYXNlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/shared/lib/router/utils/add-locale.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/shared/lib/router/utils/add-path-prefix.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/next/dist/esm/shared/lib/router/utils/add-path-prefix.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addPathPrefix: () => (/* binding */ addPathPrefix)\n/* harmony export */ });\n/* harmony import */ var _parse_path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parse-path */ \"(middleware)/./node_modules/next/dist/esm/shared/lib/router/utils/parse-path.js\");\n\n/**\n * Adds the provided prefix to the given path. It first ensures that the path\n * is indeed starting with a slash.\n */ function addPathPrefix(path, prefix) {\n    if (!path.startsWith('/') || !prefix) {\n        return path;\n    }\n    const { pathname, query, hash } = (0,_parse_path__WEBPACK_IMPORTED_MODULE_0__.parsePath)(path);\n    return \"\" + prefix + pathname + query + hash;\n} //# sourceMappingURL=add-path-prefix.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2hhcmVkL2xpYi9yb3V0ZXIvdXRpbHMvYWRkLXBhdGgtcHJlZml4LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXdDO0FBRXhDOzs7Q0FHQyxHQUNNLFNBQVNDLGNBQWNDLElBQVksRUFBRUMsTUFBZTtJQUN6RCxJQUFJLENBQUNELEtBQUtFLFVBQVUsQ0FBQyxRQUFRLENBQUNELFFBQVE7UUFDcEMsT0FBT0Q7SUFDVDtJQUVBLE1BQU0sRUFBRUcsUUFBUSxFQUFFQyxLQUFLLEVBQUVDLElBQUksRUFBRSxHQUFHUCxzREFBU0EsQ0FBQ0U7SUFDNUMsT0FBUSxLQUFFQyxTQUFTRSxXQUFXQyxRQUFRQztBQUN4QyIsInNvdXJjZXMiOlsiRDpcXHNyY1xcc2hhcmVkXFxsaWJcXHJvdXRlclxcdXRpbHNcXGFkZC1wYXRoLXByZWZpeC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwYXJzZVBhdGggfSBmcm9tICcuL3BhcnNlLXBhdGgnXG5cbi8qKlxuICogQWRkcyB0aGUgcHJvdmlkZWQgcHJlZml4IHRvIHRoZSBnaXZlbiBwYXRoLiBJdCBmaXJzdCBlbnN1cmVzIHRoYXQgdGhlIHBhdGhcbiAqIGlzIGluZGVlZCBzdGFydGluZyB3aXRoIGEgc2xhc2guXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRQYXRoUHJlZml4KHBhdGg6IHN0cmluZywgcHJlZml4Pzogc3RyaW5nKSB7XG4gIGlmICghcGF0aC5zdGFydHNXaXRoKCcvJykgfHwgIXByZWZpeCkge1xuICAgIHJldHVybiBwYXRoXG4gIH1cblxuICBjb25zdCB7IHBhdGhuYW1lLCBxdWVyeSwgaGFzaCB9ID0gcGFyc2VQYXRoKHBhdGgpXG4gIHJldHVybiBgJHtwcmVmaXh9JHtwYXRobmFtZX0ke3F1ZXJ5fSR7aGFzaH1gXG59XG4iXSwibmFtZXMiOlsicGFyc2VQYXRoIiwiYWRkUGF0aFByZWZpeCIsInBhdGgiLCJwcmVmaXgiLCJzdGFydHNXaXRoIiwicGF0aG5hbWUiLCJxdWVyeSIsImhhc2giXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/shared/lib/router/utils/add-path-prefix.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/shared/lib/router/utils/add-path-suffix.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/next/dist/esm/shared/lib/router/utils/add-path-suffix.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addPathSuffix: () => (/* binding */ addPathSuffix)\n/* harmony export */ });\n/* harmony import */ var _parse_path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parse-path */ \"(middleware)/./node_modules/next/dist/esm/shared/lib/router/utils/parse-path.js\");\n\n/**\n * Similarly to `addPathPrefix`, this function adds a suffix at the end on the\n * provided path. It also works only for paths ensuring the argument starts\n * with a slash.\n */ function addPathSuffix(path, suffix) {\n    if (!path.startsWith('/') || !suffix) {\n        return path;\n    }\n    const { pathname, query, hash } = (0,_parse_path__WEBPACK_IMPORTED_MODULE_0__.parsePath)(path);\n    return \"\" + pathname + suffix + query + hash;\n} //# sourceMappingURL=add-path-suffix.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2hhcmVkL2xpYi9yb3V0ZXIvdXRpbHMvYWRkLXBhdGgtc3VmZml4LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXdDO0FBRXhDOzs7O0NBSUMsR0FDTSxTQUFTQyxjQUFjQyxJQUFZLEVBQUVDLE1BQWU7SUFDekQsSUFBSSxDQUFDRCxLQUFLRSxVQUFVLENBQUMsUUFBUSxDQUFDRCxRQUFRO1FBQ3BDLE9BQU9EO0lBQ1Q7SUFFQSxNQUFNLEVBQUVHLFFBQVEsRUFBRUMsS0FBSyxFQUFFQyxJQUFJLEVBQUUsR0FBR1Asc0RBQVNBLENBQUNFO0lBQzVDLE9BQVEsS0FBRUcsV0FBV0YsU0FBU0csUUFBUUM7QUFDeEMiLCJzb3VyY2VzIjpbIkQ6XFxzcmNcXHNoYXJlZFxcbGliXFxyb3V0ZXJcXHV0aWxzXFxhZGQtcGF0aC1zdWZmaXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcGFyc2VQYXRoIH0gZnJvbSAnLi9wYXJzZS1wYXRoJ1xuXG4vKipcbiAqIFNpbWlsYXJseSB0byBgYWRkUGF0aFByZWZpeGAsIHRoaXMgZnVuY3Rpb24gYWRkcyBhIHN1ZmZpeCBhdCB0aGUgZW5kIG9uIHRoZVxuICogcHJvdmlkZWQgcGF0aC4gSXQgYWxzbyB3b3JrcyBvbmx5IGZvciBwYXRocyBlbnN1cmluZyB0aGUgYXJndW1lbnQgc3RhcnRzXG4gKiB3aXRoIGEgc2xhc2guXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRQYXRoU3VmZml4KHBhdGg6IHN0cmluZywgc3VmZml4Pzogc3RyaW5nKSB7XG4gIGlmICghcGF0aC5zdGFydHNXaXRoKCcvJykgfHwgIXN1ZmZpeCkge1xuICAgIHJldHVybiBwYXRoXG4gIH1cblxuICBjb25zdCB7IHBhdGhuYW1lLCBxdWVyeSwgaGFzaCB9ID0gcGFyc2VQYXRoKHBhdGgpXG4gIHJldHVybiBgJHtwYXRobmFtZX0ke3N1ZmZpeH0ke3F1ZXJ5fSR7aGFzaH1gXG59XG4iXSwibmFtZXMiOlsicGFyc2VQYXRoIiwiYWRkUGF0aFN1ZmZpeCIsInBhdGgiLCJzdWZmaXgiLCJzdGFydHNXaXRoIiwicGF0aG5hbWUiLCJxdWVyeSIsImhhc2giXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/shared/lib/router/utils/add-path-suffix.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/shared/lib/router/utils/app-paths.js":
/*!*************************************************************************!*\
  !*** ./node_modules/next/dist/esm/shared/lib/router/utils/app-paths.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   normalizeAppPath: () => (/* binding */ normalizeAppPath),\n/* harmony export */   normalizeRscURL: () => (/* binding */ normalizeRscURL)\n/* harmony export */ });\n/* harmony import */ var _page_path_ensure_leading_slash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../page-path/ensure-leading-slash */ \"(middleware)/./node_modules/next/dist/esm/shared/lib/page-path/ensure-leading-slash.js\");\n/* harmony import */ var _segment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../segment */ \"(middleware)/./node_modules/next/dist/esm/shared/lib/segment.js\");\n\n\n/**\n * Normalizes an app route so it represents the actual request path. Essentially\n * performing the following transformations:\n *\n * - `/(dashboard)/user/[id]/page` to `/user/[id]`\n * - `/(dashboard)/account/page` to `/account`\n * - `/user/[id]/page` to `/user/[id]`\n * - `/account/page` to `/account`\n * - `/page` to `/`\n * - `/(dashboard)/user/[id]/route` to `/user/[id]`\n * - `/(dashboard)/account/route` to `/account`\n * - `/user/[id]/route` to `/user/[id]`\n * - `/account/route` to `/account`\n * - `/route` to `/`\n * - `/` to `/`\n *\n * @param route the app route to normalize\n * @returns the normalized pathname\n */ function normalizeAppPath(route) {\n    return (0,_page_path_ensure_leading_slash__WEBPACK_IMPORTED_MODULE_0__.ensureLeadingSlash)(route.split('/').reduce((pathname, segment, index, segments)=>{\n        // Empty segments are ignored.\n        if (!segment) {\n            return pathname;\n        }\n        // Groups are ignored.\n        if ((0,_segment__WEBPACK_IMPORTED_MODULE_1__.isGroupSegment)(segment)) {\n            return pathname;\n        }\n        // Parallel segments are ignored.\n        if (segment[0] === '@') {\n            return pathname;\n        }\n        // The last segment (if it's a leaf) should be ignored.\n        if ((segment === 'page' || segment === 'route') && index === segments.length - 1) {\n            return pathname;\n        }\n        return pathname + \"/\" + segment;\n    }, ''));\n}\n/**\n * Strips the `.rsc` extension if it's in the pathname.\n * Since this function is used on full urls it checks `?` for searchParams handling.\n */ function normalizeRscURL(url) {\n    return url.replace(/\\.rsc($|\\?)/, '$1');\n} //# sourceMappingURL=app-paths.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2hhcmVkL2xpYi9yb3V0ZXIvdXRpbHMvYXBwLXBhdGhzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBeUU7QUFDM0I7QUFFOUM7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQWtCQyxHQUNNLFNBQVNFLGlCQUFpQkMsS0FBYTtJQUM1QyxPQUFPSCxtRkFBa0JBLENBQ3ZCRyxNQUFNQyxLQUFLLENBQUMsS0FBS0MsTUFBTSxDQUFDLENBQUNDLFVBQVVDLFNBQVNDLE9BQU9DO1FBQ2pELDhCQUE4QjtRQUM5QixJQUFJLENBQUNGLFNBQVM7WUFDWixPQUFPRDtRQUNUO1FBRUEsc0JBQXNCO1FBQ3RCLElBQUlMLHdEQUFjQSxDQUFDTSxVQUFVO1lBQzNCLE9BQU9EO1FBQ1Q7UUFFQSxpQ0FBaUM7UUFDakMsSUFBSUMsT0FBTyxDQUFDLEVBQUUsS0FBSyxLQUFLO1lBQ3RCLE9BQU9EO1FBQ1Q7UUFFQSx1REFBdUQ7UUFDdkQsSUFDR0MsQ0FBQUEsWUFBWSxVQUFVQSxZQUFZLFFBQU0sSUFDekNDLFVBQVVDLFNBQVNDLE1BQU0sR0FBRyxHQUM1QjtZQUNBLE9BQU9KO1FBQ1Q7UUFFQSxPQUFVQSxXQUFTLE1BQUdDO0lBQ3hCLEdBQUc7QUFFUDtBQUVBOzs7Q0FHQyxHQUNNLFNBQVNJLGdCQUFnQkMsR0FBVztJQUN6QyxPQUFPQSxJQUFJQyxPQUFPLENBQ2hCLGVBQ0E7QUFHSiIsInNvdXJjZXMiOlsiRDpcXHNyY1xcc2hhcmVkXFxsaWJcXHJvdXRlclxcdXRpbHNcXGFwcC1wYXRocy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBlbnN1cmVMZWFkaW5nU2xhc2ggfSBmcm9tICcuLi8uLi9wYWdlLXBhdGgvZW5zdXJlLWxlYWRpbmctc2xhc2gnXG5pbXBvcnQgeyBpc0dyb3VwU2VnbWVudCB9IGZyb20gJy4uLy4uL3NlZ21lbnQnXG5cbi8qKlxuICogTm9ybWFsaXplcyBhbiBhcHAgcm91dGUgc28gaXQgcmVwcmVzZW50cyB0aGUgYWN0dWFsIHJlcXVlc3QgcGF0aC4gRXNzZW50aWFsbHlcbiAqIHBlcmZvcm1pbmcgdGhlIGZvbGxvd2luZyB0cmFuc2Zvcm1hdGlvbnM6XG4gKlxuICogLSBgLyhkYXNoYm9hcmQpL3VzZXIvW2lkXS9wYWdlYCB0byBgL3VzZXIvW2lkXWBcbiAqIC0gYC8oZGFzaGJvYXJkKS9hY2NvdW50L3BhZ2VgIHRvIGAvYWNjb3VudGBcbiAqIC0gYC91c2VyL1tpZF0vcGFnZWAgdG8gYC91c2VyL1tpZF1gXG4gKiAtIGAvYWNjb3VudC9wYWdlYCB0byBgL2FjY291bnRgXG4gKiAtIGAvcGFnZWAgdG8gYC9gXG4gKiAtIGAvKGRhc2hib2FyZCkvdXNlci9baWRdL3JvdXRlYCB0byBgL3VzZXIvW2lkXWBcbiAqIC0gYC8oZGFzaGJvYXJkKS9hY2NvdW50L3JvdXRlYCB0byBgL2FjY291bnRgXG4gKiAtIGAvdXNlci9baWRdL3JvdXRlYCB0byBgL3VzZXIvW2lkXWBcbiAqIC0gYC9hY2NvdW50L3JvdXRlYCB0byBgL2FjY291bnRgXG4gKiAtIGAvcm91dGVgIHRvIGAvYFxuICogLSBgL2AgdG8gYC9gXG4gKlxuICogQHBhcmFtIHJvdXRlIHRoZSBhcHAgcm91dGUgdG8gbm9ybWFsaXplXG4gKiBAcmV0dXJucyB0aGUgbm9ybWFsaXplZCBwYXRobmFtZVxuICovXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplQXBwUGF0aChyb3V0ZTogc3RyaW5nKSB7XG4gIHJldHVybiBlbnN1cmVMZWFkaW5nU2xhc2goXG4gICAgcm91dGUuc3BsaXQoJy8nKS5yZWR1Y2UoKHBhdGhuYW1lLCBzZWdtZW50LCBpbmRleCwgc2VnbWVudHMpID0+IHtcbiAgICAgIC8vIEVtcHR5IHNlZ21lbnRzIGFyZSBpZ25vcmVkLlxuICAgICAgaWYgKCFzZWdtZW50KSB7XG4gICAgICAgIHJldHVybiBwYXRobmFtZVxuICAgICAgfVxuXG4gICAgICAvLyBHcm91cHMgYXJlIGlnbm9yZWQuXG4gICAgICBpZiAoaXNHcm91cFNlZ21lbnQoc2VnbWVudCkpIHtcbiAgICAgICAgcmV0dXJuIHBhdGhuYW1lXG4gICAgICB9XG5cbiAgICAgIC8vIFBhcmFsbGVsIHNlZ21lbnRzIGFyZSBpZ25vcmVkLlxuICAgICAgaWYgKHNlZ21lbnRbMF0gPT09ICdAJykge1xuICAgICAgICByZXR1cm4gcGF0aG5hbWVcbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGxhc3Qgc2VnbWVudCAoaWYgaXQncyBhIGxlYWYpIHNob3VsZCBiZSBpZ25vcmVkLlxuICAgICAgaWYgKFxuICAgICAgICAoc2VnbWVudCA9PT0gJ3BhZ2UnIHx8IHNlZ21lbnQgPT09ICdyb3V0ZScpICYmXG4gICAgICAgIGluZGV4ID09PSBzZWdtZW50cy5sZW5ndGggLSAxXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIHBhdGhuYW1lXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBgJHtwYXRobmFtZX0vJHtzZWdtZW50fWBcbiAgICB9LCAnJylcbiAgKVxufVxuXG4vKipcbiAqIFN0cmlwcyB0aGUgYC5yc2NgIGV4dGVuc2lvbiBpZiBpdCdzIGluIHRoZSBwYXRobmFtZS5cbiAqIFNpbmNlIHRoaXMgZnVuY3Rpb24gaXMgdXNlZCBvbiBmdWxsIHVybHMgaXQgY2hlY2tzIGA/YCBmb3Igc2VhcmNoUGFyYW1zIGhhbmRsaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplUnNjVVJMKHVybDogc3RyaW5nKSB7XG4gIHJldHVybiB1cmwucmVwbGFjZShcbiAgICAvXFwucnNjKCR8XFw/KS8sXG4gICAgLy8gJDEgZW5zdXJlcyBgP2AgaXMgcHJlc2VydmVkXG4gICAgJyQxJ1xuICApXG59XG4iXSwibmFtZXMiOlsiZW5zdXJlTGVhZGluZ1NsYXNoIiwiaXNHcm91cFNlZ21lbnQiLCJub3JtYWxpemVBcHBQYXRoIiwicm91dGUiLCJzcGxpdCIsInJlZHVjZSIsInBhdGhuYW1lIiwic2VnbWVudCIsImluZGV4Iiwic2VnbWVudHMiLCJsZW5ndGgiLCJub3JtYWxpemVSc2NVUkwiLCJ1cmwiLCJyZXBsYWNlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/shared/lib/router/utils/app-paths.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/shared/lib/router/utils/format-next-pathname-info.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/next/dist/esm/shared/lib/router/utils/format-next-pathname-info.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   formatNextPathnameInfo: () => (/* binding */ formatNextPathnameInfo)\n/* harmony export */ });\n/* harmony import */ var _remove_trailing_slash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./remove-trailing-slash */ \"(middleware)/./node_modules/next/dist/esm/shared/lib/router/utils/remove-trailing-slash.js\");\n/* harmony import */ var _add_path_prefix__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./add-path-prefix */ \"(middleware)/./node_modules/next/dist/esm/shared/lib/router/utils/add-path-prefix.js\");\n/* harmony import */ var _add_path_suffix__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./add-path-suffix */ \"(middleware)/./node_modules/next/dist/esm/shared/lib/router/utils/add-path-suffix.js\");\n/* harmony import */ var _add_locale__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./add-locale */ \"(middleware)/./node_modules/next/dist/esm/shared/lib/router/utils/add-locale.js\");\n\n\n\n\nfunction formatNextPathnameInfo(info) {\n    let pathname = (0,_add_locale__WEBPACK_IMPORTED_MODULE_3__.addLocale)(info.pathname, info.locale, info.buildId ? undefined : info.defaultLocale, info.ignorePrefix);\n    if (info.buildId || !info.trailingSlash) {\n        pathname = (0,_remove_trailing_slash__WEBPACK_IMPORTED_MODULE_0__.removeTrailingSlash)(pathname);\n    }\n    if (info.buildId) {\n        pathname = (0,_add_path_suffix__WEBPACK_IMPORTED_MODULE_2__.addPathSuffix)((0,_add_path_prefix__WEBPACK_IMPORTED_MODULE_1__.addPathPrefix)(pathname, \"/_next/data/\" + info.buildId), info.pathname === '/' ? 'index.json' : '.json');\n    }\n    pathname = (0,_add_path_prefix__WEBPACK_IMPORTED_MODULE_1__.addPathPrefix)(pathname, info.basePath);\n    return !info.buildId && info.trailingSlash ? !pathname.endsWith('/') ? (0,_add_path_suffix__WEBPACK_IMPORTED_MODULE_2__.addPathSuffix)(pathname, '/') : pathname : (0,_remove_trailing_slash__WEBPACK_IMPORTED_MODULE_0__.removeTrailingSlash)(pathname);\n} //# sourceMappingURL=format-next-pathname-info.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2hhcmVkL2xpYi9yb3V0ZXIvdXRpbHMvZm9ybWF0LW5leHQtcGF0aG5hbWUtaW5mby5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUM2RDtBQUNaO0FBQ0E7QUFDVDtBQU9qQyxTQUFTSSx1QkFBdUJDLElBQWtCO0lBQ3ZELElBQUlDLFdBQVdILHNEQUFTQSxDQUN0QkUsS0FBS0MsUUFBUSxFQUNiRCxLQUFLRSxNQUFNLEVBQ1hGLEtBQUtHLE9BQU8sR0FBR0MsWUFBWUosS0FBS0ssYUFBYSxFQUM3Q0wsS0FBS00sWUFBWTtJQUduQixJQUFJTixLQUFLRyxPQUFPLElBQUksQ0FBQ0gsS0FBS08sYUFBYSxFQUFFO1FBQ3ZDTixXQUFXTiwyRUFBbUJBLENBQUNNO0lBQ2pDO0lBRUEsSUFBSUQsS0FBS0csT0FBTyxFQUFFO1FBQ2hCRixXQUFXSiwrREFBYUEsQ0FDdEJELCtEQUFhQSxDQUFDSyxVQUFXLGlCQUFjRCxLQUFLRyxPQUFPLEdBQ25ESCxLQUFLQyxRQUFRLEtBQUssTUFBTSxlQUFlO0lBRTNDO0lBRUFBLFdBQVdMLCtEQUFhQSxDQUFDSyxVQUFVRCxLQUFLUSxRQUFRO0lBQ2hELE9BQU8sQ0FBQ1IsS0FBS0csT0FBTyxJQUFJSCxLQUFLTyxhQUFhLEdBQ3RDLENBQUNOLFNBQVNRLFFBQVEsQ0FBQyxPQUNqQlosK0RBQWFBLENBQUNJLFVBQVUsT0FDeEJBLFdBQ0ZOLDJFQUFtQkEsQ0FBQ007QUFDMUIiLCJzb3VyY2VzIjpbIkQ6XFxzcmNcXHNoYXJlZFxcbGliXFxyb3V0ZXJcXHV0aWxzXFxmb3JtYXQtbmV4dC1wYXRobmFtZS1pbmZvLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgTmV4dFBhdGhuYW1lSW5mbyB9IGZyb20gJy4vZ2V0LW5leHQtcGF0aG5hbWUtaW5mbydcbmltcG9ydCB7IHJlbW92ZVRyYWlsaW5nU2xhc2ggfSBmcm9tICcuL3JlbW92ZS10cmFpbGluZy1zbGFzaCdcbmltcG9ydCB7IGFkZFBhdGhQcmVmaXggfSBmcm9tICcuL2FkZC1wYXRoLXByZWZpeCdcbmltcG9ydCB7IGFkZFBhdGhTdWZmaXggfSBmcm9tICcuL2FkZC1wYXRoLXN1ZmZpeCdcbmltcG9ydCB7IGFkZExvY2FsZSB9IGZyb20gJy4vYWRkLWxvY2FsZSdcblxuaW50ZXJmYWNlIEV4dGVuZGVkSW5mbyBleHRlbmRzIE5leHRQYXRobmFtZUluZm8ge1xuICBkZWZhdWx0TG9jYWxlPzogc3RyaW5nXG4gIGlnbm9yZVByZWZpeD86IGJvb2xlYW5cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdE5leHRQYXRobmFtZUluZm8oaW5mbzogRXh0ZW5kZWRJbmZvKSB7XG4gIGxldCBwYXRobmFtZSA9IGFkZExvY2FsZShcbiAgICBpbmZvLnBhdGhuYW1lLFxuICAgIGluZm8ubG9jYWxlLFxuICAgIGluZm8uYnVpbGRJZCA/IHVuZGVmaW5lZCA6IGluZm8uZGVmYXVsdExvY2FsZSxcbiAgICBpbmZvLmlnbm9yZVByZWZpeFxuICApXG5cbiAgaWYgKGluZm8uYnVpbGRJZCB8fCAhaW5mby50cmFpbGluZ1NsYXNoKSB7XG4gICAgcGF0aG5hbWUgPSByZW1vdmVUcmFpbGluZ1NsYXNoKHBhdGhuYW1lKVxuICB9XG5cbiAgaWYgKGluZm8uYnVpbGRJZCkge1xuICAgIHBhdGhuYW1lID0gYWRkUGF0aFN1ZmZpeChcbiAgICAgIGFkZFBhdGhQcmVmaXgocGF0aG5hbWUsIGAvX25leHQvZGF0YS8ke2luZm8uYnVpbGRJZH1gKSxcbiAgICAgIGluZm8ucGF0aG5hbWUgPT09ICcvJyA/ICdpbmRleC5qc29uJyA6ICcuanNvbidcbiAgICApXG4gIH1cblxuICBwYXRobmFtZSA9IGFkZFBhdGhQcmVmaXgocGF0aG5hbWUsIGluZm8uYmFzZVBhdGgpXG4gIHJldHVybiAhaW5mby5idWlsZElkICYmIGluZm8udHJhaWxpbmdTbGFzaFxuICAgID8gIXBhdGhuYW1lLmVuZHNXaXRoKCcvJylcbiAgICAgID8gYWRkUGF0aFN1ZmZpeChwYXRobmFtZSwgJy8nKVxuICAgICAgOiBwYXRobmFtZVxuICAgIDogcmVtb3ZlVHJhaWxpbmdTbGFzaChwYXRobmFtZSlcbn1cbiJdLCJuYW1lcyI6WyJyZW1vdmVUcmFpbGluZ1NsYXNoIiwiYWRkUGF0aFByZWZpeCIsImFkZFBhdGhTdWZmaXgiLCJhZGRMb2NhbGUiLCJmb3JtYXROZXh0UGF0aG5hbWVJbmZvIiwiaW5mbyIsInBhdGhuYW1lIiwibG9jYWxlIiwiYnVpbGRJZCIsInVuZGVmaW5lZCIsImRlZmF1bHRMb2NhbGUiLCJpZ25vcmVQcmVmaXgiLCJ0cmFpbGluZ1NsYXNoIiwiYmFzZVBhdGgiLCJlbmRzV2l0aCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/shared/lib/router/utils/format-next-pathname-info.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/shared/lib/router/utils/get-next-pathname-info.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/next/dist/esm/shared/lib/router/utils/get-next-pathname-info.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getNextPathnameInfo: () => (/* binding */ getNextPathnameInfo)\n/* harmony export */ });\n/* harmony import */ var _i18n_normalize_locale_path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../i18n/normalize-locale-path */ \"(middleware)/./node_modules/next/dist/esm/shared/lib/i18n/normalize-locale-path.js\");\n/* harmony import */ var _remove_path_prefix__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./remove-path-prefix */ \"(middleware)/./node_modules/next/dist/esm/shared/lib/router/utils/remove-path-prefix.js\");\n/* harmony import */ var _path_has_prefix__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./path-has-prefix */ \"(middleware)/./node_modules/next/dist/esm/shared/lib/router/utils/path-has-prefix.js\");\n\n\n\nfunction getNextPathnameInfo(pathname, options) {\n    var _options_nextConfig;\n    const { basePath, i18n, trailingSlash } = (_options_nextConfig = options.nextConfig) != null ? _options_nextConfig : {};\n    const info = {\n        pathname,\n        trailingSlash: pathname !== '/' ? pathname.endsWith('/') : trailingSlash\n    };\n    if (basePath && (0,_path_has_prefix__WEBPACK_IMPORTED_MODULE_2__.pathHasPrefix)(info.pathname, basePath)) {\n        info.pathname = (0,_remove_path_prefix__WEBPACK_IMPORTED_MODULE_1__.removePathPrefix)(info.pathname, basePath);\n        info.basePath = basePath;\n    }\n    let pathnameNoDataPrefix = info.pathname;\n    if (info.pathname.startsWith('/_next/data/') && info.pathname.endsWith('.json')) {\n        const paths = info.pathname.replace(/^\\/_next\\/data\\//, '').replace(/\\.json$/, '').split('/');\n        const buildId = paths[0];\n        info.buildId = buildId;\n        pathnameNoDataPrefix = paths[1] !== 'index' ? \"/\" + paths.slice(1).join('/') : '/';\n        // update pathname with normalized if enabled although\n        // we use normalized to populate locale info still\n        if (options.parseData === true) {\n            info.pathname = pathnameNoDataPrefix;\n        }\n    }\n    // If provided, use the locale route normalizer to detect the locale instead\n    // of the function below.\n    if (i18n) {\n        let result = options.i18nProvider ? options.i18nProvider.analyze(info.pathname) : (0,_i18n_normalize_locale_path__WEBPACK_IMPORTED_MODULE_0__.normalizeLocalePath)(info.pathname, i18n.locales);\n        info.locale = result.detectedLocale;\n        var _result_pathname;\n        info.pathname = (_result_pathname = result.pathname) != null ? _result_pathname : info.pathname;\n        if (!result.detectedLocale && info.buildId) {\n            result = options.i18nProvider ? options.i18nProvider.analyze(pathnameNoDataPrefix) : (0,_i18n_normalize_locale_path__WEBPACK_IMPORTED_MODULE_0__.normalizeLocalePath)(pathnameNoDataPrefix, i18n.locales);\n            if (result.detectedLocale) {\n                info.locale = result.detectedLocale;\n            }\n        }\n    }\n    return info;\n} //# sourceMappingURL=get-next-pathname-info.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2hhcmVkL2xpYi9yb3V0ZXIvdXRpbHMvZ2V0LW5leHQtcGF0aG5hbWUtaW5mby5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXNFO0FBQ2Y7QUFDTjtBQWtEMUMsU0FBU0csb0JBQ2RDLFFBQWdCLEVBQ2hCQyxPQUFnQjtRQUUwQkE7SUFBMUMsTUFBTSxFQUFFQyxRQUFRLEVBQUVDLElBQUksRUFBRUMsYUFBYSxFQUFFLEdBQUdILENBQUFBLHNCQUFBQSxRQUFRSSxVQUFBQSxLQUFVLE9BQWxCSixzQkFBc0IsQ0FBQztJQUNqRSxNQUFNSyxPQUF5QjtRQUM3Qk47UUFDQUksZUFBZUosYUFBYSxNQUFNQSxTQUFTTyxRQUFRLENBQUMsT0FBT0g7SUFDN0Q7SUFFQSxJQUFJRixZQUFZSiwrREFBYUEsQ0FBQ1EsS0FBS04sUUFBUSxFQUFFRSxXQUFXO1FBQ3RESSxLQUFLTixRQUFRLEdBQUdILHFFQUFnQkEsQ0FBQ1MsS0FBS04sUUFBUSxFQUFFRTtRQUNoREksS0FBS0osUUFBUSxHQUFHQTtJQUNsQjtJQUNBLElBQUlNLHVCQUF1QkYsS0FBS04sUUFBUTtJQUV4QyxJQUNFTSxLQUFLTixRQUFRLENBQUNTLFVBQVUsQ0FBQyxtQkFDekJILEtBQUtOLFFBQVEsQ0FBQ08sUUFBUSxDQUFDLFVBQ3ZCO1FBQ0EsTUFBTUcsUUFBUUosS0FBS04sUUFBUSxDQUN4QlcsT0FBTyxDQUFDLG9CQUFvQixJQUM1QkEsT0FBTyxDQUFDLFdBQVcsSUFDbkJDLEtBQUssQ0FBQztRQUVULE1BQU1DLFVBQVVILEtBQUssQ0FBQyxFQUFFO1FBQ3hCSixLQUFLTyxPQUFPLEdBQUdBO1FBQ2ZMLHVCQUNFRSxLQUFLLENBQUMsRUFBRSxLQUFLLFVBQVcsTUFBR0EsTUFBTUksS0FBSyxDQUFDLEdBQUdDLElBQUksQ0FBQyxPQUFTO1FBRTFELHNEQUFzRDtRQUN0RCxrREFBa0Q7UUFDbEQsSUFBSWQsUUFBUWUsU0FBUyxLQUFLLE1BQU07WUFDOUJWLEtBQUtOLFFBQVEsR0FBR1E7UUFDbEI7SUFDRjtJQUVBLDRFQUE0RTtJQUM1RSx5QkFBeUI7SUFDekIsSUFBSUwsTUFBTTtRQUNSLElBQUljLFNBQVNoQixRQUFRaUIsWUFBWSxHQUM3QmpCLFFBQVFpQixZQUFZLENBQUNDLE9BQU8sQ0FBQ2IsS0FBS04sUUFBUSxJQUMxQ0osZ0ZBQW1CQSxDQUFDVSxLQUFLTixRQUFRLEVBQUVHLEtBQUtpQixPQUFPO1FBRW5EZCxLQUFLZSxNQUFNLEdBQUdKLE9BQU9LLGNBQWM7WUFDbkJMO1FBQWhCWCxLQUFLTixRQUFRLEdBQUdpQixDQUFBQSxtQkFBQUEsT0FBT2pCLFFBQUFBLEtBQVEsT0FBZmlCLG1CQUFtQlgsS0FBS04sUUFBUTtRQUVoRCxJQUFJLENBQUNpQixPQUFPSyxjQUFjLElBQUloQixLQUFLTyxPQUFPLEVBQUU7WUFDMUNJLFNBQVNoQixRQUFRaUIsWUFBWSxHQUN6QmpCLFFBQVFpQixZQUFZLENBQUNDLE9BQU8sQ0FBQ1gsd0JBQzdCWixnRkFBbUJBLENBQUNZLHNCQUFzQkwsS0FBS2lCLE9BQU87WUFFMUQsSUFBSUgsT0FBT0ssY0FBYyxFQUFFO2dCQUN6QmhCLEtBQUtlLE1BQU0sR0FBR0osT0FBT0ssY0FBYztZQUNyQztRQUNGO0lBQ0Y7SUFDQSxPQUFPaEI7QUFDVCIsInNvdXJjZXMiOlsiRDpcXHNyY1xcc2hhcmVkXFxsaWJcXHJvdXRlclxcdXRpbHNcXGdldC1uZXh0LXBhdGhuYW1lLWluZm8udHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbm9ybWFsaXplTG9jYWxlUGF0aCB9IGZyb20gJy4uLy4uL2kxOG4vbm9ybWFsaXplLWxvY2FsZS1wYXRoJ1xuaW1wb3J0IHsgcmVtb3ZlUGF0aFByZWZpeCB9IGZyb20gJy4vcmVtb3ZlLXBhdGgtcHJlZml4J1xuaW1wb3J0IHsgcGF0aEhhc1ByZWZpeCB9IGZyb20gJy4vcGF0aC1oYXMtcHJlZml4J1xuaW1wb3J0IHR5cGUgeyBJMThOUHJvdmlkZXIgfSBmcm9tICcuLi8uLi8uLi8uLi9zZXJ2ZXIvbGliL2kxOG4tcHJvdmlkZXInXG5cbmV4cG9ydCBpbnRlcmZhY2UgTmV4dFBhdGhuYW1lSW5mbyB7XG4gIC8qKlxuICAgKiBUaGUgYmFzZSBwYXRoIGluIGNhc2UgdGhlIHBhdGhuYW1lIGluY2x1ZGVkIGl0LlxuICAgKi9cbiAgYmFzZVBhdGg/OiBzdHJpbmdcbiAgLyoqXG4gICAqIFRoZSBidWlsZElkIGZvciB3aGVuIHRoZSBwYXJzZWQgVVJMIGlzIGEgZGF0YSBVUkwuIFBhcnNpbmcgaXQgY2FuIGJlXG4gICAqIGRpc2FibGVkIHdpdGggdGhlIGBwYXJzZURhdGFgIG9wdGlvbi5cbiAgICovXG4gIGJ1aWxkSWQ/OiBzdHJpbmdcbiAgLyoqXG4gICAqIElmIHRoZXJlIHdhcyBhIGxvY2FsZSBpbiB0aGUgcGF0aG5hbWUsIHRoaXMgd2lsbCBob2xkIGl0cyB2YWx1ZS5cbiAgICovXG4gIGxvY2FsZT86IHN0cmluZ1xuICAvKipcbiAgICogVGhlIHByb2Nlc3NlZCBwYXRobmFtZSB3aXRob3V0IGEgYmFzZSBwYXRoLCBsb2NhbGUsIG9yIGRhdGEgVVJMIGVsZW1lbnRzXG4gICAqIHdoZW4gcGFyc2luZyBpdCBpcyBlbmFibGVkLlxuICAgKi9cbiAgcGF0aG5hbWU6IHN0cmluZ1xuICAvKipcbiAgICogQSBib29sZWFuIHRlbGxpbmcgaWYgdGhlIHBhdGhuYW1lIGhhZCBhIHRyYWlsaW5nU2xhc2guIFRoaXMgY2FuIGJlIG9ubHlcbiAgICogdHJ1ZSBpZiB0cmFpbGluZ1NsYXNoIGlzIGVuYWJsZWQuXG4gICAqL1xuICB0cmFpbGluZ1NsYXNoPzogYm9vbGVhblxufVxuXG5pbnRlcmZhY2UgT3B0aW9ucyB7XG4gIC8qKlxuICAgKiBXaGVuIHBhc3NlZCB0byB0cnVlLCB0aGlzIGZ1bmN0aW9uIHdpbGwgYWxzbyBwYXJzZSBOZXh0anMgZGF0YSBVUkxzLlxuICAgKi9cbiAgcGFyc2VEYXRhPzogYm9vbGVhblxuICAvKipcbiAgICogQSBwYXJ0aWFsIG9mIHRoZSBOZXh0LmpzIGNvbmZpZ3VyYXRpb24gdG8gcGFyc2UgdGhlIFVSTC5cbiAgICovXG4gIG5leHRDb25maWc/OiB7XG4gICAgYmFzZVBhdGg/OiBzdHJpbmdcbiAgICBpMThuPzogeyBsb2NhbGVzPzogcmVhZG9ubHkgc3RyaW5nW10gfSB8IG51bGxcbiAgICB0cmFpbGluZ1NsYXNoPzogYm9vbGVhblxuICB9XG5cbiAgLyoqXG4gICAqIElmIHByb3ZpZGVkLCB0aGlzIG5vcm1hbGl6ZXIgd2lsbCBiZSB1c2VkIHRvIGRldGVjdCB0aGUgbG9jYWxlIGluc3RlYWQgb2ZcbiAgICogdGhlIGRlZmF1bHQgbG9jYWxlIGRldGVjdGlvbi5cbiAgICovXG4gIGkxOG5Qcm92aWRlcj86IEkxOE5Qcm92aWRlclxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TmV4dFBhdGhuYW1lSW5mbyhcbiAgcGF0aG5hbWU6IHN0cmluZyxcbiAgb3B0aW9uczogT3B0aW9uc1xuKTogTmV4dFBhdGhuYW1lSW5mbyB7XG4gIGNvbnN0IHsgYmFzZVBhdGgsIGkxOG4sIHRyYWlsaW5nU2xhc2ggfSA9IG9wdGlvbnMubmV4dENvbmZpZyA/PyB7fVxuICBjb25zdCBpbmZvOiBOZXh0UGF0aG5hbWVJbmZvID0ge1xuICAgIHBhdGhuYW1lLFxuICAgIHRyYWlsaW5nU2xhc2g6IHBhdGhuYW1lICE9PSAnLycgPyBwYXRobmFtZS5lbmRzV2l0aCgnLycpIDogdHJhaWxpbmdTbGFzaCxcbiAgfVxuXG4gIGlmIChiYXNlUGF0aCAmJiBwYXRoSGFzUHJlZml4KGluZm8ucGF0aG5hbWUsIGJhc2VQYXRoKSkge1xuICAgIGluZm8ucGF0aG5hbWUgPSByZW1vdmVQYXRoUHJlZml4KGluZm8ucGF0aG5hbWUsIGJhc2VQYXRoKVxuICAgIGluZm8uYmFzZVBhdGggPSBiYXNlUGF0aFxuICB9XG4gIGxldCBwYXRobmFtZU5vRGF0YVByZWZpeCA9IGluZm8ucGF0aG5hbWVcblxuICBpZiAoXG4gICAgaW5mby5wYXRobmFtZS5zdGFydHNXaXRoKCcvX25leHQvZGF0YS8nKSAmJlxuICAgIGluZm8ucGF0aG5hbWUuZW5kc1dpdGgoJy5qc29uJylcbiAgKSB7XG4gICAgY29uc3QgcGF0aHMgPSBpbmZvLnBhdGhuYW1lXG4gICAgICAucmVwbGFjZSgvXlxcL19uZXh0XFwvZGF0YVxcLy8sICcnKVxuICAgICAgLnJlcGxhY2UoL1xcLmpzb24kLywgJycpXG4gICAgICAuc3BsaXQoJy8nKVxuXG4gICAgY29uc3QgYnVpbGRJZCA9IHBhdGhzWzBdXG4gICAgaW5mby5idWlsZElkID0gYnVpbGRJZFxuICAgIHBhdGhuYW1lTm9EYXRhUHJlZml4ID1cbiAgICAgIHBhdGhzWzFdICE9PSAnaW5kZXgnID8gYC8ke3BhdGhzLnNsaWNlKDEpLmpvaW4oJy8nKX1gIDogJy8nXG5cbiAgICAvLyB1cGRhdGUgcGF0aG5hbWUgd2l0aCBub3JtYWxpemVkIGlmIGVuYWJsZWQgYWx0aG91Z2hcbiAgICAvLyB3ZSB1c2Ugbm9ybWFsaXplZCB0byBwb3B1bGF0ZSBsb2NhbGUgaW5mbyBzdGlsbFxuICAgIGlmIChvcHRpb25zLnBhcnNlRGF0YSA9PT0gdHJ1ZSkge1xuICAgICAgaW5mby5wYXRobmFtZSA9IHBhdGhuYW1lTm9EYXRhUHJlZml4XG4gICAgfVxuICB9XG5cbiAgLy8gSWYgcHJvdmlkZWQsIHVzZSB0aGUgbG9jYWxlIHJvdXRlIG5vcm1hbGl6ZXIgdG8gZGV0ZWN0IHRoZSBsb2NhbGUgaW5zdGVhZFxuICAvLyBvZiB0aGUgZnVuY3Rpb24gYmVsb3cuXG4gIGlmIChpMThuKSB7XG4gICAgbGV0IHJlc3VsdCA9IG9wdGlvbnMuaTE4blByb3ZpZGVyXG4gICAgICA/IG9wdGlvbnMuaTE4blByb3ZpZGVyLmFuYWx5emUoaW5mby5wYXRobmFtZSlcbiAgICAgIDogbm9ybWFsaXplTG9jYWxlUGF0aChpbmZvLnBhdGhuYW1lLCBpMThuLmxvY2FsZXMpXG5cbiAgICBpbmZvLmxvY2FsZSA9IHJlc3VsdC5kZXRlY3RlZExvY2FsZVxuICAgIGluZm8ucGF0aG5hbWUgPSByZXN1bHQucGF0aG5hbWUgPz8gaW5mby5wYXRobmFtZVxuXG4gICAgaWYgKCFyZXN1bHQuZGV0ZWN0ZWRMb2NhbGUgJiYgaW5mby5idWlsZElkKSB7XG4gICAgICByZXN1bHQgPSBvcHRpb25zLmkxOG5Qcm92aWRlclxuICAgICAgICA/IG9wdGlvbnMuaTE4blByb3ZpZGVyLmFuYWx5emUocGF0aG5hbWVOb0RhdGFQcmVmaXgpXG4gICAgICAgIDogbm9ybWFsaXplTG9jYWxlUGF0aChwYXRobmFtZU5vRGF0YVByZWZpeCwgaTE4bi5sb2NhbGVzKVxuXG4gICAgICBpZiAocmVzdWx0LmRldGVjdGVkTG9jYWxlKSB7XG4gICAgICAgIGluZm8ubG9jYWxlID0gcmVzdWx0LmRldGVjdGVkTG9jYWxlXG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBpbmZvXG59XG4iXSwibmFtZXMiOlsibm9ybWFsaXplTG9jYWxlUGF0aCIsInJlbW92ZVBhdGhQcmVmaXgiLCJwYXRoSGFzUHJlZml4IiwiZ2V0TmV4dFBhdGhuYW1lSW5mbyIsInBhdGhuYW1lIiwib3B0aW9ucyIsImJhc2VQYXRoIiwiaTE4biIsInRyYWlsaW5nU2xhc2giLCJuZXh0Q29uZmlnIiwiaW5mbyIsImVuZHNXaXRoIiwicGF0aG5hbWVOb0RhdGFQcmVmaXgiLCJzdGFydHNXaXRoIiwicGF0aHMiLCJyZXBsYWNlIiwic3BsaXQiLCJidWlsZElkIiwic2xpY2UiLCJqb2luIiwicGFyc2VEYXRhIiwicmVzdWx0IiwiaTE4blByb3ZpZGVyIiwiYW5hbHl6ZSIsImxvY2FsZXMiLCJsb2NhbGUiLCJkZXRlY3RlZExvY2FsZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/shared/lib/router/utils/get-next-pathname-info.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/shared/lib/router/utils/parse-path.js":
/*!**************************************************************************!*\
  !*** ./node_modules/next/dist/esm/shared/lib/router/utils/parse-path.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parsePath: () => (/* binding */ parsePath)\n/* harmony export */ });\n/**\n * Given a path this function will find the pathname, query and hash and return\n * them. This is useful to parse full paths on the client side.\n * @param path A path to parse e.g. /foo/bar?id=1#hash\n */ function parsePath(path) {\n    const hashIndex = path.indexOf('#');\n    const queryIndex = path.indexOf('?');\n    const hasQuery = queryIndex > -1 && (hashIndex < 0 || queryIndex < hashIndex);\n    if (hasQuery || hashIndex > -1) {\n        return {\n            pathname: path.substring(0, hasQuery ? queryIndex : hashIndex),\n            query: hasQuery ? path.substring(queryIndex, hashIndex > -1 ? hashIndex : undefined) : '',\n            hash: hashIndex > -1 ? path.slice(hashIndex) : ''\n        };\n    }\n    return {\n        pathname: path,\n        query: '',\n        hash: ''\n    };\n} //# sourceMappingURL=parse-path.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2hhcmVkL2xpYi9yb3V0ZXIvdXRpbHMvcGFyc2UtcGF0aC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7Ozs7Q0FJQyxHQUNNLFNBQVNBLFVBQVVDLElBQVk7SUFDcEMsTUFBTUMsWUFBWUQsS0FBS0UsT0FBTyxDQUFDO0lBQy9CLE1BQU1DLGFBQWFILEtBQUtFLE9BQU8sQ0FBQztJQUNoQyxNQUFNRSxXQUFXRCxhQUFhLENBQUMsS0FBTUYsQ0FBQUEsWUFBWSxLQUFLRSxhQUFhRixTQUFBQSxDQUFRO0lBRTNFLElBQUlHLFlBQVlILFlBQVksQ0FBQyxHQUFHO1FBQzlCLE9BQU87WUFDTEksVUFBVUwsS0FBS00sU0FBUyxDQUFDLEdBQUdGLFdBQVdELGFBQWFGO1lBQ3BETSxPQUFPSCxXQUNISixLQUFLTSxTQUFTLENBQUNILFlBQVlGLFlBQVksQ0FBQyxJQUFJQSxZQUFZTyxhQUN4RDtZQUNKQyxNQUFNUixZQUFZLENBQUMsSUFBSUQsS0FBS1UsS0FBSyxDQUFDVCxhQUFhO1FBQ2pEO0lBQ0Y7SUFFQSxPQUFPO1FBQUVJLFVBQVVMO1FBQU1PLE9BQU87UUFBSUUsTUFBTTtJQUFHO0FBQy9DIiwic291cmNlcyI6WyJEOlxcc3JjXFxzaGFyZWRcXGxpYlxccm91dGVyXFx1dGlsc1xccGFyc2UtcGF0aC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEdpdmVuIGEgcGF0aCB0aGlzIGZ1bmN0aW9uIHdpbGwgZmluZCB0aGUgcGF0aG5hbWUsIHF1ZXJ5IGFuZCBoYXNoIGFuZCByZXR1cm5cbiAqIHRoZW0uIFRoaXMgaXMgdXNlZnVsIHRvIHBhcnNlIGZ1bGwgcGF0aHMgb24gdGhlIGNsaWVudCBzaWRlLlxuICogQHBhcmFtIHBhdGggQSBwYXRoIHRvIHBhcnNlIGUuZy4gL2Zvby9iYXI/aWQ9MSNoYXNoXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVBhdGgocGF0aDogc3RyaW5nKSB7XG4gIGNvbnN0IGhhc2hJbmRleCA9IHBhdGguaW5kZXhPZignIycpXG4gIGNvbnN0IHF1ZXJ5SW5kZXggPSBwYXRoLmluZGV4T2YoJz8nKVxuICBjb25zdCBoYXNRdWVyeSA9IHF1ZXJ5SW5kZXggPiAtMSAmJiAoaGFzaEluZGV4IDwgMCB8fCBxdWVyeUluZGV4IDwgaGFzaEluZGV4KVxuXG4gIGlmIChoYXNRdWVyeSB8fCBoYXNoSW5kZXggPiAtMSkge1xuICAgIHJldHVybiB7XG4gICAgICBwYXRobmFtZTogcGF0aC5zdWJzdHJpbmcoMCwgaGFzUXVlcnkgPyBxdWVyeUluZGV4IDogaGFzaEluZGV4KSxcbiAgICAgIHF1ZXJ5OiBoYXNRdWVyeVxuICAgICAgICA/IHBhdGguc3Vic3RyaW5nKHF1ZXJ5SW5kZXgsIGhhc2hJbmRleCA+IC0xID8gaGFzaEluZGV4IDogdW5kZWZpbmVkKVxuICAgICAgICA6ICcnLFxuICAgICAgaGFzaDogaGFzaEluZGV4ID4gLTEgPyBwYXRoLnNsaWNlKGhhc2hJbmRleCkgOiAnJyxcbiAgICB9XG4gIH1cblxuICByZXR1cm4geyBwYXRobmFtZTogcGF0aCwgcXVlcnk6ICcnLCBoYXNoOiAnJyB9XG59XG4iXSwibmFtZXMiOlsicGFyc2VQYXRoIiwicGF0aCIsImhhc2hJbmRleCIsImluZGV4T2YiLCJxdWVyeUluZGV4IiwiaGFzUXVlcnkiLCJwYXRobmFtZSIsInN1YnN0cmluZyIsInF1ZXJ5IiwidW5kZWZpbmVkIiwiaGFzaCIsInNsaWNlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/shared/lib/router/utils/parse-path.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/shared/lib/router/utils/path-has-prefix.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/next/dist/esm/shared/lib/router/utils/path-has-prefix.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   pathHasPrefix: () => (/* binding */ pathHasPrefix)\n/* harmony export */ });\n/* harmony import */ var _parse_path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parse-path */ \"(middleware)/./node_modules/next/dist/esm/shared/lib/router/utils/parse-path.js\");\n\n/**\n * Checks if a given path starts with a given prefix. It ensures it matches\n * exactly without containing extra chars. e.g. prefix /docs should replace\n * for /docs, /docs/, /docs/a but not /docsss\n * @param path The path to check.\n * @param prefix The prefix to check against.\n */ function pathHasPrefix(path, prefix) {\n    if (typeof path !== 'string') {\n        return false;\n    }\n    const { pathname } = (0,_parse_path__WEBPACK_IMPORTED_MODULE_0__.parsePath)(path);\n    return pathname === prefix || pathname.startsWith(prefix + '/');\n} //# sourceMappingURL=path-has-prefix.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2hhcmVkL2xpYi9yb3V0ZXIvdXRpbHMvcGF0aC1oYXMtcHJlZml4LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXdDO0FBRXhDOzs7Ozs7Q0FNQyxHQUNNLFNBQVNDLGNBQWNDLElBQVksRUFBRUMsTUFBYztJQUN4RCxJQUFJLE9BQU9ELFNBQVMsVUFBVTtRQUM1QixPQUFPO0lBQ1Q7SUFFQSxNQUFNLEVBQUVFLFFBQVEsRUFBRSxHQUFHSixzREFBU0EsQ0FBQ0U7SUFDL0IsT0FBT0UsYUFBYUQsVUFBVUMsU0FBU0MsVUFBVSxDQUFDRixTQUFTO0FBQzdEIiwic291cmNlcyI6WyJEOlxcc3JjXFxzaGFyZWRcXGxpYlxccm91dGVyXFx1dGlsc1xccGF0aC1oYXMtcHJlZml4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHBhcnNlUGF0aCB9IGZyb20gJy4vcGFyc2UtcGF0aCdcblxuLyoqXG4gKiBDaGVja3MgaWYgYSBnaXZlbiBwYXRoIHN0YXJ0cyB3aXRoIGEgZ2l2ZW4gcHJlZml4LiBJdCBlbnN1cmVzIGl0IG1hdGNoZXNcbiAqIGV4YWN0bHkgd2l0aG91dCBjb250YWluaW5nIGV4dHJhIGNoYXJzLiBlLmcuIHByZWZpeCAvZG9jcyBzaG91bGQgcmVwbGFjZVxuICogZm9yIC9kb2NzLCAvZG9jcy8sIC9kb2NzL2EgYnV0IG5vdCAvZG9jc3NzXG4gKiBAcGFyYW0gcGF0aCBUaGUgcGF0aCB0byBjaGVjay5cbiAqIEBwYXJhbSBwcmVmaXggVGhlIHByZWZpeCB0byBjaGVjayBhZ2FpbnN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcGF0aEhhc1ByZWZpeChwYXRoOiBzdHJpbmcsIHByZWZpeDogc3RyaW5nKSB7XG4gIGlmICh0eXBlb2YgcGF0aCAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGNvbnN0IHsgcGF0aG5hbWUgfSA9IHBhcnNlUGF0aChwYXRoKVxuICByZXR1cm4gcGF0aG5hbWUgPT09IHByZWZpeCB8fCBwYXRobmFtZS5zdGFydHNXaXRoKHByZWZpeCArICcvJylcbn1cbiJdLCJuYW1lcyI6WyJwYXJzZVBhdGgiLCJwYXRoSGFzUHJlZml4IiwicGF0aCIsInByZWZpeCIsInBhdGhuYW1lIiwic3RhcnRzV2l0aCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/shared/lib/router/utils/path-has-prefix.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/shared/lib/router/utils/relativize-url.js":
/*!******************************************************************************!*\
  !*** ./node_modules/next/dist/esm/shared/lib/router/utils/relativize-url.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getRelativeURL: () => (/* binding */ getRelativeURL),\n/* harmony export */   parseRelativeURL: () => (/* binding */ parseRelativeURL)\n/* harmony export */ });\n/**\n * The result of parsing a URL relative to a base URL.\n */ function parseRelativeURL(url, base) {\n    const baseURL = typeof base === 'string' ? new URL(base) : base;\n    const relative = new URL(url, base);\n    // The URL is relative if the origin is the same as the base URL.\n    const isRelative = relative.origin === baseURL.origin;\n    return {\n        url: isRelative ? relative.toString().slice(baseURL.origin.length) : relative.toString(),\n        isRelative\n    };\n}\n/**\n * Given a URL as a string and a base URL it will make the URL relative\n * if the parsed protocol and host is the same as the one in the base\n * URL. Otherwise it returns the same URL string.\n */ function getRelativeURL(url, base) {\n    const relative = parseRelativeURL(url, base);\n    return relative.url;\n} //# sourceMappingURL=relativize-url.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2hhcmVkL2xpYi9yb3V0ZXIvdXRpbHMvcmVsYXRpdml6ZS11cmwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTs7Q0FFQyxHQWFNLFNBQVNBLGlCQUNkQyxHQUFpQixFQUNqQkMsSUFBa0I7SUFFbEIsTUFBTUMsVUFBVSxPQUFPRCxTQUFTLFdBQVcsSUFBSUUsSUFBSUYsUUFBUUE7SUFDM0QsTUFBTUcsV0FBVyxJQUFJRCxJQUFJSCxLQUFLQztJQUU5QixpRUFBaUU7SUFDakUsTUFBTUksYUFBYUQsU0FBU0UsTUFBTSxLQUFLSixRQUFRSSxNQUFNO0lBRXJELE9BQU87UUFDTE4sS0FBS0ssYUFDREQsU0FBU0csUUFBUSxHQUFHQyxLQUFLLENBQUNOLFFBQVFJLE1BQU0sQ0FBQ0csTUFBTSxJQUMvQ0wsU0FBU0csUUFBUTtRQUNyQkY7SUFDRjtBQUNGO0FBRUE7Ozs7Q0FJQyxHQUNNLFNBQVNLLGVBQWVWLEdBQWlCLEVBQUVDLElBQWtCO0lBQ2xFLE1BQU1HLFdBQVdMLGlCQUFpQkMsS0FBS0M7SUFDdkMsT0FBT0csU0FBU0osR0FBRztBQUNyQiIsInNvdXJjZXMiOlsiRDpcXHNyY1xcc2hhcmVkXFxsaWJcXHJvdXRlclxcdXRpbHNcXHJlbGF0aXZpemUtdXJsLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhlIHJlc3VsdCBvZiBwYXJzaW5nIGEgVVJMIHJlbGF0aXZlIHRvIGEgYmFzZSBVUkwuXG4gKi9cbmV4cG9ydCB0eXBlIFJlbGF0aXZlVVJMID0ge1xuICAvKipcbiAgICogVGhlIHJlbGF0aXZlIFVSTC4gRWl0aGVyIGEgVVJMIGluY2x1ZGluZyB0aGUgb3JpZ2luIG9yIGEgcmVsYXRpdmUgVVJMLlxuICAgKi9cbiAgdXJsOiBzdHJpbmdcblxuICAvKipcbiAgICogV2hldGhlciB0aGUgVVJMIGlzIHJlbGF0aXZlIHRvIHRoZSBiYXNlIFVSTC5cbiAgICovXG4gIGlzUmVsYXRpdmU6IGJvb2xlYW5cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlUmVsYXRpdmVVUkwoXG4gIHVybDogc3RyaW5nIHwgVVJMLFxuICBiYXNlOiBzdHJpbmcgfCBVUkxcbik6IFJlbGF0aXZlVVJMIHtcbiAgY29uc3QgYmFzZVVSTCA9IHR5cGVvZiBiYXNlID09PSAnc3RyaW5nJyA/IG5ldyBVUkwoYmFzZSkgOiBiYXNlXG4gIGNvbnN0IHJlbGF0aXZlID0gbmV3IFVSTCh1cmwsIGJhc2UpXG5cbiAgLy8gVGhlIFVSTCBpcyByZWxhdGl2ZSBpZiB0aGUgb3JpZ2luIGlzIHRoZSBzYW1lIGFzIHRoZSBiYXNlIFVSTC5cbiAgY29uc3QgaXNSZWxhdGl2ZSA9IHJlbGF0aXZlLm9yaWdpbiA9PT0gYmFzZVVSTC5vcmlnaW5cblxuICByZXR1cm4ge1xuICAgIHVybDogaXNSZWxhdGl2ZVxuICAgICAgPyByZWxhdGl2ZS50b1N0cmluZygpLnNsaWNlKGJhc2VVUkwub3JpZ2luLmxlbmd0aClcbiAgICAgIDogcmVsYXRpdmUudG9TdHJpbmcoKSxcbiAgICBpc1JlbGF0aXZlLFxuICB9XG59XG5cbi8qKlxuICogR2l2ZW4gYSBVUkwgYXMgYSBzdHJpbmcgYW5kIGEgYmFzZSBVUkwgaXQgd2lsbCBtYWtlIHRoZSBVUkwgcmVsYXRpdmVcbiAqIGlmIHRoZSBwYXJzZWQgcHJvdG9jb2wgYW5kIGhvc3QgaXMgdGhlIHNhbWUgYXMgdGhlIG9uZSBpbiB0aGUgYmFzZVxuICogVVJMLiBPdGhlcndpc2UgaXQgcmV0dXJucyB0aGUgc2FtZSBVUkwgc3RyaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVsYXRpdmVVUkwodXJsOiBzdHJpbmcgfCBVUkwsIGJhc2U6IHN0cmluZyB8IFVSTCk6IHN0cmluZyB7XG4gIGNvbnN0IHJlbGF0aXZlID0gcGFyc2VSZWxhdGl2ZVVSTCh1cmwsIGJhc2UpXG4gIHJldHVybiByZWxhdGl2ZS51cmxcbn1cbiJdLCJuYW1lcyI6WyJwYXJzZVJlbGF0aXZlVVJMIiwidXJsIiwiYmFzZSIsImJhc2VVUkwiLCJVUkwiLCJyZWxhdGl2ZSIsImlzUmVsYXRpdmUiLCJvcmlnaW4iLCJ0b1N0cmluZyIsInNsaWNlIiwibGVuZ3RoIiwiZ2V0UmVsYXRpdmVVUkwiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/shared/lib/router/utils/relativize-url.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/shared/lib/router/utils/remove-path-prefix.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/next/dist/esm/shared/lib/router/utils/remove-path-prefix.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   removePathPrefix: () => (/* binding */ removePathPrefix)\n/* harmony export */ });\n/* harmony import */ var _path_has_prefix__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./path-has-prefix */ \"(middleware)/./node_modules/next/dist/esm/shared/lib/router/utils/path-has-prefix.js\");\n\n/**\n * Given a path and a prefix it will remove the prefix when it exists in the\n * given path. It ensures it matches exactly without containing extra chars\n * and if the prefix is not there it will be noop.\n *\n * @param path The path to remove the prefix from.\n * @param prefix The prefix to be removed.\n */ function removePathPrefix(path, prefix) {\n    // If the path doesn't start with the prefix we can return it as is. This\n    // protects us from situations where the prefix is a substring of the path\n    // prefix such as:\n    //\n    // For prefix: /blog\n    //\n    //   /blog -> true\n    //   /blog/ -> true\n    //   /blog/1 -> true\n    //   /blogging -> false\n    //   /blogging/ -> false\n    //   /blogging/1 -> false\n    if (!(0,_path_has_prefix__WEBPACK_IMPORTED_MODULE_0__.pathHasPrefix)(path, prefix)) {\n        return path;\n    }\n    // Remove the prefix from the path via slicing.\n    const withoutPrefix = path.slice(prefix.length);\n    // If the path without the prefix starts with a `/` we can return it as is.\n    if (withoutPrefix.startsWith('/')) {\n        return withoutPrefix;\n    }\n    // If the path without the prefix doesn't start with a `/` we need to add it\n    // back to the path to make sure it's a valid path.\n    return \"/\" + withoutPrefix;\n} //# sourceMappingURL=remove-path-prefix.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2hhcmVkL2xpYi9yb3V0ZXIvdXRpbHMvcmVtb3ZlLXBhdGgtcHJlZml4LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWlEO0FBRWpEOzs7Ozs7O0NBT0MsR0FDTSxTQUFTQyxpQkFBaUJDLElBQVksRUFBRUMsTUFBYztJQUMzRCx5RUFBeUU7SUFDekUsMEVBQTBFO0lBQzFFLGtCQUFrQjtJQUNsQixFQUFFO0lBQ0Ysb0JBQW9CO0lBQ3BCLEVBQUU7SUFDRixrQkFBa0I7SUFDbEIsbUJBQW1CO0lBQ25CLG9CQUFvQjtJQUNwQix1QkFBdUI7SUFDdkIsd0JBQXdCO0lBQ3hCLHlCQUF5QjtJQUN6QixJQUFJLENBQUNILCtEQUFhQSxDQUFDRSxNQUFNQyxTQUFTO1FBQ2hDLE9BQU9EO0lBQ1Q7SUFFQSwrQ0FBK0M7SUFDL0MsTUFBTUUsZ0JBQWdCRixLQUFLRyxLQUFLLENBQUNGLE9BQU9HLE1BQU07SUFFOUMsMkVBQTJFO0lBQzNFLElBQUlGLGNBQWNHLFVBQVUsQ0FBQyxNQUFNO1FBQ2pDLE9BQU9IO0lBQ1Q7SUFFQSw0RUFBNEU7SUFDNUUsbURBQW1EO0lBQ25ELE9BQVEsTUFBR0E7QUFDYiIsInNvdXJjZXMiOlsiRDpcXHNyY1xcc2hhcmVkXFxsaWJcXHJvdXRlclxcdXRpbHNcXHJlbW92ZS1wYXRoLXByZWZpeC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwYXRoSGFzUHJlZml4IH0gZnJvbSAnLi9wYXRoLWhhcy1wcmVmaXgnXG5cbi8qKlxuICogR2l2ZW4gYSBwYXRoIGFuZCBhIHByZWZpeCBpdCB3aWxsIHJlbW92ZSB0aGUgcHJlZml4IHdoZW4gaXQgZXhpc3RzIGluIHRoZVxuICogZ2l2ZW4gcGF0aC4gSXQgZW5zdXJlcyBpdCBtYXRjaGVzIGV4YWN0bHkgd2l0aG91dCBjb250YWluaW5nIGV4dHJhIGNoYXJzXG4gKiBhbmQgaWYgdGhlIHByZWZpeCBpcyBub3QgdGhlcmUgaXQgd2lsbCBiZSBub29wLlxuICpcbiAqIEBwYXJhbSBwYXRoIFRoZSBwYXRoIHRvIHJlbW92ZSB0aGUgcHJlZml4IGZyb20uXG4gKiBAcGFyYW0gcHJlZml4IFRoZSBwcmVmaXggdG8gYmUgcmVtb3ZlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVBhdGhQcmVmaXgocGF0aDogc3RyaW5nLCBwcmVmaXg6IHN0cmluZyk6IHN0cmluZyB7XG4gIC8vIElmIHRoZSBwYXRoIGRvZXNuJ3Qgc3RhcnQgd2l0aCB0aGUgcHJlZml4IHdlIGNhbiByZXR1cm4gaXQgYXMgaXMuIFRoaXNcbiAgLy8gcHJvdGVjdHMgdXMgZnJvbSBzaXR1YXRpb25zIHdoZXJlIHRoZSBwcmVmaXggaXMgYSBzdWJzdHJpbmcgb2YgdGhlIHBhdGhcbiAgLy8gcHJlZml4IHN1Y2ggYXM6XG4gIC8vXG4gIC8vIEZvciBwcmVmaXg6IC9ibG9nXG4gIC8vXG4gIC8vICAgL2Jsb2cgLT4gdHJ1ZVxuICAvLyAgIC9ibG9nLyAtPiB0cnVlXG4gIC8vICAgL2Jsb2cvMSAtPiB0cnVlXG4gIC8vICAgL2Jsb2dnaW5nIC0+IGZhbHNlXG4gIC8vICAgL2Jsb2dnaW5nLyAtPiBmYWxzZVxuICAvLyAgIC9ibG9nZ2luZy8xIC0+IGZhbHNlXG4gIGlmICghcGF0aEhhc1ByZWZpeChwYXRoLCBwcmVmaXgpKSB7XG4gICAgcmV0dXJuIHBhdGhcbiAgfVxuXG4gIC8vIFJlbW92ZSB0aGUgcHJlZml4IGZyb20gdGhlIHBhdGggdmlhIHNsaWNpbmcuXG4gIGNvbnN0IHdpdGhvdXRQcmVmaXggPSBwYXRoLnNsaWNlKHByZWZpeC5sZW5ndGgpXG5cbiAgLy8gSWYgdGhlIHBhdGggd2l0aG91dCB0aGUgcHJlZml4IHN0YXJ0cyB3aXRoIGEgYC9gIHdlIGNhbiByZXR1cm4gaXQgYXMgaXMuXG4gIGlmICh3aXRob3V0UHJlZml4LnN0YXJ0c1dpdGgoJy8nKSkge1xuICAgIHJldHVybiB3aXRob3V0UHJlZml4XG4gIH1cblxuICAvLyBJZiB0aGUgcGF0aCB3aXRob3V0IHRoZSBwcmVmaXggZG9lc24ndCBzdGFydCB3aXRoIGEgYC9gIHdlIG5lZWQgdG8gYWRkIGl0XG4gIC8vIGJhY2sgdG8gdGhlIHBhdGggdG8gbWFrZSBzdXJlIGl0J3MgYSB2YWxpZCBwYXRoLlxuICByZXR1cm4gYC8ke3dpdGhvdXRQcmVmaXh9YFxufVxuIl0sIm5hbWVzIjpbInBhdGhIYXNQcmVmaXgiLCJyZW1vdmVQYXRoUHJlZml4IiwicGF0aCIsInByZWZpeCIsIndpdGhvdXRQcmVmaXgiLCJzbGljZSIsImxlbmd0aCIsInN0YXJ0c1dpdGgiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/shared/lib/router/utils/remove-path-prefix.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/shared/lib/router/utils/remove-trailing-slash.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/next/dist/esm/shared/lib/router/utils/remove-trailing-slash.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   removeTrailingSlash: () => (/* binding */ removeTrailingSlash)\n/* harmony export */ });\n/**\n * Removes the trailing slash for a given route or page path. Preserves the\n * root page. Examples:\n *   - `/foo/bar/` -> `/foo/bar`\n *   - `/foo/bar` -> `/foo/bar`\n *   - `/` -> `/`\n */ function removeTrailingSlash(route) {\n    return route.replace(/\\/$/, '') || '/';\n} //# sourceMappingURL=remove-trailing-slash.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2hhcmVkL2xpYi9yb3V0ZXIvdXRpbHMvcmVtb3ZlLXRyYWlsaW5nLXNsYXNoLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7Ozs7O0NBTUMsR0FDTSxTQUFTQSxvQkFBb0JDLEtBQWE7SUFDL0MsT0FBT0EsTUFBTUMsT0FBTyxDQUFDLE9BQU8sT0FBTztBQUNyQyIsInNvdXJjZXMiOlsiRDpcXHNyY1xcc2hhcmVkXFxsaWJcXHJvdXRlclxcdXRpbHNcXHJlbW92ZS10cmFpbGluZy1zbGFzaC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFJlbW92ZXMgdGhlIHRyYWlsaW5nIHNsYXNoIGZvciBhIGdpdmVuIHJvdXRlIG9yIHBhZ2UgcGF0aC4gUHJlc2VydmVzIHRoZVxuICogcm9vdCBwYWdlLiBFeGFtcGxlczpcbiAqICAgLSBgL2Zvby9iYXIvYCAtPiBgL2Zvby9iYXJgXG4gKiAgIC0gYC9mb28vYmFyYCAtPiBgL2Zvby9iYXJgXG4gKiAgIC0gYC9gIC0+IGAvYFxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlVHJhaWxpbmdTbGFzaChyb3V0ZTogc3RyaW5nKSB7XG4gIHJldHVybiByb3V0ZS5yZXBsYWNlKC9cXC8kLywgJycpIHx8ICcvJ1xufVxuIl0sIm5hbWVzIjpbInJlbW92ZVRyYWlsaW5nU2xhc2giLCJyb3V0ZSIsInJlcGxhY2UiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/shared/lib/router/utils/remove-trailing-slash.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/shared/lib/segment.js":
/*!**********************************************************!*\
  !*** ./node_modules/next/dist/esm/shared/lib/segment.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_SEGMENT_KEY: () => (/* binding */ DEFAULT_SEGMENT_KEY),\n/* harmony export */   PAGE_SEGMENT_KEY: () => (/* binding */ PAGE_SEGMENT_KEY),\n/* harmony export */   addSearchParamsIfPageSegment: () => (/* binding */ addSearchParamsIfPageSegment),\n/* harmony export */   isGroupSegment: () => (/* binding */ isGroupSegment),\n/* harmony export */   isParallelRouteSegment: () => (/* binding */ isParallelRouteSegment)\n/* harmony export */ });\nfunction isGroupSegment(segment) {\n    // Use array[0] for performant purpose\n    return segment[0] === '(' && segment.endsWith(')');\n}\nfunction isParallelRouteSegment(segment) {\n    return segment.startsWith('@') && segment !== '@children';\n}\nfunction addSearchParamsIfPageSegment(segment, searchParams) {\n    const isPageSegment = segment.includes(PAGE_SEGMENT_KEY);\n    if (isPageSegment) {\n        const stringifiedQuery = JSON.stringify(searchParams);\n        return stringifiedQuery !== '{}' ? PAGE_SEGMENT_KEY + '?' + stringifiedQuery : PAGE_SEGMENT_KEY;\n    }\n    return segment;\n}\nconst PAGE_SEGMENT_KEY = '__PAGE__';\nconst DEFAULT_SEGMENT_KEY = '__DEFAULT__'; //# sourceMappingURL=segment.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2hhcmVkL2xpYi9zZWdtZW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBRU8sU0FBU0EsZUFBZUMsT0FBZTtJQUM1QyxzQ0FBc0M7SUFDdEMsT0FBT0EsT0FBTyxDQUFDLEVBQUUsS0FBSyxPQUFPQSxRQUFRQyxRQUFRLENBQUM7QUFDaEQ7QUFFTyxTQUFTQyx1QkFBdUJGLE9BQWU7SUFDcEQsT0FBT0EsUUFBUUcsVUFBVSxDQUFDLFFBQVFILFlBQVk7QUFDaEQ7QUFFTyxTQUFTSSw2QkFDZEosT0FBZ0IsRUFDaEJLLFlBQTJEO0lBRTNELE1BQU1DLGdCQUFnQk4sUUFBUU8sUUFBUSxDQUFDQztJQUV2QyxJQUFJRixlQUFlO1FBQ2pCLE1BQU1HLG1CQUFtQkMsS0FBS0MsU0FBUyxDQUFDTjtRQUN4QyxPQUFPSSxxQkFBcUIsT0FDeEJELG1CQUFtQixNQUFNQyxtQkFDekJEO0lBQ047SUFFQSxPQUFPUjtBQUNUO0FBRU8sTUFBTVEsbUJBQW1CLFdBQVU7QUFDbkMsTUFBTUksc0JBQXNCLGNBQWEiLCJzb3VyY2VzIjpbIkQ6XFxzcmNcXHNoYXJlZFxcbGliXFxzZWdtZW50LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgU2VnbWVudCB9IGZyb20gJy4uLy4uL3NlcnZlci9hcHAtcmVuZGVyL3R5cGVzJ1xuXG5leHBvcnQgZnVuY3Rpb24gaXNHcm91cFNlZ21lbnQoc2VnbWVudDogc3RyaW5nKSB7XG4gIC8vIFVzZSBhcnJheVswXSBmb3IgcGVyZm9ybWFudCBwdXJwb3NlXG4gIHJldHVybiBzZWdtZW50WzBdID09PSAnKCcgJiYgc2VnbWVudC5lbmRzV2l0aCgnKScpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1BhcmFsbGVsUm91dGVTZWdtZW50KHNlZ21lbnQ6IHN0cmluZykge1xuICByZXR1cm4gc2VnbWVudC5zdGFydHNXaXRoKCdAJykgJiYgc2VnbWVudCAhPT0gJ0BjaGlsZHJlbidcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZFNlYXJjaFBhcmFtc0lmUGFnZVNlZ21lbnQoXG4gIHNlZ21lbnQ6IFNlZ21lbnQsXG4gIHNlYXJjaFBhcmFtczogUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgc3RyaW5nW10gfCB1bmRlZmluZWQ+XG4pIHtcbiAgY29uc3QgaXNQYWdlU2VnbWVudCA9IHNlZ21lbnQuaW5jbHVkZXMoUEFHRV9TRUdNRU5UX0tFWSlcblxuICBpZiAoaXNQYWdlU2VnbWVudCkge1xuICAgIGNvbnN0IHN0cmluZ2lmaWVkUXVlcnkgPSBKU09OLnN0cmluZ2lmeShzZWFyY2hQYXJhbXMpXG4gICAgcmV0dXJuIHN0cmluZ2lmaWVkUXVlcnkgIT09ICd7fSdcbiAgICAgID8gUEFHRV9TRUdNRU5UX0tFWSArICc/JyArIHN0cmluZ2lmaWVkUXVlcnlcbiAgICAgIDogUEFHRV9TRUdNRU5UX0tFWVxuICB9XG5cbiAgcmV0dXJuIHNlZ21lbnRcbn1cblxuZXhwb3J0IGNvbnN0IFBBR0VfU0VHTUVOVF9LRVkgPSAnX19QQUdFX18nXG5leHBvcnQgY29uc3QgREVGQVVMVF9TRUdNRU5UX0tFWSA9ICdfX0RFRkFVTFRfXydcbiJdLCJuYW1lcyI6WyJpc0dyb3VwU2VnbWVudCIsInNlZ21lbnQiLCJlbmRzV2l0aCIsImlzUGFyYWxsZWxSb3V0ZVNlZ21lbnQiLCJzdGFydHNXaXRoIiwiYWRkU2VhcmNoUGFyYW1zSWZQYWdlU2VnbWVudCIsInNlYXJjaFBhcmFtcyIsImlzUGFnZVNlZ21lbnQiLCJpbmNsdWRlcyIsIlBBR0VfU0VHTUVOVF9LRVkiLCJzdHJpbmdpZmllZFF1ZXJ5IiwiSlNPTiIsInN0cmluZ2lmeSIsIkRFRkFVTFRfU0VHTUVOVF9LRVkiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/shared/lib/segment.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/shared/lib/utils/reflect-utils.js":
/*!**********************************************************************!*\
  !*** ./node_modules/next/dist/esm/shared/lib/utils/reflect-utils.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   describeHasCheckingStringProperty: () => (/* binding */ describeHasCheckingStringProperty),\n/* harmony export */   describeStringPropertyAccess: () => (/* binding */ describeStringPropertyAccess),\n/* harmony export */   wellKnownProperties: () => (/* binding */ wellKnownProperties)\n/* harmony export */ });\n// This regex will have fast negatives meaning valid identifiers may not pass\n// this test. However this is only used during static generation to provide hints\n// about why a page bailed out of some or all prerendering and we can use bracket notation\n// for example while `_` is a valid identifier it's ok to print `searchParams['_']`\n// even if this would have been fine too `searchParams._`\nconst isDefinitelyAValidIdentifier = /^[A-Za-z_$][A-Za-z0-9_$]*$/;\nfunction describeStringPropertyAccess(target, prop) {\n    if (isDefinitelyAValidIdentifier.test(prop)) {\n        return \"`\" + target + \".\" + prop + \"`\";\n    }\n    return \"`\" + target + \"[\" + JSON.stringify(prop) + \"]`\";\n}\nfunction describeHasCheckingStringProperty(target, prop) {\n    const stringifiedProp = JSON.stringify(prop);\n    return \"`Reflect.has(\" + target + \", \" + stringifiedProp + \")`, `\" + stringifiedProp + \" in \" + target + \"`, or similar\";\n}\nconst wellKnownProperties = new Set([\n    'hasOwnProperty',\n    'isPrototypeOf',\n    'propertyIsEnumerable',\n    'toString',\n    'valueOf',\n    'toLocaleString',\n    // Promise prototype\n    // fallthrough\n    'then',\n    'catch',\n    'finally',\n    // React Promise extension\n    // fallthrough\n    'status',\n    // React introspection\n    'displayName',\n    '_debugInfo',\n    // Common tested properties\n    // fallthrough\n    'toJSON',\n    '$$typeof',\n    '__esModule'\n]); //# sourceMappingURL=reflect-utils.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2hhcmVkL2xpYi91dGlscy9yZWZsZWN0LXV0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLDZFQUE2RTtBQUM3RSxpRkFBaUY7QUFDakYsMEZBQTBGO0FBQzFGLHVGQUF1RjtBQUN2RiwyREFBMkQ7QUFDM0QsTUFBTUEsK0JBQStCO0FBRTlCLFNBQVNDLDZCQUE2QkMsTUFBYyxFQUFFQyxJQUFZO0lBQ3ZFLElBQUlILDZCQUE2QkksSUFBSSxDQUFDRCxPQUFPO1FBQzNDLE9BQVEsTUFBSUQsU0FBTyxNQUFHQyxPQUFLO0lBQzdCO0lBQ0EsT0FBUSxNQUFJRCxTQUFPLE1BQUdHLEtBQUtDLFNBQVMsQ0FBQ0gsUUFBTTtBQUM3QztBQUVPLFNBQVNJLGtDQUNkTCxNQUFjLEVBQ2RDLElBQVk7SUFFWixNQUFNSyxrQkFBa0JILEtBQUtDLFNBQVMsQ0FBQ0g7SUFDdkMsT0FBUSxrQkFBZ0JELFNBQU8sT0FBSU0sa0JBQWdCLFVBQVNBLGtCQUFnQixTQUFNTixTQUFPO0FBQzNGO0FBRU8sTUFBTU8sc0JBQXNCLElBQUlDLElBQUk7SUFDekM7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBRUEsb0JBQW9CO0lBQ3BCLGNBQWM7SUFDZDtJQUNBO0lBQ0E7SUFFQSwwQkFBMEI7SUFDMUIsY0FBYztJQUNkO0lBRUEsc0JBQXNCO0lBQ3RCO0lBQ0E7SUFFQSwyQkFBMkI7SUFDM0IsY0FBYztJQUNkO0lBQ0E7SUFDQTtDQUNELEVBQUMiLCJzb3VyY2VzIjpbIkQ6XFxzcmNcXHNoYXJlZFxcbGliXFx1dGlsc1xccmVmbGVjdC11dGlscy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGlzIHJlZ2V4IHdpbGwgaGF2ZSBmYXN0IG5lZ2F0aXZlcyBtZWFuaW5nIHZhbGlkIGlkZW50aWZpZXJzIG1heSBub3QgcGFzc1xuLy8gdGhpcyB0ZXN0LiBIb3dldmVyIHRoaXMgaXMgb25seSB1c2VkIGR1cmluZyBzdGF0aWMgZ2VuZXJhdGlvbiB0byBwcm92aWRlIGhpbnRzXG4vLyBhYm91dCB3aHkgYSBwYWdlIGJhaWxlZCBvdXQgb2Ygc29tZSBvciBhbGwgcHJlcmVuZGVyaW5nIGFuZCB3ZSBjYW4gdXNlIGJyYWNrZXQgbm90YXRpb25cbi8vIGZvciBleGFtcGxlIHdoaWxlIGDgsqBf4LKgYCBpcyBhIHZhbGlkIGlkZW50aWZpZXIgaXQncyBvayB0byBwcmludCBgc2VhcmNoUGFyYW1zWyfgsqBf4LKgJ11gXG4vLyBldmVuIGlmIHRoaXMgd291bGQgaGF2ZSBiZWVuIGZpbmUgdG9vIGBzZWFyY2hQYXJhbXMu4LKgX+CyoGBcbmNvbnN0IGlzRGVmaW5pdGVseUFWYWxpZElkZW50aWZpZXIgPSAvXltBLVphLXpfJF1bQS1aYS16MC05XyRdKiQvXG5cbmV4cG9ydCBmdW5jdGlvbiBkZXNjcmliZVN0cmluZ1Byb3BlcnR5QWNjZXNzKHRhcmdldDogc3RyaW5nLCBwcm9wOiBzdHJpbmcpIHtcbiAgaWYgKGlzRGVmaW5pdGVseUFWYWxpZElkZW50aWZpZXIudGVzdChwcm9wKSkge1xuICAgIHJldHVybiBgXFxgJHt0YXJnZXR9LiR7cHJvcH1cXGBgXG4gIH1cbiAgcmV0dXJuIGBcXGAke3RhcmdldH1bJHtKU09OLnN0cmluZ2lmeShwcm9wKX1dXFxgYFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVzY3JpYmVIYXNDaGVja2luZ1N0cmluZ1Byb3BlcnR5KFxuICB0YXJnZXQ6IHN0cmluZyxcbiAgcHJvcDogc3RyaW5nXG4pIHtcbiAgY29uc3Qgc3RyaW5naWZpZWRQcm9wID0gSlNPTi5zdHJpbmdpZnkocHJvcClcbiAgcmV0dXJuIGBcXGBSZWZsZWN0Lmhhcygke3RhcmdldH0sICR7c3RyaW5naWZpZWRQcm9wfSlcXGAsIFxcYCR7c3RyaW5naWZpZWRQcm9wfSBpbiAke3RhcmdldH1cXGAsIG9yIHNpbWlsYXJgXG59XG5cbmV4cG9ydCBjb25zdCB3ZWxsS25vd25Qcm9wZXJ0aWVzID0gbmV3IFNldChbXG4gICdoYXNPd25Qcm9wZXJ0eScsXG4gICdpc1Byb3RvdHlwZU9mJyxcbiAgJ3Byb3BlcnR5SXNFbnVtZXJhYmxlJyxcbiAgJ3RvU3RyaW5nJyxcbiAgJ3ZhbHVlT2YnLFxuICAndG9Mb2NhbGVTdHJpbmcnLFxuXG4gIC8vIFByb21pc2UgcHJvdG90eXBlXG4gIC8vIGZhbGx0aHJvdWdoXG4gICd0aGVuJyxcbiAgJ2NhdGNoJyxcbiAgJ2ZpbmFsbHknLFxuXG4gIC8vIFJlYWN0IFByb21pc2UgZXh0ZW5zaW9uXG4gIC8vIGZhbGx0aHJvdWdoXG4gICdzdGF0dXMnLFxuXG4gIC8vIFJlYWN0IGludHJvc3BlY3Rpb25cbiAgJ2Rpc3BsYXlOYW1lJyxcbiAgJ19kZWJ1Z0luZm8nLFxuXG4gIC8vIENvbW1vbiB0ZXN0ZWQgcHJvcGVydGllc1xuICAvLyBmYWxsdGhyb3VnaFxuICAndG9KU09OJyxcbiAgJyQkdHlwZW9mJyxcbiAgJ19fZXNNb2R1bGUnLFxuXSlcbiJdLCJuYW1lcyI6WyJpc0RlZmluaXRlbHlBVmFsaWRJZGVudGlmaWVyIiwiZGVzY3JpYmVTdHJpbmdQcm9wZXJ0eUFjY2VzcyIsInRhcmdldCIsInByb3AiLCJ0ZXN0IiwiSlNPTiIsInN0cmluZ2lmeSIsImRlc2NyaWJlSGFzQ2hlY2tpbmdTdHJpbmdQcm9wZXJ0eSIsInN0cmluZ2lmaWVkUHJvcCIsIndlbGxLbm93blByb3BlcnRpZXMiLCJTZXQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/shared/lib/utils/reflect-utils.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/experimental/testmode/context.js":
/*!*****************************************************************!*\
  !*** ./node_modules/next/dist/experimental/testmode/context.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n0 && (0);\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    getTestReqInfo: function() {\n        return getTestReqInfo;\n    },\n    withRequest: function() {\n        return withRequest;\n    }\n});\nconst _nodeasync_hooks = __webpack_require__(/*! node:async_hooks */ \"node:async_hooks\");\nconst testStorage = new _nodeasync_hooks.AsyncLocalStorage();\nfunction extractTestInfoFromRequest(req, reader) {\n    const proxyPortHeader = reader.header(req, 'next-test-proxy-port');\n    if (!proxyPortHeader) {\n        return undefined;\n    }\n    const url = reader.url(req);\n    const proxyPort = Number(proxyPortHeader);\n    const testData = reader.header(req, 'next-test-data') || '';\n    return {\n        url,\n        proxyPort,\n        testData\n    };\n}\nfunction withRequest(req, reader, fn) {\n    const testReqInfo = extractTestInfoFromRequest(req, reader);\n    if (!testReqInfo) {\n        return fn();\n    }\n    return testStorage.run(testReqInfo, fn);\n}\nfunction getTestReqInfo(req, reader) {\n    const testReqInfo = testStorage.getStore();\n    if (testReqInfo) {\n        return testReqInfo;\n    }\n    if (req && reader) {\n        return extractTestInfoFromRequest(req, reader);\n    }\n    return undefined;\n}\n\n//# sourceMappingURL=context.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9leHBlcmltZW50YWwvdGVzdG1vZGUvY29udGV4dC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGLE1BQU0sQ0FHTDtBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCx5QkFBeUIsbUJBQU8sQ0FBQywwQ0FBa0I7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcbmV4dFxcZGlzdFxcZXhwZXJpbWVudGFsXFx0ZXN0bW9kZVxcY29udGV4dC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbjAgJiYgKG1vZHVsZS5leHBvcnRzID0ge1xuICAgIGdldFRlc3RSZXFJbmZvOiBudWxsLFxuICAgIHdpdGhSZXF1ZXN0OiBudWxsXG59KTtcbmZ1bmN0aW9uIF9leHBvcnQodGFyZ2V0LCBhbGwpIHtcbiAgICBmb3IodmFyIG5hbWUgaW4gYWxsKU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIG5hbWUsIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBhbGxbbmFtZV1cbiAgICB9KTtcbn1cbl9leHBvcnQoZXhwb3J0cywge1xuICAgIGdldFRlc3RSZXFJbmZvOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGdldFRlc3RSZXFJbmZvO1xuICAgIH0sXG4gICAgd2l0aFJlcXVlc3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gd2l0aFJlcXVlc3Q7XG4gICAgfVxufSk7XG5jb25zdCBfbm9kZWFzeW5jX2hvb2tzID0gcmVxdWlyZShcIm5vZGU6YXN5bmNfaG9va3NcIik7XG5jb25zdCB0ZXN0U3RvcmFnZSA9IG5ldyBfbm9kZWFzeW5jX2hvb2tzLkFzeW5jTG9jYWxTdG9yYWdlKCk7XG5mdW5jdGlvbiBleHRyYWN0VGVzdEluZm9Gcm9tUmVxdWVzdChyZXEsIHJlYWRlcikge1xuICAgIGNvbnN0IHByb3h5UG9ydEhlYWRlciA9IHJlYWRlci5oZWFkZXIocmVxLCAnbmV4dC10ZXN0LXByb3h5LXBvcnQnKTtcbiAgICBpZiAoIXByb3h5UG9ydEhlYWRlcikge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25zdCB1cmwgPSByZWFkZXIudXJsKHJlcSk7XG4gICAgY29uc3QgcHJveHlQb3J0ID0gTnVtYmVyKHByb3h5UG9ydEhlYWRlcik7XG4gICAgY29uc3QgdGVzdERhdGEgPSByZWFkZXIuaGVhZGVyKHJlcSwgJ25leHQtdGVzdC1kYXRhJykgfHwgJyc7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdXJsLFxuICAgICAgICBwcm94eVBvcnQsXG4gICAgICAgIHRlc3REYXRhXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHdpdGhSZXF1ZXN0KHJlcSwgcmVhZGVyLCBmbikge1xuICAgIGNvbnN0IHRlc3RSZXFJbmZvID0gZXh0cmFjdFRlc3RJbmZvRnJvbVJlcXVlc3QocmVxLCByZWFkZXIpO1xuICAgIGlmICghdGVzdFJlcUluZm8pIHtcbiAgICAgICAgcmV0dXJuIGZuKCk7XG4gICAgfVxuICAgIHJldHVybiB0ZXN0U3RvcmFnZS5ydW4odGVzdFJlcUluZm8sIGZuKTtcbn1cbmZ1bmN0aW9uIGdldFRlc3RSZXFJbmZvKHJlcSwgcmVhZGVyKSB7XG4gICAgY29uc3QgdGVzdFJlcUluZm8gPSB0ZXN0U3RvcmFnZS5nZXRTdG9yZSgpO1xuICAgIGlmICh0ZXN0UmVxSW5mbykge1xuICAgICAgICByZXR1cm4gdGVzdFJlcUluZm87XG4gICAgfVxuICAgIGlmIChyZXEgJiYgcmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBleHRyYWN0VGVzdEluZm9Gcm9tUmVxdWVzdChyZXEsIHJlYWRlcik7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnRleHQuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/experimental/testmode/context.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/experimental/testmode/fetch.js":
/*!***************************************************************!*\
  !*** ./node_modules/next/dist/experimental/testmode/fetch.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ \"buffer\")[\"Buffer\"];\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n0 && (0);\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    handleFetch: function() {\n        return handleFetch;\n    },\n    interceptFetch: function() {\n        return interceptFetch;\n    },\n    reader: function() {\n        return reader;\n    }\n});\nconst _context = __webpack_require__(/*! ./context */ \"(middleware)/./node_modules/next/dist/experimental/testmode/context.js\");\nconst reader = {\n    url (req) {\n        return req.url;\n    },\n    header (req, name) {\n        return req.headers.get(name);\n    }\n};\nfunction getTestStack() {\n    let stack = (new Error().stack ?? '').split('\\n');\n    // Skip the first line and find first non-empty line.\n    for(let i = 1; i < stack.length; i++){\n        if (stack[i].length > 0) {\n            stack = stack.slice(i);\n            break;\n        }\n    }\n    // Filter out franmework lines.\n    stack = stack.filter((f)=>!f.includes('/next/dist/'));\n    // At most 5 lines.\n    stack = stack.slice(0, 5);\n    // Cleanup some internal info and trim.\n    stack = stack.map((s)=>s.replace('webpack-internal:///(rsc)/', '').trim());\n    return stack.join('    ');\n}\nasync function buildProxyRequest(testData, request) {\n    const { url, method, headers, body, cache, credentials, integrity, mode, redirect, referrer, referrerPolicy } = request;\n    return {\n        testData,\n        api: 'fetch',\n        request: {\n            url,\n            method,\n            headers: [\n                ...Array.from(headers),\n                [\n                    'next-test-stack',\n                    getTestStack()\n                ]\n            ],\n            body: body ? Buffer.from(await request.arrayBuffer()).toString('base64') : null,\n            cache,\n            credentials,\n            integrity,\n            mode,\n            redirect,\n            referrer,\n            referrerPolicy\n        }\n    };\n}\nfunction buildResponse(proxyResponse) {\n    const { status, headers, body } = proxyResponse.response;\n    return new Response(body ? Buffer.from(body, 'base64') : null, {\n        status,\n        headers: new Headers(headers)\n    });\n}\nasync function handleFetch(originalFetch, request) {\n    const testInfo = (0, _context.getTestReqInfo)(request, reader);\n    if (!testInfo) {\n        // Passthrough non-test requests.\n        return originalFetch(request);\n    }\n    const { testData, proxyPort } = testInfo;\n    const proxyRequest = await buildProxyRequest(testData, request);\n    const resp = await originalFetch(`http://localhost:${proxyPort}`, {\n        method: 'POST',\n        body: JSON.stringify(proxyRequest),\n        next: {\n            // @ts-ignore\n            internal: true\n        }\n    });\n    if (!resp.ok) {\n        throw Object.defineProperty(new Error(`Proxy request failed: ${resp.status}`), \"__NEXT_ERROR_CODE\", {\n            value: \"E146\",\n            enumerable: false,\n            configurable: true\n        });\n    }\n    const proxyResponse = await resp.json();\n    const { api } = proxyResponse;\n    switch(api){\n        case 'continue':\n            return originalFetch(request);\n        case 'abort':\n        case 'unhandled':\n            throw Object.defineProperty(new Error(`Proxy request aborted [${request.method} ${request.url}]`), \"__NEXT_ERROR_CODE\", {\n                value: \"E145\",\n                enumerable: false,\n                configurable: true\n            });\n        case 'fetch':\n            return buildResponse(proxyResponse);\n        default:\n            return api;\n    }\n}\nfunction interceptFetch(originalFetch) {\n    __webpack_require__.g.fetch = function testFetch(input, init) {\n        var _init_next;\n        // Passthrough internal requests.\n        // @ts-ignore\n        if (init == null ? void 0 : (_init_next = init.next) == null ? void 0 : _init_next.internal) {\n            return originalFetch(input, init);\n        }\n        return handleFetch(originalFetch, new Request(input, init));\n    };\n    return ()=>{\n        __webpack_require__.g.fetch = originalFetch;\n    };\n}\n\n//# sourceMappingURL=fetch.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9leHBlcmltZW50YWwvdGVzdG1vZGUvZmV0Y2guanMiLCJtYXBwaW5ncyI6IjtBQUFhO0FBQ2IsOENBQTZDO0FBQzdDO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YsTUFBTSxDQUlMO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsaUJBQWlCLG1CQUFPLENBQUMseUZBQVc7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGtCQUFrQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxzR0FBc0c7QUFDbEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsTUFBTTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSx3QkFBd0I7QUFDcEMsK0JBQStCLE1BQU07QUFDckM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksc0JBQXNCO0FBQ2xDO0FBQ0EseURBQXlELFVBQVU7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsdUVBQXVFLFlBQVk7QUFDbkY7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxZQUFZLE1BQU07QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRFQUE0RSxnQkFBZ0IsRUFBRSxZQUFZO0FBQzFHO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUkscUJBQU07QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHFCQUFNO0FBQ2Q7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcbmV4dFxcZGlzdFxcZXhwZXJpbWVudGFsXFx0ZXN0bW9kZVxcZmV0Y2guanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG4wICYmIChtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBoYW5kbGVGZXRjaDogbnVsbCxcbiAgICBpbnRlcmNlcHRGZXRjaDogbnVsbCxcbiAgICByZWFkZXI6IG51bGxcbn0pO1xuZnVuY3Rpb24gX2V4cG9ydCh0YXJnZXQsIGFsbCkge1xuICAgIGZvcih2YXIgbmFtZSBpbiBhbGwpT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgbmFtZSwge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGFsbFtuYW1lXVxuICAgIH0pO1xufVxuX2V4cG9ydChleHBvcnRzLCB7XG4gICAgaGFuZGxlRmV0Y2g6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gaGFuZGxlRmV0Y2g7XG4gICAgfSxcbiAgICBpbnRlcmNlcHRGZXRjaDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBpbnRlcmNlcHRGZXRjaDtcbiAgICB9LFxuICAgIHJlYWRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiByZWFkZXI7XG4gICAgfVxufSk7XG5jb25zdCBfY29udGV4dCA9IHJlcXVpcmUoXCIuL2NvbnRleHRcIik7XG5jb25zdCByZWFkZXIgPSB7XG4gICAgdXJsIChyZXEpIHtcbiAgICAgICAgcmV0dXJuIHJlcS51cmw7XG4gICAgfSxcbiAgICBoZWFkZXIgKHJlcSwgbmFtZSkge1xuICAgICAgICByZXR1cm4gcmVxLmhlYWRlcnMuZ2V0KG5hbWUpO1xuICAgIH1cbn07XG5mdW5jdGlvbiBnZXRUZXN0U3RhY2soKSB7XG4gICAgbGV0IHN0YWNrID0gKG5ldyBFcnJvcigpLnN0YWNrID8/ICcnKS5zcGxpdCgnXFxuJyk7XG4gICAgLy8gU2tpcCB0aGUgZmlyc3QgbGluZSBhbmQgZmluZCBmaXJzdCBub24tZW1wdHkgbGluZS5cbiAgICBmb3IobGV0IGkgPSAxOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspe1xuICAgICAgICBpZiAoc3RhY2tbaV0ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgc3RhY2sgPSBzdGFjay5zbGljZShpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEZpbHRlciBvdXQgZnJhbm1ld29yayBsaW5lcy5cbiAgICBzdGFjayA9IHN0YWNrLmZpbHRlcigoZik9PiFmLmluY2x1ZGVzKCcvbmV4dC9kaXN0LycpKTtcbiAgICAvLyBBdCBtb3N0IDUgbGluZXMuXG4gICAgc3RhY2sgPSBzdGFjay5zbGljZSgwLCA1KTtcbiAgICAvLyBDbGVhbnVwIHNvbWUgaW50ZXJuYWwgaW5mbyBhbmQgdHJpbS5cbiAgICBzdGFjayA9IHN0YWNrLm1hcCgocyk9PnMucmVwbGFjZSgnd2VicGFjay1pbnRlcm5hbDovLy8ocnNjKS8nLCAnJykudHJpbSgpKTtcbiAgICByZXR1cm4gc3RhY2suam9pbignICAgICcpO1xufVxuYXN5bmMgZnVuY3Rpb24gYnVpbGRQcm94eVJlcXVlc3QodGVzdERhdGEsIHJlcXVlc3QpIHtcbiAgICBjb25zdCB7IHVybCwgbWV0aG9kLCBoZWFkZXJzLCBib2R5LCBjYWNoZSwgY3JlZGVudGlhbHMsIGludGVncml0eSwgbW9kZSwgcmVkaXJlY3QsIHJlZmVycmVyLCByZWZlcnJlclBvbGljeSB9ID0gcmVxdWVzdDtcbiAgICByZXR1cm4ge1xuICAgICAgICB0ZXN0RGF0YSxcbiAgICAgICAgYXBpOiAnZmV0Y2gnLFxuICAgICAgICByZXF1ZXN0OiB7XG4gICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgICBoZWFkZXJzOiBbXG4gICAgICAgICAgICAgICAgLi4uQXJyYXkuZnJvbShoZWFkZXJzKSxcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICduZXh0LXRlc3Qtc3RhY2snLFxuICAgICAgICAgICAgICAgICAgICBnZXRUZXN0U3RhY2soKVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBib2R5OiBib2R5ID8gQnVmZmVyLmZyb20oYXdhaXQgcmVxdWVzdC5hcnJheUJ1ZmZlcigpKS50b1N0cmluZygnYmFzZTY0JykgOiBudWxsLFxuICAgICAgICAgICAgY2FjaGUsXG4gICAgICAgICAgICBjcmVkZW50aWFscyxcbiAgICAgICAgICAgIGludGVncml0eSxcbiAgICAgICAgICAgIG1vZGUsXG4gICAgICAgICAgICByZWRpcmVjdCxcbiAgICAgICAgICAgIHJlZmVycmVyLFxuICAgICAgICAgICAgcmVmZXJyZXJQb2xpY3lcbiAgICAgICAgfVxuICAgIH07XG59XG5mdW5jdGlvbiBidWlsZFJlc3BvbnNlKHByb3h5UmVzcG9uc2UpIHtcbiAgICBjb25zdCB7IHN0YXR1cywgaGVhZGVycywgYm9keSB9ID0gcHJveHlSZXNwb25zZS5yZXNwb25zZTtcbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKGJvZHkgPyBCdWZmZXIuZnJvbShib2R5LCAnYmFzZTY0JykgOiBudWxsLCB7XG4gICAgICAgIHN0YXR1cyxcbiAgICAgICAgaGVhZGVyczogbmV3IEhlYWRlcnMoaGVhZGVycylcbiAgICB9KTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZUZldGNoKG9yaWdpbmFsRmV0Y2gsIHJlcXVlc3QpIHtcbiAgICBjb25zdCB0ZXN0SW5mbyA9ICgwLCBfY29udGV4dC5nZXRUZXN0UmVxSW5mbykocmVxdWVzdCwgcmVhZGVyKTtcbiAgICBpZiAoIXRlc3RJbmZvKSB7XG4gICAgICAgIC8vIFBhc3N0aHJvdWdoIG5vbi10ZXN0IHJlcXVlc3RzLlxuICAgICAgICByZXR1cm4gb3JpZ2luYWxGZXRjaChyZXF1ZXN0KTtcbiAgICB9XG4gICAgY29uc3QgeyB0ZXN0RGF0YSwgcHJveHlQb3J0IH0gPSB0ZXN0SW5mbztcbiAgICBjb25zdCBwcm94eVJlcXVlc3QgPSBhd2FpdCBidWlsZFByb3h5UmVxdWVzdCh0ZXN0RGF0YSwgcmVxdWVzdCk7XG4gICAgY29uc3QgcmVzcCA9IGF3YWl0IG9yaWdpbmFsRmV0Y2goYGh0dHA6Ly9sb2NhbGhvc3Q6JHtwcm94eVBvcnR9YCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocHJveHlSZXF1ZXN0KSxcbiAgICAgICAgbmV4dDoge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgaW50ZXJuYWw6IHRydWVcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghcmVzcC5vaykge1xuICAgICAgICB0aHJvdyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3IEVycm9yKGBQcm94eSByZXF1ZXN0IGZhaWxlZDogJHtyZXNwLnN0YXR1c31gKSwgXCJfX05FWFRfRVJST1JfQ09ERVwiLCB7XG4gICAgICAgICAgICB2YWx1ZTogXCJFMTQ2XCIsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgcHJveHlSZXNwb25zZSA9IGF3YWl0IHJlc3AuanNvbigpO1xuICAgIGNvbnN0IHsgYXBpIH0gPSBwcm94eVJlc3BvbnNlO1xuICAgIHN3aXRjaChhcGkpe1xuICAgICAgICBjYXNlICdjb250aW51ZSc6XG4gICAgICAgICAgICByZXR1cm4gb3JpZ2luYWxGZXRjaChyZXF1ZXN0KTtcbiAgICAgICAgY2FzZSAnYWJvcnQnOlxuICAgICAgICBjYXNlICd1bmhhbmRsZWQnOlxuICAgICAgICAgICAgdGhyb3cgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ldyBFcnJvcihgUHJveHkgcmVxdWVzdCBhYm9ydGVkIFske3JlcXVlc3QubWV0aG9kfSAke3JlcXVlc3QudXJsfV1gKSwgXCJfX05FWFRfRVJST1JfQ09ERVwiLCB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiRTE0NVwiLFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIGNhc2UgJ2ZldGNoJzpcbiAgICAgICAgICAgIHJldHVybiBidWlsZFJlc3BvbnNlKHByb3h5UmVzcG9uc2UpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGFwaTtcbiAgICB9XG59XG5mdW5jdGlvbiBpbnRlcmNlcHRGZXRjaChvcmlnaW5hbEZldGNoKSB7XG4gICAgZ2xvYmFsLmZldGNoID0gZnVuY3Rpb24gdGVzdEZldGNoKGlucHV0LCBpbml0KSB7XG4gICAgICAgIHZhciBfaW5pdF9uZXh0O1xuICAgICAgICAvLyBQYXNzdGhyb3VnaCBpbnRlcm5hbCByZXF1ZXN0cy5cbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBpZiAoaW5pdCA9PSBudWxsID8gdm9pZCAwIDogKF9pbml0X25leHQgPSBpbml0Lm5leHQpID09IG51bGwgPyB2b2lkIDAgOiBfaW5pdF9uZXh0LmludGVybmFsKSB7XG4gICAgICAgICAgICByZXR1cm4gb3JpZ2luYWxGZXRjaChpbnB1dCwgaW5pdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhhbmRsZUZldGNoKG9yaWdpbmFsRmV0Y2gsIG5ldyBSZXF1ZXN0KGlucHV0LCBpbml0KSk7XG4gICAgfTtcbiAgICByZXR1cm4gKCk9PntcbiAgICAgICAgZ2xvYmFsLmZldGNoID0gb3JpZ2luYWxGZXRjaDtcbiAgICB9O1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1mZXRjaC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/experimental/testmode/fetch.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/experimental/testmode/server-edge.js":
/*!*********************************************************************!*\
  !*** ./node_modules/next/dist/experimental/testmode/server-edge.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n0 && (0);\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    interceptTestApis: function() {\n        return interceptTestApis;\n    },\n    wrapRequestHandler: function() {\n        return wrapRequestHandler;\n    }\n});\nconst _context = __webpack_require__(/*! ./context */ \"(middleware)/./node_modules/next/dist/experimental/testmode/context.js\");\nconst _fetch = __webpack_require__(/*! ./fetch */ \"(middleware)/./node_modules/next/dist/experimental/testmode/fetch.js\");\nfunction interceptTestApis() {\n    return (0, _fetch.interceptFetch)(__webpack_require__.g.fetch);\n}\nfunction wrapRequestHandler(handler) {\n    return (req, fn)=>(0, _context.withRequest)(req, _fetch.reader, ()=>handler(req, fn));\n}\n\n//# sourceMappingURL=server-edge.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9leHBlcmltZW50YWwvdGVzdG1vZGUvc2VydmVyLWVkZ2UuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkM7QUFDN0M7QUFDQSxDQUFDLEVBQUM7QUFDRixNQUFNLENBR0w7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsaUJBQWlCLG1CQUFPLENBQUMseUZBQVc7QUFDcEMsZUFBZSxtQkFBTyxDQUFDLHFGQUFTO0FBQ2hDO0FBQ0Esc0NBQXNDLHFCQUFNO0FBQzVDO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxuZXh0XFxkaXN0XFxleHBlcmltZW50YWxcXHRlc3Rtb2RlXFxzZXJ2ZXItZWRnZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbjAgJiYgKG1vZHVsZS5leHBvcnRzID0ge1xuICAgIGludGVyY2VwdFRlc3RBcGlzOiBudWxsLFxuICAgIHdyYXBSZXF1ZXN0SGFuZGxlcjogbnVsbFxufSk7XG5mdW5jdGlvbiBfZXhwb3J0KHRhcmdldCwgYWxsKSB7XG4gICAgZm9yKHZhciBuYW1lIGluIGFsbClPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBuYW1lLCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogYWxsW25hbWVdXG4gICAgfSk7XG59XG5fZXhwb3J0KGV4cG9ydHMsIHtcbiAgICBpbnRlcmNlcHRUZXN0QXBpczogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBpbnRlcmNlcHRUZXN0QXBpcztcbiAgICB9LFxuICAgIHdyYXBSZXF1ZXN0SGFuZGxlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB3cmFwUmVxdWVzdEhhbmRsZXI7XG4gICAgfVxufSk7XG5jb25zdCBfY29udGV4dCA9IHJlcXVpcmUoXCIuL2NvbnRleHRcIik7XG5jb25zdCBfZmV0Y2ggPSByZXF1aXJlKFwiLi9mZXRjaFwiKTtcbmZ1bmN0aW9uIGludGVyY2VwdFRlc3RBcGlzKCkge1xuICAgIHJldHVybiAoMCwgX2ZldGNoLmludGVyY2VwdEZldGNoKShnbG9iYWwuZmV0Y2gpO1xufVxuZnVuY3Rpb24gd3JhcFJlcXVlc3RIYW5kbGVyKGhhbmRsZXIpIHtcbiAgICByZXR1cm4gKHJlcSwgZm4pPT4oMCwgX2NvbnRleHQud2l0aFJlcXVlc3QpKHJlcSwgX2ZldGNoLnJlYWRlciwgKCk9PmhhbmRsZXIocmVxLCBmbikpO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXJ2ZXItZWRnZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/experimental/testmode/server-edge.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/oauth4webapi/build/index.js":
/*!**************************************************!*\
  !*** ./node_modules/oauth4webapi/build/index.js ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AUTHORIZATION_RESPONSE_ERROR: () => (/* binding */ AUTHORIZATION_RESPONSE_ERROR),\n/* harmony export */   AuthorizationResponseError: () => (/* binding */ AuthorizationResponseError),\n/* harmony export */   ClientSecretBasic: () => (/* binding */ ClientSecretBasic),\n/* harmony export */   ClientSecretJwt: () => (/* binding */ ClientSecretJwt),\n/* harmony export */   ClientSecretPost: () => (/* binding */ ClientSecretPost),\n/* harmony export */   DPoP: () => (/* binding */ DPoP),\n/* harmony export */   HTTP_REQUEST_FORBIDDEN: () => (/* binding */ HTTP_REQUEST_FORBIDDEN),\n/* harmony export */   INVALID_REQUEST: () => (/* binding */ INVALID_REQUEST),\n/* harmony export */   INVALID_RESPONSE: () => (/* binding */ INVALID_RESPONSE),\n/* harmony export */   INVALID_SERVER_METADATA: () => (/* binding */ INVALID_SERVER_METADATA),\n/* harmony export */   JSON_ATTRIBUTE_COMPARISON: () => (/* binding */ JSON_ATTRIBUTE_COMPARISON),\n/* harmony export */   JWT_CLAIM_COMPARISON: () => (/* binding */ JWT_CLAIM_COMPARISON),\n/* harmony export */   JWT_TIMESTAMP_CHECK: () => (/* binding */ JWT_TIMESTAMP_CHECK),\n/* harmony export */   JWT_USERINFO_EXPECTED: () => (/* binding */ JWT_USERINFO_EXPECTED),\n/* harmony export */   KEY_SELECTION: () => (/* binding */ KEY_SELECTION),\n/* harmony export */   MISSING_SERVER_METADATA: () => (/* binding */ MISSING_SERVER_METADATA),\n/* harmony export */   None: () => (/* binding */ None),\n/* harmony export */   OperationProcessingError: () => (/* binding */ OperationProcessingError),\n/* harmony export */   PARSE_ERROR: () => (/* binding */ PARSE_ERROR),\n/* harmony export */   PrivateKeyJwt: () => (/* binding */ PrivateKeyJwt),\n/* harmony export */   REQUEST_PROTOCOL_FORBIDDEN: () => (/* binding */ REQUEST_PROTOCOL_FORBIDDEN),\n/* harmony export */   RESPONSE_BODY_ERROR: () => (/* binding */ RESPONSE_BODY_ERROR),\n/* harmony export */   RESPONSE_IS_NOT_CONFORM: () => (/* binding */ RESPONSE_IS_NOT_CONFORM),\n/* harmony export */   RESPONSE_IS_NOT_JSON: () => (/* binding */ RESPONSE_IS_NOT_JSON),\n/* harmony export */   ResponseBodyError: () => (/* binding */ ResponseBodyError),\n/* harmony export */   TlsClientAuth: () => (/* binding */ TlsClientAuth),\n/* harmony export */   UNSUPPORTED_OPERATION: () => (/* binding */ UNSUPPORTED_OPERATION),\n/* harmony export */   UnsupportedOperationError: () => (/* binding */ UnsupportedOperationError),\n/* harmony export */   WWWAuthenticateChallengeError: () => (/* binding */ WWWAuthenticateChallengeError),\n/* harmony export */   WWW_AUTHENTICATE_CHALLENGE: () => (/* binding */ WWW_AUTHENTICATE_CHALLENGE),\n/* harmony export */   _expectedIssuer: () => (/* binding */ _expectedIssuer),\n/* harmony export */   _nodiscoverycheck: () => (/* binding */ _nodiscoverycheck),\n/* harmony export */   _nopkce: () => (/* binding */ _nopkce),\n/* harmony export */   allowInsecureRequests: () => (/* binding */ allowInsecureRequests),\n/* harmony export */   authorizationCodeGrantRequest: () => (/* binding */ authorizationCodeGrantRequest),\n/* harmony export */   backchannelAuthenticationGrantRequest: () => (/* binding */ backchannelAuthenticationGrantRequest),\n/* harmony export */   backchannelAuthenticationRequest: () => (/* binding */ backchannelAuthenticationRequest),\n/* harmony export */   calculatePKCECodeChallenge: () => (/* binding */ calculatePKCECodeChallenge),\n/* harmony export */   checkProtocol: () => (/* binding */ checkProtocol),\n/* harmony export */   clientCredentialsGrantRequest: () => (/* binding */ clientCredentialsGrantRequest),\n/* harmony export */   clockSkew: () => (/* binding */ clockSkew),\n/* harmony export */   clockTolerance: () => (/* binding */ clockTolerance),\n/* harmony export */   customFetch: () => (/* binding */ customFetch),\n/* harmony export */   deviceAuthorizationRequest: () => (/* binding */ deviceAuthorizationRequest),\n/* harmony export */   deviceCodeGrantRequest: () => (/* binding */ deviceCodeGrantRequest),\n/* harmony export */   discoveryRequest: () => (/* binding */ discoveryRequest),\n/* harmony export */   dynamicClientRegistrationRequest: () => (/* binding */ dynamicClientRegistrationRequest),\n/* harmony export */   expectNoNonce: () => (/* binding */ expectNoNonce),\n/* harmony export */   expectNoState: () => (/* binding */ expectNoState),\n/* harmony export */   formPostResponse: () => (/* binding */ formPostResponse),\n/* harmony export */   generateKeyPair: () => (/* binding */ generateKeyPair),\n/* harmony export */   generateRandomCodeVerifier: () => (/* binding */ generateRandomCodeVerifier),\n/* harmony export */   generateRandomNonce: () => (/* binding */ generateRandomNonce),\n/* harmony export */   generateRandomState: () => (/* binding */ generateRandomState),\n/* harmony export */   genericTokenEndpointRequest: () => (/* binding */ genericTokenEndpointRequest),\n/* harmony export */   getContentType: () => (/* binding */ getContentType),\n/* harmony export */   getValidatedIdTokenClaims: () => (/* binding */ getValidatedIdTokenClaims),\n/* harmony export */   introspectionRequest: () => (/* binding */ introspectionRequest),\n/* harmony export */   isDPoPNonceError: () => (/* binding */ isDPoPNonceError),\n/* harmony export */   issueRequestObject: () => (/* binding */ issueRequestObject),\n/* harmony export */   jweDecrypt: () => (/* binding */ jweDecrypt),\n/* harmony export */   jwksCache: () => (/* binding */ jwksCache),\n/* harmony export */   modifyAssertion: () => (/* binding */ modifyAssertion),\n/* harmony export */   nopkce: () => (/* binding */ nopkce),\n/* harmony export */   processAuthorizationCodeResponse: () => (/* binding */ processAuthorizationCodeResponse),\n/* harmony export */   processBackchannelAuthenticationGrantResponse: () => (/* binding */ processBackchannelAuthenticationGrantResponse),\n/* harmony export */   processBackchannelAuthenticationResponse: () => (/* binding */ processBackchannelAuthenticationResponse),\n/* harmony export */   processClientCredentialsResponse: () => (/* binding */ processClientCredentialsResponse),\n/* harmony export */   processDeviceAuthorizationResponse: () => (/* binding */ processDeviceAuthorizationResponse),\n/* harmony export */   processDeviceCodeResponse: () => (/* binding */ processDeviceCodeResponse),\n/* harmony export */   processDiscoveryResponse: () => (/* binding */ processDiscoveryResponse),\n/* harmony export */   processDynamicClientRegistrationResponse: () => (/* binding */ processDynamicClientRegistrationResponse),\n/* harmony export */   processGenericTokenEndpointResponse: () => (/* binding */ processGenericTokenEndpointResponse),\n/* harmony export */   processIntrospectionResponse: () => (/* binding */ processIntrospectionResponse),\n/* harmony export */   processPushedAuthorizationResponse: () => (/* binding */ processPushedAuthorizationResponse),\n/* harmony export */   processRefreshTokenResponse: () => (/* binding */ processRefreshTokenResponse),\n/* harmony export */   processResourceDiscoveryResponse: () => (/* binding */ processResourceDiscoveryResponse),\n/* harmony export */   processRevocationResponse: () => (/* binding */ processRevocationResponse),\n/* harmony export */   processUserInfoResponse: () => (/* binding */ processUserInfoResponse),\n/* harmony export */   protectedResourceRequest: () => (/* binding */ protectedResourceRequest),\n/* harmony export */   pushedAuthorizationRequest: () => (/* binding */ pushedAuthorizationRequest),\n/* harmony export */   refreshTokenGrantRequest: () => (/* binding */ refreshTokenGrantRequest),\n/* harmony export */   resolveEndpoint: () => (/* binding */ resolveEndpoint),\n/* harmony export */   resourceDiscoveryRequest: () => (/* binding */ resourceDiscoveryRequest),\n/* harmony export */   revocationRequest: () => (/* binding */ revocationRequest),\n/* harmony export */   skipAuthTimeCheck: () => (/* binding */ skipAuthTimeCheck),\n/* harmony export */   skipStateCheck: () => (/* binding */ skipStateCheck),\n/* harmony export */   skipSubjectCheck: () => (/* binding */ skipSubjectCheck),\n/* harmony export */   userInfoRequest: () => (/* binding */ userInfoRequest),\n/* harmony export */   validateApplicationLevelSignature: () => (/* binding */ validateApplicationLevelSignature),\n/* harmony export */   validateAuthResponse: () => (/* binding */ validateAuthResponse),\n/* harmony export */   validateCodeIdTokenResponse: () => (/* binding */ validateCodeIdTokenResponse),\n/* harmony export */   validateDetachedSignatureResponse: () => (/* binding */ validateDetachedSignatureResponse),\n/* harmony export */   validateJwtAccessToken: () => (/* binding */ validateJwtAccessToken),\n/* harmony export */   validateJwtAuthResponse: () => (/* binding */ validateJwtAuthResponse)\n/* harmony export */ });\nlet USER_AGENT;\nif (typeof navigator === 'undefined' || !navigator.userAgent?.startsWith?.('Mozilla/5.0 ')) {\n    const NAME = 'oauth4webapi';\n    const VERSION = 'v3.8.2';\n    USER_AGENT = `${NAME}/${VERSION}`;\n}\nfunction looseInstanceOf(input, expected) {\n    if (input == null) {\n        return false;\n    }\n    try {\n        return (input instanceof expected ||\n            Object.getPrototypeOf(input)[Symbol.toStringTag] === expected.prototype[Symbol.toStringTag]);\n    }\n    catch {\n        return false;\n    }\n}\nconst ERR_INVALID_ARG_VALUE = 'ERR_INVALID_ARG_VALUE';\nconst ERR_INVALID_ARG_TYPE = 'ERR_INVALID_ARG_TYPE';\nfunction CodedTypeError(message, code, cause) {\n    const err = new TypeError(message, { cause });\n    Object.assign(err, { code });\n    return err;\n}\nconst allowInsecureRequests = Symbol();\nconst clockSkew = Symbol();\nconst clockTolerance = Symbol();\nconst customFetch = Symbol();\nconst modifyAssertion = Symbol();\nconst jweDecrypt = Symbol();\nconst jwksCache = Symbol();\nconst encoder = new TextEncoder();\nconst decoder = new TextDecoder();\nfunction buf(input) {\n    if (typeof input === 'string') {\n        return encoder.encode(input);\n    }\n    return decoder.decode(input);\n}\nlet encodeBase64Url;\nif (Uint8Array.prototype.toBase64) {\n    encodeBase64Url = (input) => {\n        if (input instanceof ArrayBuffer) {\n            input = new Uint8Array(input);\n        }\n        return input.toBase64({ alphabet: 'base64url', omitPadding: true });\n    };\n}\nelse {\n    const CHUNK_SIZE = 0x8000;\n    encodeBase64Url = (input) => {\n        if (input instanceof ArrayBuffer) {\n            input = new Uint8Array(input);\n        }\n        const arr = [];\n        for (let i = 0; i < input.byteLength; i += CHUNK_SIZE) {\n            arr.push(String.fromCharCode.apply(null, input.subarray(i, i + CHUNK_SIZE)));\n        }\n        return btoa(arr.join('')).replace(/=/g, '').replace(/\\+/g, '-').replace(/\\//g, '_');\n    };\n}\nlet decodeBase64Url;\nif (Uint8Array.fromBase64) {\n    decodeBase64Url = (input) => {\n        try {\n            return Uint8Array.fromBase64(input, { alphabet: 'base64url' });\n        }\n        catch (cause) {\n            throw CodedTypeError('The input to be decoded is not correctly encoded.', ERR_INVALID_ARG_VALUE, cause);\n        }\n    };\n}\nelse {\n    decodeBase64Url = (input) => {\n        try {\n            const binary = atob(input.replace(/-/g, '+').replace(/_/g, '/').replace(/\\s/g, ''));\n            const bytes = new Uint8Array(binary.length);\n            for (let i = 0; i < binary.length; i++) {\n                bytes[i] = binary.charCodeAt(i);\n            }\n            return bytes;\n        }\n        catch (cause) {\n            throw CodedTypeError('The input to be decoded is not correctly encoded.', ERR_INVALID_ARG_VALUE, cause);\n        }\n    };\n}\nfunction b64u(input) {\n    if (typeof input === 'string') {\n        return decodeBase64Url(input);\n    }\n    return encodeBase64Url(input);\n}\nclass UnsupportedOperationError extends Error {\n    code;\n    constructor(message, options) {\n        super(message, options);\n        this.name = this.constructor.name;\n        this.code = UNSUPPORTED_OPERATION;\n        Error.captureStackTrace?.(this, this.constructor);\n    }\n}\nclass OperationProcessingError extends Error {\n    code;\n    constructor(message, options) {\n        super(message, options);\n        this.name = this.constructor.name;\n        if (options?.code) {\n            this.code = options?.code;\n        }\n        Error.captureStackTrace?.(this, this.constructor);\n    }\n}\nfunction OPE(message, code, cause) {\n    return new OperationProcessingError(message, { code, cause });\n}\nasync function calculateJwkThumbprint(jwk) {\n    let components;\n    switch (jwk.kty) {\n        case 'EC':\n            components = {\n                crv: jwk.crv,\n                kty: jwk.kty,\n                x: jwk.x,\n                y: jwk.y,\n            };\n            break;\n        case 'OKP':\n            components = {\n                crv: jwk.crv,\n                kty: jwk.kty,\n                x: jwk.x,\n            };\n            break;\n        case 'AKP':\n            components = {\n                alg: jwk.alg,\n                kty: jwk.kty,\n                pub: jwk.pub,\n            };\n            break;\n        case 'RSA':\n            components = {\n                e: jwk.e,\n                kty: jwk.kty,\n                n: jwk.n,\n            };\n            break;\n        default:\n            throw new UnsupportedOperationError('unsupported JWK key type', { cause: jwk });\n    }\n    return b64u(await crypto.subtle.digest('SHA-256', buf(JSON.stringify(components))));\n}\nfunction assertCryptoKey(key, it) {\n    if (!(key instanceof CryptoKey)) {\n        throw CodedTypeError(`${it} must be a CryptoKey`, ERR_INVALID_ARG_TYPE);\n    }\n}\nfunction assertPrivateKey(key, it) {\n    assertCryptoKey(key, it);\n    if (key.type !== 'private') {\n        throw CodedTypeError(`${it} must be a private CryptoKey`, ERR_INVALID_ARG_VALUE);\n    }\n}\nfunction assertPublicKey(key, it) {\n    assertCryptoKey(key, it);\n    if (key.type !== 'public') {\n        throw CodedTypeError(`${it} must be a public CryptoKey`, ERR_INVALID_ARG_VALUE);\n    }\n}\nfunction normalizeTyp(value) {\n    return value.toLowerCase().replace(/^application\\//, '');\n}\nfunction isJsonObject(input) {\n    if (input === null || typeof input !== 'object' || Array.isArray(input)) {\n        return false;\n    }\n    return true;\n}\nfunction prepareHeaders(input) {\n    if (looseInstanceOf(input, Headers)) {\n        input = Object.fromEntries(input.entries());\n    }\n    const headers = new Headers(input ?? {});\n    if (USER_AGENT && !headers.has('user-agent')) {\n        headers.set('user-agent', USER_AGENT);\n    }\n    if (headers.has('authorization')) {\n        throw CodedTypeError('\"options.headers\" must not include the \"authorization\" header name', ERR_INVALID_ARG_VALUE);\n    }\n    return headers;\n}\nfunction signal(url, value) {\n    if (value !== undefined) {\n        if (typeof value === 'function') {\n            value = value(url.href);\n        }\n        if (!(value instanceof AbortSignal)) {\n            throw CodedTypeError('\"options.signal\" must return or be an instance of AbortSignal', ERR_INVALID_ARG_TYPE);\n        }\n        return value;\n    }\n    return undefined;\n}\nfunction replaceDoubleSlash(pathname) {\n    if (pathname.includes('//')) {\n        return pathname.replace('//', '/');\n    }\n    return pathname;\n}\nfunction prependWellKnown(url, wellKnown, allowTerminatingSlash = false) {\n    if (url.pathname === '/') {\n        url.pathname = wellKnown;\n    }\n    else {\n        url.pathname = replaceDoubleSlash(`${wellKnown}/${allowTerminatingSlash ? url.pathname : url.pathname.replace(/(\\/)$/, '')}`);\n    }\n    return url;\n}\nfunction appendWellKnown(url, wellKnown) {\n    url.pathname = replaceDoubleSlash(`${url.pathname}/${wellKnown}`);\n    return url;\n}\nasync function performDiscovery(input, urlName, transform, options) {\n    if (!(input instanceof URL)) {\n        throw CodedTypeError(`\"${urlName}\" must be an instance of URL`, ERR_INVALID_ARG_TYPE);\n    }\n    checkProtocol(input, options?.[allowInsecureRequests] !== true);\n    const url = transform(new URL(input.href));\n    const headers = prepareHeaders(options?.headers);\n    headers.set('accept', 'application/json');\n    return (options?.[customFetch] || fetch)(url.href, {\n        body: undefined,\n        headers: Object.fromEntries(headers.entries()),\n        method: 'GET',\n        redirect: 'manual',\n        signal: signal(url, options?.signal),\n    });\n}\nasync function discoveryRequest(issuerIdentifier, options) {\n    return performDiscovery(issuerIdentifier, 'issuerIdentifier', (url) => {\n        switch (options?.algorithm) {\n            case undefined:\n            case 'oidc':\n                appendWellKnown(url, '.well-known/openid-configuration');\n                break;\n            case 'oauth2':\n                prependWellKnown(url, '.well-known/oauth-authorization-server');\n                break;\n            default:\n                throw CodedTypeError('\"options.algorithm\" must be \"oidc\" (default), or \"oauth2\"', ERR_INVALID_ARG_VALUE);\n        }\n        return url;\n    }, options);\n}\nfunction assertNumber(input, allow0, it, code, cause) {\n    try {\n        if (typeof input !== 'number' || !Number.isFinite(input)) {\n            throw CodedTypeError(`${it} must be a number`, ERR_INVALID_ARG_TYPE, cause);\n        }\n        if (input > 0)\n            return;\n        if (allow0) {\n            if (input !== 0) {\n                throw CodedTypeError(`${it} must be a non-negative number`, ERR_INVALID_ARG_VALUE, cause);\n            }\n            return;\n        }\n        throw CodedTypeError(`${it} must be a positive number`, ERR_INVALID_ARG_VALUE, cause);\n    }\n    catch (err) {\n        if (code) {\n            throw OPE(err.message, code, cause);\n        }\n        throw err;\n    }\n}\nfunction assertString(input, it, code, cause) {\n    try {\n        if (typeof input !== 'string') {\n            throw CodedTypeError(`${it} must be a string`, ERR_INVALID_ARG_TYPE, cause);\n        }\n        if (input.length === 0) {\n            throw CodedTypeError(`${it} must not be empty`, ERR_INVALID_ARG_VALUE, cause);\n        }\n    }\n    catch (err) {\n        if (code) {\n            throw OPE(err.message, code, cause);\n        }\n        throw err;\n    }\n}\nasync function processDiscoveryResponse(expectedIssuerIdentifier, response) {\n    const expected = expectedIssuerIdentifier;\n    if (!(expected instanceof URL) && expected !== _nodiscoverycheck) {\n        throw CodedTypeError('\"expectedIssuerIdentifier\" must be an instance of URL', ERR_INVALID_ARG_TYPE);\n    }\n    if (!looseInstanceOf(response, Response)) {\n        throw CodedTypeError('\"response\" must be an instance of Response', ERR_INVALID_ARG_TYPE);\n    }\n    if (response.status !== 200) {\n        throw OPE('\"response\" is not a conform Authorization Server Metadata response (unexpected HTTP status code)', RESPONSE_IS_NOT_CONFORM, response);\n    }\n    assertReadableResponse(response);\n    const json = await getResponseJsonBody(response);\n    assertString(json.issuer, '\"response\" body \"issuer\" property', INVALID_RESPONSE, { body: json });\n    if (expected !== _nodiscoverycheck && new URL(json.issuer).href !== expected.href) {\n        throw OPE('\"response\" body \"issuer\" property does not match the expected value', JSON_ATTRIBUTE_COMPARISON, { expected: expected.href, body: json, attribute: 'issuer' });\n    }\n    return json;\n}\nfunction assertApplicationJson(response) {\n    assertContentType(response, 'application/json');\n}\nfunction notJson(response, ...types) {\n    let msg = '\"response\" content-type must be ';\n    if (types.length > 2) {\n        const last = types.pop();\n        msg += `${types.join(', ')}, or ${last}`;\n    }\n    else if (types.length === 2) {\n        msg += `${types[0]} or ${types[1]}`;\n    }\n    else {\n        msg += types[0];\n    }\n    return OPE(msg, RESPONSE_IS_NOT_JSON, response);\n}\nfunction assertContentTypes(response, ...types) {\n    if (!types.includes(getContentType(response))) {\n        throw notJson(response, ...types);\n    }\n}\nfunction assertContentType(response, contentType) {\n    if (getContentType(response) !== contentType) {\n        throw notJson(response, contentType);\n    }\n}\nfunction randomBytes() {\n    return b64u(crypto.getRandomValues(new Uint8Array(32)));\n}\nfunction generateRandomCodeVerifier() {\n    return randomBytes();\n}\nfunction generateRandomState() {\n    return randomBytes();\n}\nfunction generateRandomNonce() {\n    return randomBytes();\n}\nasync function calculatePKCECodeChallenge(codeVerifier) {\n    assertString(codeVerifier, 'codeVerifier');\n    return b64u(await crypto.subtle.digest('SHA-256', buf(codeVerifier)));\n}\nfunction getKeyAndKid(input) {\n    if (input instanceof CryptoKey) {\n        return { key: input };\n    }\n    if (!(input?.key instanceof CryptoKey)) {\n        return {};\n    }\n    if (input.kid !== undefined) {\n        assertString(input.kid, '\"kid\"');\n    }\n    return {\n        key: input.key,\n        kid: input.kid,\n    };\n}\nfunction psAlg(key) {\n    switch (key.algorithm.hash.name) {\n        case 'SHA-256':\n            return 'PS256';\n        case 'SHA-384':\n            return 'PS384';\n        case 'SHA-512':\n            return 'PS512';\n        default:\n            throw new UnsupportedOperationError('unsupported RsaHashedKeyAlgorithm hash name', {\n                cause: key,\n            });\n    }\n}\nfunction rsAlg(key) {\n    switch (key.algorithm.hash.name) {\n        case 'SHA-256':\n            return 'RS256';\n        case 'SHA-384':\n            return 'RS384';\n        case 'SHA-512':\n            return 'RS512';\n        default:\n            throw new UnsupportedOperationError('unsupported RsaHashedKeyAlgorithm hash name', {\n                cause: key,\n            });\n    }\n}\nfunction esAlg(key) {\n    switch (key.algorithm.namedCurve) {\n        case 'P-256':\n            return 'ES256';\n        case 'P-384':\n            return 'ES384';\n        case 'P-521':\n            return 'ES512';\n        default:\n            throw new UnsupportedOperationError('unsupported EcKeyAlgorithm namedCurve', { cause: key });\n    }\n}\nfunction keyToJws(key) {\n    switch (key.algorithm.name) {\n        case 'RSA-PSS':\n            return psAlg(key);\n        case 'RSASSA-PKCS1-v1_5':\n            return rsAlg(key);\n        case 'ECDSA':\n            return esAlg(key);\n        case 'Ed25519':\n        case 'ML-DSA-44':\n        case 'ML-DSA-65':\n        case 'ML-DSA-87':\n            return key.algorithm.name;\n        case 'EdDSA':\n            return 'Ed25519';\n        default:\n            throw new UnsupportedOperationError('unsupported CryptoKey algorithm name', { cause: key });\n    }\n}\nfunction getClockSkew(client) {\n    const skew = client?.[clockSkew];\n    return typeof skew === 'number' && Number.isFinite(skew) ? skew : 0;\n}\nfunction getClockTolerance(client) {\n    const tolerance = client?.[clockTolerance];\n    return typeof tolerance === 'number' && Number.isFinite(tolerance) && Math.sign(tolerance) !== -1\n        ? tolerance\n        : 30;\n}\nfunction epochTime() {\n    return Math.floor(Date.now() / 1000);\n}\nfunction assertAs(as) {\n    if (typeof as !== 'object' || as === null) {\n        throw CodedTypeError('\"as\" must be an object', ERR_INVALID_ARG_TYPE);\n    }\n    assertString(as.issuer, '\"as.issuer\"');\n}\nfunction assertClient(client) {\n    if (typeof client !== 'object' || client === null) {\n        throw CodedTypeError('\"client\" must be an object', ERR_INVALID_ARG_TYPE);\n    }\n    assertString(client.client_id, '\"client.client_id\"');\n}\nfunction formUrlEncode(token) {\n    return encodeURIComponent(token).replace(/(?:[-_.!~*'()]|%20)/g, (substring) => {\n        switch (substring) {\n            case '-':\n            case '_':\n            case '.':\n            case '!':\n            case '~':\n            case '*':\n            case \"'\":\n            case '(':\n            case ')':\n                return `%${substring.charCodeAt(0).toString(16).toUpperCase()}`;\n            case '%20':\n                return '+';\n            default:\n                throw new Error();\n        }\n    });\n}\nfunction ClientSecretPost(clientSecret) {\n    assertString(clientSecret, '\"clientSecret\"');\n    return (_as, client, body, _headers) => {\n        body.set('client_id', client.client_id);\n        body.set('client_secret', clientSecret);\n    };\n}\nfunction ClientSecretBasic(clientSecret) {\n    assertString(clientSecret, '\"clientSecret\"');\n    return (_as, client, _body, headers) => {\n        const username = formUrlEncode(client.client_id);\n        const password = formUrlEncode(clientSecret);\n        const credentials = btoa(`${username}:${password}`);\n        headers.set('authorization', `Basic ${credentials}`);\n    };\n}\nfunction clientAssertionPayload(as, client) {\n    const now = epochTime() + getClockSkew(client);\n    return {\n        jti: randomBytes(),\n        aud: as.issuer,\n        exp: now + 60,\n        iat: now,\n        nbf: now,\n        iss: client.client_id,\n        sub: client.client_id,\n    };\n}\nfunction PrivateKeyJwt(clientPrivateKey, options) {\n    const { key, kid } = getKeyAndKid(clientPrivateKey);\n    assertPrivateKey(key, '\"clientPrivateKey.key\"');\n    return async (as, client, body, _headers) => {\n        const header = { alg: keyToJws(key), kid };\n        const payload = clientAssertionPayload(as, client);\n        options?.[modifyAssertion]?.(header, payload);\n        body.set('client_id', client.client_id);\n        body.set('client_assertion_type', 'urn:ietf:params:oauth:client-assertion-type:jwt-bearer');\n        body.set('client_assertion', await signJwt(header, payload, key));\n    };\n}\nfunction ClientSecretJwt(clientSecret, options) {\n    assertString(clientSecret, '\"clientSecret\"');\n    const modify = options?.[modifyAssertion];\n    let key;\n    return async (as, client, body, _headers) => {\n        key ||= await crypto.subtle.importKey('raw', buf(clientSecret), { hash: 'SHA-256', name: 'HMAC' }, false, ['sign']);\n        const header = { alg: 'HS256' };\n        const payload = clientAssertionPayload(as, client);\n        modify?.(header, payload);\n        const data = `${b64u(buf(JSON.stringify(header)))}.${b64u(buf(JSON.stringify(payload)))}`;\n        const hmac = await crypto.subtle.sign(key.algorithm, key, buf(data));\n        body.set('client_id', client.client_id);\n        body.set('client_assertion_type', 'urn:ietf:params:oauth:client-assertion-type:jwt-bearer');\n        body.set('client_assertion', `${data}.${b64u(new Uint8Array(hmac))}`);\n    };\n}\nfunction None() {\n    return (_as, client, body, _headers) => {\n        body.set('client_id', client.client_id);\n    };\n}\nfunction TlsClientAuth() {\n    return None();\n}\nasync function signJwt(header, payload, key) {\n    if (!key.usages.includes('sign')) {\n        throw CodedTypeError('CryptoKey instances used for signing assertions must include \"sign\" in their \"usages\"', ERR_INVALID_ARG_VALUE);\n    }\n    const input = `${b64u(buf(JSON.stringify(header)))}.${b64u(buf(JSON.stringify(payload)))}`;\n    const signature = b64u(await crypto.subtle.sign(keyToSubtle(key), key, buf(input)));\n    return `${input}.${signature}`;\n}\nasync function issueRequestObject(as, client, parameters, privateKey, options) {\n    assertAs(as);\n    assertClient(client);\n    parameters = new URLSearchParams(parameters);\n    const { key, kid } = getKeyAndKid(privateKey);\n    assertPrivateKey(key, '\"privateKey.key\"');\n    parameters.set('client_id', client.client_id);\n    const now = epochTime() + getClockSkew(client);\n    const claims = {\n        ...Object.fromEntries(parameters.entries()),\n        jti: randomBytes(),\n        aud: as.issuer,\n        exp: now + 60,\n        iat: now,\n        nbf: now,\n        iss: client.client_id,\n    };\n    let resource;\n    if (parameters.has('resource') &&\n        (resource = parameters.getAll('resource')) &&\n        resource.length > 1) {\n        claims.resource = resource;\n    }\n    {\n        let value = parameters.get('max_age');\n        if (value !== null) {\n            claims.max_age = parseInt(value, 10);\n            assertNumber(claims.max_age, true, '\"max_age\" parameter');\n        }\n    }\n    {\n        let value = parameters.get('claims');\n        if (value !== null) {\n            try {\n                claims.claims = JSON.parse(value);\n            }\n            catch (cause) {\n                throw OPE('failed to parse the \"claims\" parameter as JSON', PARSE_ERROR, cause);\n            }\n            if (!isJsonObject(claims.claims)) {\n                throw CodedTypeError('\"claims\" parameter must be a JSON with a top level object', ERR_INVALID_ARG_VALUE);\n            }\n        }\n    }\n    {\n        let value = parameters.get('authorization_details');\n        if (value !== null) {\n            try {\n                claims.authorization_details = JSON.parse(value);\n            }\n            catch (cause) {\n                throw OPE('failed to parse the \"authorization_details\" parameter as JSON', PARSE_ERROR, cause);\n            }\n            if (!Array.isArray(claims.authorization_details)) {\n                throw CodedTypeError('\"authorization_details\" parameter must be a JSON with a top level array', ERR_INVALID_ARG_VALUE);\n            }\n        }\n    }\n    const header = {\n        alg: keyToJws(key),\n        typ: 'oauth-authz-req+jwt',\n        kid,\n    };\n    options?.[modifyAssertion]?.(header, claims);\n    return signJwt(header, claims, key);\n}\nlet jwkCache;\nasync function getSetPublicJwkCache(key, alg) {\n    const { kty, e, n, x, y, crv, pub } = await crypto.subtle.exportKey('jwk', key);\n    const jwk = { kty, e, n, x, y, crv, pub };\n    if (kty === 'AKP')\n        jwk.alg = alg;\n    jwkCache.set(key, jwk);\n    return jwk;\n}\nasync function publicJwk(key, alg) {\n    jwkCache ||= new WeakMap();\n    return jwkCache.get(key) || getSetPublicJwkCache(key, alg);\n}\nconst URLParse = URL.parse\n    ?\n        (url, base) => URL.parse(url, base)\n    : (url, base) => {\n        try {\n            return new URL(url, base);\n        }\n        catch {\n            return null;\n        }\n    };\nfunction checkProtocol(url, enforceHttps) {\n    if (enforceHttps && url.protocol !== 'https:') {\n        throw OPE('only requests to HTTPS are allowed', HTTP_REQUEST_FORBIDDEN, url);\n    }\n    if (url.protocol !== 'https:' && url.protocol !== 'http:') {\n        throw OPE('only HTTP and HTTPS requests are allowed', REQUEST_PROTOCOL_FORBIDDEN, url);\n    }\n}\nfunction validateEndpoint(value, endpoint, useMtlsAlias, enforceHttps) {\n    let url;\n    if (typeof value !== 'string' || !(url = URLParse(value))) {\n        throw OPE(`authorization server metadata does not contain a valid ${useMtlsAlias ? `\"as.mtls_endpoint_aliases.${endpoint}\"` : `\"as.${endpoint}\"`}`, value === undefined ? MISSING_SERVER_METADATA : INVALID_SERVER_METADATA, { attribute: useMtlsAlias ? `mtls_endpoint_aliases.${endpoint}` : endpoint });\n    }\n    checkProtocol(url, enforceHttps);\n    return url;\n}\nfunction resolveEndpoint(as, endpoint, useMtlsAlias, enforceHttps) {\n    if (useMtlsAlias && as.mtls_endpoint_aliases && endpoint in as.mtls_endpoint_aliases) {\n        return validateEndpoint(as.mtls_endpoint_aliases[endpoint], endpoint, useMtlsAlias, enforceHttps);\n    }\n    return validateEndpoint(as[endpoint], endpoint, useMtlsAlias, enforceHttps);\n}\nasync function pushedAuthorizationRequest(as, client, clientAuthentication, parameters, options) {\n    assertAs(as);\n    assertClient(client);\n    const url = resolveEndpoint(as, 'pushed_authorization_request_endpoint', client.use_mtls_endpoint_aliases, options?.[allowInsecureRequests] !== true);\n    const body = new URLSearchParams(parameters);\n    body.set('client_id', client.client_id);\n    const headers = prepareHeaders(options?.headers);\n    headers.set('accept', 'application/json');\n    if (options?.DPoP !== undefined) {\n        assertDPoP(options.DPoP);\n        await options.DPoP.addProof(url, headers, 'POST');\n    }\n    const response = await authenticatedRequest(as, client, clientAuthentication, url, body, headers, options);\n    options?.DPoP?.cacheNonce(response, url);\n    return response;\n}\nclass DPoPHandler {\n    #header;\n    #privateKey;\n    #publicKey;\n    #clockSkew;\n    #modifyAssertion;\n    #map;\n    #jkt;\n    constructor(client, keyPair, options) {\n        assertPrivateKey(keyPair?.privateKey, '\"DPoP.privateKey\"');\n        assertPublicKey(keyPair?.publicKey, '\"DPoP.publicKey\"');\n        if (!keyPair.publicKey.extractable) {\n            throw CodedTypeError('\"DPoP.publicKey.extractable\" must be true', ERR_INVALID_ARG_VALUE);\n        }\n        this.#modifyAssertion = options?.[modifyAssertion];\n        this.#clockSkew = getClockSkew(client);\n        this.#privateKey = keyPair.privateKey;\n        this.#publicKey = keyPair.publicKey;\n        branded.add(this);\n    }\n    #get(key) {\n        this.#map ||= new Map();\n        let item = this.#map.get(key);\n        if (item) {\n            this.#map.delete(key);\n            this.#map.set(key, item);\n        }\n        return item;\n    }\n    #set(key, val) {\n        this.#map ||= new Map();\n        this.#map.delete(key);\n        if (this.#map.size === 100) {\n            this.#map.delete(this.#map.keys().next().value);\n        }\n        this.#map.set(key, val);\n    }\n    async calculateThumbprint() {\n        if (!this.#jkt) {\n            const jwk = await crypto.subtle.exportKey('jwk', this.#publicKey);\n            this.#jkt ||= await calculateJwkThumbprint(jwk);\n        }\n        return this.#jkt;\n    }\n    async addProof(url, headers, htm, accessToken) {\n        const alg = keyToJws(this.#privateKey);\n        this.#header ||= {\n            alg,\n            typ: 'dpop+jwt',\n            jwk: await publicJwk(this.#publicKey, alg),\n        };\n        const nonce = this.#get(url.origin);\n        const now = epochTime() + this.#clockSkew;\n        const payload = {\n            iat: now,\n            jti: randomBytes(),\n            htm,\n            nonce,\n            htu: `${url.origin}${url.pathname}`,\n            ath: accessToken\n                ? b64u(await crypto.subtle.digest('SHA-256', buf(accessToken)))\n                : undefined,\n        };\n        this.#modifyAssertion?.(this.#header, payload);\n        headers.set('dpop', await signJwt(this.#header, payload, this.#privateKey));\n    }\n    cacheNonce(response, url) {\n        try {\n            const nonce = response.headers.get('dpop-nonce');\n            if (nonce) {\n                this.#set(url.origin, nonce);\n            }\n        }\n        catch { }\n    }\n}\nfunction isDPoPNonceError(err) {\n    if (err instanceof WWWAuthenticateChallengeError) {\n        const { 0: challenge, length } = err.cause;\n        return (length === 1 && challenge.scheme === 'dpop' && challenge.parameters.error === 'use_dpop_nonce');\n    }\n    if (err instanceof ResponseBodyError) {\n        return err.error === 'use_dpop_nonce';\n    }\n    return false;\n}\nfunction DPoP(client, keyPair, options) {\n    return new DPoPHandler(client, keyPair, options);\n}\nclass ResponseBodyError extends Error {\n    cause;\n    code;\n    error;\n    status;\n    error_description;\n    response;\n    constructor(message, options) {\n        super(message, options);\n        this.name = this.constructor.name;\n        this.code = RESPONSE_BODY_ERROR;\n        this.cause = options.cause;\n        this.error = options.cause.error;\n        this.status = options.response.status;\n        this.error_description = options.cause.error_description;\n        Object.defineProperty(this, 'response', { enumerable: false, value: options.response });\n        Error.captureStackTrace?.(this, this.constructor);\n    }\n}\nclass AuthorizationResponseError extends Error {\n    cause;\n    code;\n    error;\n    error_description;\n    constructor(message, options) {\n        super(message, options);\n        this.name = this.constructor.name;\n        this.code = AUTHORIZATION_RESPONSE_ERROR;\n        this.cause = options.cause;\n        this.error = options.cause.get('error');\n        this.error_description = options.cause.get('error_description') ?? undefined;\n        Error.captureStackTrace?.(this, this.constructor);\n    }\n}\nclass WWWAuthenticateChallengeError extends Error {\n    cause;\n    code;\n    response;\n    status;\n    constructor(message, options) {\n        super(message, options);\n        this.name = this.constructor.name;\n        this.code = WWW_AUTHENTICATE_CHALLENGE;\n        this.cause = options.cause;\n        this.status = options.response.status;\n        this.response = options.response;\n        Object.defineProperty(this, 'response', { enumerable: false });\n        Error.captureStackTrace?.(this, this.constructor);\n    }\n}\nconst tokenMatch = \"[a-zA-Z0-9!#$%&\\\\'\\\\*\\\\+\\\\-\\\\.\\\\^_`\\\\|~]+\";\nconst token68Match = '[a-zA-Z0-9\\\\-\\\\._\\\\~\\\\+\\\\/]+[=]{0,2}';\nconst quotedMatch = '\"((?:[^\"\\\\\\\\]|\\\\\\\\.)*)\"';\nconst quotedParamMatcher = '(' + tokenMatch + ')\\\\s*=\\\\s*' + quotedMatch;\nconst paramMatcher = '(' + tokenMatch + ')\\\\s*=\\\\s*(' + tokenMatch + ')';\nconst schemeRE = new RegExp('^[,\\\\s]*(' + tokenMatch + ')\\\\s(.*)');\nconst quotedParamRE = new RegExp('^[,\\\\s]*' + quotedParamMatcher + '[,\\\\s]*(.*)');\nconst unquotedParamRE = new RegExp('^[,\\\\s]*' + paramMatcher + '[,\\\\s]*(.*)');\nconst token68ParamRE = new RegExp('^(' + token68Match + ')(?:$|[,\\\\s])(.*)');\nfunction parseWwwAuthenticateChallenges(response) {\n    if (!looseInstanceOf(response, Response)) {\n        throw CodedTypeError('\"response\" must be an instance of Response', ERR_INVALID_ARG_TYPE);\n    }\n    const header = response.headers.get('www-authenticate');\n    if (header === null) {\n        return undefined;\n    }\n    const challenges = [];\n    let rest = header;\n    while (rest) {\n        let match = rest.match(schemeRE);\n        const scheme = match?.['1'].toLowerCase();\n        rest = match?.['2'];\n        if (!scheme) {\n            return undefined;\n        }\n        const parameters = {};\n        let token68;\n        while (rest) {\n            let key;\n            let value;\n            if ((match = rest.match(quotedParamRE))) {\n                ;\n                [, key, value, rest] = match;\n                if (value.includes('\\\\')) {\n                    try {\n                        value = JSON.parse(`\"${value}\"`);\n                    }\n                    catch { }\n                }\n                parameters[key.toLowerCase()] = value;\n                continue;\n            }\n            if ((match = rest.match(unquotedParamRE))) {\n                ;\n                [, key, value, rest] = match;\n                parameters[key.toLowerCase()] = value;\n                continue;\n            }\n            if ((match = rest.match(token68ParamRE))) {\n                if (Object.keys(parameters).length) {\n                    break;\n                }\n                ;\n                [, token68, rest] = match;\n                break;\n            }\n            return undefined;\n        }\n        const challenge = { scheme, parameters };\n        if (token68) {\n            challenge.token68 = token68;\n        }\n        challenges.push(challenge);\n    }\n    if (!challenges.length) {\n        return undefined;\n    }\n    return challenges;\n}\nasync function processPushedAuthorizationResponse(as, client, response) {\n    assertAs(as);\n    assertClient(client);\n    if (!looseInstanceOf(response, Response)) {\n        throw CodedTypeError('\"response\" must be an instance of Response', ERR_INVALID_ARG_TYPE);\n    }\n    await checkOAuthBodyError(response, 201, 'Pushed Authorization Request Endpoint');\n    assertReadableResponse(response);\n    const json = await getResponseJsonBody(response);\n    assertString(json.request_uri, '\"response\" body \"request_uri\" property', INVALID_RESPONSE, {\n        body: json,\n    });\n    let expiresIn = typeof json.expires_in !== 'number' ? parseFloat(json.expires_in) : json.expires_in;\n    assertNumber(expiresIn, true, '\"response\" body \"expires_in\" property', INVALID_RESPONSE, {\n        body: json,\n    });\n    json.expires_in = expiresIn;\n    return json;\n}\nasync function parseOAuthResponseErrorBody(response) {\n    if (response.status > 399 && response.status < 500) {\n        assertReadableResponse(response);\n        assertApplicationJson(response);\n        try {\n            const json = await response.clone().json();\n            if (isJsonObject(json) && typeof json.error === 'string' && json.error.length) {\n                return json;\n            }\n        }\n        catch { }\n    }\n    return undefined;\n}\nasync function checkOAuthBodyError(response, expected, label) {\n    if (response.status !== expected) {\n        checkAuthenticationChallenges(response);\n        let err;\n        if ((err = await parseOAuthResponseErrorBody(response))) {\n            await response.body?.cancel();\n            throw new ResponseBodyError('server responded with an error in the response body', {\n                cause: err,\n                response,\n            });\n        }\n        throw OPE(`\"response\" is not a conform ${label} response (unexpected HTTP status code)`, RESPONSE_IS_NOT_CONFORM, response);\n    }\n}\nfunction assertDPoP(option) {\n    if (!branded.has(option)) {\n        throw CodedTypeError('\"options.DPoP\" is not a valid DPoPHandle', ERR_INVALID_ARG_VALUE);\n    }\n}\nasync function resourceRequest(accessToken, method, url, headers, body, options) {\n    assertString(accessToken, '\"accessToken\"');\n    if (!(url instanceof URL)) {\n        throw CodedTypeError('\"url\" must be an instance of URL', ERR_INVALID_ARG_TYPE);\n    }\n    checkProtocol(url, options?.[allowInsecureRequests] !== true);\n    headers = prepareHeaders(headers);\n    if (options?.DPoP) {\n        assertDPoP(options.DPoP);\n        await options.DPoP.addProof(url, headers, method.toUpperCase(), accessToken);\n    }\n    headers.set('authorization', `${headers.has('dpop') ? 'DPoP' : 'Bearer'} ${accessToken}`);\n    const response = await (options?.[customFetch] || fetch)(url.href, {\n        body,\n        headers: Object.fromEntries(headers.entries()),\n        method,\n        redirect: 'manual',\n        signal: signal(url, options?.signal),\n    });\n    options?.DPoP?.cacheNonce(response, url);\n    return response;\n}\nasync function protectedResourceRequest(accessToken, method, url, headers, body, options) {\n    const response = await resourceRequest(accessToken, method, url, headers, body, options);\n    checkAuthenticationChallenges(response);\n    return response;\n}\nasync function userInfoRequest(as, client, accessToken, options) {\n    assertAs(as);\n    assertClient(client);\n    const url = resolveEndpoint(as, 'userinfo_endpoint', client.use_mtls_endpoint_aliases, options?.[allowInsecureRequests] !== true);\n    const headers = prepareHeaders(options?.headers);\n    if (client.userinfo_signed_response_alg) {\n        headers.set('accept', 'application/jwt');\n    }\n    else {\n        headers.set('accept', 'application/json');\n        headers.append('accept', 'application/jwt');\n    }\n    return resourceRequest(accessToken, 'GET', url, headers, null, {\n        ...options,\n        [clockSkew]: getClockSkew(client),\n    });\n}\nlet jwksMap;\nfunction setJwksCache(as, jwks, uat, cache) {\n    jwksMap ||= new WeakMap();\n    jwksMap.set(as, {\n        jwks,\n        uat,\n        get age() {\n            return epochTime() - this.uat;\n        },\n    });\n    if (cache) {\n        Object.assign(cache, { jwks: structuredClone(jwks), uat });\n    }\n}\nfunction isFreshJwksCache(input) {\n    if (typeof input !== 'object' || input === null) {\n        return false;\n    }\n    if (!('uat' in input) || typeof input.uat !== 'number' || epochTime() - input.uat >= 300) {\n        return false;\n    }\n    if (!('jwks' in input) ||\n        !isJsonObject(input.jwks) ||\n        !Array.isArray(input.jwks.keys) ||\n        !Array.prototype.every.call(input.jwks.keys, isJsonObject)) {\n        return false;\n    }\n    return true;\n}\nfunction clearJwksCache(as, cache) {\n    jwksMap?.delete(as);\n    delete cache?.jwks;\n    delete cache?.uat;\n}\nasync function getPublicSigKeyFromIssuerJwksUri(as, options, header) {\n    const { alg, kid } = header;\n    checkSupportedJwsAlg(header);\n    if (!jwksMap?.has(as) && isFreshJwksCache(options?.[jwksCache])) {\n        setJwksCache(as, options?.[jwksCache].jwks, options?.[jwksCache].uat);\n    }\n    let jwks;\n    let age;\n    if (jwksMap?.has(as)) {\n        ;\n        ({ jwks, age } = jwksMap.get(as));\n        if (age >= 300) {\n            clearJwksCache(as, options?.[jwksCache]);\n            return getPublicSigKeyFromIssuerJwksUri(as, options, header);\n        }\n    }\n    else {\n        jwks = await jwksRequest(as, options).then(processJwksResponse);\n        age = 0;\n        setJwksCache(as, jwks, epochTime(), options?.[jwksCache]);\n    }\n    let kty;\n    switch (alg.slice(0, 2)) {\n        case 'RS':\n        case 'PS':\n            kty = 'RSA';\n            break;\n        case 'ES':\n            kty = 'EC';\n            break;\n        case 'Ed':\n            kty = 'OKP';\n            break;\n        case 'ML':\n            kty = 'AKP';\n            break;\n        default:\n            throw new UnsupportedOperationError('unsupported JWS algorithm', { cause: { alg } });\n    }\n    const candidates = jwks.keys.filter((jwk) => {\n        if (jwk.kty !== kty) {\n            return false;\n        }\n        if (kid !== undefined && kid !== jwk.kid) {\n            return false;\n        }\n        if (jwk.alg !== undefined && alg !== jwk.alg) {\n            return false;\n        }\n        if (jwk.use !== undefined && jwk.use !== 'sig') {\n            return false;\n        }\n        if (jwk.key_ops?.includes('verify') === false) {\n            return false;\n        }\n        switch (true) {\n            case alg === 'ES256' && jwk.crv !== 'P-256':\n            case alg === 'ES384' && jwk.crv !== 'P-384':\n            case alg === 'ES512' && jwk.crv !== 'P-521':\n            case alg === 'Ed25519' && jwk.crv !== 'Ed25519':\n            case alg === 'EdDSA' && jwk.crv !== 'Ed25519':\n                return false;\n        }\n        return true;\n    });\n    const { 0: jwk, length } = candidates;\n    if (!length) {\n        if (age >= 60) {\n            clearJwksCache(as, options?.[jwksCache]);\n            return getPublicSigKeyFromIssuerJwksUri(as, options, header);\n        }\n        throw OPE('error when selecting a JWT verification key, no applicable keys found', KEY_SELECTION, { header, candidates, jwks_uri: new URL(as.jwks_uri) });\n    }\n    if (length !== 1) {\n        throw OPE('error when selecting a JWT verification key, multiple applicable keys found, a \"kid\" JWT Header Parameter is required', KEY_SELECTION, { header, candidates, jwks_uri: new URL(as.jwks_uri) });\n    }\n    return importJwk(alg, jwk);\n}\nconst skipSubjectCheck = Symbol();\nfunction getContentType(input) {\n    return input.headers.get('content-type')?.split(';')[0];\n}\nasync function processUserInfoResponse(as, client, expectedSubject, response, options) {\n    assertAs(as);\n    assertClient(client);\n    if (!looseInstanceOf(response, Response)) {\n        throw CodedTypeError('\"response\" must be an instance of Response', ERR_INVALID_ARG_TYPE);\n    }\n    checkAuthenticationChallenges(response);\n    if (response.status !== 200) {\n        throw OPE('\"response\" is not a conform UserInfo Endpoint response (unexpected HTTP status code)', RESPONSE_IS_NOT_CONFORM, response);\n    }\n    assertReadableResponse(response);\n    let json;\n    if (getContentType(response) === 'application/jwt') {\n        const { claims, jwt } = await validateJwt(await response.text(), checkSigningAlgorithm.bind(undefined, client.userinfo_signed_response_alg, as.userinfo_signing_alg_values_supported, undefined), getClockSkew(client), getClockTolerance(client), options?.[jweDecrypt])\n            .then(validateOptionalAudience.bind(undefined, client.client_id))\n            .then(validateOptionalIssuer.bind(undefined, as));\n        jwtRefs.set(response, jwt);\n        json = claims;\n    }\n    else {\n        if (client.userinfo_signed_response_alg) {\n            throw OPE('JWT UserInfo Response expected', JWT_USERINFO_EXPECTED, response);\n        }\n        json = await getResponseJsonBody(response);\n    }\n    assertString(json.sub, '\"response\" body \"sub\" property', INVALID_RESPONSE, { body: json });\n    switch (expectedSubject) {\n        case skipSubjectCheck:\n            break;\n        default:\n            assertString(expectedSubject, '\"expectedSubject\"');\n            if (json.sub !== expectedSubject) {\n                throw OPE('unexpected \"response\" body \"sub\" property value', JSON_ATTRIBUTE_COMPARISON, {\n                    expected: expectedSubject,\n                    body: json,\n                    attribute: 'sub',\n                });\n            }\n    }\n    return json;\n}\nasync function authenticatedRequest(as, client, clientAuthentication, url, body, headers, options) {\n    await clientAuthentication(as, client, body, headers);\n    headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n    return (options?.[customFetch] || fetch)(url.href, {\n        body,\n        headers: Object.fromEntries(headers.entries()),\n        method: 'POST',\n        redirect: 'manual',\n        signal: signal(url, options?.signal),\n    });\n}\nasync function tokenEndpointRequest(as, client, clientAuthentication, grantType, parameters, options) {\n    const url = resolveEndpoint(as, 'token_endpoint', client.use_mtls_endpoint_aliases, options?.[allowInsecureRequests] !== true);\n    parameters.set('grant_type', grantType);\n    const headers = prepareHeaders(options?.headers);\n    headers.set('accept', 'application/json');\n    if (options?.DPoP !== undefined) {\n        assertDPoP(options.DPoP);\n        await options.DPoP.addProof(url, headers, 'POST');\n    }\n    const response = await authenticatedRequest(as, client, clientAuthentication, url, parameters, headers, options);\n    options?.DPoP?.cacheNonce(response, url);\n    return response;\n}\nasync function refreshTokenGrantRequest(as, client, clientAuthentication, refreshToken, options) {\n    assertAs(as);\n    assertClient(client);\n    assertString(refreshToken, '\"refreshToken\"');\n    const parameters = new URLSearchParams(options?.additionalParameters);\n    parameters.set('refresh_token', refreshToken);\n    return tokenEndpointRequest(as, client, clientAuthentication, 'refresh_token', parameters, options);\n}\nconst idTokenClaims = new WeakMap();\nconst jwtRefs = new WeakMap();\nfunction getValidatedIdTokenClaims(ref) {\n    if (!ref.id_token) {\n        return undefined;\n    }\n    const claims = idTokenClaims.get(ref);\n    if (!claims) {\n        throw CodedTypeError('\"ref\" was already garbage collected or did not resolve from the proper sources', ERR_INVALID_ARG_VALUE);\n    }\n    return claims;\n}\nasync function validateApplicationLevelSignature(as, ref, options) {\n    assertAs(as);\n    if (!jwtRefs.has(ref)) {\n        throw CodedTypeError('\"ref\" does not contain a processed JWT Response to verify the signature of', ERR_INVALID_ARG_VALUE);\n    }\n    const { 0: protectedHeader, 1: payload, 2: encodedSignature } = jwtRefs.get(ref).split('.');\n    const header = JSON.parse(buf(b64u(protectedHeader)));\n    if (header.alg.startsWith('HS')) {\n        throw new UnsupportedOperationError('unsupported JWS algorithm', { cause: { alg: header.alg } });\n    }\n    let key;\n    key = await getPublicSigKeyFromIssuerJwksUri(as, options, header);\n    await validateJwsSignature(protectedHeader, payload, key, b64u(encodedSignature));\n}\nasync function processGenericAccessTokenResponse(as, client, response, additionalRequiredIdTokenClaims, decryptFn, recognizedTokenTypes) {\n    assertAs(as);\n    assertClient(client);\n    if (!looseInstanceOf(response, Response)) {\n        throw CodedTypeError('\"response\" must be an instance of Response', ERR_INVALID_ARG_TYPE);\n    }\n    await checkOAuthBodyError(response, 200, 'Token Endpoint');\n    assertReadableResponse(response);\n    const json = await getResponseJsonBody(response);\n    assertString(json.access_token, '\"response\" body \"access_token\" property', INVALID_RESPONSE, {\n        body: json,\n    });\n    assertString(json.token_type, '\"response\" body \"token_type\" property', INVALID_RESPONSE, {\n        body: json,\n    });\n    json.token_type = json.token_type.toLowerCase();\n    if (json.expires_in !== undefined) {\n        let expiresIn = typeof json.expires_in !== 'number' ? parseFloat(json.expires_in) : json.expires_in;\n        assertNumber(expiresIn, true, '\"response\" body \"expires_in\" property', INVALID_RESPONSE, {\n            body: json,\n        });\n        json.expires_in = expiresIn;\n    }\n    if (json.refresh_token !== undefined) {\n        assertString(json.refresh_token, '\"response\" body \"refresh_token\" property', INVALID_RESPONSE, {\n            body: json,\n        });\n    }\n    if (json.scope !== undefined && typeof json.scope !== 'string') {\n        throw OPE('\"response\" body \"scope\" property must be a string', INVALID_RESPONSE, { body: json });\n    }\n    if (json.id_token !== undefined) {\n        assertString(json.id_token, '\"response\" body \"id_token\" property', INVALID_RESPONSE, {\n            body: json,\n        });\n        const requiredClaims = ['aud', 'exp', 'iat', 'iss', 'sub'];\n        if (client.require_auth_time === true) {\n            requiredClaims.push('auth_time');\n        }\n        if (client.default_max_age !== undefined) {\n            assertNumber(client.default_max_age, true, '\"client.default_max_age\"');\n            requiredClaims.push('auth_time');\n        }\n        if (additionalRequiredIdTokenClaims?.length) {\n            requiredClaims.push(...additionalRequiredIdTokenClaims);\n        }\n        const { claims, jwt } = await validateJwt(json.id_token, checkSigningAlgorithm.bind(undefined, client.id_token_signed_response_alg, as.id_token_signing_alg_values_supported, 'RS256'), getClockSkew(client), getClockTolerance(client), decryptFn)\n            .then(validatePresence.bind(undefined, requiredClaims))\n            .then(validateIssuer.bind(undefined, as))\n            .then(validateAudience.bind(undefined, client.client_id));\n        if (Array.isArray(claims.aud) && claims.aud.length !== 1) {\n            if (claims.azp === undefined) {\n                throw OPE('ID Token \"aud\" (audience) claim includes additional untrusted audiences', JWT_CLAIM_COMPARISON, { claims, claim: 'aud' });\n            }\n            if (claims.azp !== client.client_id) {\n                throw OPE('unexpected ID Token \"azp\" (authorized party) claim value', JWT_CLAIM_COMPARISON, { expected: client.client_id, claims, claim: 'azp' });\n            }\n        }\n        if (claims.auth_time !== undefined) {\n            assertNumber(claims.auth_time, true, 'ID Token \"auth_time\" (authentication time)', INVALID_RESPONSE, { claims });\n        }\n        jwtRefs.set(response, jwt);\n        idTokenClaims.set(json, claims);\n    }\n    if (recognizedTokenTypes?.[json.token_type] !== undefined) {\n        recognizedTokenTypes[json.token_type](response, json);\n    }\n    else if (json.token_type !== 'dpop' && json.token_type !== 'bearer') {\n        throw new UnsupportedOperationError('unsupported `token_type` value', { cause: { body: json } });\n    }\n    return json;\n}\nfunction checkAuthenticationChallenges(response) {\n    let challenges;\n    if ((challenges = parseWwwAuthenticateChallenges(response))) {\n        throw new WWWAuthenticateChallengeError('server responded with a challenge in the WWW-Authenticate HTTP Header', { cause: challenges, response });\n    }\n}\nasync function processRefreshTokenResponse(as, client, response, options) {\n    return processGenericAccessTokenResponse(as, client, response, undefined, options?.[jweDecrypt], options?.recognizedTokenTypes);\n}\nfunction validateOptionalAudience(expected, result) {\n    if (result.claims.aud !== undefined) {\n        return validateAudience(expected, result);\n    }\n    return result;\n}\nfunction validateAudience(expected, result) {\n    if (Array.isArray(result.claims.aud)) {\n        if (!result.claims.aud.includes(expected)) {\n            throw OPE('unexpected JWT \"aud\" (audience) claim value', JWT_CLAIM_COMPARISON, {\n                expected,\n                claims: result.claims,\n                claim: 'aud',\n            });\n        }\n    }\n    else if (result.claims.aud !== expected) {\n        throw OPE('unexpected JWT \"aud\" (audience) claim value', JWT_CLAIM_COMPARISON, {\n            expected,\n            claims: result.claims,\n            claim: 'aud',\n        });\n    }\n    return result;\n}\nfunction validateOptionalIssuer(as, result) {\n    if (result.claims.iss !== undefined) {\n        return validateIssuer(as, result);\n    }\n    return result;\n}\nfunction validateIssuer(as, result) {\n    const expected = as[_expectedIssuer]?.(result) ?? as.issuer;\n    if (result.claims.iss !== expected) {\n        throw OPE('unexpected JWT \"iss\" (issuer) claim value', JWT_CLAIM_COMPARISON, {\n            expected,\n            claims: result.claims,\n            claim: 'iss',\n        });\n    }\n    return result;\n}\nconst branded = new WeakSet();\nfunction brand(searchParams) {\n    branded.add(searchParams);\n    return searchParams;\n}\nconst nopkce = Symbol();\nasync function authorizationCodeGrantRequest(as, client, clientAuthentication, callbackParameters, redirectUri, codeVerifier, options) {\n    assertAs(as);\n    assertClient(client);\n    if (!branded.has(callbackParameters)) {\n        throw CodedTypeError('\"callbackParameters\" must be an instance of URLSearchParams obtained from \"validateAuthResponse()\", or \"validateJwtAuthResponse()', ERR_INVALID_ARG_VALUE);\n    }\n    assertString(redirectUri, '\"redirectUri\"');\n    const code = getURLSearchParameter(callbackParameters, 'code');\n    if (!code) {\n        throw OPE('no authorization code in \"callbackParameters\"', INVALID_RESPONSE);\n    }\n    const parameters = new URLSearchParams(options?.additionalParameters);\n    parameters.set('redirect_uri', redirectUri);\n    parameters.set('code', code);\n    if (codeVerifier !== nopkce) {\n        assertString(codeVerifier, '\"codeVerifier\"');\n        parameters.set('code_verifier', codeVerifier);\n    }\n    return tokenEndpointRequest(as, client, clientAuthentication, 'authorization_code', parameters, options);\n}\nconst jwtClaimNames = {\n    aud: 'audience',\n    c_hash: 'code hash',\n    client_id: 'client id',\n    exp: 'expiration time',\n    iat: 'issued at',\n    iss: 'issuer',\n    jti: 'jwt id',\n    nonce: 'nonce',\n    s_hash: 'state hash',\n    sub: 'subject',\n    ath: 'access token hash',\n    htm: 'http method',\n    htu: 'http uri',\n    cnf: 'confirmation',\n    auth_time: 'authentication time',\n};\nfunction validatePresence(required, result) {\n    for (const claim of required) {\n        if (result.claims[claim] === undefined) {\n            throw OPE(`JWT \"${claim}\" (${jwtClaimNames[claim]}) claim missing`, INVALID_RESPONSE, {\n                claims: result.claims,\n            });\n        }\n    }\n    return result;\n}\nconst expectNoNonce = Symbol();\nconst skipAuthTimeCheck = Symbol();\nasync function processAuthorizationCodeResponse(as, client, response, options) {\n    if (typeof options?.expectedNonce === 'string' ||\n        typeof options?.maxAge === 'number' ||\n        options?.requireIdToken) {\n        return processAuthorizationCodeOpenIDResponse(as, client, response, options.expectedNonce, options.maxAge, options[jweDecrypt], options.recognizedTokenTypes);\n    }\n    return processAuthorizationCodeOAuth2Response(as, client, response, options?.[jweDecrypt], options?.recognizedTokenTypes);\n}\nasync function processAuthorizationCodeOpenIDResponse(as, client, response, expectedNonce, maxAge, decryptFn, recognizedTokenTypes) {\n    const additionalRequiredClaims = [];\n    switch (expectedNonce) {\n        case undefined:\n            expectedNonce = expectNoNonce;\n            break;\n        case expectNoNonce:\n            break;\n        default:\n            assertString(expectedNonce, '\"expectedNonce\" argument');\n            additionalRequiredClaims.push('nonce');\n    }\n    maxAge ??= client.default_max_age;\n    switch (maxAge) {\n        case undefined:\n            maxAge = skipAuthTimeCheck;\n            break;\n        case skipAuthTimeCheck:\n            break;\n        default:\n            assertNumber(maxAge, true, '\"maxAge\" argument');\n            additionalRequiredClaims.push('auth_time');\n    }\n    const result = await processGenericAccessTokenResponse(as, client, response, additionalRequiredClaims, decryptFn, recognizedTokenTypes);\n    assertString(result.id_token, '\"response\" body \"id_token\" property', INVALID_RESPONSE, {\n        body: result,\n    });\n    const claims = getValidatedIdTokenClaims(result);\n    if (maxAge !== skipAuthTimeCheck) {\n        const now = epochTime() + getClockSkew(client);\n        const tolerance = getClockTolerance(client);\n        if (claims.auth_time + maxAge < now - tolerance) {\n            throw OPE('too much time has elapsed since the last End-User authentication', JWT_TIMESTAMP_CHECK, { claims, now, tolerance, claim: 'auth_time' });\n        }\n    }\n    if (expectedNonce === expectNoNonce) {\n        if (claims.nonce !== undefined) {\n            throw OPE('unexpected ID Token \"nonce\" claim value', JWT_CLAIM_COMPARISON, {\n                expected: undefined,\n                claims,\n                claim: 'nonce',\n            });\n        }\n    }\n    else if (claims.nonce !== expectedNonce) {\n        throw OPE('unexpected ID Token \"nonce\" claim value', JWT_CLAIM_COMPARISON, {\n            expected: expectedNonce,\n            claims,\n            claim: 'nonce',\n        });\n    }\n    return result;\n}\nasync function processAuthorizationCodeOAuth2Response(as, client, response, decryptFn, recognizedTokenTypes) {\n    const result = await processGenericAccessTokenResponse(as, client, response, undefined, decryptFn, recognizedTokenTypes);\n    const claims = getValidatedIdTokenClaims(result);\n    if (claims) {\n        if (client.default_max_age !== undefined) {\n            assertNumber(client.default_max_age, true, '\"client.default_max_age\"');\n            const now = epochTime() + getClockSkew(client);\n            const tolerance = getClockTolerance(client);\n            if (claims.auth_time + client.default_max_age < now - tolerance) {\n                throw OPE('too much time has elapsed since the last End-User authentication', JWT_TIMESTAMP_CHECK, { claims, now, tolerance, claim: 'auth_time' });\n            }\n        }\n        if (claims.nonce !== undefined) {\n            throw OPE('unexpected ID Token \"nonce\" claim value', JWT_CLAIM_COMPARISON, {\n                expected: undefined,\n                claims,\n                claim: 'nonce',\n            });\n        }\n    }\n    return result;\n}\nconst WWW_AUTHENTICATE_CHALLENGE = 'OAUTH_WWW_AUTHENTICATE_CHALLENGE';\nconst RESPONSE_BODY_ERROR = 'OAUTH_RESPONSE_BODY_ERROR';\nconst UNSUPPORTED_OPERATION = 'OAUTH_UNSUPPORTED_OPERATION';\nconst AUTHORIZATION_RESPONSE_ERROR = 'OAUTH_AUTHORIZATION_RESPONSE_ERROR';\nconst JWT_USERINFO_EXPECTED = 'OAUTH_JWT_USERINFO_EXPECTED';\nconst PARSE_ERROR = 'OAUTH_PARSE_ERROR';\nconst INVALID_RESPONSE = 'OAUTH_INVALID_RESPONSE';\nconst INVALID_REQUEST = 'OAUTH_INVALID_REQUEST';\nconst RESPONSE_IS_NOT_JSON = 'OAUTH_RESPONSE_IS_NOT_JSON';\nconst RESPONSE_IS_NOT_CONFORM = 'OAUTH_RESPONSE_IS_NOT_CONFORM';\nconst HTTP_REQUEST_FORBIDDEN = 'OAUTH_HTTP_REQUEST_FORBIDDEN';\nconst REQUEST_PROTOCOL_FORBIDDEN = 'OAUTH_REQUEST_PROTOCOL_FORBIDDEN';\nconst JWT_TIMESTAMP_CHECK = 'OAUTH_JWT_TIMESTAMP_CHECK_FAILED';\nconst JWT_CLAIM_COMPARISON = 'OAUTH_JWT_CLAIM_COMPARISON_FAILED';\nconst JSON_ATTRIBUTE_COMPARISON = 'OAUTH_JSON_ATTRIBUTE_COMPARISON_FAILED';\nconst KEY_SELECTION = 'OAUTH_KEY_SELECTION_FAILED';\nconst MISSING_SERVER_METADATA = 'OAUTH_MISSING_SERVER_METADATA';\nconst INVALID_SERVER_METADATA = 'OAUTH_INVALID_SERVER_METADATA';\nfunction checkJwtType(expected, result) {\n    if (typeof result.header.typ !== 'string' || normalizeTyp(result.header.typ) !== expected) {\n        throw OPE('unexpected JWT \"typ\" header parameter value', INVALID_RESPONSE, {\n            header: result.header,\n        });\n    }\n    return result;\n}\nasync function clientCredentialsGrantRequest(as, client, clientAuthentication, parameters, options) {\n    assertAs(as);\n    assertClient(client);\n    return tokenEndpointRequest(as, client, clientAuthentication, 'client_credentials', new URLSearchParams(parameters), options);\n}\nasync function genericTokenEndpointRequest(as, client, clientAuthentication, grantType, parameters, options) {\n    assertAs(as);\n    assertClient(client);\n    assertString(grantType, '\"grantType\"');\n    return tokenEndpointRequest(as, client, clientAuthentication, grantType, new URLSearchParams(parameters), options);\n}\nasync function processGenericTokenEndpointResponse(as, client, response, options) {\n    return processGenericAccessTokenResponse(as, client, response, undefined, options?.[jweDecrypt], options?.recognizedTokenTypes);\n}\nasync function processClientCredentialsResponse(as, client, response, options) {\n    return processGenericAccessTokenResponse(as, client, response, undefined, options?.[jweDecrypt], options?.recognizedTokenTypes);\n}\nasync function revocationRequest(as, client, clientAuthentication, token, options) {\n    assertAs(as);\n    assertClient(client);\n    assertString(token, '\"token\"');\n    const url = resolveEndpoint(as, 'revocation_endpoint', client.use_mtls_endpoint_aliases, options?.[allowInsecureRequests] !== true);\n    const body = new URLSearchParams(options?.additionalParameters);\n    body.set('token', token);\n    const headers = prepareHeaders(options?.headers);\n    headers.delete('accept');\n    return authenticatedRequest(as, client, clientAuthentication, url, body, headers, options);\n}\nasync function processRevocationResponse(response) {\n    if (!looseInstanceOf(response, Response)) {\n        throw CodedTypeError('\"response\" must be an instance of Response', ERR_INVALID_ARG_TYPE);\n    }\n    await checkOAuthBodyError(response, 200, 'Revocation Endpoint');\n    return undefined;\n}\nfunction assertReadableResponse(response) {\n    if (response.bodyUsed) {\n        throw CodedTypeError('\"response\" body has been used already', ERR_INVALID_ARG_VALUE);\n    }\n}\nasync function introspectionRequest(as, client, clientAuthentication, token, options) {\n    assertAs(as);\n    assertClient(client);\n    assertString(token, '\"token\"');\n    const url = resolveEndpoint(as, 'introspection_endpoint', client.use_mtls_endpoint_aliases, options?.[allowInsecureRequests] !== true);\n    const body = new URLSearchParams(options?.additionalParameters);\n    body.set('token', token);\n    const headers = prepareHeaders(options?.headers);\n    if (options?.requestJwtResponse ?? client.introspection_signed_response_alg) {\n        headers.set('accept', 'application/token-introspection+jwt');\n    }\n    else {\n        headers.set('accept', 'application/json');\n    }\n    return authenticatedRequest(as, client, clientAuthentication, url, body, headers, options);\n}\nasync function processIntrospectionResponse(as, client, response, options) {\n    assertAs(as);\n    assertClient(client);\n    if (!looseInstanceOf(response, Response)) {\n        throw CodedTypeError('\"response\" must be an instance of Response', ERR_INVALID_ARG_TYPE);\n    }\n    await checkOAuthBodyError(response, 200, 'Introspection Endpoint');\n    let json;\n    if (getContentType(response) === 'application/token-introspection+jwt') {\n        assertReadableResponse(response);\n        const { claims, jwt } = await validateJwt(await response.text(), checkSigningAlgorithm.bind(undefined, client.introspection_signed_response_alg, as.introspection_signing_alg_values_supported, 'RS256'), getClockSkew(client), getClockTolerance(client), options?.[jweDecrypt])\n            .then(checkJwtType.bind(undefined, 'token-introspection+jwt'))\n            .then(validatePresence.bind(undefined, ['aud', 'iat', 'iss']))\n            .then(validateIssuer.bind(undefined, as))\n            .then(validateAudience.bind(undefined, client.client_id));\n        jwtRefs.set(response, jwt);\n        if (!isJsonObject(claims.token_introspection)) {\n            throw OPE('JWT \"token_introspection\" claim must be a JSON object', INVALID_RESPONSE, {\n                claims,\n            });\n        }\n        json = claims.token_introspection;\n    }\n    else {\n        assertReadableResponse(response);\n        json = await getResponseJsonBody(response);\n    }\n    if (typeof json.active !== 'boolean') {\n        throw OPE('\"response\" body \"active\" property must be a boolean', INVALID_RESPONSE, {\n            body: json,\n        });\n    }\n    return json;\n}\nasync function jwksRequest(as, options) {\n    assertAs(as);\n    const url = resolveEndpoint(as, 'jwks_uri', false, options?.[allowInsecureRequests] !== true);\n    const headers = prepareHeaders(options?.headers);\n    headers.set('accept', 'application/json');\n    headers.append('accept', 'application/jwk-set+json');\n    return (options?.[customFetch] || fetch)(url.href, {\n        body: undefined,\n        headers: Object.fromEntries(headers.entries()),\n        method: 'GET',\n        redirect: 'manual',\n        signal: signal(url, options?.signal),\n    });\n}\nasync function processJwksResponse(response) {\n    if (!looseInstanceOf(response, Response)) {\n        throw CodedTypeError('\"response\" must be an instance of Response', ERR_INVALID_ARG_TYPE);\n    }\n    if (response.status !== 200) {\n        throw OPE('\"response\" is not a conform JSON Web Key Set response (unexpected HTTP status code)', RESPONSE_IS_NOT_CONFORM, response);\n    }\n    assertReadableResponse(response);\n    const json = await getResponseJsonBody(response, (response) => assertContentTypes(response, 'application/json', 'application/jwk-set+json'));\n    if (!Array.isArray(json.keys)) {\n        throw OPE('\"response\" body \"keys\" property must be an array', INVALID_RESPONSE, { body: json });\n    }\n    if (!Array.prototype.every.call(json.keys, isJsonObject)) {\n        throw OPE('\"response\" body \"keys\" property members must be JWK formatted objects', INVALID_RESPONSE, { body: json });\n    }\n    return json;\n}\nfunction supported(alg) {\n    switch (alg) {\n        case 'PS256':\n        case 'ES256':\n        case 'RS256':\n        case 'PS384':\n        case 'ES384':\n        case 'RS384':\n        case 'PS512':\n        case 'ES512':\n        case 'RS512':\n        case 'Ed25519':\n        case 'EdDSA':\n        case 'ML-DSA-44':\n        case 'ML-DSA-65':\n        case 'ML-DSA-87':\n            return true;\n        default:\n            return false;\n    }\n}\nfunction checkSupportedJwsAlg(header) {\n    if (!supported(header.alg)) {\n        throw new UnsupportedOperationError('unsupported JWS \"alg\" identifier', {\n            cause: { alg: header.alg },\n        });\n    }\n}\nfunction checkRsaKeyAlgorithm(key) {\n    const { algorithm } = key;\n    if (typeof algorithm.modulusLength !== 'number' || algorithm.modulusLength < 2048) {\n        throw new UnsupportedOperationError(`unsupported ${algorithm.name} modulusLength`, {\n            cause: key,\n        });\n    }\n}\nfunction ecdsaHashName(key) {\n    const { algorithm } = key;\n    switch (algorithm.namedCurve) {\n        case 'P-256':\n            return 'SHA-256';\n        case 'P-384':\n            return 'SHA-384';\n        case 'P-521':\n            return 'SHA-512';\n        default:\n            throw new UnsupportedOperationError('unsupported ECDSA namedCurve', { cause: key });\n    }\n}\nfunction keyToSubtle(key) {\n    switch (key.algorithm.name) {\n        case 'ECDSA':\n            return {\n                name: key.algorithm.name,\n                hash: ecdsaHashName(key),\n            };\n        case 'RSA-PSS': {\n            checkRsaKeyAlgorithm(key);\n            switch (key.algorithm.hash.name) {\n                case 'SHA-256':\n                case 'SHA-384':\n                case 'SHA-512':\n                    return {\n                        name: key.algorithm.name,\n                        saltLength: parseInt(key.algorithm.hash.name.slice(-3), 10) >> 3,\n                    };\n                default:\n                    throw new UnsupportedOperationError('unsupported RSA-PSS hash name', { cause: key });\n            }\n        }\n        case 'RSASSA-PKCS1-v1_5':\n            checkRsaKeyAlgorithm(key);\n            return key.algorithm.name;\n        case 'ML-DSA-44':\n        case 'ML-DSA-65':\n        case 'ML-DSA-87':\n        case 'Ed25519':\n            return key.algorithm.name;\n    }\n    throw new UnsupportedOperationError('unsupported CryptoKey algorithm name', { cause: key });\n}\nasync function validateJwsSignature(protectedHeader, payload, key, signature) {\n    const data = buf(`${protectedHeader}.${payload}`);\n    const algorithm = keyToSubtle(key);\n    const verified = await crypto.subtle.verify(algorithm, key, signature, data);\n    if (!verified) {\n        throw OPE('JWT signature verification failed', INVALID_RESPONSE, {\n            key,\n            data,\n            signature,\n            algorithm,\n        });\n    }\n}\nasync function validateJwt(jws, checkAlg, clockSkew, clockTolerance, decryptJwt) {\n    let { 0: protectedHeader, 1: payload, length } = jws.split('.');\n    if (length === 5) {\n        if (decryptJwt !== undefined) {\n            jws = await decryptJwt(jws);\n            ({ 0: protectedHeader, 1: payload, length } = jws.split('.'));\n        }\n        else {\n            throw new UnsupportedOperationError('JWE decryption is not configured', { cause: jws });\n        }\n    }\n    if (length !== 3) {\n        throw OPE('Invalid JWT', INVALID_RESPONSE, jws);\n    }\n    let header;\n    try {\n        header = JSON.parse(buf(b64u(protectedHeader)));\n    }\n    catch (cause) {\n        throw OPE('failed to parse JWT Header body as base64url encoded JSON', PARSE_ERROR, cause);\n    }\n    if (!isJsonObject(header)) {\n        throw OPE('JWT Header must be a top level object', INVALID_RESPONSE, jws);\n    }\n    checkAlg(header);\n    if (header.crit !== undefined) {\n        throw new UnsupportedOperationError('no JWT \"crit\" header parameter extensions are supported', {\n            cause: { header },\n        });\n    }\n    let claims;\n    try {\n        claims = JSON.parse(buf(b64u(payload)));\n    }\n    catch (cause) {\n        throw OPE('failed to parse JWT Payload body as base64url encoded JSON', PARSE_ERROR, cause);\n    }\n    if (!isJsonObject(claims)) {\n        throw OPE('JWT Payload must be a top level object', INVALID_RESPONSE, jws);\n    }\n    const now = epochTime() + clockSkew;\n    if (claims.exp !== undefined) {\n        if (typeof claims.exp !== 'number') {\n            throw OPE('unexpected JWT \"exp\" (expiration time) claim type', INVALID_RESPONSE, { claims });\n        }\n        if (claims.exp <= now - clockTolerance) {\n            throw OPE('unexpected JWT \"exp\" (expiration time) claim value, expiration is past current timestamp', JWT_TIMESTAMP_CHECK, { claims, now, tolerance: clockTolerance, claim: 'exp' });\n        }\n    }\n    if (claims.iat !== undefined) {\n        if (typeof claims.iat !== 'number') {\n            throw OPE('unexpected JWT \"iat\" (issued at) claim type', INVALID_RESPONSE, { claims });\n        }\n    }\n    if (claims.iss !== undefined) {\n        if (typeof claims.iss !== 'string') {\n            throw OPE('unexpected JWT \"iss\" (issuer) claim type', INVALID_RESPONSE, { claims });\n        }\n    }\n    if (claims.nbf !== undefined) {\n        if (typeof claims.nbf !== 'number') {\n            throw OPE('unexpected JWT \"nbf\" (not before) claim type', INVALID_RESPONSE, { claims });\n        }\n        if (claims.nbf > now + clockTolerance) {\n            throw OPE('unexpected JWT \"nbf\" (not before) claim value', JWT_TIMESTAMP_CHECK, {\n                claims,\n                now,\n                tolerance: clockTolerance,\n                claim: 'nbf',\n            });\n        }\n    }\n    if (claims.aud !== undefined) {\n        if (typeof claims.aud !== 'string' && !Array.isArray(claims.aud)) {\n            throw OPE('unexpected JWT \"aud\" (audience) claim type', INVALID_RESPONSE, { claims });\n        }\n    }\n    return { header, claims, jwt: jws };\n}\nasync function validateJwtAuthResponse(as, client, parameters, expectedState, options) {\n    assertAs(as);\n    assertClient(client);\n    if (parameters instanceof URL) {\n        parameters = parameters.searchParams;\n    }\n    if (!(parameters instanceof URLSearchParams)) {\n        throw CodedTypeError('\"parameters\" must be an instance of URLSearchParams, or URL', ERR_INVALID_ARG_TYPE);\n    }\n    const response = getURLSearchParameter(parameters, 'response');\n    if (!response) {\n        throw OPE('\"parameters\" does not contain a JARM response', INVALID_RESPONSE);\n    }\n    const { claims, header, jwt } = await validateJwt(response, checkSigningAlgorithm.bind(undefined, client.authorization_signed_response_alg, as.authorization_signing_alg_values_supported, 'RS256'), getClockSkew(client), getClockTolerance(client), options?.[jweDecrypt])\n        .then(validatePresence.bind(undefined, ['aud', 'exp', 'iss']))\n        .then(validateIssuer.bind(undefined, as))\n        .then(validateAudience.bind(undefined, client.client_id));\n    const { 0: protectedHeader, 1: payload, 2: encodedSignature } = jwt.split('.');\n    const signature = b64u(encodedSignature);\n    const key = await getPublicSigKeyFromIssuerJwksUri(as, options, header);\n    await validateJwsSignature(protectedHeader, payload, key, signature);\n    const result = new URLSearchParams();\n    for (const [key, value] of Object.entries(claims)) {\n        if (typeof value === 'string' && key !== 'aud') {\n            result.set(key, value);\n        }\n    }\n    return validateAuthResponse(as, client, result, expectedState);\n}\nasync function idTokenHash(data, header, claimName) {\n    let algorithm;\n    switch (header.alg) {\n        case 'RS256':\n        case 'PS256':\n        case 'ES256':\n            algorithm = 'SHA-256';\n            break;\n        case 'RS384':\n        case 'PS384':\n        case 'ES384':\n            algorithm = 'SHA-384';\n            break;\n        case 'RS512':\n        case 'PS512':\n        case 'ES512':\n        case 'Ed25519':\n        case 'EdDSA':\n            algorithm = 'SHA-512';\n            break;\n        case 'ML-DSA-44':\n        case 'ML-DSA-65':\n        case 'ML-DSA-87':\n            algorithm = { name: 'cSHAKE256', length: 512 };\n            break;\n        default:\n            throw new UnsupportedOperationError(`unsupported JWS algorithm for ${claimName} calculation`, { cause: { alg: header.alg } });\n    }\n    const digest = await crypto.subtle.digest(algorithm, buf(data));\n    return b64u(digest.slice(0, digest.byteLength / 2));\n}\nasync function idTokenHashMatches(data, actual, header, claimName) {\n    const expected = await idTokenHash(data, header, claimName);\n    return actual === expected;\n}\nasync function validateDetachedSignatureResponse(as, client, parameters, expectedNonce, expectedState, maxAge, options) {\n    return validateHybridResponse(as, client, parameters, expectedNonce, expectedState, maxAge, options, true);\n}\nasync function validateCodeIdTokenResponse(as, client, parameters, expectedNonce, expectedState, maxAge, options) {\n    return validateHybridResponse(as, client, parameters, expectedNonce, expectedState, maxAge, options, false);\n}\nasync function consumeStream(request) {\n    if (request.bodyUsed) {\n        throw CodedTypeError('form_post Request instances must contain a readable body', ERR_INVALID_ARG_VALUE, { cause: request });\n    }\n    return request.text();\n}\nasync function formPostResponse(request) {\n    if (request.method !== 'POST') {\n        throw CodedTypeError('form_post responses are expected to use the POST method', ERR_INVALID_ARG_VALUE, { cause: request });\n    }\n    if (getContentType(request) !== 'application/x-www-form-urlencoded') {\n        throw CodedTypeError('form_post responses are expected to use the application/x-www-form-urlencoded content-type', ERR_INVALID_ARG_VALUE, { cause: request });\n    }\n    return consumeStream(request);\n}\nasync function validateHybridResponse(as, client, parameters, expectedNonce, expectedState, maxAge, options, fapi) {\n    assertAs(as);\n    assertClient(client);\n    if (parameters instanceof URL) {\n        if (!parameters.hash.length) {\n            throw CodedTypeError('\"parameters\" as an instance of URL must contain a hash (fragment) with the Authorization Response parameters', ERR_INVALID_ARG_VALUE);\n        }\n        parameters = new URLSearchParams(parameters.hash.slice(1));\n    }\n    else if (looseInstanceOf(parameters, Request)) {\n        parameters = new URLSearchParams(await formPostResponse(parameters));\n    }\n    else if (parameters instanceof URLSearchParams) {\n        parameters = new URLSearchParams(parameters);\n    }\n    else {\n        throw CodedTypeError('\"parameters\" must be an instance of URLSearchParams, URL, or Response', ERR_INVALID_ARG_TYPE);\n    }\n    const id_token = getURLSearchParameter(parameters, 'id_token');\n    parameters.delete('id_token');\n    switch (expectedState) {\n        case undefined:\n        case expectNoState:\n            break;\n        default:\n            assertString(expectedState, '\"expectedState\" argument');\n    }\n    const result = validateAuthResponse({\n        ...as,\n        authorization_response_iss_parameter_supported: false,\n    }, client, parameters, expectedState);\n    if (!id_token) {\n        throw OPE('\"parameters\" does not contain an ID Token', INVALID_RESPONSE);\n    }\n    const code = getURLSearchParameter(parameters, 'code');\n    if (!code) {\n        throw OPE('\"parameters\" does not contain an Authorization Code', INVALID_RESPONSE);\n    }\n    const requiredClaims = [\n        'aud',\n        'exp',\n        'iat',\n        'iss',\n        'sub',\n        'nonce',\n        'c_hash',\n    ];\n    const state = parameters.get('state');\n    if (fapi && (typeof expectedState === 'string' || state !== null)) {\n        requiredClaims.push('s_hash');\n    }\n    if (maxAge !== undefined) {\n        assertNumber(maxAge, true, '\"maxAge\" argument');\n    }\n    else if (client.default_max_age !== undefined) {\n        assertNumber(client.default_max_age, true, '\"client.default_max_age\"');\n    }\n    maxAge ??= client.default_max_age ?? skipAuthTimeCheck;\n    if (client.require_auth_time || maxAge !== skipAuthTimeCheck) {\n        requiredClaims.push('auth_time');\n    }\n    const { claims, header, jwt } = await validateJwt(id_token, checkSigningAlgorithm.bind(undefined, client.id_token_signed_response_alg, as.id_token_signing_alg_values_supported, 'RS256'), getClockSkew(client), getClockTolerance(client), options?.[jweDecrypt])\n        .then(validatePresence.bind(undefined, requiredClaims))\n        .then(validateIssuer.bind(undefined, as))\n        .then(validateAudience.bind(undefined, client.client_id));\n    const clockSkew = getClockSkew(client);\n    const now = epochTime() + clockSkew;\n    if (claims.iat < now - 3600) {\n        throw OPE('unexpected JWT \"iat\" (issued at) claim value, it is too far in the past', JWT_TIMESTAMP_CHECK, { now, claims, claim: 'iat' });\n    }\n    assertString(claims.c_hash, 'ID Token \"c_hash\" (code hash) claim value', INVALID_RESPONSE, {\n        claims,\n    });\n    if (claims.auth_time !== undefined) {\n        assertNumber(claims.auth_time, true, 'ID Token \"auth_time\" (authentication time)', INVALID_RESPONSE, { claims });\n    }\n    if (maxAge !== skipAuthTimeCheck) {\n        const now = epochTime() + getClockSkew(client);\n        const tolerance = getClockTolerance(client);\n        if (claims.auth_time + maxAge < now - tolerance) {\n            throw OPE('too much time has elapsed since the last End-User authentication', JWT_TIMESTAMP_CHECK, { claims, now, tolerance, claim: 'auth_time' });\n        }\n    }\n    assertString(expectedNonce, '\"expectedNonce\" argument');\n    if (claims.nonce !== expectedNonce) {\n        throw OPE('unexpected ID Token \"nonce\" claim value', JWT_CLAIM_COMPARISON, {\n            expected: expectedNonce,\n            claims,\n            claim: 'nonce',\n        });\n    }\n    if (Array.isArray(claims.aud) && claims.aud.length !== 1) {\n        if (claims.azp === undefined) {\n            throw OPE('ID Token \"aud\" (audience) claim includes additional untrusted audiences', JWT_CLAIM_COMPARISON, { claims, claim: 'aud' });\n        }\n        if (claims.azp !== client.client_id) {\n            throw OPE('unexpected ID Token \"azp\" (authorized party) claim value', JWT_CLAIM_COMPARISON, {\n                expected: client.client_id,\n                claims,\n                claim: 'azp',\n            });\n        }\n    }\n    const { 0: protectedHeader, 1: payload, 2: encodedSignature } = jwt.split('.');\n    const signature = b64u(encodedSignature);\n    const key = await getPublicSigKeyFromIssuerJwksUri(as, options, header);\n    await validateJwsSignature(protectedHeader, payload, key, signature);\n    if ((await idTokenHashMatches(code, claims.c_hash, header, 'c_hash')) !== true) {\n        throw OPE('invalid ID Token \"c_hash\" (code hash) claim value', JWT_CLAIM_COMPARISON, {\n            code,\n            alg: header.alg,\n            claim: 'c_hash',\n            claims,\n        });\n    }\n    if ((fapi && state !== null) || claims.s_hash !== undefined) {\n        assertString(claims.s_hash, 'ID Token \"s_hash\" (state hash) claim value', INVALID_RESPONSE, {\n            claims,\n        });\n        assertString(state, '\"state\" response parameter', INVALID_RESPONSE, { parameters });\n        if ((await idTokenHashMatches(state, claims.s_hash, header, 's_hash')) !== true) {\n            throw OPE('invalid ID Token \"s_hash\" (state hash) claim value', JWT_CLAIM_COMPARISON, {\n                state,\n                alg: header.alg,\n                claim: 's_hash',\n                claims,\n            });\n        }\n    }\n    return result;\n}\nfunction checkSigningAlgorithm(client, issuer, fallback, header) {\n    if (client !== undefined) {\n        if (typeof client === 'string' ? header.alg !== client : !client.includes(header.alg)) {\n            throw OPE('unexpected JWT \"alg\" header parameter', INVALID_RESPONSE, {\n                header,\n                expected: client,\n                reason: 'client configuration',\n            });\n        }\n        return;\n    }\n    if (Array.isArray(issuer)) {\n        if (!issuer.includes(header.alg)) {\n            throw OPE('unexpected JWT \"alg\" header parameter', INVALID_RESPONSE, {\n                header,\n                expected: issuer,\n                reason: 'authorization server metadata',\n            });\n        }\n        return;\n    }\n    if (fallback !== undefined) {\n        if (typeof fallback === 'string'\n            ? header.alg !== fallback\n            : typeof fallback === 'function'\n                ? !fallback(header.alg)\n                : !fallback.includes(header.alg)) {\n            throw OPE('unexpected JWT \"alg\" header parameter', INVALID_RESPONSE, {\n                header,\n                expected: fallback,\n                reason: 'default value',\n            });\n        }\n        return;\n    }\n    throw OPE('missing client or server configuration to verify used JWT \"alg\" header parameter', undefined, { client, issuer, fallback });\n}\nfunction getURLSearchParameter(parameters, name) {\n    const { 0: value, length } = parameters.getAll(name);\n    if (length > 1) {\n        throw OPE(`\"${name}\" parameter must be provided only once`, INVALID_RESPONSE);\n    }\n    return value;\n}\nconst skipStateCheck = Symbol();\nconst expectNoState = Symbol();\nfunction validateAuthResponse(as, client, parameters, expectedState) {\n    assertAs(as);\n    assertClient(client);\n    if (parameters instanceof URL) {\n        parameters = parameters.searchParams;\n    }\n    if (!(parameters instanceof URLSearchParams)) {\n        throw CodedTypeError('\"parameters\" must be an instance of URLSearchParams, or URL', ERR_INVALID_ARG_TYPE);\n    }\n    if (getURLSearchParameter(parameters, 'response')) {\n        throw OPE('\"parameters\" contains a JARM response, use validateJwtAuthResponse() instead of validateAuthResponse()', INVALID_RESPONSE, { parameters });\n    }\n    const iss = getURLSearchParameter(parameters, 'iss');\n    const state = getURLSearchParameter(parameters, 'state');\n    if (!iss && as.authorization_response_iss_parameter_supported) {\n        throw OPE('response parameter \"iss\" (issuer) missing', INVALID_RESPONSE, { parameters });\n    }\n    if (iss && iss !== as.issuer) {\n        throw OPE('unexpected \"iss\" (issuer) response parameter value', INVALID_RESPONSE, {\n            expected: as.issuer,\n            parameters,\n        });\n    }\n    switch (expectedState) {\n        case undefined:\n        case expectNoState:\n            if (state !== undefined) {\n                throw OPE('unexpected \"state\" response parameter encountered', INVALID_RESPONSE, {\n                    expected: undefined,\n                    parameters,\n                });\n            }\n            break;\n        case skipStateCheck:\n            break;\n        default:\n            assertString(expectedState, '\"expectedState\" argument');\n            if (state !== expectedState) {\n                throw OPE(state === undefined\n                    ? 'response parameter \"state\" missing'\n                    : 'unexpected \"state\" response parameter value', INVALID_RESPONSE, { expected: expectedState, parameters });\n            }\n    }\n    const error = getURLSearchParameter(parameters, 'error');\n    if (error) {\n        throw new AuthorizationResponseError('authorization response from the server is an error', {\n            cause: parameters,\n        });\n    }\n    const id_token = getURLSearchParameter(parameters, 'id_token');\n    const token = getURLSearchParameter(parameters, 'token');\n    if (id_token !== undefined || token !== undefined) {\n        throw new UnsupportedOperationError('implicit and hybrid flows are not supported');\n    }\n    return brand(new URLSearchParams(parameters));\n}\nfunction algToSubtle(alg) {\n    switch (alg) {\n        case 'PS256':\n        case 'PS384':\n        case 'PS512':\n            return { name: 'RSA-PSS', hash: `SHA-${alg.slice(-3)}` };\n        case 'RS256':\n        case 'RS384':\n        case 'RS512':\n            return { name: 'RSASSA-PKCS1-v1_5', hash: `SHA-${alg.slice(-3)}` };\n        case 'ES256':\n        case 'ES384':\n            return { name: 'ECDSA', namedCurve: `P-${alg.slice(-3)}` };\n        case 'ES512':\n            return { name: 'ECDSA', namedCurve: 'P-521' };\n        case 'EdDSA':\n            return 'Ed25519';\n        case 'Ed25519':\n        case 'ML-DSA-44':\n        case 'ML-DSA-65':\n        case 'ML-DSA-87':\n            return alg;\n        default:\n            throw new UnsupportedOperationError('unsupported JWS algorithm', { cause: { alg } });\n    }\n}\nasync function importJwk(alg, jwk) {\n    const { ext, key_ops, use, ...key } = jwk;\n    return crypto.subtle.importKey('jwk', key, algToSubtle(alg), true, ['verify']);\n}\nasync function deviceAuthorizationRequest(as, client, clientAuthentication, parameters, options) {\n    assertAs(as);\n    assertClient(client);\n    const url = resolveEndpoint(as, 'device_authorization_endpoint', client.use_mtls_endpoint_aliases, options?.[allowInsecureRequests] !== true);\n    const body = new URLSearchParams(parameters);\n    body.set('client_id', client.client_id);\n    const headers = prepareHeaders(options?.headers);\n    headers.set('accept', 'application/json');\n    return authenticatedRequest(as, client, clientAuthentication, url, body, headers, options);\n}\nasync function processDeviceAuthorizationResponse(as, client, response) {\n    assertAs(as);\n    assertClient(client);\n    if (!looseInstanceOf(response, Response)) {\n        throw CodedTypeError('\"response\" must be an instance of Response', ERR_INVALID_ARG_TYPE);\n    }\n    await checkOAuthBodyError(response, 200, 'Device Authorization Endpoint');\n    assertReadableResponse(response);\n    const json = await getResponseJsonBody(response);\n    assertString(json.device_code, '\"response\" body \"device_code\" property', INVALID_RESPONSE, {\n        body: json,\n    });\n    assertString(json.user_code, '\"response\" body \"user_code\" property', INVALID_RESPONSE, {\n        body: json,\n    });\n    assertString(json.verification_uri, '\"response\" body \"verification_uri\" property', INVALID_RESPONSE, { body: json });\n    let expiresIn = typeof json.expires_in !== 'number' ? parseFloat(json.expires_in) : json.expires_in;\n    assertNumber(expiresIn, true, '\"response\" body \"expires_in\" property', INVALID_RESPONSE, {\n        body: json,\n    });\n    json.expires_in = expiresIn;\n    if (json.verification_uri_complete !== undefined) {\n        assertString(json.verification_uri_complete, '\"response\" body \"verification_uri_complete\" property', INVALID_RESPONSE, { body: json });\n    }\n    if (json.interval !== undefined) {\n        assertNumber(json.interval, false, '\"response\" body \"interval\" property', INVALID_RESPONSE, {\n            body: json,\n        });\n    }\n    return json;\n}\nasync function deviceCodeGrantRequest(as, client, clientAuthentication, deviceCode, options) {\n    assertAs(as);\n    assertClient(client);\n    assertString(deviceCode, '\"deviceCode\"');\n    const parameters = new URLSearchParams(options?.additionalParameters);\n    parameters.set('device_code', deviceCode);\n    return tokenEndpointRequest(as, client, clientAuthentication, 'urn:ietf:params:oauth:grant-type:device_code', parameters, options);\n}\nasync function processDeviceCodeResponse(as, client, response, options) {\n    return processGenericAccessTokenResponse(as, client, response, undefined, options?.[jweDecrypt], options?.recognizedTokenTypes);\n}\nasync function generateKeyPair(alg, options) {\n    assertString(alg, '\"alg\"');\n    const algorithm = algToSubtle(alg);\n    if (alg.startsWith('PS') || alg.startsWith('RS')) {\n        Object.assign(algorithm, {\n            modulusLength: options?.modulusLength ?? 2048,\n            publicExponent: new Uint8Array([0x01, 0x00, 0x01]),\n        });\n    }\n    return crypto.subtle.generateKey(algorithm, options?.extractable ?? false, [\n        'sign',\n        'verify',\n    ]);\n}\nfunction normalizeHtu(htu) {\n    const url = new URL(htu);\n    url.search = '';\n    url.hash = '';\n    return url.href;\n}\nasync function validateDPoP(request, accessToken, accessTokenClaims, options) {\n    const headerValue = request.headers.get('dpop');\n    if (headerValue === null) {\n        throw OPE('operation indicated DPoP use but the request has no DPoP HTTP Header', INVALID_REQUEST, { headers: request.headers });\n    }\n    if (request.headers.get('authorization')?.toLowerCase().startsWith('dpop ') === false) {\n        throw OPE(`operation indicated DPoP use but the request's Authorization HTTP Header scheme is not DPoP`, INVALID_REQUEST, { headers: request.headers });\n    }\n    if (typeof accessTokenClaims.cnf?.jkt !== 'string') {\n        throw OPE('operation indicated DPoP use but the JWT Access Token has no jkt confirmation claim', INVALID_REQUEST, { claims: accessTokenClaims });\n    }\n    const clockSkew = getClockSkew(options);\n    const proof = await validateJwt(headerValue, checkSigningAlgorithm.bind(undefined, options?.signingAlgorithms, undefined, supported), clockSkew, getClockTolerance(options), undefined)\n        .then(checkJwtType.bind(undefined, 'dpop+jwt'))\n        .then(validatePresence.bind(undefined, ['iat', 'jti', 'ath', 'htm', 'htu']));\n    const now = epochTime() + clockSkew;\n    const diff = Math.abs(now - proof.claims.iat);\n    if (diff > 300) {\n        throw OPE('DPoP Proof iat is not recent enough', JWT_TIMESTAMP_CHECK, {\n            now,\n            claims: proof.claims,\n            claim: 'iat',\n        });\n    }\n    if (proof.claims.htm !== request.method) {\n        throw OPE('DPoP Proof htm mismatch', JWT_CLAIM_COMPARISON, {\n            expected: request.method,\n            claims: proof.claims,\n            claim: 'htm',\n        });\n    }\n    if (typeof proof.claims.htu !== 'string' ||\n        normalizeHtu(proof.claims.htu) !== normalizeHtu(request.url)) {\n        throw OPE('DPoP Proof htu mismatch', JWT_CLAIM_COMPARISON, {\n            expected: normalizeHtu(request.url),\n            claims: proof.claims,\n            claim: 'htu',\n        });\n    }\n    {\n        const expected = b64u(await crypto.subtle.digest('SHA-256', buf(accessToken)));\n        if (proof.claims.ath !== expected) {\n            throw OPE('DPoP Proof ath mismatch', JWT_CLAIM_COMPARISON, {\n                expected,\n                claims: proof.claims,\n                claim: 'ath',\n            });\n        }\n    }\n    {\n        const expected = await calculateJwkThumbprint(proof.header.jwk);\n        if (accessTokenClaims.cnf.jkt !== expected) {\n            throw OPE('JWT Access Token confirmation mismatch', JWT_CLAIM_COMPARISON, {\n                expected,\n                claims: accessTokenClaims,\n                claim: 'cnf.jkt',\n            });\n        }\n    }\n    const { 0: protectedHeader, 1: payload, 2: encodedSignature } = headerValue.split('.');\n    const signature = b64u(encodedSignature);\n    const { jwk, alg } = proof.header;\n    if (!jwk) {\n        throw OPE('DPoP Proof is missing the jwk header parameter', INVALID_REQUEST, {\n            header: proof.header,\n        });\n    }\n    const key = await importJwk(alg, jwk);\n    if (key.type !== 'public') {\n        throw OPE('DPoP Proof jwk header parameter must contain a public key', INVALID_REQUEST, {\n            header: proof.header,\n        });\n    }\n    await validateJwsSignature(protectedHeader, payload, key, signature);\n}\nasync function validateJwtAccessToken(as, request, expectedAudience, options) {\n    assertAs(as);\n    if (!looseInstanceOf(request, Request)) {\n        throw CodedTypeError('\"request\" must be an instance of Request', ERR_INVALID_ARG_TYPE);\n    }\n    assertString(expectedAudience, '\"expectedAudience\"');\n    const authorization = request.headers.get('authorization');\n    if (authorization === null) {\n        throw OPE('\"request\" is missing an Authorization HTTP Header', INVALID_REQUEST, {\n            headers: request.headers,\n        });\n    }\n    let { 0: scheme, 1: accessToken, length } = authorization.split(' ');\n    scheme = scheme.toLowerCase();\n    switch (scheme) {\n        case 'dpop':\n        case 'bearer':\n            break;\n        default:\n            throw new UnsupportedOperationError('unsupported Authorization HTTP Header scheme', {\n                cause: { headers: request.headers },\n            });\n    }\n    if (length !== 2) {\n        throw OPE('invalid Authorization HTTP Header format', INVALID_REQUEST, {\n            headers: request.headers,\n        });\n    }\n    const requiredClaims = [\n        'iss',\n        'exp',\n        'aud',\n        'sub',\n        'iat',\n        'jti',\n        'client_id',\n    ];\n    if (options?.requireDPoP || scheme === 'dpop' || request.headers.has('dpop')) {\n        requiredClaims.push('cnf');\n    }\n    const { claims, header } = await validateJwt(accessToken, checkSigningAlgorithm.bind(undefined, options?.signingAlgorithms, undefined, supported), getClockSkew(options), getClockTolerance(options), undefined)\n        .then(checkJwtType.bind(undefined, 'at+jwt'))\n        .then(validatePresence.bind(undefined, requiredClaims))\n        .then(validateIssuer.bind(undefined, as))\n        .then(validateAudience.bind(undefined, expectedAudience))\n        .catch(reassignRSCode);\n    for (const claim of ['client_id', 'jti', 'sub']) {\n        if (typeof claims[claim] !== 'string') {\n            throw OPE(`unexpected JWT \"${claim}\" claim type`, INVALID_REQUEST, { claims });\n        }\n    }\n    if ('cnf' in claims) {\n        if (!isJsonObject(claims.cnf)) {\n            throw OPE('unexpected JWT \"cnf\" (confirmation) claim value', INVALID_REQUEST, { claims });\n        }\n        const { 0: cnf, length } = Object.keys(claims.cnf);\n        if (length) {\n            if (length !== 1) {\n                throw new UnsupportedOperationError('multiple confirmation claims are not supported', {\n                    cause: { claims },\n                });\n            }\n            if (cnf !== 'jkt') {\n                throw new UnsupportedOperationError('unsupported JWT Confirmation method', {\n                    cause: { claims },\n                });\n            }\n        }\n    }\n    const { 0: protectedHeader, 1: payload, 2: encodedSignature } = accessToken.split('.');\n    const signature = b64u(encodedSignature);\n    const key = await getPublicSigKeyFromIssuerJwksUri(as, options, header);\n    await validateJwsSignature(protectedHeader, payload, key, signature);\n    if (options?.requireDPoP ||\n        scheme === 'dpop' ||\n        claims.cnf?.jkt !== undefined ||\n        request.headers.has('dpop')) {\n        await validateDPoP(request, accessToken, claims, options).catch(reassignRSCode);\n    }\n    return claims;\n}\nfunction reassignRSCode(err) {\n    if (err instanceof OperationProcessingError && err?.code === INVALID_REQUEST) {\n        err.code = INVALID_RESPONSE;\n    }\n    throw err;\n}\nasync function backchannelAuthenticationRequest(as, client, clientAuthentication, parameters, options) {\n    assertAs(as);\n    assertClient(client);\n    const url = resolveEndpoint(as, 'backchannel_authentication_endpoint', client.use_mtls_endpoint_aliases, options?.[allowInsecureRequests] !== true);\n    const body = new URLSearchParams(parameters);\n    body.set('client_id', client.client_id);\n    const headers = prepareHeaders(options?.headers);\n    headers.set('accept', 'application/json');\n    return authenticatedRequest(as, client, clientAuthentication, url, body, headers, options);\n}\nasync function processBackchannelAuthenticationResponse(as, client, response) {\n    assertAs(as);\n    assertClient(client);\n    if (!looseInstanceOf(response, Response)) {\n        throw CodedTypeError('\"response\" must be an instance of Response', ERR_INVALID_ARG_TYPE);\n    }\n    await checkOAuthBodyError(response, 200, 'Backchannel Authentication Endpoint');\n    assertReadableResponse(response);\n    const json = await getResponseJsonBody(response);\n    assertString(json.auth_req_id, '\"response\" body \"auth_req_id\" property', INVALID_RESPONSE, {\n        body: json,\n    });\n    let expiresIn = typeof json.expires_in !== 'number' ? parseFloat(json.expires_in) : json.expires_in;\n    assertNumber(expiresIn, true, '\"response\" body \"expires_in\" property', INVALID_RESPONSE, {\n        body: json,\n    });\n    json.expires_in = expiresIn;\n    if (json.interval !== undefined) {\n        assertNumber(json.interval, false, '\"response\" body \"interval\" property', INVALID_RESPONSE, {\n            body: json,\n        });\n    }\n    return json;\n}\nasync function backchannelAuthenticationGrantRequest(as, client, clientAuthentication, authReqId, options) {\n    assertAs(as);\n    assertClient(client);\n    assertString(authReqId, '\"authReqId\"');\n    const parameters = new URLSearchParams(options?.additionalParameters);\n    parameters.set('auth_req_id', authReqId);\n    return tokenEndpointRequest(as, client, clientAuthentication, 'urn:openid:params:grant-type:ciba', parameters, options);\n}\nasync function processBackchannelAuthenticationGrantResponse(as, client, response, options) {\n    return processGenericAccessTokenResponse(as, client, response, undefined, options?.[jweDecrypt], options?.recognizedTokenTypes);\n}\nasync function dynamicClientRegistrationRequest(as, metadata, options) {\n    assertAs(as);\n    const url = resolveEndpoint(as, 'registration_endpoint', metadata.use_mtls_endpoint_aliases, options?.[allowInsecureRequests] !== true);\n    const headers = prepareHeaders(options?.headers);\n    headers.set('accept', 'application/json');\n    headers.set('content-type', 'application/json');\n    const method = 'POST';\n    if (options?.DPoP) {\n        assertDPoP(options.DPoP);\n        await options.DPoP.addProof(url, headers, method, options.initialAccessToken);\n    }\n    if (options?.initialAccessToken) {\n        headers.set('authorization', `${headers.has('dpop') ? 'DPoP' : 'Bearer'} ${options.initialAccessToken}`);\n    }\n    const response = await (options?.[customFetch] || fetch)(url.href, {\n        body: JSON.stringify(metadata),\n        headers: Object.fromEntries(headers.entries()),\n        method,\n        redirect: 'manual',\n        signal: signal(url, options?.signal),\n    });\n    options?.DPoP?.cacheNonce(response, url);\n    return response;\n}\nasync function processDynamicClientRegistrationResponse(response) {\n    if (!looseInstanceOf(response, Response)) {\n        throw CodedTypeError('\"response\" must be an instance of Response', ERR_INVALID_ARG_TYPE);\n    }\n    await checkOAuthBodyError(response, 201, 'Dynamic Client Registration Endpoint');\n    assertReadableResponse(response);\n    const json = await getResponseJsonBody(response);\n    assertString(json.client_id, '\"response\" body \"client_id\" property', INVALID_RESPONSE, {\n        body: json,\n    });\n    if (json.client_secret !== undefined) {\n        assertString(json.client_secret, '\"response\" body \"client_secret\" property', INVALID_RESPONSE, {\n            body: json,\n        });\n    }\n    if (json.client_secret) {\n        assertNumber(json.client_secret_expires_at, true, '\"response\" body \"client_secret_expires_at\" property', INVALID_RESPONSE, {\n            body: json,\n        });\n    }\n    return json;\n}\nasync function resourceDiscoveryRequest(resourceIdentifier, options) {\n    return performDiscovery(resourceIdentifier, 'resourceIdentifier', (url) => {\n        prependWellKnown(url, '.well-known/oauth-protected-resource', true);\n        return url;\n    }, options);\n}\nasync function processResourceDiscoveryResponse(expectedResourceIdentifier, response) {\n    const expected = expectedResourceIdentifier;\n    if (!(expected instanceof URL) && expected !== _nodiscoverycheck) {\n        throw CodedTypeError('\"expectedResourceIdentifier\" must be an instance of URL', ERR_INVALID_ARG_TYPE);\n    }\n    if (!looseInstanceOf(response, Response)) {\n        throw CodedTypeError('\"response\" must be an instance of Response', ERR_INVALID_ARG_TYPE);\n    }\n    if (response.status !== 200) {\n        throw OPE('\"response\" is not a conform Resource Server Metadata response (unexpected HTTP status code)', RESPONSE_IS_NOT_CONFORM, response);\n    }\n    assertReadableResponse(response);\n    const json = await getResponseJsonBody(response);\n    assertString(json.resource, '\"response\" body \"resource\" property', INVALID_RESPONSE, {\n        body: json,\n    });\n    if (expected !== _nodiscoverycheck && new URL(json.resource).href !== expected.href) {\n        throw OPE('\"response\" body \"resource\" property does not match the expected value', JSON_ATTRIBUTE_COMPARISON, { expected: expected.href, body: json, attribute: 'resource' });\n    }\n    return json;\n}\nasync function getResponseJsonBody(response, check = assertApplicationJson) {\n    let json;\n    try {\n        json = await response.json();\n    }\n    catch (cause) {\n        check(response);\n        throw OPE('failed to parse \"response\" body as JSON', PARSE_ERROR, cause);\n    }\n    if (!isJsonObject(json)) {\n        throw OPE('\"response\" body must be a top level object', INVALID_RESPONSE, { body: json });\n    }\n    return json;\n}\nconst _nopkce = nopkce;\nconst _nodiscoverycheck = Symbol();\nconst _expectedIssuer = Symbol();\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL29hdXRoNHdlYmFwaS9idWlsZC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLEtBQUssR0FBRyxRQUFRO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLE9BQU87QUFDaEQseUJBQXlCLE1BQU07QUFDL0I7QUFDQTtBQUNPO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQywwQ0FBMEM7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHNCQUFzQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0QsdUJBQXVCO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsbUJBQW1CO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCxhQUFhO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEVBQThFLFlBQVk7QUFDMUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxJQUFJO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsSUFBSTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLElBQUk7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLFVBQVUsR0FBRyx5RUFBeUU7QUFDbkk7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsYUFBYSxHQUFHLFVBQVU7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsUUFBUTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxJQUFJO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsSUFBSTtBQUM1QztBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsSUFBSTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLElBQUk7QUFDeEM7QUFDQTtBQUNBLG9DQUFvQyxJQUFJO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUZBQXVGLFlBQVk7QUFDbkc7QUFDQSxzSEFBc0gsMERBQTBEO0FBQ2hMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGlCQUFpQixPQUFPLEtBQUs7QUFDL0M7QUFDQTtBQUNBLGtCQUFrQixVQUFVLEtBQUssU0FBUztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRkFBMkYsWUFBWTtBQUN2RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwRkFBMEYsWUFBWTtBQUN0RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsbURBQW1EO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsU0FBUyxHQUFHLFNBQVM7QUFDekQsOENBQThDLFlBQVk7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsWUFBWSxXQUFXO0FBQ3ZCO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEVBQTBFLCtCQUErQjtBQUN6Ryx5QkFBeUI7QUFDekI7QUFDQTtBQUNBLHdCQUF3QixrQ0FBa0MsR0FBRyxtQ0FBbUM7QUFDaEc7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLEtBQUssR0FBRywyQkFBMkI7QUFDM0U7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixrQ0FBa0MsR0FBRyxtQ0FBbUM7QUFDN0Y7QUFDQSxjQUFjLE1BQU0sR0FBRyxVQUFVO0FBQ2pDO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxZQUFZLFdBQVc7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw0QkFBNEI7QUFDeEMsa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEVBQTRFLDRDQUE0QyxTQUFTLFlBQVksU0FBUyxHQUFHLDhFQUE4RSxtREFBbUQsU0FBUyxjQUFjO0FBQ2pUO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixXQUFXLEVBQUUsYUFBYTtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLGdCQUFnQix1QkFBdUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0QsNENBQTRDO0FBQzlGO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxtQkFBbUI7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsSUFBSTtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxNQUFNO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGlEQUFpRCxPQUFPO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyx5Q0FBeUMsRUFBRSxZQUFZO0FBQzNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQSwrQkFBK0Isa0NBQWtDO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFdBQVc7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsWUFBWTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0VBQStFLFNBQVMsT0FBTztBQUMvRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVksaUJBQWlCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0R0FBNEcsb0RBQW9EO0FBQ2hLO0FBQ0E7QUFDQSw0SkFBNEosb0RBQW9EO0FBQ2hOO0FBQ0E7QUFDQTtBQUNPO0FBQ0E7QUFDUCxzREFBc0Q7QUFDdEQ7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixjQUFjO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRkFBaUYsWUFBWTtBQUM3RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUU7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksc0RBQXNEO0FBQ2xFO0FBQ0E7QUFDQSwyRUFBMkUsU0FBUyxtQkFBbUI7QUFDdkc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLDJGQUEyRixZQUFZO0FBQ3ZHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsY0FBYztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkhBQTZILHNCQUFzQjtBQUNuSjtBQUNBO0FBQ0EsOEdBQThHLGtEQUFrRDtBQUNoSztBQUNBO0FBQ0E7QUFDQSxtSEFBbUgsUUFBUTtBQUMzSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0ZBQWdGLFNBQVMsY0FBYztBQUN2RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwySEFBMkgsNkJBQTZCO0FBQ3hKO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDQTtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixNQUFNLEtBQUsscUJBQXFCO0FBQzlEO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDQTtBQUNBO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpSEFBaUgsNENBQTRDO0FBQzdKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUhBQXFILDRDQUE0QztBQUNqSztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixjQUFjO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwRkFBMEYsWUFBWTtBQUN0RztBQUNBO0FBQ0EsK0dBQStHLFlBQVk7QUFDM0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGlCQUFpQjtBQUN0QyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsWUFBWSxZQUFZO0FBQ3hCO0FBQ0EsMkRBQTJELGdCQUFnQjtBQUMzRTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxZQUFZLFlBQVk7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtGQUFrRixZQUFZO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRkFBMkYsWUFBWTtBQUN2RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0ZBQWtGLFlBQVk7QUFDOUY7QUFDQTtBQUNBLHdCQUF3QixnQkFBZ0IsR0FBRyxRQUFRO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsVUFBVSx5Q0FBeUM7QUFDbkQ7QUFDQTtBQUNBO0FBQ0EsZUFBZSx5Q0FBeUM7QUFDeEQ7QUFDQTtBQUNBLHNGQUFzRixZQUFZO0FBQ2xHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixRQUFRO0FBQzdCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0ZBQStGLFFBQVE7QUFDdkc7QUFDQTtBQUNBLHlJQUF5SSxzREFBc0Q7QUFDL0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5RkFBeUYsUUFBUTtBQUNqRztBQUNBO0FBQ0E7QUFDQTtBQUNBLHNGQUFzRixRQUFRO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEZBQTBGLFFBQVE7QUFDbEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RkFBd0YsUUFBUTtBQUNoRztBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHNCQUFzQjtBQUNsQztBQUNBO0FBQ0E7QUFDQSxZQUFZLHNEQUFzRDtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0EsaUZBQWlGLFdBQVcsZ0JBQWdCLFNBQVMsbUJBQW1CO0FBQ3hJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0hBQWtILGdCQUFnQjtBQUNsSTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsaUhBQWlILGdCQUFnQjtBQUNqSTtBQUNBO0FBQ0Esb0pBQW9KLGdCQUFnQjtBQUNwSztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxzQkFBc0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0hBQW9ILDJCQUEyQjtBQUMvSTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSwrR0FBK0csUUFBUTtBQUN2SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUhBQWlILDRDQUE0QztBQUM3SjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLHlIQUF5SCxzQkFBc0I7QUFDL0k7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxZQUFZLHNEQUFzRDtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsOEVBQThFLFlBQVk7QUFDMUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLCtHQUErRywwQkFBMEI7QUFDekk7QUFDQTtBQUNBLFlBQVksbUJBQW1CO0FBQy9CO0FBQ0Esc0JBQXNCLEtBQUs7QUFDM0I7QUFDQTtBQUNBO0FBQ087QUFDQTtBQUNBO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0pBQWdKLFlBQVk7QUFDNUo7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRkFBbUYsWUFBWTtBQUMvRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUZBQXlGLHFDQUFxQztBQUM5SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsOEJBQThCLGNBQWM7QUFDakU7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHdDQUF3QyxjQUFjO0FBQzNFO0FBQ0E7QUFDQSxxQkFBcUIsZ0NBQWdDLGNBQWM7QUFDbkU7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtFQUErRSxTQUFTLE9BQU87QUFDL0Y7QUFDQTtBQUNBO0FBQ0EsWUFBWSw0QkFBNEI7QUFDeEM7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMLDJHQUEyRyxZQUFZO0FBQ3ZIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsaUlBQWlJLFlBQVk7QUFDN0k7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZHQUE2RywwQkFBMEI7QUFDdkk7QUFDQTtBQUNBLG9JQUFvSSwwQkFBMEI7QUFDOUo7QUFDQTtBQUNBLDRIQUE0SCwyQkFBMkI7QUFDdko7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsWUFBWSxzREFBc0Q7QUFDbEU7QUFDQSxZQUFZLFdBQVc7QUFDdkI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxVQUFVLG9DQUFvQztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QiwwQkFBMEI7QUFDbkQsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxpQkFBaUI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsTUFBTSxrQ0FBa0MsUUFBUTtBQUN6RjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRGQUE0RixRQUFRO0FBQ3BHO0FBQ0EsZ0JBQWdCLGlCQUFpQjtBQUNqQztBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsUUFBUTtBQUNyQyxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLFFBQVE7QUFDckMsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLFlBQVksc0RBQXNEO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MseUNBQXlDLEVBQUUsMkJBQTJCO0FBQzlHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSx3SEFBd0gsNERBQTREO0FBQ3BMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0ZBQW9GLFlBQVk7QUFDaEc7QUFDQTtBQUNBO0FBQ087QUFDQTtBQUNBO0FBQ1AiLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXG9hdXRoNHdlYmFwaVxcYnVpbGRcXGluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImxldCBVU0VSX0FHRU5UO1xuaWYgKHR5cGVvZiBuYXZpZ2F0b3IgPT09ICd1bmRlZmluZWQnIHx8ICFuYXZpZ2F0b3IudXNlckFnZW50Py5zdGFydHNXaXRoPy4oJ01vemlsbGEvNS4wICcpKSB7XG4gICAgY29uc3QgTkFNRSA9ICdvYXV0aDR3ZWJhcGknO1xuICAgIGNvbnN0IFZFUlNJT04gPSAndjMuOC4yJztcbiAgICBVU0VSX0FHRU5UID0gYCR7TkFNRX0vJHtWRVJTSU9OfWA7XG59XG5mdW5jdGlvbiBsb29zZUluc3RhbmNlT2YoaW5wdXQsIGV4cGVjdGVkKSB7XG4gICAgaWYgKGlucHV0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gKGlucHV0IGluc3RhbmNlb2YgZXhwZWN0ZWQgfHxcbiAgICAgICAgICAgIE9iamVjdC5nZXRQcm90b3R5cGVPZihpbnB1dClbU3ltYm9sLnRvU3RyaW5nVGFnXSA9PT0gZXhwZWN0ZWQucHJvdG90eXBlW1N5bWJvbC50b1N0cmluZ1RhZ10pO1xuICAgIH1cbiAgICBjYXRjaCB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5jb25zdCBFUlJfSU5WQUxJRF9BUkdfVkFMVUUgPSAnRVJSX0lOVkFMSURfQVJHX1ZBTFVFJztcbmNvbnN0IEVSUl9JTlZBTElEX0FSR19UWVBFID0gJ0VSUl9JTlZBTElEX0FSR19UWVBFJztcbmZ1bmN0aW9uIENvZGVkVHlwZUVycm9yKG1lc3NhZ2UsIGNvZGUsIGNhdXNlKSB7XG4gICAgY29uc3QgZXJyID0gbmV3IFR5cGVFcnJvcihtZXNzYWdlLCB7IGNhdXNlIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oZXJyLCB7IGNvZGUgfSk7XG4gICAgcmV0dXJuIGVycjtcbn1cbmV4cG9ydCBjb25zdCBhbGxvd0luc2VjdXJlUmVxdWVzdHMgPSBTeW1ib2woKTtcbmV4cG9ydCBjb25zdCBjbG9ja1NrZXcgPSBTeW1ib2woKTtcbmV4cG9ydCBjb25zdCBjbG9ja1RvbGVyYW5jZSA9IFN5bWJvbCgpO1xuZXhwb3J0IGNvbnN0IGN1c3RvbUZldGNoID0gU3ltYm9sKCk7XG5leHBvcnQgY29uc3QgbW9kaWZ5QXNzZXJ0aW9uID0gU3ltYm9sKCk7XG5leHBvcnQgY29uc3QgandlRGVjcnlwdCA9IFN5bWJvbCgpO1xuZXhwb3J0IGNvbnN0IGp3a3NDYWNoZSA9IFN5bWJvbCgpO1xuY29uc3QgZW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigpO1xuY29uc3QgZGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigpO1xuZnVuY3Rpb24gYnVmKGlucHV0KSB7XG4gICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIGVuY29kZXIuZW5jb2RlKGlucHV0KTtcbiAgICB9XG4gICAgcmV0dXJuIGRlY29kZXIuZGVjb2RlKGlucHV0KTtcbn1cbmxldCBlbmNvZGVCYXNlNjRVcmw7XG5pZiAoVWludDhBcnJheS5wcm90b3R5cGUudG9CYXNlNjQpIHtcbiAgICBlbmNvZGVCYXNlNjRVcmwgPSAoaW5wdXQpID0+IHtcbiAgICAgICAgaWYgKGlucHV0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgICAgIGlucHV0ID0gbmV3IFVpbnQ4QXJyYXkoaW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnB1dC50b0Jhc2U2NCh7IGFscGhhYmV0OiAnYmFzZTY0dXJsJywgb21pdFBhZGRpbmc6IHRydWUgfSk7XG4gICAgfTtcbn1cbmVsc2Uge1xuICAgIGNvbnN0IENIVU5LX1NJWkUgPSAweDgwMDA7XG4gICAgZW5jb2RlQmFzZTY0VXJsID0gKGlucHV0KSA9PiB7XG4gICAgICAgIGlmIChpbnB1dCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgICAgICBpbnB1dCA9IG5ldyBVaW50OEFycmF5KGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhcnIgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dC5ieXRlTGVuZ3RoOyBpICs9IENIVU5LX1NJWkUpIHtcbiAgICAgICAgICAgIGFyci5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgaW5wdXQuc3ViYXJyYXkoaSwgaSArIENIVU5LX1NJWkUpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJ0b2EoYXJyLmpvaW4oJycpKS5yZXBsYWNlKC89L2csICcnKS5yZXBsYWNlKC9cXCsvZywgJy0nKS5yZXBsYWNlKC9cXC8vZywgJ18nKTtcbiAgICB9O1xufVxubGV0IGRlY29kZUJhc2U2NFVybDtcbmlmIChVaW50OEFycmF5LmZyb21CYXNlNjQpIHtcbiAgICBkZWNvZGVCYXNlNjRVcmwgPSAoaW5wdXQpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBVaW50OEFycmF5LmZyb21CYXNlNjQoaW5wdXQsIHsgYWxwaGFiZXQ6ICdiYXNlNjR1cmwnIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChjYXVzZSkge1xuICAgICAgICAgICAgdGhyb3cgQ29kZWRUeXBlRXJyb3IoJ1RoZSBpbnB1dCB0byBiZSBkZWNvZGVkIGlzIG5vdCBjb3JyZWN0bHkgZW5jb2RlZC4nLCBFUlJfSU5WQUxJRF9BUkdfVkFMVUUsIGNhdXNlKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5lbHNlIHtcbiAgICBkZWNvZGVCYXNlNjRVcmwgPSAoaW5wdXQpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGJpbmFyeSA9IGF0b2IoaW5wdXQucmVwbGFjZSgvLS9nLCAnKycpLnJlcGxhY2UoL18vZywgJy8nKS5yZXBsYWNlKC9cXHMvZywgJycpKTtcbiAgICAgICAgICAgIGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYmluYXJ5Lmxlbmd0aCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJpbmFyeS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGJ5dGVzW2ldID0gYmluYXJ5LmNoYXJDb2RlQXQoaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYnl0ZXM7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGNhdXNlKSB7XG4gICAgICAgICAgICB0aHJvdyBDb2RlZFR5cGVFcnJvcignVGhlIGlucHV0IHRvIGJlIGRlY29kZWQgaXMgbm90IGNvcnJlY3RseSBlbmNvZGVkLicsIEVSUl9JTlZBTElEX0FSR19WQUxVRSwgY2F1c2UpO1xuICAgICAgICB9XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGI2NHUoaW5wdXQpIHtcbiAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gZGVjb2RlQmFzZTY0VXJsKGlucHV0KTtcbiAgICB9XG4gICAgcmV0dXJuIGVuY29kZUJhc2U2NFVybChpbnB1dCk7XG59XG5leHBvcnQgY2xhc3MgVW5zdXBwb3J0ZWRPcGVyYXRpb25FcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb2RlO1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMubmFtZSA9IHRoaXMuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgdGhpcy5jb2RlID0gVU5TVVBQT1JURURfT1BFUkFUSU9OO1xuICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZT8uKHRoaXMsIHRoaXMuY29uc3RydWN0b3IpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBPcGVyYXRpb25Qcm9jZXNzaW5nRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29kZTtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLm5hbWUgPSB0aGlzLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgIGlmIChvcHRpb25zPy5jb2RlKSB7XG4gICAgICAgICAgICB0aGlzLmNvZGUgPSBvcHRpb25zPy5jb2RlO1xuICAgICAgICB9XG4gICAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlPy4odGhpcywgdGhpcy5jb25zdHJ1Y3Rvcik7XG4gICAgfVxufVxuZnVuY3Rpb24gT1BFKG1lc3NhZ2UsIGNvZGUsIGNhdXNlKSB7XG4gICAgcmV0dXJuIG5ldyBPcGVyYXRpb25Qcm9jZXNzaW5nRXJyb3IobWVzc2FnZSwgeyBjb2RlLCBjYXVzZSB9KTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGNhbGN1bGF0ZUp3a1RodW1icHJpbnQoandrKSB7XG4gICAgbGV0IGNvbXBvbmVudHM7XG4gICAgc3dpdGNoIChqd2sua3R5KSB7XG4gICAgICAgIGNhc2UgJ0VDJzpcbiAgICAgICAgICAgIGNvbXBvbmVudHMgPSB7XG4gICAgICAgICAgICAgICAgY3J2OiBqd2suY3J2LFxuICAgICAgICAgICAgICAgIGt0eTogandrLmt0eSxcbiAgICAgICAgICAgICAgICB4OiBqd2sueCxcbiAgICAgICAgICAgICAgICB5OiBqd2sueSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnT0tQJzpcbiAgICAgICAgICAgIGNvbXBvbmVudHMgPSB7XG4gICAgICAgICAgICAgICAgY3J2OiBqd2suY3J2LFxuICAgICAgICAgICAgICAgIGt0eTogandrLmt0eSxcbiAgICAgICAgICAgICAgICB4OiBqd2sueCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnQUtQJzpcbiAgICAgICAgICAgIGNvbXBvbmVudHMgPSB7XG4gICAgICAgICAgICAgICAgYWxnOiBqd2suYWxnLFxuICAgICAgICAgICAgICAgIGt0eTogandrLmt0eSxcbiAgICAgICAgICAgICAgICBwdWI6IGp3ay5wdWIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ1JTQSc6XG4gICAgICAgICAgICBjb21wb25lbnRzID0ge1xuICAgICAgICAgICAgICAgIGU6IGp3ay5lLFxuICAgICAgICAgICAgICAgIGt0eTogandrLmt0eSxcbiAgICAgICAgICAgICAgICBuOiBqd2subixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkVycm9yKCd1bnN1cHBvcnRlZCBKV0sga2V5IHR5cGUnLCB7IGNhdXNlOiBqd2sgfSk7XG4gICAgfVxuICAgIHJldHVybiBiNjR1KGF3YWl0IGNyeXB0by5zdWJ0bGUuZGlnZXN0KCdTSEEtMjU2JywgYnVmKEpTT04uc3RyaW5naWZ5KGNvbXBvbmVudHMpKSkpO1xufVxuZnVuY3Rpb24gYXNzZXJ0Q3J5cHRvS2V5KGtleSwgaXQpIHtcbiAgICBpZiAoIShrZXkgaW5zdGFuY2VvZiBDcnlwdG9LZXkpKSB7XG4gICAgICAgIHRocm93IENvZGVkVHlwZUVycm9yKGAke2l0fSBtdXN0IGJlIGEgQ3J5cHRvS2V5YCwgRVJSX0lOVkFMSURfQVJHX1RZUEUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFzc2VydFByaXZhdGVLZXkoa2V5LCBpdCkge1xuICAgIGFzc2VydENyeXB0b0tleShrZXksIGl0KTtcbiAgICBpZiAoa2V5LnR5cGUgIT09ICdwcml2YXRlJykge1xuICAgICAgICB0aHJvdyBDb2RlZFR5cGVFcnJvcihgJHtpdH0gbXVzdCBiZSBhIHByaXZhdGUgQ3J5cHRvS2V5YCwgRVJSX0lOVkFMSURfQVJHX1ZBTFVFKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnRQdWJsaWNLZXkoa2V5LCBpdCkge1xuICAgIGFzc2VydENyeXB0b0tleShrZXksIGl0KTtcbiAgICBpZiAoa2V5LnR5cGUgIT09ICdwdWJsaWMnKSB7XG4gICAgICAgIHRocm93IENvZGVkVHlwZUVycm9yKGAke2l0fSBtdXN0IGJlIGEgcHVibGljIENyeXB0b0tleWAsIEVSUl9JTlZBTElEX0FSR19WQUxVRSk7XG4gICAgfVxufVxuZnVuY3Rpb24gbm9ybWFsaXplVHlwKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXmFwcGxpY2F0aW9uXFwvLywgJycpO1xufVxuZnVuY3Rpb24gaXNKc29uT2JqZWN0KGlucHV0KSB7XG4gICAgaWYgKGlucHV0ID09PSBudWxsIHx8IHR5cGVvZiBpbnB1dCAhPT0gJ29iamVjdCcgfHwgQXJyYXkuaXNBcnJheShpbnB1dCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIHByZXBhcmVIZWFkZXJzKGlucHV0KSB7XG4gICAgaWYgKGxvb3NlSW5zdGFuY2VPZihpbnB1dCwgSGVhZGVycykpIHtcbiAgICAgICAgaW5wdXQgPSBPYmplY3QuZnJvbUVudHJpZXMoaW5wdXQuZW50cmllcygpKTtcbiAgICB9XG4gICAgY29uc3QgaGVhZGVycyA9IG5ldyBIZWFkZXJzKGlucHV0ID8/IHt9KTtcbiAgICBpZiAoVVNFUl9BR0VOVCAmJiAhaGVhZGVycy5oYXMoJ3VzZXItYWdlbnQnKSkge1xuICAgICAgICBoZWFkZXJzLnNldCgndXNlci1hZ2VudCcsIFVTRVJfQUdFTlQpO1xuICAgIH1cbiAgICBpZiAoaGVhZGVycy5oYXMoJ2F1dGhvcml6YXRpb24nKSkge1xuICAgICAgICB0aHJvdyBDb2RlZFR5cGVFcnJvcignXCJvcHRpb25zLmhlYWRlcnNcIiBtdXN0IG5vdCBpbmNsdWRlIHRoZSBcImF1dGhvcml6YXRpb25cIiBoZWFkZXIgbmFtZScsIEVSUl9JTlZBTElEX0FSR19WQUxVRSk7XG4gICAgfVxuICAgIHJldHVybiBoZWFkZXJzO1xufVxuZnVuY3Rpb24gc2lnbmFsKHVybCwgdmFsdWUpIHtcbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlKHVybC5ocmVmKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISh2YWx1ZSBpbnN0YW5jZW9mIEFib3J0U2lnbmFsKSkge1xuICAgICAgICAgICAgdGhyb3cgQ29kZWRUeXBlRXJyb3IoJ1wib3B0aW9ucy5zaWduYWxcIiBtdXN0IHJldHVybiBvciBiZSBhbiBpbnN0YW5jZSBvZiBBYm9ydFNpZ25hbCcsIEVSUl9JTlZBTElEX0FSR19UWVBFKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiByZXBsYWNlRG91YmxlU2xhc2gocGF0aG5hbWUpIHtcbiAgICBpZiAocGF0aG5hbWUuaW5jbHVkZXMoJy8vJykpIHtcbiAgICAgICAgcmV0dXJuIHBhdGhuYW1lLnJlcGxhY2UoJy8vJywgJy8nKTtcbiAgICB9XG4gICAgcmV0dXJuIHBhdGhuYW1lO1xufVxuZnVuY3Rpb24gcHJlcGVuZFdlbGxLbm93bih1cmwsIHdlbGxLbm93biwgYWxsb3dUZXJtaW5hdGluZ1NsYXNoID0gZmFsc2UpIHtcbiAgICBpZiAodXJsLnBhdGhuYW1lID09PSAnLycpIHtcbiAgICAgICAgdXJsLnBhdGhuYW1lID0gd2VsbEtub3duO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdXJsLnBhdGhuYW1lID0gcmVwbGFjZURvdWJsZVNsYXNoKGAke3dlbGxLbm93bn0vJHthbGxvd1Rlcm1pbmF0aW5nU2xhc2ggPyB1cmwucGF0aG5hbWUgOiB1cmwucGF0aG5hbWUucmVwbGFjZSgvKFxcLykkLywgJycpfWApO1xuICAgIH1cbiAgICByZXR1cm4gdXJsO1xufVxuZnVuY3Rpb24gYXBwZW5kV2VsbEtub3duKHVybCwgd2VsbEtub3duKSB7XG4gICAgdXJsLnBhdGhuYW1lID0gcmVwbGFjZURvdWJsZVNsYXNoKGAke3VybC5wYXRobmFtZX0vJHt3ZWxsS25vd259YCk7XG4gICAgcmV0dXJuIHVybDtcbn1cbmFzeW5jIGZ1bmN0aW9uIHBlcmZvcm1EaXNjb3ZlcnkoaW5wdXQsIHVybE5hbWUsIHRyYW5zZm9ybSwgb3B0aW9ucykge1xuICAgIGlmICghKGlucHV0IGluc3RhbmNlb2YgVVJMKSkge1xuICAgICAgICB0aHJvdyBDb2RlZFR5cGVFcnJvcihgXCIke3VybE5hbWV9XCIgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiBVUkxgLCBFUlJfSU5WQUxJRF9BUkdfVFlQRSk7XG4gICAgfVxuICAgIGNoZWNrUHJvdG9jb2woaW5wdXQsIG9wdGlvbnM/LlthbGxvd0luc2VjdXJlUmVxdWVzdHNdICE9PSB0cnVlKTtcbiAgICBjb25zdCB1cmwgPSB0cmFuc2Zvcm0obmV3IFVSTChpbnB1dC5ocmVmKSk7XG4gICAgY29uc3QgaGVhZGVycyA9IHByZXBhcmVIZWFkZXJzKG9wdGlvbnM/LmhlYWRlcnMpO1xuICAgIGhlYWRlcnMuc2V0KCdhY2NlcHQnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgIHJldHVybiAob3B0aW9ucz8uW2N1c3RvbUZldGNoXSB8fCBmZXRjaCkodXJsLmhyZWYsIHtcbiAgICAgICAgYm9keTogdW5kZWZpbmVkLFxuICAgICAgICBoZWFkZXJzOiBPYmplY3QuZnJvbUVudHJpZXMoaGVhZGVycy5lbnRyaWVzKCkpLFxuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICByZWRpcmVjdDogJ21hbnVhbCcsXG4gICAgICAgIHNpZ25hbDogc2lnbmFsKHVybCwgb3B0aW9ucz8uc2lnbmFsKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkaXNjb3ZlcnlSZXF1ZXN0KGlzc3VlcklkZW50aWZpZXIsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gcGVyZm9ybURpc2NvdmVyeShpc3N1ZXJJZGVudGlmaWVyLCAnaXNzdWVySWRlbnRpZmllcicsICh1cmwpID0+IHtcbiAgICAgICAgc3dpdGNoIChvcHRpb25zPy5hbGdvcml0aG0pIHtcbiAgICAgICAgICAgIGNhc2UgdW5kZWZpbmVkOlxuICAgICAgICAgICAgY2FzZSAnb2lkYyc6XG4gICAgICAgICAgICAgICAgYXBwZW5kV2VsbEtub3duKHVybCwgJy53ZWxsLWtub3duL29wZW5pZC1jb25maWd1cmF0aW9uJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdvYXV0aDInOlxuICAgICAgICAgICAgICAgIHByZXBlbmRXZWxsS25vd24odXJsLCAnLndlbGwta25vd24vb2F1dGgtYXV0aG9yaXphdGlvbi1zZXJ2ZXInKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgQ29kZWRUeXBlRXJyb3IoJ1wib3B0aW9ucy5hbGdvcml0aG1cIiBtdXN0IGJlIFwib2lkY1wiIChkZWZhdWx0KSwgb3IgXCJvYXV0aDJcIicsIEVSUl9JTlZBTElEX0FSR19WQUxVRSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVybDtcbiAgICB9LCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIGFzc2VydE51bWJlcihpbnB1dCwgYWxsb3cwLCBpdCwgY29kZSwgY2F1c2UpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ICE9PSAnbnVtYmVyJyB8fCAhTnVtYmVyLmlzRmluaXRlKGlucHV0KSkge1xuICAgICAgICAgICAgdGhyb3cgQ29kZWRUeXBlRXJyb3IoYCR7aXR9IG11c3QgYmUgYSBudW1iZXJgLCBFUlJfSU5WQUxJRF9BUkdfVFlQRSwgY2F1c2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnB1dCA+IDApXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmIChhbGxvdzApIHtcbiAgICAgICAgICAgIGlmIChpbnB1dCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHRocm93IENvZGVkVHlwZUVycm9yKGAke2l0fSBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlcmAsIEVSUl9JTlZBTElEX0FSR19WQUxVRSwgY2F1c2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IENvZGVkVHlwZUVycm9yKGAke2l0fSBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyYCwgRVJSX0lOVkFMSURfQVJHX1ZBTFVFLCBjYXVzZSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgaWYgKGNvZGUpIHtcbiAgICAgICAgICAgIHRocm93IE9QRShlcnIubWVzc2FnZSwgY29kZSwgY2F1c2UpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGVycjtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnRTdHJpbmcoaW5wdXQsIGl0LCBjb2RlLCBjYXVzZSkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aHJvdyBDb2RlZFR5cGVFcnJvcihgJHtpdH0gbXVzdCBiZSBhIHN0cmluZ2AsIEVSUl9JTlZBTElEX0FSR19UWVBFLCBjYXVzZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlucHV0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgQ29kZWRUeXBlRXJyb3IoYCR7aXR9IG11c3Qgbm90IGJlIGVtcHR5YCwgRVJSX0lOVkFMSURfQVJHX1ZBTFVFLCBjYXVzZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICBpZiAoY29kZSkge1xuICAgICAgICAgICAgdGhyb3cgT1BFKGVyci5tZXNzYWdlLCBjb2RlLCBjYXVzZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwcm9jZXNzRGlzY292ZXJ5UmVzcG9uc2UoZXhwZWN0ZWRJc3N1ZXJJZGVudGlmaWVyLCByZXNwb25zZSkge1xuICAgIGNvbnN0IGV4cGVjdGVkID0gZXhwZWN0ZWRJc3N1ZXJJZGVudGlmaWVyO1xuICAgIGlmICghKGV4cGVjdGVkIGluc3RhbmNlb2YgVVJMKSAmJiBleHBlY3RlZCAhPT0gX25vZGlzY292ZXJ5Y2hlY2spIHtcbiAgICAgICAgdGhyb3cgQ29kZWRUeXBlRXJyb3IoJ1wiZXhwZWN0ZWRJc3N1ZXJJZGVudGlmaWVyXCIgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiBVUkwnLCBFUlJfSU5WQUxJRF9BUkdfVFlQRSk7XG4gICAgfVxuICAgIGlmICghbG9vc2VJbnN0YW5jZU9mKHJlc3BvbnNlLCBSZXNwb25zZSkpIHtcbiAgICAgICAgdGhyb3cgQ29kZWRUeXBlRXJyb3IoJ1wicmVzcG9uc2VcIiBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIFJlc3BvbnNlJywgRVJSX0lOVkFMSURfQVJHX1RZUEUpO1xuICAgIH1cbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzICE9PSAyMDApIHtcbiAgICAgICAgdGhyb3cgT1BFKCdcInJlc3BvbnNlXCIgaXMgbm90IGEgY29uZm9ybSBBdXRob3JpemF0aW9uIFNlcnZlciBNZXRhZGF0YSByZXNwb25zZSAodW5leHBlY3RlZCBIVFRQIHN0YXR1cyBjb2RlKScsIFJFU1BPTlNFX0lTX05PVF9DT05GT1JNLCByZXNwb25zZSk7XG4gICAgfVxuICAgIGFzc2VydFJlYWRhYmxlUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgIGNvbnN0IGpzb24gPSBhd2FpdCBnZXRSZXNwb25zZUpzb25Cb2R5KHJlc3BvbnNlKTtcbiAgICBhc3NlcnRTdHJpbmcoanNvbi5pc3N1ZXIsICdcInJlc3BvbnNlXCIgYm9keSBcImlzc3VlclwiIHByb3BlcnR5JywgSU5WQUxJRF9SRVNQT05TRSwgeyBib2R5OiBqc29uIH0pO1xuICAgIGlmIChleHBlY3RlZCAhPT0gX25vZGlzY292ZXJ5Y2hlY2sgJiYgbmV3IFVSTChqc29uLmlzc3VlcikuaHJlZiAhPT0gZXhwZWN0ZWQuaHJlZikge1xuICAgICAgICB0aHJvdyBPUEUoJ1wicmVzcG9uc2VcIiBib2R5IFwiaXNzdWVyXCIgcHJvcGVydHkgZG9lcyBub3QgbWF0Y2ggdGhlIGV4cGVjdGVkIHZhbHVlJywgSlNPTl9BVFRSSUJVVEVfQ09NUEFSSVNPTiwgeyBleHBlY3RlZDogZXhwZWN0ZWQuaHJlZiwgYm9keToganNvbiwgYXR0cmlidXRlOiAnaXNzdWVyJyB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGpzb247XG59XG5mdW5jdGlvbiBhc3NlcnRBcHBsaWNhdGlvbkpzb24ocmVzcG9uc2UpIHtcbiAgICBhc3NlcnRDb250ZW50VHlwZShyZXNwb25zZSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbn1cbmZ1bmN0aW9uIG5vdEpzb24ocmVzcG9uc2UsIC4uLnR5cGVzKSB7XG4gICAgbGV0IG1zZyA9ICdcInJlc3BvbnNlXCIgY29udGVudC10eXBlIG11c3QgYmUgJztcbiAgICBpZiAodHlwZXMubGVuZ3RoID4gMikge1xuICAgICAgICBjb25zdCBsYXN0ID0gdHlwZXMucG9wKCk7XG4gICAgICAgIG1zZyArPSBgJHt0eXBlcy5qb2luKCcsICcpfSwgb3IgJHtsYXN0fWA7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICBtc2cgKz0gYCR7dHlwZXNbMF19IG9yICR7dHlwZXNbMV19YDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG1zZyArPSB0eXBlc1swXTtcbiAgICB9XG4gICAgcmV0dXJuIE9QRShtc2csIFJFU1BPTlNFX0lTX05PVF9KU09OLCByZXNwb25zZSk7XG59XG5mdW5jdGlvbiBhc3NlcnRDb250ZW50VHlwZXMocmVzcG9uc2UsIC4uLnR5cGVzKSB7XG4gICAgaWYgKCF0eXBlcy5pbmNsdWRlcyhnZXRDb250ZW50VHlwZShyZXNwb25zZSkpKSB7XG4gICAgICAgIHRocm93IG5vdEpzb24ocmVzcG9uc2UsIC4uLnR5cGVzKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnRDb250ZW50VHlwZShyZXNwb25zZSwgY29udGVudFR5cGUpIHtcbiAgICBpZiAoZ2V0Q29udGVudFR5cGUocmVzcG9uc2UpICE9PSBjb250ZW50VHlwZSkge1xuICAgICAgICB0aHJvdyBub3RKc29uKHJlc3BvbnNlLCBjb250ZW50VHlwZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gcmFuZG9tQnl0ZXMoKSB7XG4gICAgcmV0dXJuIGI2NHUoY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheSgzMikpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVJhbmRvbUNvZGVWZXJpZmllcigpIHtcbiAgICByZXR1cm4gcmFuZG9tQnl0ZXMoKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVJhbmRvbVN0YXRlKCkge1xuICAgIHJldHVybiByYW5kb21CeXRlcygpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlUmFuZG9tTm9uY2UoKSB7XG4gICAgcmV0dXJuIHJhbmRvbUJ5dGVzKCk7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2FsY3VsYXRlUEtDRUNvZGVDaGFsbGVuZ2UoY29kZVZlcmlmaWVyKSB7XG4gICAgYXNzZXJ0U3RyaW5nKGNvZGVWZXJpZmllciwgJ2NvZGVWZXJpZmllcicpO1xuICAgIHJldHVybiBiNjR1KGF3YWl0IGNyeXB0by5zdWJ0bGUuZGlnZXN0KCdTSEEtMjU2JywgYnVmKGNvZGVWZXJpZmllcikpKTtcbn1cbmZ1bmN0aW9uIGdldEtleUFuZEtpZChpbnB1dCkge1xuICAgIGlmIChpbnB1dCBpbnN0YW5jZW9mIENyeXB0b0tleSkge1xuICAgICAgICByZXR1cm4geyBrZXk6IGlucHV0IH07XG4gICAgfVxuICAgIGlmICghKGlucHV0Py5rZXkgaW5zdGFuY2VvZiBDcnlwdG9LZXkpKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgaWYgKGlucHV0LmtpZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGFzc2VydFN0cmluZyhpbnB1dC5raWQsICdcImtpZFwiJyk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGtleTogaW5wdXQua2V5LFxuICAgICAgICBraWQ6IGlucHV0LmtpZCxcbiAgICB9O1xufVxuZnVuY3Rpb24gcHNBbGcoa2V5KSB7XG4gICAgc3dpdGNoIChrZXkuYWxnb3JpdGhtLmhhc2gubmFtZSkge1xuICAgICAgICBjYXNlICdTSEEtMjU2JzpcbiAgICAgICAgICAgIHJldHVybiAnUFMyNTYnO1xuICAgICAgICBjYXNlICdTSEEtMzg0JzpcbiAgICAgICAgICAgIHJldHVybiAnUFMzODQnO1xuICAgICAgICBjYXNlICdTSEEtNTEyJzpcbiAgICAgICAgICAgIHJldHVybiAnUFM1MTInO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXJyb3IoJ3Vuc3VwcG9ydGVkIFJzYUhhc2hlZEtleUFsZ29yaXRobSBoYXNoIG5hbWUnLCB7XG4gICAgICAgICAgICAgICAgY2F1c2U6IGtleSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHJzQWxnKGtleSkge1xuICAgIHN3aXRjaCAoa2V5LmFsZ29yaXRobS5oYXNoLm5hbWUpIHtcbiAgICAgICAgY2FzZSAnU0hBLTI1Nic6XG4gICAgICAgICAgICByZXR1cm4gJ1JTMjU2JztcbiAgICAgICAgY2FzZSAnU0hBLTM4NCc6XG4gICAgICAgICAgICByZXR1cm4gJ1JTMzg0JztcbiAgICAgICAgY2FzZSAnU0hBLTUxMic6XG4gICAgICAgICAgICByZXR1cm4gJ1JTNTEyJztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkVycm9yKCd1bnN1cHBvcnRlZCBSc2FIYXNoZWRLZXlBbGdvcml0aG0gaGFzaCBuYW1lJywge1xuICAgICAgICAgICAgICAgIGNhdXNlOiBrZXksXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59XG5mdW5jdGlvbiBlc0FsZyhrZXkpIHtcbiAgICBzd2l0Y2ggKGtleS5hbGdvcml0aG0ubmFtZWRDdXJ2ZSkge1xuICAgICAgICBjYXNlICdQLTI1Nic6XG4gICAgICAgICAgICByZXR1cm4gJ0VTMjU2JztcbiAgICAgICAgY2FzZSAnUC0zODQnOlxuICAgICAgICAgICAgcmV0dXJuICdFUzM4NCc7XG4gICAgICAgIGNhc2UgJ1AtNTIxJzpcbiAgICAgICAgICAgIHJldHVybiAnRVM1MTInO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXJyb3IoJ3Vuc3VwcG9ydGVkIEVjS2V5QWxnb3JpdGhtIG5hbWVkQ3VydmUnLCB7IGNhdXNlOiBrZXkgfSk7XG4gICAgfVxufVxuZnVuY3Rpb24ga2V5VG9Kd3Moa2V5KSB7XG4gICAgc3dpdGNoIChrZXkuYWxnb3JpdGhtLm5hbWUpIHtcbiAgICAgICAgY2FzZSAnUlNBLVBTUyc6XG4gICAgICAgICAgICByZXR1cm4gcHNBbGcoa2V5KTtcbiAgICAgICAgY2FzZSAnUlNBU1NBLVBLQ1MxLXYxXzUnOlxuICAgICAgICAgICAgcmV0dXJuIHJzQWxnKGtleSk7XG4gICAgICAgIGNhc2UgJ0VDRFNBJzpcbiAgICAgICAgICAgIHJldHVybiBlc0FsZyhrZXkpO1xuICAgICAgICBjYXNlICdFZDI1NTE5JzpcbiAgICAgICAgY2FzZSAnTUwtRFNBLTQ0JzpcbiAgICAgICAgY2FzZSAnTUwtRFNBLTY1JzpcbiAgICAgICAgY2FzZSAnTUwtRFNBLTg3JzpcbiAgICAgICAgICAgIHJldHVybiBrZXkuYWxnb3JpdGhtLm5hbWU7XG4gICAgICAgIGNhc2UgJ0VkRFNBJzpcbiAgICAgICAgICAgIHJldHVybiAnRWQyNTUxOSc7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FcnJvcigndW5zdXBwb3J0ZWQgQ3J5cHRvS2V5IGFsZ29yaXRobSBuYW1lJywgeyBjYXVzZToga2V5IH0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldENsb2NrU2tldyhjbGllbnQpIHtcbiAgICBjb25zdCBza2V3ID0gY2xpZW50Py5bY2xvY2tTa2V3XTtcbiAgICByZXR1cm4gdHlwZW9mIHNrZXcgPT09ICdudW1iZXInICYmIE51bWJlci5pc0Zpbml0ZShza2V3KSA/IHNrZXcgOiAwO1xufVxuZnVuY3Rpb24gZ2V0Q2xvY2tUb2xlcmFuY2UoY2xpZW50KSB7XG4gICAgY29uc3QgdG9sZXJhbmNlID0gY2xpZW50Py5bY2xvY2tUb2xlcmFuY2VdO1xuICAgIHJldHVybiB0eXBlb2YgdG9sZXJhbmNlID09PSAnbnVtYmVyJyAmJiBOdW1iZXIuaXNGaW5pdGUodG9sZXJhbmNlKSAmJiBNYXRoLnNpZ24odG9sZXJhbmNlKSAhPT0gLTFcbiAgICAgICAgPyB0b2xlcmFuY2VcbiAgICAgICAgOiAzMDtcbn1cbmZ1bmN0aW9uIGVwb2NoVGltZSgpIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCk7XG59XG5mdW5jdGlvbiBhc3NlcnRBcyhhcykge1xuICAgIGlmICh0eXBlb2YgYXMgIT09ICdvYmplY3QnIHx8IGFzID09PSBudWxsKSB7XG4gICAgICAgIHRocm93IENvZGVkVHlwZUVycm9yKCdcImFzXCIgbXVzdCBiZSBhbiBvYmplY3QnLCBFUlJfSU5WQUxJRF9BUkdfVFlQRSk7XG4gICAgfVxuICAgIGFzc2VydFN0cmluZyhhcy5pc3N1ZXIsICdcImFzLmlzc3VlclwiJyk7XG59XG5mdW5jdGlvbiBhc3NlcnRDbGllbnQoY2xpZW50KSB7XG4gICAgaWYgKHR5cGVvZiBjbGllbnQgIT09ICdvYmplY3QnIHx8IGNsaWVudCA9PT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBDb2RlZFR5cGVFcnJvcignXCJjbGllbnRcIiBtdXN0IGJlIGFuIG9iamVjdCcsIEVSUl9JTlZBTElEX0FSR19UWVBFKTtcbiAgICB9XG4gICAgYXNzZXJ0U3RyaW5nKGNsaWVudC5jbGllbnRfaWQsICdcImNsaWVudC5jbGllbnRfaWRcIicpO1xufVxuZnVuY3Rpb24gZm9ybVVybEVuY29kZSh0b2tlbikge1xuICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQodG9rZW4pLnJlcGxhY2UoLyg/OlstXy4hfionKCldfCUyMCkvZywgKHN1YnN0cmluZykgPT4ge1xuICAgICAgICBzd2l0Y2ggKHN1YnN0cmluZykge1xuICAgICAgICAgICAgY2FzZSAnLSc6XG4gICAgICAgICAgICBjYXNlICdfJzpcbiAgICAgICAgICAgIGNhc2UgJy4nOlxuICAgICAgICAgICAgY2FzZSAnISc6XG4gICAgICAgICAgICBjYXNlICd+JzpcbiAgICAgICAgICAgIGNhc2UgJyonOlxuICAgICAgICAgICAgY2FzZSBcIidcIjpcbiAgICAgICAgICAgIGNhc2UgJygnOlxuICAgICAgICAgICAgY2FzZSAnKSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAlJHtzdWJzdHJpbmcuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKX1gO1xuICAgICAgICAgICAgY2FzZSAnJTIwJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJysnO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIENsaWVudFNlY3JldFBvc3QoY2xpZW50U2VjcmV0KSB7XG4gICAgYXNzZXJ0U3RyaW5nKGNsaWVudFNlY3JldCwgJ1wiY2xpZW50U2VjcmV0XCInKTtcbiAgICByZXR1cm4gKF9hcywgY2xpZW50LCBib2R5LCBfaGVhZGVycykgPT4ge1xuICAgICAgICBib2R5LnNldCgnY2xpZW50X2lkJywgY2xpZW50LmNsaWVudF9pZCk7XG4gICAgICAgIGJvZHkuc2V0KCdjbGllbnRfc2VjcmV0JywgY2xpZW50U2VjcmV0KTtcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIENsaWVudFNlY3JldEJhc2ljKGNsaWVudFNlY3JldCkge1xuICAgIGFzc2VydFN0cmluZyhjbGllbnRTZWNyZXQsICdcImNsaWVudFNlY3JldFwiJyk7XG4gICAgcmV0dXJuIChfYXMsIGNsaWVudCwgX2JvZHksIGhlYWRlcnMpID0+IHtcbiAgICAgICAgY29uc3QgdXNlcm5hbWUgPSBmb3JtVXJsRW5jb2RlKGNsaWVudC5jbGllbnRfaWQpO1xuICAgICAgICBjb25zdCBwYXNzd29yZCA9IGZvcm1VcmxFbmNvZGUoY2xpZW50U2VjcmV0KTtcbiAgICAgICAgY29uc3QgY3JlZGVudGlhbHMgPSBidG9hKGAke3VzZXJuYW1lfToke3Bhc3N3b3JkfWApO1xuICAgICAgICBoZWFkZXJzLnNldCgnYXV0aG9yaXphdGlvbicsIGBCYXNpYyAke2NyZWRlbnRpYWxzfWApO1xuICAgIH07XG59XG5mdW5jdGlvbiBjbGllbnRBc3NlcnRpb25QYXlsb2FkKGFzLCBjbGllbnQpIHtcbiAgICBjb25zdCBub3cgPSBlcG9jaFRpbWUoKSArIGdldENsb2NrU2tldyhjbGllbnQpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGp0aTogcmFuZG9tQnl0ZXMoKSxcbiAgICAgICAgYXVkOiBhcy5pc3N1ZXIsXG4gICAgICAgIGV4cDogbm93ICsgNjAsXG4gICAgICAgIGlhdDogbm93LFxuICAgICAgICBuYmY6IG5vdyxcbiAgICAgICAgaXNzOiBjbGllbnQuY2xpZW50X2lkLFxuICAgICAgICBzdWI6IGNsaWVudC5jbGllbnRfaWQsXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBQcml2YXRlS2V5Snd0KGNsaWVudFByaXZhdGVLZXksIG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IGtleSwga2lkIH0gPSBnZXRLZXlBbmRLaWQoY2xpZW50UHJpdmF0ZUtleSk7XG4gICAgYXNzZXJ0UHJpdmF0ZUtleShrZXksICdcImNsaWVudFByaXZhdGVLZXkua2V5XCInKTtcbiAgICByZXR1cm4gYXN5bmMgKGFzLCBjbGllbnQsIGJvZHksIF9oZWFkZXJzKSA9PiB7XG4gICAgICAgIGNvbnN0IGhlYWRlciA9IHsgYWxnOiBrZXlUb0p3cyhrZXkpLCBraWQgfTtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGNsaWVudEFzc2VydGlvblBheWxvYWQoYXMsIGNsaWVudCk7XG4gICAgICAgIG9wdGlvbnM/Llttb2RpZnlBc3NlcnRpb25dPy4oaGVhZGVyLCBwYXlsb2FkKTtcbiAgICAgICAgYm9keS5zZXQoJ2NsaWVudF9pZCcsIGNsaWVudC5jbGllbnRfaWQpO1xuICAgICAgICBib2R5LnNldCgnY2xpZW50X2Fzc2VydGlvbl90eXBlJywgJ3VybjppZXRmOnBhcmFtczpvYXV0aDpjbGllbnQtYXNzZXJ0aW9uLXR5cGU6and0LWJlYXJlcicpO1xuICAgICAgICBib2R5LnNldCgnY2xpZW50X2Fzc2VydGlvbicsIGF3YWl0IHNpZ25Kd3QoaGVhZGVyLCBwYXlsb2FkLCBrZXkpKTtcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIENsaWVudFNlY3JldEp3dChjbGllbnRTZWNyZXQsIG9wdGlvbnMpIHtcbiAgICBhc3NlcnRTdHJpbmcoY2xpZW50U2VjcmV0LCAnXCJjbGllbnRTZWNyZXRcIicpO1xuICAgIGNvbnN0IG1vZGlmeSA9IG9wdGlvbnM/Llttb2RpZnlBc3NlcnRpb25dO1xuICAgIGxldCBrZXk7XG4gICAgcmV0dXJuIGFzeW5jIChhcywgY2xpZW50LCBib2R5LCBfaGVhZGVycykgPT4ge1xuICAgICAgICBrZXkgfHw9IGF3YWl0IGNyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KCdyYXcnLCBidWYoY2xpZW50U2VjcmV0KSwgeyBoYXNoOiAnU0hBLTI1NicsIG5hbWU6ICdITUFDJyB9LCBmYWxzZSwgWydzaWduJ10pO1xuICAgICAgICBjb25zdCBoZWFkZXIgPSB7IGFsZzogJ0hTMjU2JyB9O1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gY2xpZW50QXNzZXJ0aW9uUGF5bG9hZChhcywgY2xpZW50KTtcbiAgICAgICAgbW9kaWZ5Py4oaGVhZGVyLCBwYXlsb2FkKTtcbiAgICAgICAgY29uc3QgZGF0YSA9IGAke2I2NHUoYnVmKEpTT04uc3RyaW5naWZ5KGhlYWRlcikpKX0uJHtiNjR1KGJ1ZihKU09OLnN0cmluZ2lmeShwYXlsb2FkKSkpfWA7XG4gICAgICAgIGNvbnN0IGhtYWMgPSBhd2FpdCBjcnlwdG8uc3VidGxlLnNpZ24oa2V5LmFsZ29yaXRobSwga2V5LCBidWYoZGF0YSkpO1xuICAgICAgICBib2R5LnNldCgnY2xpZW50X2lkJywgY2xpZW50LmNsaWVudF9pZCk7XG4gICAgICAgIGJvZHkuc2V0KCdjbGllbnRfYXNzZXJ0aW9uX3R5cGUnLCAndXJuOmlldGY6cGFyYW1zOm9hdXRoOmNsaWVudC1hc3NlcnRpb24tdHlwZTpqd3QtYmVhcmVyJyk7XG4gICAgICAgIGJvZHkuc2V0KCdjbGllbnRfYXNzZXJ0aW9uJywgYCR7ZGF0YX0uJHtiNjR1KG5ldyBVaW50OEFycmF5KGhtYWMpKX1gKTtcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIE5vbmUoKSB7XG4gICAgcmV0dXJuIChfYXMsIGNsaWVudCwgYm9keSwgX2hlYWRlcnMpID0+IHtcbiAgICAgICAgYm9keS5zZXQoJ2NsaWVudF9pZCcsIGNsaWVudC5jbGllbnRfaWQpO1xuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gVGxzQ2xpZW50QXV0aCgpIHtcbiAgICByZXR1cm4gTm9uZSgpO1xufVxuYXN5bmMgZnVuY3Rpb24gc2lnbkp3dChoZWFkZXIsIHBheWxvYWQsIGtleSkge1xuICAgIGlmICgha2V5LnVzYWdlcy5pbmNsdWRlcygnc2lnbicpKSB7XG4gICAgICAgIHRocm93IENvZGVkVHlwZUVycm9yKCdDcnlwdG9LZXkgaW5zdGFuY2VzIHVzZWQgZm9yIHNpZ25pbmcgYXNzZXJ0aW9ucyBtdXN0IGluY2x1ZGUgXCJzaWduXCIgaW4gdGhlaXIgXCJ1c2FnZXNcIicsIEVSUl9JTlZBTElEX0FSR19WQUxVRSk7XG4gICAgfVxuICAgIGNvbnN0IGlucHV0ID0gYCR7YjY0dShidWYoSlNPTi5zdHJpbmdpZnkoaGVhZGVyKSkpfS4ke2I2NHUoYnVmKEpTT04uc3RyaW5naWZ5KHBheWxvYWQpKSl9YDtcbiAgICBjb25zdCBzaWduYXR1cmUgPSBiNjR1KGF3YWl0IGNyeXB0by5zdWJ0bGUuc2lnbihrZXlUb1N1YnRsZShrZXkpLCBrZXksIGJ1ZihpbnB1dCkpKTtcbiAgICByZXR1cm4gYCR7aW5wdXR9LiR7c2lnbmF0dXJlfWA7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaXNzdWVSZXF1ZXN0T2JqZWN0KGFzLCBjbGllbnQsIHBhcmFtZXRlcnMsIHByaXZhdGVLZXksIG9wdGlvbnMpIHtcbiAgICBhc3NlcnRBcyhhcyk7XG4gICAgYXNzZXJ0Q2xpZW50KGNsaWVudCk7XG4gICAgcGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMocGFyYW1ldGVycyk7XG4gICAgY29uc3QgeyBrZXksIGtpZCB9ID0gZ2V0S2V5QW5kS2lkKHByaXZhdGVLZXkpO1xuICAgIGFzc2VydFByaXZhdGVLZXkoa2V5LCAnXCJwcml2YXRlS2V5LmtleVwiJyk7XG4gICAgcGFyYW1ldGVycy5zZXQoJ2NsaWVudF9pZCcsIGNsaWVudC5jbGllbnRfaWQpO1xuICAgIGNvbnN0IG5vdyA9IGVwb2NoVGltZSgpICsgZ2V0Q2xvY2tTa2V3KGNsaWVudCk7XG4gICAgY29uc3QgY2xhaW1zID0ge1xuICAgICAgICAuLi5PYmplY3QuZnJvbUVudHJpZXMocGFyYW1ldGVycy5lbnRyaWVzKCkpLFxuICAgICAgICBqdGk6IHJhbmRvbUJ5dGVzKCksXG4gICAgICAgIGF1ZDogYXMuaXNzdWVyLFxuICAgICAgICBleHA6IG5vdyArIDYwLFxuICAgICAgICBpYXQ6IG5vdyxcbiAgICAgICAgbmJmOiBub3csXG4gICAgICAgIGlzczogY2xpZW50LmNsaWVudF9pZCxcbiAgICB9O1xuICAgIGxldCByZXNvdXJjZTtcbiAgICBpZiAocGFyYW1ldGVycy5oYXMoJ3Jlc291cmNlJykgJiZcbiAgICAgICAgKHJlc291cmNlID0gcGFyYW1ldGVycy5nZXRBbGwoJ3Jlc291cmNlJykpICYmXG4gICAgICAgIHJlc291cmNlLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgY2xhaW1zLnJlc291cmNlID0gcmVzb3VyY2U7XG4gICAgfVxuICAgIHtcbiAgICAgICAgbGV0IHZhbHVlID0gcGFyYW1ldGVycy5nZXQoJ21heF9hZ2UnKTtcbiAgICAgICAgaWYgKHZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjbGFpbXMubWF4X2FnZSA9IHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gICAgICAgICAgICBhc3NlcnROdW1iZXIoY2xhaW1zLm1heF9hZ2UsIHRydWUsICdcIm1heF9hZ2VcIiBwYXJhbWV0ZXInKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB7XG4gICAgICAgIGxldCB2YWx1ZSA9IHBhcmFtZXRlcnMuZ2V0KCdjbGFpbXMnKTtcbiAgICAgICAgaWYgKHZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNsYWltcy5jbGFpbXMgPSBKU09OLnBhcnNlKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChjYXVzZSkge1xuICAgICAgICAgICAgICAgIHRocm93IE9QRSgnZmFpbGVkIHRvIHBhcnNlIHRoZSBcImNsYWltc1wiIHBhcmFtZXRlciBhcyBKU09OJywgUEFSU0VfRVJST1IsIGNhdXNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaXNKc29uT2JqZWN0KGNsYWltcy5jbGFpbXMpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgQ29kZWRUeXBlRXJyb3IoJ1wiY2xhaW1zXCIgcGFyYW1ldGVyIG11c3QgYmUgYSBKU09OIHdpdGggYSB0b3AgbGV2ZWwgb2JqZWN0JywgRVJSX0lOVkFMSURfQVJHX1ZBTFVFKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICB7XG4gICAgICAgIGxldCB2YWx1ZSA9IHBhcmFtZXRlcnMuZ2V0KCdhdXRob3JpemF0aW9uX2RldGFpbHMnKTtcbiAgICAgICAgaWYgKHZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNsYWltcy5hdXRob3JpemF0aW9uX2RldGFpbHMgPSBKU09OLnBhcnNlKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChjYXVzZSkge1xuICAgICAgICAgICAgICAgIHRocm93IE9QRSgnZmFpbGVkIHRvIHBhcnNlIHRoZSBcImF1dGhvcml6YXRpb25fZGV0YWlsc1wiIHBhcmFtZXRlciBhcyBKU09OJywgUEFSU0VfRVJST1IsIGNhdXNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShjbGFpbXMuYXV0aG9yaXphdGlvbl9kZXRhaWxzKSkge1xuICAgICAgICAgICAgICAgIHRocm93IENvZGVkVHlwZUVycm9yKCdcImF1dGhvcml6YXRpb25fZGV0YWlsc1wiIHBhcmFtZXRlciBtdXN0IGJlIGEgSlNPTiB3aXRoIGEgdG9wIGxldmVsIGFycmF5JywgRVJSX0lOVkFMSURfQVJHX1ZBTFVFKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBoZWFkZXIgPSB7XG4gICAgICAgIGFsZzoga2V5VG9Kd3Moa2V5KSxcbiAgICAgICAgdHlwOiAnb2F1dGgtYXV0aHotcmVxK2p3dCcsXG4gICAgICAgIGtpZCxcbiAgICB9O1xuICAgIG9wdGlvbnM/Llttb2RpZnlBc3NlcnRpb25dPy4oaGVhZGVyLCBjbGFpbXMpO1xuICAgIHJldHVybiBzaWduSnd0KGhlYWRlciwgY2xhaW1zLCBrZXkpO1xufVxubGV0IGp3a0NhY2hlO1xuYXN5bmMgZnVuY3Rpb24gZ2V0U2V0UHVibGljSndrQ2FjaGUoa2V5LCBhbGcpIHtcbiAgICBjb25zdCB7IGt0eSwgZSwgbiwgeCwgeSwgY3J2LCBwdWIgfSA9IGF3YWl0IGNyeXB0by5zdWJ0bGUuZXhwb3J0S2V5KCdqd2snLCBrZXkpO1xuICAgIGNvbnN0IGp3ayA9IHsga3R5LCBlLCBuLCB4LCB5LCBjcnYsIHB1YiB9O1xuICAgIGlmIChrdHkgPT09ICdBS1AnKVxuICAgICAgICBqd2suYWxnID0gYWxnO1xuICAgIGp3a0NhY2hlLnNldChrZXksIGp3ayk7XG4gICAgcmV0dXJuIGp3aztcbn1cbmFzeW5jIGZ1bmN0aW9uIHB1YmxpY0p3ayhrZXksIGFsZykge1xuICAgIGp3a0NhY2hlIHx8PSBuZXcgV2Vha01hcCgpO1xuICAgIHJldHVybiBqd2tDYWNoZS5nZXQoa2V5KSB8fCBnZXRTZXRQdWJsaWNKd2tDYWNoZShrZXksIGFsZyk7XG59XG5jb25zdCBVUkxQYXJzZSA9IFVSTC5wYXJzZVxuICAgID9cbiAgICAgICAgKHVybCwgYmFzZSkgPT4gVVJMLnBhcnNlKHVybCwgYmFzZSlcbiAgICA6ICh1cmwsIGJhc2UpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVVJMKHVybCwgYmFzZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrUHJvdG9jb2wodXJsLCBlbmZvcmNlSHR0cHMpIHtcbiAgICBpZiAoZW5mb3JjZUh0dHBzICYmIHVybC5wcm90b2NvbCAhPT0gJ2h0dHBzOicpIHtcbiAgICAgICAgdGhyb3cgT1BFKCdvbmx5IHJlcXVlc3RzIHRvIEhUVFBTIGFyZSBhbGxvd2VkJywgSFRUUF9SRVFVRVNUX0ZPUkJJRERFTiwgdXJsKTtcbiAgICB9XG4gICAgaWYgKHVybC5wcm90b2NvbCAhPT0gJ2h0dHBzOicgJiYgdXJsLnByb3RvY29sICE9PSAnaHR0cDonKSB7XG4gICAgICAgIHRocm93IE9QRSgnb25seSBIVFRQIGFuZCBIVFRQUyByZXF1ZXN0cyBhcmUgYWxsb3dlZCcsIFJFUVVFU1RfUFJPVE9DT0xfRk9SQklEREVOLCB1cmwpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHZhbGlkYXRlRW5kcG9pbnQodmFsdWUsIGVuZHBvaW50LCB1c2VNdGxzQWxpYXMsIGVuZm9yY2VIdHRwcykge1xuICAgIGxldCB1cmw7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycgfHwgISh1cmwgPSBVUkxQYXJzZSh2YWx1ZSkpKSB7XG4gICAgICAgIHRocm93IE9QRShgYXV0aG9yaXphdGlvbiBzZXJ2ZXIgbWV0YWRhdGEgZG9lcyBub3QgY29udGFpbiBhIHZhbGlkICR7dXNlTXRsc0FsaWFzID8gYFwiYXMubXRsc19lbmRwb2ludF9hbGlhc2VzLiR7ZW5kcG9pbnR9XCJgIDogYFwiYXMuJHtlbmRwb2ludH1cImB9YCwgdmFsdWUgPT09IHVuZGVmaW5lZCA/IE1JU1NJTkdfU0VSVkVSX01FVEFEQVRBIDogSU5WQUxJRF9TRVJWRVJfTUVUQURBVEEsIHsgYXR0cmlidXRlOiB1c2VNdGxzQWxpYXMgPyBgbXRsc19lbmRwb2ludF9hbGlhc2VzLiR7ZW5kcG9pbnR9YCA6IGVuZHBvaW50IH0pO1xuICAgIH1cbiAgICBjaGVja1Byb3RvY29sKHVybCwgZW5mb3JjZUh0dHBzKTtcbiAgICByZXR1cm4gdXJsO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVFbmRwb2ludChhcywgZW5kcG9pbnQsIHVzZU10bHNBbGlhcywgZW5mb3JjZUh0dHBzKSB7XG4gICAgaWYgKHVzZU10bHNBbGlhcyAmJiBhcy5tdGxzX2VuZHBvaW50X2FsaWFzZXMgJiYgZW5kcG9pbnQgaW4gYXMubXRsc19lbmRwb2ludF9hbGlhc2VzKSB7XG4gICAgICAgIHJldHVybiB2YWxpZGF0ZUVuZHBvaW50KGFzLm10bHNfZW5kcG9pbnRfYWxpYXNlc1tlbmRwb2ludF0sIGVuZHBvaW50LCB1c2VNdGxzQWxpYXMsIGVuZm9yY2VIdHRwcyk7XG4gICAgfVxuICAgIHJldHVybiB2YWxpZGF0ZUVuZHBvaW50KGFzW2VuZHBvaW50XSwgZW5kcG9pbnQsIHVzZU10bHNBbGlhcywgZW5mb3JjZUh0dHBzKTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwdXNoZWRBdXRob3JpemF0aW9uUmVxdWVzdChhcywgY2xpZW50LCBjbGllbnRBdXRoZW50aWNhdGlvbiwgcGFyYW1ldGVycywgb3B0aW9ucykge1xuICAgIGFzc2VydEFzKGFzKTtcbiAgICBhc3NlcnRDbGllbnQoY2xpZW50KTtcbiAgICBjb25zdCB1cmwgPSByZXNvbHZlRW5kcG9pbnQoYXMsICdwdXNoZWRfYXV0aG9yaXphdGlvbl9yZXF1ZXN0X2VuZHBvaW50JywgY2xpZW50LnVzZV9tdGxzX2VuZHBvaW50X2FsaWFzZXMsIG9wdGlvbnM/LlthbGxvd0luc2VjdXJlUmVxdWVzdHNdICE9PSB0cnVlKTtcbiAgICBjb25zdCBib2R5ID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhwYXJhbWV0ZXJzKTtcbiAgICBib2R5LnNldCgnY2xpZW50X2lkJywgY2xpZW50LmNsaWVudF9pZCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHByZXBhcmVIZWFkZXJzKG9wdGlvbnM/LmhlYWRlcnMpO1xuICAgIGhlYWRlcnMuc2V0KCdhY2NlcHQnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgIGlmIChvcHRpb25zPy5EUG9QICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgYXNzZXJ0RFBvUChvcHRpb25zLkRQb1ApO1xuICAgICAgICBhd2FpdCBvcHRpb25zLkRQb1AuYWRkUHJvb2YodXJsLCBoZWFkZXJzLCAnUE9TVCcpO1xuICAgIH1cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF1dGhlbnRpY2F0ZWRSZXF1ZXN0KGFzLCBjbGllbnQsIGNsaWVudEF1dGhlbnRpY2F0aW9uLCB1cmwsIGJvZHksIGhlYWRlcnMsIG9wdGlvbnMpO1xuICAgIG9wdGlvbnM/LkRQb1A/LmNhY2hlTm9uY2UocmVzcG9uc2UsIHVybCk7XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufVxuY2xhc3MgRFBvUEhhbmRsZXIge1xuICAgICNoZWFkZXI7XG4gICAgI3ByaXZhdGVLZXk7XG4gICAgI3B1YmxpY0tleTtcbiAgICAjY2xvY2tTa2V3O1xuICAgICNtb2RpZnlBc3NlcnRpb247XG4gICAgI21hcDtcbiAgICAjamt0O1xuICAgIGNvbnN0cnVjdG9yKGNsaWVudCwga2V5UGFpciwgb3B0aW9ucykge1xuICAgICAgICBhc3NlcnRQcml2YXRlS2V5KGtleVBhaXI/LnByaXZhdGVLZXksICdcIkRQb1AucHJpdmF0ZUtleVwiJyk7XG4gICAgICAgIGFzc2VydFB1YmxpY0tleShrZXlQYWlyPy5wdWJsaWNLZXksICdcIkRQb1AucHVibGljS2V5XCInKTtcbiAgICAgICAgaWYgKCFrZXlQYWlyLnB1YmxpY0tleS5leHRyYWN0YWJsZSkge1xuICAgICAgICAgICAgdGhyb3cgQ29kZWRUeXBlRXJyb3IoJ1wiRFBvUC5wdWJsaWNLZXkuZXh0cmFjdGFibGVcIiBtdXN0IGJlIHRydWUnLCBFUlJfSU5WQUxJRF9BUkdfVkFMVUUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuI21vZGlmeUFzc2VydGlvbiA9IG9wdGlvbnM/Llttb2RpZnlBc3NlcnRpb25dO1xuICAgICAgICB0aGlzLiNjbG9ja1NrZXcgPSBnZXRDbG9ja1NrZXcoY2xpZW50KTtcbiAgICAgICAgdGhpcy4jcHJpdmF0ZUtleSA9IGtleVBhaXIucHJpdmF0ZUtleTtcbiAgICAgICAgdGhpcy4jcHVibGljS2V5ID0ga2V5UGFpci5wdWJsaWNLZXk7XG4gICAgICAgIGJyYW5kZWQuYWRkKHRoaXMpO1xuICAgIH1cbiAgICAjZ2V0KGtleSkge1xuICAgICAgICB0aGlzLiNtYXAgfHw9IG5ldyBNYXAoKTtcbiAgICAgICAgbGV0IGl0ZW0gPSB0aGlzLiNtYXAuZ2V0KGtleSk7XG4gICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgICB0aGlzLiNtYXAuZGVsZXRlKGtleSk7XG4gICAgICAgICAgICB0aGlzLiNtYXAuc2V0KGtleSwgaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgfVxuICAgICNzZXQoa2V5LCB2YWwpIHtcbiAgICAgICAgdGhpcy4jbWFwIHx8PSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuI21hcC5kZWxldGUoa2V5KTtcbiAgICAgICAgaWYgKHRoaXMuI21hcC5zaXplID09PSAxMDApIHtcbiAgICAgICAgICAgIHRoaXMuI21hcC5kZWxldGUodGhpcy4jbWFwLmtleXMoKS5uZXh0KCkudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuI21hcC5zZXQoa2V5LCB2YWwpO1xuICAgIH1cbiAgICBhc3luYyBjYWxjdWxhdGVUaHVtYnByaW50KCkge1xuICAgICAgICBpZiAoIXRoaXMuI2prdCkge1xuICAgICAgICAgICAgY29uc3QgandrID0gYXdhaXQgY3J5cHRvLnN1YnRsZS5leHBvcnRLZXkoJ2p3aycsIHRoaXMuI3B1YmxpY0tleSk7XG4gICAgICAgICAgICB0aGlzLiNqa3QgfHw9IGF3YWl0IGNhbGN1bGF0ZUp3a1RodW1icHJpbnQoandrKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy4jamt0O1xuICAgIH1cbiAgICBhc3luYyBhZGRQcm9vZih1cmwsIGhlYWRlcnMsIGh0bSwgYWNjZXNzVG9rZW4pIHtcbiAgICAgICAgY29uc3QgYWxnID0ga2V5VG9Kd3ModGhpcy4jcHJpdmF0ZUtleSk7XG4gICAgICAgIHRoaXMuI2hlYWRlciB8fD0ge1xuICAgICAgICAgICAgYWxnLFxuICAgICAgICAgICAgdHlwOiAnZHBvcCtqd3QnLFxuICAgICAgICAgICAgandrOiBhd2FpdCBwdWJsaWNKd2sodGhpcy4jcHVibGljS2V5LCBhbGcpLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBub25jZSA9IHRoaXMuI2dldCh1cmwub3JpZ2luKTtcbiAgICAgICAgY29uc3Qgbm93ID0gZXBvY2hUaW1lKCkgKyB0aGlzLiNjbG9ja1NrZXc7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgICBpYXQ6IG5vdyxcbiAgICAgICAgICAgIGp0aTogcmFuZG9tQnl0ZXMoKSxcbiAgICAgICAgICAgIGh0bSxcbiAgICAgICAgICAgIG5vbmNlLFxuICAgICAgICAgICAgaHR1OiBgJHt1cmwub3JpZ2lufSR7dXJsLnBhdGhuYW1lfWAsXG4gICAgICAgICAgICBhdGg6IGFjY2Vzc1Rva2VuXG4gICAgICAgICAgICAgICAgPyBiNjR1KGF3YWl0IGNyeXB0by5zdWJ0bGUuZGlnZXN0KCdTSEEtMjU2JywgYnVmKGFjY2Vzc1Rva2VuKSkpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuI21vZGlmeUFzc2VydGlvbj8uKHRoaXMuI2hlYWRlciwgcGF5bG9hZCk7XG4gICAgICAgIGhlYWRlcnMuc2V0KCdkcG9wJywgYXdhaXQgc2lnbkp3dCh0aGlzLiNoZWFkZXIsIHBheWxvYWQsIHRoaXMuI3ByaXZhdGVLZXkpKTtcbiAgICB9XG4gICAgY2FjaGVOb25jZShyZXNwb25zZSwgdXJsKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBub25jZSA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdkcG9wLW5vbmNlJyk7XG4gICAgICAgICAgICBpZiAobm9uY2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiNzZXQodXJsLm9yaWdpbiwgbm9uY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHsgfVxuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0RQb1BOb25jZUVycm9yKGVycikge1xuICAgIGlmIChlcnIgaW5zdGFuY2VvZiBXV1dBdXRoZW50aWNhdGVDaGFsbGVuZ2VFcnJvcikge1xuICAgICAgICBjb25zdCB7IDA6IGNoYWxsZW5nZSwgbGVuZ3RoIH0gPSBlcnIuY2F1c2U7XG4gICAgICAgIHJldHVybiAobGVuZ3RoID09PSAxICYmIGNoYWxsZW5nZS5zY2hlbWUgPT09ICdkcG9wJyAmJiBjaGFsbGVuZ2UucGFyYW1ldGVycy5lcnJvciA9PT0gJ3VzZV9kcG9wX25vbmNlJyk7XG4gICAgfVxuICAgIGlmIChlcnIgaW5zdGFuY2VvZiBSZXNwb25zZUJvZHlFcnJvcikge1xuICAgICAgICByZXR1cm4gZXJyLmVycm9yID09PSAndXNlX2Rwb3Bfbm9uY2UnO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gRFBvUChjbGllbnQsIGtleVBhaXIsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IERQb1BIYW5kbGVyKGNsaWVudCwga2V5UGFpciwgb3B0aW9ucyk7XG59XG5leHBvcnQgY2xhc3MgUmVzcG9uc2VCb2R5RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY2F1c2U7XG4gICAgY29kZTtcbiAgICBlcnJvcjtcbiAgICBzdGF0dXM7XG4gICAgZXJyb3JfZGVzY3JpcHRpb247XG4gICAgcmVzcG9uc2U7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcihtZXNzYWdlLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5uYW1lID0gdGhpcy5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICB0aGlzLmNvZGUgPSBSRVNQT05TRV9CT0RZX0VSUk9SO1xuICAgICAgICB0aGlzLmNhdXNlID0gb3B0aW9ucy5jYXVzZTtcbiAgICAgICAgdGhpcy5lcnJvciA9IG9wdGlvbnMuY2F1c2UuZXJyb3I7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gb3B0aW9ucy5yZXNwb25zZS5zdGF0dXM7XG4gICAgICAgIHRoaXMuZXJyb3JfZGVzY3JpcHRpb24gPSBvcHRpb25zLmNhdXNlLmVycm9yX2Rlc2NyaXB0aW9uO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3Jlc3BvbnNlJywgeyBlbnVtZXJhYmxlOiBmYWxzZSwgdmFsdWU6IG9wdGlvbnMucmVzcG9uc2UgfSk7XG4gICAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlPy4odGhpcywgdGhpcy5jb25zdHJ1Y3Rvcik7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEF1dGhvcml6YXRpb25SZXNwb25zZUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNhdXNlO1xuICAgIGNvZGU7XG4gICAgZXJyb3I7XG4gICAgZXJyb3JfZGVzY3JpcHRpb247XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcihtZXNzYWdlLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5uYW1lID0gdGhpcy5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICB0aGlzLmNvZGUgPSBBVVRIT1JJWkFUSU9OX1JFU1BPTlNFX0VSUk9SO1xuICAgICAgICB0aGlzLmNhdXNlID0gb3B0aW9ucy5jYXVzZTtcbiAgICAgICAgdGhpcy5lcnJvciA9IG9wdGlvbnMuY2F1c2UuZ2V0KCdlcnJvcicpO1xuICAgICAgICB0aGlzLmVycm9yX2Rlc2NyaXB0aW9uID0gb3B0aW9ucy5jYXVzZS5nZXQoJ2Vycm9yX2Rlc2NyaXB0aW9uJykgPz8gdW5kZWZpbmVkO1xuICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZT8uKHRoaXMsIHRoaXMuY29uc3RydWN0b3IpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBXV1dBdXRoZW50aWNhdGVDaGFsbGVuZ2VFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjYXVzZTtcbiAgICBjb2RlO1xuICAgIHJlc3BvbnNlO1xuICAgIHN0YXR1cztcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLm5hbWUgPSB0aGlzLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgIHRoaXMuY29kZSA9IFdXV19BVVRIRU5USUNBVEVfQ0hBTExFTkdFO1xuICAgICAgICB0aGlzLmNhdXNlID0gb3B0aW9ucy5jYXVzZTtcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBvcHRpb25zLnJlc3BvbnNlLnN0YXR1cztcbiAgICAgICAgdGhpcy5yZXNwb25zZSA9IG9wdGlvbnMucmVzcG9uc2U7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAncmVzcG9uc2UnLCB7IGVudW1lcmFibGU6IGZhbHNlIH0pO1xuICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZT8uKHRoaXMsIHRoaXMuY29uc3RydWN0b3IpO1xuICAgIH1cbn1cbmNvbnN0IHRva2VuTWF0Y2ggPSBcIlthLXpBLVowLTkhIyQlJlxcXFwnXFxcXCpcXFxcK1xcXFwtXFxcXC5cXFxcXl9gXFxcXHx+XStcIjtcbmNvbnN0IHRva2VuNjhNYXRjaCA9ICdbYS16QS1aMC05XFxcXC1cXFxcLl9cXFxcflxcXFwrXFxcXC9dK1s9XXswLDJ9JztcbmNvbnN0IHF1b3RlZE1hdGNoID0gJ1wiKCg/OlteXCJcXFxcXFxcXF18XFxcXFxcXFwuKSopXCInO1xuY29uc3QgcXVvdGVkUGFyYW1NYXRjaGVyID0gJygnICsgdG9rZW5NYXRjaCArICcpXFxcXHMqPVxcXFxzKicgKyBxdW90ZWRNYXRjaDtcbmNvbnN0IHBhcmFtTWF0Y2hlciA9ICcoJyArIHRva2VuTWF0Y2ggKyAnKVxcXFxzKj1cXFxccyooJyArIHRva2VuTWF0Y2ggKyAnKSc7XG5jb25zdCBzY2hlbWVSRSA9IG5ldyBSZWdFeHAoJ15bLFxcXFxzXSooJyArIHRva2VuTWF0Y2ggKyAnKVxcXFxzKC4qKScpO1xuY29uc3QgcXVvdGVkUGFyYW1SRSA9IG5ldyBSZWdFeHAoJ15bLFxcXFxzXSonICsgcXVvdGVkUGFyYW1NYXRjaGVyICsgJ1ssXFxcXHNdKiguKiknKTtcbmNvbnN0IHVucXVvdGVkUGFyYW1SRSA9IG5ldyBSZWdFeHAoJ15bLFxcXFxzXSonICsgcGFyYW1NYXRjaGVyICsgJ1ssXFxcXHNdKiguKiknKTtcbmNvbnN0IHRva2VuNjhQYXJhbVJFID0gbmV3IFJlZ0V4cCgnXignICsgdG9rZW42OE1hdGNoICsgJykoPzokfFssXFxcXHNdKSguKiknKTtcbmZ1bmN0aW9uIHBhcnNlV3d3QXV0aGVudGljYXRlQ2hhbGxlbmdlcyhyZXNwb25zZSkge1xuICAgIGlmICghbG9vc2VJbnN0YW5jZU9mKHJlc3BvbnNlLCBSZXNwb25zZSkpIHtcbiAgICAgICAgdGhyb3cgQ29kZWRUeXBlRXJyb3IoJ1wicmVzcG9uc2VcIiBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIFJlc3BvbnNlJywgRVJSX0lOVkFMSURfQVJHX1RZUEUpO1xuICAgIH1cbiAgICBjb25zdCBoZWFkZXIgPSByZXNwb25zZS5oZWFkZXJzLmdldCgnd3d3LWF1dGhlbnRpY2F0ZScpO1xuICAgIGlmIChoZWFkZXIgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY29uc3QgY2hhbGxlbmdlcyA9IFtdO1xuICAgIGxldCByZXN0ID0gaGVhZGVyO1xuICAgIHdoaWxlIChyZXN0KSB7XG4gICAgICAgIGxldCBtYXRjaCA9IHJlc3QubWF0Y2goc2NoZW1lUkUpO1xuICAgICAgICBjb25zdCBzY2hlbWUgPSBtYXRjaD8uWycxJ10udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgcmVzdCA9IG1hdGNoPy5bJzInXTtcbiAgICAgICAgaWYgKCFzY2hlbWUpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyYW1ldGVycyA9IHt9O1xuICAgICAgICBsZXQgdG9rZW42ODtcbiAgICAgICAgd2hpbGUgKHJlc3QpIHtcbiAgICAgICAgICAgIGxldCBrZXk7XG4gICAgICAgICAgICBsZXQgdmFsdWU7XG4gICAgICAgICAgICBpZiAoKG1hdGNoID0gcmVzdC5tYXRjaChxdW90ZWRQYXJhbVJFKSkpIHtcbiAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgWywga2V5LCB2YWx1ZSwgcmVzdF0gPSBtYXRjaDtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUuaW5jbHVkZXMoJ1xcXFwnKSkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBKU09OLnBhcnNlKGBcIiR7dmFsdWV9XCJgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCB7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGFyYW1ldGVyc1trZXkudG9Mb3dlckNhc2UoKV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgobWF0Y2ggPSByZXN0Lm1hdGNoKHVucXVvdGVkUGFyYW1SRSkpKSB7XG4gICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgIFssIGtleSwgdmFsdWUsIHJlc3RdID0gbWF0Y2g7XG4gICAgICAgICAgICAgICAgcGFyYW1ldGVyc1trZXkudG9Mb3dlckNhc2UoKV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgobWF0Y2ggPSByZXN0Lm1hdGNoKHRva2VuNjhQYXJhbVJFKSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMocGFyYW1ldGVycykubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgWywgdG9rZW42OCwgcmVzdF0gPSBtYXRjaDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2hhbGxlbmdlID0geyBzY2hlbWUsIHBhcmFtZXRlcnMgfTtcbiAgICAgICAgaWYgKHRva2VuNjgpIHtcbiAgICAgICAgICAgIGNoYWxsZW5nZS50b2tlbjY4ID0gdG9rZW42ODtcbiAgICAgICAgfVxuICAgICAgICBjaGFsbGVuZ2VzLnB1c2goY2hhbGxlbmdlKTtcbiAgICB9XG4gICAgaWYgKCFjaGFsbGVuZ2VzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gY2hhbGxlbmdlcztcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwcm9jZXNzUHVzaGVkQXV0aG9yaXphdGlvblJlc3BvbnNlKGFzLCBjbGllbnQsIHJlc3BvbnNlKSB7XG4gICAgYXNzZXJ0QXMoYXMpO1xuICAgIGFzc2VydENsaWVudChjbGllbnQpO1xuICAgIGlmICghbG9vc2VJbnN0YW5jZU9mKHJlc3BvbnNlLCBSZXNwb25zZSkpIHtcbiAgICAgICAgdGhyb3cgQ29kZWRUeXBlRXJyb3IoJ1wicmVzcG9uc2VcIiBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIFJlc3BvbnNlJywgRVJSX0lOVkFMSURfQVJHX1RZUEUpO1xuICAgIH1cbiAgICBhd2FpdCBjaGVja09BdXRoQm9keUVycm9yKHJlc3BvbnNlLCAyMDEsICdQdXNoZWQgQXV0aG9yaXphdGlvbiBSZXF1ZXN0IEVuZHBvaW50Jyk7XG4gICAgYXNzZXJ0UmVhZGFibGVSZXNwb25zZShyZXNwb25zZSk7XG4gICAgY29uc3QganNvbiA9IGF3YWl0IGdldFJlc3BvbnNlSnNvbkJvZHkocmVzcG9uc2UpO1xuICAgIGFzc2VydFN0cmluZyhqc29uLnJlcXVlc3RfdXJpLCAnXCJyZXNwb25zZVwiIGJvZHkgXCJyZXF1ZXN0X3VyaVwiIHByb3BlcnR5JywgSU5WQUxJRF9SRVNQT05TRSwge1xuICAgICAgICBib2R5OiBqc29uLFxuICAgIH0pO1xuICAgIGxldCBleHBpcmVzSW4gPSB0eXBlb2YganNvbi5leHBpcmVzX2luICE9PSAnbnVtYmVyJyA/IHBhcnNlRmxvYXQoanNvbi5leHBpcmVzX2luKSA6IGpzb24uZXhwaXJlc19pbjtcbiAgICBhc3NlcnROdW1iZXIoZXhwaXJlc0luLCB0cnVlLCAnXCJyZXNwb25zZVwiIGJvZHkgXCJleHBpcmVzX2luXCIgcHJvcGVydHknLCBJTlZBTElEX1JFU1BPTlNFLCB7XG4gICAgICAgIGJvZHk6IGpzb24sXG4gICAgfSk7XG4gICAganNvbi5leHBpcmVzX2luID0gZXhwaXJlc0luO1xuICAgIHJldHVybiBqc29uO1xufVxuYXN5bmMgZnVuY3Rpb24gcGFyc2VPQXV0aFJlc3BvbnNlRXJyb3JCb2R5KHJlc3BvbnNlKSB7XG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA+IDM5OSAmJiByZXNwb25zZS5zdGF0dXMgPCA1MDApIHtcbiAgICAgICAgYXNzZXJ0UmVhZGFibGVSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgIGFzc2VydEFwcGxpY2F0aW9uSnNvbihyZXNwb25zZSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBqc29uID0gYXdhaXQgcmVzcG9uc2UuY2xvbmUoKS5qc29uKCk7XG4gICAgICAgICAgICBpZiAoaXNKc29uT2JqZWN0KGpzb24pICYmIHR5cGVvZiBqc29uLmVycm9yID09PSAnc3RyaW5nJyAmJiBqc29uLmVycm9yLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBqc29uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHsgfVxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuYXN5bmMgZnVuY3Rpb24gY2hlY2tPQXV0aEJvZHlFcnJvcihyZXNwb25zZSwgZXhwZWN0ZWQsIGxhYmVsKSB7XG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gZXhwZWN0ZWQpIHtcbiAgICAgICAgY2hlY2tBdXRoZW50aWNhdGlvbkNoYWxsZW5nZXMocmVzcG9uc2UpO1xuICAgICAgICBsZXQgZXJyO1xuICAgICAgICBpZiAoKGVyciA9IGF3YWl0IHBhcnNlT0F1dGhSZXNwb25zZUVycm9yQm9keShyZXNwb25zZSkpKSB7XG4gICAgICAgICAgICBhd2FpdCByZXNwb25zZS5ib2R5Py5jYW5jZWwoKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBSZXNwb25zZUJvZHlFcnJvcignc2VydmVyIHJlc3BvbmRlZCB3aXRoIGFuIGVycm9yIGluIHRoZSByZXNwb25zZSBib2R5Jywge1xuICAgICAgICAgICAgICAgIGNhdXNlOiBlcnIsXG4gICAgICAgICAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBPUEUoYFwicmVzcG9uc2VcIiBpcyBub3QgYSBjb25mb3JtICR7bGFiZWx9IHJlc3BvbnNlICh1bmV4cGVjdGVkIEhUVFAgc3RhdHVzIGNvZGUpYCwgUkVTUE9OU0VfSVNfTk9UX0NPTkZPUk0sIHJlc3BvbnNlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnREUG9QKG9wdGlvbikge1xuICAgIGlmICghYnJhbmRlZC5oYXMob3B0aW9uKSkge1xuICAgICAgICB0aHJvdyBDb2RlZFR5cGVFcnJvcignXCJvcHRpb25zLkRQb1BcIiBpcyBub3QgYSB2YWxpZCBEUG9QSGFuZGxlJywgRVJSX0lOVkFMSURfQVJHX1ZBTFVFKTtcbiAgICB9XG59XG5hc3luYyBmdW5jdGlvbiByZXNvdXJjZVJlcXVlc3QoYWNjZXNzVG9rZW4sIG1ldGhvZCwgdXJsLCBoZWFkZXJzLCBib2R5LCBvcHRpb25zKSB7XG4gICAgYXNzZXJ0U3RyaW5nKGFjY2Vzc1Rva2VuLCAnXCJhY2Nlc3NUb2tlblwiJyk7XG4gICAgaWYgKCEodXJsIGluc3RhbmNlb2YgVVJMKSkge1xuICAgICAgICB0aHJvdyBDb2RlZFR5cGVFcnJvcignXCJ1cmxcIiBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIFVSTCcsIEVSUl9JTlZBTElEX0FSR19UWVBFKTtcbiAgICB9XG4gICAgY2hlY2tQcm90b2NvbCh1cmwsIG9wdGlvbnM/LlthbGxvd0luc2VjdXJlUmVxdWVzdHNdICE9PSB0cnVlKTtcbiAgICBoZWFkZXJzID0gcHJlcGFyZUhlYWRlcnMoaGVhZGVycyk7XG4gICAgaWYgKG9wdGlvbnM/LkRQb1ApIHtcbiAgICAgICAgYXNzZXJ0RFBvUChvcHRpb25zLkRQb1ApO1xuICAgICAgICBhd2FpdCBvcHRpb25zLkRQb1AuYWRkUHJvb2YodXJsLCBoZWFkZXJzLCBtZXRob2QudG9VcHBlckNhc2UoKSwgYWNjZXNzVG9rZW4pO1xuICAgIH1cbiAgICBoZWFkZXJzLnNldCgnYXV0aG9yaXphdGlvbicsIGAke2hlYWRlcnMuaGFzKCdkcG9wJykgPyAnRFBvUCcgOiAnQmVhcmVyJ30gJHthY2Nlc3NUb2tlbn1gKTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IChvcHRpb25zPy5bY3VzdG9tRmV0Y2hdIHx8IGZldGNoKSh1cmwuaHJlZiwge1xuICAgICAgICBib2R5LFxuICAgICAgICBoZWFkZXJzOiBPYmplY3QuZnJvbUVudHJpZXMoaGVhZGVycy5lbnRyaWVzKCkpLFxuICAgICAgICBtZXRob2QsXG4gICAgICAgIHJlZGlyZWN0OiAnbWFudWFsJyxcbiAgICAgICAgc2lnbmFsOiBzaWduYWwodXJsLCBvcHRpb25zPy5zaWduYWwpLFxuICAgIH0pO1xuICAgIG9wdGlvbnM/LkRQb1A/LmNhY2hlTm9uY2UocmVzcG9uc2UsIHVybCk7XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHByb3RlY3RlZFJlc291cmNlUmVxdWVzdChhY2Nlc3NUb2tlbiwgbWV0aG9kLCB1cmwsIGhlYWRlcnMsIGJvZHksIG9wdGlvbnMpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlc291cmNlUmVxdWVzdChhY2Nlc3NUb2tlbiwgbWV0aG9kLCB1cmwsIGhlYWRlcnMsIGJvZHksIG9wdGlvbnMpO1xuICAgIGNoZWNrQXV0aGVudGljYXRpb25DaGFsbGVuZ2VzKHJlc3BvbnNlKTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXNlckluZm9SZXF1ZXN0KGFzLCBjbGllbnQsIGFjY2Vzc1Rva2VuLCBvcHRpb25zKSB7XG4gICAgYXNzZXJ0QXMoYXMpO1xuICAgIGFzc2VydENsaWVudChjbGllbnQpO1xuICAgIGNvbnN0IHVybCA9IHJlc29sdmVFbmRwb2ludChhcywgJ3VzZXJpbmZvX2VuZHBvaW50JywgY2xpZW50LnVzZV9tdGxzX2VuZHBvaW50X2FsaWFzZXMsIG9wdGlvbnM/LlthbGxvd0luc2VjdXJlUmVxdWVzdHNdICE9PSB0cnVlKTtcbiAgICBjb25zdCBoZWFkZXJzID0gcHJlcGFyZUhlYWRlcnMob3B0aW9ucz8uaGVhZGVycyk7XG4gICAgaWYgKGNsaWVudC51c2VyaW5mb19zaWduZWRfcmVzcG9uc2VfYWxnKSB7XG4gICAgICAgIGhlYWRlcnMuc2V0KCdhY2NlcHQnLCAnYXBwbGljYXRpb24vand0Jyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBoZWFkZXJzLnNldCgnYWNjZXB0JywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgaGVhZGVycy5hcHBlbmQoJ2FjY2VwdCcsICdhcHBsaWNhdGlvbi9qd3QnKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc291cmNlUmVxdWVzdChhY2Nlc3NUb2tlbiwgJ0dFVCcsIHVybCwgaGVhZGVycywgbnVsbCwge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICBbY2xvY2tTa2V3XTogZ2V0Q2xvY2tTa2V3KGNsaWVudCksXG4gICAgfSk7XG59XG5sZXQgandrc01hcDtcbmZ1bmN0aW9uIHNldEp3a3NDYWNoZShhcywgandrcywgdWF0LCBjYWNoZSkge1xuICAgIGp3a3NNYXAgfHw9IG5ldyBXZWFrTWFwKCk7XG4gICAgandrc01hcC5zZXQoYXMsIHtcbiAgICAgICAgandrcyxcbiAgICAgICAgdWF0LFxuICAgICAgICBnZXQgYWdlKCkge1xuICAgICAgICAgICAgcmV0dXJuIGVwb2NoVGltZSgpIC0gdGhpcy51YXQ7XG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgaWYgKGNhY2hlKSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24oY2FjaGUsIHsgandrczogc3RydWN0dXJlZENsb25lKGp3a3MpLCB1YXQgfSk7XG4gICAgfVxufVxuZnVuY3Rpb24gaXNGcmVzaEp3a3NDYWNoZShpbnB1dCkge1xuICAgIGlmICh0eXBlb2YgaW5wdXQgIT09ICdvYmplY3QnIHx8IGlucHV0ID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKCEoJ3VhdCcgaW4gaW5wdXQpIHx8IHR5cGVvZiBpbnB1dC51YXQgIT09ICdudW1iZXInIHx8IGVwb2NoVGltZSgpIC0gaW5wdXQudWF0ID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICghKCdqd2tzJyBpbiBpbnB1dCkgfHxcbiAgICAgICAgIWlzSnNvbk9iamVjdChpbnB1dC5qd2tzKSB8fFxuICAgICAgICAhQXJyYXkuaXNBcnJheShpbnB1dC5qd2tzLmtleXMpIHx8XG4gICAgICAgICFBcnJheS5wcm90b3R5cGUuZXZlcnkuY2FsbChpbnB1dC5qd2tzLmtleXMsIGlzSnNvbk9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGNsZWFySndrc0NhY2hlKGFzLCBjYWNoZSkge1xuICAgIGp3a3NNYXA/LmRlbGV0ZShhcyk7XG4gICAgZGVsZXRlIGNhY2hlPy5qd2tzO1xuICAgIGRlbGV0ZSBjYWNoZT8udWF0O1xufVxuYXN5bmMgZnVuY3Rpb24gZ2V0UHVibGljU2lnS2V5RnJvbUlzc3Vlckp3a3NVcmkoYXMsIG9wdGlvbnMsIGhlYWRlcikge1xuICAgIGNvbnN0IHsgYWxnLCBraWQgfSA9IGhlYWRlcjtcbiAgICBjaGVja1N1cHBvcnRlZEp3c0FsZyhoZWFkZXIpO1xuICAgIGlmICghandrc01hcD8uaGFzKGFzKSAmJiBpc0ZyZXNoSndrc0NhY2hlKG9wdGlvbnM/Lltqd2tzQ2FjaGVdKSkge1xuICAgICAgICBzZXRKd2tzQ2FjaGUoYXMsIG9wdGlvbnM/Lltqd2tzQ2FjaGVdLmp3a3MsIG9wdGlvbnM/Lltqd2tzQ2FjaGVdLnVhdCk7XG4gICAgfVxuICAgIGxldCBqd2tzO1xuICAgIGxldCBhZ2U7XG4gICAgaWYgKGp3a3NNYXA/LmhhcyhhcykpIHtcbiAgICAgICAgO1xuICAgICAgICAoeyBqd2tzLCBhZ2UgfSA9IGp3a3NNYXAuZ2V0KGFzKSk7XG4gICAgICAgIGlmIChhZ2UgPj0gMzAwKSB7XG4gICAgICAgICAgICBjbGVhckp3a3NDYWNoZShhcywgb3B0aW9ucz8uW2p3a3NDYWNoZV0pO1xuICAgICAgICAgICAgcmV0dXJuIGdldFB1YmxpY1NpZ0tleUZyb21Jc3N1ZXJKd2tzVXJpKGFzLCBvcHRpb25zLCBoZWFkZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBqd2tzID0gYXdhaXQgandrc1JlcXVlc3QoYXMsIG9wdGlvbnMpLnRoZW4ocHJvY2Vzc0p3a3NSZXNwb25zZSk7XG4gICAgICAgIGFnZSA9IDA7XG4gICAgICAgIHNldEp3a3NDYWNoZShhcywgandrcywgZXBvY2hUaW1lKCksIG9wdGlvbnM/Lltqd2tzQ2FjaGVdKTtcbiAgICB9XG4gICAgbGV0IGt0eTtcbiAgICBzd2l0Y2ggKGFsZy5zbGljZSgwLCAyKSkge1xuICAgICAgICBjYXNlICdSUyc6XG4gICAgICAgIGNhc2UgJ1BTJzpcbiAgICAgICAgICAgIGt0eSA9ICdSU0EnO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0VTJzpcbiAgICAgICAgICAgIGt0eSA9ICdFQyc7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnRWQnOlxuICAgICAgICAgICAga3R5ID0gJ09LUCc7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnTUwnOlxuICAgICAgICAgICAga3R5ID0gJ0FLUCc7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkVycm9yKCd1bnN1cHBvcnRlZCBKV1MgYWxnb3JpdGhtJywgeyBjYXVzZTogeyBhbGcgfSB9KTtcbiAgICB9XG4gICAgY29uc3QgY2FuZGlkYXRlcyA9IGp3a3Mua2V5cy5maWx0ZXIoKGp3aykgPT4ge1xuICAgICAgICBpZiAoandrLmt0eSAhPT0ga3R5KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGtpZCAhPT0gdW5kZWZpbmVkICYmIGtpZCAhPT0gandrLmtpZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChqd2suYWxnICE9PSB1bmRlZmluZWQgJiYgYWxnICE9PSBqd2suYWxnKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGp3ay51c2UgIT09IHVuZGVmaW5lZCAmJiBqd2sudXNlICE9PSAnc2lnJykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChqd2sua2V5X29wcz8uaW5jbHVkZXMoJ3ZlcmlmeScpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgY2FzZSBhbGcgPT09ICdFUzI1NicgJiYgandrLmNydiAhPT0gJ1AtMjU2JzpcbiAgICAgICAgICAgIGNhc2UgYWxnID09PSAnRVMzODQnICYmIGp3ay5jcnYgIT09ICdQLTM4NCc6XG4gICAgICAgICAgICBjYXNlIGFsZyA9PT0gJ0VTNTEyJyAmJiBqd2suY3J2ICE9PSAnUC01MjEnOlxuICAgICAgICAgICAgY2FzZSBhbGcgPT09ICdFZDI1NTE5JyAmJiBqd2suY3J2ICE9PSAnRWQyNTUxOSc6XG4gICAgICAgICAgICBjYXNlIGFsZyA9PT0gJ0VkRFNBJyAmJiBqd2suY3J2ICE9PSAnRWQyNTUxOSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xuICAgIGNvbnN0IHsgMDogandrLCBsZW5ndGggfSA9IGNhbmRpZGF0ZXM7XG4gICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgaWYgKGFnZSA+PSA2MCkge1xuICAgICAgICAgICAgY2xlYXJKd2tzQ2FjaGUoYXMsIG9wdGlvbnM/Lltqd2tzQ2FjaGVdKTtcbiAgICAgICAgICAgIHJldHVybiBnZXRQdWJsaWNTaWdLZXlGcm9tSXNzdWVySndrc1VyaShhcywgb3B0aW9ucywgaGVhZGVyKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBPUEUoJ2Vycm9yIHdoZW4gc2VsZWN0aW5nIGEgSldUIHZlcmlmaWNhdGlvbiBrZXksIG5vIGFwcGxpY2FibGUga2V5cyBmb3VuZCcsIEtFWV9TRUxFQ1RJT04sIHsgaGVhZGVyLCBjYW5kaWRhdGVzLCBqd2tzX3VyaTogbmV3IFVSTChhcy5qd2tzX3VyaSkgfSk7XG4gICAgfVxuICAgIGlmIChsZW5ndGggIT09IDEpIHtcbiAgICAgICAgdGhyb3cgT1BFKCdlcnJvciB3aGVuIHNlbGVjdGluZyBhIEpXVCB2ZXJpZmljYXRpb24ga2V5LCBtdWx0aXBsZSBhcHBsaWNhYmxlIGtleXMgZm91bmQsIGEgXCJraWRcIiBKV1QgSGVhZGVyIFBhcmFtZXRlciBpcyByZXF1aXJlZCcsIEtFWV9TRUxFQ1RJT04sIHsgaGVhZGVyLCBjYW5kaWRhdGVzLCBqd2tzX3VyaTogbmV3IFVSTChhcy5qd2tzX3VyaSkgfSk7XG4gICAgfVxuICAgIHJldHVybiBpbXBvcnRKd2soYWxnLCBqd2spO1xufVxuZXhwb3J0IGNvbnN0IHNraXBTdWJqZWN0Q2hlY2sgPSBTeW1ib2woKTtcbmV4cG9ydCBmdW5jdGlvbiBnZXRDb250ZW50VHlwZShpbnB1dCkge1xuICAgIHJldHVybiBpbnB1dC5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJyk/LnNwbGl0KCc7JylbMF07XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc1VzZXJJbmZvUmVzcG9uc2UoYXMsIGNsaWVudCwgZXhwZWN0ZWRTdWJqZWN0LCByZXNwb25zZSwgb3B0aW9ucykge1xuICAgIGFzc2VydEFzKGFzKTtcbiAgICBhc3NlcnRDbGllbnQoY2xpZW50KTtcbiAgICBpZiAoIWxvb3NlSW5zdGFuY2VPZihyZXNwb25zZSwgUmVzcG9uc2UpKSB7XG4gICAgICAgIHRocm93IENvZGVkVHlwZUVycm9yKCdcInJlc3BvbnNlXCIgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiBSZXNwb25zZScsIEVSUl9JTlZBTElEX0FSR19UWVBFKTtcbiAgICB9XG4gICAgY2hlY2tBdXRoZW50aWNhdGlvbkNoYWxsZW5nZXMocmVzcG9uc2UpO1xuICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IDIwMCkge1xuICAgICAgICB0aHJvdyBPUEUoJ1wicmVzcG9uc2VcIiBpcyBub3QgYSBjb25mb3JtIFVzZXJJbmZvIEVuZHBvaW50IHJlc3BvbnNlICh1bmV4cGVjdGVkIEhUVFAgc3RhdHVzIGNvZGUpJywgUkVTUE9OU0VfSVNfTk9UX0NPTkZPUk0sIHJlc3BvbnNlKTtcbiAgICB9XG4gICAgYXNzZXJ0UmVhZGFibGVSZXNwb25zZShyZXNwb25zZSk7XG4gICAgbGV0IGpzb247XG4gICAgaWYgKGdldENvbnRlbnRUeXBlKHJlc3BvbnNlKSA9PT0gJ2FwcGxpY2F0aW9uL2p3dCcpIHtcbiAgICAgICAgY29uc3QgeyBjbGFpbXMsIGp3dCB9ID0gYXdhaXQgdmFsaWRhdGVKd3QoYXdhaXQgcmVzcG9uc2UudGV4dCgpLCBjaGVja1NpZ25pbmdBbGdvcml0aG0uYmluZCh1bmRlZmluZWQsIGNsaWVudC51c2VyaW5mb19zaWduZWRfcmVzcG9uc2VfYWxnLCBhcy51c2VyaW5mb19zaWduaW5nX2FsZ192YWx1ZXNfc3VwcG9ydGVkLCB1bmRlZmluZWQpLCBnZXRDbG9ja1NrZXcoY2xpZW50KSwgZ2V0Q2xvY2tUb2xlcmFuY2UoY2xpZW50KSwgb3B0aW9ucz8uW2p3ZURlY3J5cHRdKVxuICAgICAgICAgICAgLnRoZW4odmFsaWRhdGVPcHRpb25hbEF1ZGllbmNlLmJpbmQodW5kZWZpbmVkLCBjbGllbnQuY2xpZW50X2lkKSlcbiAgICAgICAgICAgIC50aGVuKHZhbGlkYXRlT3B0aW9uYWxJc3N1ZXIuYmluZCh1bmRlZmluZWQsIGFzKSk7XG4gICAgICAgIGp3dFJlZnMuc2V0KHJlc3BvbnNlLCBqd3QpO1xuICAgICAgICBqc29uID0gY2xhaW1zO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKGNsaWVudC51c2VyaW5mb19zaWduZWRfcmVzcG9uc2VfYWxnKSB7XG4gICAgICAgICAgICB0aHJvdyBPUEUoJ0pXVCBVc2VySW5mbyBSZXNwb25zZSBleHBlY3RlZCcsIEpXVF9VU0VSSU5GT19FWFBFQ1RFRCwgcmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgICAgIGpzb24gPSBhd2FpdCBnZXRSZXNwb25zZUpzb25Cb2R5KHJlc3BvbnNlKTtcbiAgICB9XG4gICAgYXNzZXJ0U3RyaW5nKGpzb24uc3ViLCAnXCJyZXNwb25zZVwiIGJvZHkgXCJzdWJcIiBwcm9wZXJ0eScsIElOVkFMSURfUkVTUE9OU0UsIHsgYm9keToganNvbiB9KTtcbiAgICBzd2l0Y2ggKGV4cGVjdGVkU3ViamVjdCkge1xuICAgICAgICBjYXNlIHNraXBTdWJqZWN0Q2hlY2s6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGFzc2VydFN0cmluZyhleHBlY3RlZFN1YmplY3QsICdcImV4cGVjdGVkU3ViamVjdFwiJyk7XG4gICAgICAgICAgICBpZiAoanNvbi5zdWIgIT09IGV4cGVjdGVkU3ViamVjdCkge1xuICAgICAgICAgICAgICAgIHRocm93IE9QRSgndW5leHBlY3RlZCBcInJlc3BvbnNlXCIgYm9keSBcInN1YlwiIHByb3BlcnR5IHZhbHVlJywgSlNPTl9BVFRSSUJVVEVfQ09NUEFSSVNPTiwge1xuICAgICAgICAgICAgICAgICAgICBleHBlY3RlZDogZXhwZWN0ZWRTdWJqZWN0LFxuICAgICAgICAgICAgICAgICAgICBib2R5OiBqc29uLFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGU6ICdzdWInLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ganNvbjtcbn1cbmFzeW5jIGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZWRSZXF1ZXN0KGFzLCBjbGllbnQsIGNsaWVudEF1dGhlbnRpY2F0aW9uLCB1cmwsIGJvZHksIGhlYWRlcnMsIG9wdGlvbnMpIHtcbiAgICBhd2FpdCBjbGllbnRBdXRoZW50aWNhdGlvbihhcywgY2xpZW50LCBib2R5LCBoZWFkZXJzKTtcbiAgICBoZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PVVURi04Jyk7XG4gICAgcmV0dXJuIChvcHRpb25zPy5bY3VzdG9tRmV0Y2hdIHx8IGZldGNoKSh1cmwuaHJlZiwge1xuICAgICAgICBib2R5LFxuICAgICAgICBoZWFkZXJzOiBPYmplY3QuZnJvbUVudHJpZXMoaGVhZGVycy5lbnRyaWVzKCkpLFxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgcmVkaXJlY3Q6ICdtYW51YWwnLFxuICAgICAgICBzaWduYWw6IHNpZ25hbCh1cmwsIG9wdGlvbnM/LnNpZ25hbCksXG4gICAgfSk7XG59XG5hc3luYyBmdW5jdGlvbiB0b2tlbkVuZHBvaW50UmVxdWVzdChhcywgY2xpZW50LCBjbGllbnRBdXRoZW50aWNhdGlvbiwgZ3JhbnRUeXBlLCBwYXJhbWV0ZXJzLCBvcHRpb25zKSB7XG4gICAgY29uc3QgdXJsID0gcmVzb2x2ZUVuZHBvaW50KGFzLCAndG9rZW5fZW5kcG9pbnQnLCBjbGllbnQudXNlX210bHNfZW5kcG9pbnRfYWxpYXNlcywgb3B0aW9ucz8uW2FsbG93SW5zZWN1cmVSZXF1ZXN0c10gIT09IHRydWUpO1xuICAgIHBhcmFtZXRlcnMuc2V0KCdncmFudF90eXBlJywgZ3JhbnRUeXBlKTtcbiAgICBjb25zdCBoZWFkZXJzID0gcHJlcGFyZUhlYWRlcnMob3B0aW9ucz8uaGVhZGVycyk7XG4gICAgaGVhZGVycy5zZXQoJ2FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgaWYgKG9wdGlvbnM/LkRQb1AgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBhc3NlcnREUG9QKG9wdGlvbnMuRFBvUCk7XG4gICAgICAgIGF3YWl0IG9wdGlvbnMuRFBvUC5hZGRQcm9vZih1cmwsIGhlYWRlcnMsICdQT1NUJyk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXV0aGVudGljYXRlZFJlcXVlc3QoYXMsIGNsaWVudCwgY2xpZW50QXV0aGVudGljYXRpb24sIHVybCwgcGFyYW1ldGVycywgaGVhZGVycywgb3B0aW9ucyk7XG4gICAgb3B0aW9ucz8uRFBvUD8uY2FjaGVOb25jZShyZXNwb25zZSwgdXJsKTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVmcmVzaFRva2VuR3JhbnRSZXF1ZXN0KGFzLCBjbGllbnQsIGNsaWVudEF1dGhlbnRpY2F0aW9uLCByZWZyZXNoVG9rZW4sIG9wdGlvbnMpIHtcbiAgICBhc3NlcnRBcyhhcyk7XG4gICAgYXNzZXJ0Q2xpZW50KGNsaWVudCk7XG4gICAgYXNzZXJ0U3RyaW5nKHJlZnJlc2hUb2tlbiwgJ1wicmVmcmVzaFRva2VuXCInKTtcbiAgICBjb25zdCBwYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhvcHRpb25zPy5hZGRpdGlvbmFsUGFyYW1ldGVycyk7XG4gICAgcGFyYW1ldGVycy5zZXQoJ3JlZnJlc2hfdG9rZW4nLCByZWZyZXNoVG9rZW4pO1xuICAgIHJldHVybiB0b2tlbkVuZHBvaW50UmVxdWVzdChhcywgY2xpZW50LCBjbGllbnRBdXRoZW50aWNhdGlvbiwgJ3JlZnJlc2hfdG9rZW4nLCBwYXJhbWV0ZXJzLCBvcHRpb25zKTtcbn1cbmNvbnN0IGlkVG9rZW5DbGFpbXMgPSBuZXcgV2Vha01hcCgpO1xuY29uc3Qgand0UmVmcyA9IG5ldyBXZWFrTWFwKCk7XG5leHBvcnQgZnVuY3Rpb24gZ2V0VmFsaWRhdGVkSWRUb2tlbkNsYWltcyhyZWYpIHtcbiAgICBpZiAoIXJlZi5pZF90b2tlbikge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25zdCBjbGFpbXMgPSBpZFRva2VuQ2xhaW1zLmdldChyZWYpO1xuICAgIGlmICghY2xhaW1zKSB7XG4gICAgICAgIHRocm93IENvZGVkVHlwZUVycm9yKCdcInJlZlwiIHdhcyBhbHJlYWR5IGdhcmJhZ2UgY29sbGVjdGVkIG9yIGRpZCBub3QgcmVzb2x2ZSBmcm9tIHRoZSBwcm9wZXIgc291cmNlcycsIEVSUl9JTlZBTElEX0FSR19WQUxVRSk7XG4gICAgfVxuICAgIHJldHVybiBjbGFpbXM7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdmFsaWRhdGVBcHBsaWNhdGlvbkxldmVsU2lnbmF0dXJlKGFzLCByZWYsIG9wdGlvbnMpIHtcbiAgICBhc3NlcnRBcyhhcyk7XG4gICAgaWYgKCFqd3RSZWZzLmhhcyhyZWYpKSB7XG4gICAgICAgIHRocm93IENvZGVkVHlwZUVycm9yKCdcInJlZlwiIGRvZXMgbm90IGNvbnRhaW4gYSBwcm9jZXNzZWQgSldUIFJlc3BvbnNlIHRvIHZlcmlmeSB0aGUgc2lnbmF0dXJlIG9mJywgRVJSX0lOVkFMSURfQVJHX1ZBTFVFKTtcbiAgICB9XG4gICAgY29uc3QgeyAwOiBwcm90ZWN0ZWRIZWFkZXIsIDE6IHBheWxvYWQsIDI6IGVuY29kZWRTaWduYXR1cmUgfSA9IGp3dFJlZnMuZ2V0KHJlZikuc3BsaXQoJy4nKTtcbiAgICBjb25zdCBoZWFkZXIgPSBKU09OLnBhcnNlKGJ1ZihiNjR1KHByb3RlY3RlZEhlYWRlcikpKTtcbiAgICBpZiAoaGVhZGVyLmFsZy5zdGFydHNXaXRoKCdIUycpKSB7XG4gICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkVycm9yKCd1bnN1cHBvcnRlZCBKV1MgYWxnb3JpdGhtJywgeyBjYXVzZTogeyBhbGc6IGhlYWRlci5hbGcgfSB9KTtcbiAgICB9XG4gICAgbGV0IGtleTtcbiAgICBrZXkgPSBhd2FpdCBnZXRQdWJsaWNTaWdLZXlGcm9tSXNzdWVySndrc1VyaShhcywgb3B0aW9ucywgaGVhZGVyKTtcbiAgICBhd2FpdCB2YWxpZGF0ZUp3c1NpZ25hdHVyZShwcm90ZWN0ZWRIZWFkZXIsIHBheWxvYWQsIGtleSwgYjY0dShlbmNvZGVkU2lnbmF0dXJlKSk7XG59XG5hc3luYyBmdW5jdGlvbiBwcm9jZXNzR2VuZXJpY0FjY2Vzc1Rva2VuUmVzcG9uc2UoYXMsIGNsaWVudCwgcmVzcG9uc2UsIGFkZGl0aW9uYWxSZXF1aXJlZElkVG9rZW5DbGFpbXMsIGRlY3J5cHRGbiwgcmVjb2duaXplZFRva2VuVHlwZXMpIHtcbiAgICBhc3NlcnRBcyhhcyk7XG4gICAgYXNzZXJ0Q2xpZW50KGNsaWVudCk7XG4gICAgaWYgKCFsb29zZUluc3RhbmNlT2YocmVzcG9uc2UsIFJlc3BvbnNlKSkge1xuICAgICAgICB0aHJvdyBDb2RlZFR5cGVFcnJvcignXCJyZXNwb25zZVwiIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgUmVzcG9uc2UnLCBFUlJfSU5WQUxJRF9BUkdfVFlQRSk7XG4gICAgfVxuICAgIGF3YWl0IGNoZWNrT0F1dGhCb2R5RXJyb3IocmVzcG9uc2UsIDIwMCwgJ1Rva2VuIEVuZHBvaW50Jyk7XG4gICAgYXNzZXJ0UmVhZGFibGVSZXNwb25zZShyZXNwb25zZSk7XG4gICAgY29uc3QganNvbiA9IGF3YWl0IGdldFJlc3BvbnNlSnNvbkJvZHkocmVzcG9uc2UpO1xuICAgIGFzc2VydFN0cmluZyhqc29uLmFjY2Vzc190b2tlbiwgJ1wicmVzcG9uc2VcIiBib2R5IFwiYWNjZXNzX3Rva2VuXCIgcHJvcGVydHknLCBJTlZBTElEX1JFU1BPTlNFLCB7XG4gICAgICAgIGJvZHk6IGpzb24sXG4gICAgfSk7XG4gICAgYXNzZXJ0U3RyaW5nKGpzb24udG9rZW5fdHlwZSwgJ1wicmVzcG9uc2VcIiBib2R5IFwidG9rZW5fdHlwZVwiIHByb3BlcnR5JywgSU5WQUxJRF9SRVNQT05TRSwge1xuICAgICAgICBib2R5OiBqc29uLFxuICAgIH0pO1xuICAgIGpzb24udG9rZW5fdHlwZSA9IGpzb24udG9rZW5fdHlwZS50b0xvd2VyQ2FzZSgpO1xuICAgIGlmIChqc29uLmV4cGlyZXNfaW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBsZXQgZXhwaXJlc0luID0gdHlwZW9mIGpzb24uZXhwaXJlc19pbiAhPT0gJ251bWJlcicgPyBwYXJzZUZsb2F0KGpzb24uZXhwaXJlc19pbikgOiBqc29uLmV4cGlyZXNfaW47XG4gICAgICAgIGFzc2VydE51bWJlcihleHBpcmVzSW4sIHRydWUsICdcInJlc3BvbnNlXCIgYm9keSBcImV4cGlyZXNfaW5cIiBwcm9wZXJ0eScsIElOVkFMSURfUkVTUE9OU0UsIHtcbiAgICAgICAgICAgIGJvZHk6IGpzb24sXG4gICAgICAgIH0pO1xuICAgICAgICBqc29uLmV4cGlyZXNfaW4gPSBleHBpcmVzSW47XG4gICAgfVxuICAgIGlmIChqc29uLnJlZnJlc2hfdG9rZW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBhc3NlcnRTdHJpbmcoanNvbi5yZWZyZXNoX3Rva2VuLCAnXCJyZXNwb25zZVwiIGJvZHkgXCJyZWZyZXNoX3Rva2VuXCIgcHJvcGVydHknLCBJTlZBTElEX1JFU1BPTlNFLCB7XG4gICAgICAgICAgICBib2R5OiBqc29uLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGpzb24uc2NvcGUgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YganNvbi5zY29wZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhyb3cgT1BFKCdcInJlc3BvbnNlXCIgYm9keSBcInNjb3BlXCIgcHJvcGVydHkgbXVzdCBiZSBhIHN0cmluZycsIElOVkFMSURfUkVTUE9OU0UsIHsgYm9keToganNvbiB9KTtcbiAgICB9XG4gICAgaWYgKGpzb24uaWRfdG9rZW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBhc3NlcnRTdHJpbmcoanNvbi5pZF90b2tlbiwgJ1wicmVzcG9uc2VcIiBib2R5IFwiaWRfdG9rZW5cIiBwcm9wZXJ0eScsIElOVkFMSURfUkVTUE9OU0UsIHtcbiAgICAgICAgICAgIGJvZHk6IGpzb24sXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZXF1aXJlZENsYWltcyA9IFsnYXVkJywgJ2V4cCcsICdpYXQnLCAnaXNzJywgJ3N1YiddO1xuICAgICAgICBpZiAoY2xpZW50LnJlcXVpcmVfYXV0aF90aW1lID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXF1aXJlZENsYWltcy5wdXNoKCdhdXRoX3RpbWUnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2xpZW50LmRlZmF1bHRfbWF4X2FnZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBhc3NlcnROdW1iZXIoY2xpZW50LmRlZmF1bHRfbWF4X2FnZSwgdHJ1ZSwgJ1wiY2xpZW50LmRlZmF1bHRfbWF4X2FnZVwiJyk7XG4gICAgICAgICAgICByZXF1aXJlZENsYWltcy5wdXNoKCdhdXRoX3RpbWUnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWRkaXRpb25hbFJlcXVpcmVkSWRUb2tlbkNsYWltcz8ubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXF1aXJlZENsYWltcy5wdXNoKC4uLmFkZGl0aW9uYWxSZXF1aXJlZElkVG9rZW5DbGFpbXMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgY2xhaW1zLCBqd3QgfSA9IGF3YWl0IHZhbGlkYXRlSnd0KGpzb24uaWRfdG9rZW4sIGNoZWNrU2lnbmluZ0FsZ29yaXRobS5iaW5kKHVuZGVmaW5lZCwgY2xpZW50LmlkX3Rva2VuX3NpZ25lZF9yZXNwb25zZV9hbGcsIGFzLmlkX3Rva2VuX3NpZ25pbmdfYWxnX3ZhbHVlc19zdXBwb3J0ZWQsICdSUzI1NicpLCBnZXRDbG9ja1NrZXcoY2xpZW50KSwgZ2V0Q2xvY2tUb2xlcmFuY2UoY2xpZW50KSwgZGVjcnlwdEZuKVxuICAgICAgICAgICAgLnRoZW4odmFsaWRhdGVQcmVzZW5jZS5iaW5kKHVuZGVmaW5lZCwgcmVxdWlyZWRDbGFpbXMpKVxuICAgICAgICAgICAgLnRoZW4odmFsaWRhdGVJc3N1ZXIuYmluZCh1bmRlZmluZWQsIGFzKSlcbiAgICAgICAgICAgIC50aGVuKHZhbGlkYXRlQXVkaWVuY2UuYmluZCh1bmRlZmluZWQsIGNsaWVudC5jbGllbnRfaWQpKTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY2xhaW1zLmF1ZCkgJiYgY2xhaW1zLmF1ZC5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgICAgIGlmIChjbGFpbXMuYXpwID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBPUEUoJ0lEIFRva2VuIFwiYXVkXCIgKGF1ZGllbmNlKSBjbGFpbSBpbmNsdWRlcyBhZGRpdGlvbmFsIHVudHJ1c3RlZCBhdWRpZW5jZXMnLCBKV1RfQ0xBSU1fQ09NUEFSSVNPTiwgeyBjbGFpbXMsIGNsYWltOiAnYXVkJyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjbGFpbXMuYXpwICE9PSBjbGllbnQuY2xpZW50X2lkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgT1BFKCd1bmV4cGVjdGVkIElEIFRva2VuIFwiYXpwXCIgKGF1dGhvcml6ZWQgcGFydHkpIGNsYWltIHZhbHVlJywgSldUX0NMQUlNX0NPTVBBUklTT04sIHsgZXhwZWN0ZWQ6IGNsaWVudC5jbGllbnRfaWQsIGNsYWltcywgY2xhaW06ICdhenAnIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjbGFpbXMuYXV0aF90aW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGFzc2VydE51bWJlcihjbGFpbXMuYXV0aF90aW1lLCB0cnVlLCAnSUQgVG9rZW4gXCJhdXRoX3RpbWVcIiAoYXV0aGVudGljYXRpb24gdGltZSknLCBJTlZBTElEX1JFU1BPTlNFLCB7IGNsYWltcyB9KTtcbiAgICAgICAgfVxuICAgICAgICBqd3RSZWZzLnNldChyZXNwb25zZSwgand0KTtcbiAgICAgICAgaWRUb2tlbkNsYWltcy5zZXQoanNvbiwgY2xhaW1zKTtcbiAgICB9XG4gICAgaWYgKHJlY29nbml6ZWRUb2tlblR5cGVzPy5banNvbi50b2tlbl90eXBlXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJlY29nbml6ZWRUb2tlblR5cGVzW2pzb24udG9rZW5fdHlwZV0ocmVzcG9uc2UsIGpzb24pO1xuICAgIH1cbiAgICBlbHNlIGlmIChqc29uLnRva2VuX3R5cGUgIT09ICdkcG9wJyAmJiBqc29uLnRva2VuX3R5cGUgIT09ICdiZWFyZXInKSB7XG4gICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkVycm9yKCd1bnN1cHBvcnRlZCBgdG9rZW5fdHlwZWAgdmFsdWUnLCB7IGNhdXNlOiB7IGJvZHk6IGpzb24gfSB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGpzb247XG59XG5mdW5jdGlvbiBjaGVja0F1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlcyhyZXNwb25zZSkge1xuICAgIGxldCBjaGFsbGVuZ2VzO1xuICAgIGlmICgoY2hhbGxlbmdlcyA9IHBhcnNlV3d3QXV0aGVudGljYXRlQ2hhbGxlbmdlcyhyZXNwb25zZSkpKSB7XG4gICAgICAgIHRocm93IG5ldyBXV1dBdXRoZW50aWNhdGVDaGFsbGVuZ2VFcnJvcignc2VydmVyIHJlc3BvbmRlZCB3aXRoIGEgY2hhbGxlbmdlIGluIHRoZSBXV1ctQXV0aGVudGljYXRlIEhUVFAgSGVhZGVyJywgeyBjYXVzZTogY2hhbGxlbmdlcywgcmVzcG9uc2UgfSk7XG4gICAgfVxufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHByb2Nlc3NSZWZyZXNoVG9rZW5SZXNwb25zZShhcywgY2xpZW50LCByZXNwb25zZSwgb3B0aW9ucykge1xuICAgIHJldHVybiBwcm9jZXNzR2VuZXJpY0FjY2Vzc1Rva2VuUmVzcG9uc2UoYXMsIGNsaWVudCwgcmVzcG9uc2UsIHVuZGVmaW5lZCwgb3B0aW9ucz8uW2p3ZURlY3J5cHRdLCBvcHRpb25zPy5yZWNvZ25pemVkVG9rZW5UeXBlcyk7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZU9wdGlvbmFsQXVkaWVuY2UoZXhwZWN0ZWQsIHJlc3VsdCkge1xuICAgIGlmIChyZXN1bHQuY2xhaW1zLmF1ZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB2YWxpZGF0ZUF1ZGllbmNlKGV4cGVjdGVkLCByZXN1bHQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gdmFsaWRhdGVBdWRpZW5jZShleHBlY3RlZCwgcmVzdWx0KSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkocmVzdWx0LmNsYWltcy5hdWQpKSB7XG4gICAgICAgIGlmICghcmVzdWx0LmNsYWltcy5hdWQuaW5jbHVkZXMoZXhwZWN0ZWQpKSB7XG4gICAgICAgICAgICB0aHJvdyBPUEUoJ3VuZXhwZWN0ZWQgSldUIFwiYXVkXCIgKGF1ZGllbmNlKSBjbGFpbSB2YWx1ZScsIEpXVF9DTEFJTV9DT01QQVJJU09OLCB7XG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQsXG4gICAgICAgICAgICAgICAgY2xhaW1zOiByZXN1bHQuY2xhaW1zLFxuICAgICAgICAgICAgICAgIGNsYWltOiAnYXVkJyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHJlc3VsdC5jbGFpbXMuYXVkICE9PSBleHBlY3RlZCkge1xuICAgICAgICB0aHJvdyBPUEUoJ3VuZXhwZWN0ZWQgSldUIFwiYXVkXCIgKGF1ZGllbmNlKSBjbGFpbSB2YWx1ZScsIEpXVF9DTEFJTV9DT01QQVJJU09OLCB7XG4gICAgICAgICAgICBleHBlY3RlZCxcbiAgICAgICAgICAgIGNsYWltczogcmVzdWx0LmNsYWltcyxcbiAgICAgICAgICAgIGNsYWltOiAnYXVkJyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZU9wdGlvbmFsSXNzdWVyKGFzLCByZXN1bHQpIHtcbiAgICBpZiAocmVzdWx0LmNsYWltcy5pc3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdmFsaWRhdGVJc3N1ZXIoYXMsIHJlc3VsdCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZUlzc3VlcihhcywgcmVzdWx0KSB7XG4gICAgY29uc3QgZXhwZWN0ZWQgPSBhc1tfZXhwZWN0ZWRJc3N1ZXJdPy4ocmVzdWx0KSA/PyBhcy5pc3N1ZXI7XG4gICAgaWYgKHJlc3VsdC5jbGFpbXMuaXNzICE9PSBleHBlY3RlZCkge1xuICAgICAgICB0aHJvdyBPUEUoJ3VuZXhwZWN0ZWQgSldUIFwiaXNzXCIgKGlzc3VlcikgY2xhaW0gdmFsdWUnLCBKV1RfQ0xBSU1fQ09NUEFSSVNPTiwge1xuICAgICAgICAgICAgZXhwZWN0ZWQsXG4gICAgICAgICAgICBjbGFpbXM6IHJlc3VsdC5jbGFpbXMsXG4gICAgICAgICAgICBjbGFpbTogJ2lzcycsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuY29uc3QgYnJhbmRlZCA9IG5ldyBXZWFrU2V0KCk7XG5mdW5jdGlvbiBicmFuZChzZWFyY2hQYXJhbXMpIHtcbiAgICBicmFuZGVkLmFkZChzZWFyY2hQYXJhbXMpO1xuICAgIHJldHVybiBzZWFyY2hQYXJhbXM7XG59XG5leHBvcnQgY29uc3Qgbm9wa2NlID0gU3ltYm9sKCk7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXV0aG9yaXphdGlvbkNvZGVHcmFudFJlcXVlc3QoYXMsIGNsaWVudCwgY2xpZW50QXV0aGVudGljYXRpb24sIGNhbGxiYWNrUGFyYW1ldGVycywgcmVkaXJlY3RVcmksIGNvZGVWZXJpZmllciwgb3B0aW9ucykge1xuICAgIGFzc2VydEFzKGFzKTtcbiAgICBhc3NlcnRDbGllbnQoY2xpZW50KTtcbiAgICBpZiAoIWJyYW5kZWQuaGFzKGNhbGxiYWNrUGFyYW1ldGVycykpIHtcbiAgICAgICAgdGhyb3cgQ29kZWRUeXBlRXJyb3IoJ1wiY2FsbGJhY2tQYXJhbWV0ZXJzXCIgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiBVUkxTZWFyY2hQYXJhbXMgb2J0YWluZWQgZnJvbSBcInZhbGlkYXRlQXV0aFJlc3BvbnNlKClcIiwgb3IgXCJ2YWxpZGF0ZUp3dEF1dGhSZXNwb25zZSgpJywgRVJSX0lOVkFMSURfQVJHX1ZBTFVFKTtcbiAgICB9XG4gICAgYXNzZXJ0U3RyaW5nKHJlZGlyZWN0VXJpLCAnXCJyZWRpcmVjdFVyaVwiJyk7XG4gICAgY29uc3QgY29kZSA9IGdldFVSTFNlYXJjaFBhcmFtZXRlcihjYWxsYmFja1BhcmFtZXRlcnMsICdjb2RlJyk7XG4gICAgaWYgKCFjb2RlKSB7XG4gICAgICAgIHRocm93IE9QRSgnbm8gYXV0aG9yaXphdGlvbiBjb2RlIGluIFwiY2FsbGJhY2tQYXJhbWV0ZXJzXCInLCBJTlZBTElEX1JFU1BPTlNFKTtcbiAgICB9XG4gICAgY29uc3QgcGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMob3B0aW9ucz8uYWRkaXRpb25hbFBhcmFtZXRlcnMpO1xuICAgIHBhcmFtZXRlcnMuc2V0KCdyZWRpcmVjdF91cmknLCByZWRpcmVjdFVyaSk7XG4gICAgcGFyYW1ldGVycy5zZXQoJ2NvZGUnLCBjb2RlKTtcbiAgICBpZiAoY29kZVZlcmlmaWVyICE9PSBub3BrY2UpIHtcbiAgICAgICAgYXNzZXJ0U3RyaW5nKGNvZGVWZXJpZmllciwgJ1wiY29kZVZlcmlmaWVyXCInKTtcbiAgICAgICAgcGFyYW1ldGVycy5zZXQoJ2NvZGVfdmVyaWZpZXInLCBjb2RlVmVyaWZpZXIpO1xuICAgIH1cbiAgICByZXR1cm4gdG9rZW5FbmRwb2ludFJlcXVlc3QoYXMsIGNsaWVudCwgY2xpZW50QXV0aGVudGljYXRpb24sICdhdXRob3JpemF0aW9uX2NvZGUnLCBwYXJhbWV0ZXJzLCBvcHRpb25zKTtcbn1cbmNvbnN0IGp3dENsYWltTmFtZXMgPSB7XG4gICAgYXVkOiAnYXVkaWVuY2UnLFxuICAgIGNfaGFzaDogJ2NvZGUgaGFzaCcsXG4gICAgY2xpZW50X2lkOiAnY2xpZW50IGlkJyxcbiAgICBleHA6ICdleHBpcmF0aW9uIHRpbWUnLFxuICAgIGlhdDogJ2lzc3VlZCBhdCcsXG4gICAgaXNzOiAnaXNzdWVyJyxcbiAgICBqdGk6ICdqd3QgaWQnLFxuICAgIG5vbmNlOiAnbm9uY2UnLFxuICAgIHNfaGFzaDogJ3N0YXRlIGhhc2gnLFxuICAgIHN1YjogJ3N1YmplY3QnLFxuICAgIGF0aDogJ2FjY2VzcyB0b2tlbiBoYXNoJyxcbiAgICBodG06ICdodHRwIG1ldGhvZCcsXG4gICAgaHR1OiAnaHR0cCB1cmknLFxuICAgIGNuZjogJ2NvbmZpcm1hdGlvbicsXG4gICAgYXV0aF90aW1lOiAnYXV0aGVudGljYXRpb24gdGltZScsXG59O1xuZnVuY3Rpb24gdmFsaWRhdGVQcmVzZW5jZShyZXF1aXJlZCwgcmVzdWx0KSB7XG4gICAgZm9yIChjb25zdCBjbGFpbSBvZiByZXF1aXJlZCkge1xuICAgICAgICBpZiAocmVzdWx0LmNsYWltc1tjbGFpbV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgT1BFKGBKV1QgXCIke2NsYWltfVwiICgke2p3dENsYWltTmFtZXNbY2xhaW1dfSkgY2xhaW0gbWlzc2luZ2AsIElOVkFMSURfUkVTUE9OU0UsIHtcbiAgICAgICAgICAgICAgICBjbGFpbXM6IHJlc3VsdC5jbGFpbXMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGNvbnN0IGV4cGVjdE5vTm9uY2UgPSBTeW1ib2woKTtcbmV4cG9ydCBjb25zdCBza2lwQXV0aFRpbWVDaGVjayA9IFN5bWJvbCgpO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHByb2Nlc3NBdXRob3JpemF0aW9uQ29kZVJlc3BvbnNlKGFzLCBjbGllbnQsIHJlc3BvbnNlLCBvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zPy5leHBlY3RlZE5vbmNlID09PSAnc3RyaW5nJyB8fFxuICAgICAgICB0eXBlb2Ygb3B0aW9ucz8ubWF4QWdlID09PSAnbnVtYmVyJyB8fFxuICAgICAgICBvcHRpb25zPy5yZXF1aXJlSWRUb2tlbikge1xuICAgICAgICByZXR1cm4gcHJvY2Vzc0F1dGhvcml6YXRpb25Db2RlT3BlbklEUmVzcG9uc2UoYXMsIGNsaWVudCwgcmVzcG9uc2UsIG9wdGlvbnMuZXhwZWN0ZWROb25jZSwgb3B0aW9ucy5tYXhBZ2UsIG9wdGlvbnNbandlRGVjcnlwdF0sIG9wdGlvbnMucmVjb2duaXplZFRva2VuVHlwZXMpO1xuICAgIH1cbiAgICByZXR1cm4gcHJvY2Vzc0F1dGhvcml6YXRpb25Db2RlT0F1dGgyUmVzcG9uc2UoYXMsIGNsaWVudCwgcmVzcG9uc2UsIG9wdGlvbnM/Lltqd2VEZWNyeXB0XSwgb3B0aW9ucz8ucmVjb2duaXplZFRva2VuVHlwZXMpO1xufVxuYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc0F1dGhvcml6YXRpb25Db2RlT3BlbklEUmVzcG9uc2UoYXMsIGNsaWVudCwgcmVzcG9uc2UsIGV4cGVjdGVkTm9uY2UsIG1heEFnZSwgZGVjcnlwdEZuLCByZWNvZ25pemVkVG9rZW5UeXBlcykge1xuICAgIGNvbnN0IGFkZGl0aW9uYWxSZXF1aXJlZENsYWltcyA9IFtdO1xuICAgIHN3aXRjaCAoZXhwZWN0ZWROb25jZSkge1xuICAgICAgICBjYXNlIHVuZGVmaW5lZDpcbiAgICAgICAgICAgIGV4cGVjdGVkTm9uY2UgPSBleHBlY3ROb05vbmNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgZXhwZWN0Tm9Ob25jZTpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgYXNzZXJ0U3RyaW5nKGV4cGVjdGVkTm9uY2UsICdcImV4cGVjdGVkTm9uY2VcIiBhcmd1bWVudCcpO1xuICAgICAgICAgICAgYWRkaXRpb25hbFJlcXVpcmVkQ2xhaW1zLnB1c2goJ25vbmNlJyk7XG4gICAgfVxuICAgIG1heEFnZSA/Pz0gY2xpZW50LmRlZmF1bHRfbWF4X2FnZTtcbiAgICBzd2l0Y2ggKG1heEFnZSkge1xuICAgICAgICBjYXNlIHVuZGVmaW5lZDpcbiAgICAgICAgICAgIG1heEFnZSA9IHNraXBBdXRoVGltZUNoZWNrO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2Ugc2tpcEF1dGhUaW1lQ2hlY2s6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGFzc2VydE51bWJlcihtYXhBZ2UsIHRydWUsICdcIm1heEFnZVwiIGFyZ3VtZW50Jyk7XG4gICAgICAgICAgICBhZGRpdGlvbmFsUmVxdWlyZWRDbGFpbXMucHVzaCgnYXV0aF90aW1lJyk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHByb2Nlc3NHZW5lcmljQWNjZXNzVG9rZW5SZXNwb25zZShhcywgY2xpZW50LCByZXNwb25zZSwgYWRkaXRpb25hbFJlcXVpcmVkQ2xhaW1zLCBkZWNyeXB0Rm4sIHJlY29nbml6ZWRUb2tlblR5cGVzKTtcbiAgICBhc3NlcnRTdHJpbmcocmVzdWx0LmlkX3Rva2VuLCAnXCJyZXNwb25zZVwiIGJvZHkgXCJpZF90b2tlblwiIHByb3BlcnR5JywgSU5WQUxJRF9SRVNQT05TRSwge1xuICAgICAgICBib2R5OiByZXN1bHQsXG4gICAgfSk7XG4gICAgY29uc3QgY2xhaW1zID0gZ2V0VmFsaWRhdGVkSWRUb2tlbkNsYWltcyhyZXN1bHQpO1xuICAgIGlmIChtYXhBZ2UgIT09IHNraXBBdXRoVGltZUNoZWNrKSB7XG4gICAgICAgIGNvbnN0IG5vdyA9IGVwb2NoVGltZSgpICsgZ2V0Q2xvY2tTa2V3KGNsaWVudCk7XG4gICAgICAgIGNvbnN0IHRvbGVyYW5jZSA9IGdldENsb2NrVG9sZXJhbmNlKGNsaWVudCk7XG4gICAgICAgIGlmIChjbGFpbXMuYXV0aF90aW1lICsgbWF4QWdlIDwgbm93IC0gdG9sZXJhbmNlKSB7XG4gICAgICAgICAgICB0aHJvdyBPUEUoJ3RvbyBtdWNoIHRpbWUgaGFzIGVsYXBzZWQgc2luY2UgdGhlIGxhc3QgRW5kLVVzZXIgYXV0aGVudGljYXRpb24nLCBKV1RfVElNRVNUQU1QX0NIRUNLLCB7IGNsYWltcywgbm93LCB0b2xlcmFuY2UsIGNsYWltOiAnYXV0aF90aW1lJyB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoZXhwZWN0ZWROb25jZSA9PT0gZXhwZWN0Tm9Ob25jZSkge1xuICAgICAgICBpZiAoY2xhaW1zLm5vbmNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IE9QRSgndW5leHBlY3RlZCBJRCBUb2tlbiBcIm5vbmNlXCIgY2xhaW0gdmFsdWUnLCBKV1RfQ0xBSU1fQ09NUEFSSVNPTiwge1xuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgY2xhaW1zLFxuICAgICAgICAgICAgICAgIGNsYWltOiAnbm9uY2UnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoY2xhaW1zLm5vbmNlICE9PSBleHBlY3RlZE5vbmNlKSB7XG4gICAgICAgIHRocm93IE9QRSgndW5leHBlY3RlZCBJRCBUb2tlbiBcIm5vbmNlXCIgY2xhaW0gdmFsdWUnLCBKV1RfQ0xBSU1fQ09NUEFSSVNPTiwge1xuICAgICAgICAgICAgZXhwZWN0ZWQ6IGV4cGVjdGVkTm9uY2UsXG4gICAgICAgICAgICBjbGFpbXMsXG4gICAgICAgICAgICBjbGFpbTogJ25vbmNlJyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5hc3luYyBmdW5jdGlvbiBwcm9jZXNzQXV0aG9yaXphdGlvbkNvZGVPQXV0aDJSZXNwb25zZShhcywgY2xpZW50LCByZXNwb25zZSwgZGVjcnlwdEZuLCByZWNvZ25pemVkVG9rZW5UeXBlcykge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHByb2Nlc3NHZW5lcmljQWNjZXNzVG9rZW5SZXNwb25zZShhcywgY2xpZW50LCByZXNwb25zZSwgdW5kZWZpbmVkLCBkZWNyeXB0Rm4sIHJlY29nbml6ZWRUb2tlblR5cGVzKTtcbiAgICBjb25zdCBjbGFpbXMgPSBnZXRWYWxpZGF0ZWRJZFRva2VuQ2xhaW1zKHJlc3VsdCk7XG4gICAgaWYgKGNsYWltcykge1xuICAgICAgICBpZiAoY2xpZW50LmRlZmF1bHRfbWF4X2FnZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBhc3NlcnROdW1iZXIoY2xpZW50LmRlZmF1bHRfbWF4X2FnZSwgdHJ1ZSwgJ1wiY2xpZW50LmRlZmF1bHRfbWF4X2FnZVwiJyk7XG4gICAgICAgICAgICBjb25zdCBub3cgPSBlcG9jaFRpbWUoKSArIGdldENsb2NrU2tldyhjbGllbnQpO1xuICAgICAgICAgICAgY29uc3QgdG9sZXJhbmNlID0gZ2V0Q2xvY2tUb2xlcmFuY2UoY2xpZW50KTtcbiAgICAgICAgICAgIGlmIChjbGFpbXMuYXV0aF90aW1lICsgY2xpZW50LmRlZmF1bHRfbWF4X2FnZSA8IG5vdyAtIHRvbGVyYW5jZSkge1xuICAgICAgICAgICAgICAgIHRocm93IE9QRSgndG9vIG11Y2ggdGltZSBoYXMgZWxhcHNlZCBzaW5jZSB0aGUgbGFzdCBFbmQtVXNlciBhdXRoZW50aWNhdGlvbicsIEpXVF9USU1FU1RBTVBfQ0hFQ0ssIHsgY2xhaW1zLCBub3csIHRvbGVyYW5jZSwgY2xhaW06ICdhdXRoX3RpbWUnIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjbGFpbXMubm9uY2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgT1BFKCd1bmV4cGVjdGVkIElEIFRva2VuIFwibm9uY2VcIiBjbGFpbSB2YWx1ZScsIEpXVF9DTEFJTV9DT01QQVJJU09OLCB7XG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBjbGFpbXMsXG4gICAgICAgICAgICAgICAgY2xhaW06ICdub25jZScsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGNvbnN0IFdXV19BVVRIRU5USUNBVEVfQ0hBTExFTkdFID0gJ09BVVRIX1dXV19BVVRIRU5USUNBVEVfQ0hBTExFTkdFJztcbmV4cG9ydCBjb25zdCBSRVNQT05TRV9CT0RZX0VSUk9SID0gJ09BVVRIX1JFU1BPTlNFX0JPRFlfRVJST1InO1xuZXhwb3J0IGNvbnN0IFVOU1VQUE9SVEVEX09QRVJBVElPTiA9ICdPQVVUSF9VTlNVUFBPUlRFRF9PUEVSQVRJT04nO1xuZXhwb3J0IGNvbnN0IEFVVEhPUklaQVRJT05fUkVTUE9OU0VfRVJST1IgPSAnT0FVVEhfQVVUSE9SSVpBVElPTl9SRVNQT05TRV9FUlJPUic7XG5leHBvcnQgY29uc3QgSldUX1VTRVJJTkZPX0VYUEVDVEVEID0gJ09BVVRIX0pXVF9VU0VSSU5GT19FWFBFQ1RFRCc7XG5leHBvcnQgY29uc3QgUEFSU0VfRVJST1IgPSAnT0FVVEhfUEFSU0VfRVJST1InO1xuZXhwb3J0IGNvbnN0IElOVkFMSURfUkVTUE9OU0UgPSAnT0FVVEhfSU5WQUxJRF9SRVNQT05TRSc7XG5leHBvcnQgY29uc3QgSU5WQUxJRF9SRVFVRVNUID0gJ09BVVRIX0lOVkFMSURfUkVRVUVTVCc7XG5leHBvcnQgY29uc3QgUkVTUE9OU0VfSVNfTk9UX0pTT04gPSAnT0FVVEhfUkVTUE9OU0VfSVNfTk9UX0pTT04nO1xuZXhwb3J0IGNvbnN0IFJFU1BPTlNFX0lTX05PVF9DT05GT1JNID0gJ09BVVRIX1JFU1BPTlNFX0lTX05PVF9DT05GT1JNJztcbmV4cG9ydCBjb25zdCBIVFRQX1JFUVVFU1RfRk9SQklEREVOID0gJ09BVVRIX0hUVFBfUkVRVUVTVF9GT1JCSURERU4nO1xuZXhwb3J0IGNvbnN0IFJFUVVFU1RfUFJPVE9DT0xfRk9SQklEREVOID0gJ09BVVRIX1JFUVVFU1RfUFJPVE9DT0xfRk9SQklEREVOJztcbmV4cG9ydCBjb25zdCBKV1RfVElNRVNUQU1QX0NIRUNLID0gJ09BVVRIX0pXVF9USU1FU1RBTVBfQ0hFQ0tfRkFJTEVEJztcbmV4cG9ydCBjb25zdCBKV1RfQ0xBSU1fQ09NUEFSSVNPTiA9ICdPQVVUSF9KV1RfQ0xBSU1fQ09NUEFSSVNPTl9GQUlMRUQnO1xuZXhwb3J0IGNvbnN0IEpTT05fQVRUUklCVVRFX0NPTVBBUklTT04gPSAnT0FVVEhfSlNPTl9BVFRSSUJVVEVfQ09NUEFSSVNPTl9GQUlMRUQnO1xuZXhwb3J0IGNvbnN0IEtFWV9TRUxFQ1RJT04gPSAnT0FVVEhfS0VZX1NFTEVDVElPTl9GQUlMRUQnO1xuZXhwb3J0IGNvbnN0IE1JU1NJTkdfU0VSVkVSX01FVEFEQVRBID0gJ09BVVRIX01JU1NJTkdfU0VSVkVSX01FVEFEQVRBJztcbmV4cG9ydCBjb25zdCBJTlZBTElEX1NFUlZFUl9NRVRBREFUQSA9ICdPQVVUSF9JTlZBTElEX1NFUlZFUl9NRVRBREFUQSc7XG5mdW5jdGlvbiBjaGVja0p3dFR5cGUoZXhwZWN0ZWQsIHJlc3VsdCkge1xuICAgIGlmICh0eXBlb2YgcmVzdWx0LmhlYWRlci50eXAgIT09ICdzdHJpbmcnIHx8IG5vcm1hbGl6ZVR5cChyZXN1bHQuaGVhZGVyLnR5cCkgIT09IGV4cGVjdGVkKSB7XG4gICAgICAgIHRocm93IE9QRSgndW5leHBlY3RlZCBKV1QgXCJ0eXBcIiBoZWFkZXIgcGFyYW1ldGVyIHZhbHVlJywgSU5WQUxJRF9SRVNQT05TRSwge1xuICAgICAgICAgICAgaGVhZGVyOiByZXN1bHQuaGVhZGVyLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbGllbnRDcmVkZW50aWFsc0dyYW50UmVxdWVzdChhcywgY2xpZW50LCBjbGllbnRBdXRoZW50aWNhdGlvbiwgcGFyYW1ldGVycywgb3B0aW9ucykge1xuICAgIGFzc2VydEFzKGFzKTtcbiAgICBhc3NlcnRDbGllbnQoY2xpZW50KTtcbiAgICByZXR1cm4gdG9rZW5FbmRwb2ludFJlcXVlc3QoYXMsIGNsaWVudCwgY2xpZW50QXV0aGVudGljYXRpb24sICdjbGllbnRfY3JlZGVudGlhbHMnLCBuZXcgVVJMU2VhcmNoUGFyYW1zKHBhcmFtZXRlcnMpLCBvcHRpb25zKTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZW5lcmljVG9rZW5FbmRwb2ludFJlcXVlc3QoYXMsIGNsaWVudCwgY2xpZW50QXV0aGVudGljYXRpb24sIGdyYW50VHlwZSwgcGFyYW1ldGVycywgb3B0aW9ucykge1xuICAgIGFzc2VydEFzKGFzKTtcbiAgICBhc3NlcnRDbGllbnQoY2xpZW50KTtcbiAgICBhc3NlcnRTdHJpbmcoZ3JhbnRUeXBlLCAnXCJncmFudFR5cGVcIicpO1xuICAgIHJldHVybiB0b2tlbkVuZHBvaW50UmVxdWVzdChhcywgY2xpZW50LCBjbGllbnRBdXRoZW50aWNhdGlvbiwgZ3JhbnRUeXBlLCBuZXcgVVJMU2VhcmNoUGFyYW1zKHBhcmFtZXRlcnMpLCBvcHRpb25zKTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwcm9jZXNzR2VuZXJpY1Rva2VuRW5kcG9pbnRSZXNwb25zZShhcywgY2xpZW50LCByZXNwb25zZSwgb3B0aW9ucykge1xuICAgIHJldHVybiBwcm9jZXNzR2VuZXJpY0FjY2Vzc1Rva2VuUmVzcG9uc2UoYXMsIGNsaWVudCwgcmVzcG9uc2UsIHVuZGVmaW5lZCwgb3B0aW9ucz8uW2p3ZURlY3J5cHRdLCBvcHRpb25zPy5yZWNvZ25pemVkVG9rZW5UeXBlcyk7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc0NsaWVudENyZWRlbnRpYWxzUmVzcG9uc2UoYXMsIGNsaWVudCwgcmVzcG9uc2UsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gcHJvY2Vzc0dlbmVyaWNBY2Nlc3NUb2tlblJlc3BvbnNlKGFzLCBjbGllbnQsIHJlc3BvbnNlLCB1bmRlZmluZWQsIG9wdGlvbnM/Lltqd2VEZWNyeXB0XSwgb3B0aW9ucz8ucmVjb2duaXplZFRva2VuVHlwZXMpO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJldm9jYXRpb25SZXF1ZXN0KGFzLCBjbGllbnQsIGNsaWVudEF1dGhlbnRpY2F0aW9uLCB0b2tlbiwgb3B0aW9ucykge1xuICAgIGFzc2VydEFzKGFzKTtcbiAgICBhc3NlcnRDbGllbnQoY2xpZW50KTtcbiAgICBhc3NlcnRTdHJpbmcodG9rZW4sICdcInRva2VuXCInKTtcbiAgICBjb25zdCB1cmwgPSByZXNvbHZlRW5kcG9pbnQoYXMsICdyZXZvY2F0aW9uX2VuZHBvaW50JywgY2xpZW50LnVzZV9tdGxzX2VuZHBvaW50X2FsaWFzZXMsIG9wdGlvbnM/LlthbGxvd0luc2VjdXJlUmVxdWVzdHNdICE9PSB0cnVlKTtcbiAgICBjb25zdCBib2R5ID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhvcHRpb25zPy5hZGRpdGlvbmFsUGFyYW1ldGVycyk7XG4gICAgYm9keS5zZXQoJ3Rva2VuJywgdG9rZW4pO1xuICAgIGNvbnN0IGhlYWRlcnMgPSBwcmVwYXJlSGVhZGVycyhvcHRpb25zPy5oZWFkZXJzKTtcbiAgICBoZWFkZXJzLmRlbGV0ZSgnYWNjZXB0Jyk7XG4gICAgcmV0dXJuIGF1dGhlbnRpY2F0ZWRSZXF1ZXN0KGFzLCBjbGllbnQsIGNsaWVudEF1dGhlbnRpY2F0aW9uLCB1cmwsIGJvZHksIGhlYWRlcnMsIG9wdGlvbnMpO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHByb2Nlc3NSZXZvY2F0aW9uUmVzcG9uc2UocmVzcG9uc2UpIHtcbiAgICBpZiAoIWxvb3NlSW5zdGFuY2VPZihyZXNwb25zZSwgUmVzcG9uc2UpKSB7XG4gICAgICAgIHRocm93IENvZGVkVHlwZUVycm9yKCdcInJlc3BvbnNlXCIgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiBSZXNwb25zZScsIEVSUl9JTlZBTElEX0FSR19UWVBFKTtcbiAgICB9XG4gICAgYXdhaXQgY2hlY2tPQXV0aEJvZHlFcnJvcihyZXNwb25zZSwgMjAwLCAnUmV2b2NhdGlvbiBFbmRwb2ludCcpO1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBhc3NlcnRSZWFkYWJsZVJlc3BvbnNlKHJlc3BvbnNlKSB7XG4gICAgaWYgKHJlc3BvbnNlLmJvZHlVc2VkKSB7XG4gICAgICAgIHRocm93IENvZGVkVHlwZUVycm9yKCdcInJlc3BvbnNlXCIgYm9keSBoYXMgYmVlbiB1c2VkIGFscmVhZHknLCBFUlJfSU5WQUxJRF9BUkdfVkFMVUUpO1xuICAgIH1cbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbnRyb3NwZWN0aW9uUmVxdWVzdChhcywgY2xpZW50LCBjbGllbnRBdXRoZW50aWNhdGlvbiwgdG9rZW4sIG9wdGlvbnMpIHtcbiAgICBhc3NlcnRBcyhhcyk7XG4gICAgYXNzZXJ0Q2xpZW50KGNsaWVudCk7XG4gICAgYXNzZXJ0U3RyaW5nKHRva2VuLCAnXCJ0b2tlblwiJyk7XG4gICAgY29uc3QgdXJsID0gcmVzb2x2ZUVuZHBvaW50KGFzLCAnaW50cm9zcGVjdGlvbl9lbmRwb2ludCcsIGNsaWVudC51c2VfbXRsc19lbmRwb2ludF9hbGlhc2VzLCBvcHRpb25zPy5bYWxsb3dJbnNlY3VyZVJlcXVlc3RzXSAhPT0gdHJ1ZSk7XG4gICAgY29uc3QgYm9keSA9IG5ldyBVUkxTZWFyY2hQYXJhbXMob3B0aW9ucz8uYWRkaXRpb25hbFBhcmFtZXRlcnMpO1xuICAgIGJvZHkuc2V0KCd0b2tlbicsIHRva2VuKTtcbiAgICBjb25zdCBoZWFkZXJzID0gcHJlcGFyZUhlYWRlcnMob3B0aW9ucz8uaGVhZGVycyk7XG4gICAgaWYgKG9wdGlvbnM/LnJlcXVlc3RKd3RSZXNwb25zZSA/PyBjbGllbnQuaW50cm9zcGVjdGlvbl9zaWduZWRfcmVzcG9uc2VfYWxnKSB7XG4gICAgICAgIGhlYWRlcnMuc2V0KCdhY2NlcHQnLCAnYXBwbGljYXRpb24vdG9rZW4taW50cm9zcGVjdGlvbitqd3QnKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGhlYWRlcnMuc2V0KCdhY2NlcHQnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgIH1cbiAgICByZXR1cm4gYXV0aGVudGljYXRlZFJlcXVlc3QoYXMsIGNsaWVudCwgY2xpZW50QXV0aGVudGljYXRpb24sIHVybCwgYm9keSwgaGVhZGVycywgb3B0aW9ucyk7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc0ludHJvc3BlY3Rpb25SZXNwb25zZShhcywgY2xpZW50LCByZXNwb25zZSwgb3B0aW9ucykge1xuICAgIGFzc2VydEFzKGFzKTtcbiAgICBhc3NlcnRDbGllbnQoY2xpZW50KTtcbiAgICBpZiAoIWxvb3NlSW5zdGFuY2VPZihyZXNwb25zZSwgUmVzcG9uc2UpKSB7XG4gICAgICAgIHRocm93IENvZGVkVHlwZUVycm9yKCdcInJlc3BvbnNlXCIgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiBSZXNwb25zZScsIEVSUl9JTlZBTElEX0FSR19UWVBFKTtcbiAgICB9XG4gICAgYXdhaXQgY2hlY2tPQXV0aEJvZHlFcnJvcihyZXNwb25zZSwgMjAwLCAnSW50cm9zcGVjdGlvbiBFbmRwb2ludCcpO1xuICAgIGxldCBqc29uO1xuICAgIGlmIChnZXRDb250ZW50VHlwZShyZXNwb25zZSkgPT09ICdhcHBsaWNhdGlvbi90b2tlbi1pbnRyb3NwZWN0aW9uK2p3dCcpIHtcbiAgICAgICAgYXNzZXJ0UmVhZGFibGVSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgIGNvbnN0IHsgY2xhaW1zLCBqd3QgfSA9IGF3YWl0IHZhbGlkYXRlSnd0KGF3YWl0IHJlc3BvbnNlLnRleHQoKSwgY2hlY2tTaWduaW5nQWxnb3JpdGhtLmJpbmQodW5kZWZpbmVkLCBjbGllbnQuaW50cm9zcGVjdGlvbl9zaWduZWRfcmVzcG9uc2VfYWxnLCBhcy5pbnRyb3NwZWN0aW9uX3NpZ25pbmdfYWxnX3ZhbHVlc19zdXBwb3J0ZWQsICdSUzI1NicpLCBnZXRDbG9ja1NrZXcoY2xpZW50KSwgZ2V0Q2xvY2tUb2xlcmFuY2UoY2xpZW50KSwgb3B0aW9ucz8uW2p3ZURlY3J5cHRdKVxuICAgICAgICAgICAgLnRoZW4oY2hlY2tKd3RUeXBlLmJpbmQodW5kZWZpbmVkLCAndG9rZW4taW50cm9zcGVjdGlvbitqd3QnKSlcbiAgICAgICAgICAgIC50aGVuKHZhbGlkYXRlUHJlc2VuY2UuYmluZCh1bmRlZmluZWQsIFsnYXVkJywgJ2lhdCcsICdpc3MnXSkpXG4gICAgICAgICAgICAudGhlbih2YWxpZGF0ZUlzc3Vlci5iaW5kKHVuZGVmaW5lZCwgYXMpKVxuICAgICAgICAgICAgLnRoZW4odmFsaWRhdGVBdWRpZW5jZS5iaW5kKHVuZGVmaW5lZCwgY2xpZW50LmNsaWVudF9pZCkpO1xuICAgICAgICBqd3RSZWZzLnNldChyZXNwb25zZSwgand0KTtcbiAgICAgICAgaWYgKCFpc0pzb25PYmplY3QoY2xhaW1zLnRva2VuX2ludHJvc3BlY3Rpb24pKSB7XG4gICAgICAgICAgICB0aHJvdyBPUEUoJ0pXVCBcInRva2VuX2ludHJvc3BlY3Rpb25cIiBjbGFpbSBtdXN0IGJlIGEgSlNPTiBvYmplY3QnLCBJTlZBTElEX1JFU1BPTlNFLCB7XG4gICAgICAgICAgICAgICAgY2xhaW1zLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAganNvbiA9IGNsYWltcy50b2tlbl9pbnRyb3NwZWN0aW9uO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYXNzZXJ0UmVhZGFibGVSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgIGpzb24gPSBhd2FpdCBnZXRSZXNwb25zZUpzb25Cb2R5KHJlc3BvbnNlKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBqc29uLmFjdGl2ZSAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIHRocm93IE9QRSgnXCJyZXNwb25zZVwiIGJvZHkgXCJhY3RpdmVcIiBwcm9wZXJ0eSBtdXN0IGJlIGEgYm9vbGVhbicsIElOVkFMSURfUkVTUE9OU0UsIHtcbiAgICAgICAgICAgIGJvZHk6IGpzb24sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4ganNvbjtcbn1cbmFzeW5jIGZ1bmN0aW9uIGp3a3NSZXF1ZXN0KGFzLCBvcHRpb25zKSB7XG4gICAgYXNzZXJ0QXMoYXMpO1xuICAgIGNvbnN0IHVybCA9IHJlc29sdmVFbmRwb2ludChhcywgJ2p3a3NfdXJpJywgZmFsc2UsIG9wdGlvbnM/LlthbGxvd0luc2VjdXJlUmVxdWVzdHNdICE9PSB0cnVlKTtcbiAgICBjb25zdCBoZWFkZXJzID0gcHJlcGFyZUhlYWRlcnMob3B0aW9ucz8uaGVhZGVycyk7XG4gICAgaGVhZGVycy5zZXQoJ2FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgaGVhZGVycy5hcHBlbmQoJ2FjY2VwdCcsICdhcHBsaWNhdGlvbi9qd2stc2V0K2pzb24nKTtcbiAgICByZXR1cm4gKG9wdGlvbnM/LltjdXN0b21GZXRjaF0gfHwgZmV0Y2gpKHVybC5ocmVmLCB7XG4gICAgICAgIGJvZHk6IHVuZGVmaW5lZCxcbiAgICAgICAgaGVhZGVyczogT2JqZWN0LmZyb21FbnRyaWVzKGhlYWRlcnMuZW50cmllcygpKSxcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgcmVkaXJlY3Q6ICdtYW51YWwnLFxuICAgICAgICBzaWduYWw6IHNpZ25hbCh1cmwsIG9wdGlvbnM/LnNpZ25hbCksXG4gICAgfSk7XG59XG5hc3luYyBmdW5jdGlvbiBwcm9jZXNzSndrc1Jlc3BvbnNlKHJlc3BvbnNlKSB7XG4gICAgaWYgKCFsb29zZUluc3RhbmNlT2YocmVzcG9uc2UsIFJlc3BvbnNlKSkge1xuICAgICAgICB0aHJvdyBDb2RlZFR5cGVFcnJvcignXCJyZXNwb25zZVwiIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgUmVzcG9uc2UnLCBFUlJfSU5WQUxJRF9BUkdfVFlQRSk7XG4gICAgfVxuICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IDIwMCkge1xuICAgICAgICB0aHJvdyBPUEUoJ1wicmVzcG9uc2VcIiBpcyBub3QgYSBjb25mb3JtIEpTT04gV2ViIEtleSBTZXQgcmVzcG9uc2UgKHVuZXhwZWN0ZWQgSFRUUCBzdGF0dXMgY29kZSknLCBSRVNQT05TRV9JU19OT1RfQ09ORk9STSwgcmVzcG9uc2UpO1xuICAgIH1cbiAgICBhc3NlcnRSZWFkYWJsZVJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICBjb25zdCBqc29uID0gYXdhaXQgZ2V0UmVzcG9uc2VKc29uQm9keShyZXNwb25zZSwgKHJlc3BvbnNlKSA9PiBhc3NlcnRDb250ZW50VHlwZXMocmVzcG9uc2UsICdhcHBsaWNhdGlvbi9qc29uJywgJ2FwcGxpY2F0aW9uL2p3ay1zZXQranNvbicpKTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoanNvbi5rZXlzKSkge1xuICAgICAgICB0aHJvdyBPUEUoJ1wicmVzcG9uc2VcIiBib2R5IFwia2V5c1wiIHByb3BlcnR5IG11c3QgYmUgYW4gYXJyYXknLCBJTlZBTElEX1JFU1BPTlNFLCB7IGJvZHk6IGpzb24gfSk7XG4gICAgfVxuICAgIGlmICghQXJyYXkucHJvdG90eXBlLmV2ZXJ5LmNhbGwoanNvbi5rZXlzLCBpc0pzb25PYmplY3QpKSB7XG4gICAgICAgIHRocm93IE9QRSgnXCJyZXNwb25zZVwiIGJvZHkgXCJrZXlzXCIgcHJvcGVydHkgbWVtYmVycyBtdXN0IGJlIEpXSyBmb3JtYXR0ZWQgb2JqZWN0cycsIElOVkFMSURfUkVTUE9OU0UsIHsgYm9keToganNvbiB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGpzb247XG59XG5mdW5jdGlvbiBzdXBwb3J0ZWQoYWxnKSB7XG4gICAgc3dpdGNoIChhbGcpIHtcbiAgICAgICAgY2FzZSAnUFMyNTYnOlxuICAgICAgICBjYXNlICdFUzI1Nic6XG4gICAgICAgIGNhc2UgJ1JTMjU2JzpcbiAgICAgICAgY2FzZSAnUFMzODQnOlxuICAgICAgICBjYXNlICdFUzM4NCc6XG4gICAgICAgIGNhc2UgJ1JTMzg0JzpcbiAgICAgICAgY2FzZSAnUFM1MTInOlxuICAgICAgICBjYXNlICdFUzUxMic6XG4gICAgICAgIGNhc2UgJ1JTNTEyJzpcbiAgICAgICAgY2FzZSAnRWQyNTUxOSc6XG4gICAgICAgIGNhc2UgJ0VkRFNBJzpcbiAgICAgICAgY2FzZSAnTUwtRFNBLTQ0JzpcbiAgICAgICAgY2FzZSAnTUwtRFNBLTY1JzpcbiAgICAgICAgY2FzZSAnTUwtRFNBLTg3JzpcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNoZWNrU3VwcG9ydGVkSndzQWxnKGhlYWRlcikge1xuICAgIGlmICghc3VwcG9ydGVkKGhlYWRlci5hbGcpKSB7XG4gICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkVycm9yKCd1bnN1cHBvcnRlZCBKV1MgXCJhbGdcIiBpZGVudGlmaWVyJywge1xuICAgICAgICAgICAgY2F1c2U6IHsgYWxnOiBoZWFkZXIuYWxnIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNoZWNrUnNhS2V5QWxnb3JpdGhtKGtleSkge1xuICAgIGNvbnN0IHsgYWxnb3JpdGhtIH0gPSBrZXk7XG4gICAgaWYgKHR5cGVvZiBhbGdvcml0aG0ubW9kdWx1c0xlbmd0aCAhPT0gJ251bWJlcicgfHwgYWxnb3JpdGhtLm1vZHVsdXNMZW5ndGggPCAyMDQ4KSB7XG4gICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkVycm9yKGB1bnN1cHBvcnRlZCAke2FsZ29yaXRobS5uYW1lfSBtb2R1bHVzTGVuZ3RoYCwge1xuICAgICAgICAgICAgY2F1c2U6IGtleSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZnVuY3Rpb24gZWNkc2FIYXNoTmFtZShrZXkpIHtcbiAgICBjb25zdCB7IGFsZ29yaXRobSB9ID0ga2V5O1xuICAgIHN3aXRjaCAoYWxnb3JpdGhtLm5hbWVkQ3VydmUpIHtcbiAgICAgICAgY2FzZSAnUC0yNTYnOlxuICAgICAgICAgICAgcmV0dXJuICdTSEEtMjU2JztcbiAgICAgICAgY2FzZSAnUC0zODQnOlxuICAgICAgICAgICAgcmV0dXJuICdTSEEtMzg0JztcbiAgICAgICAgY2FzZSAnUC01MjEnOlxuICAgICAgICAgICAgcmV0dXJuICdTSEEtNTEyJztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkVycm9yKCd1bnN1cHBvcnRlZCBFQ0RTQSBuYW1lZEN1cnZlJywgeyBjYXVzZToga2V5IH0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGtleVRvU3VidGxlKGtleSkge1xuICAgIHN3aXRjaCAoa2V5LmFsZ29yaXRobS5uYW1lKSB7XG4gICAgICAgIGNhc2UgJ0VDRFNBJzpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbmFtZToga2V5LmFsZ29yaXRobS5uYW1lLFxuICAgICAgICAgICAgICAgIGhhc2g6IGVjZHNhSGFzaE5hbWUoa2V5KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgJ1JTQS1QU1MnOiB7XG4gICAgICAgICAgICBjaGVja1JzYUtleUFsZ29yaXRobShrZXkpO1xuICAgICAgICAgICAgc3dpdGNoIChrZXkuYWxnb3JpdGhtLmhhc2gubmFtZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ1NIQS0yNTYnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ1NIQS0zODQnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ1NIQS01MTInOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZToga2V5LmFsZ29yaXRobS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2FsdExlbmd0aDogcGFyc2VJbnQoa2V5LmFsZ29yaXRobS5oYXNoLm5hbWUuc2xpY2UoLTMpLCAxMCkgPj4gMyxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FcnJvcigndW5zdXBwb3J0ZWQgUlNBLVBTUyBoYXNoIG5hbWUnLCB7IGNhdXNlOiBrZXkgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnUlNBU1NBLVBLQ1MxLXYxXzUnOlxuICAgICAgICAgICAgY2hlY2tSc2FLZXlBbGdvcml0aG0oa2V5KTtcbiAgICAgICAgICAgIHJldHVybiBrZXkuYWxnb3JpdGhtLm5hbWU7XG4gICAgICAgIGNhc2UgJ01MLURTQS00NCc6XG4gICAgICAgIGNhc2UgJ01MLURTQS02NSc6XG4gICAgICAgIGNhc2UgJ01MLURTQS04Nyc6XG4gICAgICAgIGNhc2UgJ0VkMjU1MTknOlxuICAgICAgICAgICAgcmV0dXJuIGtleS5hbGdvcml0aG0ubmFtZTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXJyb3IoJ3Vuc3VwcG9ydGVkIENyeXB0b0tleSBhbGdvcml0aG0gbmFtZScsIHsgY2F1c2U6IGtleSB9KTtcbn1cbmFzeW5jIGZ1bmN0aW9uIHZhbGlkYXRlSndzU2lnbmF0dXJlKHByb3RlY3RlZEhlYWRlciwgcGF5bG9hZCwga2V5LCBzaWduYXR1cmUpIHtcbiAgICBjb25zdCBkYXRhID0gYnVmKGAke3Byb3RlY3RlZEhlYWRlcn0uJHtwYXlsb2FkfWApO1xuICAgIGNvbnN0IGFsZ29yaXRobSA9IGtleVRvU3VidGxlKGtleSk7XG4gICAgY29uc3QgdmVyaWZpZWQgPSBhd2FpdCBjcnlwdG8uc3VidGxlLnZlcmlmeShhbGdvcml0aG0sIGtleSwgc2lnbmF0dXJlLCBkYXRhKTtcbiAgICBpZiAoIXZlcmlmaWVkKSB7XG4gICAgICAgIHRocm93IE9QRSgnSldUIHNpZ25hdHVyZSB2ZXJpZmljYXRpb24gZmFpbGVkJywgSU5WQUxJRF9SRVNQT05TRSwge1xuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIHNpZ25hdHVyZSxcbiAgICAgICAgICAgIGFsZ29yaXRobSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuYXN5bmMgZnVuY3Rpb24gdmFsaWRhdGVKd3QoandzLCBjaGVja0FsZywgY2xvY2tTa2V3LCBjbG9ja1RvbGVyYW5jZSwgZGVjcnlwdEp3dCkge1xuICAgIGxldCB7IDA6IHByb3RlY3RlZEhlYWRlciwgMTogcGF5bG9hZCwgbGVuZ3RoIH0gPSBqd3Muc3BsaXQoJy4nKTtcbiAgICBpZiAobGVuZ3RoID09PSA1KSB7XG4gICAgICAgIGlmIChkZWNyeXB0Snd0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGp3cyA9IGF3YWl0IGRlY3J5cHRKd3QoandzKTtcbiAgICAgICAgICAgICh7IDA6IHByb3RlY3RlZEhlYWRlciwgMTogcGF5bG9hZCwgbGVuZ3RoIH0gPSBqd3Muc3BsaXQoJy4nKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FcnJvcignSldFIGRlY3J5cHRpb24gaXMgbm90IGNvbmZpZ3VyZWQnLCB7IGNhdXNlOiBqd3MgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGxlbmd0aCAhPT0gMykge1xuICAgICAgICB0aHJvdyBPUEUoJ0ludmFsaWQgSldUJywgSU5WQUxJRF9SRVNQT05TRSwgandzKTtcbiAgICB9XG4gICAgbGV0IGhlYWRlcjtcbiAgICB0cnkge1xuICAgICAgICBoZWFkZXIgPSBKU09OLnBhcnNlKGJ1ZihiNjR1KHByb3RlY3RlZEhlYWRlcikpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGNhdXNlKSB7XG4gICAgICAgIHRocm93IE9QRSgnZmFpbGVkIHRvIHBhcnNlIEpXVCBIZWFkZXIgYm9keSBhcyBiYXNlNjR1cmwgZW5jb2RlZCBKU09OJywgUEFSU0VfRVJST1IsIGNhdXNlKTtcbiAgICB9XG4gICAgaWYgKCFpc0pzb25PYmplY3QoaGVhZGVyKSkge1xuICAgICAgICB0aHJvdyBPUEUoJ0pXVCBIZWFkZXIgbXVzdCBiZSBhIHRvcCBsZXZlbCBvYmplY3QnLCBJTlZBTElEX1JFU1BPTlNFLCBqd3MpO1xuICAgIH1cbiAgICBjaGVja0FsZyhoZWFkZXIpO1xuICAgIGlmIChoZWFkZXIuY3JpdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkVycm9yKCdubyBKV1QgXCJjcml0XCIgaGVhZGVyIHBhcmFtZXRlciBleHRlbnNpb25zIGFyZSBzdXBwb3J0ZWQnLCB7XG4gICAgICAgICAgICBjYXVzZTogeyBoZWFkZXIgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxldCBjbGFpbXM7XG4gICAgdHJ5IHtcbiAgICAgICAgY2xhaW1zID0gSlNPTi5wYXJzZShidWYoYjY0dShwYXlsb2FkKSkpO1xuICAgIH1cbiAgICBjYXRjaCAoY2F1c2UpIHtcbiAgICAgICAgdGhyb3cgT1BFKCdmYWlsZWQgdG8gcGFyc2UgSldUIFBheWxvYWQgYm9keSBhcyBiYXNlNjR1cmwgZW5jb2RlZCBKU09OJywgUEFSU0VfRVJST1IsIGNhdXNlKTtcbiAgICB9XG4gICAgaWYgKCFpc0pzb25PYmplY3QoY2xhaW1zKSkge1xuICAgICAgICB0aHJvdyBPUEUoJ0pXVCBQYXlsb2FkIG11c3QgYmUgYSB0b3AgbGV2ZWwgb2JqZWN0JywgSU5WQUxJRF9SRVNQT05TRSwgandzKTtcbiAgICB9XG4gICAgY29uc3Qgbm93ID0gZXBvY2hUaW1lKCkgKyBjbG9ja1NrZXc7XG4gICAgaWYgKGNsYWltcy5leHAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAodHlwZW9mIGNsYWltcy5leHAgIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aHJvdyBPUEUoJ3VuZXhwZWN0ZWQgSldUIFwiZXhwXCIgKGV4cGlyYXRpb24gdGltZSkgY2xhaW0gdHlwZScsIElOVkFMSURfUkVTUE9OU0UsIHsgY2xhaW1zIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjbGFpbXMuZXhwIDw9IG5vdyAtIGNsb2NrVG9sZXJhbmNlKSB7XG4gICAgICAgICAgICB0aHJvdyBPUEUoJ3VuZXhwZWN0ZWQgSldUIFwiZXhwXCIgKGV4cGlyYXRpb24gdGltZSkgY2xhaW0gdmFsdWUsIGV4cGlyYXRpb24gaXMgcGFzdCBjdXJyZW50IHRpbWVzdGFtcCcsIEpXVF9USU1FU1RBTVBfQ0hFQ0ssIHsgY2xhaW1zLCBub3csIHRvbGVyYW5jZTogY2xvY2tUb2xlcmFuY2UsIGNsYWltOiAnZXhwJyB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoY2xhaW1zLmlhdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xhaW1zLmlhdCAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHRocm93IE9QRSgndW5leHBlY3RlZCBKV1QgXCJpYXRcIiAoaXNzdWVkIGF0KSBjbGFpbSB0eXBlJywgSU5WQUxJRF9SRVNQT05TRSwgeyBjbGFpbXMgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNsYWltcy5pc3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAodHlwZW9mIGNsYWltcy5pc3MgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aHJvdyBPUEUoJ3VuZXhwZWN0ZWQgSldUIFwiaXNzXCIgKGlzc3VlcikgY2xhaW0gdHlwZScsIElOVkFMSURfUkVTUE9OU0UsIHsgY2xhaW1zIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChjbGFpbXMubmJmICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGFpbXMubmJmICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdGhyb3cgT1BFKCd1bmV4cGVjdGVkIEpXVCBcIm5iZlwiIChub3QgYmVmb3JlKSBjbGFpbSB0eXBlJywgSU5WQUxJRF9SRVNQT05TRSwgeyBjbGFpbXMgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNsYWltcy5uYmYgPiBub3cgKyBjbG9ja1RvbGVyYW5jZSkge1xuICAgICAgICAgICAgdGhyb3cgT1BFKCd1bmV4cGVjdGVkIEpXVCBcIm5iZlwiIChub3QgYmVmb3JlKSBjbGFpbSB2YWx1ZScsIEpXVF9USU1FU1RBTVBfQ0hFQ0ssIHtcbiAgICAgICAgICAgICAgICBjbGFpbXMsXG4gICAgICAgICAgICAgICAgbm93LFxuICAgICAgICAgICAgICAgIHRvbGVyYW5jZTogY2xvY2tUb2xlcmFuY2UsXG4gICAgICAgICAgICAgICAgY2xhaW06ICduYmYnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNsYWltcy5hdWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAodHlwZW9mIGNsYWltcy5hdWQgIT09ICdzdHJpbmcnICYmICFBcnJheS5pc0FycmF5KGNsYWltcy5hdWQpKSB7XG4gICAgICAgICAgICB0aHJvdyBPUEUoJ3VuZXhwZWN0ZWQgSldUIFwiYXVkXCIgKGF1ZGllbmNlKSBjbGFpbSB0eXBlJywgSU5WQUxJRF9SRVNQT05TRSwgeyBjbGFpbXMgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgaGVhZGVyLCBjbGFpbXMsIGp3dDogandzIH07XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdmFsaWRhdGVKd3RBdXRoUmVzcG9uc2UoYXMsIGNsaWVudCwgcGFyYW1ldGVycywgZXhwZWN0ZWRTdGF0ZSwgb3B0aW9ucykge1xuICAgIGFzc2VydEFzKGFzKTtcbiAgICBhc3NlcnRDbGllbnQoY2xpZW50KTtcbiAgICBpZiAocGFyYW1ldGVycyBpbnN0YW5jZW9mIFVSTCkge1xuICAgICAgICBwYXJhbWV0ZXJzID0gcGFyYW1ldGVycy5zZWFyY2hQYXJhbXM7XG4gICAgfVxuICAgIGlmICghKHBhcmFtZXRlcnMgaW5zdGFuY2VvZiBVUkxTZWFyY2hQYXJhbXMpKSB7XG4gICAgICAgIHRocm93IENvZGVkVHlwZUVycm9yKCdcInBhcmFtZXRlcnNcIiBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIFVSTFNlYXJjaFBhcmFtcywgb3IgVVJMJywgRVJSX0lOVkFMSURfQVJHX1RZUEUpO1xuICAgIH1cbiAgICBjb25zdCByZXNwb25zZSA9IGdldFVSTFNlYXJjaFBhcmFtZXRlcihwYXJhbWV0ZXJzLCAncmVzcG9uc2UnKTtcbiAgICBpZiAoIXJlc3BvbnNlKSB7XG4gICAgICAgIHRocm93IE9QRSgnXCJwYXJhbWV0ZXJzXCIgZG9lcyBub3QgY29udGFpbiBhIEpBUk0gcmVzcG9uc2UnLCBJTlZBTElEX1JFU1BPTlNFKTtcbiAgICB9XG4gICAgY29uc3QgeyBjbGFpbXMsIGhlYWRlciwgand0IH0gPSBhd2FpdCB2YWxpZGF0ZUp3dChyZXNwb25zZSwgY2hlY2tTaWduaW5nQWxnb3JpdGhtLmJpbmQodW5kZWZpbmVkLCBjbGllbnQuYXV0aG9yaXphdGlvbl9zaWduZWRfcmVzcG9uc2VfYWxnLCBhcy5hdXRob3JpemF0aW9uX3NpZ25pbmdfYWxnX3ZhbHVlc19zdXBwb3J0ZWQsICdSUzI1NicpLCBnZXRDbG9ja1NrZXcoY2xpZW50KSwgZ2V0Q2xvY2tUb2xlcmFuY2UoY2xpZW50KSwgb3B0aW9ucz8uW2p3ZURlY3J5cHRdKVxuICAgICAgICAudGhlbih2YWxpZGF0ZVByZXNlbmNlLmJpbmQodW5kZWZpbmVkLCBbJ2F1ZCcsICdleHAnLCAnaXNzJ10pKVxuICAgICAgICAudGhlbih2YWxpZGF0ZUlzc3Vlci5iaW5kKHVuZGVmaW5lZCwgYXMpKVxuICAgICAgICAudGhlbih2YWxpZGF0ZUF1ZGllbmNlLmJpbmQodW5kZWZpbmVkLCBjbGllbnQuY2xpZW50X2lkKSk7XG4gICAgY29uc3QgeyAwOiBwcm90ZWN0ZWRIZWFkZXIsIDE6IHBheWxvYWQsIDI6IGVuY29kZWRTaWduYXR1cmUgfSA9IGp3dC5zcGxpdCgnLicpO1xuICAgIGNvbnN0IHNpZ25hdHVyZSA9IGI2NHUoZW5jb2RlZFNpZ25hdHVyZSk7XG4gICAgY29uc3Qga2V5ID0gYXdhaXQgZ2V0UHVibGljU2lnS2V5RnJvbUlzc3Vlckp3a3NVcmkoYXMsIG9wdGlvbnMsIGhlYWRlcik7XG4gICAgYXdhaXQgdmFsaWRhdGVKd3NTaWduYXR1cmUocHJvdGVjdGVkSGVhZGVyLCBwYXlsb2FkLCBrZXksIHNpZ25hdHVyZSk7XG4gICAgY29uc3QgcmVzdWx0ID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGNsYWltcykpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYga2V5ICE9PSAnYXVkJykge1xuICAgICAgICAgICAgcmVzdWx0LnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdmFsaWRhdGVBdXRoUmVzcG9uc2UoYXMsIGNsaWVudCwgcmVzdWx0LCBleHBlY3RlZFN0YXRlKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGlkVG9rZW5IYXNoKGRhdGEsIGhlYWRlciwgY2xhaW1OYW1lKSB7XG4gICAgbGV0IGFsZ29yaXRobTtcbiAgICBzd2l0Y2ggKGhlYWRlci5hbGcpIHtcbiAgICAgICAgY2FzZSAnUlMyNTYnOlxuICAgICAgICBjYXNlICdQUzI1Nic6XG4gICAgICAgIGNhc2UgJ0VTMjU2JzpcbiAgICAgICAgICAgIGFsZ29yaXRobSA9ICdTSEEtMjU2JztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdSUzM4NCc6XG4gICAgICAgIGNhc2UgJ1BTMzg0JzpcbiAgICAgICAgY2FzZSAnRVMzODQnOlxuICAgICAgICAgICAgYWxnb3JpdGhtID0gJ1NIQS0zODQnO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ1JTNTEyJzpcbiAgICAgICAgY2FzZSAnUFM1MTInOlxuICAgICAgICBjYXNlICdFUzUxMic6XG4gICAgICAgIGNhc2UgJ0VkMjU1MTknOlxuICAgICAgICBjYXNlICdFZERTQSc6XG4gICAgICAgICAgICBhbGdvcml0aG0gPSAnU0hBLTUxMic7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnTUwtRFNBLTQ0JzpcbiAgICAgICAgY2FzZSAnTUwtRFNBLTY1JzpcbiAgICAgICAgY2FzZSAnTUwtRFNBLTg3JzpcbiAgICAgICAgICAgIGFsZ29yaXRobSA9IHsgbmFtZTogJ2NTSEFLRTI1NicsIGxlbmd0aDogNTEyIH07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkVycm9yKGB1bnN1cHBvcnRlZCBKV1MgYWxnb3JpdGhtIGZvciAke2NsYWltTmFtZX0gY2FsY3VsYXRpb25gLCB7IGNhdXNlOiB7IGFsZzogaGVhZGVyLmFsZyB9IH0pO1xuICAgIH1cbiAgICBjb25zdCBkaWdlc3QgPSBhd2FpdCBjcnlwdG8uc3VidGxlLmRpZ2VzdChhbGdvcml0aG0sIGJ1ZihkYXRhKSk7XG4gICAgcmV0dXJuIGI2NHUoZGlnZXN0LnNsaWNlKDAsIGRpZ2VzdC5ieXRlTGVuZ3RoIC8gMikpO1xufVxuYXN5bmMgZnVuY3Rpb24gaWRUb2tlbkhhc2hNYXRjaGVzKGRhdGEsIGFjdHVhbCwgaGVhZGVyLCBjbGFpbU5hbWUpIHtcbiAgICBjb25zdCBleHBlY3RlZCA9IGF3YWl0IGlkVG9rZW5IYXNoKGRhdGEsIGhlYWRlciwgY2xhaW1OYW1lKTtcbiAgICByZXR1cm4gYWN0dWFsID09PSBleHBlY3RlZDtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB2YWxpZGF0ZURldGFjaGVkU2lnbmF0dXJlUmVzcG9uc2UoYXMsIGNsaWVudCwgcGFyYW1ldGVycywgZXhwZWN0ZWROb25jZSwgZXhwZWN0ZWRTdGF0ZSwgbWF4QWdlLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHZhbGlkYXRlSHlicmlkUmVzcG9uc2UoYXMsIGNsaWVudCwgcGFyYW1ldGVycywgZXhwZWN0ZWROb25jZSwgZXhwZWN0ZWRTdGF0ZSwgbWF4QWdlLCBvcHRpb25zLCB0cnVlKTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB2YWxpZGF0ZUNvZGVJZFRva2VuUmVzcG9uc2UoYXMsIGNsaWVudCwgcGFyYW1ldGVycywgZXhwZWN0ZWROb25jZSwgZXhwZWN0ZWRTdGF0ZSwgbWF4QWdlLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHZhbGlkYXRlSHlicmlkUmVzcG9uc2UoYXMsIGNsaWVudCwgcGFyYW1ldGVycywgZXhwZWN0ZWROb25jZSwgZXhwZWN0ZWRTdGF0ZSwgbWF4QWdlLCBvcHRpb25zLCBmYWxzZSk7XG59XG5hc3luYyBmdW5jdGlvbiBjb25zdW1lU3RyZWFtKHJlcXVlc3QpIHtcbiAgICBpZiAocmVxdWVzdC5ib2R5VXNlZCkge1xuICAgICAgICB0aHJvdyBDb2RlZFR5cGVFcnJvcignZm9ybV9wb3N0IFJlcXVlc3QgaW5zdGFuY2VzIG11c3QgY29udGFpbiBhIHJlYWRhYmxlIGJvZHknLCBFUlJfSU5WQUxJRF9BUkdfVkFMVUUsIHsgY2F1c2U6IHJlcXVlc3QgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXF1ZXN0LnRleHQoKTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmb3JtUG9zdFJlc3BvbnNlKHJlcXVlc3QpIHtcbiAgICBpZiAocmVxdWVzdC5tZXRob2QgIT09ICdQT1NUJykge1xuICAgICAgICB0aHJvdyBDb2RlZFR5cGVFcnJvcignZm9ybV9wb3N0IHJlc3BvbnNlcyBhcmUgZXhwZWN0ZWQgdG8gdXNlIHRoZSBQT1NUIG1ldGhvZCcsIEVSUl9JTlZBTElEX0FSR19WQUxVRSwgeyBjYXVzZTogcmVxdWVzdCB9KTtcbiAgICB9XG4gICAgaWYgKGdldENvbnRlbnRUeXBlKHJlcXVlc3QpICE9PSAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJykge1xuICAgICAgICB0aHJvdyBDb2RlZFR5cGVFcnJvcignZm9ybV9wb3N0IHJlc3BvbnNlcyBhcmUgZXhwZWN0ZWQgdG8gdXNlIHRoZSBhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQgY29udGVudC10eXBlJywgRVJSX0lOVkFMSURfQVJHX1ZBTFVFLCB7IGNhdXNlOiByZXF1ZXN0IH0pO1xuICAgIH1cbiAgICByZXR1cm4gY29uc3VtZVN0cmVhbShyZXF1ZXN0KTtcbn1cbmFzeW5jIGZ1bmN0aW9uIHZhbGlkYXRlSHlicmlkUmVzcG9uc2UoYXMsIGNsaWVudCwgcGFyYW1ldGVycywgZXhwZWN0ZWROb25jZSwgZXhwZWN0ZWRTdGF0ZSwgbWF4QWdlLCBvcHRpb25zLCBmYXBpKSB7XG4gICAgYXNzZXJ0QXMoYXMpO1xuICAgIGFzc2VydENsaWVudChjbGllbnQpO1xuICAgIGlmIChwYXJhbWV0ZXJzIGluc3RhbmNlb2YgVVJMKSB7XG4gICAgICAgIGlmICghcGFyYW1ldGVycy5oYXNoLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgQ29kZWRUeXBlRXJyb3IoJ1wicGFyYW1ldGVyc1wiIGFzIGFuIGluc3RhbmNlIG9mIFVSTCBtdXN0IGNvbnRhaW4gYSBoYXNoIChmcmFnbWVudCkgd2l0aCB0aGUgQXV0aG9yaXphdGlvbiBSZXNwb25zZSBwYXJhbWV0ZXJzJywgRVJSX0lOVkFMSURfQVJHX1ZBTFVFKTtcbiAgICAgICAgfVxuICAgICAgICBwYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhwYXJhbWV0ZXJzLmhhc2guc2xpY2UoMSkpO1xuICAgIH1cbiAgICBlbHNlIGlmIChsb29zZUluc3RhbmNlT2YocGFyYW1ldGVycywgUmVxdWVzdCkpIHtcbiAgICAgICAgcGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoYXdhaXQgZm9ybVBvc3RSZXNwb25zZShwYXJhbWV0ZXJzKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHBhcmFtZXRlcnMgaW5zdGFuY2VvZiBVUkxTZWFyY2hQYXJhbXMpIHtcbiAgICAgICAgcGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMocGFyYW1ldGVycyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBDb2RlZFR5cGVFcnJvcignXCJwYXJhbWV0ZXJzXCIgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiBVUkxTZWFyY2hQYXJhbXMsIFVSTCwgb3IgUmVzcG9uc2UnLCBFUlJfSU5WQUxJRF9BUkdfVFlQRSk7XG4gICAgfVxuICAgIGNvbnN0IGlkX3Rva2VuID0gZ2V0VVJMU2VhcmNoUGFyYW1ldGVyKHBhcmFtZXRlcnMsICdpZF90b2tlbicpO1xuICAgIHBhcmFtZXRlcnMuZGVsZXRlKCdpZF90b2tlbicpO1xuICAgIHN3aXRjaCAoZXhwZWN0ZWRTdGF0ZSkge1xuICAgICAgICBjYXNlIHVuZGVmaW5lZDpcbiAgICAgICAgY2FzZSBleHBlY3ROb1N0YXRlOlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBhc3NlcnRTdHJpbmcoZXhwZWN0ZWRTdGF0ZSwgJ1wiZXhwZWN0ZWRTdGF0ZVwiIGFyZ3VtZW50Jyk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IHZhbGlkYXRlQXV0aFJlc3BvbnNlKHtcbiAgICAgICAgLi4uYXMsXG4gICAgICAgIGF1dGhvcml6YXRpb25fcmVzcG9uc2VfaXNzX3BhcmFtZXRlcl9zdXBwb3J0ZWQ6IGZhbHNlLFxuICAgIH0sIGNsaWVudCwgcGFyYW1ldGVycywgZXhwZWN0ZWRTdGF0ZSk7XG4gICAgaWYgKCFpZF90b2tlbikge1xuICAgICAgICB0aHJvdyBPUEUoJ1wicGFyYW1ldGVyc1wiIGRvZXMgbm90IGNvbnRhaW4gYW4gSUQgVG9rZW4nLCBJTlZBTElEX1JFU1BPTlNFKTtcbiAgICB9XG4gICAgY29uc3QgY29kZSA9IGdldFVSTFNlYXJjaFBhcmFtZXRlcihwYXJhbWV0ZXJzLCAnY29kZScpO1xuICAgIGlmICghY29kZSkge1xuICAgICAgICB0aHJvdyBPUEUoJ1wicGFyYW1ldGVyc1wiIGRvZXMgbm90IGNvbnRhaW4gYW4gQXV0aG9yaXphdGlvbiBDb2RlJywgSU5WQUxJRF9SRVNQT05TRSk7XG4gICAgfVxuICAgIGNvbnN0IHJlcXVpcmVkQ2xhaW1zID0gW1xuICAgICAgICAnYXVkJyxcbiAgICAgICAgJ2V4cCcsXG4gICAgICAgICdpYXQnLFxuICAgICAgICAnaXNzJyxcbiAgICAgICAgJ3N1YicsXG4gICAgICAgICdub25jZScsXG4gICAgICAgICdjX2hhc2gnLFxuICAgIF07XG4gICAgY29uc3Qgc3RhdGUgPSBwYXJhbWV0ZXJzLmdldCgnc3RhdGUnKTtcbiAgICBpZiAoZmFwaSAmJiAodHlwZW9mIGV4cGVjdGVkU3RhdGUgPT09ICdzdHJpbmcnIHx8IHN0YXRlICE9PSBudWxsKSkge1xuICAgICAgICByZXF1aXJlZENsYWltcy5wdXNoKCdzX2hhc2gnKTtcbiAgICB9XG4gICAgaWYgKG1heEFnZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGFzc2VydE51bWJlcihtYXhBZ2UsIHRydWUsICdcIm1heEFnZVwiIGFyZ3VtZW50Jyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGNsaWVudC5kZWZhdWx0X21heF9hZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBhc3NlcnROdW1iZXIoY2xpZW50LmRlZmF1bHRfbWF4X2FnZSwgdHJ1ZSwgJ1wiY2xpZW50LmRlZmF1bHRfbWF4X2FnZVwiJyk7XG4gICAgfVxuICAgIG1heEFnZSA/Pz0gY2xpZW50LmRlZmF1bHRfbWF4X2FnZSA/PyBza2lwQXV0aFRpbWVDaGVjaztcbiAgICBpZiAoY2xpZW50LnJlcXVpcmVfYXV0aF90aW1lIHx8IG1heEFnZSAhPT0gc2tpcEF1dGhUaW1lQ2hlY2spIHtcbiAgICAgICAgcmVxdWlyZWRDbGFpbXMucHVzaCgnYXV0aF90aW1lJyk7XG4gICAgfVxuICAgIGNvbnN0IHsgY2xhaW1zLCBoZWFkZXIsIGp3dCB9ID0gYXdhaXQgdmFsaWRhdGVKd3QoaWRfdG9rZW4sIGNoZWNrU2lnbmluZ0FsZ29yaXRobS5iaW5kKHVuZGVmaW5lZCwgY2xpZW50LmlkX3Rva2VuX3NpZ25lZF9yZXNwb25zZV9hbGcsIGFzLmlkX3Rva2VuX3NpZ25pbmdfYWxnX3ZhbHVlc19zdXBwb3J0ZWQsICdSUzI1NicpLCBnZXRDbG9ja1NrZXcoY2xpZW50KSwgZ2V0Q2xvY2tUb2xlcmFuY2UoY2xpZW50KSwgb3B0aW9ucz8uW2p3ZURlY3J5cHRdKVxuICAgICAgICAudGhlbih2YWxpZGF0ZVByZXNlbmNlLmJpbmQodW5kZWZpbmVkLCByZXF1aXJlZENsYWltcykpXG4gICAgICAgIC50aGVuKHZhbGlkYXRlSXNzdWVyLmJpbmQodW5kZWZpbmVkLCBhcykpXG4gICAgICAgIC50aGVuKHZhbGlkYXRlQXVkaWVuY2UuYmluZCh1bmRlZmluZWQsIGNsaWVudC5jbGllbnRfaWQpKTtcbiAgICBjb25zdCBjbG9ja1NrZXcgPSBnZXRDbG9ja1NrZXcoY2xpZW50KTtcbiAgICBjb25zdCBub3cgPSBlcG9jaFRpbWUoKSArIGNsb2NrU2tldztcbiAgICBpZiAoY2xhaW1zLmlhdCA8IG5vdyAtIDM2MDApIHtcbiAgICAgICAgdGhyb3cgT1BFKCd1bmV4cGVjdGVkIEpXVCBcImlhdFwiIChpc3N1ZWQgYXQpIGNsYWltIHZhbHVlLCBpdCBpcyB0b28gZmFyIGluIHRoZSBwYXN0JywgSldUX1RJTUVTVEFNUF9DSEVDSywgeyBub3csIGNsYWltcywgY2xhaW06ICdpYXQnIH0pO1xuICAgIH1cbiAgICBhc3NlcnRTdHJpbmcoY2xhaW1zLmNfaGFzaCwgJ0lEIFRva2VuIFwiY19oYXNoXCIgKGNvZGUgaGFzaCkgY2xhaW0gdmFsdWUnLCBJTlZBTElEX1JFU1BPTlNFLCB7XG4gICAgICAgIGNsYWltcyxcbiAgICB9KTtcbiAgICBpZiAoY2xhaW1zLmF1dGhfdGltZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGFzc2VydE51bWJlcihjbGFpbXMuYXV0aF90aW1lLCB0cnVlLCAnSUQgVG9rZW4gXCJhdXRoX3RpbWVcIiAoYXV0aGVudGljYXRpb24gdGltZSknLCBJTlZBTElEX1JFU1BPTlNFLCB7IGNsYWltcyB9KTtcbiAgICB9XG4gICAgaWYgKG1heEFnZSAhPT0gc2tpcEF1dGhUaW1lQ2hlY2spIHtcbiAgICAgICAgY29uc3Qgbm93ID0gZXBvY2hUaW1lKCkgKyBnZXRDbG9ja1NrZXcoY2xpZW50KTtcbiAgICAgICAgY29uc3QgdG9sZXJhbmNlID0gZ2V0Q2xvY2tUb2xlcmFuY2UoY2xpZW50KTtcbiAgICAgICAgaWYgKGNsYWltcy5hdXRoX3RpbWUgKyBtYXhBZ2UgPCBub3cgLSB0b2xlcmFuY2UpIHtcbiAgICAgICAgICAgIHRocm93IE9QRSgndG9vIG11Y2ggdGltZSBoYXMgZWxhcHNlZCBzaW5jZSB0aGUgbGFzdCBFbmQtVXNlciBhdXRoZW50aWNhdGlvbicsIEpXVF9USU1FU1RBTVBfQ0hFQ0ssIHsgY2xhaW1zLCBub3csIHRvbGVyYW5jZSwgY2xhaW06ICdhdXRoX3RpbWUnIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzc2VydFN0cmluZyhleHBlY3RlZE5vbmNlLCAnXCJleHBlY3RlZE5vbmNlXCIgYXJndW1lbnQnKTtcbiAgICBpZiAoY2xhaW1zLm5vbmNlICE9PSBleHBlY3RlZE5vbmNlKSB7XG4gICAgICAgIHRocm93IE9QRSgndW5leHBlY3RlZCBJRCBUb2tlbiBcIm5vbmNlXCIgY2xhaW0gdmFsdWUnLCBKV1RfQ0xBSU1fQ09NUEFSSVNPTiwge1xuICAgICAgICAgICAgZXhwZWN0ZWQ6IGV4cGVjdGVkTm9uY2UsXG4gICAgICAgICAgICBjbGFpbXMsXG4gICAgICAgICAgICBjbGFpbTogJ25vbmNlJyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KGNsYWltcy5hdWQpICYmIGNsYWltcy5hdWQubGVuZ3RoICE9PSAxKSB7XG4gICAgICAgIGlmIChjbGFpbXMuYXpwID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IE9QRSgnSUQgVG9rZW4gXCJhdWRcIiAoYXVkaWVuY2UpIGNsYWltIGluY2x1ZGVzIGFkZGl0aW9uYWwgdW50cnVzdGVkIGF1ZGllbmNlcycsIEpXVF9DTEFJTV9DT01QQVJJU09OLCB7IGNsYWltcywgY2xhaW06ICdhdWQnIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjbGFpbXMuYXpwICE9PSBjbGllbnQuY2xpZW50X2lkKSB7XG4gICAgICAgICAgICB0aHJvdyBPUEUoJ3VuZXhwZWN0ZWQgSUQgVG9rZW4gXCJhenBcIiAoYXV0aG9yaXplZCBwYXJ0eSkgY2xhaW0gdmFsdWUnLCBKV1RfQ0xBSU1fQ09NUEFSSVNPTiwge1xuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBjbGllbnQuY2xpZW50X2lkLFxuICAgICAgICAgICAgICAgIGNsYWltcyxcbiAgICAgICAgICAgICAgICBjbGFpbTogJ2F6cCcsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB7IDA6IHByb3RlY3RlZEhlYWRlciwgMTogcGF5bG9hZCwgMjogZW5jb2RlZFNpZ25hdHVyZSB9ID0gand0LnNwbGl0KCcuJyk7XG4gICAgY29uc3Qgc2lnbmF0dXJlID0gYjY0dShlbmNvZGVkU2lnbmF0dXJlKTtcbiAgICBjb25zdCBrZXkgPSBhd2FpdCBnZXRQdWJsaWNTaWdLZXlGcm9tSXNzdWVySndrc1VyaShhcywgb3B0aW9ucywgaGVhZGVyKTtcbiAgICBhd2FpdCB2YWxpZGF0ZUp3c1NpZ25hdHVyZShwcm90ZWN0ZWRIZWFkZXIsIHBheWxvYWQsIGtleSwgc2lnbmF0dXJlKTtcbiAgICBpZiAoKGF3YWl0IGlkVG9rZW5IYXNoTWF0Y2hlcyhjb2RlLCBjbGFpbXMuY19oYXNoLCBoZWFkZXIsICdjX2hhc2gnKSkgIT09IHRydWUpIHtcbiAgICAgICAgdGhyb3cgT1BFKCdpbnZhbGlkIElEIFRva2VuIFwiY19oYXNoXCIgKGNvZGUgaGFzaCkgY2xhaW0gdmFsdWUnLCBKV1RfQ0xBSU1fQ09NUEFSSVNPTiwge1xuICAgICAgICAgICAgY29kZSxcbiAgICAgICAgICAgIGFsZzogaGVhZGVyLmFsZyxcbiAgICAgICAgICAgIGNsYWltOiAnY19oYXNoJyxcbiAgICAgICAgICAgIGNsYWltcyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmICgoZmFwaSAmJiBzdGF0ZSAhPT0gbnVsbCkgfHwgY2xhaW1zLnNfaGFzaCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGFzc2VydFN0cmluZyhjbGFpbXMuc19oYXNoLCAnSUQgVG9rZW4gXCJzX2hhc2hcIiAoc3RhdGUgaGFzaCkgY2xhaW0gdmFsdWUnLCBJTlZBTElEX1JFU1BPTlNFLCB7XG4gICAgICAgICAgICBjbGFpbXMsXG4gICAgICAgIH0pO1xuICAgICAgICBhc3NlcnRTdHJpbmcoc3RhdGUsICdcInN0YXRlXCIgcmVzcG9uc2UgcGFyYW1ldGVyJywgSU5WQUxJRF9SRVNQT05TRSwgeyBwYXJhbWV0ZXJzIH0pO1xuICAgICAgICBpZiAoKGF3YWl0IGlkVG9rZW5IYXNoTWF0Y2hlcyhzdGF0ZSwgY2xhaW1zLnNfaGFzaCwgaGVhZGVyLCAnc19oYXNoJykpICE9PSB0cnVlKSB7XG4gICAgICAgICAgICB0aHJvdyBPUEUoJ2ludmFsaWQgSUQgVG9rZW4gXCJzX2hhc2hcIiAoc3RhdGUgaGFzaCkgY2xhaW0gdmFsdWUnLCBKV1RfQ0xBSU1fQ09NUEFSSVNPTiwge1xuICAgICAgICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgICAgICAgIGFsZzogaGVhZGVyLmFsZyxcbiAgICAgICAgICAgICAgICBjbGFpbTogJ3NfaGFzaCcsXG4gICAgICAgICAgICAgICAgY2xhaW1zLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGNoZWNrU2lnbmluZ0FsZ29yaXRobShjbGllbnQsIGlzc3VlciwgZmFsbGJhY2ssIGhlYWRlcikge1xuICAgIGlmIChjbGllbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAodHlwZW9mIGNsaWVudCA9PT0gJ3N0cmluZycgPyBoZWFkZXIuYWxnICE9PSBjbGllbnQgOiAhY2xpZW50LmluY2x1ZGVzKGhlYWRlci5hbGcpKSB7XG4gICAgICAgICAgICB0aHJvdyBPUEUoJ3VuZXhwZWN0ZWQgSldUIFwiYWxnXCIgaGVhZGVyIHBhcmFtZXRlcicsIElOVkFMSURfUkVTUE9OU0UsIHtcbiAgICAgICAgICAgICAgICBoZWFkZXIsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IGNsaWVudCxcbiAgICAgICAgICAgICAgICByZWFzb246ICdjbGllbnQgY29uZmlndXJhdGlvbicsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KGlzc3VlcikpIHtcbiAgICAgICAgaWYgKCFpc3N1ZXIuaW5jbHVkZXMoaGVhZGVyLmFsZykpIHtcbiAgICAgICAgICAgIHRocm93IE9QRSgndW5leHBlY3RlZCBKV1QgXCJhbGdcIiBoZWFkZXIgcGFyYW1ldGVyJywgSU5WQUxJRF9SRVNQT05TRSwge1xuICAgICAgICAgICAgICAgIGhlYWRlcixcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogaXNzdWVyLFxuICAgICAgICAgICAgICAgIHJlYXNvbjogJ2F1dGhvcml6YXRpb24gc2VydmVyIG1ldGFkYXRhJyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGZhbGxiYWNrICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBmYWxsYmFjayA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgID8gaGVhZGVyLmFsZyAhPT0gZmFsbGJhY2tcbiAgICAgICAgICAgIDogdHlwZW9mIGZhbGxiYWNrID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICAgICAgPyAhZmFsbGJhY2soaGVhZGVyLmFsZylcbiAgICAgICAgICAgICAgICA6ICFmYWxsYmFjay5pbmNsdWRlcyhoZWFkZXIuYWxnKSkge1xuICAgICAgICAgICAgdGhyb3cgT1BFKCd1bmV4cGVjdGVkIEpXVCBcImFsZ1wiIGhlYWRlciBwYXJhbWV0ZXInLCBJTlZBTElEX1JFU1BPTlNFLCB7XG4gICAgICAgICAgICAgICAgaGVhZGVyLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBmYWxsYmFjayxcbiAgICAgICAgICAgICAgICByZWFzb246ICdkZWZhdWx0IHZhbHVlJyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhyb3cgT1BFKCdtaXNzaW5nIGNsaWVudCBvciBzZXJ2ZXIgY29uZmlndXJhdGlvbiB0byB2ZXJpZnkgdXNlZCBKV1QgXCJhbGdcIiBoZWFkZXIgcGFyYW1ldGVyJywgdW5kZWZpbmVkLCB7IGNsaWVudCwgaXNzdWVyLCBmYWxsYmFjayB9KTtcbn1cbmZ1bmN0aW9uIGdldFVSTFNlYXJjaFBhcmFtZXRlcihwYXJhbWV0ZXJzLCBuYW1lKSB7XG4gICAgY29uc3QgeyAwOiB2YWx1ZSwgbGVuZ3RoIH0gPSBwYXJhbWV0ZXJzLmdldEFsbChuYW1lKTtcbiAgICBpZiAobGVuZ3RoID4gMSkge1xuICAgICAgICB0aHJvdyBPUEUoYFwiJHtuYW1lfVwiIHBhcmFtZXRlciBtdXN0IGJlIHByb3ZpZGVkIG9ubHkgb25jZWAsIElOVkFMSURfUkVTUE9OU0UpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG5leHBvcnQgY29uc3Qgc2tpcFN0YXRlQ2hlY2sgPSBTeW1ib2woKTtcbmV4cG9ydCBjb25zdCBleHBlY3ROb1N0YXRlID0gU3ltYm9sKCk7XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVBdXRoUmVzcG9uc2UoYXMsIGNsaWVudCwgcGFyYW1ldGVycywgZXhwZWN0ZWRTdGF0ZSkge1xuICAgIGFzc2VydEFzKGFzKTtcbiAgICBhc3NlcnRDbGllbnQoY2xpZW50KTtcbiAgICBpZiAocGFyYW1ldGVycyBpbnN0YW5jZW9mIFVSTCkge1xuICAgICAgICBwYXJhbWV0ZXJzID0gcGFyYW1ldGVycy5zZWFyY2hQYXJhbXM7XG4gICAgfVxuICAgIGlmICghKHBhcmFtZXRlcnMgaW5zdGFuY2VvZiBVUkxTZWFyY2hQYXJhbXMpKSB7XG4gICAgICAgIHRocm93IENvZGVkVHlwZUVycm9yKCdcInBhcmFtZXRlcnNcIiBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIFVSTFNlYXJjaFBhcmFtcywgb3IgVVJMJywgRVJSX0lOVkFMSURfQVJHX1RZUEUpO1xuICAgIH1cbiAgICBpZiAoZ2V0VVJMU2VhcmNoUGFyYW1ldGVyKHBhcmFtZXRlcnMsICdyZXNwb25zZScpKSB7XG4gICAgICAgIHRocm93IE9QRSgnXCJwYXJhbWV0ZXJzXCIgY29udGFpbnMgYSBKQVJNIHJlc3BvbnNlLCB1c2UgdmFsaWRhdGVKd3RBdXRoUmVzcG9uc2UoKSBpbnN0ZWFkIG9mIHZhbGlkYXRlQXV0aFJlc3BvbnNlKCknLCBJTlZBTElEX1JFU1BPTlNFLCB7IHBhcmFtZXRlcnMgfSk7XG4gICAgfVxuICAgIGNvbnN0IGlzcyA9IGdldFVSTFNlYXJjaFBhcmFtZXRlcihwYXJhbWV0ZXJzLCAnaXNzJyk7XG4gICAgY29uc3Qgc3RhdGUgPSBnZXRVUkxTZWFyY2hQYXJhbWV0ZXIocGFyYW1ldGVycywgJ3N0YXRlJyk7XG4gICAgaWYgKCFpc3MgJiYgYXMuYXV0aG9yaXphdGlvbl9yZXNwb25zZV9pc3NfcGFyYW1ldGVyX3N1cHBvcnRlZCkge1xuICAgICAgICB0aHJvdyBPUEUoJ3Jlc3BvbnNlIHBhcmFtZXRlciBcImlzc1wiIChpc3N1ZXIpIG1pc3NpbmcnLCBJTlZBTElEX1JFU1BPTlNFLCB7IHBhcmFtZXRlcnMgfSk7XG4gICAgfVxuICAgIGlmIChpc3MgJiYgaXNzICE9PSBhcy5pc3N1ZXIpIHtcbiAgICAgICAgdGhyb3cgT1BFKCd1bmV4cGVjdGVkIFwiaXNzXCIgKGlzc3VlcikgcmVzcG9uc2UgcGFyYW1ldGVyIHZhbHVlJywgSU5WQUxJRF9SRVNQT05TRSwge1xuICAgICAgICAgICAgZXhwZWN0ZWQ6IGFzLmlzc3VlcixcbiAgICAgICAgICAgIHBhcmFtZXRlcnMsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzd2l0Y2ggKGV4cGVjdGVkU3RhdGUpIHtcbiAgICAgICAgY2FzZSB1bmRlZmluZWQ6XG4gICAgICAgIGNhc2UgZXhwZWN0Tm9TdGF0ZTpcbiAgICAgICAgICAgIGlmIChzdGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgT1BFKCd1bmV4cGVjdGVkIFwic3RhdGVcIiByZXNwb25zZSBwYXJhbWV0ZXIgZW5jb3VudGVyZWQnLCBJTlZBTElEX1JFU1BPTlNFLCB7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlcnMsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBza2lwU3RhdGVDaGVjazpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgYXNzZXJ0U3RyaW5nKGV4cGVjdGVkU3RhdGUsICdcImV4cGVjdGVkU3RhdGVcIiBhcmd1bWVudCcpO1xuICAgICAgICAgICAgaWYgKHN0YXRlICE9PSBleHBlY3RlZFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgT1BFKHN0YXRlID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgPyAncmVzcG9uc2UgcGFyYW1ldGVyIFwic3RhdGVcIiBtaXNzaW5nJ1xuICAgICAgICAgICAgICAgICAgICA6ICd1bmV4cGVjdGVkIFwic3RhdGVcIiByZXNwb25zZSBwYXJhbWV0ZXIgdmFsdWUnLCBJTlZBTElEX1JFU1BPTlNFLCB7IGV4cGVjdGVkOiBleHBlY3RlZFN0YXRlLCBwYXJhbWV0ZXJzIH0pO1xuICAgICAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBlcnJvciA9IGdldFVSTFNlYXJjaFBhcmFtZXRlcihwYXJhbWV0ZXJzLCAnZXJyb3InKTtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEF1dGhvcml6YXRpb25SZXNwb25zZUVycm9yKCdhdXRob3JpemF0aW9uIHJlc3BvbnNlIGZyb20gdGhlIHNlcnZlciBpcyBhbiBlcnJvcicsIHtcbiAgICAgICAgICAgIGNhdXNlOiBwYXJhbWV0ZXJzLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgaWRfdG9rZW4gPSBnZXRVUkxTZWFyY2hQYXJhbWV0ZXIocGFyYW1ldGVycywgJ2lkX3Rva2VuJyk7XG4gICAgY29uc3QgdG9rZW4gPSBnZXRVUkxTZWFyY2hQYXJhbWV0ZXIocGFyYW1ldGVycywgJ3Rva2VuJyk7XG4gICAgaWYgKGlkX3Rva2VuICE9PSB1bmRlZmluZWQgfHwgdG9rZW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FcnJvcignaW1wbGljaXQgYW5kIGh5YnJpZCBmbG93cyBhcmUgbm90IHN1cHBvcnRlZCcpO1xuICAgIH1cbiAgICByZXR1cm4gYnJhbmQobmV3IFVSTFNlYXJjaFBhcmFtcyhwYXJhbWV0ZXJzKSk7XG59XG5mdW5jdGlvbiBhbGdUb1N1YnRsZShhbGcpIHtcbiAgICBzd2l0Y2ggKGFsZykge1xuICAgICAgICBjYXNlICdQUzI1Nic6XG4gICAgICAgIGNhc2UgJ1BTMzg0JzpcbiAgICAgICAgY2FzZSAnUFM1MTInOlxuICAgICAgICAgICAgcmV0dXJuIHsgbmFtZTogJ1JTQS1QU1MnLCBoYXNoOiBgU0hBLSR7YWxnLnNsaWNlKC0zKX1gIH07XG4gICAgICAgIGNhc2UgJ1JTMjU2JzpcbiAgICAgICAgY2FzZSAnUlMzODQnOlxuICAgICAgICBjYXNlICdSUzUxMic6XG4gICAgICAgICAgICByZXR1cm4geyBuYW1lOiAnUlNBU1NBLVBLQ1MxLXYxXzUnLCBoYXNoOiBgU0hBLSR7YWxnLnNsaWNlKC0zKX1gIH07XG4gICAgICAgIGNhc2UgJ0VTMjU2JzpcbiAgICAgICAgY2FzZSAnRVMzODQnOlxuICAgICAgICAgICAgcmV0dXJuIHsgbmFtZTogJ0VDRFNBJywgbmFtZWRDdXJ2ZTogYFAtJHthbGcuc2xpY2UoLTMpfWAgfTtcbiAgICAgICAgY2FzZSAnRVM1MTInOlxuICAgICAgICAgICAgcmV0dXJuIHsgbmFtZTogJ0VDRFNBJywgbmFtZWRDdXJ2ZTogJ1AtNTIxJyB9O1xuICAgICAgICBjYXNlICdFZERTQSc6XG4gICAgICAgICAgICByZXR1cm4gJ0VkMjU1MTknO1xuICAgICAgICBjYXNlICdFZDI1NTE5JzpcbiAgICAgICAgY2FzZSAnTUwtRFNBLTQ0JzpcbiAgICAgICAgY2FzZSAnTUwtRFNBLTY1JzpcbiAgICAgICAgY2FzZSAnTUwtRFNBLTg3JzpcbiAgICAgICAgICAgIHJldHVybiBhbGc7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FcnJvcigndW5zdXBwb3J0ZWQgSldTIGFsZ29yaXRobScsIHsgY2F1c2U6IHsgYWxnIH0gfSk7XG4gICAgfVxufVxuYXN5bmMgZnVuY3Rpb24gaW1wb3J0SndrKGFsZywgandrKSB7XG4gICAgY29uc3QgeyBleHQsIGtleV9vcHMsIHVzZSwgLi4ua2V5IH0gPSBqd2s7XG4gICAgcmV0dXJuIGNyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KCdqd2snLCBrZXksIGFsZ1RvU3VidGxlKGFsZyksIHRydWUsIFsndmVyaWZ5J10pO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRldmljZUF1dGhvcml6YXRpb25SZXF1ZXN0KGFzLCBjbGllbnQsIGNsaWVudEF1dGhlbnRpY2F0aW9uLCBwYXJhbWV0ZXJzLCBvcHRpb25zKSB7XG4gICAgYXNzZXJ0QXMoYXMpO1xuICAgIGFzc2VydENsaWVudChjbGllbnQpO1xuICAgIGNvbnN0IHVybCA9IHJlc29sdmVFbmRwb2ludChhcywgJ2RldmljZV9hdXRob3JpemF0aW9uX2VuZHBvaW50JywgY2xpZW50LnVzZV9tdGxzX2VuZHBvaW50X2FsaWFzZXMsIG9wdGlvbnM/LlthbGxvd0luc2VjdXJlUmVxdWVzdHNdICE9PSB0cnVlKTtcbiAgICBjb25zdCBib2R5ID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhwYXJhbWV0ZXJzKTtcbiAgICBib2R5LnNldCgnY2xpZW50X2lkJywgY2xpZW50LmNsaWVudF9pZCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHByZXBhcmVIZWFkZXJzKG9wdGlvbnM/LmhlYWRlcnMpO1xuICAgIGhlYWRlcnMuc2V0KCdhY2NlcHQnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgIHJldHVybiBhdXRoZW50aWNhdGVkUmVxdWVzdChhcywgY2xpZW50LCBjbGllbnRBdXRoZW50aWNhdGlvbiwgdXJsLCBib2R5LCBoZWFkZXJzLCBvcHRpb25zKTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwcm9jZXNzRGV2aWNlQXV0aG9yaXphdGlvblJlc3BvbnNlKGFzLCBjbGllbnQsIHJlc3BvbnNlKSB7XG4gICAgYXNzZXJ0QXMoYXMpO1xuICAgIGFzc2VydENsaWVudChjbGllbnQpO1xuICAgIGlmICghbG9vc2VJbnN0YW5jZU9mKHJlc3BvbnNlLCBSZXNwb25zZSkpIHtcbiAgICAgICAgdGhyb3cgQ29kZWRUeXBlRXJyb3IoJ1wicmVzcG9uc2VcIiBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIFJlc3BvbnNlJywgRVJSX0lOVkFMSURfQVJHX1RZUEUpO1xuICAgIH1cbiAgICBhd2FpdCBjaGVja09BdXRoQm9keUVycm9yKHJlc3BvbnNlLCAyMDAsICdEZXZpY2UgQXV0aG9yaXphdGlvbiBFbmRwb2ludCcpO1xuICAgIGFzc2VydFJlYWRhYmxlUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgIGNvbnN0IGpzb24gPSBhd2FpdCBnZXRSZXNwb25zZUpzb25Cb2R5KHJlc3BvbnNlKTtcbiAgICBhc3NlcnRTdHJpbmcoanNvbi5kZXZpY2VfY29kZSwgJ1wicmVzcG9uc2VcIiBib2R5IFwiZGV2aWNlX2NvZGVcIiBwcm9wZXJ0eScsIElOVkFMSURfUkVTUE9OU0UsIHtcbiAgICAgICAgYm9keToganNvbixcbiAgICB9KTtcbiAgICBhc3NlcnRTdHJpbmcoanNvbi51c2VyX2NvZGUsICdcInJlc3BvbnNlXCIgYm9keSBcInVzZXJfY29kZVwiIHByb3BlcnR5JywgSU5WQUxJRF9SRVNQT05TRSwge1xuICAgICAgICBib2R5OiBqc29uLFxuICAgIH0pO1xuICAgIGFzc2VydFN0cmluZyhqc29uLnZlcmlmaWNhdGlvbl91cmksICdcInJlc3BvbnNlXCIgYm9keSBcInZlcmlmaWNhdGlvbl91cmlcIiBwcm9wZXJ0eScsIElOVkFMSURfUkVTUE9OU0UsIHsgYm9keToganNvbiB9KTtcbiAgICBsZXQgZXhwaXJlc0luID0gdHlwZW9mIGpzb24uZXhwaXJlc19pbiAhPT0gJ251bWJlcicgPyBwYXJzZUZsb2F0KGpzb24uZXhwaXJlc19pbikgOiBqc29uLmV4cGlyZXNfaW47XG4gICAgYXNzZXJ0TnVtYmVyKGV4cGlyZXNJbiwgdHJ1ZSwgJ1wicmVzcG9uc2VcIiBib2R5IFwiZXhwaXJlc19pblwiIHByb3BlcnR5JywgSU5WQUxJRF9SRVNQT05TRSwge1xuICAgICAgICBib2R5OiBqc29uLFxuICAgIH0pO1xuICAgIGpzb24uZXhwaXJlc19pbiA9IGV4cGlyZXNJbjtcbiAgICBpZiAoanNvbi52ZXJpZmljYXRpb25fdXJpX2NvbXBsZXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgYXNzZXJ0U3RyaW5nKGpzb24udmVyaWZpY2F0aW9uX3VyaV9jb21wbGV0ZSwgJ1wicmVzcG9uc2VcIiBib2R5IFwidmVyaWZpY2F0aW9uX3VyaV9jb21wbGV0ZVwiIHByb3BlcnR5JywgSU5WQUxJRF9SRVNQT05TRSwgeyBib2R5OiBqc29uIH0pO1xuICAgIH1cbiAgICBpZiAoanNvbi5pbnRlcnZhbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGFzc2VydE51bWJlcihqc29uLmludGVydmFsLCBmYWxzZSwgJ1wicmVzcG9uc2VcIiBib2R5IFwiaW50ZXJ2YWxcIiBwcm9wZXJ0eScsIElOVkFMSURfUkVTUE9OU0UsIHtcbiAgICAgICAgICAgIGJvZHk6IGpzb24sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4ganNvbjtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZXZpY2VDb2RlR3JhbnRSZXF1ZXN0KGFzLCBjbGllbnQsIGNsaWVudEF1dGhlbnRpY2F0aW9uLCBkZXZpY2VDb2RlLCBvcHRpb25zKSB7XG4gICAgYXNzZXJ0QXMoYXMpO1xuICAgIGFzc2VydENsaWVudChjbGllbnQpO1xuICAgIGFzc2VydFN0cmluZyhkZXZpY2VDb2RlLCAnXCJkZXZpY2VDb2RlXCInKTtcbiAgICBjb25zdCBwYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhvcHRpb25zPy5hZGRpdGlvbmFsUGFyYW1ldGVycyk7XG4gICAgcGFyYW1ldGVycy5zZXQoJ2RldmljZV9jb2RlJywgZGV2aWNlQ29kZSk7XG4gICAgcmV0dXJuIHRva2VuRW5kcG9pbnRSZXF1ZXN0KGFzLCBjbGllbnQsIGNsaWVudEF1dGhlbnRpY2F0aW9uLCAndXJuOmlldGY6cGFyYW1zOm9hdXRoOmdyYW50LXR5cGU6ZGV2aWNlX2NvZGUnLCBwYXJhbWV0ZXJzLCBvcHRpb25zKTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwcm9jZXNzRGV2aWNlQ29kZVJlc3BvbnNlKGFzLCBjbGllbnQsIHJlc3BvbnNlLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHByb2Nlc3NHZW5lcmljQWNjZXNzVG9rZW5SZXNwb25zZShhcywgY2xpZW50LCByZXNwb25zZSwgdW5kZWZpbmVkLCBvcHRpb25zPy5bandlRGVjcnlwdF0sIG9wdGlvbnM/LnJlY29nbml6ZWRUb2tlblR5cGVzKTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZUtleVBhaXIoYWxnLCBvcHRpb25zKSB7XG4gICAgYXNzZXJ0U3RyaW5nKGFsZywgJ1wiYWxnXCInKTtcbiAgICBjb25zdCBhbGdvcml0aG0gPSBhbGdUb1N1YnRsZShhbGcpO1xuICAgIGlmIChhbGcuc3RhcnRzV2l0aCgnUFMnKSB8fCBhbGcuc3RhcnRzV2l0aCgnUlMnKSkge1xuICAgICAgICBPYmplY3QuYXNzaWduKGFsZ29yaXRobSwge1xuICAgICAgICAgICAgbW9kdWx1c0xlbmd0aDogb3B0aW9ucz8ubW9kdWx1c0xlbmd0aCA/PyAyMDQ4LFxuICAgICAgICAgICAgcHVibGljRXhwb25lbnQ6IG5ldyBVaW50OEFycmF5KFsweDAxLCAweDAwLCAweDAxXSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gY3J5cHRvLnN1YnRsZS5nZW5lcmF0ZUtleShhbGdvcml0aG0sIG9wdGlvbnM/LmV4dHJhY3RhYmxlID8/IGZhbHNlLCBbXG4gICAgICAgICdzaWduJyxcbiAgICAgICAgJ3ZlcmlmeScsXG4gICAgXSk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVIdHUoaHR1KSB7XG4gICAgY29uc3QgdXJsID0gbmV3IFVSTChodHUpO1xuICAgIHVybC5zZWFyY2ggPSAnJztcbiAgICB1cmwuaGFzaCA9ICcnO1xuICAgIHJldHVybiB1cmwuaHJlZjtcbn1cbmFzeW5jIGZ1bmN0aW9uIHZhbGlkYXRlRFBvUChyZXF1ZXN0LCBhY2Nlc3NUb2tlbiwgYWNjZXNzVG9rZW5DbGFpbXMsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBoZWFkZXJWYWx1ZSA9IHJlcXVlc3QuaGVhZGVycy5nZXQoJ2Rwb3AnKTtcbiAgICBpZiAoaGVhZGVyVmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgT1BFKCdvcGVyYXRpb24gaW5kaWNhdGVkIERQb1AgdXNlIGJ1dCB0aGUgcmVxdWVzdCBoYXMgbm8gRFBvUCBIVFRQIEhlYWRlcicsIElOVkFMSURfUkVRVUVTVCwgeyBoZWFkZXJzOiByZXF1ZXN0LmhlYWRlcnMgfSk7XG4gICAgfVxuICAgIGlmIChyZXF1ZXN0LmhlYWRlcnMuZ2V0KCdhdXRob3JpemF0aW9uJyk/LnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aCgnZHBvcCAnKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgdGhyb3cgT1BFKGBvcGVyYXRpb24gaW5kaWNhdGVkIERQb1AgdXNlIGJ1dCB0aGUgcmVxdWVzdCdzIEF1dGhvcml6YXRpb24gSFRUUCBIZWFkZXIgc2NoZW1lIGlzIG5vdCBEUG9QYCwgSU5WQUxJRF9SRVFVRVNULCB7IGhlYWRlcnM6IHJlcXVlc3QuaGVhZGVycyB9KTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBhY2Nlc3NUb2tlbkNsYWltcy5jbmY/LmprdCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhyb3cgT1BFKCdvcGVyYXRpb24gaW5kaWNhdGVkIERQb1AgdXNlIGJ1dCB0aGUgSldUIEFjY2VzcyBUb2tlbiBoYXMgbm8gamt0IGNvbmZpcm1hdGlvbiBjbGFpbScsIElOVkFMSURfUkVRVUVTVCwgeyBjbGFpbXM6IGFjY2Vzc1Rva2VuQ2xhaW1zIH0pO1xuICAgIH1cbiAgICBjb25zdCBjbG9ja1NrZXcgPSBnZXRDbG9ja1NrZXcob3B0aW9ucyk7XG4gICAgY29uc3QgcHJvb2YgPSBhd2FpdCB2YWxpZGF0ZUp3dChoZWFkZXJWYWx1ZSwgY2hlY2tTaWduaW5nQWxnb3JpdGhtLmJpbmQodW5kZWZpbmVkLCBvcHRpb25zPy5zaWduaW5nQWxnb3JpdGhtcywgdW5kZWZpbmVkLCBzdXBwb3J0ZWQpLCBjbG9ja1NrZXcsIGdldENsb2NrVG9sZXJhbmNlKG9wdGlvbnMpLCB1bmRlZmluZWQpXG4gICAgICAgIC50aGVuKGNoZWNrSnd0VHlwZS5iaW5kKHVuZGVmaW5lZCwgJ2Rwb3Arand0JykpXG4gICAgICAgIC50aGVuKHZhbGlkYXRlUHJlc2VuY2UuYmluZCh1bmRlZmluZWQsIFsnaWF0JywgJ2p0aScsICdhdGgnLCAnaHRtJywgJ2h0dSddKSk7XG4gICAgY29uc3Qgbm93ID0gZXBvY2hUaW1lKCkgKyBjbG9ja1NrZXc7XG4gICAgY29uc3QgZGlmZiA9IE1hdGguYWJzKG5vdyAtIHByb29mLmNsYWltcy5pYXQpO1xuICAgIGlmIChkaWZmID4gMzAwKSB7XG4gICAgICAgIHRocm93IE9QRSgnRFBvUCBQcm9vZiBpYXQgaXMgbm90IHJlY2VudCBlbm91Z2gnLCBKV1RfVElNRVNUQU1QX0NIRUNLLCB7XG4gICAgICAgICAgICBub3csXG4gICAgICAgICAgICBjbGFpbXM6IHByb29mLmNsYWltcyxcbiAgICAgICAgICAgIGNsYWltOiAnaWF0JyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChwcm9vZi5jbGFpbXMuaHRtICE9PSByZXF1ZXN0Lm1ldGhvZCkge1xuICAgICAgICB0aHJvdyBPUEUoJ0RQb1AgUHJvb2YgaHRtIG1pc21hdGNoJywgSldUX0NMQUlNX0NPTVBBUklTT04sIHtcbiAgICAgICAgICAgIGV4cGVjdGVkOiByZXF1ZXN0Lm1ldGhvZCxcbiAgICAgICAgICAgIGNsYWltczogcHJvb2YuY2xhaW1zLFxuICAgICAgICAgICAgY2xhaW06ICdodG0nLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBwcm9vZi5jbGFpbXMuaHR1ICE9PSAnc3RyaW5nJyB8fFxuICAgICAgICBub3JtYWxpemVIdHUocHJvb2YuY2xhaW1zLmh0dSkgIT09IG5vcm1hbGl6ZUh0dShyZXF1ZXN0LnVybCkpIHtcbiAgICAgICAgdGhyb3cgT1BFKCdEUG9QIFByb29mIGh0dSBtaXNtYXRjaCcsIEpXVF9DTEFJTV9DT01QQVJJU09OLCB7XG4gICAgICAgICAgICBleHBlY3RlZDogbm9ybWFsaXplSHR1KHJlcXVlc3QudXJsKSxcbiAgICAgICAgICAgIGNsYWltczogcHJvb2YuY2xhaW1zLFxuICAgICAgICAgICAgY2xhaW06ICdodHUnLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAge1xuICAgICAgICBjb25zdCBleHBlY3RlZCA9IGI2NHUoYXdhaXQgY3J5cHRvLnN1YnRsZS5kaWdlc3QoJ1NIQS0yNTYnLCBidWYoYWNjZXNzVG9rZW4pKSk7XG4gICAgICAgIGlmIChwcm9vZi5jbGFpbXMuYXRoICE9PSBleHBlY3RlZCkge1xuICAgICAgICAgICAgdGhyb3cgT1BFKCdEUG9QIFByb29mIGF0aCBtaXNtYXRjaCcsIEpXVF9DTEFJTV9DT01QQVJJU09OLCB7XG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQsXG4gICAgICAgICAgICAgICAgY2xhaW1zOiBwcm9vZi5jbGFpbXMsXG4gICAgICAgICAgICAgICAgY2xhaW06ICdhdGgnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAge1xuICAgICAgICBjb25zdCBleHBlY3RlZCA9IGF3YWl0IGNhbGN1bGF0ZUp3a1RodW1icHJpbnQocHJvb2YuaGVhZGVyLmp3ayk7XG4gICAgICAgIGlmIChhY2Nlc3NUb2tlbkNsYWltcy5jbmYuamt0ICE9PSBleHBlY3RlZCkge1xuICAgICAgICAgICAgdGhyb3cgT1BFKCdKV1QgQWNjZXNzIFRva2VuIGNvbmZpcm1hdGlvbiBtaXNtYXRjaCcsIEpXVF9DTEFJTV9DT01QQVJJU09OLCB7XG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQsXG4gICAgICAgICAgICAgICAgY2xhaW1zOiBhY2Nlc3NUb2tlbkNsYWltcyxcbiAgICAgICAgICAgICAgICBjbGFpbTogJ2NuZi5qa3QnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgeyAwOiBwcm90ZWN0ZWRIZWFkZXIsIDE6IHBheWxvYWQsIDI6IGVuY29kZWRTaWduYXR1cmUgfSA9IGhlYWRlclZhbHVlLnNwbGl0KCcuJyk7XG4gICAgY29uc3Qgc2lnbmF0dXJlID0gYjY0dShlbmNvZGVkU2lnbmF0dXJlKTtcbiAgICBjb25zdCB7IGp3aywgYWxnIH0gPSBwcm9vZi5oZWFkZXI7XG4gICAgaWYgKCFqd2spIHtcbiAgICAgICAgdGhyb3cgT1BFKCdEUG9QIFByb29mIGlzIG1pc3NpbmcgdGhlIGp3ayBoZWFkZXIgcGFyYW1ldGVyJywgSU5WQUxJRF9SRVFVRVNULCB7XG4gICAgICAgICAgICBoZWFkZXI6IHByb29mLmhlYWRlcixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IGtleSA9IGF3YWl0IGltcG9ydEp3ayhhbGcsIGp3ayk7XG4gICAgaWYgKGtleS50eXBlICE9PSAncHVibGljJykge1xuICAgICAgICB0aHJvdyBPUEUoJ0RQb1AgUHJvb2YgandrIGhlYWRlciBwYXJhbWV0ZXIgbXVzdCBjb250YWluIGEgcHVibGljIGtleScsIElOVkFMSURfUkVRVUVTVCwge1xuICAgICAgICAgICAgaGVhZGVyOiBwcm9vZi5oZWFkZXIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhd2FpdCB2YWxpZGF0ZUp3c1NpZ25hdHVyZShwcm90ZWN0ZWRIZWFkZXIsIHBheWxvYWQsIGtleSwgc2lnbmF0dXJlKTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB2YWxpZGF0ZUp3dEFjY2Vzc1Rva2VuKGFzLCByZXF1ZXN0LCBleHBlY3RlZEF1ZGllbmNlLCBvcHRpb25zKSB7XG4gICAgYXNzZXJ0QXMoYXMpO1xuICAgIGlmICghbG9vc2VJbnN0YW5jZU9mKHJlcXVlc3QsIFJlcXVlc3QpKSB7XG4gICAgICAgIHRocm93IENvZGVkVHlwZUVycm9yKCdcInJlcXVlc3RcIiBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIFJlcXVlc3QnLCBFUlJfSU5WQUxJRF9BUkdfVFlQRSk7XG4gICAgfVxuICAgIGFzc2VydFN0cmluZyhleHBlY3RlZEF1ZGllbmNlLCAnXCJleHBlY3RlZEF1ZGllbmNlXCInKTtcbiAgICBjb25zdCBhdXRob3JpemF0aW9uID0gcmVxdWVzdC5oZWFkZXJzLmdldCgnYXV0aG9yaXphdGlvbicpO1xuICAgIGlmIChhdXRob3JpemF0aW9uID09PSBudWxsKSB7XG4gICAgICAgIHRocm93IE9QRSgnXCJyZXF1ZXN0XCIgaXMgbWlzc2luZyBhbiBBdXRob3JpemF0aW9uIEhUVFAgSGVhZGVyJywgSU5WQUxJRF9SRVFVRVNULCB7XG4gICAgICAgICAgICBoZWFkZXJzOiByZXF1ZXN0LmhlYWRlcnMsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsZXQgeyAwOiBzY2hlbWUsIDE6IGFjY2Vzc1Rva2VuLCBsZW5ndGggfSA9IGF1dGhvcml6YXRpb24uc3BsaXQoJyAnKTtcbiAgICBzY2hlbWUgPSBzY2hlbWUudG9Mb3dlckNhc2UoKTtcbiAgICBzd2l0Y2ggKHNjaGVtZSkge1xuICAgICAgICBjYXNlICdkcG9wJzpcbiAgICAgICAgY2FzZSAnYmVhcmVyJzpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXJyb3IoJ3Vuc3VwcG9ydGVkIEF1dGhvcml6YXRpb24gSFRUUCBIZWFkZXIgc2NoZW1lJywge1xuICAgICAgICAgICAgICAgIGNhdXNlOiB7IGhlYWRlcnM6IHJlcXVlc3QuaGVhZGVycyB9LFxuICAgICAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChsZW5ndGggIT09IDIpIHtcbiAgICAgICAgdGhyb3cgT1BFKCdpbnZhbGlkIEF1dGhvcml6YXRpb24gSFRUUCBIZWFkZXIgZm9ybWF0JywgSU5WQUxJRF9SRVFVRVNULCB7XG4gICAgICAgICAgICBoZWFkZXJzOiByZXF1ZXN0LmhlYWRlcnMsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCByZXF1aXJlZENsYWltcyA9IFtcbiAgICAgICAgJ2lzcycsXG4gICAgICAgICdleHAnLFxuICAgICAgICAnYXVkJyxcbiAgICAgICAgJ3N1YicsXG4gICAgICAgICdpYXQnLFxuICAgICAgICAnanRpJyxcbiAgICAgICAgJ2NsaWVudF9pZCcsXG4gICAgXTtcbiAgICBpZiAob3B0aW9ucz8ucmVxdWlyZURQb1AgfHwgc2NoZW1lID09PSAnZHBvcCcgfHwgcmVxdWVzdC5oZWFkZXJzLmhhcygnZHBvcCcpKSB7XG4gICAgICAgIHJlcXVpcmVkQ2xhaW1zLnB1c2goJ2NuZicpO1xuICAgIH1cbiAgICBjb25zdCB7IGNsYWltcywgaGVhZGVyIH0gPSBhd2FpdCB2YWxpZGF0ZUp3dChhY2Nlc3NUb2tlbiwgY2hlY2tTaWduaW5nQWxnb3JpdGhtLmJpbmQodW5kZWZpbmVkLCBvcHRpb25zPy5zaWduaW5nQWxnb3JpdGhtcywgdW5kZWZpbmVkLCBzdXBwb3J0ZWQpLCBnZXRDbG9ja1NrZXcob3B0aW9ucyksIGdldENsb2NrVG9sZXJhbmNlKG9wdGlvbnMpLCB1bmRlZmluZWQpXG4gICAgICAgIC50aGVuKGNoZWNrSnd0VHlwZS5iaW5kKHVuZGVmaW5lZCwgJ2F0K2p3dCcpKVxuICAgICAgICAudGhlbih2YWxpZGF0ZVByZXNlbmNlLmJpbmQodW5kZWZpbmVkLCByZXF1aXJlZENsYWltcykpXG4gICAgICAgIC50aGVuKHZhbGlkYXRlSXNzdWVyLmJpbmQodW5kZWZpbmVkLCBhcykpXG4gICAgICAgIC50aGVuKHZhbGlkYXRlQXVkaWVuY2UuYmluZCh1bmRlZmluZWQsIGV4cGVjdGVkQXVkaWVuY2UpKVxuICAgICAgICAuY2F0Y2gocmVhc3NpZ25SU0NvZGUpO1xuICAgIGZvciAoY29uc3QgY2xhaW0gb2YgWydjbGllbnRfaWQnLCAnanRpJywgJ3N1YiddKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xhaW1zW2NsYWltXSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRocm93IE9QRShgdW5leHBlY3RlZCBKV1QgXCIke2NsYWltfVwiIGNsYWltIHR5cGVgLCBJTlZBTElEX1JFUVVFU1QsIHsgY2xhaW1zIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICgnY25mJyBpbiBjbGFpbXMpIHtcbiAgICAgICAgaWYgKCFpc0pzb25PYmplY3QoY2xhaW1zLmNuZikpIHtcbiAgICAgICAgICAgIHRocm93IE9QRSgndW5leHBlY3RlZCBKV1QgXCJjbmZcIiAoY29uZmlybWF0aW9uKSBjbGFpbSB2YWx1ZScsIElOVkFMSURfUkVRVUVTVCwgeyBjbGFpbXMgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyAwOiBjbmYsIGxlbmd0aCB9ID0gT2JqZWN0LmtleXMoY2xhaW1zLmNuZik7XG4gICAgICAgIGlmIChsZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChsZW5ndGggIT09IDEpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FcnJvcignbXVsdGlwbGUgY29uZmlybWF0aW9uIGNsYWltcyBhcmUgbm90IHN1cHBvcnRlZCcsIHtcbiAgICAgICAgICAgICAgICAgICAgY2F1c2U6IHsgY2xhaW1zIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY25mICE9PSAnamt0Jykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkVycm9yKCd1bnN1cHBvcnRlZCBKV1QgQ29uZmlybWF0aW9uIG1ldGhvZCcsIHtcbiAgICAgICAgICAgICAgICAgICAgY2F1c2U6IHsgY2xhaW1zIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgeyAwOiBwcm90ZWN0ZWRIZWFkZXIsIDE6IHBheWxvYWQsIDI6IGVuY29kZWRTaWduYXR1cmUgfSA9IGFjY2Vzc1Rva2VuLnNwbGl0KCcuJyk7XG4gICAgY29uc3Qgc2lnbmF0dXJlID0gYjY0dShlbmNvZGVkU2lnbmF0dXJlKTtcbiAgICBjb25zdCBrZXkgPSBhd2FpdCBnZXRQdWJsaWNTaWdLZXlGcm9tSXNzdWVySndrc1VyaShhcywgb3B0aW9ucywgaGVhZGVyKTtcbiAgICBhd2FpdCB2YWxpZGF0ZUp3c1NpZ25hdHVyZShwcm90ZWN0ZWRIZWFkZXIsIHBheWxvYWQsIGtleSwgc2lnbmF0dXJlKTtcbiAgICBpZiAob3B0aW9ucz8ucmVxdWlyZURQb1AgfHxcbiAgICAgICAgc2NoZW1lID09PSAnZHBvcCcgfHxcbiAgICAgICAgY2xhaW1zLmNuZj8uamt0ICE9PSB1bmRlZmluZWQgfHxcbiAgICAgICAgcmVxdWVzdC5oZWFkZXJzLmhhcygnZHBvcCcpKSB7XG4gICAgICAgIGF3YWl0IHZhbGlkYXRlRFBvUChyZXF1ZXN0LCBhY2Nlc3NUb2tlbiwgY2xhaW1zLCBvcHRpb25zKS5jYXRjaChyZWFzc2lnblJTQ29kZSk7XG4gICAgfVxuICAgIHJldHVybiBjbGFpbXM7XG59XG5mdW5jdGlvbiByZWFzc2lnblJTQ29kZShlcnIpIHtcbiAgICBpZiAoZXJyIGluc3RhbmNlb2YgT3BlcmF0aW9uUHJvY2Vzc2luZ0Vycm9yICYmIGVycj8uY29kZSA9PT0gSU5WQUxJRF9SRVFVRVNUKSB7XG4gICAgICAgIGVyci5jb2RlID0gSU5WQUxJRF9SRVNQT05TRTtcbiAgICB9XG4gICAgdGhyb3cgZXJyO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGJhY2tjaGFubmVsQXV0aGVudGljYXRpb25SZXF1ZXN0KGFzLCBjbGllbnQsIGNsaWVudEF1dGhlbnRpY2F0aW9uLCBwYXJhbWV0ZXJzLCBvcHRpb25zKSB7XG4gICAgYXNzZXJ0QXMoYXMpO1xuICAgIGFzc2VydENsaWVudChjbGllbnQpO1xuICAgIGNvbnN0IHVybCA9IHJlc29sdmVFbmRwb2ludChhcywgJ2JhY2tjaGFubmVsX2F1dGhlbnRpY2F0aW9uX2VuZHBvaW50JywgY2xpZW50LnVzZV9tdGxzX2VuZHBvaW50X2FsaWFzZXMsIG9wdGlvbnM/LlthbGxvd0luc2VjdXJlUmVxdWVzdHNdICE9PSB0cnVlKTtcbiAgICBjb25zdCBib2R5ID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhwYXJhbWV0ZXJzKTtcbiAgICBib2R5LnNldCgnY2xpZW50X2lkJywgY2xpZW50LmNsaWVudF9pZCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHByZXBhcmVIZWFkZXJzKG9wdGlvbnM/LmhlYWRlcnMpO1xuICAgIGhlYWRlcnMuc2V0KCdhY2NlcHQnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgIHJldHVybiBhdXRoZW50aWNhdGVkUmVxdWVzdChhcywgY2xpZW50LCBjbGllbnRBdXRoZW50aWNhdGlvbiwgdXJsLCBib2R5LCBoZWFkZXJzLCBvcHRpb25zKTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwcm9jZXNzQmFja2NoYW5uZWxBdXRoZW50aWNhdGlvblJlc3BvbnNlKGFzLCBjbGllbnQsIHJlc3BvbnNlKSB7XG4gICAgYXNzZXJ0QXMoYXMpO1xuICAgIGFzc2VydENsaWVudChjbGllbnQpO1xuICAgIGlmICghbG9vc2VJbnN0YW5jZU9mKHJlc3BvbnNlLCBSZXNwb25zZSkpIHtcbiAgICAgICAgdGhyb3cgQ29kZWRUeXBlRXJyb3IoJ1wicmVzcG9uc2VcIiBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIFJlc3BvbnNlJywgRVJSX0lOVkFMSURfQVJHX1RZUEUpO1xuICAgIH1cbiAgICBhd2FpdCBjaGVja09BdXRoQm9keUVycm9yKHJlc3BvbnNlLCAyMDAsICdCYWNrY2hhbm5lbCBBdXRoZW50aWNhdGlvbiBFbmRwb2ludCcpO1xuICAgIGFzc2VydFJlYWRhYmxlUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgIGNvbnN0IGpzb24gPSBhd2FpdCBnZXRSZXNwb25zZUpzb25Cb2R5KHJlc3BvbnNlKTtcbiAgICBhc3NlcnRTdHJpbmcoanNvbi5hdXRoX3JlcV9pZCwgJ1wicmVzcG9uc2VcIiBib2R5IFwiYXV0aF9yZXFfaWRcIiBwcm9wZXJ0eScsIElOVkFMSURfUkVTUE9OU0UsIHtcbiAgICAgICAgYm9keToganNvbixcbiAgICB9KTtcbiAgICBsZXQgZXhwaXJlc0luID0gdHlwZW9mIGpzb24uZXhwaXJlc19pbiAhPT0gJ251bWJlcicgPyBwYXJzZUZsb2F0KGpzb24uZXhwaXJlc19pbikgOiBqc29uLmV4cGlyZXNfaW47XG4gICAgYXNzZXJ0TnVtYmVyKGV4cGlyZXNJbiwgdHJ1ZSwgJ1wicmVzcG9uc2VcIiBib2R5IFwiZXhwaXJlc19pblwiIHByb3BlcnR5JywgSU5WQUxJRF9SRVNQT05TRSwge1xuICAgICAgICBib2R5OiBqc29uLFxuICAgIH0pO1xuICAgIGpzb24uZXhwaXJlc19pbiA9IGV4cGlyZXNJbjtcbiAgICBpZiAoanNvbi5pbnRlcnZhbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGFzc2VydE51bWJlcihqc29uLmludGVydmFsLCBmYWxzZSwgJ1wicmVzcG9uc2VcIiBib2R5IFwiaW50ZXJ2YWxcIiBwcm9wZXJ0eScsIElOVkFMSURfUkVTUE9OU0UsIHtcbiAgICAgICAgICAgIGJvZHk6IGpzb24sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4ganNvbjtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBiYWNrY2hhbm5lbEF1dGhlbnRpY2F0aW9uR3JhbnRSZXF1ZXN0KGFzLCBjbGllbnQsIGNsaWVudEF1dGhlbnRpY2F0aW9uLCBhdXRoUmVxSWQsIG9wdGlvbnMpIHtcbiAgICBhc3NlcnRBcyhhcyk7XG4gICAgYXNzZXJ0Q2xpZW50KGNsaWVudCk7XG4gICAgYXNzZXJ0U3RyaW5nKGF1dGhSZXFJZCwgJ1wiYXV0aFJlcUlkXCInKTtcbiAgICBjb25zdCBwYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhvcHRpb25zPy5hZGRpdGlvbmFsUGFyYW1ldGVycyk7XG4gICAgcGFyYW1ldGVycy5zZXQoJ2F1dGhfcmVxX2lkJywgYXV0aFJlcUlkKTtcbiAgICByZXR1cm4gdG9rZW5FbmRwb2ludFJlcXVlc3QoYXMsIGNsaWVudCwgY2xpZW50QXV0aGVudGljYXRpb24sICd1cm46b3BlbmlkOnBhcmFtczpncmFudC10eXBlOmNpYmEnLCBwYXJhbWV0ZXJzLCBvcHRpb25zKTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwcm9jZXNzQmFja2NoYW5uZWxBdXRoZW50aWNhdGlvbkdyYW50UmVzcG9uc2UoYXMsIGNsaWVudCwgcmVzcG9uc2UsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gcHJvY2Vzc0dlbmVyaWNBY2Nlc3NUb2tlblJlc3BvbnNlKGFzLCBjbGllbnQsIHJlc3BvbnNlLCB1bmRlZmluZWQsIG9wdGlvbnM/Lltqd2VEZWNyeXB0XSwgb3B0aW9ucz8ucmVjb2duaXplZFRva2VuVHlwZXMpO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGR5bmFtaWNDbGllbnRSZWdpc3RyYXRpb25SZXF1ZXN0KGFzLCBtZXRhZGF0YSwgb3B0aW9ucykge1xuICAgIGFzc2VydEFzKGFzKTtcbiAgICBjb25zdCB1cmwgPSByZXNvbHZlRW5kcG9pbnQoYXMsICdyZWdpc3RyYXRpb25fZW5kcG9pbnQnLCBtZXRhZGF0YS51c2VfbXRsc19lbmRwb2ludF9hbGlhc2VzLCBvcHRpb25zPy5bYWxsb3dJbnNlY3VyZVJlcXVlc3RzXSAhPT0gdHJ1ZSk7XG4gICAgY29uc3QgaGVhZGVycyA9IHByZXBhcmVIZWFkZXJzKG9wdGlvbnM/LmhlYWRlcnMpO1xuICAgIGhlYWRlcnMuc2V0KCdhY2NlcHQnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgIGhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgIGNvbnN0IG1ldGhvZCA9ICdQT1NUJztcbiAgICBpZiAob3B0aW9ucz8uRFBvUCkge1xuICAgICAgICBhc3NlcnREUG9QKG9wdGlvbnMuRFBvUCk7XG4gICAgICAgIGF3YWl0IG9wdGlvbnMuRFBvUC5hZGRQcm9vZih1cmwsIGhlYWRlcnMsIG1ldGhvZCwgb3B0aW9ucy5pbml0aWFsQWNjZXNzVG9rZW4pO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucz8uaW5pdGlhbEFjY2Vzc1Rva2VuKSB7XG4gICAgICAgIGhlYWRlcnMuc2V0KCdhdXRob3JpemF0aW9uJywgYCR7aGVhZGVycy5oYXMoJ2Rwb3AnKSA/ICdEUG9QJyA6ICdCZWFyZXInfSAke29wdGlvbnMuaW5pdGlhbEFjY2Vzc1Rva2VufWApO1xuICAgIH1cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IChvcHRpb25zPy5bY3VzdG9tRmV0Y2hdIHx8IGZldGNoKSh1cmwuaHJlZiwge1xuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShtZXRhZGF0YSksXG4gICAgICAgIGhlYWRlcnM6IE9iamVjdC5mcm9tRW50cmllcyhoZWFkZXJzLmVudHJpZXMoKSksXG4gICAgICAgIG1ldGhvZCxcbiAgICAgICAgcmVkaXJlY3Q6ICdtYW51YWwnLFxuICAgICAgICBzaWduYWw6IHNpZ25hbCh1cmwsIG9wdGlvbnM/LnNpZ25hbCksXG4gICAgfSk7XG4gICAgb3B0aW9ucz8uRFBvUD8uY2FjaGVOb25jZShyZXNwb25zZSwgdXJsKTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc0R5bmFtaWNDbGllbnRSZWdpc3RyYXRpb25SZXNwb25zZShyZXNwb25zZSkge1xuICAgIGlmICghbG9vc2VJbnN0YW5jZU9mKHJlc3BvbnNlLCBSZXNwb25zZSkpIHtcbiAgICAgICAgdGhyb3cgQ29kZWRUeXBlRXJyb3IoJ1wicmVzcG9uc2VcIiBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIFJlc3BvbnNlJywgRVJSX0lOVkFMSURfQVJHX1RZUEUpO1xuICAgIH1cbiAgICBhd2FpdCBjaGVja09BdXRoQm9keUVycm9yKHJlc3BvbnNlLCAyMDEsICdEeW5hbWljIENsaWVudCBSZWdpc3RyYXRpb24gRW5kcG9pbnQnKTtcbiAgICBhc3NlcnRSZWFkYWJsZVJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICBjb25zdCBqc29uID0gYXdhaXQgZ2V0UmVzcG9uc2VKc29uQm9keShyZXNwb25zZSk7XG4gICAgYXNzZXJ0U3RyaW5nKGpzb24uY2xpZW50X2lkLCAnXCJyZXNwb25zZVwiIGJvZHkgXCJjbGllbnRfaWRcIiBwcm9wZXJ0eScsIElOVkFMSURfUkVTUE9OU0UsIHtcbiAgICAgICAgYm9keToganNvbixcbiAgICB9KTtcbiAgICBpZiAoanNvbi5jbGllbnRfc2VjcmV0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgYXNzZXJ0U3RyaW5nKGpzb24uY2xpZW50X3NlY3JldCwgJ1wicmVzcG9uc2VcIiBib2R5IFwiY2xpZW50X3NlY3JldFwiIHByb3BlcnR5JywgSU5WQUxJRF9SRVNQT05TRSwge1xuICAgICAgICAgICAgYm9keToganNvbixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChqc29uLmNsaWVudF9zZWNyZXQpIHtcbiAgICAgICAgYXNzZXJ0TnVtYmVyKGpzb24uY2xpZW50X3NlY3JldF9leHBpcmVzX2F0LCB0cnVlLCAnXCJyZXNwb25zZVwiIGJvZHkgXCJjbGllbnRfc2VjcmV0X2V4cGlyZXNfYXRcIiBwcm9wZXJ0eScsIElOVkFMSURfUkVTUE9OU0UsIHtcbiAgICAgICAgICAgIGJvZHk6IGpzb24sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4ganNvbjtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXNvdXJjZURpc2NvdmVyeVJlcXVlc3QocmVzb3VyY2VJZGVudGlmaWVyLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHBlcmZvcm1EaXNjb3ZlcnkocmVzb3VyY2VJZGVudGlmaWVyLCAncmVzb3VyY2VJZGVudGlmaWVyJywgKHVybCkgPT4ge1xuICAgICAgICBwcmVwZW5kV2VsbEtub3duKHVybCwgJy53ZWxsLWtub3duL29hdXRoLXByb3RlY3RlZC1yZXNvdXJjZScsIHRydWUpO1xuICAgICAgICByZXR1cm4gdXJsO1xuICAgIH0sIG9wdGlvbnMpO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHByb2Nlc3NSZXNvdXJjZURpc2NvdmVyeVJlc3BvbnNlKGV4cGVjdGVkUmVzb3VyY2VJZGVudGlmaWVyLCByZXNwb25zZSkge1xuICAgIGNvbnN0IGV4cGVjdGVkID0gZXhwZWN0ZWRSZXNvdXJjZUlkZW50aWZpZXI7XG4gICAgaWYgKCEoZXhwZWN0ZWQgaW5zdGFuY2VvZiBVUkwpICYmIGV4cGVjdGVkICE9PSBfbm9kaXNjb3ZlcnljaGVjaykge1xuICAgICAgICB0aHJvdyBDb2RlZFR5cGVFcnJvcignXCJleHBlY3RlZFJlc291cmNlSWRlbnRpZmllclwiIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgVVJMJywgRVJSX0lOVkFMSURfQVJHX1RZUEUpO1xuICAgIH1cbiAgICBpZiAoIWxvb3NlSW5zdGFuY2VPZihyZXNwb25zZSwgUmVzcG9uc2UpKSB7XG4gICAgICAgIHRocm93IENvZGVkVHlwZUVycm9yKCdcInJlc3BvbnNlXCIgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiBSZXNwb25zZScsIEVSUl9JTlZBTElEX0FSR19UWVBFKTtcbiAgICB9XG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwKSB7XG4gICAgICAgIHRocm93IE9QRSgnXCJyZXNwb25zZVwiIGlzIG5vdCBhIGNvbmZvcm0gUmVzb3VyY2UgU2VydmVyIE1ldGFkYXRhIHJlc3BvbnNlICh1bmV4cGVjdGVkIEhUVFAgc3RhdHVzIGNvZGUpJywgUkVTUE9OU0VfSVNfTk9UX0NPTkZPUk0sIHJlc3BvbnNlKTtcbiAgICB9XG4gICAgYXNzZXJ0UmVhZGFibGVSZXNwb25zZShyZXNwb25zZSk7XG4gICAgY29uc3QganNvbiA9IGF3YWl0IGdldFJlc3BvbnNlSnNvbkJvZHkocmVzcG9uc2UpO1xuICAgIGFzc2VydFN0cmluZyhqc29uLnJlc291cmNlLCAnXCJyZXNwb25zZVwiIGJvZHkgXCJyZXNvdXJjZVwiIHByb3BlcnR5JywgSU5WQUxJRF9SRVNQT05TRSwge1xuICAgICAgICBib2R5OiBqc29uLFxuICAgIH0pO1xuICAgIGlmIChleHBlY3RlZCAhPT0gX25vZGlzY292ZXJ5Y2hlY2sgJiYgbmV3IFVSTChqc29uLnJlc291cmNlKS5ocmVmICE9PSBleHBlY3RlZC5ocmVmKSB7XG4gICAgICAgIHRocm93IE9QRSgnXCJyZXNwb25zZVwiIGJvZHkgXCJyZXNvdXJjZVwiIHByb3BlcnR5IGRvZXMgbm90IG1hdGNoIHRoZSBleHBlY3RlZCB2YWx1ZScsIEpTT05fQVRUUklCVVRFX0NPTVBBUklTT04sIHsgZXhwZWN0ZWQ6IGV4cGVjdGVkLmhyZWYsIGJvZHk6IGpzb24sIGF0dHJpYnV0ZTogJ3Jlc291cmNlJyB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGpzb247XG59XG5hc3luYyBmdW5jdGlvbiBnZXRSZXNwb25zZUpzb25Cb2R5KHJlc3BvbnNlLCBjaGVjayA9IGFzc2VydEFwcGxpY2F0aW9uSnNvbikge1xuICAgIGxldCBqc29uO1xuICAgIHRyeSB7XG4gICAgICAgIGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgfVxuICAgIGNhdGNoIChjYXVzZSkge1xuICAgICAgICBjaGVjayhyZXNwb25zZSk7XG4gICAgICAgIHRocm93IE9QRSgnZmFpbGVkIHRvIHBhcnNlIFwicmVzcG9uc2VcIiBib2R5IGFzIEpTT04nLCBQQVJTRV9FUlJPUiwgY2F1c2UpO1xuICAgIH1cbiAgICBpZiAoIWlzSnNvbk9iamVjdChqc29uKSkge1xuICAgICAgICB0aHJvdyBPUEUoJ1wicmVzcG9uc2VcIiBib2R5IG11c3QgYmUgYSB0b3AgbGV2ZWwgb2JqZWN0JywgSU5WQUxJRF9SRVNQT05TRSwgeyBib2R5OiBqc29uIH0pO1xuICAgIH1cbiAgICByZXR1cm4ganNvbjtcbn1cbmV4cG9ydCBjb25zdCBfbm9wa2NlID0gbm9wa2NlO1xuZXhwb3J0IGNvbnN0IF9ub2Rpc2NvdmVyeWNoZWNrID0gU3ltYm9sKCk7XG5leHBvcnQgY29uc3QgX2V4cGVjdGVkSXNzdWVyID0gU3ltYm9sKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/oauth4webapi/build/index.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/openid-client/build/index.js":
/*!***************************************************!*\
  !*** ./node_modules/openid-client/build/index.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthorizationResponseError: () => (/* reexport safe */ oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.AuthorizationResponseError),\n/* harmony export */   ClientError: () => (/* binding */ ClientError),\n/* harmony export */   ClientSecretBasic: () => (/* binding */ ClientSecretBasic),\n/* harmony export */   ClientSecretJwt: () => (/* binding */ ClientSecretJwt),\n/* harmony export */   ClientSecretPost: () => (/* binding */ ClientSecretPost),\n/* harmony export */   Configuration: () => (/* binding */ Configuration),\n/* harmony export */   None: () => (/* binding */ None),\n/* harmony export */   PrivateKeyJwt: () => (/* binding */ PrivateKeyJwt),\n/* harmony export */   ResponseBodyError: () => (/* reexport safe */ oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.ResponseBodyError),\n/* harmony export */   TlsClientAuth: () => (/* binding */ TlsClientAuth),\n/* harmony export */   WWWAuthenticateChallengeError: () => (/* reexport safe */ oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.WWWAuthenticateChallengeError),\n/* harmony export */   allowInsecureRequests: () => (/* binding */ allowInsecureRequests),\n/* harmony export */   authorizationCodeGrant: () => (/* binding */ authorizationCodeGrant),\n/* harmony export */   buildAuthorizationUrl: () => (/* binding */ buildAuthorizationUrl),\n/* harmony export */   buildAuthorizationUrlWithJAR: () => (/* binding */ buildAuthorizationUrlWithJAR),\n/* harmony export */   buildAuthorizationUrlWithPAR: () => (/* binding */ buildAuthorizationUrlWithPAR),\n/* harmony export */   buildEndSessionUrl: () => (/* binding */ buildEndSessionUrl),\n/* harmony export */   calculatePKCECodeChallenge: () => (/* binding */ calculatePKCECodeChallenge),\n/* harmony export */   clientCredentialsGrant: () => (/* binding */ clientCredentialsGrant),\n/* harmony export */   clockSkew: () => (/* binding */ clockSkew),\n/* harmony export */   clockTolerance: () => (/* binding */ clockTolerance),\n/* harmony export */   customFetch: () => (/* binding */ customFetch),\n/* harmony export */   discovery: () => (/* binding */ discovery),\n/* harmony export */   dynamicClientRegistration: () => (/* binding */ dynamicClientRegistration),\n/* harmony export */   enableDecryptingResponses: () => (/* binding */ enableDecryptingResponses),\n/* harmony export */   enableDetachedSignatureResponseChecks: () => (/* binding */ enableDetachedSignatureResponseChecks),\n/* harmony export */   enableNonRepudiationChecks: () => (/* binding */ enableNonRepudiationChecks),\n/* harmony export */   fetchProtectedResource: () => (/* binding */ fetchProtectedResource),\n/* harmony export */   fetchUserInfo: () => (/* binding */ fetchUserInfo),\n/* harmony export */   genericGrantRequest: () => (/* binding */ genericGrantRequest),\n/* harmony export */   getDPoPHandle: () => (/* binding */ getDPoPHandle),\n/* harmony export */   getJwksCache: () => (/* binding */ getJwksCache),\n/* harmony export */   implicitAuthentication: () => (/* binding */ implicitAuthentication),\n/* harmony export */   initiateBackchannelAuthentication: () => (/* binding */ initiateBackchannelAuthentication),\n/* harmony export */   initiateDeviceAuthorization: () => (/* binding */ initiateDeviceAuthorization),\n/* harmony export */   modifyAssertion: () => (/* binding */ modifyAssertion),\n/* harmony export */   pollBackchannelAuthenticationGrant: () => (/* binding */ pollBackchannelAuthenticationGrant),\n/* harmony export */   pollDeviceAuthorizationGrant: () => (/* binding */ pollDeviceAuthorizationGrant),\n/* harmony export */   randomDPoPKeyPair: () => (/* binding */ randomDPoPKeyPair),\n/* harmony export */   randomNonce: () => (/* binding */ randomNonce),\n/* harmony export */   randomPKCECodeVerifier: () => (/* binding */ randomPKCECodeVerifier),\n/* harmony export */   randomState: () => (/* binding */ randomState),\n/* harmony export */   refreshTokenGrant: () => (/* binding */ refreshTokenGrant),\n/* harmony export */   setJwksCache: () => (/* binding */ setJwksCache),\n/* harmony export */   skipStateCheck: () => (/* binding */ skipStateCheck),\n/* harmony export */   skipSubjectCheck: () => (/* binding */ skipSubjectCheck),\n/* harmony export */   tokenIntrospection: () => (/* binding */ tokenIntrospection),\n/* harmony export */   tokenRevocation: () => (/* binding */ tokenRevocation),\n/* harmony export */   useCodeIdTokenResponseType: () => (/* binding */ useCodeIdTokenResponseType),\n/* harmony export */   useIdTokenResponseType: () => (/* binding */ useIdTokenResponseType),\n/* harmony export */   useJwtResponseMode: () => (/* binding */ useJwtResponseMode)\n/* harmony export */ });\n/* harmony import */ var oauth4webapi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! oauth4webapi */ \"(middleware)/./node_modules/oauth4webapi/build/index.js\");\n/* harmony import */ var jose_jwe_compact_decrypt__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jose/jwe/compact/decrypt */ \"(middleware)/./node_modules/jose/dist/webapi/jwe/compact/decrypt.js\");\n/* harmony import */ var jose_errors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jose/errors */ \"(middleware)/./node_modules/jose/dist/webapi/util/errors.js\");\n\n\n\nlet headers;\nlet USER_AGENT;\nif (typeof navigator === 'undefined' || !navigator.userAgent?.startsWith?.('Mozilla/5.0 ')) {\n    const NAME = 'openid-client';\n    const VERSION = 'v6.8.1';\n    USER_AGENT = `${NAME}/${VERSION}`;\n    headers = { 'user-agent': USER_AGENT };\n}\nconst int = (config) => {\n    return props.get(config);\n};\nlet props;\n\nlet tbi;\nfunction ClientSecretPost(clientSecret) {\n    if (clientSecret !== undefined) {\n        return oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.ClientSecretPost(clientSecret);\n    }\n    tbi ||= new WeakMap();\n    return (as, client, body, headers) => {\n        let auth;\n        if (!(auth = tbi.get(client))) {\n            assertString(client.client_secret, '\"metadata.client_secret\"');\n            auth = oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.ClientSecretPost(client.client_secret);\n            tbi.set(client, auth);\n        }\n        return auth(as, client, body, headers);\n    };\n}\nfunction assertString(input, it) {\n    if (typeof input !== 'string') {\n        throw CodedTypeError(`${it} must be a string`, ERR_INVALID_ARG_TYPE);\n    }\n    if (input.length === 0) {\n        throw CodedTypeError(`${it} must not be empty`, ERR_INVALID_ARG_VALUE);\n    }\n}\nfunction ClientSecretBasic(clientSecret) {\n    if (clientSecret !== undefined) {\n        return oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.ClientSecretBasic(clientSecret);\n    }\n    tbi ||= new WeakMap();\n    return (as, client, body, headers) => {\n        let auth;\n        if (!(auth = tbi.get(client))) {\n            assertString(client.client_secret, '\"metadata.client_secret\"');\n            auth = oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.ClientSecretBasic(client.client_secret);\n            tbi.set(client, auth);\n        }\n        return auth(as, client, body, headers);\n    };\n}\nfunction ClientSecretJwt(clientSecret, options) {\n    if (clientSecret !== undefined) {\n        return oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.ClientSecretJwt(clientSecret, options);\n    }\n    tbi ||= new WeakMap();\n    return (as, client, body, headers) => {\n        let auth;\n        if (!(auth = tbi.get(client))) {\n            assertString(client.client_secret, '\"metadata.client_secret\"');\n            auth = oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.ClientSecretJwt(client.client_secret, options);\n            tbi.set(client, auth);\n        }\n        return auth(as, client, body, headers);\n    };\n}\nfunction None() {\n    return oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.None();\n}\nfunction PrivateKeyJwt(clientPrivateKey, options) {\n    return oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.PrivateKeyJwt(clientPrivateKey, options);\n}\nfunction TlsClientAuth() {\n    return oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.TlsClientAuth();\n}\nconst skipStateCheck = oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.skipStateCheck;\nconst skipSubjectCheck = oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.skipSubjectCheck;\nconst customFetch = oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.customFetch;\nconst modifyAssertion = oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.modifyAssertion;\nconst clockSkew = oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.clockSkew;\nconst clockTolerance = oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.clockTolerance;\nconst ERR_INVALID_ARG_VALUE = 'ERR_INVALID_ARG_VALUE';\nconst ERR_INVALID_ARG_TYPE = 'ERR_INVALID_ARG_TYPE';\nfunction CodedTypeError(message, code, cause) {\n    const err = new TypeError(message, { cause });\n    Object.assign(err, { code });\n    return err;\n}\nfunction calculatePKCECodeChallenge(codeVerifier) {\n    return oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.calculatePKCECodeChallenge(codeVerifier);\n}\nfunction randomPKCECodeVerifier() {\n    return oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.generateRandomCodeVerifier();\n}\nfunction randomNonce() {\n    return oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.generateRandomNonce();\n}\nfunction randomState() {\n    return oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.generateRandomState();\n}\nclass ClientError extends Error {\n    code;\n    constructor(message, options) {\n        super(message, options);\n        this.name = this.constructor.name;\n        this.code = options?.code;\n        Error.captureStackTrace?.(this, this.constructor);\n    }\n}\nconst decoder = new TextDecoder();\nfunction e(msg, cause, code) {\n    return new ClientError(msg, { cause, code });\n}\nfunction errorHandler(err) {\n    if (err instanceof TypeError ||\n        err instanceof ClientError ||\n        err instanceof oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.ResponseBodyError ||\n        err instanceof oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.AuthorizationResponseError ||\n        err instanceof oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.WWWAuthenticateChallengeError) {\n        throw err;\n    }\n    if (err instanceof oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.OperationProcessingError) {\n        switch (err.code) {\n            case oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.HTTP_REQUEST_FORBIDDEN:\n                throw e('only requests to HTTPS are allowed', err, err.code);\n            case oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.REQUEST_PROTOCOL_FORBIDDEN:\n                throw e('only requests to HTTP or HTTPS are allowed', err, err.code);\n            case oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.RESPONSE_IS_NOT_CONFORM:\n                throw e('unexpected HTTP response status code', err.cause, err.code);\n            case oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.RESPONSE_IS_NOT_JSON:\n                throw e('unexpected response content-type', err.cause, err.code);\n            case oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.PARSE_ERROR:\n                throw e('parsing error occured', err, err.code);\n            case oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.INVALID_RESPONSE:\n                throw e('invalid response encountered', err, err.code);\n            case oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.JWT_CLAIM_COMPARISON:\n                throw e('unexpected JWT claim value encountered', err, err.code);\n            case oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.JSON_ATTRIBUTE_COMPARISON:\n                throw e('unexpected JSON attribute value encountered', err, err.code);\n            case oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.JWT_TIMESTAMP_CHECK:\n                throw e('JWT timestamp claim value failed validation', err, err.code);\n            default:\n                throw e(err.message, err, err.code);\n        }\n    }\n    if (err instanceof oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.UnsupportedOperationError) {\n        throw e('unsupported operation', err, err.code);\n    }\n    if (err instanceof DOMException) {\n        switch (err.name) {\n            case 'OperationError':\n                throw e('runtime operation error', err, oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.UNSUPPORTED_OPERATION);\n            case 'NotSupportedError':\n                throw e('runtime unsupported operation', err, oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.UNSUPPORTED_OPERATION);\n            case 'TimeoutError':\n                throw e('operation timed out', err, 'OAUTH_TIMEOUT');\n            case 'AbortError':\n                throw e('operation aborted', err, 'OAUTH_ABORT');\n        }\n    }\n    throw new ClientError('something went wrong', { cause: err });\n}\nfunction randomDPoPKeyPair(alg, options) {\n    return oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.generateKeyPair(alg ?? 'ES256', {\n        extractable: options?.extractable,\n    })\n        .catch(errorHandler);\n}\nfunction handleEntraId(server, as, options) {\n    if (server.origin === 'https://login.microsoftonline.com' &&\n        (!options?.algorithm || options.algorithm === 'oidc')) {\n        as[kEntraId] = true;\n        return true;\n    }\n    return false;\n}\nfunction handleB2Clogin(server, options) {\n    if (server.hostname.endsWith('.b2clogin.com') &&\n        (!options?.algorithm || options.algorithm === 'oidc')) {\n        return true;\n    }\n    return false;\n}\nasync function dynamicClientRegistration(server, metadata, clientAuthentication, options) {\n    let as;\n    if (options?.flag === retry) {\n        as = options.as;\n    }\n    else {\n        as = await performDiscovery(server, options);\n    }\n    const clockSkew = metadata[oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.clockSkew] ?? 0;\n    const clockTolerance = metadata[oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.clockTolerance] ?? 30;\n    metadata = structuredClone(metadata);\n    const timeout = options?.timeout ?? 30;\n    const signal = AbortSignal.timeout(timeout * 1000);\n    let registered;\n    try {\n        registered = await oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.dynamicClientRegistrationRequest(as, metadata, {\n            initialAccessToken: options?.initialAccessToken,\n            DPoP: options?.DPoP,\n            headers: new Headers(headers),\n            [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.customFetch]: options?.[customFetch],\n            [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.allowInsecureRequests]: options?.execute?.includes(allowInsecureRequests),\n            signal,\n        })\n            .then(oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.processDynamicClientRegistrationResponse);\n    }\n    catch (err) {\n        if (retryable(err, options)) {\n            return dynamicClientRegistration(server, metadata, clientAuthentication, {\n                ...options,\n                flag: retry,\n                as,\n            });\n        }\n        errorHandler(err);\n    }\n    registered[oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.clockSkew] = clockSkew;\n    registered[oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.clockTolerance] = clockTolerance;\n    const instance = new Configuration(as, registered.client_id, registered, clientAuthentication);\n    let internals = int(instance);\n    if (options?.[customFetch]) {\n        internals.fetch = options[customFetch];\n    }\n    if (options?.timeout) {\n        internals.timeout = options.timeout;\n    }\n    if (options?.execute) {\n        for (const extension of options.execute) {\n            extension(instance);\n        }\n    }\n    return instance;\n}\nasync function discovery(server, clientId, metadata, clientAuthentication, options) {\n    const as = await performDiscovery(server, options);\n    const instance = new Configuration(as, clientId, metadata, clientAuthentication);\n    let internals = int(instance);\n    if (options?.[customFetch]) {\n        internals.fetch = options[customFetch];\n    }\n    if (options?.timeout) {\n        internals.timeout = options.timeout;\n    }\n    if (options?.execute) {\n        for (const extension of options.execute) {\n            extension(instance);\n        }\n    }\n    return instance;\n}\nasync function performDiscovery(server, options) {\n    if (!(server instanceof URL)) {\n        throw CodedTypeError('\"server\" must be an instance of URL', ERR_INVALID_ARG_TYPE);\n    }\n    const resolve = !server.href.includes('/.well-known/');\n    const timeout = options?.timeout ?? 30;\n    const signal = AbortSignal.timeout(timeout * 1000);\n    const as = await (resolve\n        ? oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.discoveryRequest(server, {\n            algorithm: options?.algorithm,\n            [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.customFetch]: options?.[customFetch],\n            [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.allowInsecureRequests]: options?.execute?.includes(allowInsecureRequests),\n            signal,\n            headers: new Headers(headers),\n        })\n        : (options?.[customFetch] || fetch)((() => {\n            oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.checkProtocol(server, options?.execute?.includes(allowInsecureRequests) ? false : true);\n            return server.href;\n        })(), {\n            headers: Object.fromEntries(new Headers({ accept: 'application/json', ...headers }).entries()),\n            body: undefined,\n            method: 'GET',\n            redirect: 'manual',\n            signal,\n        }))\n        .then((response) => oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.processDiscoveryResponse(oauth4webapi__WEBPACK_IMPORTED_MODULE_0__._nodiscoverycheck, response))\n        .catch(errorHandler);\n    if (resolve && new URL(as.issuer).href !== server.href) {\n        handleEntraId(server, as, options) ||\n            handleB2Clogin(server, options) ||\n            (() => {\n                throw new ClientError('discovered metadata issuer does not match the expected issuer', {\n                    code: oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.JSON_ATTRIBUTE_COMPARISON,\n                    cause: {\n                        expected: server.href,\n                        body: as,\n                        attribute: 'issuer',\n                    },\n                });\n            })();\n    }\n    return as;\n}\nfunction isRsaOaep(input) {\n    return input.name === 'RSA-OAEP';\n}\nfunction isEcdh(input) {\n    return input.name === 'ECDH';\n}\nconst ecdhEs = 'ECDH-ES';\nconst ecdhEsA128Kw = 'ECDH-ES+A128KW';\nconst ecdhEsA192Kw = 'ECDH-ES+A192KW';\nconst ecdhEsA256Kw = 'ECDH-ES+A256KW';\nfunction checkEcdhAlg(algs, alg, pk) {\n    switch (alg) {\n        case undefined:\n            algs.add(ecdhEs);\n            algs.add(ecdhEsA128Kw);\n            algs.add(ecdhEsA192Kw);\n            algs.add(ecdhEsA256Kw);\n            break;\n        case ecdhEs:\n        case ecdhEsA128Kw:\n        case ecdhEsA192Kw:\n        case ecdhEsA256Kw:\n            algs.add(alg);\n            break;\n        default:\n            throw CodedTypeError('invalid key alg', ERR_INVALID_ARG_VALUE, { pk });\n    }\n}\nfunction enableDecryptingResponses(config, contentEncryptionAlgorithms = [\n    'A128GCM',\n    'A192GCM',\n    'A256GCM',\n    'A128CBC-HS256',\n    'A192CBC-HS384',\n    'A256CBC-HS512',\n], ...keys) {\n    if (int(config).decrypt !== undefined) {\n        throw new TypeError('enableDecryptingResponses can only be called on a given Configuration instance once');\n    }\n    if (keys.length === 0) {\n        throw CodedTypeError('no keys were provided', ERR_INVALID_ARG_VALUE);\n    }\n    const algs = new Set();\n    const normalized = [];\n    for (const pk of keys) {\n        let key;\n        if ('key' in pk) {\n            key = { key: pk.key };\n            if (typeof pk.alg === 'string')\n                key.alg = pk.alg;\n            if (typeof pk.kid === 'string')\n                key.kid = pk.kid;\n        }\n        else {\n            key = { key: pk };\n        }\n        if (key.key.type !== 'private') {\n            throw CodedTypeError('only private keys must be provided', ERR_INVALID_ARG_VALUE);\n        }\n        if (isRsaOaep(key.key.algorithm)) {\n            switch (key.key.algorithm.hash.name) {\n                case 'SHA-1':\n                case 'SHA-256':\n                case 'SHA-384':\n                case 'SHA-512': {\n                    let alg = 'RSA-OAEP';\n                    let sha;\n                    if ((sha = parseInt(key.key.algorithm.hash.name.slice(-3), 10))) {\n                        alg = `${alg}-${sha}`;\n                    }\n                    key.alg ||= alg;\n                    if (alg !== key.alg)\n                        throw CodedTypeError('invalid key alg', ERR_INVALID_ARG_VALUE, {\n                            pk,\n                        });\n                    algs.add(key.alg);\n                    break;\n                }\n                default:\n                    throw CodedTypeError('only SHA-512, SHA-384, SHA-256, and SHA-1 RSA-OAEP keys are supported', ERR_INVALID_ARG_VALUE);\n            }\n        }\n        else if (isEcdh(key.key.algorithm)) {\n            if (key.key.algorithm.namedCurve !== 'P-256') {\n                throw CodedTypeError('Only P-256 ECDH keys are supported', ERR_INVALID_ARG_VALUE);\n            }\n            checkEcdhAlg(algs, key.alg, pk);\n        }\n        else if (key.key.algorithm.name === 'X25519') {\n            checkEcdhAlg(algs, key.alg, pk);\n        }\n        else {\n            throw CodedTypeError('only RSA-OAEP, ECDH, or X25519 keys are supported', ERR_INVALID_ARG_VALUE);\n        }\n        normalized.push(key);\n    }\n    int(config).decrypt = async (jwe) => decrypt(normalized, jwe, contentEncryptionAlgorithms, [...algs]).catch(errorHandler);\n}\nfunction checkCryptoKey(key, alg, epk) {\n    if (alg.startsWith('RSA-OAEP')) {\n        return true;\n    }\n    if (alg.startsWith('ECDH-ES')) {\n        if (key.algorithm.name !== 'ECDH' && key.algorithm.name !== 'X25519') {\n            return false;\n        }\n        if (key.algorithm.name === 'ECDH') {\n            return epk?.crv === key.algorithm.namedCurve;\n        }\n        if (key.algorithm.name === 'X25519') {\n            return epk?.crv === 'X25519';\n        }\n    }\n    return false;\n}\nfunction selectCryptoKeyForDecryption(keys, alg, kid, epk) {\n    const { 0: key, length } = keys.filter((key) => {\n        if (kid !== key.kid) {\n            return false;\n        }\n        if (key.alg && alg !== key.alg) {\n            return false;\n        }\n        return checkCryptoKey(key.key, alg, epk);\n    });\n    if (!key) {\n        throw e('no applicable decryption key selected', undefined, 'OAUTH_DECRYPTION_FAILED');\n    }\n    if (length !== 1) {\n        throw e('multiple applicable decryption keys selected', undefined, 'OAUTH_DECRYPTION_FAILED');\n    }\n    return key.key;\n}\nasync function decrypt(keys, jwe, contentEncryptionAlgorithms, keyManagementAlgorithms) {\n    return decoder.decode((await (0,jose_jwe_compact_decrypt__WEBPACK_IMPORTED_MODULE_1__.compactDecrypt)(jwe, (header) => {\n        const { kid, alg, epk } = header;\n        return selectCryptoKeyForDecryption(keys, alg, kid, epk);\n    }, { keyManagementAlgorithms, contentEncryptionAlgorithms }).catch((err) => {\n        if (err instanceof jose_errors__WEBPACK_IMPORTED_MODULE_2__.JOSEError) {\n            throw e('decryption failed', err, 'OAUTH_DECRYPTION_FAILED');\n        }\n        errorHandler(err);\n    })).plaintext);\n}\nfunction getServerHelpers(metadata) {\n    return {\n        supportsPKCE: {\n            __proto__: null,\n            value(method = 'S256') {\n                return (metadata.code_challenge_methods_supported?.includes(method) === true);\n            },\n        },\n    };\n}\nfunction addServerHelpers(metadata) {\n    Object.defineProperties(metadata, getServerHelpers(metadata));\n}\nconst kEntraId = Symbol();\nclass Configuration {\n    constructor(server, clientId, metadata, clientAuthentication) {\n        if (typeof clientId !== 'string' || !clientId.length) {\n            throw CodedTypeError('\"clientId\" must be a non-empty string', ERR_INVALID_ARG_TYPE);\n        }\n        if (typeof metadata === 'string') {\n            metadata = { client_secret: metadata };\n        }\n        if (metadata?.client_id !== undefined && clientId !== metadata.client_id) {\n            throw CodedTypeError('\"clientId\" and \"metadata.client_id\" must be the same', ERR_INVALID_ARG_VALUE);\n        }\n        const client = {\n            ...structuredClone(metadata),\n            client_id: clientId,\n        };\n        client[oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.clockSkew] = metadata?.[oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.clockSkew] ?? 0;\n        client[oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.clockTolerance] = metadata?.[oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.clockTolerance] ?? 30;\n        let auth;\n        if (clientAuthentication) {\n            auth = clientAuthentication;\n        }\n        else {\n            if (typeof client.client_secret === 'string' &&\n                client.client_secret.length) {\n                auth = ClientSecretPost(client.client_secret);\n            }\n            else {\n                auth = None();\n            }\n        }\n        let c = Object.freeze(client);\n        const clone = structuredClone(server);\n        if (kEntraId in server) {\n            clone[oauth4webapi__WEBPACK_IMPORTED_MODULE_0__._expectedIssuer] = ({ claims: { tid } }) => server.issuer.replace('{tenantid}', tid);\n        }\n        let as = Object.freeze(clone);\n        props ||= new WeakMap();\n        props.set(this, {\n            __proto__: null,\n            as,\n            c,\n            auth,\n            tlsOnly: true,\n            jwksCache: {},\n        });\n    }\n    serverMetadata() {\n        const metadata = structuredClone(int(this).as);\n        addServerHelpers(metadata);\n        return metadata;\n    }\n    clientMetadata() {\n        const metadata = structuredClone(int(this).c);\n        return metadata;\n    }\n    get timeout() {\n        return int(this).timeout;\n    }\n    set timeout(value) {\n        int(this).timeout = value;\n    }\n    get [customFetch]() {\n        return int(this).fetch;\n    }\n    set [customFetch](value) {\n        int(this).fetch = value;\n    }\n}\nObject.freeze(Configuration.prototype);\nfunction getHelpers(response) {\n    let exp = undefined;\n    if (response.expires_in !== undefined) {\n        const now = new Date();\n        now.setSeconds(now.getSeconds() + response.expires_in);\n        exp = now.getTime();\n    }\n    return {\n        expiresIn: {\n            __proto__: null,\n            value() {\n                if (exp) {\n                    const now = Date.now();\n                    if (exp > now) {\n                        return Math.floor((exp - now) / 1000);\n                    }\n                    return 0;\n                }\n                return undefined;\n            },\n        },\n        claims: {\n            __proto__: null,\n            value() {\n                try {\n                    return oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.getValidatedIdTokenClaims(this);\n                }\n                catch {\n                    return undefined;\n                }\n            },\n        },\n    };\n}\nfunction addHelpers(response) {\n    Object.defineProperties(response, getHelpers(response));\n}\nfunction getDPoPHandle(config, keyPair, options) {\n    checkConfig(config);\n    return oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.DPoP(int(config).c, keyPair, options);\n}\nasync function handleRetryAfter(response, currentInterval, signal, throwIfInvalid = false) {\n    const retryAfter = response.headers.get('retry-after')?.trim();\n    if (retryAfter === undefined)\n        return;\n    let delaySeconds;\n    if (/^\\d+$/.test(retryAfter)) {\n        delaySeconds = parseInt(retryAfter, 10);\n    }\n    else {\n        const retryDate = new Date(retryAfter);\n        if (Number.isFinite(retryDate.getTime())) {\n            const now = new Date();\n            const delayMs = retryDate.getTime() - now.getTime();\n            if (delayMs > 0) {\n                delaySeconds = Math.ceil(delayMs / 1000);\n            }\n        }\n    }\n    if (throwIfInvalid && !Number.isFinite(delaySeconds)) {\n        throw new oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.OperationProcessingError('invalid Retry-After header value', { cause: response });\n    }\n    if (delaySeconds > currentInterval) {\n        await wait(delaySeconds - currentInterval, signal);\n    }\n}\nfunction wait(duration, signal) {\n    return new Promise((resolve, reject) => {\n        const waitStep = (remaining) => {\n            try {\n                signal.throwIfAborted();\n            }\n            catch (err) {\n                reject(err);\n                return;\n            }\n            if (remaining <= 0) {\n                resolve();\n                return;\n            }\n            const currentWait = Math.min(remaining, 5);\n            setTimeout(() => waitStep(remaining - currentWait), currentWait * 1000);\n        };\n        waitStep(duration);\n    });\n}\nasync function pollDeviceAuthorizationGrant(config, deviceAuthorizationResponse, parameters, options) {\n    checkConfig(config);\n    parameters = new URLSearchParams(parameters);\n    let interval = deviceAuthorizationResponse.interval ?? 5;\n    const pollingSignal = options?.signal ??\n        AbortSignal.timeout(deviceAuthorizationResponse.expires_in * 1000);\n    try {\n        await wait(interval, pollingSignal);\n    }\n    catch (err) {\n        errorHandler(err);\n    }\n    const { as, c, auth, fetch, tlsOnly, nonRepudiation, timeout, decrypt } = int(config);\n    const retryPoll = (updatedInterval, flag) => pollDeviceAuthorizationGrant(config, {\n        ...deviceAuthorizationResponse,\n        interval: updatedInterval,\n    }, parameters, {\n        ...options,\n        signal: pollingSignal,\n        flag,\n    });\n    const response = await oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.deviceCodeGrantRequest(as, c, auth, deviceAuthorizationResponse.device_code, {\n        [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.customFetch]: fetch,\n        [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.allowInsecureRequests]: !tlsOnly,\n        additionalParameters: parameters,\n        DPoP: options?.DPoP,\n        headers: new Headers(headers),\n        signal: pollingSignal.aborted ? pollingSignal : signal(timeout),\n    })\n        .catch(errorHandler);\n    if (response.status === 503 && response.headers.has('retry-after')) {\n        await handleRetryAfter(response, interval, pollingSignal, true);\n        await response.body?.cancel();\n        return retryPoll(interval);\n    }\n    const p = oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.processDeviceCodeResponse(as, c, response, {\n        [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.jweDecrypt]: decrypt,\n    });\n    let result;\n    try {\n        result = await p;\n    }\n    catch (err) {\n        if (retryable(err, options)) {\n            return retryPoll(interval, retry);\n        }\n        if (err instanceof oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.ResponseBodyError) {\n            switch (err.error) {\n                case 'slow_down':\n                    interval += 5;\n                case 'authorization_pending':\n                    await handleRetryAfter(err.response, interval, pollingSignal);\n                    return retryPoll(interval);\n            }\n        }\n        errorHandler(err);\n    }\n    result.id_token && (await nonRepudiation?.(response));\n    addHelpers(result);\n    return result;\n}\nasync function initiateDeviceAuthorization(config, parameters) {\n    checkConfig(config);\n    const { as, c, auth, fetch, tlsOnly, timeout } = int(config);\n    return oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.deviceAuthorizationRequest(as, c, auth, parameters, {\n        [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.customFetch]: fetch,\n        [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.allowInsecureRequests]: !tlsOnly,\n        headers: new Headers(headers),\n        signal: signal(timeout),\n    })\n        .then((response) => oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.processDeviceAuthorizationResponse(as, c, response))\n        .catch(errorHandler);\n}\nasync function initiateBackchannelAuthentication(config, parameters) {\n    checkConfig(config);\n    const { as, c, auth, fetch, tlsOnly, timeout } = int(config);\n    return oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.backchannelAuthenticationRequest(as, c, auth, parameters, {\n        [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.customFetch]: fetch,\n        [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.allowInsecureRequests]: !tlsOnly,\n        headers: new Headers(headers),\n        signal: signal(timeout),\n    })\n        .then((response) => oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.processBackchannelAuthenticationResponse(as, c, response))\n        .catch(errorHandler);\n}\nasync function pollBackchannelAuthenticationGrant(config, backchannelAuthenticationResponse, parameters, options) {\n    checkConfig(config);\n    parameters = new URLSearchParams(parameters);\n    let interval = backchannelAuthenticationResponse.interval ?? 5;\n    const pollingSignal = options?.signal ??\n        AbortSignal.timeout(backchannelAuthenticationResponse.expires_in * 1000);\n    try {\n        await wait(interval, pollingSignal);\n    }\n    catch (err) {\n        errorHandler(err);\n    }\n    const { as, c, auth, fetch, tlsOnly, nonRepudiation, timeout, decrypt } = int(config);\n    const retryPoll = (updatedInterval, flag) => pollBackchannelAuthenticationGrant(config, {\n        ...backchannelAuthenticationResponse,\n        interval: updatedInterval,\n    }, parameters, {\n        ...options,\n        signal: pollingSignal,\n        flag,\n    });\n    const response = await oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.backchannelAuthenticationGrantRequest(as, c, auth, backchannelAuthenticationResponse.auth_req_id, {\n        [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.customFetch]: fetch,\n        [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.allowInsecureRequests]: !tlsOnly,\n        additionalParameters: parameters,\n        DPoP: options?.DPoP,\n        headers: new Headers(headers),\n        signal: pollingSignal.aborted ? pollingSignal : signal(timeout),\n    })\n        .catch(errorHandler);\n    if (response.status === 503 && response.headers.has('retry-after')) {\n        await handleRetryAfter(response, interval, pollingSignal, true);\n        await response.body?.cancel();\n        return retryPoll(interval);\n    }\n    const p = oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.processBackchannelAuthenticationGrantResponse(as, c, response, {\n        [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.jweDecrypt]: decrypt,\n    });\n    let result;\n    try {\n        result = await p;\n    }\n    catch (err) {\n        if (retryable(err, options)) {\n            return retryPoll(interval, retry);\n        }\n        if (err instanceof oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.ResponseBodyError) {\n            switch (err.error) {\n                case 'slow_down':\n                    interval += 5;\n                case 'authorization_pending':\n                    await handleRetryAfter(err.response, interval, pollingSignal);\n                    return retryPoll(interval);\n            }\n        }\n        errorHandler(err);\n    }\n    result.id_token && (await nonRepudiation?.(response));\n    addHelpers(result);\n    return result;\n}\nfunction allowInsecureRequests(config) {\n    int(config).tlsOnly = false;\n}\nfunction setJwksCache(config, jwksCache) {\n    int(config).jwksCache = structuredClone(jwksCache);\n}\nfunction getJwksCache(config) {\n    const cache = int(config).jwksCache;\n    if (cache.uat) {\n        return cache;\n    }\n    return undefined;\n}\nfunction enableNonRepudiationChecks(config) {\n    checkConfig(config);\n    int(config).nonRepudiation = (response) => {\n        const { as, fetch, tlsOnly, timeout, jwksCache } = int(config);\n        return oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.validateApplicationLevelSignature(as, response, {\n            [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.customFetch]: fetch,\n            [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.allowInsecureRequests]: !tlsOnly,\n            headers: new Headers(headers),\n            signal: signal(timeout),\n            [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.jwksCache]: jwksCache,\n        })\n            .catch(errorHandler);\n    };\n}\nfunction useJwtResponseMode(config) {\n    checkConfig(config);\n    const { hybrid, implicit } = int(config);\n    if (hybrid || implicit) {\n        throw e('JARM cannot be combined with a hybrid or implicit response types', undefined, oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.UNSUPPORTED_OPERATION);\n    }\n    int(config).jarm = (authorizationResponse, expectedState) => validateJARMResponse(config, authorizationResponse, expectedState);\n}\nfunction enableDetachedSignatureResponseChecks(config) {\n    if (!int(config).hybrid) {\n        throw e('\"code id_token\" response type must be configured to be used first', undefined, oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.UNSUPPORTED_OPERATION);\n    }\n    int(config).hybrid = (authorizationResponse, expectedNonce, expectedState, maxAge) => validateCodeIdTokenResponse(config, authorizationResponse, expectedNonce, expectedState, maxAge, true);\n}\nasync function implicitAuthentication(config, currentUrl, expectedNonce, checks) {\n    checkConfig(config);\n    if (!(currentUrl instanceof URL) &&\n        !webInstanceOf(currentUrl, 'Request')) {\n        throw CodedTypeError('\"currentUrl\" must be an instance of URL, or Request', ERR_INVALID_ARG_TYPE);\n    }\n    if (typeof expectedNonce !== 'string') {\n        throw CodedTypeError('\"expectedNonce\" must be a string', ERR_INVALID_ARG_TYPE);\n    }\n    const { as, c, fetch, tlsOnly, timeout, decrypt, implicit, jwksCache } = int(config);\n    if (!implicit) {\n        throw new TypeError('implicitAuthentication() cannot be used by clients using flows other than response_type=id_token');\n    }\n    let params;\n    if (!(currentUrl instanceof URL)) {\n        const request = currentUrl;\n        switch (request.method) {\n            case 'GET':\n                params = new URLSearchParams(new URL(request.url).hash.slice(1));\n                break;\n            case 'POST':\n                params = new URLSearchParams(await oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.formPostResponse(request));\n                break;\n            default:\n                throw CodedTypeError('unexpected Request HTTP method', ERR_INVALID_ARG_VALUE);\n        }\n    }\n    else {\n        params = new URLSearchParams(currentUrl.hash.slice(1));\n    }\n    try {\n        {\n            const decoy = new URLSearchParams(params);\n            decoy.delete('id_token');\n            oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.validateAuthResponse({\n                ...as,\n                authorization_response_iss_parameter_supported: undefined,\n            }, c, decoy, checks?.expectedState);\n        }\n        {\n            const decoy = new Response(JSON.stringify({\n                access_token: 'decoy',\n                token_type: 'bearer',\n                id_token: params.get('id_token'),\n            }), {\n                headers: new Headers({ 'content-type': 'application/json' }),\n            });\n            const ref = await oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.processAuthorizationCodeResponse(as, c, decoy, {\n                expectedNonce,\n                maxAge: checks?.maxAge,\n                [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.jweDecrypt]: decrypt,\n            });\n            await oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.validateApplicationLevelSignature(as, decoy, {\n                [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.customFetch]: fetch,\n                [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.allowInsecureRequests]: !tlsOnly,\n                headers: new Headers(headers),\n                signal: signal(timeout),\n                [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.jwksCache]: jwksCache,\n            });\n            return oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.getValidatedIdTokenClaims(ref);\n        }\n    }\n    catch (err) {\n        errorHandler(err);\n    }\n}\nfunction useCodeIdTokenResponseType(config) {\n    checkConfig(config);\n    const { jarm, implicit } = int(config);\n    if (jarm || implicit) {\n        throw e('\"code id_token\" response type cannot be combined with JARM or implicit response type', undefined, oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.UNSUPPORTED_OPERATION);\n    }\n    int(config).hybrid = (authorizationResponse, expectedNonce, expectedState, maxAge) => validateCodeIdTokenResponse(config, authorizationResponse, expectedNonce, expectedState, maxAge, false);\n}\nfunction useIdTokenResponseType(config) {\n    checkConfig(config);\n    const { jarm, hybrid } = int(config);\n    if (jarm || hybrid) {\n        throw e('\"id_token\" response type cannot be combined with JARM or hybrid response type', undefined, oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.UNSUPPORTED_OPERATION);\n    }\n    int(config).implicit = true;\n}\nfunction stripParams(url) {\n    url = new URL(url);\n    url.search = '';\n    url.hash = '';\n    return url.href;\n}\nfunction webInstanceOf(input, toStringTag) {\n    try {\n        return Object.getPrototypeOf(input)[Symbol.toStringTag] === toStringTag;\n    }\n    catch {\n        return false;\n    }\n}\nasync function authorizationCodeGrant(config, currentUrl, checks, tokenEndpointParameters, options) {\n    checkConfig(config);\n    if (options?.flag !== retry &&\n        !(currentUrl instanceof URL) &&\n        !webInstanceOf(currentUrl, 'Request')) {\n        throw CodedTypeError('\"currentUrl\" must be an instance of URL, or Request', ERR_INVALID_ARG_TYPE);\n    }\n    let authResponse;\n    let redirectUri;\n    const { as, c, auth, fetch, tlsOnly, jarm, hybrid, nonRepudiation, timeout, decrypt, implicit } = int(config);\n    if (options?.flag === retry) {\n        authResponse = options.authResponse;\n        redirectUri = options.redirectUri;\n    }\n    else {\n        if (!(currentUrl instanceof URL)) {\n            const request = currentUrl;\n            currentUrl = new URL(currentUrl.url);\n            switch (request.method) {\n                case 'GET':\n                    break;\n                case 'POST':\n                    const params = new URLSearchParams(await oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.formPostResponse(request));\n                    if (hybrid) {\n                        currentUrl.hash = params.toString();\n                    }\n                    else {\n                        for (const [k, v] of params.entries()) {\n                            currentUrl.searchParams.append(k, v);\n                        }\n                    }\n                    break;\n                default:\n                    throw CodedTypeError('unexpected Request HTTP method', ERR_INVALID_ARG_VALUE);\n            }\n        }\n        redirectUri = stripParams(currentUrl);\n        switch (true) {\n            case !!jarm:\n                authResponse = await jarm(currentUrl, checks?.expectedState);\n                break;\n            case !!hybrid:\n                authResponse = await hybrid(currentUrl, checks?.expectedNonce, checks?.expectedState, checks?.maxAge);\n                break;\n            case !!implicit:\n                throw new TypeError('authorizationCodeGrant() cannot be used by response_type=id_token clients');\n            default:\n                try {\n                    authResponse = oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.validateAuthResponse(as, c, currentUrl.searchParams, checks?.expectedState);\n                }\n                catch (err) {\n                    errorHandler(err);\n                }\n        }\n    }\n    const response = await oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.authorizationCodeGrantRequest(as, c, auth, authResponse, redirectUri, checks?.pkceCodeVerifier || oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.nopkce, {\n        additionalParameters: tokenEndpointParameters,\n        [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.customFetch]: fetch,\n        [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.allowInsecureRequests]: !tlsOnly,\n        DPoP: options?.DPoP,\n        headers: new Headers(headers),\n        signal: signal(timeout),\n    })\n        .catch(errorHandler);\n    if (typeof checks?.expectedNonce === 'string' ||\n        typeof checks?.maxAge === 'number') {\n        checks.idTokenExpected = true;\n    }\n    const p = oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.processAuthorizationCodeResponse(as, c, response, {\n        expectedNonce: checks?.expectedNonce,\n        maxAge: checks?.maxAge,\n        requireIdToken: checks?.idTokenExpected,\n        [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.jweDecrypt]: decrypt,\n    });\n    let result;\n    try {\n        result = await p;\n    }\n    catch (err) {\n        if (retryable(err, options)) {\n            return authorizationCodeGrant(config, undefined, checks, tokenEndpointParameters, {\n                ...options,\n                flag: retry,\n                authResponse: authResponse,\n                redirectUri: redirectUri,\n            });\n        }\n        errorHandler(err);\n    }\n    result.id_token && (await nonRepudiation?.(response));\n    addHelpers(result);\n    return result;\n}\nasync function validateJARMResponse(config, authorizationResponse, expectedState) {\n    const { as, c, fetch, tlsOnly, timeout, decrypt, jwksCache } = int(config);\n    return oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.validateJwtAuthResponse(as, c, authorizationResponse, expectedState, {\n        [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.customFetch]: fetch,\n        [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.allowInsecureRequests]: !tlsOnly,\n        headers: new Headers(headers),\n        signal: signal(timeout),\n        [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.jweDecrypt]: decrypt,\n        [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.jwksCache]: jwksCache,\n    })\n        .catch(errorHandler);\n}\nasync function validateCodeIdTokenResponse(config, authorizationResponse, expectedNonce, expectedState, maxAge, fapi) {\n    if (typeof expectedNonce !== 'string') {\n        throw CodedTypeError('\"expectedNonce\" must be a string', ERR_INVALID_ARG_TYPE);\n    }\n    if (expectedState !== undefined && typeof expectedState !== 'string') {\n        throw CodedTypeError('\"expectedState\" must be a string', ERR_INVALID_ARG_TYPE);\n    }\n    const { as, c, fetch, tlsOnly, timeout, decrypt, jwksCache } = int(config);\n    return (fapi\n        ? oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.validateDetachedSignatureResponse\n        : oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.validateCodeIdTokenResponse)(as, c, authorizationResponse, expectedNonce, expectedState, maxAge, {\n        [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.customFetch]: fetch,\n        [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.allowInsecureRequests]: !tlsOnly,\n        headers: new Headers(headers),\n        signal: signal(timeout),\n        [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.jweDecrypt]: decrypt,\n        [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.jwksCache]: jwksCache,\n    }).catch(errorHandler);\n}\nasync function refreshTokenGrant(config, refreshToken, parameters, options) {\n    checkConfig(config);\n    parameters = new URLSearchParams(parameters);\n    const { as, c, auth, fetch, tlsOnly, nonRepudiation, timeout, decrypt } = int(config);\n    const response = await oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.refreshTokenGrantRequest(as, c, auth, refreshToken, {\n        [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.customFetch]: fetch,\n        [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.allowInsecureRequests]: !tlsOnly,\n        additionalParameters: parameters,\n        DPoP: options?.DPoP,\n        headers: new Headers(headers),\n        signal: signal(timeout),\n    })\n        .catch(errorHandler);\n    const p = oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.processRefreshTokenResponse(as, c, response, {\n        [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.jweDecrypt]: decrypt,\n    });\n    let result;\n    try {\n        result = await p;\n    }\n    catch (err) {\n        if (retryable(err, options)) {\n            return refreshTokenGrant(config, refreshToken, parameters, {\n                ...options,\n                flag: retry,\n            });\n        }\n        errorHandler(err);\n    }\n    result.id_token && (await nonRepudiation?.(response));\n    addHelpers(result);\n    return result;\n}\nasync function clientCredentialsGrant(config, parameters, options) {\n    checkConfig(config);\n    parameters = new URLSearchParams(parameters);\n    const { as, c, auth, fetch, tlsOnly, timeout } = int(config);\n    const response = await oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.clientCredentialsGrantRequest(as, c, auth, parameters, {\n        [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.customFetch]: fetch,\n        [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.allowInsecureRequests]: !tlsOnly,\n        DPoP: options?.DPoP,\n        headers: new Headers(headers),\n        signal: signal(timeout),\n    })\n        .catch(errorHandler);\n    const p = oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.processClientCredentialsResponse(as, c, response);\n    let result;\n    try {\n        result = await p;\n    }\n    catch (err) {\n        if (retryable(err, options)) {\n            return clientCredentialsGrant(config, parameters, {\n                ...options,\n                flag: retry,\n            });\n        }\n        errorHandler(err);\n    }\n    addHelpers(result);\n    return result;\n}\nfunction buildAuthorizationUrl(config, parameters) {\n    checkConfig(config);\n    const { as, c, tlsOnly, hybrid, jarm, implicit } = int(config);\n    const authorizationEndpoint = oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.resolveEndpoint(as, 'authorization_endpoint', false, tlsOnly);\n    parameters = new URLSearchParams(parameters);\n    if (!parameters.has('client_id')) {\n        parameters.set('client_id', c.client_id);\n    }\n    if (!parameters.has('request_uri') && !parameters.has('request')) {\n        if (!parameters.has('response_type')) {\n            parameters.set('response_type', hybrid ? 'code id_token' : implicit ? 'id_token' : 'code');\n        }\n        if (implicit && !parameters.has('nonce')) {\n            throw CodedTypeError('response_type=id_token clients must provide a nonce parameter in their authorization request parameters', ERR_INVALID_ARG_VALUE);\n        }\n        if (jarm) {\n            parameters.set('response_mode', 'jwt');\n        }\n    }\n    for (const [k, v] of parameters.entries()) {\n        authorizationEndpoint.searchParams.append(k, v);\n    }\n    return authorizationEndpoint;\n}\nasync function buildAuthorizationUrlWithJAR(config, parameters, signingKey, options) {\n    checkConfig(config);\n    const authorizationEndpoint = buildAuthorizationUrl(config, parameters);\n    parameters = authorizationEndpoint.searchParams;\n    if (!signingKey) {\n        throw CodedTypeError('\"signingKey\" must be provided', ERR_INVALID_ARG_VALUE);\n    }\n    const { as, c } = int(config);\n    const request = await oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.issueRequestObject(as, c, parameters, signingKey, options)\n        .catch(errorHandler);\n    return buildAuthorizationUrl(config, { request });\n}\nasync function buildAuthorizationUrlWithPAR(config, parameters, options) {\n    checkConfig(config);\n    const authorizationEndpoint = buildAuthorizationUrl(config, parameters);\n    const { as, c, auth, fetch, tlsOnly, timeout } = int(config);\n    const response = await oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.pushedAuthorizationRequest(as, c, auth, authorizationEndpoint.searchParams, {\n        [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.customFetch]: fetch,\n        [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.allowInsecureRequests]: !tlsOnly,\n        DPoP: options?.DPoP,\n        headers: new Headers(headers),\n        signal: signal(timeout),\n    })\n        .catch(errorHandler);\n    const p = oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.processPushedAuthorizationResponse(as, c, response);\n    let result;\n    try {\n        result = await p;\n    }\n    catch (err) {\n        if (retryable(err, options)) {\n            return buildAuthorizationUrlWithPAR(config, parameters, {\n                ...options,\n                flag: retry,\n            });\n        }\n        errorHandler(err);\n    }\n    return buildAuthorizationUrl(config, { request_uri: result.request_uri });\n}\nfunction buildEndSessionUrl(config, parameters) {\n    checkConfig(config);\n    const { as, c, tlsOnly } = int(config);\n    const endSessionEndpoint = oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.resolveEndpoint(as, 'end_session_endpoint', false, tlsOnly);\n    parameters = new URLSearchParams(parameters);\n    if (!parameters.has('client_id')) {\n        parameters.set('client_id', c.client_id);\n    }\n    for (const [k, v] of parameters.entries()) {\n        endSessionEndpoint.searchParams.append(k, v);\n    }\n    return endSessionEndpoint;\n}\nfunction checkConfig(input) {\n    if (!(input instanceof Configuration)) {\n        throw CodedTypeError('\"config\" must be an instance of Configuration', ERR_INVALID_ARG_TYPE);\n    }\n    if (Object.getPrototypeOf(input) !== Configuration.prototype) {\n        throw CodedTypeError('subclassing Configuration is not allowed', ERR_INVALID_ARG_VALUE);\n    }\n}\nfunction signal(timeout) {\n    return timeout ? AbortSignal.timeout(timeout * 1000) : undefined;\n}\nasync function fetchUserInfo(config, accessToken, expectedSubject, options) {\n    checkConfig(config);\n    const { as, c, fetch, tlsOnly, nonRepudiation, timeout, decrypt } = int(config);\n    const response = await oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.userInfoRequest(as, c, accessToken, {\n        [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.customFetch]: fetch,\n        [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.allowInsecureRequests]: !tlsOnly,\n        DPoP: options?.DPoP,\n        headers: new Headers(headers),\n        signal: signal(timeout),\n    })\n        .catch(errorHandler);\n    let exec = oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.processUserInfoResponse(as, c, expectedSubject, response, {\n        [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.jweDecrypt]: decrypt,\n    });\n    let result;\n    try {\n        result = await exec;\n    }\n    catch (err) {\n        if (retryable(err, options)) {\n            return fetchUserInfo(config, accessToken, expectedSubject, {\n                ...options,\n                flag: retry,\n            });\n        }\n        errorHandler(err);\n    }\n    oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.getContentType(response) === 'application/jwt' &&\n        (await nonRepudiation?.(response));\n    return result;\n}\nfunction retryable(err, options) {\n    if (options?.DPoP && options.flag !== retry) {\n        return oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.isDPoPNonceError(err);\n    }\n    return false;\n}\nasync function tokenIntrospection(config, token, parameters) {\n    checkConfig(config);\n    const { as, c, auth, fetch, tlsOnly, nonRepudiation, timeout, decrypt } = int(config);\n    const response = await oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.introspectionRequest(as, c, auth, token, {\n        [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.customFetch]: fetch,\n        [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.allowInsecureRequests]: !tlsOnly,\n        additionalParameters: new URLSearchParams(parameters),\n        headers: new Headers(headers),\n        signal: signal(timeout),\n    })\n        .catch(errorHandler);\n    const result = await oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.processIntrospectionResponse(as, c, response, {\n        [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.jweDecrypt]: decrypt,\n    })\n        .catch(errorHandler);\n    oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.getContentType(response) === 'application/token-introspection+jwt' &&\n        (await nonRepudiation?.(response));\n    return result;\n}\nconst retry = Symbol();\nasync function genericGrantRequest(config, grantType, parameters, options) {\n    checkConfig(config);\n    const { as, c, auth, fetch, tlsOnly, timeout, decrypt } = int(config);\n    const result = await oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.genericTokenEndpointRequest(as, c, auth, grantType, new URLSearchParams(parameters), {\n        [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.customFetch]: fetch,\n        [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.allowInsecureRequests]: !tlsOnly,\n        DPoP: options?.DPoP,\n        headers: new Headers(headers),\n        signal: signal(timeout),\n    })\n        .then((response) => {\n        let recognizedTokenTypes;\n        if (grantType === 'urn:ietf:params:oauth:grant-type:token-exchange') {\n            recognizedTokenTypes = { n_a: () => { } };\n        }\n        return oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.processGenericTokenEndpointResponse(as, c, response, {\n            [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.jweDecrypt]: decrypt,\n            recognizedTokenTypes,\n        });\n    })\n        .catch(errorHandler);\n    addHelpers(result);\n    return result;\n}\nasync function tokenRevocation(config, token, parameters) {\n    checkConfig(config);\n    const { as, c, auth, fetch, tlsOnly, timeout } = int(config);\n    return oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.revocationRequest(as, c, auth, token, {\n        [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.customFetch]: fetch,\n        [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.allowInsecureRequests]: !tlsOnly,\n        additionalParameters: new URLSearchParams(parameters),\n        headers: new Headers(headers),\n        signal: signal(timeout),\n    })\n        .then(oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.processRevocationResponse)\n        .catch(errorHandler);\n}\nasync function fetchProtectedResource(config, accessToken, url, method, body, headers, options) {\n    checkConfig(config);\n    headers ||= new Headers();\n    if (!headers.has('user-agent')) {\n        headers.set('user-agent', USER_AGENT);\n    }\n    const { fetch, tlsOnly, timeout } = int(config);\n    const exec = oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.protectedResourceRequest(accessToken, method, url, headers, body, {\n        [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.customFetch]: fetch,\n        [oauth4webapi__WEBPACK_IMPORTED_MODULE_0__.allowInsecureRequests]: !tlsOnly,\n        DPoP: options?.DPoP,\n        signal: signal(timeout),\n    });\n    let result;\n    try {\n        result = await exec;\n    }\n    catch (err) {\n        if (retryable(err, options)) {\n            return fetchProtectedResource(config, accessToken, url, method, body, headers, {\n                ...options,\n                flag: retry,\n            });\n        }\n        errorHandler(err);\n    }\n    return result;\n}\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL29wZW5pZC1jbGllbnQvYnVpbGQvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXNDO0FBQ29CO0FBQ2xCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsS0FBSyxHQUFHLFFBQVE7QUFDcEMsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDNkc7QUFDN0c7QUFDTztBQUNQO0FBQ0EsZUFBZSwwREFBc0I7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDBEQUFzQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxJQUFJO0FBQ3BDO0FBQ0E7QUFDQSxnQ0FBZ0MsSUFBSTtBQUNwQztBQUNBO0FBQ087QUFDUDtBQUNBLGVBQWUsMkRBQXVCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiwyREFBdUI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxlQUFlLHlEQUFxQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIseURBQXFCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLFdBQVcsOENBQVU7QUFDckI7QUFDTztBQUNQLFdBQVcsdURBQW1CO0FBQzlCO0FBQ087QUFDUCxXQUFXLHVEQUFtQjtBQUM5QjtBQUNPLHVCQUF1Qix3REFBb0I7QUFDM0MseUJBQXlCLDBEQUFzQjtBQUMvQyxvQkFBb0IscURBQWlCO0FBQ3JDLHdCQUF3Qix5REFBcUI7QUFDN0Msa0JBQWtCLG1EQUFlO0FBQ2pDLHVCQUF1Qix3REFBb0I7QUFDbEQ7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLE9BQU87QUFDaEQseUJBQXlCLE1BQU07QUFDL0I7QUFDQTtBQUNPO0FBQ1AsV0FBVyxvRUFBZ0M7QUFDM0M7QUFDTztBQUNQLFdBQVcsb0VBQWdDO0FBQzNDO0FBQ087QUFDUCxXQUFXLDZEQUF5QjtBQUNwQztBQUNPO0FBQ1AsV0FBVyw2REFBeUI7QUFDcEM7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLGFBQWE7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsMkRBQXVCO0FBQzlDLHVCQUF1QixvRUFBZ0M7QUFDdkQsdUJBQXVCLHVFQUFtQztBQUMxRDtBQUNBO0FBQ0EsdUJBQXVCLGtFQUE4QjtBQUNyRDtBQUNBLGlCQUFpQixnRUFBNEI7QUFDN0M7QUFDQSxpQkFBaUIsb0VBQWdDO0FBQ2pEO0FBQ0EsaUJBQWlCLGlFQUE2QjtBQUM5QztBQUNBLGlCQUFpQiw4REFBMEI7QUFDM0M7QUFDQSxpQkFBaUIscURBQWlCO0FBQ2xDO0FBQ0EsaUJBQWlCLDBEQUFzQjtBQUN2QztBQUNBLGlCQUFpQiw4REFBMEI7QUFDM0M7QUFDQSxpQkFBaUIsbUVBQStCO0FBQ2hEO0FBQ0EsaUJBQWlCLDZEQUF5QjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLG1FQUErQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELCtEQUEyQjtBQUNuRjtBQUNBLDhEQUE4RCwrREFBMkI7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELFlBQVk7QUFDaEU7QUFDTztBQUNQLFdBQVcseURBQ2E7QUFDeEI7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsbURBQWU7QUFDOUMsb0NBQW9DLHdEQUFvQjtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLDBFQUNrQjtBQUM3QztBQUNBO0FBQ0E7QUFDQSxhQUFhLHFEQUFpQjtBQUM5QixhQUFhLCtEQUEyQjtBQUN4QztBQUNBLFNBQVM7QUFDVCxrQkFBa0Isa0ZBQThDO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGVBQWUsbURBQWU7QUFDOUIsZUFBZSx3REFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLDBEQUFzQjtBQUNoQztBQUNBLGFBQWEscURBQWlCO0FBQzlCLGFBQWEsK0RBQTJCO0FBQ3hDO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxZQUFZLHVEQUFtQjtBQUMvQjtBQUNBLFNBQVM7QUFDVCxzREFBc0Qsd0NBQXdDO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULDRCQUE0QixrRUFBOEIsQ0FBQywyREFBdUI7QUFDbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLG1FQUErQjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkVBQTZFLElBQUk7QUFDakY7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxJQUFJLEdBQUcsSUFBSTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGlCQUFpQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsd0VBQWM7QUFDL0MsZ0JBQWdCLGdCQUFnQjtBQUNoQztBQUNBLEtBQUssSUFBSSxzREFBc0Q7QUFDL0QsMkJBQTJCLGtEQUFTO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG1EQUFlLGVBQWUsbURBQWU7QUFDNUQsZUFBZSx3REFBb0IsZUFBZSx3REFBb0I7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IseURBQXFCLE9BQU8sVUFBVSxPQUFPLDZCQUE2QixTQUFTO0FBQ3JHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLG1FQUErQjtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxXQUFXLDhDQUFVO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isa0VBQThCLHVDQUF1QyxpQkFBaUI7QUFDeEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksZ0VBQWdFO0FBQzVFO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsMkJBQTJCLGdFQUNJO0FBQy9CLFNBQVMscURBQWlCO0FBQzFCLFNBQVMsK0RBQTJCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsbUVBQStCO0FBQzdDLFNBQVMsb0RBQWdCO0FBQ3pCLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLDJEQUF1QjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLFlBQVksdUNBQXVDO0FBQ25ELFdBQVcsb0VBQ3dCO0FBQ25DLFNBQVMscURBQWlCO0FBQzFCLFNBQVMsK0RBQTJCO0FBQ3BDO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsNEJBQTRCLDRFQUF3QztBQUNwRTtBQUNBO0FBQ087QUFDUDtBQUNBLFlBQVksdUNBQXVDO0FBQ25ELFdBQVcsMEVBQzhCO0FBQ3pDLFNBQVMscURBQWlCO0FBQzFCLFNBQVMsK0RBQTJCO0FBQ3BDO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsNEJBQTRCLGtGQUE4QztBQUMxRTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxnRUFBZ0U7QUFDNUU7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCwyQkFBMkIsK0VBQ21CO0FBQzlDLFNBQVMscURBQWlCO0FBQzFCLFNBQVMsK0RBQTJCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsdUZBQW1EO0FBQ2pFLFNBQVMsb0RBQWdCO0FBQ3pCLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLDJEQUF1QjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxnQkFBZ0IseUNBQXlDO0FBQ3pELGVBQWUsMkVBQytCO0FBQzlDLGFBQWEscURBQWlCO0FBQzlCLGFBQWEsK0RBQTJCO0FBQ3hDO0FBQ0E7QUFDQSxhQUFhLG1EQUFlO0FBQzVCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsWUFBWSxtQkFBbUI7QUFDL0I7QUFDQSwrRkFBK0YsK0RBQTJCO0FBQzFIO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxnR0FBZ0csK0RBQTJCO0FBQzNIO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksK0RBQStEO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQsMERBQXNCO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksOERBQTBCO0FBQ3RDO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLHVDQUF1QyxvQ0FBb0M7QUFDM0UsYUFBYTtBQUNiLDhCQUE4QiwwRUFBc0M7QUFDcEU7QUFDQTtBQUNBLGlCQUFpQixvREFBZ0I7QUFDakMsYUFBYTtBQUNiLGtCQUFrQiwyRUFBdUM7QUFDekQsaUJBQWlCLHFEQUFpQjtBQUNsQyxpQkFBaUIsK0RBQTJCO0FBQzVDO0FBQ0E7QUFDQSxpQkFBaUIsbURBQWU7QUFDaEMsYUFBYTtBQUNiLG1CQUFtQixtRUFBK0I7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLFlBQVksaUJBQWlCO0FBQzdCO0FBQ0EsbUhBQW1ILCtEQUEyQjtBQUM5STtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsWUFBWSxlQUFlO0FBQzNCO0FBQ0EsNEdBQTRHLCtEQUEyQjtBQUN2STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSx3RkFBd0Y7QUFDcEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELDBEQUFzQjtBQUNuRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyw4REFBMEI7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHVFQUNXLHFFQUFxRSxnREFBWTtBQUN2SDtBQUNBLFNBQVMscURBQWlCO0FBQzFCLFNBQVMsK0RBQTJCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYywwRUFBc0M7QUFDcEQ7QUFDQTtBQUNBO0FBQ0EsU0FBUyxvREFBZ0I7QUFDekIsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVkscURBQXFEO0FBQ2pFLFdBQVcsaUVBQ3FCO0FBQ2hDLFNBQVMscURBQWlCO0FBQzFCLFNBQVMsK0RBQTJCO0FBQ3BDO0FBQ0E7QUFDQSxTQUFTLG9EQUFnQjtBQUN6QixTQUFTLG1EQUFlO0FBQ3hCLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHFEQUFxRDtBQUNqRTtBQUNBLFVBQVUsMkVBQXVDO0FBQ2pELFVBQVUscUVBQWlDO0FBQzNDLFNBQVMscURBQWlCO0FBQzFCLFNBQVMsK0RBQTJCO0FBQ3BDO0FBQ0E7QUFDQSxTQUFTLG9EQUFnQjtBQUN6QixTQUFTLG1EQUFlO0FBQ3hCLEtBQUs7QUFDTDtBQUNPO0FBQ1A7QUFDQTtBQUNBLFlBQVksZ0VBQWdFO0FBQzVFLDJCQUEyQixrRUFDTTtBQUNqQyxTQUFTLHFEQUFpQjtBQUMxQixTQUFTLCtEQUEyQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLGNBQWMscUVBQWlDO0FBQy9DLFNBQVMsb0RBQWdCO0FBQ3pCLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxZQUFZLHVDQUF1QztBQUNuRCwyQkFBMkIsdUVBQ1c7QUFDdEMsU0FBUyxxREFBaUI7QUFDMUIsU0FBUywrREFBMkI7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsY0FBYywwRUFBc0M7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxZQUFZLHlDQUF5QztBQUNyRCxrQ0FBa0MseURBQXFCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksUUFBUTtBQUNwQiwwQkFBMEIsNERBQ0M7QUFDM0I7QUFDQSwyQ0FBMkMsU0FBUztBQUNwRDtBQUNPO0FBQ1A7QUFDQTtBQUNBLFlBQVksdUNBQXVDO0FBQ25ELDJCQUEyQixvRUFDUTtBQUNuQyxTQUFTLHFEQUFpQjtBQUMxQixTQUFTLCtEQUEyQjtBQUNwQztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxjQUFjLDRFQUF3QztBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLGlDQUFpQztBQUM1RTtBQUNPO0FBQ1A7QUFDQSxZQUFZLGlCQUFpQjtBQUM3QiwrQkFBK0IseURBQXFCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsWUFBWSwwREFBMEQ7QUFDdEUsMkJBQTJCLHlEQUNIO0FBQ3hCLFNBQVMscURBQWlCO0FBQzFCLFNBQVMsK0RBQTJCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLGVBQWUsaUVBQTZCO0FBQzVDLFNBQVMsb0RBQWdCO0FBQ3pCLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsSUFBSSx3REFBb0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsMERBQXNCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxZQUFZLGdFQUFnRTtBQUM1RSwyQkFBMkIsOERBQ0U7QUFDN0IsU0FBUyxxREFBaUI7QUFDMUIsU0FBUywrREFBMkI7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EseUJBQXlCLHNFQUNZO0FBQ3JDLFNBQVMsb0RBQWdCO0FBQ3pCLEtBQUs7QUFDTDtBQUNBLElBQUksd0RBQW9CO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLFlBQVksZ0RBQWdEO0FBQzVELHlCQUF5QixxRUFDVztBQUNwQyxTQUFTLHFEQUFpQjtBQUMxQixTQUFTLCtEQUEyQjtBQUNwQztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0EsZUFBZSw2RUFBeUM7QUFDeEQsYUFBYSxvREFBZ0I7QUFDN0I7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLFlBQVksdUNBQXVDO0FBQ25ELFdBQVcsMkRBQ2U7QUFDMUIsU0FBUyxxREFBaUI7QUFDMUIsU0FBUywrREFBMkI7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGNBQWMsbUVBQStCO0FBQzdDO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDBCQUEwQjtBQUN0QyxpQkFBaUIsa0VBQThCO0FBQy9DLFNBQVMscURBQWlCO0FBQzFCLFNBQVMsK0RBQTJCO0FBQ3BDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcb3BlbmlkLWNsaWVudFxcYnVpbGRcXGluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIG9hdXRoIGZyb20gJ29hdXRoNHdlYmFwaSc7XG5pbXBvcnQgeyBjb21wYWN0RGVjcnlwdCB9IGZyb20gJ2pvc2UvandlL2NvbXBhY3QvZGVjcnlwdCc7XG5pbXBvcnQgeyBKT1NFRXJyb3IgfSBmcm9tICdqb3NlL2Vycm9ycyc7XG5sZXQgaGVhZGVycztcbmxldCBVU0VSX0FHRU5UO1xuaWYgKHR5cGVvZiBuYXZpZ2F0b3IgPT09ICd1bmRlZmluZWQnIHx8ICFuYXZpZ2F0b3IudXNlckFnZW50Py5zdGFydHNXaXRoPy4oJ01vemlsbGEvNS4wICcpKSB7XG4gICAgY29uc3QgTkFNRSA9ICdvcGVuaWQtY2xpZW50JztcbiAgICBjb25zdCBWRVJTSU9OID0gJ3Y2LjguMSc7XG4gICAgVVNFUl9BR0VOVCA9IGAke05BTUV9LyR7VkVSU0lPTn1gO1xuICAgIGhlYWRlcnMgPSB7ICd1c2VyLWFnZW50JzogVVNFUl9BR0VOVCB9O1xufVxuY29uc3QgaW50ID0gKGNvbmZpZykgPT4ge1xuICAgIHJldHVybiBwcm9wcy5nZXQoY29uZmlnKTtcbn07XG5sZXQgcHJvcHM7XG5leHBvcnQgeyBBdXRob3JpemF0aW9uUmVzcG9uc2VFcnJvciwgUmVzcG9uc2VCb2R5RXJyb3IsIFdXV0F1dGhlbnRpY2F0ZUNoYWxsZW5nZUVycm9yLCB9IGZyb20gJ29hdXRoNHdlYmFwaSc7XG5sZXQgdGJpO1xuZXhwb3J0IGZ1bmN0aW9uIENsaWVudFNlY3JldFBvc3QoY2xpZW50U2VjcmV0KSB7XG4gICAgaWYgKGNsaWVudFNlY3JldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBvYXV0aC5DbGllbnRTZWNyZXRQb3N0KGNsaWVudFNlY3JldCk7XG4gICAgfVxuICAgIHRiaSB8fD0gbmV3IFdlYWtNYXAoKTtcbiAgICByZXR1cm4gKGFzLCBjbGllbnQsIGJvZHksIGhlYWRlcnMpID0+IHtcbiAgICAgICAgbGV0IGF1dGg7XG4gICAgICAgIGlmICghKGF1dGggPSB0YmkuZ2V0KGNsaWVudCkpKSB7XG4gICAgICAgICAgICBhc3NlcnRTdHJpbmcoY2xpZW50LmNsaWVudF9zZWNyZXQsICdcIm1ldGFkYXRhLmNsaWVudF9zZWNyZXRcIicpO1xuICAgICAgICAgICAgYXV0aCA9IG9hdXRoLkNsaWVudFNlY3JldFBvc3QoY2xpZW50LmNsaWVudF9zZWNyZXQpO1xuICAgICAgICAgICAgdGJpLnNldChjbGllbnQsIGF1dGgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhdXRoKGFzLCBjbGllbnQsIGJvZHksIGhlYWRlcnMpO1xuICAgIH07XG59XG5mdW5jdGlvbiBhc3NlcnRTdHJpbmcoaW5wdXQsIGl0KSB7XG4gICAgaWYgKHR5cGVvZiBpbnB1dCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhyb3cgQ29kZWRUeXBlRXJyb3IoYCR7aXR9IG11c3QgYmUgYSBzdHJpbmdgLCBFUlJfSU5WQUxJRF9BUkdfVFlQRSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgQ29kZWRUeXBlRXJyb3IoYCR7aXR9IG11c3Qgbm90IGJlIGVtcHR5YCwgRVJSX0lOVkFMSURfQVJHX1ZBTFVFKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gQ2xpZW50U2VjcmV0QmFzaWMoY2xpZW50U2VjcmV0KSB7XG4gICAgaWYgKGNsaWVudFNlY3JldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBvYXV0aC5DbGllbnRTZWNyZXRCYXNpYyhjbGllbnRTZWNyZXQpO1xuICAgIH1cbiAgICB0YmkgfHw9IG5ldyBXZWFrTWFwKCk7XG4gICAgcmV0dXJuIChhcywgY2xpZW50LCBib2R5LCBoZWFkZXJzKSA9PiB7XG4gICAgICAgIGxldCBhdXRoO1xuICAgICAgICBpZiAoIShhdXRoID0gdGJpLmdldChjbGllbnQpKSkge1xuICAgICAgICAgICAgYXNzZXJ0U3RyaW5nKGNsaWVudC5jbGllbnRfc2VjcmV0LCAnXCJtZXRhZGF0YS5jbGllbnRfc2VjcmV0XCInKTtcbiAgICAgICAgICAgIGF1dGggPSBvYXV0aC5DbGllbnRTZWNyZXRCYXNpYyhjbGllbnQuY2xpZW50X3NlY3JldCk7XG4gICAgICAgICAgICB0Ymkuc2V0KGNsaWVudCwgYXV0aCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGF1dGgoYXMsIGNsaWVudCwgYm9keSwgaGVhZGVycyk7XG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBDbGllbnRTZWNyZXRKd3QoY2xpZW50U2VjcmV0LCBvcHRpb25zKSB7XG4gICAgaWYgKGNsaWVudFNlY3JldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBvYXV0aC5DbGllbnRTZWNyZXRKd3QoY2xpZW50U2VjcmV0LCBvcHRpb25zKTtcbiAgICB9XG4gICAgdGJpIHx8PSBuZXcgV2Vha01hcCgpO1xuICAgIHJldHVybiAoYXMsIGNsaWVudCwgYm9keSwgaGVhZGVycykgPT4ge1xuICAgICAgICBsZXQgYXV0aDtcbiAgICAgICAgaWYgKCEoYXV0aCA9IHRiaS5nZXQoY2xpZW50KSkpIHtcbiAgICAgICAgICAgIGFzc2VydFN0cmluZyhjbGllbnQuY2xpZW50X3NlY3JldCwgJ1wibWV0YWRhdGEuY2xpZW50X3NlY3JldFwiJyk7XG4gICAgICAgICAgICBhdXRoID0gb2F1dGguQ2xpZW50U2VjcmV0Snd0KGNsaWVudC5jbGllbnRfc2VjcmV0LCBvcHRpb25zKTtcbiAgICAgICAgICAgIHRiaS5zZXQoY2xpZW50LCBhdXRoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXV0aChhcywgY2xpZW50LCBib2R5LCBoZWFkZXJzKTtcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIE5vbmUoKSB7XG4gICAgcmV0dXJuIG9hdXRoLk5vbmUoKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBQcml2YXRlS2V5Snd0KGNsaWVudFByaXZhdGVLZXksIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gb2F1dGguUHJpdmF0ZUtleUp3dChjbGllbnRQcml2YXRlS2V5LCBvcHRpb25zKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBUbHNDbGllbnRBdXRoKCkge1xuICAgIHJldHVybiBvYXV0aC5UbHNDbGllbnRBdXRoKCk7XG59XG5leHBvcnQgY29uc3Qgc2tpcFN0YXRlQ2hlY2sgPSBvYXV0aC5za2lwU3RhdGVDaGVjaztcbmV4cG9ydCBjb25zdCBza2lwU3ViamVjdENoZWNrID0gb2F1dGguc2tpcFN1YmplY3RDaGVjaztcbmV4cG9ydCBjb25zdCBjdXN0b21GZXRjaCA9IG9hdXRoLmN1c3RvbUZldGNoO1xuZXhwb3J0IGNvbnN0IG1vZGlmeUFzc2VydGlvbiA9IG9hdXRoLm1vZGlmeUFzc2VydGlvbjtcbmV4cG9ydCBjb25zdCBjbG9ja1NrZXcgPSBvYXV0aC5jbG9ja1NrZXc7XG5leHBvcnQgY29uc3QgY2xvY2tUb2xlcmFuY2UgPSBvYXV0aC5jbG9ja1RvbGVyYW5jZTtcbmNvbnN0IEVSUl9JTlZBTElEX0FSR19WQUxVRSA9ICdFUlJfSU5WQUxJRF9BUkdfVkFMVUUnO1xuY29uc3QgRVJSX0lOVkFMSURfQVJHX1RZUEUgPSAnRVJSX0lOVkFMSURfQVJHX1RZUEUnO1xuZnVuY3Rpb24gQ29kZWRUeXBlRXJyb3IobWVzc2FnZSwgY29kZSwgY2F1c2UpIHtcbiAgICBjb25zdCBlcnIgPSBuZXcgVHlwZUVycm9yKG1lc3NhZ2UsIHsgY2F1c2UgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihlcnIsIHsgY29kZSB9KTtcbiAgICByZXR1cm4gZXJyO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZVBLQ0VDb2RlQ2hhbGxlbmdlKGNvZGVWZXJpZmllcikge1xuICAgIHJldHVybiBvYXV0aC5jYWxjdWxhdGVQS0NFQ29kZUNoYWxsZW5nZShjb2RlVmVyaWZpZXIpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbVBLQ0VDb2RlVmVyaWZpZXIoKSB7XG4gICAgcmV0dXJuIG9hdXRoLmdlbmVyYXRlUmFuZG9tQ29kZVZlcmlmaWVyKCk7XG59XG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tTm9uY2UoKSB7XG4gICAgcmV0dXJuIG9hdXRoLmdlbmVyYXRlUmFuZG9tTm9uY2UoKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiByYW5kb21TdGF0ZSgpIHtcbiAgICByZXR1cm4gb2F1dGguZ2VuZXJhdGVSYW5kb21TdGF0ZSgpO1xufVxuZXhwb3J0IGNsYXNzIENsaWVudEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvZGU7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcihtZXNzYWdlLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5uYW1lID0gdGhpcy5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICB0aGlzLmNvZGUgPSBvcHRpb25zPy5jb2RlO1xuICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZT8uKHRoaXMsIHRoaXMuY29uc3RydWN0b3IpO1xuICAgIH1cbn1cbmNvbnN0IGRlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoKTtcbmZ1bmN0aW9uIGUobXNnLCBjYXVzZSwgY29kZSkge1xuICAgIHJldHVybiBuZXcgQ2xpZW50RXJyb3IobXNnLCB7IGNhdXNlLCBjb2RlIH0pO1xufVxuZnVuY3Rpb24gZXJyb3JIYW5kbGVyKGVycikge1xuICAgIGlmIChlcnIgaW5zdGFuY2VvZiBUeXBlRXJyb3IgfHxcbiAgICAgICAgZXJyIGluc3RhbmNlb2YgQ2xpZW50RXJyb3IgfHxcbiAgICAgICAgZXJyIGluc3RhbmNlb2Ygb2F1dGguUmVzcG9uc2VCb2R5RXJyb3IgfHxcbiAgICAgICAgZXJyIGluc3RhbmNlb2Ygb2F1dGguQXV0aG9yaXphdGlvblJlc3BvbnNlRXJyb3IgfHxcbiAgICAgICAgZXJyIGluc3RhbmNlb2Ygb2F1dGguV1dXQXV0aGVudGljYXRlQ2hhbGxlbmdlRXJyb3IpIHtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgICBpZiAoZXJyIGluc3RhbmNlb2Ygb2F1dGguT3BlcmF0aW9uUHJvY2Vzc2luZ0Vycm9yKSB7XG4gICAgICAgIHN3aXRjaCAoZXJyLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2Ugb2F1dGguSFRUUF9SRVFVRVNUX0ZPUkJJRERFTjpcbiAgICAgICAgICAgICAgICB0aHJvdyBlKCdvbmx5IHJlcXVlc3RzIHRvIEhUVFBTIGFyZSBhbGxvd2VkJywgZXJyLCBlcnIuY29kZSk7XG4gICAgICAgICAgICBjYXNlIG9hdXRoLlJFUVVFU1RfUFJPVE9DT0xfRk9SQklEREVOOlxuICAgICAgICAgICAgICAgIHRocm93IGUoJ29ubHkgcmVxdWVzdHMgdG8gSFRUUCBvciBIVFRQUyBhcmUgYWxsb3dlZCcsIGVyciwgZXJyLmNvZGUpO1xuICAgICAgICAgICAgY2FzZSBvYXV0aC5SRVNQT05TRV9JU19OT1RfQ09ORk9STTpcbiAgICAgICAgICAgICAgICB0aHJvdyBlKCd1bmV4cGVjdGVkIEhUVFAgcmVzcG9uc2Ugc3RhdHVzIGNvZGUnLCBlcnIuY2F1c2UsIGVyci5jb2RlKTtcbiAgICAgICAgICAgIGNhc2Ugb2F1dGguUkVTUE9OU0VfSVNfTk9UX0pTT046XG4gICAgICAgICAgICAgICAgdGhyb3cgZSgndW5leHBlY3RlZCByZXNwb25zZSBjb250ZW50LXR5cGUnLCBlcnIuY2F1c2UsIGVyci5jb2RlKTtcbiAgICAgICAgICAgIGNhc2Ugb2F1dGguUEFSU0VfRVJST1I6XG4gICAgICAgICAgICAgICAgdGhyb3cgZSgncGFyc2luZyBlcnJvciBvY2N1cmVkJywgZXJyLCBlcnIuY29kZSk7XG4gICAgICAgICAgICBjYXNlIG9hdXRoLklOVkFMSURfUkVTUE9OU0U6XG4gICAgICAgICAgICAgICAgdGhyb3cgZSgnaW52YWxpZCByZXNwb25zZSBlbmNvdW50ZXJlZCcsIGVyciwgZXJyLmNvZGUpO1xuICAgICAgICAgICAgY2FzZSBvYXV0aC5KV1RfQ0xBSU1fQ09NUEFSSVNPTjpcbiAgICAgICAgICAgICAgICB0aHJvdyBlKCd1bmV4cGVjdGVkIEpXVCBjbGFpbSB2YWx1ZSBlbmNvdW50ZXJlZCcsIGVyciwgZXJyLmNvZGUpO1xuICAgICAgICAgICAgY2FzZSBvYXV0aC5KU09OX0FUVFJJQlVURV9DT01QQVJJU09OOlxuICAgICAgICAgICAgICAgIHRocm93IGUoJ3VuZXhwZWN0ZWQgSlNPTiBhdHRyaWJ1dGUgdmFsdWUgZW5jb3VudGVyZWQnLCBlcnIsIGVyci5jb2RlKTtcbiAgICAgICAgICAgIGNhc2Ugb2F1dGguSldUX1RJTUVTVEFNUF9DSEVDSzpcbiAgICAgICAgICAgICAgICB0aHJvdyBlKCdKV1QgdGltZXN0YW1wIGNsYWltIHZhbHVlIGZhaWxlZCB2YWxpZGF0aW9uJywgZXJyLCBlcnIuY29kZSk7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IGUoZXJyLm1lc3NhZ2UsIGVyciwgZXJyLmNvZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChlcnIgaW5zdGFuY2VvZiBvYXV0aC5VbnN1cHBvcnRlZE9wZXJhdGlvbkVycm9yKSB7XG4gICAgICAgIHRocm93IGUoJ3Vuc3VwcG9ydGVkIG9wZXJhdGlvbicsIGVyciwgZXJyLmNvZGUpO1xuICAgIH1cbiAgICBpZiAoZXJyIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uKSB7XG4gICAgICAgIHN3aXRjaCAoZXJyLm5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgJ09wZXJhdGlvbkVycm9yJzpcbiAgICAgICAgICAgICAgICB0aHJvdyBlKCdydW50aW1lIG9wZXJhdGlvbiBlcnJvcicsIGVyciwgb2F1dGguVU5TVVBQT1JURURfT1BFUkFUSU9OKTtcbiAgICAgICAgICAgIGNhc2UgJ05vdFN1cHBvcnRlZEVycm9yJzpcbiAgICAgICAgICAgICAgICB0aHJvdyBlKCdydW50aW1lIHVuc3VwcG9ydGVkIG9wZXJhdGlvbicsIGVyciwgb2F1dGguVU5TVVBQT1JURURfT1BFUkFUSU9OKTtcbiAgICAgICAgICAgIGNhc2UgJ1RpbWVvdXRFcnJvcic6XG4gICAgICAgICAgICAgICAgdGhyb3cgZSgnb3BlcmF0aW9uIHRpbWVkIG91dCcsIGVyciwgJ09BVVRIX1RJTUVPVVQnKTtcbiAgICAgICAgICAgIGNhc2UgJ0Fib3J0RXJyb3InOlxuICAgICAgICAgICAgICAgIHRocm93IGUoJ29wZXJhdGlvbiBhYm9ydGVkJywgZXJyLCAnT0FVVEhfQUJPUlQnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBuZXcgQ2xpZW50RXJyb3IoJ3NvbWV0aGluZyB3ZW50IHdyb25nJywgeyBjYXVzZTogZXJyIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbURQb1BLZXlQYWlyKGFsZywgb3B0aW9ucykge1xuICAgIHJldHVybiBvYXV0aFxuICAgICAgICAuZ2VuZXJhdGVLZXlQYWlyKGFsZyA/PyAnRVMyNTYnLCB7XG4gICAgICAgIGV4dHJhY3RhYmxlOiBvcHRpb25zPy5leHRyYWN0YWJsZSxcbiAgICB9KVxuICAgICAgICAuY2F0Y2goZXJyb3JIYW5kbGVyKTtcbn1cbmZ1bmN0aW9uIGhhbmRsZUVudHJhSWQoc2VydmVyLCBhcywgb3B0aW9ucykge1xuICAgIGlmIChzZXJ2ZXIub3JpZ2luID09PSAnaHR0cHM6Ly9sb2dpbi5taWNyb3NvZnRvbmxpbmUuY29tJyAmJlxuICAgICAgICAoIW9wdGlvbnM/LmFsZ29yaXRobSB8fCBvcHRpb25zLmFsZ29yaXRobSA9PT0gJ29pZGMnKSkge1xuICAgICAgICBhc1trRW50cmFJZF0gPSB0cnVlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gaGFuZGxlQjJDbG9naW4oc2VydmVyLCBvcHRpb25zKSB7XG4gICAgaWYgKHNlcnZlci5ob3N0bmFtZS5lbmRzV2l0aCgnLmIyY2xvZ2luLmNvbScpICYmXG4gICAgICAgICghb3B0aW9ucz8uYWxnb3JpdGhtIHx8IG9wdGlvbnMuYWxnb3JpdGhtID09PSAnb2lkYycpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZHluYW1pY0NsaWVudFJlZ2lzdHJhdGlvbihzZXJ2ZXIsIG1ldGFkYXRhLCBjbGllbnRBdXRoZW50aWNhdGlvbiwgb3B0aW9ucykge1xuICAgIGxldCBhcztcbiAgICBpZiAob3B0aW9ucz8uZmxhZyA9PT0gcmV0cnkpIHtcbiAgICAgICAgYXMgPSBvcHRpb25zLmFzO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYXMgPSBhd2FpdCBwZXJmb3JtRGlzY292ZXJ5KHNlcnZlciwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGNvbnN0IGNsb2NrU2tldyA9IG1ldGFkYXRhW29hdXRoLmNsb2NrU2tld10gPz8gMDtcbiAgICBjb25zdCBjbG9ja1RvbGVyYW5jZSA9IG1ldGFkYXRhW29hdXRoLmNsb2NrVG9sZXJhbmNlXSA/PyAzMDtcbiAgICBtZXRhZGF0YSA9IHN0cnVjdHVyZWRDbG9uZShtZXRhZGF0YSk7XG4gICAgY29uc3QgdGltZW91dCA9IG9wdGlvbnM/LnRpbWVvdXQgPz8gMzA7XG4gICAgY29uc3Qgc2lnbmFsID0gQWJvcnRTaWduYWwudGltZW91dCh0aW1lb3V0ICogMTAwMCk7XG4gICAgbGV0IHJlZ2lzdGVyZWQ7XG4gICAgdHJ5IHtcbiAgICAgICAgcmVnaXN0ZXJlZCA9IGF3YWl0IG9hdXRoXG4gICAgICAgICAgICAuZHluYW1pY0NsaWVudFJlZ2lzdHJhdGlvblJlcXVlc3QoYXMsIG1ldGFkYXRhLCB7XG4gICAgICAgICAgICBpbml0aWFsQWNjZXNzVG9rZW46IG9wdGlvbnM/LmluaXRpYWxBY2Nlc3NUb2tlbixcbiAgICAgICAgICAgIERQb1A6IG9wdGlvbnM/LkRQb1AsXG4gICAgICAgICAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyhoZWFkZXJzKSxcbiAgICAgICAgICAgIFtvYXV0aC5jdXN0b21GZXRjaF06IG9wdGlvbnM/LltjdXN0b21GZXRjaF0sXG4gICAgICAgICAgICBbb2F1dGguYWxsb3dJbnNlY3VyZVJlcXVlc3RzXTogb3B0aW9ucz8uZXhlY3V0ZT8uaW5jbHVkZXMoYWxsb3dJbnNlY3VyZVJlcXVlc3RzKSxcbiAgICAgICAgICAgIHNpZ25hbCxcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKG9hdXRoLnByb2Nlc3NEeW5hbWljQ2xpZW50UmVnaXN0cmF0aW9uUmVzcG9uc2UpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGlmIChyZXRyeWFibGUoZXJyLCBvcHRpb25zKSkge1xuICAgICAgICAgICAgcmV0dXJuIGR5bmFtaWNDbGllbnRSZWdpc3RyYXRpb24oc2VydmVyLCBtZXRhZGF0YSwgY2xpZW50QXV0aGVudGljYXRpb24sIHtcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgICAgIGZsYWc6IHJldHJ5LFxuICAgICAgICAgICAgICAgIGFzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZXJyb3JIYW5kbGVyKGVycik7XG4gICAgfVxuICAgIHJlZ2lzdGVyZWRbb2F1dGguY2xvY2tTa2V3XSA9IGNsb2NrU2tldztcbiAgICByZWdpc3RlcmVkW29hdXRoLmNsb2NrVG9sZXJhbmNlXSA9IGNsb2NrVG9sZXJhbmNlO1xuICAgIGNvbnN0IGluc3RhbmNlID0gbmV3IENvbmZpZ3VyYXRpb24oYXMsIHJlZ2lzdGVyZWQuY2xpZW50X2lkLCByZWdpc3RlcmVkLCBjbGllbnRBdXRoZW50aWNhdGlvbik7XG4gICAgbGV0IGludGVybmFscyA9IGludChpbnN0YW5jZSk7XG4gICAgaWYgKG9wdGlvbnM/LltjdXN0b21GZXRjaF0pIHtcbiAgICAgICAgaW50ZXJuYWxzLmZldGNoID0gb3B0aW9uc1tjdXN0b21GZXRjaF07XG4gICAgfVxuICAgIGlmIChvcHRpb25zPy50aW1lb3V0KSB7XG4gICAgICAgIGludGVybmFscy50aW1lb3V0ID0gb3B0aW9ucy50aW1lb3V0O1xuICAgIH1cbiAgICBpZiAob3B0aW9ucz8uZXhlY3V0ZSkge1xuICAgICAgICBmb3IgKGNvbnN0IGV4dGVuc2lvbiBvZiBvcHRpb25zLmV4ZWN1dGUpIHtcbiAgICAgICAgICAgIGV4dGVuc2lvbihpbnN0YW5jZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGluc3RhbmNlO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRpc2NvdmVyeShzZXJ2ZXIsIGNsaWVudElkLCBtZXRhZGF0YSwgY2xpZW50QXV0aGVudGljYXRpb24sIG9wdGlvbnMpIHtcbiAgICBjb25zdCBhcyA9IGF3YWl0IHBlcmZvcm1EaXNjb3Zlcnkoc2VydmVyLCBvcHRpb25zKTtcbiAgICBjb25zdCBpbnN0YW5jZSA9IG5ldyBDb25maWd1cmF0aW9uKGFzLCBjbGllbnRJZCwgbWV0YWRhdGEsIGNsaWVudEF1dGhlbnRpY2F0aW9uKTtcbiAgICBsZXQgaW50ZXJuYWxzID0gaW50KGluc3RhbmNlKTtcbiAgICBpZiAob3B0aW9ucz8uW2N1c3RvbUZldGNoXSkge1xuICAgICAgICBpbnRlcm5hbHMuZmV0Y2ggPSBvcHRpb25zW2N1c3RvbUZldGNoXTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnM/LnRpbWVvdXQpIHtcbiAgICAgICAgaW50ZXJuYWxzLnRpbWVvdXQgPSBvcHRpb25zLnRpbWVvdXQ7XG4gICAgfVxuICAgIGlmIChvcHRpb25zPy5leGVjdXRlKSB7XG4gICAgICAgIGZvciAoY29uc3QgZXh0ZW5zaW9uIG9mIG9wdGlvbnMuZXhlY3V0ZSkge1xuICAgICAgICAgICAgZXh0ZW5zaW9uKGluc3RhbmNlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaW5zdGFuY2U7XG59XG5hc3luYyBmdW5jdGlvbiBwZXJmb3JtRGlzY292ZXJ5KHNlcnZlciwgb3B0aW9ucykge1xuICAgIGlmICghKHNlcnZlciBpbnN0YW5jZW9mIFVSTCkpIHtcbiAgICAgICAgdGhyb3cgQ29kZWRUeXBlRXJyb3IoJ1wic2VydmVyXCIgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiBVUkwnLCBFUlJfSU5WQUxJRF9BUkdfVFlQRSk7XG4gICAgfVxuICAgIGNvbnN0IHJlc29sdmUgPSAhc2VydmVyLmhyZWYuaW5jbHVkZXMoJy8ud2VsbC1rbm93bi8nKTtcbiAgICBjb25zdCB0aW1lb3V0ID0gb3B0aW9ucz8udGltZW91dCA/PyAzMDtcbiAgICBjb25zdCBzaWduYWwgPSBBYm9ydFNpZ25hbC50aW1lb3V0KHRpbWVvdXQgKiAxMDAwKTtcbiAgICBjb25zdCBhcyA9IGF3YWl0IChyZXNvbHZlXG4gICAgICAgID8gb2F1dGguZGlzY292ZXJ5UmVxdWVzdChzZXJ2ZXIsIHtcbiAgICAgICAgICAgIGFsZ29yaXRobTogb3B0aW9ucz8uYWxnb3JpdGhtLFxuICAgICAgICAgICAgW29hdXRoLmN1c3RvbUZldGNoXTogb3B0aW9ucz8uW2N1c3RvbUZldGNoXSxcbiAgICAgICAgICAgIFtvYXV0aC5hbGxvd0luc2VjdXJlUmVxdWVzdHNdOiBvcHRpb25zPy5leGVjdXRlPy5pbmNsdWRlcyhhbGxvd0luc2VjdXJlUmVxdWVzdHMpLFxuICAgICAgICAgICAgc2lnbmFsLFxuICAgICAgICAgICAgaGVhZGVyczogbmV3IEhlYWRlcnMoaGVhZGVycyksXG4gICAgICAgIH0pXG4gICAgICAgIDogKG9wdGlvbnM/LltjdXN0b21GZXRjaF0gfHwgZmV0Y2gpKCgoKSA9PiB7XG4gICAgICAgICAgICBvYXV0aC5jaGVja1Byb3RvY29sKHNlcnZlciwgb3B0aW9ucz8uZXhlY3V0ZT8uaW5jbHVkZXMoYWxsb3dJbnNlY3VyZVJlcXVlc3RzKSA/IGZhbHNlIDogdHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm4gc2VydmVyLmhyZWY7XG4gICAgICAgIH0pKCksIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IE9iamVjdC5mcm9tRW50cmllcyhuZXcgSGVhZGVycyh7IGFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLCAuLi5oZWFkZXJzIH0pLmVudHJpZXMoKSksXG4gICAgICAgICAgICBib2R5OiB1bmRlZmluZWQsXG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgcmVkaXJlY3Q6ICdtYW51YWwnLFxuICAgICAgICAgICAgc2lnbmFsLFxuICAgICAgICB9KSlcbiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiBvYXV0aC5wcm9jZXNzRGlzY292ZXJ5UmVzcG9uc2Uob2F1dGguX25vZGlzY292ZXJ5Y2hlY2ssIHJlc3BvbnNlKSlcbiAgICAgICAgLmNhdGNoKGVycm9ySGFuZGxlcik7XG4gICAgaWYgKHJlc29sdmUgJiYgbmV3IFVSTChhcy5pc3N1ZXIpLmhyZWYgIT09IHNlcnZlci5ocmVmKSB7XG4gICAgICAgIGhhbmRsZUVudHJhSWQoc2VydmVyLCBhcywgb3B0aW9ucykgfHxcbiAgICAgICAgICAgIGhhbmRsZUIyQ2xvZ2luKHNlcnZlciwgb3B0aW9ucykgfHxcbiAgICAgICAgICAgICgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IENsaWVudEVycm9yKCdkaXNjb3ZlcmVkIG1ldGFkYXRhIGlzc3VlciBkb2VzIG5vdCBtYXRjaCB0aGUgZXhwZWN0ZWQgaXNzdWVyJywge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBvYXV0aC5KU09OX0FUVFJJQlVURV9DT01QQVJJU09OLFxuICAgICAgICAgICAgICAgICAgICBjYXVzZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHNlcnZlci5ocmVmLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogYXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGU6ICdpc3N1ZXInLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSkoKTtcbiAgICB9XG4gICAgcmV0dXJuIGFzO1xufVxuZnVuY3Rpb24gaXNSc2FPYWVwKGlucHV0KSB7XG4gICAgcmV0dXJuIGlucHV0Lm5hbWUgPT09ICdSU0EtT0FFUCc7XG59XG5mdW5jdGlvbiBpc0VjZGgoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQubmFtZSA9PT0gJ0VDREgnO1xufVxuY29uc3QgZWNkaEVzID0gJ0VDREgtRVMnO1xuY29uc3QgZWNkaEVzQTEyOEt3ID0gJ0VDREgtRVMrQTEyOEtXJztcbmNvbnN0IGVjZGhFc0ExOTJLdyA9ICdFQ0RILUVTK0ExOTJLVyc7XG5jb25zdCBlY2RoRXNBMjU2S3cgPSAnRUNESC1FUytBMjU2S1cnO1xuZnVuY3Rpb24gY2hlY2tFY2RoQWxnKGFsZ3MsIGFsZywgcGspIHtcbiAgICBzd2l0Y2ggKGFsZykge1xuICAgICAgICBjYXNlIHVuZGVmaW5lZDpcbiAgICAgICAgICAgIGFsZ3MuYWRkKGVjZGhFcyk7XG4gICAgICAgICAgICBhbGdzLmFkZChlY2RoRXNBMTI4S3cpO1xuICAgICAgICAgICAgYWxncy5hZGQoZWNkaEVzQTE5Mkt3KTtcbiAgICAgICAgICAgIGFsZ3MuYWRkKGVjZGhFc0EyNTZLdyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBlY2RoRXM6XG4gICAgICAgIGNhc2UgZWNkaEVzQTEyOEt3OlxuICAgICAgICBjYXNlIGVjZGhFc0ExOTJLdzpcbiAgICAgICAgY2FzZSBlY2RoRXNBMjU2S3c6XG4gICAgICAgICAgICBhbGdzLmFkZChhbGcpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBDb2RlZFR5cGVFcnJvcignaW52YWxpZCBrZXkgYWxnJywgRVJSX0lOVkFMSURfQVJHX1ZBTFVFLCB7IHBrIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBlbmFibGVEZWNyeXB0aW5nUmVzcG9uc2VzKGNvbmZpZywgY29udGVudEVuY3J5cHRpb25BbGdvcml0aG1zID0gW1xuICAgICdBMTI4R0NNJyxcbiAgICAnQTE5MkdDTScsXG4gICAgJ0EyNTZHQ00nLFxuICAgICdBMTI4Q0JDLUhTMjU2JyxcbiAgICAnQTE5MkNCQy1IUzM4NCcsXG4gICAgJ0EyNTZDQkMtSFM1MTInLFxuXSwgLi4ua2V5cykge1xuICAgIGlmIChpbnQoY29uZmlnKS5kZWNyeXB0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZW5hYmxlRGVjcnlwdGluZ1Jlc3BvbnNlcyBjYW4gb25seSBiZSBjYWxsZWQgb24gYSBnaXZlbiBDb25maWd1cmF0aW9uIGluc3RhbmNlIG9uY2UnKTtcbiAgICB9XG4gICAgaWYgKGtleXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IENvZGVkVHlwZUVycm9yKCdubyBrZXlzIHdlcmUgcHJvdmlkZWQnLCBFUlJfSU5WQUxJRF9BUkdfVkFMVUUpO1xuICAgIH1cbiAgICBjb25zdCBhbGdzID0gbmV3IFNldCgpO1xuICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHBrIG9mIGtleXMpIHtcbiAgICAgICAgbGV0IGtleTtcbiAgICAgICAgaWYgKCdrZXknIGluIHBrKSB7XG4gICAgICAgICAgICBrZXkgPSB7IGtleTogcGsua2V5IH07XG4gICAgICAgICAgICBpZiAodHlwZW9mIHBrLmFsZyA9PT0gJ3N0cmluZycpXG4gICAgICAgICAgICAgICAga2V5LmFsZyA9IHBrLmFsZztcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcGsua2lkID09PSAnc3RyaW5nJylcbiAgICAgICAgICAgICAgICBrZXkua2lkID0gcGsua2lkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAga2V5ID0geyBrZXk6IHBrIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGtleS5rZXkudHlwZSAhPT0gJ3ByaXZhdGUnKSB7XG4gICAgICAgICAgICB0aHJvdyBDb2RlZFR5cGVFcnJvcignb25seSBwcml2YXRlIGtleXMgbXVzdCBiZSBwcm92aWRlZCcsIEVSUl9JTlZBTElEX0FSR19WQUxVRSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUnNhT2FlcChrZXkua2V5LmFsZ29yaXRobSkpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoa2V5LmtleS5hbGdvcml0aG0uaGFzaC5uYW1lKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnU0hBLTEnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ1NIQS0yNTYnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ1NIQS0zODQnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ1NIQS01MTInOiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBhbGcgPSAnUlNBLU9BRVAnO1xuICAgICAgICAgICAgICAgICAgICBsZXQgc2hhO1xuICAgICAgICAgICAgICAgICAgICBpZiAoKHNoYSA9IHBhcnNlSW50KGtleS5rZXkuYWxnb3JpdGhtLmhhc2gubmFtZS5zbGljZSgtMyksIDEwKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsZyA9IGAke2FsZ30tJHtzaGF9YDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBrZXkuYWxnIHx8PSBhbGc7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhbGcgIT09IGtleS5hbGcpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBDb2RlZFR5cGVFcnJvcignaW52YWxpZCBrZXkgYWxnJywgRVJSX0lOVkFMSURfQVJHX1ZBTFVFLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGssXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYWxncy5hZGQoa2V5LmFsZyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBDb2RlZFR5cGVFcnJvcignb25seSBTSEEtNTEyLCBTSEEtMzg0LCBTSEEtMjU2LCBhbmQgU0hBLTEgUlNBLU9BRVAga2V5cyBhcmUgc3VwcG9ydGVkJywgRVJSX0lOVkFMSURfQVJHX1ZBTFVFKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0VjZGgoa2V5LmtleS5hbGdvcml0aG0pKSB7XG4gICAgICAgICAgICBpZiAoa2V5LmtleS5hbGdvcml0aG0ubmFtZWRDdXJ2ZSAhPT0gJ1AtMjU2Jykge1xuICAgICAgICAgICAgICAgIHRocm93IENvZGVkVHlwZUVycm9yKCdPbmx5IFAtMjU2IEVDREgga2V5cyBhcmUgc3VwcG9ydGVkJywgRVJSX0lOVkFMSURfQVJHX1ZBTFVFKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoZWNrRWNkaEFsZyhhbGdzLCBrZXkuYWxnLCBwayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoa2V5LmtleS5hbGdvcml0aG0ubmFtZSA9PT0gJ1gyNTUxOScpIHtcbiAgICAgICAgICAgIGNoZWNrRWNkaEFsZyhhbGdzLCBrZXkuYWxnLCBwayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBDb2RlZFR5cGVFcnJvcignb25seSBSU0EtT0FFUCwgRUNESCwgb3IgWDI1NTE5IGtleXMgYXJlIHN1cHBvcnRlZCcsIEVSUl9JTlZBTElEX0FSR19WQUxVRSk7XG4gICAgICAgIH1cbiAgICAgICAgbm9ybWFsaXplZC5wdXNoKGtleSk7XG4gICAgfVxuICAgIGludChjb25maWcpLmRlY3J5cHQgPSBhc3luYyAoandlKSA9PiBkZWNyeXB0KG5vcm1hbGl6ZWQsIGp3ZSwgY29udGVudEVuY3J5cHRpb25BbGdvcml0aG1zLCBbLi4uYWxnc10pLmNhdGNoKGVycm9ySGFuZGxlcik7XG59XG5mdW5jdGlvbiBjaGVja0NyeXB0b0tleShrZXksIGFsZywgZXBrKSB7XG4gICAgaWYgKGFsZy5zdGFydHNXaXRoKCdSU0EtT0FFUCcpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoYWxnLnN0YXJ0c1dpdGgoJ0VDREgtRVMnKSkge1xuICAgICAgICBpZiAoa2V5LmFsZ29yaXRobS5uYW1lICE9PSAnRUNESCcgJiYga2V5LmFsZ29yaXRobS5uYW1lICE9PSAnWDI1NTE5Jykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChrZXkuYWxnb3JpdGhtLm5hbWUgPT09ICdFQ0RIJykge1xuICAgICAgICAgICAgcmV0dXJuIGVwaz8uY3J2ID09PSBrZXkuYWxnb3JpdGhtLm5hbWVkQ3VydmU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGtleS5hbGdvcml0aG0ubmFtZSA9PT0gJ1gyNTUxOScpIHtcbiAgICAgICAgICAgIHJldHVybiBlcGs/LmNydiA9PT0gJ1gyNTUxOSc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gc2VsZWN0Q3J5cHRvS2V5Rm9yRGVjcnlwdGlvbihrZXlzLCBhbGcsIGtpZCwgZXBrKSB7XG4gICAgY29uc3QgeyAwOiBrZXksIGxlbmd0aCB9ID0ga2V5cy5maWx0ZXIoKGtleSkgPT4ge1xuICAgICAgICBpZiAoa2lkICE9PSBrZXkua2lkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGtleS5hbGcgJiYgYWxnICE9PSBrZXkuYWxnKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoZWNrQ3J5cHRvS2V5KGtleS5rZXksIGFsZywgZXBrKTtcbiAgICB9KTtcbiAgICBpZiAoIWtleSkge1xuICAgICAgICB0aHJvdyBlKCdubyBhcHBsaWNhYmxlIGRlY3J5cHRpb24ga2V5IHNlbGVjdGVkJywgdW5kZWZpbmVkLCAnT0FVVEhfREVDUllQVElPTl9GQUlMRUQnKTtcbiAgICB9XG4gICAgaWYgKGxlbmd0aCAhPT0gMSkge1xuICAgICAgICB0aHJvdyBlKCdtdWx0aXBsZSBhcHBsaWNhYmxlIGRlY3J5cHRpb24ga2V5cyBzZWxlY3RlZCcsIHVuZGVmaW5lZCwgJ09BVVRIX0RFQ1JZUFRJT05fRkFJTEVEJyk7XG4gICAgfVxuICAgIHJldHVybiBrZXkua2V5O1xufVxuYXN5bmMgZnVuY3Rpb24gZGVjcnlwdChrZXlzLCBqd2UsIGNvbnRlbnRFbmNyeXB0aW9uQWxnb3JpdGhtcywga2V5TWFuYWdlbWVudEFsZ29yaXRobXMpIHtcbiAgICByZXR1cm4gZGVjb2Rlci5kZWNvZGUoKGF3YWl0IGNvbXBhY3REZWNyeXB0KGp3ZSwgKGhlYWRlcikgPT4ge1xuICAgICAgICBjb25zdCB7IGtpZCwgYWxnLCBlcGsgfSA9IGhlYWRlcjtcbiAgICAgICAgcmV0dXJuIHNlbGVjdENyeXB0b0tleUZvckRlY3J5cHRpb24oa2V5cywgYWxnLCBraWQsIGVwayk7XG4gICAgfSwgeyBrZXlNYW5hZ2VtZW50QWxnb3JpdGhtcywgY29udGVudEVuY3J5cHRpb25BbGdvcml0aG1zIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgaWYgKGVyciBpbnN0YW5jZW9mIEpPU0VFcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgZSgnZGVjcnlwdGlvbiBmYWlsZWQnLCBlcnIsICdPQVVUSF9ERUNSWVBUSU9OX0ZBSUxFRCcpO1xuICAgICAgICB9XG4gICAgICAgIGVycm9ySGFuZGxlcihlcnIpO1xuICAgIH0pKS5wbGFpbnRleHQpO1xufVxuZnVuY3Rpb24gZ2V0U2VydmVySGVscGVycyhtZXRhZGF0YSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHN1cHBvcnRzUEtDRToge1xuICAgICAgICAgICAgX19wcm90b19fOiBudWxsLFxuICAgICAgICAgICAgdmFsdWUobWV0aG9kID0gJ1MyNTYnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChtZXRhZGF0YS5jb2RlX2NoYWxsZW5nZV9tZXRob2RzX3N1cHBvcnRlZD8uaW5jbHVkZXMobWV0aG9kKSA9PT0gdHJ1ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH07XG59XG5mdW5jdGlvbiBhZGRTZXJ2ZXJIZWxwZXJzKG1ldGFkYXRhKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobWV0YWRhdGEsIGdldFNlcnZlckhlbHBlcnMobWV0YWRhdGEpKTtcbn1cbmNvbnN0IGtFbnRyYUlkID0gU3ltYm9sKCk7XG5leHBvcnQgY2xhc3MgQ29uZmlndXJhdGlvbiB7XG4gICAgY29uc3RydWN0b3Ioc2VydmVyLCBjbGllbnRJZCwgbWV0YWRhdGEsIGNsaWVudEF1dGhlbnRpY2F0aW9uKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xpZW50SWQgIT09ICdzdHJpbmcnIHx8ICFjbGllbnRJZC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IENvZGVkVHlwZUVycm9yKCdcImNsaWVudElkXCIgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmcnLCBFUlJfSU5WQUxJRF9BUkdfVFlQRSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBtZXRhZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIG1ldGFkYXRhID0geyBjbGllbnRfc2VjcmV0OiBtZXRhZGF0YSB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXRhZGF0YT8uY2xpZW50X2lkICE9PSB1bmRlZmluZWQgJiYgY2xpZW50SWQgIT09IG1ldGFkYXRhLmNsaWVudF9pZCkge1xuICAgICAgICAgICAgdGhyb3cgQ29kZWRUeXBlRXJyb3IoJ1wiY2xpZW50SWRcIiBhbmQgXCJtZXRhZGF0YS5jbGllbnRfaWRcIiBtdXN0IGJlIHRoZSBzYW1lJywgRVJSX0lOVkFMSURfQVJHX1ZBTFVFKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjbGllbnQgPSB7XG4gICAgICAgICAgICAuLi5zdHJ1Y3R1cmVkQ2xvbmUobWV0YWRhdGEpLFxuICAgICAgICAgICAgY2xpZW50X2lkOiBjbGllbnRJZCxcbiAgICAgICAgfTtcbiAgICAgICAgY2xpZW50W29hdXRoLmNsb2NrU2tld10gPSBtZXRhZGF0YT8uW29hdXRoLmNsb2NrU2tld10gPz8gMDtcbiAgICAgICAgY2xpZW50W29hdXRoLmNsb2NrVG9sZXJhbmNlXSA9IG1ldGFkYXRhPy5bb2F1dGguY2xvY2tUb2xlcmFuY2VdID8/IDMwO1xuICAgICAgICBsZXQgYXV0aDtcbiAgICAgICAgaWYgKGNsaWVudEF1dGhlbnRpY2F0aW9uKSB7XG4gICAgICAgICAgICBhdXRoID0gY2xpZW50QXV0aGVudGljYXRpb247XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNsaWVudC5jbGllbnRfc2VjcmV0ID09PSAnc3RyaW5nJyAmJlxuICAgICAgICAgICAgICAgIGNsaWVudC5jbGllbnRfc2VjcmV0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGF1dGggPSBDbGllbnRTZWNyZXRQb3N0KGNsaWVudC5jbGllbnRfc2VjcmV0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGF1dGggPSBOb25lKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGMgPSBPYmplY3QuZnJlZXplKGNsaWVudCk7XG4gICAgICAgIGNvbnN0IGNsb25lID0gc3RydWN0dXJlZENsb25lKHNlcnZlcik7XG4gICAgICAgIGlmIChrRW50cmFJZCBpbiBzZXJ2ZXIpIHtcbiAgICAgICAgICAgIGNsb25lW29hdXRoLl9leHBlY3RlZElzc3Vlcl0gPSAoeyBjbGFpbXM6IHsgdGlkIH0gfSkgPT4gc2VydmVyLmlzc3Vlci5yZXBsYWNlKCd7dGVuYW50aWR9JywgdGlkKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgYXMgPSBPYmplY3QuZnJlZXplKGNsb25lKTtcbiAgICAgICAgcHJvcHMgfHw9IG5ldyBXZWFrTWFwKCk7XG4gICAgICAgIHByb3BzLnNldCh0aGlzLCB7XG4gICAgICAgICAgICBfX3Byb3RvX186IG51bGwsXG4gICAgICAgICAgICBhcyxcbiAgICAgICAgICAgIGMsXG4gICAgICAgICAgICBhdXRoLFxuICAgICAgICAgICAgdGxzT25seTogdHJ1ZSxcbiAgICAgICAgICAgIGp3a3NDYWNoZToge30sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzZXJ2ZXJNZXRhZGF0YSgpIHtcbiAgICAgICAgY29uc3QgbWV0YWRhdGEgPSBzdHJ1Y3R1cmVkQ2xvbmUoaW50KHRoaXMpLmFzKTtcbiAgICAgICAgYWRkU2VydmVySGVscGVycyhtZXRhZGF0YSk7XG4gICAgICAgIHJldHVybiBtZXRhZGF0YTtcbiAgICB9XG4gICAgY2xpZW50TWV0YWRhdGEoKSB7XG4gICAgICAgIGNvbnN0IG1ldGFkYXRhID0gc3RydWN0dXJlZENsb25lKGludCh0aGlzKS5jKTtcbiAgICAgICAgcmV0dXJuIG1ldGFkYXRhO1xuICAgIH1cbiAgICBnZXQgdGltZW91dCgpIHtcbiAgICAgICAgcmV0dXJuIGludCh0aGlzKS50aW1lb3V0O1xuICAgIH1cbiAgICBzZXQgdGltZW91dCh2YWx1ZSkge1xuICAgICAgICBpbnQodGhpcykudGltZW91dCA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgW2N1c3RvbUZldGNoXSgpIHtcbiAgICAgICAgcmV0dXJuIGludCh0aGlzKS5mZXRjaDtcbiAgICB9XG4gICAgc2V0IFtjdXN0b21GZXRjaF0odmFsdWUpIHtcbiAgICAgICAgaW50KHRoaXMpLmZldGNoID0gdmFsdWU7XG4gICAgfVxufVxuT2JqZWN0LmZyZWV6ZShDb25maWd1cmF0aW9uLnByb3RvdHlwZSk7XG5mdW5jdGlvbiBnZXRIZWxwZXJzKHJlc3BvbnNlKSB7XG4gICAgbGV0IGV4cCA9IHVuZGVmaW5lZDtcbiAgICBpZiAocmVzcG9uc2UuZXhwaXJlc19pbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgIG5vdy5zZXRTZWNvbmRzKG5vdy5nZXRTZWNvbmRzKCkgKyByZXNwb25zZS5leHBpcmVzX2luKTtcbiAgICAgICAgZXhwID0gbm93LmdldFRpbWUoKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZXhwaXJlc0luOiB7XG4gICAgICAgICAgICBfX3Byb3RvX186IG51bGwsXG4gICAgICAgICAgICB2YWx1ZSgpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXhwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChleHAgPiBub3cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKChleHAgLSBub3cpIC8gMTAwMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBjbGFpbXM6IHtcbiAgICAgICAgICAgIF9fcHJvdG9fXzogbnVsbCxcbiAgICAgICAgICAgIHZhbHVlKCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvYXV0aC5nZXRWYWxpZGF0ZWRJZFRva2VuQ2xhaW1zKHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9O1xufVxuZnVuY3Rpb24gYWRkSGVscGVycyhyZXNwb25zZSkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHJlc3BvbnNlLCBnZXRIZWxwZXJzKHJlc3BvbnNlKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0RFBvUEhhbmRsZShjb25maWcsIGtleVBhaXIsIG9wdGlvbnMpIHtcbiAgICBjaGVja0NvbmZpZyhjb25maWcpO1xuICAgIHJldHVybiBvYXV0aC5EUG9QKGludChjb25maWcpLmMsIGtleVBhaXIsIG9wdGlvbnMpO1xufVxuYXN5bmMgZnVuY3Rpb24gaGFuZGxlUmV0cnlBZnRlcihyZXNwb25zZSwgY3VycmVudEludGVydmFsLCBzaWduYWwsIHRocm93SWZJbnZhbGlkID0gZmFsc2UpIHtcbiAgICBjb25zdCByZXRyeUFmdGVyID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoJ3JldHJ5LWFmdGVyJyk/LnRyaW0oKTtcbiAgICBpZiAocmV0cnlBZnRlciA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm47XG4gICAgbGV0IGRlbGF5U2Vjb25kcztcbiAgICBpZiAoL15cXGQrJC8udGVzdChyZXRyeUFmdGVyKSkge1xuICAgICAgICBkZWxheVNlY29uZHMgPSBwYXJzZUludChyZXRyeUFmdGVyLCAxMCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCByZXRyeURhdGUgPSBuZXcgRGF0ZShyZXRyeUFmdGVyKTtcbiAgICAgICAgaWYgKE51bWJlci5pc0Zpbml0ZShyZXRyeURhdGUuZ2V0VGltZSgpKSkge1xuICAgICAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgIGNvbnN0IGRlbGF5TXMgPSByZXRyeURhdGUuZ2V0VGltZSgpIC0gbm93LmdldFRpbWUoKTtcbiAgICAgICAgICAgIGlmIChkZWxheU1zID4gMCkge1xuICAgICAgICAgICAgICAgIGRlbGF5U2Vjb25kcyA9IE1hdGguY2VpbChkZWxheU1zIC8gMTAwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRocm93SWZJbnZhbGlkICYmICFOdW1iZXIuaXNGaW5pdGUoZGVsYXlTZWNvbmRzKSkge1xuICAgICAgICB0aHJvdyBuZXcgb2F1dGguT3BlcmF0aW9uUHJvY2Vzc2luZ0Vycm9yKCdpbnZhbGlkIFJldHJ5LUFmdGVyIGhlYWRlciB2YWx1ZScsIHsgY2F1c2U6IHJlc3BvbnNlIH0pO1xuICAgIH1cbiAgICBpZiAoZGVsYXlTZWNvbmRzID4gY3VycmVudEludGVydmFsKSB7XG4gICAgICAgIGF3YWl0IHdhaXQoZGVsYXlTZWNvbmRzIC0gY3VycmVudEludGVydmFsLCBzaWduYWwpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHdhaXQoZHVyYXRpb24sIHNpZ25hbCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IHdhaXRTdGVwID0gKHJlbWFpbmluZykgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBzaWduYWwudGhyb3dJZkFib3J0ZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVtYWluaW5nIDw9IDApIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY3VycmVudFdhaXQgPSBNYXRoLm1pbihyZW1haW5pbmcsIDUpO1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB3YWl0U3RlcChyZW1haW5pbmcgLSBjdXJyZW50V2FpdCksIGN1cnJlbnRXYWl0ICogMTAwMCk7XG4gICAgICAgIH07XG4gICAgICAgIHdhaXRTdGVwKGR1cmF0aW9uKTtcbiAgICB9KTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwb2xsRGV2aWNlQXV0aG9yaXphdGlvbkdyYW50KGNvbmZpZywgZGV2aWNlQXV0aG9yaXphdGlvblJlc3BvbnNlLCBwYXJhbWV0ZXJzLCBvcHRpb25zKSB7XG4gICAgY2hlY2tDb25maWcoY29uZmlnKTtcbiAgICBwYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhwYXJhbWV0ZXJzKTtcbiAgICBsZXQgaW50ZXJ2YWwgPSBkZXZpY2VBdXRob3JpemF0aW9uUmVzcG9uc2UuaW50ZXJ2YWwgPz8gNTtcbiAgICBjb25zdCBwb2xsaW5nU2lnbmFsID0gb3B0aW9ucz8uc2lnbmFsID8/XG4gICAgICAgIEFib3J0U2lnbmFsLnRpbWVvdXQoZGV2aWNlQXV0aG9yaXphdGlvblJlc3BvbnNlLmV4cGlyZXNfaW4gKiAxMDAwKTtcbiAgICB0cnkge1xuICAgICAgICBhd2FpdCB3YWl0KGludGVydmFsLCBwb2xsaW5nU2lnbmFsKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICBlcnJvckhhbmRsZXIoZXJyKTtcbiAgICB9XG4gICAgY29uc3QgeyBhcywgYywgYXV0aCwgZmV0Y2gsIHRsc09ubHksIG5vblJlcHVkaWF0aW9uLCB0aW1lb3V0LCBkZWNyeXB0IH0gPSBpbnQoY29uZmlnKTtcbiAgICBjb25zdCByZXRyeVBvbGwgPSAodXBkYXRlZEludGVydmFsLCBmbGFnKSA9PiBwb2xsRGV2aWNlQXV0aG9yaXphdGlvbkdyYW50KGNvbmZpZywge1xuICAgICAgICAuLi5kZXZpY2VBdXRob3JpemF0aW9uUmVzcG9uc2UsXG4gICAgICAgIGludGVydmFsOiB1cGRhdGVkSW50ZXJ2YWwsXG4gICAgfSwgcGFyYW1ldGVycywge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICBzaWduYWw6IHBvbGxpbmdTaWduYWwsXG4gICAgICAgIGZsYWcsXG4gICAgfSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBvYXV0aFxuICAgICAgICAuZGV2aWNlQ29kZUdyYW50UmVxdWVzdChhcywgYywgYXV0aCwgZGV2aWNlQXV0aG9yaXphdGlvblJlc3BvbnNlLmRldmljZV9jb2RlLCB7XG4gICAgICAgIFtvYXV0aC5jdXN0b21GZXRjaF06IGZldGNoLFxuICAgICAgICBbb2F1dGguYWxsb3dJbnNlY3VyZVJlcXVlc3RzXTogIXRsc09ubHksXG4gICAgICAgIGFkZGl0aW9uYWxQYXJhbWV0ZXJzOiBwYXJhbWV0ZXJzLFxuICAgICAgICBEUG9QOiBvcHRpb25zPy5EUG9QLFxuICAgICAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyhoZWFkZXJzKSxcbiAgICAgICAgc2lnbmFsOiBwb2xsaW5nU2lnbmFsLmFib3J0ZWQgPyBwb2xsaW5nU2lnbmFsIDogc2lnbmFsKHRpbWVvdXQpLFxuICAgIH0pXG4gICAgICAgIC5jYXRjaChlcnJvckhhbmRsZXIpO1xuICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDUwMyAmJiByZXNwb25zZS5oZWFkZXJzLmhhcygncmV0cnktYWZ0ZXInKSkge1xuICAgICAgICBhd2FpdCBoYW5kbGVSZXRyeUFmdGVyKHJlc3BvbnNlLCBpbnRlcnZhbCwgcG9sbGluZ1NpZ25hbCwgdHJ1ZSk7XG4gICAgICAgIGF3YWl0IHJlc3BvbnNlLmJvZHk/LmNhbmNlbCgpO1xuICAgICAgICByZXR1cm4gcmV0cnlQb2xsKGludGVydmFsKTtcbiAgICB9XG4gICAgY29uc3QgcCA9IG9hdXRoLnByb2Nlc3NEZXZpY2VDb2RlUmVzcG9uc2UoYXMsIGMsIHJlc3BvbnNlLCB7XG4gICAgICAgIFtvYXV0aC5qd2VEZWNyeXB0XTogZGVjcnlwdCxcbiAgICB9KTtcbiAgICBsZXQgcmVzdWx0O1xuICAgIHRyeSB7XG4gICAgICAgIHJlc3VsdCA9IGF3YWl0IHA7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgaWYgKHJldHJ5YWJsZShlcnIsIG9wdGlvbnMpKSB7XG4gICAgICAgICAgICByZXR1cm4gcmV0cnlQb2xsKGludGVydmFsLCByZXRyeSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVyciBpbnN0YW5jZW9mIG9hdXRoLlJlc3BvbnNlQm9keUVycm9yKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGVyci5lcnJvcikge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3Nsb3dfZG93bic6XG4gICAgICAgICAgICAgICAgICAgIGludGVydmFsICs9IDU7XG4gICAgICAgICAgICAgICAgY2FzZSAnYXV0aG9yaXphdGlvbl9wZW5kaW5nJzpcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgaGFuZGxlUmV0cnlBZnRlcihlcnIucmVzcG9uc2UsIGludGVydmFsLCBwb2xsaW5nU2lnbmFsKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHJ5UG9sbChpbnRlcnZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZXJyb3JIYW5kbGVyKGVycik7XG4gICAgfVxuICAgIHJlc3VsdC5pZF90b2tlbiAmJiAoYXdhaXQgbm9uUmVwdWRpYXRpb24/LihyZXNwb25zZSkpO1xuICAgIGFkZEhlbHBlcnMocmVzdWx0KTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluaXRpYXRlRGV2aWNlQXV0aG9yaXphdGlvbihjb25maWcsIHBhcmFtZXRlcnMpIHtcbiAgICBjaGVja0NvbmZpZyhjb25maWcpO1xuICAgIGNvbnN0IHsgYXMsIGMsIGF1dGgsIGZldGNoLCB0bHNPbmx5LCB0aW1lb3V0IH0gPSBpbnQoY29uZmlnKTtcbiAgICByZXR1cm4gb2F1dGhcbiAgICAgICAgLmRldmljZUF1dGhvcml6YXRpb25SZXF1ZXN0KGFzLCBjLCBhdXRoLCBwYXJhbWV0ZXJzLCB7XG4gICAgICAgIFtvYXV0aC5jdXN0b21GZXRjaF06IGZldGNoLFxuICAgICAgICBbb2F1dGguYWxsb3dJbnNlY3VyZVJlcXVlc3RzXTogIXRsc09ubHksXG4gICAgICAgIGhlYWRlcnM6IG5ldyBIZWFkZXJzKGhlYWRlcnMpLFxuICAgICAgICBzaWduYWw6IHNpZ25hbCh0aW1lb3V0KSxcbiAgICB9KVxuICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IG9hdXRoLnByb2Nlc3NEZXZpY2VBdXRob3JpemF0aW9uUmVzcG9uc2UoYXMsIGMsIHJlc3BvbnNlKSlcbiAgICAgICAgLmNhdGNoKGVycm9ySGFuZGxlcik7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW5pdGlhdGVCYWNrY2hhbm5lbEF1dGhlbnRpY2F0aW9uKGNvbmZpZywgcGFyYW1ldGVycykge1xuICAgIGNoZWNrQ29uZmlnKGNvbmZpZyk7XG4gICAgY29uc3QgeyBhcywgYywgYXV0aCwgZmV0Y2gsIHRsc09ubHksIHRpbWVvdXQgfSA9IGludChjb25maWcpO1xuICAgIHJldHVybiBvYXV0aFxuICAgICAgICAuYmFja2NoYW5uZWxBdXRoZW50aWNhdGlvblJlcXVlc3QoYXMsIGMsIGF1dGgsIHBhcmFtZXRlcnMsIHtcbiAgICAgICAgW29hdXRoLmN1c3RvbUZldGNoXTogZmV0Y2gsXG4gICAgICAgIFtvYXV0aC5hbGxvd0luc2VjdXJlUmVxdWVzdHNdOiAhdGxzT25seSxcbiAgICAgICAgaGVhZGVyczogbmV3IEhlYWRlcnMoaGVhZGVycyksXG4gICAgICAgIHNpZ25hbDogc2lnbmFsKHRpbWVvdXQpLFxuICAgIH0pXG4gICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gb2F1dGgucHJvY2Vzc0JhY2tjaGFubmVsQXV0aGVudGljYXRpb25SZXNwb25zZShhcywgYywgcmVzcG9uc2UpKVxuICAgICAgICAuY2F0Y2goZXJyb3JIYW5kbGVyKTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwb2xsQmFja2NoYW5uZWxBdXRoZW50aWNhdGlvbkdyYW50KGNvbmZpZywgYmFja2NoYW5uZWxBdXRoZW50aWNhdGlvblJlc3BvbnNlLCBwYXJhbWV0ZXJzLCBvcHRpb25zKSB7XG4gICAgY2hlY2tDb25maWcoY29uZmlnKTtcbiAgICBwYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhwYXJhbWV0ZXJzKTtcbiAgICBsZXQgaW50ZXJ2YWwgPSBiYWNrY2hhbm5lbEF1dGhlbnRpY2F0aW9uUmVzcG9uc2UuaW50ZXJ2YWwgPz8gNTtcbiAgICBjb25zdCBwb2xsaW5nU2lnbmFsID0gb3B0aW9ucz8uc2lnbmFsID8/XG4gICAgICAgIEFib3J0U2lnbmFsLnRpbWVvdXQoYmFja2NoYW5uZWxBdXRoZW50aWNhdGlvblJlc3BvbnNlLmV4cGlyZXNfaW4gKiAxMDAwKTtcbiAgICB0cnkge1xuICAgICAgICBhd2FpdCB3YWl0KGludGVydmFsLCBwb2xsaW5nU2lnbmFsKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICBlcnJvckhhbmRsZXIoZXJyKTtcbiAgICB9XG4gICAgY29uc3QgeyBhcywgYywgYXV0aCwgZmV0Y2gsIHRsc09ubHksIG5vblJlcHVkaWF0aW9uLCB0aW1lb3V0LCBkZWNyeXB0IH0gPSBpbnQoY29uZmlnKTtcbiAgICBjb25zdCByZXRyeVBvbGwgPSAodXBkYXRlZEludGVydmFsLCBmbGFnKSA9PiBwb2xsQmFja2NoYW5uZWxBdXRoZW50aWNhdGlvbkdyYW50KGNvbmZpZywge1xuICAgICAgICAuLi5iYWNrY2hhbm5lbEF1dGhlbnRpY2F0aW9uUmVzcG9uc2UsXG4gICAgICAgIGludGVydmFsOiB1cGRhdGVkSW50ZXJ2YWwsXG4gICAgfSwgcGFyYW1ldGVycywge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICBzaWduYWw6IHBvbGxpbmdTaWduYWwsXG4gICAgICAgIGZsYWcsXG4gICAgfSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBvYXV0aFxuICAgICAgICAuYmFja2NoYW5uZWxBdXRoZW50aWNhdGlvbkdyYW50UmVxdWVzdChhcywgYywgYXV0aCwgYmFja2NoYW5uZWxBdXRoZW50aWNhdGlvblJlc3BvbnNlLmF1dGhfcmVxX2lkLCB7XG4gICAgICAgIFtvYXV0aC5jdXN0b21GZXRjaF06IGZldGNoLFxuICAgICAgICBbb2F1dGguYWxsb3dJbnNlY3VyZVJlcXVlc3RzXTogIXRsc09ubHksXG4gICAgICAgIGFkZGl0aW9uYWxQYXJhbWV0ZXJzOiBwYXJhbWV0ZXJzLFxuICAgICAgICBEUG9QOiBvcHRpb25zPy5EUG9QLFxuICAgICAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyhoZWFkZXJzKSxcbiAgICAgICAgc2lnbmFsOiBwb2xsaW5nU2lnbmFsLmFib3J0ZWQgPyBwb2xsaW5nU2lnbmFsIDogc2lnbmFsKHRpbWVvdXQpLFxuICAgIH0pXG4gICAgICAgIC5jYXRjaChlcnJvckhhbmRsZXIpO1xuICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDUwMyAmJiByZXNwb25zZS5oZWFkZXJzLmhhcygncmV0cnktYWZ0ZXInKSkge1xuICAgICAgICBhd2FpdCBoYW5kbGVSZXRyeUFmdGVyKHJlc3BvbnNlLCBpbnRlcnZhbCwgcG9sbGluZ1NpZ25hbCwgdHJ1ZSk7XG4gICAgICAgIGF3YWl0IHJlc3BvbnNlLmJvZHk/LmNhbmNlbCgpO1xuICAgICAgICByZXR1cm4gcmV0cnlQb2xsKGludGVydmFsKTtcbiAgICB9XG4gICAgY29uc3QgcCA9IG9hdXRoLnByb2Nlc3NCYWNrY2hhbm5lbEF1dGhlbnRpY2F0aW9uR3JhbnRSZXNwb25zZShhcywgYywgcmVzcG9uc2UsIHtcbiAgICAgICAgW29hdXRoLmp3ZURlY3J5cHRdOiBkZWNyeXB0LFxuICAgIH0pO1xuICAgIGxldCByZXN1bHQ7XG4gICAgdHJ5IHtcbiAgICAgICAgcmVzdWx0ID0gYXdhaXQgcDtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICBpZiAocmV0cnlhYmxlKGVyciwgb3B0aW9ucykpIHtcbiAgICAgICAgICAgIHJldHVybiByZXRyeVBvbGwoaW50ZXJ2YWwsIHJldHJ5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2Ygb2F1dGguUmVzcG9uc2VCb2R5RXJyb3IpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoZXJyLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnc2xvd19kb3duJzpcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJ2YWwgKz0gNTtcbiAgICAgICAgICAgICAgICBjYXNlICdhdXRob3JpemF0aW9uX3BlbmRpbmcnOlxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBoYW5kbGVSZXRyeUFmdGVyKGVyci5yZXNwb25zZSwgaW50ZXJ2YWwsIHBvbGxpbmdTaWduYWwpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0cnlQb2xsKGludGVydmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlcnJvckhhbmRsZXIoZXJyKTtcbiAgICB9XG4gICAgcmVzdWx0LmlkX3Rva2VuICYmIChhd2FpdCBub25SZXB1ZGlhdGlvbj8uKHJlc3BvbnNlKSk7XG4gICAgYWRkSGVscGVycyhyZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnQgZnVuY3Rpb24gYWxsb3dJbnNlY3VyZVJlcXVlc3RzKGNvbmZpZykge1xuICAgIGludChjb25maWcpLnRsc09ubHkgPSBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXRKd2tzQ2FjaGUoY29uZmlnLCBqd2tzQ2FjaGUpIHtcbiAgICBpbnQoY29uZmlnKS5qd2tzQ2FjaGUgPSBzdHJ1Y3R1cmVkQ2xvbmUoandrc0NhY2hlKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRKd2tzQ2FjaGUoY29uZmlnKSB7XG4gICAgY29uc3QgY2FjaGUgPSBpbnQoY29uZmlnKS5qd2tzQ2FjaGU7XG4gICAgaWYgKGNhY2hlLnVhdCkge1xuICAgICAgICByZXR1cm4gY2FjaGU7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gZW5hYmxlTm9uUmVwdWRpYXRpb25DaGVja3MoY29uZmlnKSB7XG4gICAgY2hlY2tDb25maWcoY29uZmlnKTtcbiAgICBpbnQoY29uZmlnKS5ub25SZXB1ZGlhdGlvbiA9IChyZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCB7IGFzLCBmZXRjaCwgdGxzT25seSwgdGltZW91dCwgandrc0NhY2hlIH0gPSBpbnQoY29uZmlnKTtcbiAgICAgICAgcmV0dXJuIG9hdXRoXG4gICAgICAgICAgICAudmFsaWRhdGVBcHBsaWNhdGlvbkxldmVsU2lnbmF0dXJlKGFzLCByZXNwb25zZSwge1xuICAgICAgICAgICAgW29hdXRoLmN1c3RvbUZldGNoXTogZmV0Y2gsXG4gICAgICAgICAgICBbb2F1dGguYWxsb3dJbnNlY3VyZVJlcXVlc3RzXTogIXRsc09ubHksXG4gICAgICAgICAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyhoZWFkZXJzKSxcbiAgICAgICAgICAgIHNpZ25hbDogc2lnbmFsKHRpbWVvdXQpLFxuICAgICAgICAgICAgW29hdXRoLmp3a3NDYWNoZV06IGp3a3NDYWNoZSxcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChlcnJvckhhbmRsZXIpO1xuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gdXNlSnd0UmVzcG9uc2VNb2RlKGNvbmZpZykge1xuICAgIGNoZWNrQ29uZmlnKGNvbmZpZyk7XG4gICAgY29uc3QgeyBoeWJyaWQsIGltcGxpY2l0IH0gPSBpbnQoY29uZmlnKTtcbiAgICBpZiAoaHlicmlkIHx8IGltcGxpY2l0KSB7XG4gICAgICAgIHRocm93IGUoJ0pBUk0gY2Fubm90IGJlIGNvbWJpbmVkIHdpdGggYSBoeWJyaWQgb3IgaW1wbGljaXQgcmVzcG9uc2UgdHlwZXMnLCB1bmRlZmluZWQsIG9hdXRoLlVOU1VQUE9SVEVEX09QRVJBVElPTik7XG4gICAgfVxuICAgIGludChjb25maWcpLmphcm0gPSAoYXV0aG9yaXphdGlvblJlc3BvbnNlLCBleHBlY3RlZFN0YXRlKSA9PiB2YWxpZGF0ZUpBUk1SZXNwb25zZShjb25maWcsIGF1dGhvcml6YXRpb25SZXNwb25zZSwgZXhwZWN0ZWRTdGF0ZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZW5hYmxlRGV0YWNoZWRTaWduYXR1cmVSZXNwb25zZUNoZWNrcyhjb25maWcpIHtcbiAgICBpZiAoIWludChjb25maWcpLmh5YnJpZCkge1xuICAgICAgICB0aHJvdyBlKCdcImNvZGUgaWRfdG9rZW5cIiByZXNwb25zZSB0eXBlIG11c3QgYmUgY29uZmlndXJlZCB0byBiZSB1c2VkIGZpcnN0JywgdW5kZWZpbmVkLCBvYXV0aC5VTlNVUFBPUlRFRF9PUEVSQVRJT04pO1xuICAgIH1cbiAgICBpbnQoY29uZmlnKS5oeWJyaWQgPSAoYXV0aG9yaXphdGlvblJlc3BvbnNlLCBleHBlY3RlZE5vbmNlLCBleHBlY3RlZFN0YXRlLCBtYXhBZ2UpID0+IHZhbGlkYXRlQ29kZUlkVG9rZW5SZXNwb25zZShjb25maWcsIGF1dGhvcml6YXRpb25SZXNwb25zZSwgZXhwZWN0ZWROb25jZSwgZXhwZWN0ZWRTdGF0ZSwgbWF4QWdlLCB0cnVlKTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbXBsaWNpdEF1dGhlbnRpY2F0aW9uKGNvbmZpZywgY3VycmVudFVybCwgZXhwZWN0ZWROb25jZSwgY2hlY2tzKSB7XG4gICAgY2hlY2tDb25maWcoY29uZmlnKTtcbiAgICBpZiAoIShjdXJyZW50VXJsIGluc3RhbmNlb2YgVVJMKSAmJlxuICAgICAgICAhd2ViSW5zdGFuY2VPZihjdXJyZW50VXJsLCAnUmVxdWVzdCcpKSB7XG4gICAgICAgIHRocm93IENvZGVkVHlwZUVycm9yKCdcImN1cnJlbnRVcmxcIiBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIFVSTCwgb3IgUmVxdWVzdCcsIEVSUl9JTlZBTElEX0FSR19UWVBFKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBleHBlY3RlZE5vbmNlICE9PSAnc3RyaW5nJykge1xuICAgICAgICB0aHJvdyBDb2RlZFR5cGVFcnJvcignXCJleHBlY3RlZE5vbmNlXCIgbXVzdCBiZSBhIHN0cmluZycsIEVSUl9JTlZBTElEX0FSR19UWVBFKTtcbiAgICB9XG4gICAgY29uc3QgeyBhcywgYywgZmV0Y2gsIHRsc09ubHksIHRpbWVvdXQsIGRlY3J5cHQsIGltcGxpY2l0LCBqd2tzQ2FjaGUgfSA9IGludChjb25maWcpO1xuICAgIGlmICghaW1wbGljaXQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW1wbGljaXRBdXRoZW50aWNhdGlvbigpIGNhbm5vdCBiZSB1c2VkIGJ5IGNsaWVudHMgdXNpbmcgZmxvd3Mgb3RoZXIgdGhhbiByZXNwb25zZV90eXBlPWlkX3Rva2VuJyk7XG4gICAgfVxuICAgIGxldCBwYXJhbXM7XG4gICAgaWYgKCEoY3VycmVudFVybCBpbnN0YW5jZW9mIFVSTCkpIHtcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IGN1cnJlbnRVcmw7XG4gICAgICAgIHN3aXRjaCAocmVxdWVzdC5tZXRob2QpIHtcbiAgICAgICAgICAgIGNhc2UgJ0dFVCc6XG4gICAgICAgICAgICAgICAgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhuZXcgVVJMKHJlcXVlc3QudXJsKS5oYXNoLnNsaWNlKDEpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1BPU1QnOlxuICAgICAgICAgICAgICAgIHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoYXdhaXQgb2F1dGguZm9ybVBvc3RSZXNwb25zZShyZXF1ZXN0KSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IENvZGVkVHlwZUVycm9yKCd1bmV4cGVjdGVkIFJlcXVlc3QgSFRUUCBtZXRob2QnLCBFUlJfSU5WQUxJRF9BUkdfVkFMVUUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKGN1cnJlbnRVcmwuaGFzaC5zbGljZSgxKSk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGRlY295ID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhwYXJhbXMpO1xuICAgICAgICAgICAgZGVjb3kuZGVsZXRlKCdpZF90b2tlbicpO1xuICAgICAgICAgICAgb2F1dGgudmFsaWRhdGVBdXRoUmVzcG9uc2Uoe1xuICAgICAgICAgICAgICAgIC4uLmFzLFxuICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb25fcmVzcG9uc2VfaXNzX3BhcmFtZXRlcl9zdXBwb3J0ZWQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH0sIGMsIGRlY295LCBjaGVja3M/LmV4cGVjdGVkU3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGRlY295ID0gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICBhY2Nlc3NfdG9rZW46ICdkZWNveScsXG4gICAgICAgICAgICAgICAgdG9rZW5fdHlwZTogJ2JlYXJlcicsXG4gICAgICAgICAgICAgICAgaWRfdG9rZW46IHBhcmFtcy5nZXQoJ2lkX3Rva2VuJyksXG4gICAgICAgICAgICB9KSwge1xuICAgICAgICAgICAgICAgIGhlYWRlcnM6IG5ldyBIZWFkZXJzKHsgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9KSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgcmVmID0gYXdhaXQgb2F1dGgucHJvY2Vzc0F1dGhvcml6YXRpb25Db2RlUmVzcG9uc2UoYXMsIGMsIGRlY295LCB7XG4gICAgICAgICAgICAgICAgZXhwZWN0ZWROb25jZSxcbiAgICAgICAgICAgICAgICBtYXhBZ2U6IGNoZWNrcz8ubWF4QWdlLFxuICAgICAgICAgICAgICAgIFtvYXV0aC5qd2VEZWNyeXB0XTogZGVjcnlwdCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYXdhaXQgb2F1dGgudmFsaWRhdGVBcHBsaWNhdGlvbkxldmVsU2lnbmF0dXJlKGFzLCBkZWNveSwge1xuICAgICAgICAgICAgICAgIFtvYXV0aC5jdXN0b21GZXRjaF06IGZldGNoLFxuICAgICAgICAgICAgICAgIFtvYXV0aC5hbGxvd0luc2VjdXJlUmVxdWVzdHNdOiAhdGxzT25seSxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyhoZWFkZXJzKSxcbiAgICAgICAgICAgICAgICBzaWduYWw6IHNpZ25hbCh0aW1lb3V0KSxcbiAgICAgICAgICAgICAgICBbb2F1dGguandrc0NhY2hlXTogandrc0NhY2hlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gb2F1dGguZ2V0VmFsaWRhdGVkSWRUb2tlbkNsYWltcyhyZWYpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgZXJyb3JIYW5kbGVyKGVycik7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHVzZUNvZGVJZFRva2VuUmVzcG9uc2VUeXBlKGNvbmZpZykge1xuICAgIGNoZWNrQ29uZmlnKGNvbmZpZyk7XG4gICAgY29uc3QgeyBqYXJtLCBpbXBsaWNpdCB9ID0gaW50KGNvbmZpZyk7XG4gICAgaWYgKGphcm0gfHwgaW1wbGljaXQpIHtcbiAgICAgICAgdGhyb3cgZSgnXCJjb2RlIGlkX3Rva2VuXCIgcmVzcG9uc2UgdHlwZSBjYW5ub3QgYmUgY29tYmluZWQgd2l0aCBKQVJNIG9yIGltcGxpY2l0IHJlc3BvbnNlIHR5cGUnLCB1bmRlZmluZWQsIG9hdXRoLlVOU1VQUE9SVEVEX09QRVJBVElPTik7XG4gICAgfVxuICAgIGludChjb25maWcpLmh5YnJpZCA9IChhdXRob3JpemF0aW9uUmVzcG9uc2UsIGV4cGVjdGVkTm9uY2UsIGV4cGVjdGVkU3RhdGUsIG1heEFnZSkgPT4gdmFsaWRhdGVDb2RlSWRUb2tlblJlc3BvbnNlKGNvbmZpZywgYXV0aG9yaXphdGlvblJlc3BvbnNlLCBleHBlY3RlZE5vbmNlLCBleHBlY3RlZFN0YXRlLCBtYXhBZ2UsIGZhbHNlKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB1c2VJZFRva2VuUmVzcG9uc2VUeXBlKGNvbmZpZykge1xuICAgIGNoZWNrQ29uZmlnKGNvbmZpZyk7XG4gICAgY29uc3QgeyBqYXJtLCBoeWJyaWQgfSA9IGludChjb25maWcpO1xuICAgIGlmIChqYXJtIHx8IGh5YnJpZCkge1xuICAgICAgICB0aHJvdyBlKCdcImlkX3Rva2VuXCIgcmVzcG9uc2UgdHlwZSBjYW5ub3QgYmUgY29tYmluZWQgd2l0aCBKQVJNIG9yIGh5YnJpZCByZXNwb25zZSB0eXBlJywgdW5kZWZpbmVkLCBvYXV0aC5VTlNVUFBPUlRFRF9PUEVSQVRJT04pO1xuICAgIH1cbiAgICBpbnQoY29uZmlnKS5pbXBsaWNpdCA9IHRydWU7XG59XG5mdW5jdGlvbiBzdHJpcFBhcmFtcyh1cmwpIHtcbiAgICB1cmwgPSBuZXcgVVJMKHVybCk7XG4gICAgdXJsLnNlYXJjaCA9ICcnO1xuICAgIHVybC5oYXNoID0gJyc7XG4gICAgcmV0dXJuIHVybC5ocmVmO1xufVxuZnVuY3Rpb24gd2ViSW5zdGFuY2VPZihpbnB1dCwgdG9TdHJpbmdUYWcpIHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmdldFByb3RvdHlwZU9mKGlucHV0KVtTeW1ib2wudG9TdHJpbmdUYWddID09PSB0b1N0cmluZ1RhZztcbiAgICB9XG4gICAgY2F0Y2gge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGF1dGhvcml6YXRpb25Db2RlR3JhbnQoY29uZmlnLCBjdXJyZW50VXJsLCBjaGVja3MsIHRva2VuRW5kcG9pbnRQYXJhbWV0ZXJzLCBvcHRpb25zKSB7XG4gICAgY2hlY2tDb25maWcoY29uZmlnKTtcbiAgICBpZiAob3B0aW9ucz8uZmxhZyAhPT0gcmV0cnkgJiZcbiAgICAgICAgIShjdXJyZW50VXJsIGluc3RhbmNlb2YgVVJMKSAmJlxuICAgICAgICAhd2ViSW5zdGFuY2VPZihjdXJyZW50VXJsLCAnUmVxdWVzdCcpKSB7XG4gICAgICAgIHRocm93IENvZGVkVHlwZUVycm9yKCdcImN1cnJlbnRVcmxcIiBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIFVSTCwgb3IgUmVxdWVzdCcsIEVSUl9JTlZBTElEX0FSR19UWVBFKTtcbiAgICB9XG4gICAgbGV0IGF1dGhSZXNwb25zZTtcbiAgICBsZXQgcmVkaXJlY3RVcmk7XG4gICAgY29uc3QgeyBhcywgYywgYXV0aCwgZmV0Y2gsIHRsc09ubHksIGphcm0sIGh5YnJpZCwgbm9uUmVwdWRpYXRpb24sIHRpbWVvdXQsIGRlY3J5cHQsIGltcGxpY2l0IH0gPSBpbnQoY29uZmlnKTtcbiAgICBpZiAob3B0aW9ucz8uZmxhZyA9PT0gcmV0cnkpIHtcbiAgICAgICAgYXV0aFJlc3BvbnNlID0gb3B0aW9ucy5hdXRoUmVzcG9uc2U7XG4gICAgICAgIHJlZGlyZWN0VXJpID0gb3B0aW9ucy5yZWRpcmVjdFVyaTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmICghKGN1cnJlbnRVcmwgaW5zdGFuY2VvZiBVUkwpKSB7XG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0ID0gY3VycmVudFVybDtcbiAgICAgICAgICAgIGN1cnJlbnRVcmwgPSBuZXcgVVJMKGN1cnJlbnRVcmwudXJsKTtcbiAgICAgICAgICAgIHN3aXRjaCAocmVxdWVzdC5tZXRob2QpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdHRVQnOlxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdQT1NUJzpcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhhd2FpdCBvYXV0aC5mb3JtUG9zdFJlc3BvbnNlKHJlcXVlc3QpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGh5YnJpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFVybC5oYXNoID0gcGFyYW1zLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtrLCB2XSBvZiBwYXJhbXMuZW50cmllcygpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKGssIHYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IENvZGVkVHlwZUVycm9yKCd1bmV4cGVjdGVkIFJlcXVlc3QgSFRUUCBtZXRob2QnLCBFUlJfSU5WQUxJRF9BUkdfVkFMVUUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlZGlyZWN0VXJpID0gc3RyaXBQYXJhbXMoY3VycmVudFVybCk7XG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgY2FzZSAhIWphcm06XG4gICAgICAgICAgICAgICAgYXV0aFJlc3BvbnNlID0gYXdhaXQgamFybShjdXJyZW50VXJsLCBjaGVja3M/LmV4cGVjdGVkU3RhdGUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAhIWh5YnJpZDpcbiAgICAgICAgICAgICAgICBhdXRoUmVzcG9uc2UgPSBhd2FpdCBoeWJyaWQoY3VycmVudFVybCwgY2hlY2tzPy5leHBlY3RlZE5vbmNlLCBjaGVja3M/LmV4cGVjdGVkU3RhdGUsIGNoZWNrcz8ubWF4QWdlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgISFpbXBsaWNpdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdhdXRob3JpemF0aW9uQ29kZUdyYW50KCkgY2Fubm90IGJlIHVzZWQgYnkgcmVzcG9uc2VfdHlwZT1pZF90b2tlbiBjbGllbnRzJyk7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGF1dGhSZXNwb25zZSA9IG9hdXRoLnZhbGlkYXRlQXV0aFJlc3BvbnNlKGFzLCBjLCBjdXJyZW50VXJsLnNlYXJjaFBhcmFtcywgY2hlY2tzPy5leHBlY3RlZFN0YXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBlcnJvckhhbmRsZXIoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBvYXV0aFxuICAgICAgICAuYXV0aG9yaXphdGlvbkNvZGVHcmFudFJlcXVlc3QoYXMsIGMsIGF1dGgsIGF1dGhSZXNwb25zZSwgcmVkaXJlY3RVcmksIGNoZWNrcz8ucGtjZUNvZGVWZXJpZmllciB8fCBvYXV0aC5ub3BrY2UsIHtcbiAgICAgICAgYWRkaXRpb25hbFBhcmFtZXRlcnM6IHRva2VuRW5kcG9pbnRQYXJhbWV0ZXJzLFxuICAgICAgICBbb2F1dGguY3VzdG9tRmV0Y2hdOiBmZXRjaCxcbiAgICAgICAgW29hdXRoLmFsbG93SW5zZWN1cmVSZXF1ZXN0c106ICF0bHNPbmx5LFxuICAgICAgICBEUG9QOiBvcHRpb25zPy5EUG9QLFxuICAgICAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyhoZWFkZXJzKSxcbiAgICAgICAgc2lnbmFsOiBzaWduYWwodGltZW91dCksXG4gICAgfSlcbiAgICAgICAgLmNhdGNoKGVycm9ySGFuZGxlcik7XG4gICAgaWYgKHR5cGVvZiBjaGVja3M/LmV4cGVjdGVkTm9uY2UgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgIHR5cGVvZiBjaGVja3M/Lm1heEFnZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgY2hlY2tzLmlkVG9rZW5FeHBlY3RlZCA9IHRydWU7XG4gICAgfVxuICAgIGNvbnN0IHAgPSBvYXV0aC5wcm9jZXNzQXV0aG9yaXphdGlvbkNvZGVSZXNwb25zZShhcywgYywgcmVzcG9uc2UsIHtcbiAgICAgICAgZXhwZWN0ZWROb25jZTogY2hlY2tzPy5leHBlY3RlZE5vbmNlLFxuICAgICAgICBtYXhBZ2U6IGNoZWNrcz8ubWF4QWdlLFxuICAgICAgICByZXF1aXJlSWRUb2tlbjogY2hlY2tzPy5pZFRva2VuRXhwZWN0ZWQsXG4gICAgICAgIFtvYXV0aC5qd2VEZWNyeXB0XTogZGVjcnlwdCxcbiAgICB9KTtcbiAgICBsZXQgcmVzdWx0O1xuICAgIHRyeSB7XG4gICAgICAgIHJlc3VsdCA9IGF3YWl0IHA7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgaWYgKHJldHJ5YWJsZShlcnIsIG9wdGlvbnMpKSB7XG4gICAgICAgICAgICByZXR1cm4gYXV0aG9yaXphdGlvbkNvZGVHcmFudChjb25maWcsIHVuZGVmaW5lZCwgY2hlY2tzLCB0b2tlbkVuZHBvaW50UGFyYW1ldGVycywge1xuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgZmxhZzogcmV0cnksXG4gICAgICAgICAgICAgICAgYXV0aFJlc3BvbnNlOiBhdXRoUmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgcmVkaXJlY3RVcmk6IHJlZGlyZWN0VXJpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZXJyb3JIYW5kbGVyKGVycik7XG4gICAgfVxuICAgIHJlc3VsdC5pZF90b2tlbiAmJiAoYXdhaXQgbm9uUmVwdWRpYXRpb24/LihyZXNwb25zZSkpO1xuICAgIGFkZEhlbHBlcnMocmVzdWx0KTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuYXN5bmMgZnVuY3Rpb24gdmFsaWRhdGVKQVJNUmVzcG9uc2UoY29uZmlnLCBhdXRob3JpemF0aW9uUmVzcG9uc2UsIGV4cGVjdGVkU3RhdGUpIHtcbiAgICBjb25zdCB7IGFzLCBjLCBmZXRjaCwgdGxzT25seSwgdGltZW91dCwgZGVjcnlwdCwgandrc0NhY2hlIH0gPSBpbnQoY29uZmlnKTtcbiAgICByZXR1cm4gb2F1dGhcbiAgICAgICAgLnZhbGlkYXRlSnd0QXV0aFJlc3BvbnNlKGFzLCBjLCBhdXRob3JpemF0aW9uUmVzcG9uc2UsIGV4cGVjdGVkU3RhdGUsIHtcbiAgICAgICAgW29hdXRoLmN1c3RvbUZldGNoXTogZmV0Y2gsXG4gICAgICAgIFtvYXV0aC5hbGxvd0luc2VjdXJlUmVxdWVzdHNdOiAhdGxzT25seSxcbiAgICAgICAgaGVhZGVyczogbmV3IEhlYWRlcnMoaGVhZGVycyksXG4gICAgICAgIHNpZ25hbDogc2lnbmFsKHRpbWVvdXQpLFxuICAgICAgICBbb2F1dGguandlRGVjcnlwdF06IGRlY3J5cHQsXG4gICAgICAgIFtvYXV0aC5qd2tzQ2FjaGVdOiBqd2tzQ2FjaGUsXG4gICAgfSlcbiAgICAgICAgLmNhdGNoKGVycm9ySGFuZGxlcik7XG59XG5hc3luYyBmdW5jdGlvbiB2YWxpZGF0ZUNvZGVJZFRva2VuUmVzcG9uc2UoY29uZmlnLCBhdXRob3JpemF0aW9uUmVzcG9uc2UsIGV4cGVjdGVkTm9uY2UsIGV4cGVjdGVkU3RhdGUsIG1heEFnZSwgZmFwaSkge1xuICAgIGlmICh0eXBlb2YgZXhwZWN0ZWROb25jZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhyb3cgQ29kZWRUeXBlRXJyb3IoJ1wiZXhwZWN0ZWROb25jZVwiIG11c3QgYmUgYSBzdHJpbmcnLCBFUlJfSU5WQUxJRF9BUkdfVFlQRSk7XG4gICAgfVxuICAgIGlmIChleHBlY3RlZFN0YXRlICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIGV4cGVjdGVkU3RhdGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRocm93IENvZGVkVHlwZUVycm9yKCdcImV4cGVjdGVkU3RhdGVcIiBtdXN0IGJlIGEgc3RyaW5nJywgRVJSX0lOVkFMSURfQVJHX1RZUEUpO1xuICAgIH1cbiAgICBjb25zdCB7IGFzLCBjLCBmZXRjaCwgdGxzT25seSwgdGltZW91dCwgZGVjcnlwdCwgandrc0NhY2hlIH0gPSBpbnQoY29uZmlnKTtcbiAgICByZXR1cm4gKGZhcGlcbiAgICAgICAgPyBvYXV0aC52YWxpZGF0ZURldGFjaGVkU2lnbmF0dXJlUmVzcG9uc2VcbiAgICAgICAgOiBvYXV0aC52YWxpZGF0ZUNvZGVJZFRva2VuUmVzcG9uc2UpKGFzLCBjLCBhdXRob3JpemF0aW9uUmVzcG9uc2UsIGV4cGVjdGVkTm9uY2UsIGV4cGVjdGVkU3RhdGUsIG1heEFnZSwge1xuICAgICAgICBbb2F1dGguY3VzdG9tRmV0Y2hdOiBmZXRjaCxcbiAgICAgICAgW29hdXRoLmFsbG93SW5zZWN1cmVSZXF1ZXN0c106ICF0bHNPbmx5LFxuICAgICAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyhoZWFkZXJzKSxcbiAgICAgICAgc2lnbmFsOiBzaWduYWwodGltZW91dCksXG4gICAgICAgIFtvYXV0aC5qd2VEZWNyeXB0XTogZGVjcnlwdCxcbiAgICAgICAgW29hdXRoLmp3a3NDYWNoZV06IGp3a3NDYWNoZSxcbiAgICB9KS5jYXRjaChlcnJvckhhbmRsZXIpO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlZnJlc2hUb2tlbkdyYW50KGNvbmZpZywgcmVmcmVzaFRva2VuLCBwYXJhbWV0ZXJzLCBvcHRpb25zKSB7XG4gICAgY2hlY2tDb25maWcoY29uZmlnKTtcbiAgICBwYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhwYXJhbWV0ZXJzKTtcbiAgICBjb25zdCB7IGFzLCBjLCBhdXRoLCBmZXRjaCwgdGxzT25seSwgbm9uUmVwdWRpYXRpb24sIHRpbWVvdXQsIGRlY3J5cHQgfSA9IGludChjb25maWcpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgb2F1dGhcbiAgICAgICAgLnJlZnJlc2hUb2tlbkdyYW50UmVxdWVzdChhcywgYywgYXV0aCwgcmVmcmVzaFRva2VuLCB7XG4gICAgICAgIFtvYXV0aC5jdXN0b21GZXRjaF06IGZldGNoLFxuICAgICAgICBbb2F1dGguYWxsb3dJbnNlY3VyZVJlcXVlc3RzXTogIXRsc09ubHksXG4gICAgICAgIGFkZGl0aW9uYWxQYXJhbWV0ZXJzOiBwYXJhbWV0ZXJzLFxuICAgICAgICBEUG9QOiBvcHRpb25zPy5EUG9QLFxuICAgICAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyhoZWFkZXJzKSxcbiAgICAgICAgc2lnbmFsOiBzaWduYWwodGltZW91dCksXG4gICAgfSlcbiAgICAgICAgLmNhdGNoKGVycm9ySGFuZGxlcik7XG4gICAgY29uc3QgcCA9IG9hdXRoLnByb2Nlc3NSZWZyZXNoVG9rZW5SZXNwb25zZShhcywgYywgcmVzcG9uc2UsIHtcbiAgICAgICAgW29hdXRoLmp3ZURlY3J5cHRdOiBkZWNyeXB0LFxuICAgIH0pO1xuICAgIGxldCByZXN1bHQ7XG4gICAgdHJ5IHtcbiAgICAgICAgcmVzdWx0ID0gYXdhaXQgcDtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICBpZiAocmV0cnlhYmxlKGVyciwgb3B0aW9ucykpIHtcbiAgICAgICAgICAgIHJldHVybiByZWZyZXNoVG9rZW5HcmFudChjb25maWcsIHJlZnJlc2hUb2tlbiwgcGFyYW1ldGVycywge1xuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgZmxhZzogcmV0cnksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlcnJvckhhbmRsZXIoZXJyKTtcbiAgICB9XG4gICAgcmVzdWx0LmlkX3Rva2VuICYmIChhd2FpdCBub25SZXB1ZGlhdGlvbj8uKHJlc3BvbnNlKSk7XG4gICAgYWRkSGVscGVycyhyZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2xpZW50Q3JlZGVudGlhbHNHcmFudChjb25maWcsIHBhcmFtZXRlcnMsIG9wdGlvbnMpIHtcbiAgICBjaGVja0NvbmZpZyhjb25maWcpO1xuICAgIHBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHBhcmFtZXRlcnMpO1xuICAgIGNvbnN0IHsgYXMsIGMsIGF1dGgsIGZldGNoLCB0bHNPbmx5LCB0aW1lb3V0IH0gPSBpbnQoY29uZmlnKTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG9hdXRoXG4gICAgICAgIC5jbGllbnRDcmVkZW50aWFsc0dyYW50UmVxdWVzdChhcywgYywgYXV0aCwgcGFyYW1ldGVycywge1xuICAgICAgICBbb2F1dGguY3VzdG9tRmV0Y2hdOiBmZXRjaCxcbiAgICAgICAgW29hdXRoLmFsbG93SW5zZWN1cmVSZXF1ZXN0c106ICF0bHNPbmx5LFxuICAgICAgICBEUG9QOiBvcHRpb25zPy5EUG9QLFxuICAgICAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyhoZWFkZXJzKSxcbiAgICAgICAgc2lnbmFsOiBzaWduYWwodGltZW91dCksXG4gICAgfSlcbiAgICAgICAgLmNhdGNoKGVycm9ySGFuZGxlcik7XG4gICAgY29uc3QgcCA9IG9hdXRoLnByb2Nlc3NDbGllbnRDcmVkZW50aWFsc1Jlc3BvbnNlKGFzLCBjLCByZXNwb25zZSk7XG4gICAgbGV0IHJlc3VsdDtcbiAgICB0cnkge1xuICAgICAgICByZXN1bHQgPSBhd2FpdCBwO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGlmIChyZXRyeWFibGUoZXJyLCBvcHRpb25zKSkge1xuICAgICAgICAgICAgcmV0dXJuIGNsaWVudENyZWRlbnRpYWxzR3JhbnQoY29uZmlnLCBwYXJhbWV0ZXJzLCB7XG4gICAgICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgICAgICBmbGFnOiByZXRyeSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVycm9ySGFuZGxlcihlcnIpO1xuICAgIH1cbiAgICBhZGRIZWxwZXJzKHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBidWlsZEF1dGhvcml6YXRpb25VcmwoY29uZmlnLCBwYXJhbWV0ZXJzKSB7XG4gICAgY2hlY2tDb25maWcoY29uZmlnKTtcbiAgICBjb25zdCB7IGFzLCBjLCB0bHNPbmx5LCBoeWJyaWQsIGphcm0sIGltcGxpY2l0IH0gPSBpbnQoY29uZmlnKTtcbiAgICBjb25zdCBhdXRob3JpemF0aW9uRW5kcG9pbnQgPSBvYXV0aC5yZXNvbHZlRW5kcG9pbnQoYXMsICdhdXRob3JpemF0aW9uX2VuZHBvaW50JywgZmFsc2UsIHRsc09ubHkpO1xuICAgIHBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHBhcmFtZXRlcnMpO1xuICAgIGlmICghcGFyYW1ldGVycy5oYXMoJ2NsaWVudF9pZCcpKSB7XG4gICAgICAgIHBhcmFtZXRlcnMuc2V0KCdjbGllbnRfaWQnLCBjLmNsaWVudF9pZCk7XG4gICAgfVxuICAgIGlmICghcGFyYW1ldGVycy5oYXMoJ3JlcXVlc3RfdXJpJykgJiYgIXBhcmFtZXRlcnMuaGFzKCdyZXF1ZXN0JykpIHtcbiAgICAgICAgaWYgKCFwYXJhbWV0ZXJzLmhhcygncmVzcG9uc2VfdHlwZScpKSB7XG4gICAgICAgICAgICBwYXJhbWV0ZXJzLnNldCgncmVzcG9uc2VfdHlwZScsIGh5YnJpZCA/ICdjb2RlIGlkX3Rva2VuJyA6IGltcGxpY2l0ID8gJ2lkX3Rva2VuJyA6ICdjb2RlJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGltcGxpY2l0ICYmICFwYXJhbWV0ZXJzLmhhcygnbm9uY2UnKSkge1xuICAgICAgICAgICAgdGhyb3cgQ29kZWRUeXBlRXJyb3IoJ3Jlc3BvbnNlX3R5cGU9aWRfdG9rZW4gY2xpZW50cyBtdXN0IHByb3ZpZGUgYSBub25jZSBwYXJhbWV0ZXIgaW4gdGhlaXIgYXV0aG9yaXphdGlvbiByZXF1ZXN0IHBhcmFtZXRlcnMnLCBFUlJfSU5WQUxJRF9BUkdfVkFMVUUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChqYXJtKSB7XG4gICAgICAgICAgICBwYXJhbWV0ZXJzLnNldCgncmVzcG9uc2VfbW9kZScsICdqd3QnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IFtrLCB2XSBvZiBwYXJhbWV0ZXJzLmVudHJpZXMoKSkge1xuICAgICAgICBhdXRob3JpemF0aW9uRW5kcG9pbnQuc2VhcmNoUGFyYW1zLmFwcGVuZChrLCB2KTtcbiAgICB9XG4gICAgcmV0dXJuIGF1dGhvcml6YXRpb25FbmRwb2ludDtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBidWlsZEF1dGhvcml6YXRpb25VcmxXaXRoSkFSKGNvbmZpZywgcGFyYW1ldGVycywgc2lnbmluZ0tleSwgb3B0aW9ucykge1xuICAgIGNoZWNrQ29uZmlnKGNvbmZpZyk7XG4gICAgY29uc3QgYXV0aG9yaXphdGlvbkVuZHBvaW50ID0gYnVpbGRBdXRob3JpemF0aW9uVXJsKGNvbmZpZywgcGFyYW1ldGVycyk7XG4gICAgcGFyYW1ldGVycyA9IGF1dGhvcml6YXRpb25FbmRwb2ludC5zZWFyY2hQYXJhbXM7XG4gICAgaWYgKCFzaWduaW5nS2V5KSB7XG4gICAgICAgIHRocm93IENvZGVkVHlwZUVycm9yKCdcInNpZ25pbmdLZXlcIiBtdXN0IGJlIHByb3ZpZGVkJywgRVJSX0lOVkFMSURfQVJHX1ZBTFVFKTtcbiAgICB9XG4gICAgY29uc3QgeyBhcywgYyB9ID0gaW50KGNvbmZpZyk7XG4gICAgY29uc3QgcmVxdWVzdCA9IGF3YWl0IG9hdXRoXG4gICAgICAgIC5pc3N1ZVJlcXVlc3RPYmplY3QoYXMsIGMsIHBhcmFtZXRlcnMsIHNpZ25pbmdLZXksIG9wdGlvbnMpXG4gICAgICAgIC5jYXRjaChlcnJvckhhbmRsZXIpO1xuICAgIHJldHVybiBidWlsZEF1dGhvcml6YXRpb25VcmwoY29uZmlnLCB7IHJlcXVlc3QgfSk7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYnVpbGRBdXRob3JpemF0aW9uVXJsV2l0aFBBUihjb25maWcsIHBhcmFtZXRlcnMsIG9wdGlvbnMpIHtcbiAgICBjaGVja0NvbmZpZyhjb25maWcpO1xuICAgIGNvbnN0IGF1dGhvcml6YXRpb25FbmRwb2ludCA9IGJ1aWxkQXV0aG9yaXphdGlvblVybChjb25maWcsIHBhcmFtZXRlcnMpO1xuICAgIGNvbnN0IHsgYXMsIGMsIGF1dGgsIGZldGNoLCB0bHNPbmx5LCB0aW1lb3V0IH0gPSBpbnQoY29uZmlnKTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG9hdXRoXG4gICAgICAgIC5wdXNoZWRBdXRob3JpemF0aW9uUmVxdWVzdChhcywgYywgYXV0aCwgYXV0aG9yaXphdGlvbkVuZHBvaW50LnNlYXJjaFBhcmFtcywge1xuICAgICAgICBbb2F1dGguY3VzdG9tRmV0Y2hdOiBmZXRjaCxcbiAgICAgICAgW29hdXRoLmFsbG93SW5zZWN1cmVSZXF1ZXN0c106ICF0bHNPbmx5LFxuICAgICAgICBEUG9QOiBvcHRpb25zPy5EUG9QLFxuICAgICAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyhoZWFkZXJzKSxcbiAgICAgICAgc2lnbmFsOiBzaWduYWwodGltZW91dCksXG4gICAgfSlcbiAgICAgICAgLmNhdGNoKGVycm9ySGFuZGxlcik7XG4gICAgY29uc3QgcCA9IG9hdXRoLnByb2Nlc3NQdXNoZWRBdXRob3JpemF0aW9uUmVzcG9uc2UoYXMsIGMsIHJlc3BvbnNlKTtcbiAgICBsZXQgcmVzdWx0O1xuICAgIHRyeSB7XG4gICAgICAgIHJlc3VsdCA9IGF3YWl0IHA7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgaWYgKHJldHJ5YWJsZShlcnIsIG9wdGlvbnMpKSB7XG4gICAgICAgICAgICByZXR1cm4gYnVpbGRBdXRob3JpemF0aW9uVXJsV2l0aFBBUihjb25maWcsIHBhcmFtZXRlcnMsIHtcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgICAgIGZsYWc6IHJldHJ5LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZXJyb3JIYW5kbGVyKGVycik7XG4gICAgfVxuICAgIHJldHVybiBidWlsZEF1dGhvcml6YXRpb25VcmwoY29uZmlnLCB7IHJlcXVlc3RfdXJpOiByZXN1bHQucmVxdWVzdF91cmkgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gYnVpbGRFbmRTZXNzaW9uVXJsKGNvbmZpZywgcGFyYW1ldGVycykge1xuICAgIGNoZWNrQ29uZmlnKGNvbmZpZyk7XG4gICAgY29uc3QgeyBhcywgYywgdGxzT25seSB9ID0gaW50KGNvbmZpZyk7XG4gICAgY29uc3QgZW5kU2Vzc2lvbkVuZHBvaW50ID0gb2F1dGgucmVzb2x2ZUVuZHBvaW50KGFzLCAnZW5kX3Nlc3Npb25fZW5kcG9pbnQnLCBmYWxzZSwgdGxzT25seSk7XG4gICAgcGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMocGFyYW1ldGVycyk7XG4gICAgaWYgKCFwYXJhbWV0ZXJzLmhhcygnY2xpZW50X2lkJykpIHtcbiAgICAgICAgcGFyYW1ldGVycy5zZXQoJ2NsaWVudF9pZCcsIGMuY2xpZW50X2lkKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBbaywgdl0gb2YgcGFyYW1ldGVycy5lbnRyaWVzKCkpIHtcbiAgICAgICAgZW5kU2Vzc2lvbkVuZHBvaW50LnNlYXJjaFBhcmFtcy5hcHBlbmQoaywgdik7XG4gICAgfVxuICAgIHJldHVybiBlbmRTZXNzaW9uRW5kcG9pbnQ7XG59XG5mdW5jdGlvbiBjaGVja0NvbmZpZyhpbnB1dCkge1xuICAgIGlmICghKGlucHV0IGluc3RhbmNlb2YgQ29uZmlndXJhdGlvbikpIHtcbiAgICAgICAgdGhyb3cgQ29kZWRUeXBlRXJyb3IoJ1wiY29uZmlnXCIgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiBDb25maWd1cmF0aW9uJywgRVJSX0lOVkFMSURfQVJHX1RZUEUpO1xuICAgIH1cbiAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGlucHV0KSAhPT0gQ29uZmlndXJhdGlvbi5wcm90b3R5cGUpIHtcbiAgICAgICAgdGhyb3cgQ29kZWRUeXBlRXJyb3IoJ3N1YmNsYXNzaW5nIENvbmZpZ3VyYXRpb24gaXMgbm90IGFsbG93ZWQnLCBFUlJfSU5WQUxJRF9BUkdfVkFMVUUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNpZ25hbCh0aW1lb3V0KSB7XG4gICAgcmV0dXJuIHRpbWVvdXQgPyBBYm9ydFNpZ25hbC50aW1lb3V0KHRpbWVvdXQgKiAxMDAwKSA6IHVuZGVmaW5lZDtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaFVzZXJJbmZvKGNvbmZpZywgYWNjZXNzVG9rZW4sIGV4cGVjdGVkU3ViamVjdCwgb3B0aW9ucykge1xuICAgIGNoZWNrQ29uZmlnKGNvbmZpZyk7XG4gICAgY29uc3QgeyBhcywgYywgZmV0Y2gsIHRsc09ubHksIG5vblJlcHVkaWF0aW9uLCB0aW1lb3V0LCBkZWNyeXB0IH0gPSBpbnQoY29uZmlnKTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG9hdXRoXG4gICAgICAgIC51c2VySW5mb1JlcXVlc3QoYXMsIGMsIGFjY2Vzc1Rva2VuLCB7XG4gICAgICAgIFtvYXV0aC5jdXN0b21GZXRjaF06IGZldGNoLFxuICAgICAgICBbb2F1dGguYWxsb3dJbnNlY3VyZVJlcXVlc3RzXTogIXRsc09ubHksXG4gICAgICAgIERQb1A6IG9wdGlvbnM/LkRQb1AsXG4gICAgICAgIGhlYWRlcnM6IG5ldyBIZWFkZXJzKGhlYWRlcnMpLFxuICAgICAgICBzaWduYWw6IHNpZ25hbCh0aW1lb3V0KSxcbiAgICB9KVxuICAgICAgICAuY2F0Y2goZXJyb3JIYW5kbGVyKTtcbiAgICBsZXQgZXhlYyA9IG9hdXRoLnByb2Nlc3NVc2VySW5mb1Jlc3BvbnNlKGFzLCBjLCBleHBlY3RlZFN1YmplY3QsIHJlc3BvbnNlLCB7XG4gICAgICAgIFtvYXV0aC5qd2VEZWNyeXB0XTogZGVjcnlwdCxcbiAgICB9KTtcbiAgICBsZXQgcmVzdWx0O1xuICAgIHRyeSB7XG4gICAgICAgIHJlc3VsdCA9IGF3YWl0IGV4ZWM7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgaWYgKHJldHJ5YWJsZShlcnIsIG9wdGlvbnMpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmV0Y2hVc2VySW5mbyhjb25maWcsIGFjY2Vzc1Rva2VuLCBleHBlY3RlZFN1YmplY3QsIHtcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgICAgIGZsYWc6IHJldHJ5LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZXJyb3JIYW5kbGVyKGVycik7XG4gICAgfVxuICAgIG9hdXRoLmdldENvbnRlbnRUeXBlKHJlc3BvbnNlKSA9PT0gJ2FwcGxpY2F0aW9uL2p3dCcgJiZcbiAgICAgICAgKGF3YWl0IG5vblJlcHVkaWF0aW9uPy4ocmVzcG9uc2UpKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gcmV0cnlhYmxlKGVyciwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zPy5EUG9QICYmIG9wdGlvbnMuZmxhZyAhPT0gcmV0cnkpIHtcbiAgICAgICAgcmV0dXJuIG9hdXRoLmlzRFBvUE5vbmNlRXJyb3IoZXJyKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRva2VuSW50cm9zcGVjdGlvbihjb25maWcsIHRva2VuLCBwYXJhbWV0ZXJzKSB7XG4gICAgY2hlY2tDb25maWcoY29uZmlnKTtcbiAgICBjb25zdCB7IGFzLCBjLCBhdXRoLCBmZXRjaCwgdGxzT25seSwgbm9uUmVwdWRpYXRpb24sIHRpbWVvdXQsIGRlY3J5cHQgfSA9IGludChjb25maWcpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgb2F1dGhcbiAgICAgICAgLmludHJvc3BlY3Rpb25SZXF1ZXN0KGFzLCBjLCBhdXRoLCB0b2tlbiwge1xuICAgICAgICBbb2F1dGguY3VzdG9tRmV0Y2hdOiBmZXRjaCxcbiAgICAgICAgW29hdXRoLmFsbG93SW5zZWN1cmVSZXF1ZXN0c106ICF0bHNPbmx5LFxuICAgICAgICBhZGRpdGlvbmFsUGFyYW1ldGVyczogbmV3IFVSTFNlYXJjaFBhcmFtcyhwYXJhbWV0ZXJzKSxcbiAgICAgICAgaGVhZGVyczogbmV3IEhlYWRlcnMoaGVhZGVycyksXG4gICAgICAgIHNpZ25hbDogc2lnbmFsKHRpbWVvdXQpLFxuICAgIH0pXG4gICAgICAgIC5jYXRjaChlcnJvckhhbmRsZXIpO1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG9hdXRoXG4gICAgICAgIC5wcm9jZXNzSW50cm9zcGVjdGlvblJlc3BvbnNlKGFzLCBjLCByZXNwb25zZSwge1xuICAgICAgICBbb2F1dGguandlRGVjcnlwdF06IGRlY3J5cHQsXG4gICAgfSlcbiAgICAgICAgLmNhdGNoKGVycm9ySGFuZGxlcik7XG4gICAgb2F1dGguZ2V0Q29udGVudFR5cGUocmVzcG9uc2UpID09PSAnYXBwbGljYXRpb24vdG9rZW4taW50cm9zcGVjdGlvbitqd3QnICYmXG4gICAgICAgIChhd2FpdCBub25SZXB1ZGlhdGlvbj8uKHJlc3BvbnNlKSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmNvbnN0IHJldHJ5ID0gU3ltYm9sKCk7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2VuZXJpY0dyYW50UmVxdWVzdChjb25maWcsIGdyYW50VHlwZSwgcGFyYW1ldGVycywgb3B0aW9ucykge1xuICAgIGNoZWNrQ29uZmlnKGNvbmZpZyk7XG4gICAgY29uc3QgeyBhcywgYywgYXV0aCwgZmV0Y2gsIHRsc09ubHksIHRpbWVvdXQsIGRlY3J5cHQgfSA9IGludChjb25maWcpO1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG9hdXRoXG4gICAgICAgIC5nZW5lcmljVG9rZW5FbmRwb2ludFJlcXVlc3QoYXMsIGMsIGF1dGgsIGdyYW50VHlwZSwgbmV3IFVSTFNlYXJjaFBhcmFtcyhwYXJhbWV0ZXJzKSwge1xuICAgICAgICBbb2F1dGguY3VzdG9tRmV0Y2hdOiBmZXRjaCxcbiAgICAgICAgW29hdXRoLmFsbG93SW5zZWN1cmVSZXF1ZXN0c106ICF0bHNPbmx5LFxuICAgICAgICBEUG9QOiBvcHRpb25zPy5EUG9QLFxuICAgICAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyhoZWFkZXJzKSxcbiAgICAgICAgc2lnbmFsOiBzaWduYWwodGltZW91dCksXG4gICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGxldCByZWNvZ25pemVkVG9rZW5UeXBlcztcbiAgICAgICAgaWYgKGdyYW50VHlwZSA9PT0gJ3VybjppZXRmOnBhcmFtczpvYXV0aDpncmFudC10eXBlOnRva2VuLWV4Y2hhbmdlJykge1xuICAgICAgICAgICAgcmVjb2duaXplZFRva2VuVHlwZXMgPSB7IG5fYTogKCkgPT4geyB9IH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9hdXRoLnByb2Nlc3NHZW5lcmljVG9rZW5FbmRwb2ludFJlc3BvbnNlKGFzLCBjLCByZXNwb25zZSwge1xuICAgICAgICAgICAgW29hdXRoLmp3ZURlY3J5cHRdOiBkZWNyeXB0LFxuICAgICAgICAgICAgcmVjb2duaXplZFRva2VuVHlwZXMsXG4gICAgICAgIH0pO1xuICAgIH0pXG4gICAgICAgIC5jYXRjaChlcnJvckhhbmRsZXIpO1xuICAgIGFkZEhlbHBlcnMocmVzdWx0KTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRva2VuUmV2b2NhdGlvbihjb25maWcsIHRva2VuLCBwYXJhbWV0ZXJzKSB7XG4gICAgY2hlY2tDb25maWcoY29uZmlnKTtcbiAgICBjb25zdCB7IGFzLCBjLCBhdXRoLCBmZXRjaCwgdGxzT25seSwgdGltZW91dCB9ID0gaW50KGNvbmZpZyk7XG4gICAgcmV0dXJuIG9hdXRoXG4gICAgICAgIC5yZXZvY2F0aW9uUmVxdWVzdChhcywgYywgYXV0aCwgdG9rZW4sIHtcbiAgICAgICAgW29hdXRoLmN1c3RvbUZldGNoXTogZmV0Y2gsXG4gICAgICAgIFtvYXV0aC5hbGxvd0luc2VjdXJlUmVxdWVzdHNdOiAhdGxzT25seSxcbiAgICAgICAgYWRkaXRpb25hbFBhcmFtZXRlcnM6IG5ldyBVUkxTZWFyY2hQYXJhbXMocGFyYW1ldGVycyksXG4gICAgICAgIGhlYWRlcnM6IG5ldyBIZWFkZXJzKGhlYWRlcnMpLFxuICAgICAgICBzaWduYWw6IHNpZ25hbCh0aW1lb3V0KSxcbiAgICB9KVxuICAgICAgICAudGhlbihvYXV0aC5wcm9jZXNzUmV2b2NhdGlvblJlc3BvbnNlKVxuICAgICAgICAuY2F0Y2goZXJyb3JIYW5kbGVyKTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaFByb3RlY3RlZFJlc291cmNlKGNvbmZpZywgYWNjZXNzVG9rZW4sIHVybCwgbWV0aG9kLCBib2R5LCBoZWFkZXJzLCBvcHRpb25zKSB7XG4gICAgY2hlY2tDb25maWcoY29uZmlnKTtcbiAgICBoZWFkZXJzIHx8PSBuZXcgSGVhZGVycygpO1xuICAgIGlmICghaGVhZGVycy5oYXMoJ3VzZXItYWdlbnQnKSkge1xuICAgICAgICBoZWFkZXJzLnNldCgndXNlci1hZ2VudCcsIFVTRVJfQUdFTlQpO1xuICAgIH1cbiAgICBjb25zdCB7IGZldGNoLCB0bHNPbmx5LCB0aW1lb3V0IH0gPSBpbnQoY29uZmlnKTtcbiAgICBjb25zdCBleGVjID0gb2F1dGgucHJvdGVjdGVkUmVzb3VyY2VSZXF1ZXN0KGFjY2Vzc1Rva2VuLCBtZXRob2QsIHVybCwgaGVhZGVycywgYm9keSwge1xuICAgICAgICBbb2F1dGguY3VzdG9tRmV0Y2hdOiBmZXRjaCxcbiAgICAgICAgW29hdXRoLmFsbG93SW5zZWN1cmVSZXF1ZXN0c106ICF0bHNPbmx5LFxuICAgICAgICBEUG9QOiBvcHRpb25zPy5EUG9QLFxuICAgICAgICBzaWduYWw6IHNpZ25hbCh0aW1lb3V0KSxcbiAgICB9KTtcbiAgICBsZXQgcmVzdWx0O1xuICAgIHRyeSB7XG4gICAgICAgIHJlc3VsdCA9IGF3YWl0IGV4ZWM7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgaWYgKHJldHJ5YWJsZShlcnIsIG9wdGlvbnMpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmV0Y2hQcm90ZWN0ZWRSZXNvdXJjZShjb25maWcsIGFjY2Vzc1Rva2VuLCB1cmwsIG1ldGhvZCwgYm9keSwgaGVhZGVycywge1xuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgZmxhZzogcmV0cnksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlcnJvckhhbmRsZXIoZXJyKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/openid-client/build/index.js\n");

/***/ }),

/***/ "(shared)/./node_modules/next/dist/esm/client/components/app-router-headers.js":
/*!****************************************************************************!*\
  !*** ./node_modules/next/dist/esm/client/components/app-router-headers.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ACTION_HEADER: () => (/* binding */ ACTION_HEADER),\n/* harmony export */   FLIGHT_HEADERS: () => (/* binding */ FLIGHT_HEADERS),\n/* harmony export */   NEXT_ACTION_NOT_FOUND_HEADER: () => (/* binding */ NEXT_ACTION_NOT_FOUND_HEADER),\n/* harmony export */   NEXT_DID_POSTPONE_HEADER: () => (/* binding */ NEXT_DID_POSTPONE_HEADER),\n/* harmony export */   NEXT_HMR_REFRESH_HASH_COOKIE: () => (/* binding */ NEXT_HMR_REFRESH_HASH_COOKIE),\n/* harmony export */   NEXT_HMR_REFRESH_HEADER: () => (/* binding */ NEXT_HMR_REFRESH_HEADER),\n/* harmony export */   NEXT_IS_PRERENDER_HEADER: () => (/* binding */ NEXT_IS_PRERENDER_HEADER),\n/* harmony export */   NEXT_REWRITTEN_PATH_HEADER: () => (/* binding */ NEXT_REWRITTEN_PATH_HEADER),\n/* harmony export */   NEXT_REWRITTEN_QUERY_HEADER: () => (/* binding */ NEXT_REWRITTEN_QUERY_HEADER),\n/* harmony export */   NEXT_ROUTER_PREFETCH_HEADER: () => (/* binding */ NEXT_ROUTER_PREFETCH_HEADER),\n/* harmony export */   NEXT_ROUTER_SEGMENT_PREFETCH_HEADER: () => (/* binding */ NEXT_ROUTER_SEGMENT_PREFETCH_HEADER),\n/* harmony export */   NEXT_ROUTER_STALE_TIME_HEADER: () => (/* binding */ NEXT_ROUTER_STALE_TIME_HEADER),\n/* harmony export */   NEXT_ROUTER_STATE_TREE_HEADER: () => (/* binding */ NEXT_ROUTER_STATE_TREE_HEADER),\n/* harmony export */   NEXT_RSC_UNION_QUERY: () => (/* binding */ NEXT_RSC_UNION_QUERY),\n/* harmony export */   NEXT_URL: () => (/* binding */ NEXT_URL),\n/* harmony export */   RSC_CONTENT_TYPE_HEADER: () => (/* binding */ RSC_CONTENT_TYPE_HEADER),\n/* harmony export */   RSC_HEADER: () => (/* binding */ RSC_HEADER)\n/* harmony export */ });\nconst RSC_HEADER = 'rsc';\nconst ACTION_HEADER = 'next-action';\n// TODO: Instead of sending the full router state, we only need to send the\n// segment path. Saves bytes. Then we could also use this field for segment\n// prefetches, which also need to specify a particular segment.\nconst NEXT_ROUTER_STATE_TREE_HEADER = 'next-router-state-tree';\nconst NEXT_ROUTER_PREFETCH_HEADER = 'next-router-prefetch';\n// This contains the path to the segment being prefetched.\n// TODO: If we change next-router-state-tree to be a segment path, we can use\n// that instead. Then next-router-prefetch and next-router-segment-prefetch can\n// be merged into a single enum.\nconst NEXT_ROUTER_SEGMENT_PREFETCH_HEADER = 'next-router-segment-prefetch';\nconst NEXT_HMR_REFRESH_HEADER = 'next-hmr-refresh';\nconst NEXT_HMR_REFRESH_HASH_COOKIE = '__next_hmr_refresh_hash__';\nconst NEXT_URL = 'next-url';\nconst RSC_CONTENT_TYPE_HEADER = 'text/x-component';\nconst FLIGHT_HEADERS = [\n    RSC_HEADER,\n    NEXT_ROUTER_STATE_TREE_HEADER,\n    NEXT_ROUTER_PREFETCH_HEADER,\n    NEXT_HMR_REFRESH_HEADER,\n    NEXT_ROUTER_SEGMENT_PREFETCH_HEADER\n];\nconst NEXT_RSC_UNION_QUERY = '_rsc';\nconst NEXT_ROUTER_STALE_TIME_HEADER = 'x-nextjs-stale-time';\nconst NEXT_DID_POSTPONE_HEADER = 'x-nextjs-postponed';\nconst NEXT_REWRITTEN_PATH_HEADER = 'x-nextjs-rewritten-path';\nconst NEXT_REWRITTEN_QUERY_HEADER = 'x-nextjs-rewritten-query';\nconst NEXT_IS_PRERENDER_HEADER = 'x-nextjs-prerender';\nconst NEXT_ACTION_NOT_FOUND_HEADER = 'x-nextjs-action-not-found'; //# sourceMappingURL=app-router-headers.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNoYXJlZCkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2VzbS9jbGllbnQvY29tcG9uZW50cy9hcHAtcm91dGVyLWhlYWRlcnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBTyxNQUFNQSxhQUFhLE1BQWM7QUFDakMsTUFBTUMsZ0JBQWdCLGNBQXNCO0FBQ25ELDJFQUEyRTtBQUMzRSwyRUFBMkU7QUFDM0UsK0RBQStEO0FBQ3hELE1BQU1DLGdDQUFnQyx5QkFBaUM7QUFDdkUsTUFBTUMsOEJBQThCLHVCQUErQjtBQUMxRSwwREFBMEQ7QUFDMUQsNkVBQTZFO0FBQzdFLCtFQUErRTtBQUMvRSxnQ0FBZ0M7QUFDekIsTUFBTUMsc0NBQ1gsK0JBQXVDO0FBQ2xDLE1BQU1DLDBCQUEwQixtQkFBMkI7QUFDM0QsTUFBTUMsK0JBQStCLDRCQUFvQztBQUN6RSxNQUFNQyxXQUFXLFdBQW1CO0FBQ3BDLE1BQU1DLDBCQUEwQixtQkFBMkI7QUFFM0QsTUFBTUMsaUJBQWlCO0lBQzVCVDtJQUNBRTtJQUNBQztJQUNBRTtJQUNBRDtDQUNELENBQVM7QUFFSCxNQUFNTSx1QkFBdUIsT0FBZTtBQUU1QyxNQUFNQyxnQ0FBZ0Msc0JBQThCO0FBQ3BFLE1BQU1DLDJCQUEyQixxQkFBNkI7QUFDOUQsTUFBTUMsNkJBQTZCLDBCQUFrQztBQUNyRSxNQUFNQyw4QkFBOEIsMkJBQW1DO0FBQ3ZFLE1BQU1DLDJCQUEyQixxQkFBNkI7QUFDOUQsTUFBTUMsK0JBQStCLDRCQUFvQyIsInNvdXJjZXMiOlsiRDpcXHNyY1xcY2xpZW50XFxjb21wb25lbnRzXFxhcHAtcm91dGVyLWhlYWRlcnMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IFJTQ19IRUFERVIgPSAncnNjJyBhcyBjb25zdFxuZXhwb3J0IGNvbnN0IEFDVElPTl9IRUFERVIgPSAnbmV4dC1hY3Rpb24nIGFzIGNvbnN0XG4vLyBUT0RPOiBJbnN0ZWFkIG9mIHNlbmRpbmcgdGhlIGZ1bGwgcm91dGVyIHN0YXRlLCB3ZSBvbmx5IG5lZWQgdG8gc2VuZCB0aGVcbi8vIHNlZ21lbnQgcGF0aC4gU2F2ZXMgYnl0ZXMuIFRoZW4gd2UgY291bGQgYWxzbyB1c2UgdGhpcyBmaWVsZCBmb3Igc2VnbWVudFxuLy8gcHJlZmV0Y2hlcywgd2hpY2ggYWxzbyBuZWVkIHRvIHNwZWNpZnkgYSBwYXJ0aWN1bGFyIHNlZ21lbnQuXG5leHBvcnQgY29uc3QgTkVYVF9ST1VURVJfU1RBVEVfVFJFRV9IRUFERVIgPSAnbmV4dC1yb3V0ZXItc3RhdGUtdHJlZScgYXMgY29uc3RcbmV4cG9ydCBjb25zdCBORVhUX1JPVVRFUl9QUkVGRVRDSF9IRUFERVIgPSAnbmV4dC1yb3V0ZXItcHJlZmV0Y2gnIGFzIGNvbnN0XG4vLyBUaGlzIGNvbnRhaW5zIHRoZSBwYXRoIHRvIHRoZSBzZWdtZW50IGJlaW5nIHByZWZldGNoZWQuXG4vLyBUT0RPOiBJZiB3ZSBjaGFuZ2UgbmV4dC1yb3V0ZXItc3RhdGUtdHJlZSB0byBiZSBhIHNlZ21lbnQgcGF0aCwgd2UgY2FuIHVzZVxuLy8gdGhhdCBpbnN0ZWFkLiBUaGVuIG5leHQtcm91dGVyLXByZWZldGNoIGFuZCBuZXh0LXJvdXRlci1zZWdtZW50LXByZWZldGNoIGNhblxuLy8gYmUgbWVyZ2VkIGludG8gYSBzaW5nbGUgZW51bS5cbmV4cG9ydCBjb25zdCBORVhUX1JPVVRFUl9TRUdNRU5UX1BSRUZFVENIX0hFQURFUiA9XG4gICduZXh0LXJvdXRlci1zZWdtZW50LXByZWZldGNoJyBhcyBjb25zdFxuZXhwb3J0IGNvbnN0IE5FWFRfSE1SX1JFRlJFU0hfSEVBREVSID0gJ25leHQtaG1yLXJlZnJlc2gnIGFzIGNvbnN0XG5leHBvcnQgY29uc3QgTkVYVF9ITVJfUkVGUkVTSF9IQVNIX0NPT0tJRSA9ICdfX25leHRfaG1yX3JlZnJlc2hfaGFzaF9fJyBhcyBjb25zdFxuZXhwb3J0IGNvbnN0IE5FWFRfVVJMID0gJ25leHQtdXJsJyBhcyBjb25zdFxuZXhwb3J0IGNvbnN0IFJTQ19DT05URU5UX1RZUEVfSEVBREVSID0gJ3RleHQveC1jb21wb25lbnQnIGFzIGNvbnN0XG5cbmV4cG9ydCBjb25zdCBGTElHSFRfSEVBREVSUyA9IFtcbiAgUlNDX0hFQURFUixcbiAgTkVYVF9ST1VURVJfU1RBVEVfVFJFRV9IRUFERVIsXG4gIE5FWFRfUk9VVEVSX1BSRUZFVENIX0hFQURFUixcbiAgTkVYVF9ITVJfUkVGUkVTSF9IRUFERVIsXG4gIE5FWFRfUk9VVEVSX1NFR01FTlRfUFJFRkVUQ0hfSEVBREVSLFxuXSBhcyBjb25zdFxuXG5leHBvcnQgY29uc3QgTkVYVF9SU0NfVU5JT05fUVVFUlkgPSAnX3JzYycgYXMgY29uc3RcblxuZXhwb3J0IGNvbnN0IE5FWFRfUk9VVEVSX1NUQUxFX1RJTUVfSEVBREVSID0gJ3gtbmV4dGpzLXN0YWxlLXRpbWUnIGFzIGNvbnN0XG5leHBvcnQgY29uc3QgTkVYVF9ESURfUE9TVFBPTkVfSEVBREVSID0gJ3gtbmV4dGpzLXBvc3Rwb25lZCcgYXMgY29uc3RcbmV4cG9ydCBjb25zdCBORVhUX1JFV1JJVFRFTl9QQVRIX0hFQURFUiA9ICd4LW5leHRqcy1yZXdyaXR0ZW4tcGF0aCcgYXMgY29uc3RcbmV4cG9ydCBjb25zdCBORVhUX1JFV1JJVFRFTl9RVUVSWV9IRUFERVIgPSAneC1uZXh0anMtcmV3cml0dGVuLXF1ZXJ5JyBhcyBjb25zdFxuZXhwb3J0IGNvbnN0IE5FWFRfSVNfUFJFUkVOREVSX0hFQURFUiA9ICd4LW5leHRqcy1wcmVyZW5kZXInIGFzIGNvbnN0XG5leHBvcnQgY29uc3QgTkVYVF9BQ1RJT05fTk9UX0ZPVU5EX0hFQURFUiA9ICd4LW5leHRqcy1hY3Rpb24tbm90LWZvdW5kJyBhcyBjb25zdFxuIl0sIm5hbWVzIjpbIlJTQ19IRUFERVIiLCJBQ1RJT05fSEVBREVSIiwiTkVYVF9ST1VURVJfU1RBVEVfVFJFRV9IRUFERVIiLCJORVhUX1JPVVRFUl9QUkVGRVRDSF9IRUFERVIiLCJORVhUX1JPVVRFUl9TRUdNRU5UX1BSRUZFVENIX0hFQURFUiIsIk5FWFRfSE1SX1JFRlJFU0hfSEVBREVSIiwiTkVYVF9ITVJfUkVGUkVTSF9IQVNIX0NPT0tJRSIsIk5FWFRfVVJMIiwiUlNDX0NPTlRFTlRfVFlQRV9IRUFERVIiLCJGTElHSFRfSEVBREVSUyIsIk5FWFRfUlNDX1VOSU9OX1FVRVJZIiwiTkVYVF9ST1VURVJfU1RBTEVfVElNRV9IRUFERVIiLCJORVhUX0RJRF9QT1NUUE9ORV9IRUFERVIiLCJORVhUX1JFV1JJVFRFTl9QQVRIX0hFQURFUiIsIk5FWFRfUkVXUklUVEVOX1FVRVJZX0hFQURFUiIsIk5FWFRfSVNfUFJFUkVOREVSX0hFQURFUiIsIk5FWFRfQUNUSU9OX05PVF9GT1VORF9IRUFERVIiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(shared)/./node_modules/next/dist/esm/client/components/app-router-headers.js\n");

/***/ }),

/***/ "(shared)/./node_modules/next/dist/esm/server/app-render/action-async-storage-instance.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/app-render/action-async-storage-instance.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   actionAsyncStorageInstance: () => (/* binding */ actionAsyncStorageInstance)\n/* harmony export */ });\n/* harmony import */ var _async_local_storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./async-local-storage */ \"(shared)/./node_modules/next/dist/esm/server/app-render/async-local-storage.js\");\n\nconst actionAsyncStorageInstance = (0,_async_local_storage__WEBPACK_IMPORTED_MODULE_0__.createAsyncLocalStorage)();\n\n//# sourceMappingURL=action-async-storage-instance.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNoYXJlZCkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2VzbS9zZXJ2ZXIvYXBwLXJlbmRlci9hY3Rpb24tYXN5bmMtc3RvcmFnZS1pbnN0YW5jZS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFnRTtBQUN6RCxtQ0FBbUMsNkVBQXVCOztBQUVqRSIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcbmV4dFxcZGlzdFxcZXNtXFxzZXJ2ZXJcXGFwcC1yZW5kZXJcXGFjdGlvbi1hc3luYy1zdG9yYWdlLWluc3RhbmNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUFzeW5jTG9jYWxTdG9yYWdlIH0gZnJvbSAnLi9hc3luYy1sb2NhbC1zdG9yYWdlJztcbmV4cG9ydCBjb25zdCBhY3Rpb25Bc3luY1N0b3JhZ2VJbnN0YW5jZSA9IGNyZWF0ZUFzeW5jTG9jYWxTdG9yYWdlKCk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFjdGlvbi1hc3luYy1zdG9yYWdlLWluc3RhbmNlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(shared)/./node_modules/next/dist/esm/server/app-render/action-async-storage-instance.js\n");

/***/ }),

/***/ "(shared)/./node_modules/next/dist/esm/server/app-render/action-async-storage.external.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/app-render/action-async-storage.external.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   actionAsyncStorage: () => (/* reexport safe */ _action_async_storage_instance__WEBPACK_IMPORTED_MODULE_0__.actionAsyncStorageInstance)\n/* harmony export */ });\n/* harmony import */ var _action_async_storage_instance__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./action-async-storage-instance */ \"(shared)/./node_modules/next/dist/esm/server/app-render/action-async-storage-instance.js\");\n// Share the instance module in the next-shared layer\n\n\n\n//# sourceMappingURL=action-async-storage.external.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNoYXJlZCkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2VzbS9zZXJ2ZXIvYXBwLXJlbmRlci9hY3Rpb24tYXN5bmMtc3RvcmFnZS5leHRlcm5hbC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBR0U7QUFDMEQ7O0FBRTVEIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxuZXh0XFxkaXN0XFxlc21cXHNlcnZlclxcYXBwLXJlbmRlclxcYWN0aW9uLWFzeW5jLXN0b3JhZ2UuZXh0ZXJuYWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gU2hhcmUgdGhlIGluc3RhbmNlIG1vZHVsZSBpbiB0aGUgbmV4dC1zaGFyZWQgbGF5ZXJcbmltcG9ydCB7IGFjdGlvbkFzeW5jU3RvcmFnZUluc3RhbmNlIH0gZnJvbSAnLi9hY3Rpb24tYXN5bmMtc3RvcmFnZS1pbnN0YW5jZScgd2l0aCB7XG4gICAgJ3R1cmJvcGFjay10cmFuc2l0aW9uJzogJ25leHQtc2hhcmVkJ1xufTtcbmV4cG9ydCB7IGFjdGlvbkFzeW5jU3RvcmFnZUluc3RhbmNlIGFzIGFjdGlvbkFzeW5jU3RvcmFnZSB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hY3Rpb24tYXN5bmMtc3RvcmFnZS5leHRlcm5hbC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(shared)/./node_modules/next/dist/esm/server/app-render/action-async-storage.external.js\n");

/***/ }),

/***/ "(shared)/./node_modules/next/dist/esm/server/app-render/async-local-storage.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/app-render/async-local-storage.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   bindSnapshot: () => (/* binding */ bindSnapshot),\n/* harmony export */   createAsyncLocalStorage: () => (/* binding */ createAsyncLocalStorage),\n/* harmony export */   createSnapshot: () => (/* binding */ createSnapshot)\n/* harmony export */ });\nconst sharedAsyncLocalStorageNotAvailableError = Object.defineProperty(new Error('Invariant: AsyncLocalStorage accessed in runtime where it is not available'), \"__NEXT_ERROR_CODE\", {\n    value: \"E504\",\n    enumerable: false,\n    configurable: true\n});\nclass FakeAsyncLocalStorage {\n    disable() {\n        throw sharedAsyncLocalStorageNotAvailableError;\n    }\n    getStore() {\n        // This fake implementation of AsyncLocalStorage always returns `undefined`.\n        return undefined;\n    }\n    run() {\n        throw sharedAsyncLocalStorageNotAvailableError;\n    }\n    exit() {\n        throw sharedAsyncLocalStorageNotAvailableError;\n    }\n    enterWith() {\n        throw sharedAsyncLocalStorageNotAvailableError;\n    }\n    static bind(fn) {\n        return fn;\n    }\n}\nconst maybeGlobalAsyncLocalStorage = typeof globalThis !== 'undefined' && globalThis.AsyncLocalStorage;\nfunction createAsyncLocalStorage() {\n    if (maybeGlobalAsyncLocalStorage) {\n        return new maybeGlobalAsyncLocalStorage();\n    }\n    return new FakeAsyncLocalStorage();\n}\nfunction bindSnapshot(fn) {\n    if (maybeGlobalAsyncLocalStorage) {\n        return maybeGlobalAsyncLocalStorage.bind(fn);\n    }\n    return FakeAsyncLocalStorage.bind(fn);\n}\nfunction createSnapshot() {\n    if (maybeGlobalAsyncLocalStorage) {\n        return maybeGlobalAsyncLocalStorage.snapshot();\n    }\n    return function(fn, ...args) {\n        return fn(...args);\n    };\n}\n\n//# sourceMappingURL=async-local-storage.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNoYXJlZCkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2VzbS9zZXJ2ZXIvYXBwLXJlbmRlci9hc3luYy1sb2NhbC1zdG9yYWdlLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcbmV4dFxcZGlzdFxcZXNtXFxzZXJ2ZXJcXGFwcC1yZW5kZXJcXGFzeW5jLWxvY2FsLXN0b3JhZ2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgc2hhcmVkQXN5bmNMb2NhbFN0b3JhZ2VOb3RBdmFpbGFibGVFcnJvciA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXcgRXJyb3IoJ0ludmFyaWFudDogQXN5bmNMb2NhbFN0b3JhZ2UgYWNjZXNzZWQgaW4gcnVudGltZSB3aGVyZSBpdCBpcyBub3QgYXZhaWxhYmxlJyksIFwiX19ORVhUX0VSUk9SX0NPREVcIiwge1xuICAgIHZhbHVlOiBcIkU1MDRcIixcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbn0pO1xuY2xhc3MgRmFrZUFzeW5jTG9jYWxTdG9yYWdlIHtcbiAgICBkaXNhYmxlKCkge1xuICAgICAgICB0aHJvdyBzaGFyZWRBc3luY0xvY2FsU3RvcmFnZU5vdEF2YWlsYWJsZUVycm9yO1xuICAgIH1cbiAgICBnZXRTdG9yZSgpIHtcbiAgICAgICAgLy8gVGhpcyBmYWtlIGltcGxlbWVudGF0aW9uIG9mIEFzeW5jTG9jYWxTdG9yYWdlIGFsd2F5cyByZXR1cm5zIGB1bmRlZmluZWRgLlxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBydW4oKSB7XG4gICAgICAgIHRocm93IHNoYXJlZEFzeW5jTG9jYWxTdG9yYWdlTm90QXZhaWxhYmxlRXJyb3I7XG4gICAgfVxuICAgIGV4aXQoKSB7XG4gICAgICAgIHRocm93IHNoYXJlZEFzeW5jTG9jYWxTdG9yYWdlTm90QXZhaWxhYmxlRXJyb3I7XG4gICAgfVxuICAgIGVudGVyV2l0aCgpIHtcbiAgICAgICAgdGhyb3cgc2hhcmVkQXN5bmNMb2NhbFN0b3JhZ2VOb3RBdmFpbGFibGVFcnJvcjtcbiAgICB9XG4gICAgc3RhdGljIGJpbmQoZm4pIHtcbiAgICAgICAgcmV0dXJuIGZuO1xuICAgIH1cbn1cbmNvbnN0IG1heWJlR2xvYmFsQXN5bmNMb2NhbFN0b3JhZ2UgPSB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgJiYgZ2xvYmFsVGhpcy5Bc3luY0xvY2FsU3RvcmFnZTtcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVBc3luY0xvY2FsU3RvcmFnZSgpIHtcbiAgICBpZiAobWF5YmVHbG9iYWxBc3luY0xvY2FsU3RvcmFnZSkge1xuICAgICAgICByZXR1cm4gbmV3IG1heWJlR2xvYmFsQXN5bmNMb2NhbFN0b3JhZ2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBGYWtlQXN5bmNMb2NhbFN0b3JhZ2UoKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBiaW5kU25hcHNob3QoZm4pIHtcbiAgICBpZiAobWF5YmVHbG9iYWxBc3luY0xvY2FsU3RvcmFnZSkge1xuICAgICAgICByZXR1cm4gbWF5YmVHbG9iYWxBc3luY0xvY2FsU3RvcmFnZS5iaW5kKGZuKTtcbiAgICB9XG4gICAgcmV0dXJuIEZha2VBc3luY0xvY2FsU3RvcmFnZS5iaW5kKGZuKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTbmFwc2hvdCgpIHtcbiAgICBpZiAobWF5YmVHbG9iYWxBc3luY0xvY2FsU3RvcmFnZSkge1xuICAgICAgICByZXR1cm4gbWF5YmVHbG9iYWxBc3luY0xvY2FsU3RvcmFnZS5zbmFwc2hvdCgpO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24oZm4sIC4uLmFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIGZuKC4uLmFyZ3MpO1xuICAgIH07XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFzeW5jLWxvY2FsLXN0b3JhZ2UuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(shared)/./node_modules/next/dist/esm/server/app-render/async-local-storage.js\n");

/***/ }),

/***/ "(shared)/./node_modules/next/dist/esm/server/app-render/work-async-storage-instance.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/app-render/work-async-storage-instance.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   workAsyncStorageInstance: () => (/* binding */ workAsyncStorageInstance)\n/* harmony export */ });\n/* harmony import */ var _async_local_storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./async-local-storage */ \"(shared)/./node_modules/next/dist/esm/server/app-render/async-local-storage.js\");\n\nconst workAsyncStorageInstance = (0,_async_local_storage__WEBPACK_IMPORTED_MODULE_0__.createAsyncLocalStorage)();\n\n//# sourceMappingURL=work-async-storage-instance.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNoYXJlZCkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2VzbS9zZXJ2ZXIvYXBwLXJlbmRlci93b3JrLWFzeW5jLXN0b3JhZ2UtaW5zdGFuY2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBZ0U7QUFDekQsaUNBQWlDLDZFQUF1Qjs7QUFFL0QiLCJzb3VyY2VzIjpbIkQ6XFxTaGl2XFxIYWNrVVREXFxDaXZpYy1MaW5rXFxub2RlX21vZHVsZXNcXG5leHRcXGRpc3RcXGVzbVxcc2VydmVyXFxhcHAtcmVuZGVyXFx3b3JrLWFzeW5jLXN0b3JhZ2UtaW5zdGFuY2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQXN5bmNMb2NhbFN0b3JhZ2UgfSBmcm9tICcuL2FzeW5jLWxvY2FsLXN0b3JhZ2UnO1xuZXhwb3J0IGNvbnN0IHdvcmtBc3luY1N0b3JhZ2VJbnN0YW5jZSA9IGNyZWF0ZUFzeW5jTG9jYWxTdG9yYWdlKCk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdvcmstYXN5bmMtc3RvcmFnZS1pbnN0YW5jZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(shared)/./node_modules/next/dist/esm/server/app-render/work-async-storage-instance.js\n");

/***/ }),

/***/ "(shared)/./node_modules/next/dist/esm/server/app-render/work-async-storage.external.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/app-render/work-async-storage.external.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   workAsyncStorage: () => (/* reexport safe */ _work_async_storage_instance__WEBPACK_IMPORTED_MODULE_0__.workAsyncStorageInstance)\n/* harmony export */ });\n/* harmony import */ var _work_async_storage_instance__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./work-async-storage-instance */ \"(shared)/./node_modules/next/dist/esm/server/app-render/work-async-storage-instance.js\");\n// Share the instance module in the next-shared layer\n\n\n\n//# sourceMappingURL=work-async-storage.external.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNoYXJlZCkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2VzbS9zZXJ2ZXIvYXBwLXJlbmRlci93b3JrLWFzeW5jLXN0b3JhZ2UuZXh0ZXJuYWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUdFO0FBQ3NEOztBQUV4RCIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcbmV4dFxcZGlzdFxcZXNtXFxzZXJ2ZXJcXGFwcC1yZW5kZXJcXHdvcmstYXN5bmMtc3RvcmFnZS5leHRlcm5hbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBTaGFyZSB0aGUgaW5zdGFuY2UgbW9kdWxlIGluIHRoZSBuZXh0LXNoYXJlZCBsYXllclxuaW1wb3J0IHsgd29ya0FzeW5jU3RvcmFnZUluc3RhbmNlIH0gZnJvbSAnLi93b3JrLWFzeW5jLXN0b3JhZ2UtaW5zdGFuY2UnIHdpdGgge1xuICAgICd0dXJib3BhY2stdHJhbnNpdGlvbic6ICduZXh0LXNoYXJlZCdcbn07XG5leHBvcnQgeyB3b3JrQXN5bmNTdG9yYWdlSW5zdGFuY2UgYXMgd29ya0FzeW5jU3RvcmFnZSB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD13b3JrLWFzeW5jLXN0b3JhZ2UuZXh0ZXJuYWwuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(shared)/./node_modules/next/dist/esm/server/app-render/work-async-storage.external.js\n");

/***/ }),

/***/ "(shared)/./node_modules/next/dist/esm/server/app-render/work-unit-async-storage-instance.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/app-render/work-unit-async-storage-instance.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   workUnitAsyncStorageInstance: () => (/* binding */ workUnitAsyncStorageInstance)\n/* harmony export */ });\n/* harmony import */ var _async_local_storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./async-local-storage */ \"(shared)/./node_modules/next/dist/esm/server/app-render/async-local-storage.js\");\n\nconst workUnitAsyncStorageInstance = (0,_async_local_storage__WEBPACK_IMPORTED_MODULE_0__.createAsyncLocalStorage)();\n\n//# sourceMappingURL=work-unit-async-storage-instance.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNoYXJlZCkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2VzbS9zZXJ2ZXIvYXBwLXJlbmRlci93b3JrLXVuaXQtYXN5bmMtc3RvcmFnZS1pbnN0YW5jZS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFnRTtBQUN6RCxxQ0FBcUMsNkVBQXVCOztBQUVuRSIsInNvdXJjZXMiOlsiRDpcXFNoaXZcXEhhY2tVVERcXENpdmljLUxpbmtcXG5vZGVfbW9kdWxlc1xcbmV4dFxcZGlzdFxcZXNtXFxzZXJ2ZXJcXGFwcC1yZW5kZXJcXHdvcmstdW5pdC1hc3luYy1zdG9yYWdlLWluc3RhbmNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUFzeW5jTG9jYWxTdG9yYWdlIH0gZnJvbSAnLi9hc3luYy1sb2NhbC1zdG9yYWdlJztcbmV4cG9ydCBjb25zdCB3b3JrVW5pdEFzeW5jU3RvcmFnZUluc3RhbmNlID0gY3JlYXRlQXN5bmNMb2NhbFN0b3JhZ2UoKTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d29yay11bml0LWFzeW5jLXN0b3JhZ2UtaW5zdGFuY2UuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(shared)/./node_modules/next/dist/esm/server/app-render/work-unit-async-storage-instance.js\n");

/***/ }),

/***/ "(shared)/./node_modules/next/dist/esm/server/app-render/work-unit-async-storage.external.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/next/dist/esm/server/app-render/work-unit-async-storage.external.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getCacheSignal: () => (/* binding */ getCacheSignal),\n/* harmony export */   getDraftModeProviderForCacheScope: () => (/* binding */ getDraftModeProviderForCacheScope),\n/* harmony export */   getHmrRefreshHash: () => (/* binding */ getHmrRefreshHash),\n/* harmony export */   getPrerenderResumeDataCache: () => (/* binding */ getPrerenderResumeDataCache),\n/* harmony export */   getRenderResumeDataCache: () => (/* binding */ getRenderResumeDataCache),\n/* harmony export */   getRuntimeStagePromise: () => (/* binding */ getRuntimeStagePromise),\n/* harmony export */   getServerComponentsHmrCache: () => (/* binding */ getServerComponentsHmrCache),\n/* harmony export */   isHmrRefresh: () => (/* binding */ isHmrRefresh),\n/* harmony export */   throwForMissingRequestStore: () => (/* binding */ throwForMissingRequestStore),\n/* harmony export */   throwInvariantForMissingStore: () => (/* binding */ throwInvariantForMissingStore),\n/* harmony export */   workUnitAsyncStorage: () => (/* reexport safe */ _work_unit_async_storage_instance__WEBPACK_IMPORTED_MODULE_0__.workUnitAsyncStorageInstance)\n/* harmony export */ });\n/* harmony import */ var _work_unit_async_storage_instance__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./work-unit-async-storage-instance */ \"(shared)/./node_modules/next/dist/esm/server/app-render/work-unit-async-storage-instance.js\");\n/* harmony import */ var _client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../client/components/app-router-headers */ \"(shared)/./node_modules/next/dist/esm/client/components/app-router-headers.js\");\n/* harmony import */ var _shared_lib_invariant_error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shared/lib/invariant-error */ \"(shared)/./node_modules/next/dist/esm/shared/lib/invariant-error.js\");\n// Share the instance module in the next-shared layer\n\n\n\n\nfunction throwForMissingRequestStore(callingExpression) {\n    throw Object.defineProperty(new Error(`\\`${callingExpression}\\` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context`), \"__NEXT_ERROR_CODE\", {\n        value: \"E251\",\n        enumerable: false,\n        configurable: true\n    });\n}\nfunction throwInvariantForMissingStore() {\n    throw Object.defineProperty(new _shared_lib_invariant_error__WEBPACK_IMPORTED_MODULE_2__.InvariantError('Expected workUnitAsyncStorage to have a store.'), \"__NEXT_ERROR_CODE\", {\n        value: \"E696\",\n        enumerable: false,\n        configurable: true\n    });\n}\nfunction getPrerenderResumeDataCache(workUnitStore) {\n    switch(workUnitStore.type){\n        case 'prerender':\n        case 'prerender-runtime':\n        case 'prerender-ppr':\n            return workUnitStore.prerenderResumeDataCache;\n        case 'prerender-client':\n            // TODO eliminate fetch caching in client scope and stop exposing this data\n            // cache during SSR.\n            return workUnitStore.prerenderResumeDataCache;\n        case 'prerender-legacy':\n        case 'request':\n        case 'cache':\n        case 'private-cache':\n        case 'unstable-cache':\n            return null;\n        default:\n            return workUnitStore;\n    }\n}\nfunction getRenderResumeDataCache(workUnitStore) {\n    switch(workUnitStore.type){\n        case 'request':\n            return workUnitStore.renderResumeDataCache;\n        case 'prerender':\n        case 'prerender-runtime':\n        case 'prerender-client':\n            if (workUnitStore.renderResumeDataCache) {\n                // If we are in a prerender, we might have a render resume data cache\n                // that is used to read from prefilled caches.\n                return workUnitStore.renderResumeDataCache;\n            }\n        // fallthrough\n        case 'prerender-ppr':\n            // Otherwise we return the mutable resume data cache here as an immutable\n            // version of the cache as it can also be used for reading.\n            return workUnitStore.prerenderResumeDataCache;\n        case 'cache':\n        case 'private-cache':\n        case 'unstable-cache':\n        case 'prerender-legacy':\n            return null;\n        default:\n            return workUnitStore;\n    }\n}\nfunction getHmrRefreshHash(workStore, workUnitStore) {\n    if (workStore.dev) {\n        switch(workUnitStore.type){\n            case 'cache':\n            case 'private-cache':\n            case 'prerender':\n            case 'prerender-runtime':\n                return workUnitStore.hmrRefreshHash;\n            case 'request':\n                var _workUnitStore_cookies_get;\n                return (_workUnitStore_cookies_get = workUnitStore.cookies.get(_client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_1__.NEXT_HMR_REFRESH_HASH_COOKIE)) == null ? void 0 : _workUnitStore_cookies_get.value;\n            case 'prerender-client':\n            case 'prerender-ppr':\n            case 'prerender-legacy':\n            case 'unstable-cache':\n                break;\n            default:\n                workUnitStore;\n        }\n    }\n    return undefined;\n}\nfunction isHmrRefresh(workStore, workUnitStore) {\n    if (workStore.dev) {\n        switch(workUnitStore.type){\n            case 'cache':\n            case 'private-cache':\n            case 'request':\n                return workUnitStore.isHmrRefresh ?? false;\n            case 'prerender':\n            case 'prerender-client':\n            case 'prerender-runtime':\n            case 'prerender-ppr':\n            case 'prerender-legacy':\n            case 'unstable-cache':\n                break;\n            default:\n                workUnitStore;\n        }\n    }\n    return false;\n}\nfunction getServerComponentsHmrCache(workStore, workUnitStore) {\n    if (workStore.dev) {\n        switch(workUnitStore.type){\n            case 'cache':\n            case 'private-cache':\n            case 'request':\n                return workUnitStore.serverComponentsHmrCache;\n            case 'prerender':\n            case 'prerender-client':\n            case 'prerender-runtime':\n            case 'prerender-ppr':\n            case 'prerender-legacy':\n            case 'unstable-cache':\n                break;\n            default:\n                workUnitStore;\n        }\n    }\n    return undefined;\n}\n/**\n * Returns a draft mode provider only if draft mode is enabled.\n */ function getDraftModeProviderForCacheScope(workStore, workUnitStore) {\n    if (workStore.isDraftMode) {\n        switch(workUnitStore.type){\n            case 'cache':\n            case 'private-cache':\n            case 'unstable-cache':\n            case 'prerender-runtime':\n            case 'request':\n                return workUnitStore.draftMode;\n            case 'prerender':\n            case 'prerender-client':\n            case 'prerender-ppr':\n            case 'prerender-legacy':\n                break;\n            default:\n                workUnitStore;\n        }\n    }\n    return undefined;\n}\nfunction getCacheSignal(workUnitStore) {\n    switch(workUnitStore.type){\n        case 'prerender':\n        case 'prerender-client':\n        case 'prerender-runtime':\n            return workUnitStore.cacheSignal;\n        case 'prerender-ppr':\n        case 'prerender-legacy':\n        case 'request':\n        case 'cache':\n        case 'private-cache':\n        case 'unstable-cache':\n            return null;\n        default:\n            return workUnitStore;\n    }\n}\nfunction getRuntimeStagePromise(workUnitStore) {\n    switch(workUnitStore.type){\n        case 'prerender-runtime':\n        case 'private-cache':\n            return workUnitStore.runtimeStagePromise;\n        case 'prerender':\n        case 'prerender-client':\n        case 'prerender-ppr':\n        case 'prerender-legacy':\n        case 'request':\n        case 'cache':\n        case 'unstable-cache':\n            return null;\n        default:\n            return workUnitStore;\n    }\n}\n\n//# sourceMappingURL=work-unit-async-storage.external.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNoYXJlZCkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2VzbS9zZXJ2ZXIvYXBwLXJlbmRlci93b3JrLXVuaXQtYXN5bmMtc3RvcmFnZS5leHRlcm5hbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBR0U7QUFDd0Y7QUFDeEI7QUFDRjtBQUN6RDtBQUNQLCtDQUErQyxrQkFBa0I7QUFDakU7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ087QUFDUCxvQ0FBb0MsdUVBQWM7QUFDbEQ7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtFQUErRSwrRkFBNEI7QUFDM0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJEOlxcU2hpdlxcSGFja1VURFxcQ2l2aWMtTGlua1xcbm9kZV9tb2R1bGVzXFxuZXh0XFxkaXN0XFxlc21cXHNlcnZlclxcYXBwLXJlbmRlclxcd29yay11bml0LWFzeW5jLXN0b3JhZ2UuZXh0ZXJuYWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gU2hhcmUgdGhlIGluc3RhbmNlIG1vZHVsZSBpbiB0aGUgbmV4dC1zaGFyZWQgbGF5ZXJcbmltcG9ydCB7IHdvcmtVbml0QXN5bmNTdG9yYWdlSW5zdGFuY2UgfSBmcm9tICcuL3dvcmstdW5pdC1hc3luYy1zdG9yYWdlLWluc3RhbmNlJyB3aXRoIHtcbiAgICAndHVyYm9wYWNrLXRyYW5zaXRpb24nOiAnbmV4dC1zaGFyZWQnXG59O1xuaW1wb3J0IHsgTkVYVF9ITVJfUkVGUkVTSF9IQVNIX0NPT0tJRSB9IGZyb20gJy4uLy4uL2NsaWVudC9jb21wb25lbnRzL2FwcC1yb3V0ZXItaGVhZGVycyc7XG5pbXBvcnQgeyBJbnZhcmlhbnRFcnJvciB9IGZyb20gJy4uLy4uL3NoYXJlZC9saWIvaW52YXJpYW50LWVycm9yJztcbmV4cG9ydCB7IHdvcmtVbml0QXN5bmNTdG9yYWdlSW5zdGFuY2UgYXMgd29ya1VuaXRBc3luY1N0b3JhZ2UgfTtcbmV4cG9ydCBmdW5jdGlvbiB0aHJvd0Zvck1pc3NpbmdSZXF1ZXN0U3RvcmUoY2FsbGluZ0V4cHJlc3Npb24pIHtcbiAgICB0aHJvdyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3IEVycm9yKGBcXGAke2NhbGxpbmdFeHByZXNzaW9ufVxcYCB3YXMgY2FsbGVkIG91dHNpZGUgYSByZXF1ZXN0IHNjb3BlLiBSZWFkIG1vcmU6IGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL21lc3NhZ2VzL25leHQtZHluYW1pYy1hcGktd3JvbmctY29udGV4dGApLCBcIl9fTkVYVF9FUlJPUl9DT0RFXCIsIHtcbiAgICAgICAgdmFsdWU6IFwiRTI1MVwiLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gdGhyb3dJbnZhcmlhbnRGb3JNaXNzaW5nU3RvcmUoKSB7XG4gICAgdGhyb3cgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ldyBJbnZhcmlhbnRFcnJvcignRXhwZWN0ZWQgd29ya1VuaXRBc3luY1N0b3JhZ2UgdG8gaGF2ZSBhIHN0b3JlLicpLCBcIl9fTkVYVF9FUlJPUl9DT0RFXCIsIHtcbiAgICAgICAgdmFsdWU6IFwiRTY5NlwiLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJlcmVuZGVyUmVzdW1lRGF0YUNhY2hlKHdvcmtVbml0U3RvcmUpIHtcbiAgICBzd2l0Y2god29ya1VuaXRTdG9yZS50eXBlKXtcbiAgICAgICAgY2FzZSAncHJlcmVuZGVyJzpcbiAgICAgICAgY2FzZSAncHJlcmVuZGVyLXJ1bnRpbWUnOlxuICAgICAgICBjYXNlICdwcmVyZW5kZXItcHByJzpcbiAgICAgICAgICAgIHJldHVybiB3b3JrVW5pdFN0b3JlLnByZXJlbmRlclJlc3VtZURhdGFDYWNoZTtcbiAgICAgICAgY2FzZSAncHJlcmVuZGVyLWNsaWVudCc6XG4gICAgICAgICAgICAvLyBUT0RPIGVsaW1pbmF0ZSBmZXRjaCBjYWNoaW5nIGluIGNsaWVudCBzY29wZSBhbmQgc3RvcCBleHBvc2luZyB0aGlzIGRhdGFcbiAgICAgICAgICAgIC8vIGNhY2hlIGR1cmluZyBTU1IuXG4gICAgICAgICAgICByZXR1cm4gd29ya1VuaXRTdG9yZS5wcmVyZW5kZXJSZXN1bWVEYXRhQ2FjaGU7XG4gICAgICAgIGNhc2UgJ3ByZXJlbmRlci1sZWdhY3knOlxuICAgICAgICBjYXNlICdyZXF1ZXN0JzpcbiAgICAgICAgY2FzZSAnY2FjaGUnOlxuICAgICAgICBjYXNlICdwcml2YXRlLWNhY2hlJzpcbiAgICAgICAgY2FzZSAndW5zdGFibGUtY2FjaGUnOlxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gd29ya1VuaXRTdG9yZTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVuZGVyUmVzdW1lRGF0YUNhY2hlKHdvcmtVbml0U3RvcmUpIHtcbiAgICBzd2l0Y2god29ya1VuaXRTdG9yZS50eXBlKXtcbiAgICAgICAgY2FzZSAncmVxdWVzdCc6XG4gICAgICAgICAgICByZXR1cm4gd29ya1VuaXRTdG9yZS5yZW5kZXJSZXN1bWVEYXRhQ2FjaGU7XG4gICAgICAgIGNhc2UgJ3ByZXJlbmRlcic6XG4gICAgICAgIGNhc2UgJ3ByZXJlbmRlci1ydW50aW1lJzpcbiAgICAgICAgY2FzZSAncHJlcmVuZGVyLWNsaWVudCc6XG4gICAgICAgICAgICBpZiAod29ya1VuaXRTdG9yZS5yZW5kZXJSZXN1bWVEYXRhQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSBhcmUgaW4gYSBwcmVyZW5kZXIsIHdlIG1pZ2h0IGhhdmUgYSByZW5kZXIgcmVzdW1lIGRhdGEgY2FjaGVcbiAgICAgICAgICAgICAgICAvLyB0aGF0IGlzIHVzZWQgdG8gcmVhZCBmcm9tIHByZWZpbGxlZCBjYWNoZXMuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHdvcmtVbml0U3RvcmUucmVuZGVyUmVzdW1lRGF0YUNhY2hlO1xuICAgICAgICAgICAgfVxuICAgICAgICAvLyBmYWxsdGhyb3VnaFxuICAgICAgICBjYXNlICdwcmVyZW5kZXItcHByJzpcbiAgICAgICAgICAgIC8vIE90aGVyd2lzZSB3ZSByZXR1cm4gdGhlIG11dGFibGUgcmVzdW1lIGRhdGEgY2FjaGUgaGVyZSBhcyBhbiBpbW11dGFibGVcbiAgICAgICAgICAgIC8vIHZlcnNpb24gb2YgdGhlIGNhY2hlIGFzIGl0IGNhbiBhbHNvIGJlIHVzZWQgZm9yIHJlYWRpbmcuXG4gICAgICAgICAgICByZXR1cm4gd29ya1VuaXRTdG9yZS5wcmVyZW5kZXJSZXN1bWVEYXRhQ2FjaGU7XG4gICAgICAgIGNhc2UgJ2NhY2hlJzpcbiAgICAgICAgY2FzZSAncHJpdmF0ZS1jYWNoZSc6XG4gICAgICAgIGNhc2UgJ3Vuc3RhYmxlLWNhY2hlJzpcbiAgICAgICAgY2FzZSAncHJlcmVuZGVyLWxlZ2FjeSc6XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiB3b3JrVW5pdFN0b3JlO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRIbXJSZWZyZXNoSGFzaCh3b3JrU3RvcmUsIHdvcmtVbml0U3RvcmUpIHtcbiAgICBpZiAod29ya1N0b3JlLmRldikge1xuICAgICAgICBzd2l0Y2god29ya1VuaXRTdG9yZS50eXBlKXtcbiAgICAgICAgICAgIGNhc2UgJ2NhY2hlJzpcbiAgICAgICAgICAgIGNhc2UgJ3ByaXZhdGUtY2FjaGUnOlxuICAgICAgICAgICAgY2FzZSAncHJlcmVuZGVyJzpcbiAgICAgICAgICAgIGNhc2UgJ3ByZXJlbmRlci1ydW50aW1lJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gd29ya1VuaXRTdG9yZS5obXJSZWZyZXNoSGFzaDtcbiAgICAgICAgICAgIGNhc2UgJ3JlcXVlc3QnOlxuICAgICAgICAgICAgICAgIHZhciBfd29ya1VuaXRTdG9yZV9jb29raWVzX2dldDtcbiAgICAgICAgICAgICAgICByZXR1cm4gKF93b3JrVW5pdFN0b3JlX2Nvb2tpZXNfZ2V0ID0gd29ya1VuaXRTdG9yZS5jb29raWVzLmdldChORVhUX0hNUl9SRUZSRVNIX0hBU0hfQ09PS0lFKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF93b3JrVW5pdFN0b3JlX2Nvb2tpZXNfZ2V0LnZhbHVlO1xuICAgICAgICAgICAgY2FzZSAncHJlcmVuZGVyLWNsaWVudCc6XG4gICAgICAgICAgICBjYXNlICdwcmVyZW5kZXItcHByJzpcbiAgICAgICAgICAgIGNhc2UgJ3ByZXJlbmRlci1sZWdhY3knOlxuICAgICAgICAgICAgY2FzZSAndW5zdGFibGUtY2FjaGUnOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB3b3JrVW5pdFN0b3JlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNIbXJSZWZyZXNoKHdvcmtTdG9yZSwgd29ya1VuaXRTdG9yZSkge1xuICAgIGlmICh3b3JrU3RvcmUuZGV2KSB7XG4gICAgICAgIHN3aXRjaCh3b3JrVW5pdFN0b3JlLnR5cGUpe1xuICAgICAgICAgICAgY2FzZSAnY2FjaGUnOlxuICAgICAgICAgICAgY2FzZSAncHJpdmF0ZS1jYWNoZSc6XG4gICAgICAgICAgICBjYXNlICdyZXF1ZXN0JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gd29ya1VuaXRTdG9yZS5pc0htclJlZnJlc2ggPz8gZmFsc2U7XG4gICAgICAgICAgICBjYXNlICdwcmVyZW5kZXInOlxuICAgICAgICAgICAgY2FzZSAncHJlcmVuZGVyLWNsaWVudCc6XG4gICAgICAgICAgICBjYXNlICdwcmVyZW5kZXItcnVudGltZSc6XG4gICAgICAgICAgICBjYXNlICdwcmVyZW5kZXItcHByJzpcbiAgICAgICAgICAgIGNhc2UgJ3ByZXJlbmRlci1sZWdhY3knOlxuICAgICAgICAgICAgY2FzZSAndW5zdGFibGUtY2FjaGUnOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB3b3JrVW5pdFN0b3JlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZXJ2ZXJDb21wb25lbnRzSG1yQ2FjaGUod29ya1N0b3JlLCB3b3JrVW5pdFN0b3JlKSB7XG4gICAgaWYgKHdvcmtTdG9yZS5kZXYpIHtcbiAgICAgICAgc3dpdGNoKHdvcmtVbml0U3RvcmUudHlwZSl7XG4gICAgICAgICAgICBjYXNlICdjYWNoZSc6XG4gICAgICAgICAgICBjYXNlICdwcml2YXRlLWNhY2hlJzpcbiAgICAgICAgICAgIGNhc2UgJ3JlcXVlc3QnOlxuICAgICAgICAgICAgICAgIHJldHVybiB3b3JrVW5pdFN0b3JlLnNlcnZlckNvbXBvbmVudHNIbXJDYWNoZTtcbiAgICAgICAgICAgIGNhc2UgJ3ByZXJlbmRlcic6XG4gICAgICAgICAgICBjYXNlICdwcmVyZW5kZXItY2xpZW50JzpcbiAgICAgICAgICAgIGNhc2UgJ3ByZXJlbmRlci1ydW50aW1lJzpcbiAgICAgICAgICAgIGNhc2UgJ3ByZXJlbmRlci1wcHInOlxuICAgICAgICAgICAgY2FzZSAncHJlcmVuZGVyLWxlZ2FjeSc6XG4gICAgICAgICAgICBjYXNlICd1bnN0YWJsZS1jYWNoZSc6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHdvcmtVbml0U3RvcmU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbi8qKlxuICogUmV0dXJucyBhIGRyYWZ0IG1vZGUgcHJvdmlkZXIgb25seSBpZiBkcmFmdCBtb2RlIGlzIGVuYWJsZWQuXG4gKi8gZXhwb3J0IGZ1bmN0aW9uIGdldERyYWZ0TW9kZVByb3ZpZGVyRm9yQ2FjaGVTY29wZSh3b3JrU3RvcmUsIHdvcmtVbml0U3RvcmUpIHtcbiAgICBpZiAod29ya1N0b3JlLmlzRHJhZnRNb2RlKSB7XG4gICAgICAgIHN3aXRjaCh3b3JrVW5pdFN0b3JlLnR5cGUpe1xuICAgICAgICAgICAgY2FzZSAnY2FjaGUnOlxuICAgICAgICAgICAgY2FzZSAncHJpdmF0ZS1jYWNoZSc6XG4gICAgICAgICAgICBjYXNlICd1bnN0YWJsZS1jYWNoZSc6XG4gICAgICAgICAgICBjYXNlICdwcmVyZW5kZXItcnVudGltZSc6XG4gICAgICAgICAgICBjYXNlICdyZXF1ZXN0JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gd29ya1VuaXRTdG9yZS5kcmFmdE1vZGU7XG4gICAgICAgICAgICBjYXNlICdwcmVyZW5kZXInOlxuICAgICAgICAgICAgY2FzZSAncHJlcmVuZGVyLWNsaWVudCc6XG4gICAgICAgICAgICBjYXNlICdwcmVyZW5kZXItcHByJzpcbiAgICAgICAgICAgIGNhc2UgJ3ByZXJlbmRlci1sZWdhY3knOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB3b3JrVW5pdFN0b3JlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2FjaGVTaWduYWwod29ya1VuaXRTdG9yZSkge1xuICAgIHN3aXRjaCh3b3JrVW5pdFN0b3JlLnR5cGUpe1xuICAgICAgICBjYXNlICdwcmVyZW5kZXInOlxuICAgICAgICBjYXNlICdwcmVyZW5kZXItY2xpZW50JzpcbiAgICAgICAgY2FzZSAncHJlcmVuZGVyLXJ1bnRpbWUnOlxuICAgICAgICAgICAgcmV0dXJuIHdvcmtVbml0U3RvcmUuY2FjaGVTaWduYWw7XG4gICAgICAgIGNhc2UgJ3ByZXJlbmRlci1wcHInOlxuICAgICAgICBjYXNlICdwcmVyZW5kZXItbGVnYWN5JzpcbiAgICAgICAgY2FzZSAncmVxdWVzdCc6XG4gICAgICAgIGNhc2UgJ2NhY2hlJzpcbiAgICAgICAgY2FzZSAncHJpdmF0ZS1jYWNoZSc6XG4gICAgICAgIGNhc2UgJ3Vuc3RhYmxlLWNhY2hlJzpcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHdvcmtVbml0U3RvcmU7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFJ1bnRpbWVTdGFnZVByb21pc2Uod29ya1VuaXRTdG9yZSkge1xuICAgIHN3aXRjaCh3b3JrVW5pdFN0b3JlLnR5cGUpe1xuICAgICAgICBjYXNlICdwcmVyZW5kZXItcnVudGltZSc6XG4gICAgICAgIGNhc2UgJ3ByaXZhdGUtY2FjaGUnOlxuICAgICAgICAgICAgcmV0dXJuIHdvcmtVbml0U3RvcmUucnVudGltZVN0YWdlUHJvbWlzZTtcbiAgICAgICAgY2FzZSAncHJlcmVuZGVyJzpcbiAgICAgICAgY2FzZSAncHJlcmVuZGVyLWNsaWVudCc6XG4gICAgICAgIGNhc2UgJ3ByZXJlbmRlci1wcHInOlxuICAgICAgICBjYXNlICdwcmVyZW5kZXItbGVnYWN5JzpcbiAgICAgICAgY2FzZSAncmVxdWVzdCc6XG4gICAgICAgIGNhc2UgJ2NhY2hlJzpcbiAgICAgICAgY2FzZSAndW5zdGFibGUtY2FjaGUnOlxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gd29ya1VuaXRTdG9yZTtcbiAgICB9XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdvcmstdW5pdC1hc3luYy1zdG9yYWdlLmV4dGVybmFsLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(shared)/./node_modules/next/dist/esm/server/app-render/work-unit-async-storage.external.js\n");

/***/ }),

/***/ "(shared)/./node_modules/next/dist/esm/shared/lib/invariant-error.js":
/*!******************************************************************!*\
  !*** ./node_modules/next/dist/esm/shared/lib/invariant-error.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InvariantError: () => (/* binding */ InvariantError)\n/* harmony export */ });\nclass InvariantError extends Error {\n    constructor(message, options){\n        super(\"Invariant: \" + (message.endsWith('.') ? message : message + '.') + \" This is a bug in Next.js.\", options);\n        this.name = 'InvariantError';\n    }\n} //# sourceMappingURL=invariant-error.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNoYXJlZCkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2VzbS9zaGFyZWQvbGliL2ludmFyaWFudC1lcnJvci5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU8sTUFBTUEsdUJBQXVCQztJQUNsQ0MsWUFBWUMsT0FBZSxFQUFFQyxPQUFzQixDQUFFO1FBQ25ELEtBQUssQ0FDRixnQkFBYUQsQ0FBQUEsUUFBUUUsUUFBUSxDQUFDLE9BQU9GLFVBQVVBLFVBQVUsSUFBRSxHQUFFLDhCQUM5REM7UUFFRixJQUFJLENBQUNFLElBQUksR0FBRztJQUNkO0FBQ0YiLCJzb3VyY2VzIjpbIkQ6XFxzcmNcXHNoYXJlZFxcbGliXFxpbnZhcmlhbnQtZXJyb3IudHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIEludmFyaWFudEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcsIG9wdGlvbnM/OiBFcnJvck9wdGlvbnMpIHtcbiAgICBzdXBlcihcbiAgICAgIGBJbnZhcmlhbnQ6ICR7bWVzc2FnZS5lbmRzV2l0aCgnLicpID8gbWVzc2FnZSA6IG1lc3NhZ2UgKyAnLid9IFRoaXMgaXMgYSBidWcgaW4gTmV4dC5qcy5gLFxuICAgICAgb3B0aW9uc1xuICAgIClcbiAgICB0aGlzLm5hbWUgPSAnSW52YXJpYW50RXJyb3InXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJJbnZhcmlhbnRFcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwib3B0aW9ucyIsImVuZHNXaXRoIiwibmFtZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(shared)/./node_modules/next/dist/esm/shared/lib/invariant-error.js\n");

/***/ }),

/***/ "buffer":
/*!******************************!*\
  !*** external "node:buffer" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:buffer");

/***/ }),

/***/ "crypto":
/*!************************************************************!*\
  !*** external "globalThis.__import_unsupported('crypto')" ***!
  \************************************************************/
/***/ ((module) => {

"use strict";
module.exports = globalThis.__import_unsupported('crypto');

/***/ }),

/***/ "node:async_hooks":
/*!***********************************!*\
  !*** external "node:async_hooks" ***!
  \***********************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:async_hooks");

/***/ })

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ var __webpack_exports__ = (__webpack_exec__("(middleware)/./node_modules/next/dist/build/webpack/loaders/next-middleware-loader.js?absolutePagePath=D%3A%5CShiv%5CHackUTD%5CCivic-Link%5Cmiddleware.ts&page=%2Fmiddleware&rootDir=D%3A%5CShiv%5CHackUTD%5CCivic-Link&matchers=&preferredRegion=&middlewareConfig=e30%3D!"));
/******/ (_ENTRIES = typeof _ENTRIES === "undefined" ? {} : _ENTRIES).middleware_middleware = __webpack_exports__;
/******/ }
]);